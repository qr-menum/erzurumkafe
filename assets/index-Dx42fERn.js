(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var Dk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _p={exports:{}},Td={};var R2;function wx(){if(R2)return Td;R2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var d in s)d!=="key"&&(o[d]=s[d])}else o=s;return s=o.ref,{$$typeof:t,type:a,key:u,ref:s!==void 0?s:null,props:o}}return Td.Fragment=e,Td.jsx=n,Td.jsxs=n,Td}var O2;function xx(){return O2||(O2=1,_p.exports=wx()),_p.exports}var w=xx(),Sp={exports:{}},Yt={};var D2;function _x(){if(D2)return Yt;D2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),S=Symbol.iterator;function y(G){return G===null||typeof G!="object"?null:(G=S&&G[S]||G["@@iterator"],typeof G=="function"?G:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,k={};function N(G,L,F){this.props=G,this.context=L,this.refs=k,this.updater=F||E}N.prototype.isReactComponent={},N.prototype.setState=function(G,L){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,L,"setState")},N.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function D(){}D.prototype=N.prototype;function U(G,L,F){this.props=G,this.context=L,this.refs=k,this.updater=F||E}var M=U.prototype=new D;M.constructor=U,T(M,N.prototype),M.isPureReactComponent=!0;var re=Array.isArray;function de(){}var oe={H:null,A:null,T:null,S:null},Q=Object.prototype.hasOwnProperty;function q(G,L,F){var X=F.ref;return{$$typeof:t,type:G,key:L,ref:X!==void 0?X:null,props:F}}function ue(G,L){return q(G.type,L,G.props)}function B(G){return typeof G=="object"&&G!==null&&G.$$typeof===t}function K(G){var L={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(F){return L[F]})}var fe=/\/+/g;function se(G,L){return typeof G=="object"&&G!==null&&G.key!=null?K(""+G.key):L.toString(36)}function le(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(de,de):(G.status="pending",G.then(function(L){G.status==="pending"&&(G.status="fulfilled",G.value=L)},function(L){G.status==="pending"&&(G.status="rejected",G.reason=L)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function J(G,L,F,X,ie){var R=typeof G;(R==="undefined"||R==="boolean")&&(G=null);var V=!1;if(G===null)V=!0;else switch(R){case"bigint":case"string":case"number":V=!0;break;case"object":switch(G.$$typeof){case t:case e:V=!0;break;case g:return V=G._init,J(V(G._payload),L,F,X,ie)}}if(V)return ie=ie(G),V=X===""?"."+se(G,0):X,re(ie)?(F="",V!=null&&(F=V.replace(fe,"$&/")+"/"),J(ie,L,F,"",function(Ee){return Ee})):ie!=null&&(B(ie)&&(ie=ue(ie,F+(ie.key==null||G&&G.key===ie.key?"":(""+ie.key).replace(fe,"$&/")+"/")+V)),L.push(ie)),1;V=0;var pe=X===""?".":X+":";if(re(G))for(var ve=0;ve<G.length;ve++)X=G[ve],R=pe+se(X,ve),V+=J(X,L,F,R,ie);else if(ve=y(G),typeof ve=="function")for(G=ve.call(G),ve=0;!(X=G.next()).done;)X=X.value,R=pe+se(X,ve++),V+=J(X,L,F,R,ie);else if(R==="object"){if(typeof G.then=="function")return J(le(G),L,F,X,ie);throw L=String(G),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return V}function ee(G,L,F){if(G==null)return G;var X=[],ie=0;return J(G,X,"","",function(R){return L.call(F,R,ie++)}),X}function he(G){if(G._status===-1){var L=G._result;L=L(),L.then(function(F){(G._status===0||G._status===-1)&&(G._status=1,G._result=F)},function(F){(G._status===0||G._status===-1)&&(G._status=2,G._result=F)}),G._status===-1&&(G._status=0,G._result=L)}if(G._status===1)return G._result.default;throw G._result}var _e=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)},ze={map:ee,forEach:function(G,L,F){ee(G,function(){L.apply(this,arguments)},F)},count:function(G){var L=0;return ee(G,function(){L++}),L},toArray:function(G){return ee(G,function(L){return L})||[]},only:function(G){if(!B(G))throw Error("React.Children.only expected to receive a single React element child.");return G}};return Yt.Activity=x,Yt.Children=ze,Yt.Component=N,Yt.Fragment=n,Yt.Profiler=s,Yt.PureComponent=U,Yt.StrictMode=a,Yt.Suspense=f,Yt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=oe,Yt.__COMPILER_RUNTIME={__proto__:null,c:function(G){return oe.H.useMemoCache(G)}},Yt.cache=function(G){return function(){return G.apply(null,arguments)}},Yt.cacheSignal=function(){return null},Yt.cloneElement=function(G,L,F){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var X=T({},G.props),ie=G.key;if(L!=null)for(R in L.key!==void 0&&(ie=""+L.key),L)!Q.call(L,R)||R==="key"||R==="__self"||R==="__source"||R==="ref"&&L.ref===void 0||(X[R]=L[R]);var R=arguments.length-2;if(R===1)X.children=F;else if(1<R){for(var V=Array(R),pe=0;pe<R;pe++)V[pe]=arguments[pe+2];X.children=V}return q(G.type,ie,X)},Yt.createContext=function(G){return G={$$typeof:u,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:o,_context:G},G},Yt.createElement=function(G,L,F){var X,ie={},R=null;if(L!=null)for(X in L.key!==void 0&&(R=""+L.key),L)Q.call(L,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(ie[X]=L[X]);var V=arguments.length-2;if(V===1)ie.children=F;else if(1<V){for(var pe=Array(V),ve=0;ve<V;ve++)pe[ve]=arguments[ve+2];ie.children=pe}if(G&&G.defaultProps)for(X in V=G.defaultProps,V)ie[X]===void 0&&(ie[X]=V[X]);return q(G,R,ie)},Yt.createRef=function(){return{current:null}},Yt.forwardRef=function(G){return{$$typeof:d,render:G}},Yt.isValidElement=B,Yt.lazy=function(G){return{$$typeof:g,_payload:{_status:-1,_result:G},_init:he}},Yt.memo=function(G,L){return{$$typeof:h,type:G,compare:L===void 0?null:L}},Yt.startTransition=function(G){var L=oe.T,F={};oe.T=F;try{var X=G(),ie=oe.S;ie!==null&&ie(F,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(de,_e)}catch(R){_e(R)}finally{L!==null&&F.types!==null&&(L.types=F.types),oe.T=L}},Yt.unstable_useCacheRefresh=function(){return oe.H.useCacheRefresh()},Yt.use=function(G){return oe.H.use(G)},Yt.useActionState=function(G,L,F){return oe.H.useActionState(G,L,F)},Yt.useCallback=function(G,L){return oe.H.useCallback(G,L)},Yt.useContext=function(G){return oe.H.useContext(G)},Yt.useDebugValue=function(){},Yt.useDeferredValue=function(G,L){return oe.H.useDeferredValue(G,L)},Yt.useEffect=function(G,L){return oe.H.useEffect(G,L)},Yt.useEffectEvent=function(G){return oe.H.useEffectEvent(G)},Yt.useId=function(){return oe.H.useId()},Yt.useImperativeHandle=function(G,L,F){return oe.H.useImperativeHandle(G,L,F)},Yt.useInsertionEffect=function(G,L){return oe.H.useInsertionEffect(G,L)},Yt.useLayoutEffect=function(G,L){return oe.H.useLayoutEffect(G,L)},Yt.useMemo=function(G,L){return oe.H.useMemo(G,L)},Yt.useOptimistic=function(G,L){return oe.H.useOptimistic(G,L)},Yt.useReducer=function(G,L,F){return oe.H.useReducer(G,L,F)},Yt.useRef=function(G){return oe.H.useRef(G)},Yt.useState=function(G){return oe.H.useState(G)},Yt.useSyncExternalStore=function(G,L,F){return oe.H.useSyncExternalStore(G,L,F)},Yt.useTransition=function(){return oe.H.useTransition()},Yt.version="19.2.3",Yt}var M2;function H1(){return M2||(M2=1,Sp.exports=_x()),Sp.exports}var O=H1();const fr=vx(O);var Ap={exports:{}},Ld={},Ep={exports:{}},kp={};var z2;function Sx(){return z2||(z2=1,(function(t){function e(J,ee){var he=J.length;J.push(ee);e:for(;0<he;){var _e=he-1>>>1,ze=J[_e];if(0<s(ze,ee))J[_e]=ee,J[he]=ze,he=_e;else break e}}function n(J){return J.length===0?null:J[0]}function a(J){if(J.length===0)return null;var ee=J[0],he=J.pop();if(he!==ee){J[0]=he;e:for(var _e=0,ze=J.length,G=ze>>>1;_e<G;){var L=2*(_e+1)-1,F=J[L],X=L+1,ie=J[X];if(0>s(F,he))X<ze&&0>s(ie,F)?(J[_e]=ie,J[X]=he,_e=X):(J[_e]=F,J[L]=he,_e=L);else if(X<ze&&0>s(ie,he))J[_e]=ie,J[X]=he,_e=X;else break e}}return ee}function s(J,ee){var he=J.sortIndex-ee.sortIndex;return he!==0?he:J.id-ee.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var f=[],h=[],g=1,x=null,S=3,y=!1,E=!1,T=!1,k=!1,N=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function M(J){for(var ee=n(h);ee!==null;){if(ee.callback===null)a(h);else if(ee.startTime<=J)a(h),ee.sortIndex=ee.expirationTime,e(f,ee);else break;ee=n(h)}}function re(J){if(T=!1,M(J),!E)if(n(f)!==null)E=!0,de||(de=!0,K());else{var ee=n(h);ee!==null&&le(re,ee.startTime-J)}}var de=!1,oe=-1,Q=5,q=-1;function ue(){return k?!0:!(t.unstable_now()-q<Q)}function B(){if(k=!1,de){var J=t.unstable_now();q=J;var ee=!0;try{e:{E=!1,T&&(T=!1,D(oe),oe=-1),y=!0;var he=S;try{t:{for(M(J),x=n(f);x!==null&&!(x.expirationTime>J&&ue());){var _e=x.callback;if(typeof _e=="function"){x.callback=null,S=x.priorityLevel;var ze=_e(x.expirationTime<=J);if(J=t.unstable_now(),typeof ze=="function"){x.callback=ze,M(J),ee=!0;break t}x===n(f)&&a(f),M(J)}else a(f);x=n(f)}if(x!==null)ee=!0;else{var G=n(h);G!==null&&le(re,G.startTime-J),ee=!1}}break e}finally{x=null,S=he,y=!1}ee=void 0}}finally{ee?K():de=!1}}}var K;if(typeof U=="function")K=function(){U(B)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,se=fe.port2;fe.port1.onmessage=B,K=function(){se.postMessage(null)}}else K=function(){N(B,0)};function le(J,ee){oe=N(function(){J(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(J){switch(S){case 1:case 2:case 3:var ee=3;break;default:ee=S}var he=S;S=ee;try{return J()}finally{S=he}},t.unstable_requestPaint=function(){k=!0},t.unstable_runWithPriority=function(J,ee){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var he=S;S=J;try{return ee()}finally{S=he}},t.unstable_scheduleCallback=function(J,ee,he){var _e=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?_e+he:_e):he=_e,J){case 1:var ze=-1;break;case 2:ze=250;break;case 5:ze=1073741823;break;case 4:ze=1e4;break;default:ze=5e3}return ze=he+ze,J={id:g++,callback:ee,priorityLevel:J,startTime:he,expirationTime:ze,sortIndex:-1},he>_e?(J.sortIndex=he,e(h,J),n(f)===null&&J===n(h)&&(T?(D(oe),oe=-1):T=!0,le(re,he-_e))):(J.sortIndex=ze,e(f,J),E||y||(E=!0,de||(de=!0,K()))),J},t.unstable_shouldYield=ue,t.unstable_wrapCallback=function(J){var ee=S;return function(){var he=S;S=ee;try{return J.apply(this,arguments)}finally{S=he}}}})(kp)),kp}var B2;function Ax(){return B2||(B2=1,Ep.exports=Sx()),Ep.exports}var Tp={exports:{}},_i={};var I2;function Ex(){if(I2)return _i;I2=1;var t=H1();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(f,h,g){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:x==null?null:""+x,children:f,containerInfo:h,implementation:g}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return _i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,_i.createPortal=function(f,h){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return o(f,h,null,g)},_i.flushSync=function(f){var h=u.T,g=a.p;try{if(u.T=null,a.p=2,f)return f()}finally{u.T=h,a.p=g,a.d.f()}},_i.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,a.d.C(f,h))},_i.prefetchDNS=function(f){typeof f=="string"&&a.d.D(f)},_i.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var g=h.as,x=d(g,h.crossOrigin),S=typeof h.integrity=="string"?h.integrity:void 0,y=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;g==="style"?a.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:x,integrity:S,fetchPriority:y}):g==="script"&&a.d.X(f,{crossOrigin:x,integrity:S,fetchPriority:y,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},_i.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var g=d(h.as,h.crossOrigin);a.d.M(f,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&a.d.M(f)},_i.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var g=h.as,x=d(g,h.crossOrigin);a.d.L(f,g,{crossOrigin:x,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},_i.preloadModule=function(f,h){if(typeof f=="string")if(h){var g=d(h.as,h.crossOrigin);a.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else a.d.m(f)},_i.requestFormReset=function(f){a.d.r(f)},_i.unstable_batchedUpdates=function(f,h){return f(h)},_i.useFormState=function(f,h,g){return u.H.useFormState(f,h,g)},_i.useFormStatus=function(){return u.H.useHostTransitionStatus()},_i.version="19.2.3",_i}var P2;function Gy(){if(P2)return Tp.exports;P2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Tp.exports=Ex(),Tp.exports}var U2;function kx(){if(U2)return Ld;U2=1;var t=Ax(),e=H1(),n=Gy();function a(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var i=r,l=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(l=i.return),r=i.return;while(r)}return i.tag===3?l:null}function u(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function d(r){if(r.tag===31){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function f(r){if(o(r)!==r)throw Error(a(188))}function h(r){var i=r.alternate;if(!i){if(i=o(r),i===null)throw Error(a(188));return i!==r?null:r}for(var l=r,c=i;;){var m=l.return;if(m===null)break;var v=m.alternate;if(v===null){if(c=m.return,c!==null){l=c;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===l)return f(m),r;if(v===c)return f(m),i;v=v.sibling}throw Error(a(188))}if(l.return!==c.return)l=m,c=v;else{for(var C=!1,W=m.child;W;){if(W===l){C=!0,l=m,c=v;break}if(W===c){C=!0,c=m,l=v;break}W=W.sibling}if(!C){for(W=v.child;W;){if(W===l){C=!0,l=v,c=m;break}if(W===c){C=!0,c=v,l=m;break}W=W.sibling}if(!C)throw Error(a(189))}}if(l.alternate!==c)throw Error(a(190))}if(l.tag!==3)throw Error(a(188));return l.stateNode.current===l?r:i}function g(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=g(r),i!==null)return i;r=r.sibling}return null}var x=Object.assign,S=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),U=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),oe=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),ue=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function K(r){return r===null||typeof r!="object"?null:(r=B&&r[B]||r["@@iterator"],typeof r=="function"?r:null)}var fe=Symbol.for("react.client.reference");function se(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===fe?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case T:return"Fragment";case N:return"Profiler";case k:return"StrictMode";case re:return"Suspense";case de:return"SuspenseList";case q:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case E:return"Portal";case U:return r.displayName||"Context";case D:return(r._context.displayName||"Context")+".Consumer";case M:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case oe:return i=r.displayName||null,i!==null?i:se(r.type)||"Memo";case Q:i=r._payload,r=r._init;try{return se(r(i))}catch{}}return null}var le=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},_e=[],ze=-1;function G(r){return{current:r}}function L(r){0>ze||(r.current=_e[ze],_e[ze]=null,ze--)}function F(r,i){ze++,_e[ze]=r.current,r.current=i}var X=G(null),ie=G(null),R=G(null),V=G(null);function pe(r,i){switch(F(R,i),F(ie,r),F(X,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?t2(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=t2(i),r=n2(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}L(X),F(X,r)}function ve(){L(X),L(ie),L(R)}function Ee(r){r.memoizedState!==null&&F(V,r);var i=X.current,l=n2(i,r.type);i!==l&&(F(ie,r),F(X,l))}function qe(r){ie.current===r&&(L(X),L(ie)),V.current===r&&(L(V),Sd._currentValue=he)}var et,Re;function Ae(r){if(et===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);et=i&&i[1]||"",Re=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+et+r+Re}var P=!1;function ye(r,i){if(!r||P)return"";P=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var Xe=function(){throw Error()};if(Object.defineProperty(Xe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Xe,[])}catch(Ie){var Me=Ie}Reflect.construct(r,[],Xe)}else{try{Xe.call()}catch(Ie){Me=Ie}r.call(Xe.prototype)}}else{try{throw Error()}catch(Ie){Me=Ie}(Xe=r())&&typeof Xe.catch=="function"&&Xe.catch(function(){})}}catch(Ie){if(Ie&&Me&&typeof Ie.stack=="string")return[Ie.stack,Me.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=c.DetermineComponentFrameRoot(),C=v[0],W=v[1];if(C&&W){var ge=C.split(`
`),De=W.split(`
`);for(m=c=0;c<ge.length&&!ge[c].includes("DetermineComponentFrameRoot");)c++;for(;m<De.length&&!De[m].includes("DetermineComponentFrameRoot");)m++;if(c===ge.length||m===De.length)for(c=ge.length-1,m=De.length-1;1<=c&&0<=m&&ge[c]!==De[m];)m--;for(;1<=c&&0<=m;c--,m--)if(ge[c]!==De[m]){if(c!==1||m!==1)do if(c--,m--,0>m||ge[c]!==De[m]){var Fe=`
`+ge[c].replace(" at new "," at ");return r.displayName&&Fe.includes("<anonymous>")&&(Fe=Fe.replace("<anonymous>",r.displayName)),Fe}while(1<=c&&0<=m);break}}}finally{P=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?Ae(l):""}function Ye(r,i){switch(r.tag){case 26:case 27:case 5:return Ae(r.type);case 16:return Ae("Lazy");case 13:return r.child!==i&&i!==null?Ae("Suspense Fallback"):Ae("Suspense");case 19:return Ae("SuspenseList");case 0:case 15:return ye(r.type,!1);case 11:return ye(r.type.render,!1);case 1:return ye(r.type,!0);case 31:return Ae("Activity");default:return""}}function Be(r){try{var i="",l=null;do i+=Ye(r,l),l=r,r=r.return;while(r);return i}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Le=Object.prototype.hasOwnProperty,ce=t.unstable_scheduleCallback,be=t.unstable_cancelCallback,He=t.unstable_shouldYield,Ve=t.unstable_requestPaint,Qe=t.unstable_now,at=t.unstable_getCurrentPriorityLevel,ut=t.unstable_ImmediatePriority,nt=t.unstable_UserBlockingPriority,pt=t.unstable_NormalPriority,$e=t.unstable_LowPriority,ot=t.unstable_IdlePriority,lt=t.log,qt=t.unstable_setDisableYieldValue,rt=null,it=null;function st(r){if(typeof lt=="function"&&qt(r),it&&typeof it.setStrictMode=="function")try{it.setStrictMode(rt,r)}catch{}}var ct=Math.clz32?Math.clz32:Et,yt=Math.log,$t=Math.LN2;function Et(r){return r>>>=0,r===0?32:31-(yt(r)/$t|0)|0}var St=256,Kt=262144,kt=4194304;function dt(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Ut(r,i,l){var c=r.pendingLanes;if(c===0)return 0;var m=0,v=r.suspendedLanes,C=r.pingedLanes;r=r.warmLanes;var W=c&134217727;return W!==0?(c=W&~v,c!==0?m=dt(c):(C&=W,C!==0?m=dt(C):l||(l=W&~r,l!==0&&(m=dt(l))))):(W=c&~v,W!==0?m=dt(W):C!==0?m=dt(C):l||(l=c&~r,l!==0&&(m=dt(l)))),m===0?0:i!==0&&i!==m&&(i&v)===0&&(v=m&-m,l=i&-i,v>=l||v===32&&(l&4194048)!==0)?i:m}function hr(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function vn(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qn(){var r=kt;return kt<<=1,(kt&62914560)===0&&(kt=4194304),r}function $n(r){for(var i=[],l=0;31>l;l++)i.push(r);return i}function At(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Sn(r,i,l,c,m,v){var C=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var W=r.entanglements,ge=r.expirationTimes,De=r.hiddenUpdates;for(l=C&~l;0<l;){var Fe=31-ct(l),Xe=1<<Fe;W[Fe]=0,ge[Fe]=-1;var Me=De[Fe];if(Me!==null)for(De[Fe]=null,Fe=0;Fe<Me.length;Fe++){var Ie=Me[Fe];Ie!==null&&(Ie.lane&=-536870913)}l&=~Xe}c!==0&&Ar(r,c,0),v!==0&&m===0&&r.tag!==0&&(r.suspendedLanes|=v&~(C&~i))}function Ar(r,i,l){r.pendingLanes|=i,r.suspendedLanes&=~i;var c=31-ct(i);r.entangledLanes|=i,r.entanglements[c]=r.entanglements[c]|1073741824|l&261930}function Fn(r,i){var l=r.entangledLanes|=i;for(r=r.entanglements;l;){var c=31-ct(l),m=1<<c;m&i|r[c]&i&&(r[c]|=i),l&=~m}}function Wn(r,i){var l=i&-i;return l=(l&42)!==0?1:mn(l),(l&(r.suspendedLanes|i))!==0?0:l}function mn(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Nn(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function An(){var r=ee.p;return r!==0?r:(r=window.event,r===void 0?32:E2(r.type))}function bi(r,i){var l=ee.p;try{return ee.p=r,i()}finally{ee.p=l}}var Er=Math.random().toString(36).slice(2),En="__reactFiber$"+Er,Gn="__reactProps$"+Er,Qr="__reactContainer$"+Er,Ti="__reactEvents$"+Er,Bi="__reactListeners$"+Er,to="__reactHandles$"+Er,na="__reactResources$"+Er,ra="__reactMarker$"+Er;function Ns(r){delete r[En],delete r[Gn],delete r[Ti],delete r[Bi],delete r[to]}function ia(r){var i=r[En];if(i)return i;for(var l=r.parentNode;l;){if(i=l[Qr]||l[En]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(r=u2(r);r!==null;){if(l=r[En])return l;r=u2(r)}return i}r=l,l=r.parentNode}return null}function aa(r){if(r=r[En]||r[Qr]){var i=r.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return r}return null}function no(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(a(33))}function ka(r){var i=r[na];return i||(i=r[na]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ar(r){r[ra]=!0}var Cl=new Set,Li={};function sa(r,i){Ya(r,i),Ya(r+"Capture",i)}function Ya(r,i){for(Li[r]=i,r=0;r<i.length;r++)Cl.add(i[r])}var Rl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ol={},Dl={};function Eu(r){return Le.call(Dl,r)?!0:Le.call(Ol,r)?!1:Rl.test(r)?Dl[r]=!0:(Ol[r]=!0,!1)}function ji(r,i,l){if(Eu(i))if(l===null)r.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+l)}}function Va(r,i,l){if(l===null)r.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+l)}}function oa(r,i,l,c){if(c===null)r.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(i,l,""+c)}}function hn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ml(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ta(r,i,l){var c=Object.getOwnPropertyDescriptor(r.constructor.prototype,i);if(!r.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,v=c.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return m.call(this)},set:function(C){l=""+C,v.call(this,C)}}),Object.defineProperty(r,i,{enumerable:c.enumerable}),{getValue:function(){return l},setValue:function(C){l=""+C},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Cs(r){if(!r._valueTracker){var i=Ml(r)?"checked":"value";r._valueTracker=Ta(r,i,""+r[i])}}function zl(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var l=i.getValue(),c="";return r&&(c=Ml(r)?r.checked?"true":"false":r.value),r=c,r!==l?(i.setValue(r),!0):!1}function li(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var kr=/[\n"\\]/g;function pr(r){return r.replace(kr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Fo(r,i,l,c,m,v,C,W){r.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?r.type=C:r.removeAttribute("type"),i!=null?C==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+hn(i)):r.value!==""+hn(i)&&(r.value=""+hn(i)):C!=="submit"&&C!=="reset"||r.removeAttribute("value"),i!=null?Bl(r,C,hn(i)):l!=null?Bl(r,C,hn(l)):c!=null&&r.removeAttribute("value"),m==null&&v!=null&&(r.defaultChecked=!!v),m!=null&&(r.checked=m&&typeof m!="function"&&typeof m!="symbol"),W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"?r.name=""+hn(W):r.removeAttribute("name")}function ku(r,i,l,c,m,v,C,W){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(r.type=v),i!=null||l!=null){if(!(v!=="submit"&&v!=="reset"||i!=null)){Cs(r);return}l=l!=null?""+hn(l):"",i=i!=null?""+hn(i):l,W||i===r.value||(r.value=i),r.defaultValue=i}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=W?r.checked:!!c,r.defaultChecked=!!c,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(r.name=C),Cs(r)}function Bl(r,i,l){i==="number"&&li(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function ui(r,i,l,c){if(r=r.options,i){i={};for(var m=0;m<l.length;m++)i["$"+l[m]]=!0;for(l=0;l<r.length;l++)m=i.hasOwnProperty("$"+r[l].value),r[l].selected!==m&&(r[l].selected=m),m&&c&&(r[l].defaultSelected=!0)}else{for(l=""+hn(l),i=null,m=0;m<r.length;m++){if(r[m].value===l){r[m].selected=!0,c&&(r[m].defaultSelected=!0);return}i!==null||r[m].disabled||(i=r[m])}i!==null&&(i.selected=!0)}}function Il(r,i,l){if(i!=null&&(i=""+hn(i),i!==r.value&&(r.value=i),l==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=l!=null?""+hn(l):""}function Pl(r,i,l,c){if(i==null){if(c!=null){if(l!=null)throw Error(a(92));if(le(c)){if(1<c.length)throw Error(a(93));c=c[0]}l=c}l==null&&(l=""),i=l}l=hn(i),r.defaultValue=l,c=r.textContent,c===l&&c!==""&&c!==null&&(r.value=c),Cs(r)}function la(r,i){if(i){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=i;return}}r.textContent=i}var ro=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tu(r,i,l){var c=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":c?r.setProperty(i,l):typeof l!="number"||l===0||ro.has(i)?i==="float"?r.cssFloat=l:r[i]=(""+l).trim():r[i]=l+"px"}function Lu(r,i,l){if(i!=null&&typeof i!="object")throw Error(a(62));if(r=r.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var m in i)c=i[m],i.hasOwnProperty(m)&&l[m]!==c&&Tu(r,m,c)}else for(var v in i)i.hasOwnProperty(v)&&Tu(r,v,i[v])}function Ul(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ql=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ju=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vi(r){return ju.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function ua(){}var Ka=null;function io(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Rs=null,Dt=null;function Nu(r){var i=aa(r);if(i&&(r=i.stateNode)){var l=r[Gn]||null;e:switch(r=i.stateNode,i.type){case"input":if(Fo(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+pr(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var c=l[i];if(c!==r&&c.form===r.form){var m=c[Gn]||null;if(!m)throw Error(a(90));Fo(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(i=0;i<l.length;i++)c=l[i],c.form===r.form&&zl(c)}break e;case"textarea":Il(r,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&ui(r,!!l.multiple,i,!1)}}}var Fl=!1;function Cu(r,i,l){if(Fl)return r(i,l);Fl=!0;try{var c=r(i);return c}finally{if(Fl=!1,(Rs!==null||Dt!==null)&&(Of(),Rs&&(i=Rs,r=Dt,Dt=Rs=null,Nu(i),r)))for(i=0;i<r.length;i++)Nu(r[i])}}function Ni(r,i){var l=r.stateNode;if(l===null)return null;var c=l[Gn]||null;if(c===null)return null;l=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(a(231,i,typeof l));return l}var Ur=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hl=!1;if(Ur)try{var ao={};Object.defineProperty(ao,"passive",{get:function(){Hl=!0}}),window.addEventListener("test",ao,ao),window.removeEventListener("test",ao,ao)}catch{Hl=!1}var Ci=null,so=null,La=null;function Ru(){if(La)return La;var r,i=so,l=i.length,c,m="value"in Ci?Ci.value:Ci.textContent,v=m.length;for(r=0;r<l&&i[r]===m[r];r++);var C=l-r;for(c=1;c<=C&&i[l-c]===m[v-c];c++);return La=m.slice(r,1<c?1-c:void 0)}function Ii(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Ho(){return!0}function $o(){return!1}function Or(r){function i(l,c,m,v,C){this._reactName=l,this._targetInst=m,this.type=c,this.nativeEvent=v,this.target=C,this.currentTarget=null;for(var W in r)r.hasOwnProperty(W)&&(l=r[W],this[W]=l?l(v):v[W]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Ho:$o,this.isPropagationStopped=$o,this}return x(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ho)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ho)},persist:function(){},isPersistent:Ho}),i}var ja={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pi=Or(ja),Xa=x({},ja,{view:0,detail:0}),Wo=Or(Xa),oo,Ja,Za,lo=x({},Xa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bt,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Za&&(Za&&r.type==="mousemove"?(oo=r.screenX-Za.screenX,Ja=r.screenY-Za.screenY):Ja=oo=0,Za=r),oo)},movementY:function(r){return"movementY"in r?r.movementY:Ja}}),$l=Or(lo),Qa=x({},lo,{dataTransfer:0}),es=Or(Qa),Ou=x({},Xa,{relatedTarget:0}),ts=Or(Ou),Du=x({},ja,{animationName:0,elapsedTime:0,pseudoElement:0}),_=Or(Du),z=x({},ja,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),ae=Or(z),me=x({},ja,{data:0}),ke=Or(me),We={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ze={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tt(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=vt[r])?!!i[r]:!1}function Bt(){return Tt}var Wt=x({},Xa,{key:function(r){if(r.key){var i=We[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Ii(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Ze[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bt,charCode:function(r){return r.type==="keypress"?Ii(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ii(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),sn=Or(Wt),Yn=x({},lo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sr=Or(Yn),Cn=x({},Xa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bt}),Tr=Or(Cn),gr=x({},ja,{propertyName:0,elapsedTime:0,pseudoElement:0}),qr=Or(gr),ns=x({},lo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),ca=Or(ns),rs=x({},ja,{newState:0,oldState:0}),Wl=Or(rs),Go=[9,13,27,32],Na=Ur&&"CompositionEvent"in window,da=null;Ur&&"documentMode"in document&&(da=document.documentMode);var uo=Ur&&"TextEvent"in window&&!da,is=Ur&&(!Na||da&&8<da&&11>=da),Dr=" ",Os=!1;function Ds(r,i){switch(r){case"keyup":return Go.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yo(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ca=!1;function ci(r,i){switch(r){case"compositionend":return Yo(i);case"keypress":return i.which!==32?null:(Os=!0,Dr);case"textInput":return r=i.data,r===Dr&&Os?null:r;default:return null}}function as(r,i){if(Ca)return r==="compositionend"||!Na&&Ds(r,i)?(r=Ru(),La=so=Ci=null,Ca=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return is&&i.locale!=="ko"?null:i.data;default:return null}}var Vo={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gl(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!Vo[r.type]:i==="textarea"}function Ri(r,i,l,c){Rs?Dt?Dt.push(c):Dt=[c]:Rs=c,i=Uf(i,"onChange"),0<i.length&&(l=new Pi("onChange","change",null,l,c),r.push({event:l,listeners:i}))}var fa=null,ss=null;function Yl(r){Km(r,0)}function ha(r){var i=no(r);if(zl(i))return r}function Ms(r,i){if(r==="change")return i}var wi=!1;if(Ur){var di;if(Ur){var Ra="oninput"in document;if(!Ra){var Oa=document.createElement("div");Oa.setAttribute("oninput","return;"),Ra=typeof Oa.oninput=="function"}di=Ra}else di=!1;wi=di&&(!document.documentMode||9<document.documentMode)}function os(){fa&&(fa.detachEvent("onpropertychange",Ko),ss=fa=null)}function Ko(r){if(r.propertyName==="value"&&ha(ss)){var i=[];Ri(i,ss,r,io(r)),Cu(Yl,i)}}function Xo(r,i,l){r==="focusin"?(os(),fa=i,ss=l,fa.attachEvent("onpropertychange",Ko)):r==="focusout"&&os()}function or(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ha(ss)}function Mu(r,i){if(r==="click")return ha(i)}function Da(r,i){if(r==="input"||r==="change")return ha(i)}function Ma(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Fr=typeof Object.is=="function"?Object.is:Ma;function ls(r,i){if(Fr(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var l=Object.keys(r),c=Object.keys(i);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var m=l[c];if(!Le.call(i,m)||!Fr(r[m],i[m]))return!1}return!0}function Jo(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Zo(r,i){var l=Jo(r);r=0;for(var c;l;){if(l.nodeType===3){if(c=r+l.textContent.length,r<=i&&c>=i)return{node:l,offset:i-r};r=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Jo(l)}}function us(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?us(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function cs(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=li(r.document);i instanceof r.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)r=i.contentWindow;else break;i=li(r.document)}return i}function za(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var co=Ur&&"documentMode"in document&&11>=document.documentMode,Oi=null,ds=null,ei=null,Ui=!1;function pn(r,i,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ui||Oi==null||Oi!==li(c)||(c=Oi,"selectionStart"in c&&za(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ei&&ls(ei,c)||(ei=c,c=Uf(ds,"onSelect"),0<c.length&&(i=new Pi("onSelect","select",null,i,l),r.push({event:i,listeners:c}),i.target=Oi)))}function on(r,i){var l={};return l[r.toLowerCase()]=i.toLowerCase(),l["Webkit"+r]="webkit"+i,l["Moz"+r]="moz"+i,l}var Rn={animationend:on("Animation","AnimationEnd"),animationiteration:on("Animation","AnimationIteration"),animationstart:on("Animation","AnimationStart"),transitionrun:on("Transition","TransitionRun"),transitionstart:on("Transition","TransitionStart"),transitioncancel:on("Transition","TransitionCancel"),transitionend:on("Transition","TransitionEnd")},lr={},Ba={};Ur&&(Ba=document.createElement("div").style,"AnimationEvent"in window||(delete Rn.animationend.animation,delete Rn.animationiteration.animation,delete Rn.animationstart.animation),"TransitionEvent"in window||delete Rn.transitionend.transition);function pa(r){if(lr[r])return lr[r];if(!Rn[r])return r;var i=Rn[r],l;for(l in i)if(i.hasOwnProperty(l)&&l in Ba)return lr[r]=i[l];return r}var fo=pa("animationend"),Vl=pa("animationiteration"),Gc=pa("animationstart"),uf=pa("transitionrun"),cf=pa("transitionstart"),df=pa("transitioncancel"),Yc=pa("transitionend"),Vc=new Map,ho="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ho.push("scrollEnd");function qi(r,i){Vc.set(r,i),sa(i,[r])}var Kl=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},Di=[],po=0,zu=0;function Xl(){for(var r=po,i=zu=po=0;i<r;){var l=Di[i];Di[i++]=null;var c=Di[i];Di[i++]=null;var m=Di[i];Di[i++]=null;var v=Di[i];if(Di[i++]=null,c!==null&&m!==null){var C=c.pending;C===null?m.next=m:(m.next=C.next,C.next=m),c.pending=m}v!==0&&Zl(l,m,v)}}function Jl(r,i,l,c){Di[po++]=r,Di[po++]=i,Di[po++]=l,Di[po++]=c,zu|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function Bu(r,i,l,c){return Jl(r,i,l,c),ti(r)}function fs(r,i){return Jl(r,null,null,i),ti(r)}function Zl(r,i,l){r.lanes|=l;var c=r.alternate;c!==null&&(c.lanes|=l);for(var m=!1,v=r.return;v!==null;)v.childLanes|=l,c=v.alternate,c!==null&&(c.childLanes|=l),v.tag===22&&(r=v.stateNode,r===null||r._visibility&1||(m=!0)),r=v,v=v.return;return r.tag===3?(v=r.stateNode,m&&i!==null&&(m=31-ct(l),r=v.hiddenUpdates,c=r[m],c===null?r[m]=[i]:c.push(i),i.lane=l|536870912),v):null}function ti(r){if(50<md)throw md=0,G0=null,Error(a(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var Hr={};function Iu(r,i,l,c){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ni(r,i,l,c){return new Iu(r,i,l,c)}function Pu(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Fi(r,i){var l=r.alternate;return l===null?(l=ni(r.tag,i,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=i,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&65011712,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,i=r.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function Ql(r,i){r.flags&=65011714;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,i=l.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function Qo(r,i,l,c,m,v){var C=0;if(c=r,typeof r=="function")Pu(r)&&(C=1);else if(typeof r=="string")C=ox(r,l,X.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case q:return r=ni(31,l,i,m),r.elementType=q,r.lanes=v,r;case T:return zs(l.children,m,v,i);case k:C=8,m|=24;break;case N:return r=ni(12,l,i,m|2),r.elementType=N,r.lanes=v,r;case re:return r=ni(13,l,i,m),r.elementType=re,r.lanes=v,r;case de:return r=ni(19,l,i,m),r.elementType=de,r.lanes=v,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case U:C=10;break e;case D:C=9;break e;case M:C=11;break e;case oe:C=14;break e;case Q:C=16,c=null;break e}C=29,l=Error(a(130,r===null?"null":typeof r,"")),c=null}return i=ni(C,l,i,m),i.elementType=r,i.type=c,i.lanes=v,i}function zs(r,i,l,c){return r=ni(7,r,c,i),r.lanes=l,r}function eu(r,i,l){return r=ni(6,r,null,i),r.lanes=l,r}function Uu(r){var i=ni(18,null,null,0);return i.stateNode=r,i}function el(r,i,l){return i=ni(4,r.children!==null?r.children:[],r.key,i),i.lanes=l,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var qu=new WeakMap;function Hi(r,i){if(typeof r=="object"&&r!==null){var l=qu.get(r);return l!==void 0?l:(i={value:r,source:i,stack:Be(i)},qu.set(r,i),i)}return{value:r,source:i,stack:Be(i)}}var tl=[],go=0,Fu=null,tu=0,$i=[],Wi=0,Bs=null,Gi=1,Yi="";function Mi(r,i){tl[go++]=tu,tl[go++]=Fu,Fu=r,tu=i}function ff(r,i,l){$i[Wi++]=Gi,$i[Wi++]=Yi,$i[Wi++]=Bs,Bs=r;var c=Gi;r=Yi;var m=32-ct(c)-1;c&=~(1<<m),l+=1;var v=32-ct(i)+m;if(30<v){var C=m-m%5;v=(c&(1<<C)-1).toString(32),c>>=C,m-=C,Gi=1<<32-ct(i)+m|l<<m|c,Yi=v+r}else Gi=1<<v|l<<m|c,Yi=r}function Kc(r){r.return!==null&&(Mi(r,1),ff(r,1,0))}function Hu(r){for(;r===Fu;)Fu=tl[--go],tl[go]=null,tu=tl[--go],tl[go]=null;for(;r===Bs;)Bs=$i[--Wi],$i[Wi]=null,Yi=$i[--Wi],$i[Wi]=null,Gi=$i[--Wi],$i[Wi]=null}function hf(r,i){$i[Wi++]=Gi,$i[Wi++]=Yi,$i[Wi++]=Bs,Gi=i.id,Yi=i.overflow,Bs=r}var $r=null,Bn=null,en=!1,fi=null,Qn=!1,ga=Error(a(519));function Is(r){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw nl(Hi(i,r)),ga}function Xc(r){var i=r.stateNode,l=r.type,c=r.memoizedProps;switch(i[En]=r,i[Gn]=c,l){case"dialog":nn("cancel",i),nn("close",i);break;case"iframe":case"object":case"embed":nn("load",i);break;case"video":case"audio":for(l=0;l<bd.length;l++)nn(bd[l],i);break;case"source":nn("error",i);break;case"img":case"image":case"link":nn("error",i),nn("load",i);break;case"details":nn("toggle",i);break;case"input":nn("invalid",i),ku(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":nn("invalid",i);break;case"textarea":nn("invalid",i),Pl(i,c.value,c.defaultValue,c.children)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||c.suppressHydrationWarning===!0||Qm(i.textContent,l)?(c.popover!=null&&(nn("beforetoggle",i),nn("toggle",i)),c.onScroll!=null&&nn("scroll",i),c.onScrollEnd!=null&&nn("scrollend",i),c.onClick!=null&&(i.onclick=ua),i=!0):i=!1,i||Is(r,!0)}function hs(r){for($r=r.return;$r;)switch($r.tag){case 5:case 31:case 13:Qn=!1;return;case 27:case 3:Qn=!0;return;default:$r=$r.return}}function Wr(r){if(r!==$r)return!1;if(!en)return hs(r),en=!0,!1;var i=r.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||op(r.type,r.memoizedProps)),l=!l),l&&Bn&&Is(r),hs(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(317));Bn=l2(r)}else if(i===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(317));Bn=l2(r)}else i===27?(i=Bn,ml(r.type)?(r=fp,fp=null,Bn=r):Bn=i):Bn=$r?qa(r.stateNode.nextSibling):null;return!0}function mo(){Bn=$r=null,en=!1}function Jc(){var r=fi;return r!==null&&(Qi===null?Qi=r:Qi.push.apply(Qi,r),fi=null),r}function nl(r){fi===null?fi=[r]:fi.push(r)}var $u=G(null),Ps=null,Ia=null;function Us(r,i,l){F($u,i._currentValue),i._currentValue=l}function Vi(r){r._currentValue=$u.current,L($u)}function rl(r,i,l){for(;r!==null;){var c=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),r===l)break;r=r.return}}function yo(r,i,l,c){var m=r.child;for(m!==null&&(m.return=r);m!==null;){var v=m.dependencies;if(v!==null){var C=m.child;v=v.firstContext;e:for(;v!==null;){var W=v;v=m;for(var ge=0;ge<i.length;ge++)if(W.context===i[ge]){v.lanes|=l,W=v.alternate,W!==null&&(W.lanes|=l),rl(v.return,l,r),c||(C=null);break e}v=W.next}}else if(m.tag===18){if(C=m.return,C===null)throw Error(a(341));C.lanes|=l,v=C.alternate,v!==null&&(v.lanes|=l),rl(C,l,r),C=null}else C=m.child;if(C!==null)C.return=m;else for(C=m;C!==null;){if(C===r){C=null;break}if(m=C.sibling,m!==null){m.return=C.return,C=m;break}C=C.return}m=C}}function qs(r,i,l,c){r=null;for(var m=i,v=!1;m!==null;){if(!v){if((m.flags&524288)!==0)v=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var C=m.alternate;if(C===null)throw Error(a(387));if(C=C.memoizedProps,C!==null){var W=m.type;Fr(m.pendingProps.value,C.value)||(r!==null?r.push(W):r=[W])}}else if(m===V.current){if(C=m.alternate,C===null)throw Error(a(387));C.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(r!==null?r.push(Sd):r=[Sd])}m=m.return}r!==null&&yo(i,r,l,c),i.flags|=262144}function Wu(r){for(r=r.firstContext;r!==null;){if(!Fr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Fs(r){Ps=r,Ia=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Gr(r){return pf(Ps,r)}function Gu(r,i){return Ps===null&&Fs(r),pf(r,i)}function pf(r,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},Ia===null){if(r===null)throw Error(a(308));Ia=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else Ia=Ia.next=i;return l}var d0=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(l,c){r.push(c)}};this.abort=function(){i.aborted=!0,r.forEach(function(l){return l()})}},f0=t.unstable_scheduleCallback,h0=t.unstable_NormalPriority,ur={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function il(){return{controller:new d0,data:new Map,refCount:0}}function nu(r){r.refCount--,r.refCount===0&&f0(h0,function(){r.controller.abort()})}var ru=null,Yu=0,p=0,b=null;function A(r,i){if(ru===null){var l=ru=[];Yu=0,p=Z0(),b={status:"pending",value:void 0,then:function(c){l.push(c)}}}return Yu++,i.then(j,j),i}function j(){if(--Yu===0&&ru!==null){b!==null&&(b.status="fulfilled");var r=ru;ru=null,p=0,b=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function I(r,i){var l=[],c={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return r.then(function(){c.status="fulfilled",c.value=i;for(var m=0;m<l.length;m++)(0,l[m])(i)},function(m){for(c.status="rejected",c.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),c}var H=J.S;J.S=function(r,i){Sm=Qe(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&A(r,i),H!==null&&H(r,i)};var $=G(null);function Y(){var r=$.current;return r!==null?r:Pn.pooledCache}function Z(r,i){i===null?F($,$.current):F($,i.pool)}function ne(){var r=Y();return r===null?null:{parent:ur._currentValue,pool:r}}var we=Error(a(460)),Ce=Error(a(474)),te=Error(a(542)),Se={then:function(){}};function je(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Ue(r,i,l){switch(l=r[l],l===void 0?r.push(i):l!==i&&(i.then(ua,ua),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,tt(r),r;default:if(typeof i.status=="string")i.then(ua,ua);else{if(r=Pn,r!==null&&100<r.shellSuspendCounter)throw Error(a(482));r=i,r.status="pending",r.then(function(c){if(i.status==="pending"){var m=i;m.status="fulfilled",m.value=c}},function(c){if(i.status==="pending"){var m=i;m.status="rejected",m.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,tt(r),r}throw Pe=i,we}}function Ne(r){try{var i=r._init;return i(r._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Pe=l,we):l}}var Pe=null;function Ge(){if(Pe===null)throw Error(a(459));var r=Pe;return Pe=null,r}function tt(r){if(r===we||r===te)throw Error(a(483))}var Je=null,xt=0;function gt(r){var i=xt;return xt+=1,Je===null&&(Je=[]),Ue(Je,r,i)}function Ft(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function bt(r,i){throw i.$$typeof===S?Error(a(525)):(r=Object.prototype.toString.call(i),Error(a(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function Qt(r){function i(Te,xe){if(r){var Oe=Te.deletions;Oe===null?(Te.deletions=[xe],Te.flags|=16):Oe.push(xe)}}function l(Te,xe){if(!r)return null;for(;xe!==null;)i(Te,xe),xe=xe.sibling;return null}function c(Te){for(var xe=new Map;Te!==null;)Te.key!==null?xe.set(Te.key,Te):xe.set(Te.index,Te),Te=Te.sibling;return xe}function m(Te,xe){return Te=Fi(Te,xe),Te.index=0,Te.sibling=null,Te}function v(Te,xe,Oe){return Te.index=Oe,r?(Oe=Te.alternate,Oe!==null?(Oe=Oe.index,Oe<xe?(Te.flags|=67108866,xe):Oe):(Te.flags|=67108866,xe)):(Te.flags|=1048576,xe)}function C(Te){return r&&Te.alternate===null&&(Te.flags|=67108866),Te}function W(Te,xe,Oe,Ke){return xe===null||xe.tag!==6?(xe=eu(Oe,Te.mode,Ke),xe.return=Te,xe):(xe=m(xe,Oe),xe.return=Te,xe)}function ge(Te,xe,Oe,Ke){var Ot=Oe.type;return Ot===T?Fe(Te,xe,Oe.props.children,Ke,Oe.key):xe!==null&&(xe.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===Q&&Ne(Ot)===xe.type)?(xe=m(xe,Oe.props),Ft(xe,Oe),xe.return=Te,xe):(xe=Qo(Oe.type,Oe.key,Oe.props,null,Te.mode,Ke),Ft(xe,Oe),xe.return=Te,xe)}function De(Te,xe,Oe,Ke){return xe===null||xe.tag!==4||xe.stateNode.containerInfo!==Oe.containerInfo||xe.stateNode.implementation!==Oe.implementation?(xe=el(Oe,Te.mode,Ke),xe.return=Te,xe):(xe=m(xe,Oe.children||[]),xe.return=Te,xe)}function Fe(Te,xe,Oe,Ke,Ot){return xe===null||xe.tag!==7?(xe=zs(Oe,Te.mode,Ke,Ot),xe.return=Te,xe):(xe=m(xe,Oe),xe.return=Te,xe)}function Xe(Te,xe,Oe){if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return xe=eu(""+xe,Te.mode,Oe),xe.return=Te,xe;if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case y:return Oe=Qo(xe.type,xe.key,xe.props,null,Te.mode,Oe),Ft(Oe,xe),Oe.return=Te,Oe;case E:return xe=el(xe,Te.mode,Oe),xe.return=Te,xe;case Q:return xe=Ne(xe),Xe(Te,xe,Oe)}if(le(xe)||K(xe))return xe=zs(xe,Te.mode,Oe,null),xe.return=Te,xe;if(typeof xe.then=="function")return Xe(Te,gt(xe),Oe);if(xe.$$typeof===U)return Xe(Te,Gu(Te,xe),Oe);bt(Te,xe)}return null}function Me(Te,xe,Oe,Ke){var Ot=xe!==null?xe.key:null;if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint")return Ot!==null?null:W(Te,xe,""+Oe,Ke);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case y:return Oe.key===Ot?ge(Te,xe,Oe,Ke):null;case E:return Oe.key===Ot?De(Te,xe,Oe,Ke):null;case Q:return Oe=Ne(Oe),Me(Te,xe,Oe,Ke)}if(le(Oe)||K(Oe))return Ot!==null?null:Fe(Te,xe,Oe,Ke,null);if(typeof Oe.then=="function")return Me(Te,xe,gt(Oe),Ke);if(Oe.$$typeof===U)return Me(Te,xe,Gu(Te,Oe),Ke);bt(Te,Oe)}return null}function Ie(Te,xe,Oe,Ke,Ot){if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number"||typeof Ke=="bigint")return Te=Te.get(Oe)||null,W(xe,Te,""+Ke,Ot);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case y:return Te=Te.get(Ke.key===null?Oe:Ke.key)||null,ge(xe,Te,Ke,Ot);case E:return Te=Te.get(Ke.key===null?Oe:Ke.key)||null,De(xe,Te,Ke,Ot);case Q:return Ke=Ne(Ke),Ie(Te,xe,Oe,Ke,Ot)}if(le(Ke)||K(Ke))return Te=Te.get(Oe)||null,Fe(xe,Te,Ke,Ot,null);if(typeof Ke.then=="function")return Ie(Te,xe,Oe,gt(Ke),Ot);if(Ke.$$typeof===U)return Ie(Te,xe,Oe,Gu(xe,Ke),Ot);bt(xe,Ke)}return null}function wt(Te,xe,Oe,Ke){for(var Ot=null,yn=null,Lt=xe,Jt=xe=0,an=null;Lt!==null&&Jt<Oe.length;Jt++){Lt.index>Jt?(an=Lt,Lt=null):an=Lt.sibling;var bn=Me(Te,Lt,Oe[Jt],Ke);if(bn===null){Lt===null&&(Lt=an);break}r&&Lt&&bn.alternate===null&&i(Te,Lt),xe=v(bn,xe,Jt),yn===null?Ot=bn:yn.sibling=bn,yn=bn,Lt=an}if(Jt===Oe.length)return l(Te,Lt),en&&Mi(Te,Jt),Ot;if(Lt===null){for(;Jt<Oe.length;Jt++)Lt=Xe(Te,Oe[Jt],Ke),Lt!==null&&(xe=v(Lt,xe,Jt),yn===null?Ot=Lt:yn.sibling=Lt,yn=Lt);return en&&Mi(Te,Jt),Ot}for(Lt=c(Lt);Jt<Oe.length;Jt++)an=Ie(Lt,Te,Jt,Oe[Jt],Ke),an!==null&&(r&&an.alternate!==null&&Lt.delete(an.key===null?Jt:an.key),xe=v(an,xe,Jt),yn===null?Ot=an:yn.sibling=an,yn=an);return r&&Lt.forEach(function(xl){return i(Te,xl)}),en&&Mi(Te,Jt),Ot}function zt(Te,xe,Oe,Ke){if(Oe==null)throw Error(a(151));for(var Ot=null,yn=null,Lt=xe,Jt=xe=0,an=null,bn=Oe.next();Lt!==null&&!bn.done;Jt++,bn=Oe.next()){Lt.index>Jt?(an=Lt,Lt=null):an=Lt.sibling;var xl=Me(Te,Lt,bn.value,Ke);if(xl===null){Lt===null&&(Lt=an);break}r&&Lt&&xl.alternate===null&&i(Te,Lt),xe=v(xl,xe,Jt),yn===null?Ot=xl:yn.sibling=xl,yn=xl,Lt=an}if(bn.done)return l(Te,Lt),en&&Mi(Te,Jt),Ot;if(Lt===null){for(;!bn.done;Jt++,bn=Oe.next())bn=Xe(Te,bn.value,Ke),bn!==null&&(xe=v(bn,xe,Jt),yn===null?Ot=bn:yn.sibling=bn,yn=bn);return en&&Mi(Te,Jt),Ot}for(Lt=c(Lt);!bn.done;Jt++,bn=Oe.next())bn=Ie(Lt,Te,Jt,bn.value,Ke),bn!==null&&(r&&bn.alternate!==null&&Lt.delete(bn.key===null?Jt:bn.key),xe=v(bn,xe,Jt),yn===null?Ot=bn:yn.sibling=bn,yn=bn);return r&&Lt.forEach(function(bx){return i(Te,bx)}),en&&Mi(Te,Jt),Ot}function zn(Te,xe,Oe,Ke){if(typeof Oe=="object"&&Oe!==null&&Oe.type===T&&Oe.key===null&&(Oe=Oe.props.children),typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case y:e:{for(var Ot=Oe.key;xe!==null;){if(xe.key===Ot){if(Ot=Oe.type,Ot===T){if(xe.tag===7){l(Te,xe.sibling),Ke=m(xe,Oe.props.children),Ke.return=Te,Te=Ke;break e}}else if(xe.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===Q&&Ne(Ot)===xe.type){l(Te,xe.sibling),Ke=m(xe,Oe.props),Ft(Ke,Oe),Ke.return=Te,Te=Ke;break e}l(Te,xe);break}else i(Te,xe);xe=xe.sibling}Oe.type===T?(Ke=zs(Oe.props.children,Te.mode,Ke,Oe.key),Ke.return=Te,Te=Ke):(Ke=Qo(Oe.type,Oe.key,Oe.props,null,Te.mode,Ke),Ft(Ke,Oe),Ke.return=Te,Te=Ke)}return C(Te);case E:e:{for(Ot=Oe.key;xe!==null;){if(xe.key===Ot)if(xe.tag===4&&xe.stateNode.containerInfo===Oe.containerInfo&&xe.stateNode.implementation===Oe.implementation){l(Te,xe.sibling),Ke=m(xe,Oe.children||[]),Ke.return=Te,Te=Ke;break e}else{l(Te,xe);break}else i(Te,xe);xe=xe.sibling}Ke=el(Oe,Te.mode,Ke),Ke.return=Te,Te=Ke}return C(Te);case Q:return Oe=Ne(Oe),zn(Te,xe,Oe,Ke)}if(le(Oe))return wt(Te,xe,Oe,Ke);if(K(Oe)){if(Ot=K(Oe),typeof Ot!="function")throw Error(a(150));return Oe=Ot.call(Oe),zt(Te,xe,Oe,Ke)}if(typeof Oe.then=="function")return zn(Te,xe,gt(Oe),Ke);if(Oe.$$typeof===U)return zn(Te,xe,Gu(Te,Oe),Ke);bt(Te,Oe)}return typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint"?(Oe=""+Oe,xe!==null&&xe.tag===6?(l(Te,xe.sibling),Ke=m(xe,Oe),Ke.return=Te,Te=Ke):(l(Te,xe),Ke=eu(Oe,Te.mode,Ke),Ke.return=Te,Te=Ke),C(Te)):l(Te,xe)}return function(Te,xe,Oe,Ke){try{xt=0;var Ot=zn(Te,xe,Oe,Ke);return Je=null,Ot}catch(Lt){if(Lt===we||Lt===te)throw Lt;var yn=ni(29,Lt,null,Te.mode);return yn.lanes=Ke,yn.return=Te,yn}}}var In=Qt(!0),Gt=Qt(!1),mt=!1;function ft(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vn(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Mt(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Xt(r,i,l){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(_n&2)!==0){var m=c.pending;return m===null?i.next=i:(i.next=m.next,m.next=i),c.pending=i,i=ti(r),Zl(r,null,l),i}return Jl(r,c,i,l),ti(r)}function wn(r,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var c=i.lanes;c&=r.pendingLanes,l|=c,i.lanes=l,Fn(r,l)}}function Lr(r,i){var l=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var m=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var C={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};v===null?m=v=C:v=v.next=C,l=l.next}while(l!==null);v===null?m=v=i:v=v.next=i}else m=v=i;l={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:c.shared,callbacks:c.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=i:r.next=i,l.lastBaseUpdate=i}var Yr=!1;function On(){if(Yr){var r=b;if(r!==null)throw r}}function mr(r,i,l,c){Yr=!1;var m=r.updateQueue;mt=!1;var v=m.firstBaseUpdate,C=m.lastBaseUpdate,W=m.shared.pending;if(W!==null){m.shared.pending=null;var ge=W,De=ge.next;ge.next=null,C===null?v=De:C.next=De,C=ge;var Fe=r.alternate;Fe!==null&&(Fe=Fe.updateQueue,W=Fe.lastBaseUpdate,W!==C&&(W===null?Fe.firstBaseUpdate=De:W.next=De,Fe.lastBaseUpdate=ge))}if(v!==null){var Xe=m.baseState;C=0,Fe=De=ge=null,W=v;do{var Me=W.lane&-536870913,Ie=Me!==W.lane;if(Ie?(rn&Me)===Me:(c&Me)===Me){Me!==0&&Me===p&&(Yr=!0),Fe!==null&&(Fe=Fe.next={lane:0,tag:W.tag,payload:W.payload,callback:null,next:null});e:{var wt=r,zt=W;Me=i;var zn=l;switch(zt.tag){case 1:if(wt=zt.payload,typeof wt=="function"){Xe=wt.call(zn,Xe,Me);break e}Xe=wt;break e;case 3:wt.flags=wt.flags&-65537|128;case 0:if(wt=zt.payload,Me=typeof wt=="function"?wt.call(zn,Xe,Me):wt,Me==null)break e;Xe=x({},Xe,Me);break e;case 2:mt=!0}}Me=W.callback,Me!==null&&(r.flags|=64,Ie&&(r.flags|=8192),Ie=m.callbacks,Ie===null?m.callbacks=[Me]:Ie.push(Me))}else Ie={lane:Me,tag:W.tag,payload:W.payload,callback:W.callback,next:null},Fe===null?(De=Fe=Ie,ge=Xe):Fe=Fe.next=Ie,C|=Me;if(W=W.next,W===null){if(W=m.shared.pending,W===null)break;Ie=W,W=Ie.next,Ie.next=null,m.lastBaseUpdate=Ie,m.shared.pending=null}}while(!0);Fe===null&&(ge=Xe),m.baseState=ge,m.firstBaseUpdate=De,m.lastBaseUpdate=Fe,v===null&&(m.shared.lanes=0),dl|=C,r.lanes=C,r.memoizedState=Xe}}function ri(r,i){if(typeof r!="function")throw Error(a(191,r));r.call(i)}function yr(r,i){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)ri(l[r],i)}var Zt=G(null),cn=G(0);function Kn(r,i){r=To,F(cn,r),F(Zt,i),To=r|i.baseLanes}function gn(){F(cn,To),F(Zt,Zt.current)}function jr(){To=cn.current,L(Zt),L(cn)}var Xn=G(null),dn=null;function cr(r){var i=r.alternate;F(ln,ln.current&1),F(Xn,r),dn===null&&(i===null||Zt.current!==null||i.memoizedState!==null)&&(dn=r)}function xn(r){F(ln,ln.current),F(Xn,r),dn===null&&(dn=r)}function br(r){r.tag===22?(F(ln,ln.current),F(Xn,r),dn===null&&(dn=r)):vr()}function vr(){F(ln,ln.current),F(Xn,Xn.current)}function kn(r){L(Xn),dn===r&&(dn=null),L(ln)}var ln=G(0);function ii(r){for(var i=r;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||cp(l)||dp(l)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var er=0,Ct=null,Rt=null,fn=null,xi=!1,Ki=!1,hi=!1,wr=0,Hs=0,$s=null,Vu=0;function Dn(){throw Error(a(321))}function Zc(r,i){if(i===null)return!1;for(var l=0;l<i.length&&l<r.length;l++)if(!Fr(r[l],i[l]))return!1;return!0}function Qc(r,i,l,c,m,v){return er=v,Ct=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,J.H=r===null||r.memoizedState===null?Dg:x0,hi=!1,v=l(c,m),hi=!1,Ki&&(v=ps(i,l,c,m)),Ku(r),v}function Ku(r){J.H=od;var i=Rt!==null&&Rt.next!==null;if(er=0,fn=Rt=Ct=null,xi=!1,Hs=0,$s=null,i)throw Error(a(300));r===null||zr||(r=r.dependencies,r!==null&&Wu(r)&&(zr=!0))}function ps(r,i,l,c){Ct=r;var m=0;do{if(Ki&&($s=null),Hs=0,Ki=!1,25<=m)throw Error(a(301));if(m+=1,fn=Rt=null,r.updateQueue!=null){var v=r.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}J.H=Mg,v=i(l,c)}while(Ki);return v}function p0(){var r=J.H,i=r.useState()[0];return i=typeof i.then=="function"?Ws(i):i,r=r.useState()[0],(Rt!==null?Rt.memoizedState:null)!==r&&(Ct.flags|=1024),i}function ed(){var r=wr!==0;return wr=0,r}function td(r,i,l){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~l}function Xu(r){if(xi){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}xi=!1}er=0,fn=Rt=Ct=null,Ki=!1,Hs=wr=0,$s=null}function Mr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fn===null?Ct.memoizedState=fn=r:fn=fn.next=r,fn}function tr(){if(Rt===null){var r=Ct.alternate;r=r!==null?r.memoizedState:null}else r=Rt.next;var i=fn===null?Ct.memoizedState:fn.next;if(i!==null)fn=i,Rt=r;else{if(r===null)throw Ct.alternate===null?Error(a(467)):Error(a(310));Rt=r,r={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},fn===null?Ct.memoizedState=fn=r:fn=fn.next=r}return fn}function iu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ws(r){var i=Hs;return Hs+=1,$s===null&&($s=[]),r=Ue($s,r,i),i=Ct,(fn===null?i.memoizedState:fn.next)===null&&(i=i.alternate,J.H=i===null||i.memoizedState===null?Dg:x0),r}function al(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Ws(r);if(r.$$typeof===U)return Gr(r)}throw Error(a(438,String(r)))}function bo(r){var i=null,l=Ct.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var c=Ct.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(m){return m.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=iu(),Ct.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(r),c=0;c<r;c++)l[c]=ue;return i.index++,l}function Pa(r,i){return typeof i=="function"?i(r):i}function Ju(r){var i=tr();return sl(i,Rt,r)}function sl(r,i,l){var c=r.queue;if(c===null)throw Error(a(311));c.lastRenderedReducer=l;var m=r.baseQueue,v=c.pending;if(v!==null){if(m!==null){var C=m.next;m.next=v.next,v.next=C}i.baseQueue=m=v,c.pending=null}if(v=r.baseState,m===null)r.memoizedState=v;else{i=m.next;var W=C=null,ge=null,De=i,Fe=!1;do{var Xe=De.lane&-536870913;if(Xe!==De.lane?(rn&Xe)===Xe:(er&Xe)===Xe){var Me=De.revertLane;if(Me===0)ge!==null&&(ge=ge.next={lane:0,revertLane:0,gesture:null,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null}),Xe===p&&(Fe=!0);else if((er&Me)===Me){De=De.next,Me===p&&(Fe=!0);continue}else Xe={lane:0,revertLane:De.revertLane,gesture:null,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null},ge===null?(W=ge=Xe,C=v):ge=ge.next=Xe,Ct.lanes|=Me,dl|=Me;Xe=De.action,hi&&l(v,Xe),v=De.hasEagerState?De.eagerState:l(v,Xe)}else Me={lane:Xe,revertLane:De.revertLane,gesture:De.gesture,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null},ge===null?(W=ge=Me,C=v):ge=ge.next=Me,Ct.lanes|=Xe,dl|=Xe;De=De.next}while(De!==null&&De!==i);if(ge===null?C=v:ge.next=W,!Fr(v,r.memoizedState)&&(zr=!0,Fe&&(l=b,l!==null)))throw l;r.memoizedState=v,r.baseState=C,r.baseQueue=ge,c.lastRenderedState=v}return m===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function Zu(r){var i=tr(),l=i.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var c=l.dispatch,m=l.pending,v=i.memoizedState;if(m!==null){l.pending=null;var C=m=m.next;do v=r(v,C.action),C=C.next;while(C!==m);Fr(v,i.memoizedState)||(zr=!0),i.memoizedState=v,i.baseQueue===null&&(i.baseState=v),l.lastRenderedState=v}return[v,c]}function Qu(r,i,l){var c=Ct,m=tr(),v=en;if(v){if(l===void 0)throw Error(a(407));l=l()}else l=i();var C=!Fr((Rt||m).memoizedState,l);if(C&&(m.memoizedState=l,zr=!0),m=m.queue,g0(rd.bind(null,c,m,r),[r]),m.getSnapshot!==i||C||fn!==null&&fn.memoizedState.tag&1){if(c.flags|=2048,wo(9,{destroy:void 0},nd.bind(null,c,m,l,i),null),Pn===null)throw Error(a(349));v||(er&127)!==0||gs(c,i,l)}return l}function gs(r,i,l){r.flags|=16384,r={getSnapshot:i,value:l},i=Ct.updateQueue,i===null?(i=iu(),Ct.updateQueue=i,i.stores=[r]):(l=i.stores,l===null?i.stores=[r]:l.push(r))}function nd(r,i,l,c){i.value=l,i.getSnapshot=c,gf(i)&&id(r)}function rd(r,i,l){return l(function(){gf(i)&&id(r)})}function gf(r){var i=r.getSnapshot;r=r.value;try{var l=i();return!Fr(r,l)}catch{return!0}}function id(r){var i=fs(r,2);i!==null&&ea(i,r,2)}function Gs(r){var i=Mr();if(typeof r=="function"){var l=r;if(r=l(),hi){st(!0);try{l()}finally{st(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pa,lastRenderedState:r},i}function mf(r,i,l,c){return r.baseState=l,sl(r,Rt,typeof c=="function"?c:Pa)}function yf(r,i,l,c,m){if(xf(r))throw Error(a(485));if(r=i.action,r!==null){var v={payload:m,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){v.listeners.push(C)}};J.T!==null?l(!0):v.isTransition=!1,c(v),l=i.pending,l===null?(v.next=i.pending=v,bf(i,v)):(v.next=l.next,i.pending=l.next=v)}}function bf(r,i){var l=i.action,c=i.payload,m=r.state;if(i.isTransition){var v=J.T,C={};J.T=C;try{var W=l(m,c),ge=J.S;ge!==null&&ge(C,W),ad(r,i,W)}catch(De){vo(r,i,De)}finally{v!==null&&C.types!==null&&(v.types=C.types),J.T=v}}else try{v=l(m,c),ad(r,i,v)}catch(De){vo(r,i,De)}}function ad(r,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){vf(r,i,c)},function(c){return vo(r,i,c)}):vf(r,i,l)}function vf(r,i,l){i.status="fulfilled",i.value=l,ec(i),r.state=l,i=r.pending,i!==null&&(l=i.next,l===i?r.pending=null:(l=l.next,i.next=l,bf(r,l)))}function vo(r,i,l){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=l,ec(i),i=i.next;while(i!==c)}r.action=null}function ec(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function au(r,i){return i}function Ua(r,i){if(en){var l=Pn.formState;if(l!==null){e:{var c=Ct;if(en){if(Bn){t:{for(var m=Bn,v=Qn;m.nodeType!==8;){if(!v){m=null;break t}if(m=qa(m.nextSibling),m===null){m=null;break t}}v=m.data,m=v==="F!"||v==="F"?m:null}if(m){Bn=qa(m.nextSibling),c=m.data==="F!";break e}}Is(c)}c=!1}c&&(i=l[0])}}return l=Mr(),l.memoizedState=l.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:au,lastRenderedState:i},l.queue=c,l=Cg.bind(null,Ct,c),c.dispatch=l,c=Gs(!1),v=w0.bind(null,Ct,!1,c.queue),c=Mr(),m={state:i,dispatch:null,action:r,pending:null},c.queue=m,l=yf.bind(null,Ct,m,v,l),m.dispatch=l,c.memoizedState=r,[i,l,!1]}function ms(r){var i=tr();return ys(i,Rt,r)}function ys(r,i,l){if(i=sl(r,i,au)[0],r=Ju(Pa)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=Ws(i)}catch(C){throw C===we?te:C}else c=i;i=tr();var m=i.queue,v=m.dispatch;return l!==i.memoizedState&&(Ct.flags|=2048,wo(9,{destroy:void 0},tc.bind(null,m,l),null)),[c,v,r]}function tc(r,i){r.action=i}function nc(r){var i=tr(),l=Rt;if(l!==null)return ys(i,l,r);tr(),i=i.memoizedState,l=tr();var c=l.queue.dispatch;return l.memoizedState=r,[i,c,!1]}function wo(r,i,l,c){return r={tag:r,create:l,deps:c,inst:i,next:null},i=Ct.updateQueue,i===null&&(i=iu(),Ct.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=r.next=r:(c=l.next,l.next=r,r.next=c,i.lastEffect=r),r}function wf(){return tr().memoizedState}function ol(r,i,l,c){var m=Mr();Ct.flags|=r,m.memoizedState=wo(1|i,{destroy:void 0},l,c===void 0?null:c)}function ll(r,i,l,c){var m=tr();c=c===void 0?null:c;var v=m.memoizedState.inst;Rt!==null&&c!==null&&Zc(c,Rt.memoizedState.deps)?m.memoizedState=wo(i,v,l,c):(Ct.flags|=r,m.memoizedState=wo(1|i,v,l,c))}function yg(r,i){ol(8390656,8,r,i)}function g0(r,i){ll(2048,8,r,i)}function fw(r){Ct.flags|=4;var i=Ct.updateQueue;if(i===null)i=iu(),Ct.updateQueue=i,i.events=[r];else{var l=i.events;l===null?i.events=[r]:l.push(r)}}function bg(r){var i=tr().memoizedState;return fw({ref:i,nextImpl:r}),function(){if((_n&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function vg(r,i){return ll(4,2,r,i)}function wg(r,i){return ll(4,4,r,i)}function xg(r,i){if(typeof i=="function"){r=r();var l=i(r);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function _g(r,i,l){l=l!=null?l.concat([r]):null,ll(4,4,xg.bind(null,i,r),l)}function m0(){}function Sg(r,i){var l=tr();i=i===void 0?null:i;var c=l.memoizedState;return i!==null&&Zc(i,c[1])?c[0]:(l.memoizedState=[r,i],r)}function Ag(r,i){var l=tr();i=i===void 0?null:i;var c=l.memoizedState;if(i!==null&&Zc(i,c[1]))return c[0];if(c=r(),hi){st(!0);try{r()}finally{st(!1)}}return l.memoizedState=[c,i],c}function y0(r,i,l){return l===void 0||(er&1073741824)!==0&&(rn&261930)===0?r.memoizedState=i:(r.memoizedState=l,r=Em(),Ct.lanes|=r,dl|=r,l)}function Eg(r,i,l,c){return Fr(l,i)?l:Zt.current!==null?(r=y0(r,l,c),Fr(r,i)||(zr=!0),r):(er&42)===0||(er&1073741824)!==0&&(rn&261930)===0?(zr=!0,r.memoizedState=l):(r=Em(),Ct.lanes|=r,dl|=r,i)}function kg(r,i,l,c,m){var v=ee.p;ee.p=v!==0&&8>v?v:8;var C=J.T,W={};J.T=W,w0(r,!1,i,l);try{var ge=m(),De=J.S;if(De!==null&&De(W,ge),ge!==null&&typeof ge=="object"&&typeof ge.then=="function"){var Fe=I(ge,c);sd(r,i,Fe,ba(r))}else sd(r,i,c,ba(r))}catch(Xe){sd(r,i,{then:function(){},status:"rejected",reason:Xe},ba())}finally{ee.p=v,C!==null&&W.types!==null&&(C.types=W.types),J.T=C}}function hw(){}function b0(r,i,l,c){if(r.tag!==5)throw Error(a(476));var m=Tg(r).queue;kg(r,m,i,he,l===null?hw:function(){return Lg(r),l(c)})}function Tg(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pa,lastRenderedState:he},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pa,lastRenderedState:l},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function Lg(r){var i=Tg(r);i.next===null&&(i=r.alternate.memoizedState),sd(r,i.next.queue,{},ba())}function v0(){return Gr(Sd)}function jg(){return tr().memoizedState}function Ng(){return tr().memoizedState}function pw(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var l=ba();r=Mt(l);var c=Xt(i,r,l);c!==null&&(ea(c,i,l),wn(c,i,l)),i={cache:il()},r.payload=i;return}i=i.return}}function gw(r,i,l){var c=ba();l={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},xf(r)?Rg(i,l):(l=Bu(r,i,l,c),l!==null&&(ea(l,r,c),Og(l,i,c)))}function Cg(r,i,l){var c=ba();sd(r,i,l,c)}function sd(r,i,l,c){var m={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(xf(r))Rg(i,m);else{var v=r.alternate;if(r.lanes===0&&(v===null||v.lanes===0)&&(v=i.lastRenderedReducer,v!==null))try{var C=i.lastRenderedState,W=v(C,l);if(m.hasEagerState=!0,m.eagerState=W,Fr(W,C))return Jl(r,i,m,0),Pn===null&&Xl(),!1}catch{}if(l=Bu(r,i,m,c),l!==null)return ea(l,r,c),Og(l,i,c),!0}return!1}function w0(r,i,l,c){if(c={lane:2,revertLane:Z0(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},xf(r)){if(i)throw Error(a(479))}else i=Bu(r,l,c,2),i!==null&&ea(i,r,2)}function xf(r){var i=r.alternate;return r===Ct||i!==null&&i===Ct}function Rg(r,i){Ki=xi=!0;var l=r.pending;l===null?i.next=i:(i.next=l.next,l.next=i),r.pending=i}function Og(r,i,l){if((l&4194048)!==0){var c=i.lanes;c&=r.pendingLanes,l|=c,i.lanes=l,Fn(r,l)}}var od={readContext:Gr,use:al,useCallback:Dn,useContext:Dn,useEffect:Dn,useImperativeHandle:Dn,useLayoutEffect:Dn,useInsertionEffect:Dn,useMemo:Dn,useReducer:Dn,useRef:Dn,useState:Dn,useDebugValue:Dn,useDeferredValue:Dn,useTransition:Dn,useSyncExternalStore:Dn,useId:Dn,useHostTransitionStatus:Dn,useFormState:Dn,useActionState:Dn,useOptimistic:Dn,useMemoCache:Dn,useCacheRefresh:Dn};od.useEffectEvent=Dn;var Dg={readContext:Gr,use:al,useCallback:function(r,i){return Mr().memoizedState=[r,i===void 0?null:i],r},useContext:Gr,useEffect:yg,useImperativeHandle:function(r,i,l){l=l!=null?l.concat([r]):null,ol(4194308,4,xg.bind(null,i,r),l)},useLayoutEffect:function(r,i){return ol(4194308,4,r,i)},useInsertionEffect:function(r,i){ol(4,2,r,i)},useMemo:function(r,i){var l=Mr();i=i===void 0?null:i;var c=r();if(hi){st(!0);try{r()}finally{st(!1)}}return l.memoizedState=[c,i],c},useReducer:function(r,i,l){var c=Mr();if(l!==void 0){var m=l(i);if(hi){st(!0);try{l(i)}finally{st(!1)}}}else m=i;return c.memoizedState=c.baseState=m,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:m},c.queue=r,r=r.dispatch=gw.bind(null,Ct,r),[c.memoizedState,r]},useRef:function(r){var i=Mr();return r={current:r},i.memoizedState=r},useState:function(r){r=Gs(r);var i=r.queue,l=Cg.bind(null,Ct,i);return i.dispatch=l,[r.memoizedState,l]},useDebugValue:m0,useDeferredValue:function(r,i){var l=Mr();return y0(l,r,i)},useTransition:function(){var r=Gs(!1);return r=kg.bind(null,Ct,r.queue,!0,!1),Mr().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,l){var c=Ct,m=Mr();if(en){if(l===void 0)throw Error(a(407));l=l()}else{if(l=i(),Pn===null)throw Error(a(349));(rn&127)!==0||gs(c,i,l)}m.memoizedState=l;var v={value:l,getSnapshot:i};return m.queue=v,yg(rd.bind(null,c,v,r),[r]),c.flags|=2048,wo(9,{destroy:void 0},nd.bind(null,c,v,l,i),null),l},useId:function(){var r=Mr(),i=Pn.identifierPrefix;if(en){var l=Yi,c=Gi;l=(c&~(1<<32-ct(c)-1)).toString(32)+l,i="_"+i+"R_"+l,l=wr++,0<l&&(i+="H"+l.toString(32)),i+="_"}else l=Vu++,i="_"+i+"r_"+l.toString(32)+"_";return r.memoizedState=i},useHostTransitionStatus:v0,useFormState:Ua,useActionState:Ua,useOptimistic:function(r){var i=Mr();i.memoizedState=i.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=w0.bind(null,Ct,!0,l),l.dispatch=i,[r,i]},useMemoCache:bo,useCacheRefresh:function(){return Mr().memoizedState=pw.bind(null,Ct)},useEffectEvent:function(r){var i=Mr(),l={impl:r};return i.memoizedState=l,function(){if((_n&2)!==0)throw Error(a(440));return l.impl.apply(void 0,arguments)}}},x0={readContext:Gr,use:al,useCallback:Sg,useContext:Gr,useEffect:g0,useImperativeHandle:_g,useInsertionEffect:vg,useLayoutEffect:wg,useMemo:Ag,useReducer:Ju,useRef:wf,useState:function(){return Ju(Pa)},useDebugValue:m0,useDeferredValue:function(r,i){var l=tr();return Eg(l,Rt.memoizedState,r,i)},useTransition:function(){var r=Ju(Pa)[0],i=tr().memoizedState;return[typeof r=="boolean"?r:Ws(r),i]},useSyncExternalStore:Qu,useId:jg,useHostTransitionStatus:v0,useFormState:ms,useActionState:ms,useOptimistic:function(r,i){var l=tr();return mf(l,Rt,r,i)},useMemoCache:bo,useCacheRefresh:Ng};x0.useEffectEvent=bg;var Mg={readContext:Gr,use:al,useCallback:Sg,useContext:Gr,useEffect:g0,useImperativeHandle:_g,useInsertionEffect:vg,useLayoutEffect:wg,useMemo:Ag,useReducer:Zu,useRef:wf,useState:function(){return Zu(Pa)},useDebugValue:m0,useDeferredValue:function(r,i){var l=tr();return Rt===null?y0(l,r,i):Eg(l,Rt.memoizedState,r,i)},useTransition:function(){var r=Zu(Pa)[0],i=tr().memoizedState;return[typeof r=="boolean"?r:Ws(r),i]},useSyncExternalStore:Qu,useId:jg,useHostTransitionStatus:v0,useFormState:nc,useActionState:nc,useOptimistic:function(r,i){var l=tr();return Rt!==null?mf(l,Rt,r,i):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:bo,useCacheRefresh:Ng};Mg.useEffectEvent=bg;function _0(r,i,l,c){i=r.memoizedState,l=l(c,i),l=l==null?i:x({},i,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var S0={enqueueSetState:function(r,i,l){r=r._reactInternals;var c=ba(),m=Mt(c);m.payload=i,l!=null&&(m.callback=l),i=Xt(r,m,c),i!==null&&(ea(i,r,c),wn(i,r,c))},enqueueReplaceState:function(r,i,l){r=r._reactInternals;var c=ba(),m=Mt(c);m.tag=1,m.payload=i,l!=null&&(m.callback=l),i=Xt(r,m,c),i!==null&&(ea(i,r,c),wn(i,r,c))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var l=ba(),c=Mt(l);c.tag=2,i!=null&&(c.callback=i),i=Xt(r,c,l),i!==null&&(ea(i,r,l),wn(i,r,l))}};function zg(r,i,l,c,m,v,C){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,v,C):i.prototype&&i.prototype.isPureReactComponent?!ls(l,c)||!ls(m,v):!0}function Bg(r,i,l,c){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,c),i.state!==r&&S0.enqueueReplaceState(i,i.state,null)}function su(r,i){var l=i;if("ref"in i){l={};for(var c in i)c!=="ref"&&(l[c]=i[c])}if(r=r.defaultProps){l===i&&(l=x({},l));for(var m in r)l[m]===void 0&&(l[m]=r[m])}return l}function Ig(r){Kl(r)}function Pg(r){console.error(r)}function Ug(r){Kl(r)}function _f(r,i){try{var l=r.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function qg(r,i,l){try{var c=r.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function A0(r,i,l){return l=Mt(l),l.tag=3,l.payload={element:null},l.callback=function(){_f(r,i)},l}function Fg(r){return r=Mt(r),r.tag=3,r}function Hg(r,i,l,c){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var v=c.value;r.payload=function(){return m(v)},r.callback=function(){qg(i,l,c)}}var C=l.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(r.callback=function(){qg(i,l,c),typeof m!="function"&&(fl===null?fl=new Set([this]):fl.add(this));var W=c.stack;this.componentDidCatch(c.value,{componentStack:W!==null?W:""})})}function mw(r,i,l,c,m){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=l.alternate,i!==null&&qs(i,l,m,!0),l=Xn.current,l!==null){switch(l.tag){case 31:case 13:return dn===null?Df():l.alternate===null&&xr===0&&(xr=3),l.flags&=-257,l.flags|=65536,l.lanes=m,c===Se?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([c]):i.add(c),K0(r,c,m)),!1;case 22:return l.flags|=65536,c===Se?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([c]):l.add(c)),K0(r,c,m)),!1}throw Error(a(435,l.tag))}return K0(r,c,m),Df(),!1}if(en)return i=Xn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=m,c!==ga&&(r=Error(a(422),{cause:c}),nl(Hi(r,l)))):(c!==ga&&(i=Error(a(423),{cause:c}),nl(Hi(i,l))),r=r.current.alternate,r.flags|=65536,m&=-m,r.lanes|=m,c=Hi(c,l),m=A0(r.stateNode,c,m),Lr(r,m),xr!==4&&(xr=2)),!1;var v=Error(a(520),{cause:c});if(v=Hi(v,l),gd===null?gd=[v]:gd.push(v),xr!==4&&(xr=2),i===null)return!0;c=Hi(c,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,r=m&-m,l.lanes|=r,r=A0(l.stateNode,c,r),Lr(l,r),!1;case 1:if(i=l.type,v=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(fl===null||!fl.has(v))))return l.flags|=65536,m&=-m,l.lanes|=m,m=Fg(m),Hg(m,r,l,c),Lr(l,m),!1}l=l.return}while(l!==null);return!1}var E0=Error(a(461)),zr=!1;function pi(r,i,l,c){i.child=r===null?Gt(i,null,l,c):In(i,r.child,l,c)}function $g(r,i,l,c,m){l=l.render;var v=i.ref;if("ref"in c){var C={};for(var W in c)W!=="ref"&&(C[W]=c[W])}else C=c;return Fs(i),c=Qc(r,i,l,C,v,m),W=ed(),r!==null&&!zr?(td(r,i,m),xo(r,i,m)):(en&&W&&Kc(i),i.flags|=1,pi(r,i,c,m),i.child)}function Wg(r,i,l,c,m){if(r===null){var v=l.type;return typeof v=="function"&&!Pu(v)&&v.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=v,Gg(r,i,v,c,m)):(r=Qo(l.type,null,c,i,i.mode,m),r.ref=i.ref,r.return=i,i.child=r)}if(v=r.child,!O0(r,m)){var C=v.memoizedProps;if(l=l.compare,l=l!==null?l:ls,l(C,c)&&r.ref===i.ref)return xo(r,i,m)}return i.flags|=1,r=Fi(v,c),r.ref=i.ref,r.return=i,i.child=r}function Gg(r,i,l,c,m){if(r!==null){var v=r.memoizedProps;if(ls(v,c)&&r.ref===i.ref)if(zr=!1,i.pendingProps=c=v,O0(r,m))(r.flags&131072)!==0&&(zr=!0);else return i.lanes=r.lanes,xo(r,i,m)}return k0(r,i,l,c,m)}function Yg(r,i,l,c){var m=c.children,v=r!==null?r.memoizedState:null;if(r===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((i.flags&128)!==0){if(v=v!==null?v.baseLanes|l:l,r!==null){for(c=i.child=r.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~v}else c=0,i.child=null;return Vg(r,i,v,l,c)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&Z(i,v!==null?v.cachePool:null),v!==null?Kn(i,v):gn(),br(i);else return c=i.lanes=536870912,Vg(r,i,v!==null?v.baseLanes|l:l,l,c)}else v!==null?(Z(i,v.cachePool),Kn(i,v),vr(),i.memoizedState=null):(r!==null&&Z(i,null),gn(),vr());return pi(r,i,m,l),i.child}function ld(r,i){return r!==null&&r.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Vg(r,i,l,c,m){var v=Y();return v=v===null?null:{parent:ur._currentValue,pool:v},i.memoizedState={baseLanes:l,cachePool:v},r!==null&&Z(i,null),gn(),br(i),r!==null&&qs(r,i,c,!0),i.childLanes=m,null}function Sf(r,i){return i=Ef({mode:i.mode,children:i.children},r.mode),i.ref=r.ref,r.child=i,i.return=r,i}function Kg(r,i,l){return In(i,r.child,null,l),r=Sf(i,i.pendingProps),r.flags|=2,kn(i),i.memoizedState=null,r}function yw(r,i,l){var c=i.pendingProps,m=(i.flags&128)!==0;if(i.flags&=-129,r===null){if(en){if(c.mode==="hidden")return r=Sf(i,c),i.lanes=536870912,ld(null,r);if(xn(i),(r=Bn)?(r=o2(r,Qn),r=r!==null&&r.data==="&"?r:null,r!==null&&(i.memoizedState={dehydrated:r,treeContext:Bs!==null?{id:Gi,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},l=Uu(r),l.return=i,i.child=l,$r=i,Bn=null)):r=null,r===null)throw Is(i);return i.lanes=536870912,null}return Sf(i,c)}var v=r.memoizedState;if(v!==null){var C=v.dehydrated;if(xn(i),m)if(i.flags&256)i.flags&=-257,i=Kg(r,i,l);else if(i.memoizedState!==null)i.child=r.child,i.flags|=128,i=null;else throw Error(a(558));else if(zr||qs(r,i,l,!1),m=(l&r.childLanes)!==0,zr||m){if(c=Pn,c!==null&&(C=Wn(c,l),C!==0&&C!==v.retryLane))throw v.retryLane=C,fs(r,C),ea(c,r,C),E0;Df(),i=Kg(r,i,l)}else r=v.treeContext,Bn=qa(C.nextSibling),$r=i,en=!0,fi=null,Qn=!1,r!==null&&hf(i,r),i=Sf(i,c),i.flags|=4096;return i}return r=Fi(r.child,{mode:c.mode,children:c.children}),r.ref=i.ref,i.child=r,r.return=i,r}function Af(r,i){var l=i.ref;if(l===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(a(284));(r===null||r.ref!==l)&&(i.flags|=4194816)}}function k0(r,i,l,c,m){return Fs(i),l=Qc(r,i,l,c,void 0,m),c=ed(),r!==null&&!zr?(td(r,i,m),xo(r,i,m)):(en&&c&&Kc(i),i.flags|=1,pi(r,i,l,m),i.child)}function Xg(r,i,l,c,m,v){return Fs(i),i.updateQueue=null,l=ps(i,c,l,m),Ku(r),c=ed(),r!==null&&!zr?(td(r,i,v),xo(r,i,v)):(en&&c&&Kc(i),i.flags|=1,pi(r,i,l,v),i.child)}function Jg(r,i,l,c,m){if(Fs(i),i.stateNode===null){var v=Hr,C=l.contextType;typeof C=="object"&&C!==null&&(v=Gr(C)),v=new l(c,v),i.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=S0,i.stateNode=v,v._reactInternals=i,v=i.stateNode,v.props=c,v.state=i.memoizedState,v.refs={},ft(i),C=l.contextType,v.context=typeof C=="object"&&C!==null?Gr(C):Hr,v.state=i.memoizedState,C=l.getDerivedStateFromProps,typeof C=="function"&&(_0(i,l,C,c),v.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(C=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),C!==v.state&&S0.enqueueReplaceState(v,v.state,null),mr(i,c,v,m),On(),v.state=i.memoizedState),typeof v.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(r===null){v=i.stateNode;var W=i.memoizedProps,ge=su(l,W);v.props=ge;var De=v.context,Fe=l.contextType;C=Hr,typeof Fe=="object"&&Fe!==null&&(C=Gr(Fe));var Xe=l.getDerivedStateFromProps;Fe=typeof Xe=="function"||typeof v.getSnapshotBeforeUpdate=="function",W=i.pendingProps!==W,Fe||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(W||De!==C)&&Bg(i,v,c,C),mt=!1;var Me=i.memoizedState;v.state=Me,mr(i,c,v,m),On(),De=i.memoizedState,W||Me!==De||mt?(typeof Xe=="function"&&(_0(i,l,Xe,c),De=i.memoizedState),(ge=mt||zg(i,l,ge,c,Me,De,C))?(Fe||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(i.flags|=4194308)):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=De),v.props=c,v.state=De,v.context=C,c=ge):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{v=i.stateNode,Vn(r,i),C=i.memoizedProps,Fe=su(l,C),v.props=Fe,Xe=i.pendingProps,Me=v.context,De=l.contextType,ge=Hr,typeof De=="object"&&De!==null&&(ge=Gr(De)),W=l.getDerivedStateFromProps,(De=typeof W=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(C!==Xe||Me!==ge)&&Bg(i,v,c,ge),mt=!1,Me=i.memoizedState,v.state=Me,mr(i,c,v,m),On();var Ie=i.memoizedState;C!==Xe||Me!==Ie||mt||r!==null&&r.dependencies!==null&&Wu(r.dependencies)?(typeof W=="function"&&(_0(i,l,W,c),Ie=i.memoizedState),(Fe=mt||zg(i,l,Fe,c,Me,Ie,ge)||r!==null&&r.dependencies!==null&&Wu(r.dependencies))?(De||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,Ie,ge),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,Ie,ge)),typeof v.componentDidUpdate=="function"&&(i.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof v.componentDidUpdate!="function"||C===r.memoizedProps&&Me===r.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&Me===r.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=Ie),v.props=c,v.state=Ie,v.context=ge,c=Fe):(typeof v.componentDidUpdate!="function"||C===r.memoizedProps&&Me===r.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&Me===r.memoizedState||(i.flags|=1024),c=!1)}return v=c,Af(r,i),c=(i.flags&128)!==0,v||c?(v=i.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:v.render(),i.flags|=1,r!==null&&c?(i.child=In(i,r.child,null,m),i.child=In(i,null,l,m)):pi(r,i,l,m),i.memoizedState=v.state,r=i.child):r=xo(r,i,m),r}function Zg(r,i,l,c){return mo(),i.flags|=256,pi(r,i,l,c),i.child}var T0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function L0(r){return{baseLanes:r,cachePool:ne()}}function j0(r,i,l){return r=r!==null?r.childLanes&~l:0,i&&(r|=ya),r}function Qg(r,i,l){var c=i.pendingProps,m=!1,v=(i.flags&128)!==0,C;if((C=v)||(C=r!==null&&r.memoizedState===null?!1:(ln.current&2)!==0),C&&(m=!0,i.flags&=-129),C=(i.flags&32)!==0,i.flags&=-33,r===null){if(en){if(m?cr(i):vr(),(r=Bn)?(r=o2(r,Qn),r=r!==null&&r.data!=="&"?r:null,r!==null&&(i.memoizedState={dehydrated:r,treeContext:Bs!==null?{id:Gi,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},l=Uu(r),l.return=i,i.child=l,$r=i,Bn=null)):r=null,r===null)throw Is(i);return dp(r)?i.lanes=32:i.lanes=536870912,null}var W=c.children;return c=c.fallback,m?(vr(),m=i.mode,W=Ef({mode:"hidden",children:W},m),c=zs(c,m,l,null),W.return=i,c.return=i,W.sibling=c,i.child=W,c=i.child,c.memoizedState=L0(l),c.childLanes=j0(r,C,l),i.memoizedState=T0,ld(null,c)):(cr(i),N0(i,W))}var ge=r.memoizedState;if(ge!==null&&(W=ge.dehydrated,W!==null)){if(v)i.flags&256?(cr(i),i.flags&=-257,i=C0(r,i,l)):i.memoizedState!==null?(vr(),i.child=r.child,i.flags|=128,i=null):(vr(),W=c.fallback,m=i.mode,c=Ef({mode:"visible",children:c.children},m),W=zs(W,m,l,null),W.flags|=2,c.return=i,W.return=i,c.sibling=W,i.child=c,In(i,r.child,null,l),c=i.child,c.memoizedState=L0(l),c.childLanes=j0(r,C,l),i.memoizedState=T0,i=ld(null,c));else if(cr(i),dp(W)){if(C=W.nextSibling&&W.nextSibling.dataset,C)var De=C.dgst;C=De,c=Error(a(419)),c.stack="",c.digest=C,nl({value:c,source:null,stack:null}),i=C0(r,i,l)}else if(zr||qs(r,i,l,!1),C=(l&r.childLanes)!==0,zr||C){if(C=Pn,C!==null&&(c=Wn(C,l),c!==0&&c!==ge.retryLane))throw ge.retryLane=c,fs(r,c),ea(C,r,c),E0;cp(W)||Df(),i=C0(r,i,l)}else cp(W)?(i.flags|=192,i.child=r.child,i=null):(r=ge.treeContext,Bn=qa(W.nextSibling),$r=i,en=!0,fi=null,Qn=!1,r!==null&&hf(i,r),i=N0(i,c.children),i.flags|=4096);return i}return m?(vr(),W=c.fallback,m=i.mode,ge=r.child,De=ge.sibling,c=Fi(ge,{mode:"hidden",children:c.children}),c.subtreeFlags=ge.subtreeFlags&65011712,De!==null?W=Fi(De,W):(W=zs(W,m,l,null),W.flags|=2),W.return=i,c.return=i,c.sibling=W,i.child=c,ld(null,c),c=i.child,W=r.child.memoizedState,W===null?W=L0(l):(m=W.cachePool,m!==null?(ge=ur._currentValue,m=m.parent!==ge?{parent:ge,pool:ge}:m):m=ne(),W={baseLanes:W.baseLanes|l,cachePool:m}),c.memoizedState=W,c.childLanes=j0(r,C,l),i.memoizedState=T0,ld(r.child,c)):(cr(i),l=r.child,r=l.sibling,l=Fi(l,{mode:"visible",children:c.children}),l.return=i,l.sibling=null,r!==null&&(C=i.deletions,C===null?(i.deletions=[r],i.flags|=16):C.push(r)),i.child=l,i.memoizedState=null,l)}function N0(r,i){return i=Ef({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function Ef(r,i){return r=ni(22,r,null,i),r.lanes=0,r}function C0(r,i,l){return In(i,r.child,null,l),r=N0(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function em(r,i,l){r.lanes|=i;var c=r.alternate;c!==null&&(c.lanes|=i),rl(r.return,i,l)}function R0(r,i,l,c,m,v){var C=r.memoizedState;C===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:m,treeForkCount:v}:(C.isBackwards=i,C.rendering=null,C.renderingStartTime=0,C.last=c,C.tail=l,C.tailMode=m,C.treeForkCount=v)}function tm(r,i,l){var c=i.pendingProps,m=c.revealOrder,v=c.tail;c=c.children;var C=ln.current,W=(C&2)!==0;if(W?(C=C&1|2,i.flags|=128):C&=1,F(ln,C),pi(r,i,c,l),c=en?tu:0,!W&&r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&em(r,l,i);else if(r.tag===19)em(r,l,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(m){case"forwards":for(l=i.child,m=null;l!==null;)r=l.alternate,r!==null&&ii(r)===null&&(m=l),l=l.sibling;l=m,l===null?(m=i.child,i.child=null):(m=l.sibling,l.sibling=null),R0(i,!1,m,l,v,c);break;case"backwards":case"unstable_legacy-backwards":for(l=null,m=i.child,i.child=null;m!==null;){if(r=m.alternate,r!==null&&ii(r)===null){i.child=m;break}r=m.sibling,m.sibling=l,l=m,m=r}R0(i,!0,l,null,v,c);break;case"together":R0(i,!1,null,null,void 0,c);break;default:i.memoizedState=null}return i.child}function xo(r,i,l){if(r!==null&&(i.dependencies=r.dependencies),dl|=i.lanes,(l&i.childLanes)===0)if(r!==null){if(qs(r,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(a(153));if(i.child!==null){for(r=i.child,l=Fi(r,r.pendingProps),i.child=l,l.return=i;r.sibling!==null;)r=r.sibling,l=l.sibling=Fi(r,r.pendingProps),l.return=i;l.sibling=null}return i.child}function O0(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&Wu(r)))}function bw(r,i,l){switch(i.tag){case 3:pe(i,i.stateNode.containerInfo),Us(i,ur,r.memoizedState.cache),mo();break;case 27:case 5:Ee(i);break;case 4:pe(i,i.stateNode.containerInfo);break;case 10:Us(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,xn(i),null;break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(cr(i),i.flags|=128,null):(l&i.child.childLanes)!==0?Qg(r,i,l):(cr(i),r=xo(r,i,l),r!==null?r.sibling:null);cr(i);break;case 19:var m=(r.flags&128)!==0;if(c=(l&i.childLanes)!==0,c||(qs(r,i,l,!1),c=(l&i.childLanes)!==0),m){if(c)return tm(r,i,l);i.flags|=128}if(m=i.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),F(ln,ln.current),c)break;return null;case 22:return i.lanes=0,Yg(r,i,l,i.pendingProps);case 24:Us(i,ur,r.memoizedState.cache)}return xo(r,i,l)}function nm(r,i,l){if(r!==null)if(r.memoizedProps!==i.pendingProps)zr=!0;else{if(!O0(r,l)&&(i.flags&128)===0)return zr=!1,bw(r,i,l);zr=(r.flags&131072)!==0}else zr=!1,en&&(i.flags&1048576)!==0&&ff(i,tu,i.index);switch(i.lanes=0,i.tag){case 16:e:{var c=i.pendingProps;if(r=Ne(i.elementType),i.type=r,typeof r=="function")Pu(r)?(c=su(r,c),i.tag=1,i=Jg(null,i,r,c,l)):(i.tag=0,i=k0(null,i,r,c,l));else{if(r!=null){var m=r.$$typeof;if(m===M){i.tag=11,i=$g(null,i,r,c,l);break e}else if(m===oe){i.tag=14,i=Wg(null,i,r,c,l);break e}}throw i=se(r)||r,Error(a(306,i,""))}}return i;case 0:return k0(r,i,i.type,i.pendingProps,l);case 1:return c=i.type,m=su(c,i.pendingProps),Jg(r,i,c,m,l);case 3:e:{if(pe(i,i.stateNode.containerInfo),r===null)throw Error(a(387));c=i.pendingProps;var v=i.memoizedState;m=v.element,Vn(r,i),mr(i,c,null,l);var C=i.memoizedState;if(c=C.cache,Us(i,ur,c),c!==v.cache&&yo(i,[ur],l,!0),On(),c=C.element,v.isDehydrated)if(v={element:c,isDehydrated:!1,cache:C.cache},i.updateQueue.baseState=v,i.memoizedState=v,i.flags&256){i=Zg(r,i,c,l);break e}else if(c!==m){m=Hi(Error(a(424)),i),nl(m),i=Zg(r,i,c,l);break e}else for(r=i.stateNode.containerInfo,r.nodeType===9?r=r.body:r=r.nodeName==="HTML"?r.ownerDocument.body:r,Bn=qa(r.firstChild),$r=i,en=!0,fi=null,Qn=!0,l=Gt(i,null,c,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(mo(),c===m){i=xo(r,i,l);break e}pi(r,i,c,l)}i=i.child}return i;case 26:return Af(r,i),r===null?(l=h2(i.type,null,i.pendingProps,null))?i.memoizedState=l:en||(l=i.type,r=i.pendingProps,c=qf(R.current).createElement(l),c[En]=i,c[Gn]=r,gi(c,l,r),ar(c),i.stateNode=c):i.memoizedState=h2(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return Ee(i),r===null&&en&&(c=i.stateNode=c2(i.type,i.pendingProps,R.current),$r=i,Qn=!0,m=Bn,ml(i.type)?(fp=m,Bn=qa(c.firstChild)):Bn=m),pi(r,i,i.pendingProps.children,l),Af(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&en&&((m=c=Bn)&&(c=Vw(c,i.type,i.pendingProps,Qn),c!==null?(i.stateNode=c,$r=i,Bn=qa(c.firstChild),Qn=!1,m=!0):m=!1),m||Is(i)),Ee(i),m=i.type,v=i.pendingProps,C=r!==null?r.memoizedProps:null,c=v.children,op(m,v)?c=null:C!==null&&op(m,C)&&(i.flags|=32),i.memoizedState!==null&&(m=Qc(r,i,p0,null,null,l),Sd._currentValue=m),Af(r,i),pi(r,i,c,l),i.child;case 6:return r===null&&en&&((r=l=Bn)&&(l=Kw(l,i.pendingProps,Qn),l!==null?(i.stateNode=l,$r=i,Bn=null,r=!0):r=!1),r||Is(i)),null;case 13:return Qg(r,i,l);case 4:return pe(i,i.stateNode.containerInfo),c=i.pendingProps,r===null?i.child=In(i,null,c,l):pi(r,i,c,l),i.child;case 11:return $g(r,i,i.type,i.pendingProps,l);case 7:return pi(r,i,i.pendingProps,l),i.child;case 8:return pi(r,i,i.pendingProps.children,l),i.child;case 12:return pi(r,i,i.pendingProps.children,l),i.child;case 10:return c=i.pendingProps,Us(i,i.type,c.value),pi(r,i,c.children,l),i.child;case 9:return m=i.type._context,c=i.pendingProps.children,Fs(i),m=Gr(m),c=c(m),i.flags|=1,pi(r,i,c,l),i.child;case 14:return Wg(r,i,i.type,i.pendingProps,l);case 15:return Gg(r,i,i.type,i.pendingProps,l);case 19:return tm(r,i,l);case 31:return yw(r,i,l);case 22:return Yg(r,i,l,i.pendingProps);case 24:return Fs(i),c=Gr(ur),r===null?(m=Y(),m===null&&(m=Pn,v=il(),m.pooledCache=v,v.refCount++,v!==null&&(m.pooledCacheLanes|=l),m=v),i.memoizedState={parent:c,cache:m},ft(i),Us(i,ur,m)):((r.lanes&l)!==0&&(Vn(r,i),mr(i,null,null,l),On()),m=r.memoizedState,v=i.memoizedState,m.parent!==c?(m={parent:c,cache:c},i.memoizedState=m,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=m),Us(i,ur,c)):(c=v.cache,Us(i,ur,c),c!==m.cache&&yo(i,[ur],l,!0))),pi(r,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function _o(r){r.flags|=4}function D0(r,i,l,c,m){if((i=(r.mode&32)!==0)&&(i=!1),i){if(r.flags|=16777216,(m&335544128)===m)if(r.stateNode.complete)r.flags|=8192;else if(jm())r.flags|=8192;else throw Pe=Se,Ce}else r.flags&=-16777217}function rm(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!b2(i))if(jm())r.flags|=8192;else throw Pe=Se,Ce}function kf(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?qn():536870912,r.lanes|=i,sc|=i)}function ud(r,i){if(!en)switch(r.tailMode){case"hidden":i=r.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function Jn(r){var i=r.alternate!==null&&r.alternate.child===r.child,l=0,c=0;if(i)for(var m=r.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=r,m=m.sibling;else for(m=r.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=r,m=m.sibling;return r.subtreeFlags|=c,r.childLanes=l,i}function vw(r,i,l){var c=i.pendingProps;switch(Hu(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jn(i),null;case 1:return Jn(i),null;case 3:return l=i.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),Vi(ur),ve(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(Wr(i)?_o(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Jc())),Jn(i),null;case 26:var m=i.type,v=i.memoizedState;return r===null?(_o(i),v!==null?(Jn(i),rm(i,v)):(Jn(i),D0(i,m,null,c,l))):v?v!==r.memoizedState?(_o(i),Jn(i),rm(i,v)):(Jn(i),i.flags&=-16777217):(r=r.memoizedProps,r!==c&&_o(i),Jn(i),D0(i,m,r,c,l)),null;case 27:if(qe(i),l=R.current,m=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==c&&_o(i);else{if(!c){if(i.stateNode===null)throw Error(a(166));return Jn(i),null}r=X.current,Wr(i)?Xc(i):(r=c2(m,c,l),i.stateNode=r,_o(i))}return Jn(i),null;case 5:if(qe(i),m=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==c&&_o(i);else{if(!c){if(i.stateNode===null)throw Error(a(166));return Jn(i),null}if(v=X.current,Wr(i))Xc(i);else{var C=qf(R.current);switch(v){case 1:v=C.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:v=C.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":v=C.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":v=C.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":v=C.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof c.is=="string"?C.createElement("select",{is:c.is}):C.createElement("select"),c.multiple?v.multiple=!0:c.size&&(v.size=c.size);break;default:v=typeof c.is=="string"?C.createElement(m,{is:c.is}):C.createElement(m)}}v[En]=i,v[Gn]=c;e:for(C=i.child;C!==null;){if(C.tag===5||C.tag===6)v.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===i)break e;for(;C.sibling===null;){if(C.return===null||C.return===i)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}i.stateNode=v;e:switch(gi(v,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&_o(i)}}return Jn(i),D0(i,i.type,r===null?null:r.memoizedProps,i.pendingProps,l),null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==c&&_o(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(a(166));if(r=R.current,Wr(i)){if(r=i.stateNode,l=i.memoizedProps,c=null,m=$r,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}r[En]=i,r=!!(r.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||Qm(r.nodeValue,l)),r||Is(i,!0)}else r=qf(r).createTextNode(c),r[En]=i,i.stateNode=r}return Jn(i),null;case 31:if(l=i.memoizedState,r===null||r.memoizedState!==null){if(c=Wr(i),l!==null){if(r===null){if(!c)throw Error(a(318));if(r=i.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(557));r[En]=i}else mo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Jn(i),r=!1}else l=Jc(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=l),r=!0;if(!r)return i.flags&256?(kn(i),i):(kn(i),null);if((i.flags&128)!==0)throw Error(a(558))}return Jn(i),null;case 13:if(c=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(m=Wr(i),c!==null&&c.dehydrated!==null){if(r===null){if(!m)throw Error(a(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(a(317));m[En]=i}else mo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Jn(i),m=!1}else m=Jc(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=m),m=!0;if(!m)return i.flags&256?(kn(i),i):(kn(i),null)}return kn(i),(i.flags&128)!==0?(i.lanes=l,i):(l=c!==null,r=r!==null&&r.memoizedState!==null,l&&(c=i.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),v=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==m&&(c.flags|=2048)),l!==r&&l&&(i.child.flags|=8192),kf(i,i.updateQueue),Jn(i),null);case 4:return ve(),r===null&&np(i.stateNode.containerInfo),Jn(i),null;case 10:return Vi(i.type),Jn(i),null;case 19:if(L(ln),c=i.memoizedState,c===null)return Jn(i),null;if(m=(i.flags&128)!==0,v=c.rendering,v===null)if(m)ud(c,!1);else{if(xr!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(v=ii(r),v!==null){for(i.flags|=128,ud(c,!1),r=v.updateQueue,i.updateQueue=r,kf(i,r),i.subtreeFlags=0,r=l,l=i.child;l!==null;)Ql(l,r),l=l.sibling;return F(ln,ln.current&1|2),en&&Mi(i,c.treeForkCount),i.child}r=r.sibling}c.tail!==null&&Qe()>Cf&&(i.flags|=128,m=!0,ud(c,!1),i.lanes=4194304)}else{if(!m)if(r=ii(v),r!==null){if(i.flags|=128,m=!0,r=r.updateQueue,i.updateQueue=r,kf(i,r),ud(c,!0),c.tail===null&&c.tailMode==="hidden"&&!v.alternate&&!en)return Jn(i),null}else 2*Qe()-c.renderingStartTime>Cf&&l!==536870912&&(i.flags|=128,m=!0,ud(c,!1),i.lanes=4194304);c.isBackwards?(v.sibling=i.child,i.child=v):(r=c.last,r!==null?r.sibling=v:i.child=v,c.last=v)}return c.tail!==null?(r=c.tail,c.rendering=r,c.tail=r.sibling,c.renderingStartTime=Qe(),r.sibling=null,l=ln.current,F(ln,m?l&1|2:l&1),en&&Mi(i,c.treeForkCount),r):(Jn(i),null);case 22:case 23:return kn(i),jr(),c=i.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(l&536870912)!==0&&(i.flags&128)===0&&(Jn(i),i.subtreeFlags&6&&(i.flags|=8192)):Jn(i),l=i.updateQueue,l!==null&&kf(i,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==l&&(i.flags|=2048),r!==null&&L($),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Vi(ur),Jn(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function ww(r,i){switch(Hu(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Vi(ur),ve(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return qe(i),null;case 31:if(i.memoizedState!==null){if(kn(i),i.alternate===null)throw Error(a(340));mo()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 13:if(kn(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(a(340));mo()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return L(ln),null;case 4:return ve(),null;case 10:return Vi(i.type),null;case 22:case 23:return kn(i),jr(),r!==null&&L($),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return Vi(ur),null;case 25:return null;default:return null}}function im(r,i){switch(Hu(i),i.tag){case 3:Vi(ur),ve();break;case 26:case 27:case 5:qe(i);break;case 4:ve();break;case 31:i.memoizedState!==null&&kn(i);break;case 13:kn(i);break;case 19:L(ln);break;case 10:Vi(i.type);break;case 22:case 23:kn(i),jr(),r!==null&&L($);break;case 24:Vi(ur)}}function cd(r,i){try{var l=i.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var m=c.next;l=m;do{if((l.tag&r)===r){c=void 0;var v=l.create,C=l.inst;c=v(),C.destroy=c}l=l.next}while(l!==m)}}catch(W){Ln(i,i.return,W)}}function ul(r,i,l){try{var c=i.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var v=m.next;c=v;do{if((c.tag&r)===r){var C=c.inst,W=C.destroy;if(W!==void 0){C.destroy=void 0,m=i;var ge=l,De=W;try{De()}catch(Fe){Ln(m,ge,Fe)}}}c=c.next}while(c!==v)}}catch(Fe){Ln(i,i.return,Fe)}}function am(r){var i=r.updateQueue;if(i!==null){var l=r.stateNode;try{yr(i,l)}catch(c){Ln(r,r.return,c)}}}function sm(r,i,l){l.props=su(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(c){Ln(r,i,c)}}function dd(r,i){try{var l=r.ref;if(l!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof l=="function"?r.refCleanup=l(c):l.current=c}}catch(m){Ln(r,i,m)}}function Ys(r,i){var l=r.ref,c=r.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(m){Ln(r,i,m)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){Ln(r,i,m)}else l.current=null}function om(r){var i=r.type,l=r.memoizedProps,c=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(m){Ln(r,r.return,m)}}function M0(r,i,l){try{var c=r.stateNode;Fw(c,r.type,l,i),c[Gn]=i}catch(m){Ln(r,r.return,m)}}function lm(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&ml(r.type)||r.tag===4}function z0(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||lm(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&ml(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function B0(r,i,l){var c=r.tag;if(c===5||c===6)r=r.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(r,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(r),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=ua));else if(c!==4&&(c===27&&ml(r.type)&&(l=r.stateNode,i=null),r=r.child,r!==null))for(B0(r,i,l),r=r.sibling;r!==null;)B0(r,i,l),r=r.sibling}function Tf(r,i,l){var c=r.tag;if(c===5||c===6)r=r.stateNode,i?l.insertBefore(r,i):l.appendChild(r);else if(c!==4&&(c===27&&ml(r.type)&&(l=r.stateNode),r=r.child,r!==null))for(Tf(r,i,l),r=r.sibling;r!==null;)Tf(r,i,l),r=r.sibling}function um(r){var i=r.stateNode,l=r.memoizedProps;try{for(var c=r.type,m=i.attributes;m.length;)i.removeAttributeNode(m[0]);gi(i,c,l),i[En]=r,i[Gn]=l}catch(v){Ln(r,r.return,v)}}var So=!1,Br=!1,I0=!1,cm=typeof WeakSet=="function"?WeakSet:Set,ai=null;function xw(r,i){if(r=r.containerInfo,ap=Vf,r=cs(r),za(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var m=c.anchorOffset,v=c.focusNode;c=c.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var C=0,W=-1,ge=-1,De=0,Fe=0,Xe=r,Me=null;t:for(;;){for(var Ie;Xe!==l||m!==0&&Xe.nodeType!==3||(W=C+m),Xe!==v||c!==0&&Xe.nodeType!==3||(ge=C+c),Xe.nodeType===3&&(C+=Xe.nodeValue.length),(Ie=Xe.firstChild)!==null;)Me=Xe,Xe=Ie;for(;;){if(Xe===r)break t;if(Me===l&&++De===m&&(W=C),Me===v&&++Fe===c&&(ge=C),(Ie=Xe.nextSibling)!==null)break;Xe=Me,Me=Xe.parentNode}Xe=Ie}l=W===-1||ge===-1?null:{start:W,end:ge}}else l=null}l=l||{start:0,end:0}}else l=null;for(sp={focusedElem:r,selectionRange:l},Vf=!1,ai=i;ai!==null;)if(i=ai,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,ai=r;else for(;ai!==null;){switch(i=ai,v=i.alternate,r=i.flags,i.tag){case 0:if((r&4)!==0&&(r=i.updateQueue,r=r!==null?r.events:null,r!==null))for(l=0;l<r.length;l++)m=r[l],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&v!==null){r=void 0,l=i,m=v.memoizedProps,v=v.memoizedState,c=l.stateNode;try{var wt=su(l.type,m);r=c.getSnapshotBeforeUpdate(wt,v),c.__reactInternalSnapshotBeforeUpdate=r}catch(zt){Ln(l,l.return,zt)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,l=r.nodeType,l===9)up(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":up(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(a(163))}if(r=i.sibling,r!==null){r.return=i.return,ai=r;break}ai=i.return}}function dm(r,i,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Eo(r,l),c&4&&cd(5,l);break;case 1:if(Eo(r,l),c&4)if(r=l.stateNode,i===null)try{r.componentDidMount()}catch(C){Ln(l,l.return,C)}else{var m=su(l.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(m,i,r.__reactInternalSnapshotBeforeUpdate)}catch(C){Ln(l,l.return,C)}}c&64&&am(l),c&512&&dd(l,l.return);break;case 3:if(Eo(r,l),c&64&&(r=l.updateQueue,r!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{yr(r,i)}catch(C){Ln(l,l.return,C)}}break;case 27:i===null&&c&4&&um(l);case 26:case 5:Eo(r,l),i===null&&c&4&&om(l),c&512&&dd(l,l.return);break;case 12:Eo(r,l);break;case 31:Eo(r,l),c&4&&pm(r,l);break;case 13:Eo(r,l),c&4&&gm(r,l),c&64&&(r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(l=Nw.bind(null,l),Xw(r,l))));break;case 22:if(c=l.memoizedState!==null||So,!c){i=i!==null&&i.memoizedState!==null||Br,m=So;var v=Br;So=c,(Br=i)&&!v?ko(r,l,(l.subtreeFlags&8772)!==0):Eo(r,l),So=m,Br=v}break;case 30:break;default:Eo(r,l)}}function fm(r){var i=r.alternate;i!==null&&(r.alternate=null,fm(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&Ns(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var nr=null,Xi=!1;function Ao(r,i,l){for(l=l.child;l!==null;)hm(r,i,l),l=l.sibling}function hm(r,i,l){if(it&&typeof it.onCommitFiberUnmount=="function")try{it.onCommitFiberUnmount(rt,l)}catch{}switch(l.tag){case 26:Br||Ys(l,i),Ao(r,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Br||Ys(l,i);var c=nr,m=Xi;ml(l.type)&&(nr=l.stateNode,Xi=!1),Ao(r,i,l),wd(l.stateNode),nr=c,Xi=m;break;case 5:Br||Ys(l,i);case 6:if(c=nr,m=Xi,nr=null,Ao(r,i,l),nr=c,Xi=m,nr!==null)if(Xi)try{(nr.nodeType===9?nr.body:nr.nodeName==="HTML"?nr.ownerDocument.body:nr).removeChild(l.stateNode)}catch(v){Ln(l,i,v)}else try{nr.removeChild(l.stateNode)}catch(v){Ln(l,i,v)}break;case 18:nr!==null&&(Xi?(r=nr,a2(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.stateNode),pc(r)):a2(nr,l.stateNode));break;case 4:c=nr,m=Xi,nr=l.stateNode.containerInfo,Xi=!0,Ao(r,i,l),nr=c,Xi=m;break;case 0:case 11:case 14:case 15:ul(2,l,i),Br||ul(4,l,i),Ao(r,i,l);break;case 1:Br||(Ys(l,i),c=l.stateNode,typeof c.componentWillUnmount=="function"&&sm(l,i,c)),Ao(r,i,l);break;case 21:Ao(r,i,l);break;case 22:Br=(c=Br)||l.memoizedState!==null,Ao(r,i,l),Br=c;break;default:Ao(r,i,l)}}function pm(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{pc(r)}catch(l){Ln(i,i.return,l)}}}function gm(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{pc(r)}catch(l){Ln(i,i.return,l)}}function _w(r){switch(r.tag){case 31:case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new cm),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new cm),i;default:throw Error(a(435,r.tag))}}function Lf(r,i){var l=_w(r);i.forEach(function(c){if(!l.has(c)){l.add(c);var m=Cw.bind(null,r,c);c.then(m,m)}})}function Ji(r,i){var l=i.deletions;if(l!==null)for(var c=0;c<l.length;c++){var m=l[c],v=r,C=i,W=C;e:for(;W!==null;){switch(W.tag){case 27:if(ml(W.type)){nr=W.stateNode,Xi=!1;break e}break;case 5:nr=W.stateNode,Xi=!1;break e;case 3:case 4:nr=W.stateNode.containerInfo,Xi=!0;break e}W=W.return}if(nr===null)throw Error(a(160));hm(v,C,m),nr=null,Xi=!1,v=m.alternate,v!==null&&(v.return=null),m.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)mm(i,r),i=i.sibling}var bs=null;function mm(r,i){var l=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Ji(i,r),Zi(r),c&4&&(ul(3,r,r.return),cd(3,r),ul(5,r,r.return));break;case 1:Ji(i,r),Zi(r),c&512&&(Br||l===null||Ys(l,l.return)),c&64&&So&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var m=bs;if(Ji(i,r),Zi(r),c&512&&(Br||l===null||Ys(l,l.return)),c&4){var v=l!==null?l.memoizedState:null;if(c=r.memoizedState,l===null)if(c===null)if(r.stateNode===null){e:{c=r.type,l=r.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":v=m.getElementsByTagName("title")[0],(!v||v[ra]||v[En]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=m.createElement(c),m.head.insertBefore(v,m.querySelector("head > title"))),gi(v,c,l),v[En]=r,ar(v),c=v;break e;case"link":var C=m2("link","href",m).get(c+(l.href||""));if(C){for(var W=0;W<C.length;W++)if(v=C[W],v.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&v.getAttribute("rel")===(l.rel==null?null:l.rel)&&v.getAttribute("title")===(l.title==null?null:l.title)&&v.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){C.splice(W,1);break t}}v=m.createElement(c),gi(v,c,l),m.head.appendChild(v);break;case"meta":if(C=m2("meta","content",m).get(c+(l.content||""))){for(W=0;W<C.length;W++)if(v=C[W],v.getAttribute("content")===(l.content==null?null:""+l.content)&&v.getAttribute("name")===(l.name==null?null:l.name)&&v.getAttribute("property")===(l.property==null?null:l.property)&&v.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&v.getAttribute("charset")===(l.charSet==null?null:l.charSet)){C.splice(W,1);break t}}v=m.createElement(c),gi(v,c,l),m.head.appendChild(v);break;default:throw Error(a(468,c))}v[En]=r,ar(v),c=v}r.stateNode=c}else y2(m,r.type,r.stateNode);else r.stateNode=g2(m,c,r.memoizedProps);else v!==c?(v===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):v.count--,c===null?y2(m,r.type,r.stateNode):g2(m,c,r.memoizedProps)):c===null&&r.stateNode!==null&&M0(r,r.memoizedProps,l.memoizedProps)}break;case 27:Ji(i,r),Zi(r),c&512&&(Br||l===null||Ys(l,l.return)),l!==null&&c&4&&M0(r,r.memoizedProps,l.memoizedProps);break;case 5:if(Ji(i,r),Zi(r),c&512&&(Br||l===null||Ys(l,l.return)),r.flags&32){m=r.stateNode;try{la(m,"")}catch(wt){Ln(r,r.return,wt)}}c&4&&r.stateNode!=null&&(m=r.memoizedProps,M0(r,m,l!==null?l.memoizedProps:m)),c&1024&&(I0=!0);break;case 6:if(Ji(i,r),Zi(r),c&4){if(r.stateNode===null)throw Error(a(162));c=r.memoizedProps,l=r.stateNode;try{l.nodeValue=c}catch(wt){Ln(r,r.return,wt)}}break;case 3:if($f=null,m=bs,bs=Ff(i.containerInfo),Ji(i,r),bs=m,Zi(r),c&4&&l!==null&&l.memoizedState.isDehydrated)try{pc(i.containerInfo)}catch(wt){Ln(r,r.return,wt)}I0&&(I0=!1,ym(r));break;case 4:c=bs,bs=Ff(r.stateNode.containerInfo),Ji(i,r),Zi(r),bs=c;break;case 12:Ji(i,r),Zi(r);break;case 31:Ji(i,r),Zi(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Lf(r,c)));break;case 13:Ji(i,r),Zi(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Nf=Qe()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Lf(r,c)));break;case 22:m=r.memoizedState!==null;var ge=l!==null&&l.memoizedState!==null,De=So,Fe=Br;if(So=De||m,Br=Fe||ge,Ji(i,r),Br=Fe,So=De,Zi(r),c&8192)e:for(i=r.stateNode,i._visibility=m?i._visibility&-2:i._visibility|1,m&&(l===null||ge||So||Br||ou(r)),l=null,i=r;;){if(i.tag===5||i.tag===26){if(l===null){ge=l=i;try{if(v=ge.stateNode,m)C=v.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{W=ge.stateNode;var Xe=ge.memoizedProps.style,Me=Xe!=null&&Xe.hasOwnProperty("display")?Xe.display:null;W.style.display=Me==null||typeof Me=="boolean"?"":(""+Me).trim()}}catch(wt){Ln(ge,ge.return,wt)}}}else if(i.tag===6){if(l===null){ge=i;try{ge.stateNode.nodeValue=m?"":ge.memoizedProps}catch(wt){Ln(ge,ge.return,wt)}}}else if(i.tag===18){if(l===null){ge=i;try{var Ie=ge.stateNode;m?s2(Ie,!0):s2(ge.stateNode,!1)}catch(wt){Ln(ge,ge.return,wt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=r.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,Lf(r,l))));break;case 19:Ji(i,r),Zi(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Lf(r,c)));break;case 30:break;case 21:break;default:Ji(i,r),Zi(r)}}function Zi(r){var i=r.flags;if(i&2){try{for(var l,c=r.return;c!==null;){if(lm(c)){l=c;break}c=c.return}if(l==null)throw Error(a(160));switch(l.tag){case 27:var m=l.stateNode,v=z0(r);Tf(r,v,m);break;case 5:var C=l.stateNode;l.flags&32&&(la(C,""),l.flags&=-33);var W=z0(r);Tf(r,W,C);break;case 3:case 4:var ge=l.stateNode.containerInfo,De=z0(r);B0(r,De,ge);break;default:throw Error(a(161))}}catch(Fe){Ln(r,r.return,Fe)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function ym(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;ym(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function Eo(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)dm(r,i.alternate,i),i=i.sibling}function ou(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:ul(4,i,i.return),ou(i);break;case 1:Ys(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&sm(i,i.return,l),ou(i);break;case 27:wd(i.stateNode);case 26:case 5:Ys(i,i.return),ou(i);break;case 22:i.memoizedState===null&&ou(i);break;case 30:ou(i);break;default:ou(i)}r=r.sibling}}function ko(r,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,m=r,v=i,C=v.flags;switch(v.tag){case 0:case 11:case 15:ko(m,v,l),cd(4,v);break;case 1:if(ko(m,v,l),c=v,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(De){Ln(c,c.return,De)}if(c=v,m=c.updateQueue,m!==null){var W=c.stateNode;try{var ge=m.shared.hiddenCallbacks;if(ge!==null)for(m.shared.hiddenCallbacks=null,m=0;m<ge.length;m++)ri(ge[m],W)}catch(De){Ln(c,c.return,De)}}l&&C&64&&am(v),dd(v,v.return);break;case 27:um(v);case 26:case 5:ko(m,v,l),l&&c===null&&C&4&&om(v),dd(v,v.return);break;case 12:ko(m,v,l);break;case 31:ko(m,v,l),l&&C&4&&pm(m,v);break;case 13:ko(m,v,l),l&&C&4&&gm(m,v);break;case 22:v.memoizedState===null&&ko(m,v,l),dd(v,v.return);break;case 30:break;default:ko(m,v,l)}i=i.sibling}}function P0(r,i){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&nu(l))}function U0(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&nu(r))}function vs(r,i,l,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)bm(r,i,l,c),i=i.sibling}function bm(r,i,l,c){var m=i.flags;switch(i.tag){case 0:case 11:case 15:vs(r,i,l,c),m&2048&&cd(9,i);break;case 1:vs(r,i,l,c);break;case 3:vs(r,i,l,c),m&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&nu(r)));break;case 12:if(m&2048){vs(r,i,l,c),r=i.stateNode;try{var v=i.memoizedProps,C=v.id,W=v.onPostCommit;typeof W=="function"&&W(C,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(ge){Ln(i,i.return,ge)}}else vs(r,i,l,c);break;case 31:vs(r,i,l,c);break;case 13:vs(r,i,l,c);break;case 23:break;case 22:v=i.stateNode,C=i.alternate,i.memoizedState!==null?v._visibility&2?vs(r,i,l,c):fd(r,i):v._visibility&2?vs(r,i,l,c):(v._visibility|=2,rc(r,i,l,c,(i.subtreeFlags&10256)!==0||!1)),m&2048&&P0(C,i);break;case 24:vs(r,i,l,c),m&2048&&U0(i.alternate,i);break;default:vs(r,i,l,c)}}function rc(r,i,l,c,m){for(m=m&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var v=r,C=i,W=l,ge=c,De=C.flags;switch(C.tag){case 0:case 11:case 15:rc(v,C,W,ge,m),cd(8,C);break;case 23:break;case 22:var Fe=C.stateNode;C.memoizedState!==null?Fe._visibility&2?rc(v,C,W,ge,m):fd(v,C):(Fe._visibility|=2,rc(v,C,W,ge,m)),m&&De&2048&&P0(C.alternate,C);break;case 24:rc(v,C,W,ge,m),m&&De&2048&&U0(C.alternate,C);break;default:rc(v,C,W,ge,m)}i=i.sibling}}function fd(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=r,c=i,m=c.flags;switch(c.tag){case 22:fd(l,c),m&2048&&P0(c.alternate,c);break;case 24:fd(l,c),m&2048&&U0(c.alternate,c);break;default:fd(l,c)}i=i.sibling}}var hd=8192;function ic(r,i,l){if(r.subtreeFlags&hd)for(r=r.child;r!==null;)vm(r,i,l),r=r.sibling}function vm(r,i,l){switch(r.tag){case 26:ic(r,i,l),r.flags&hd&&r.memoizedState!==null&&lx(l,bs,r.memoizedState,r.memoizedProps);break;case 5:ic(r,i,l);break;case 3:case 4:var c=bs;bs=Ff(r.stateNode.containerInfo),ic(r,i,l),bs=c;break;case 22:r.memoizedState===null&&(c=r.alternate,c!==null&&c.memoizedState!==null?(c=hd,hd=16777216,ic(r,i,l),hd=c):ic(r,i,l));break;default:ic(r,i,l)}}function wm(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function pd(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var c=i[l];ai=c,_m(c,r)}wm(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)xm(r),r=r.sibling}function xm(r){switch(r.tag){case 0:case 11:case 15:pd(r),r.flags&2048&&ul(9,r,r.return);break;case 3:pd(r);break;case 12:pd(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,jf(r)):pd(r);break;default:pd(r)}}function jf(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var c=i[l];ai=c,_m(c,r)}wm(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:ul(8,i,i.return),jf(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,jf(i));break;default:jf(i)}r=r.sibling}}function _m(r,i){for(;ai!==null;){var l=ai;switch(l.tag){case 0:case 11:case 15:ul(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:nu(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,ai=c;else e:for(l=r;ai!==null;){c=ai;var m=c.sibling,v=c.return;if(fm(c),c===l){ai=null;break e}if(m!==null){m.return=v,ai=m;break e}ai=v}}}var Sw={getCacheForType:function(r){var i=Gr(ur),l=i.data.get(r);return l===void 0&&(l=r(),i.data.set(r,l)),l},cacheSignal:function(){return Gr(ur).controller.signal}},Aw=typeof WeakMap=="function"?WeakMap:Map,_n=0,Pn=null,tn=null,rn=0,Tn=0,ma=null,cl=!1,ac=!1,q0=!1,To=0,xr=0,dl=0,lu=0,F0=0,ya=0,sc=0,gd=null,Qi=null,H0=!1,Nf=0,Sm=0,Cf=1/0,Rf=null,fl=null,Vr=0,hl=null,oc=null,Lo=0,$0=0,W0=null,Am=null,md=0,G0=null;function ba(){return(_n&2)!==0&&rn!==0?rn&-rn:J.T!==null?Z0():An()}function Em(){if(ya===0)if((rn&536870912)===0||en){var r=Kt;Kt<<=1,(Kt&3932160)===0&&(Kt=262144),ya=r}else ya=536870912;return r=Xn.current,r!==null&&(r.flags|=32),ya}function ea(r,i,l){(r===Pn&&(Tn===2||Tn===9)||r.cancelPendingCommit!==null)&&(lc(r,0),pl(r,rn,ya,!1)),At(r,l),((_n&2)===0||r!==Pn)&&(r===Pn&&((_n&2)===0&&(lu|=l),xr===4&&pl(r,rn,ya,!1)),Vs(r))}function km(r,i,l){if((_n&6)!==0)throw Error(a(327));var c=!l&&(i&127)===0&&(i&r.expiredLanes)===0||hr(r,i),m=c?Tw(r,i):V0(r,i,!0),v=c;do{if(m===0){ac&&!c&&pl(r,i,0,!1);break}else{if(l=r.current.alternate,v&&!Ew(l)){m=V0(r,i,!1),v=!1;continue}if(m===2){if(v=i,r.errorRecoveryDisabledLanes&v)var C=0;else C=r.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){i=C;e:{var W=r;m=gd;var ge=W.current.memoizedState.isDehydrated;if(ge&&(lc(W,C).flags|=256),C=V0(W,C,!1),C!==2){if(q0&&!ge){W.errorRecoveryDisabledLanes|=v,lu|=v,m=4;break e}v=Qi,Qi=m,v!==null&&(Qi===null?Qi=v:Qi.push.apply(Qi,v))}m=C}if(v=!1,m!==2)continue}}if(m===1){lc(r,0),pl(r,i,0,!0);break}e:{switch(c=r,v=m,v){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:pl(c,i,ya,!cl);break e;case 2:Qi=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(m=Nf+300-Qe(),10<m)){if(pl(c,i,ya,!cl),Ut(c,0,!0)!==0)break e;Lo=i,c.timeoutHandle=r2(Tm.bind(null,c,l,Qi,Rf,H0,i,ya,lu,sc,cl,v,"Throttled",-0,0),m);break e}Tm(c,l,Qi,Rf,H0,i,ya,lu,sc,cl,v,null,-0,0)}}break}while(!0);Vs(r)}function Tm(r,i,l,c,m,v,C,W,ge,De,Fe,Xe,Me,Ie){if(r.timeoutHandle=-1,Xe=i.subtreeFlags,Xe&8192||(Xe&16785408)===16785408){Xe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ua},vm(i,v,Xe);var wt=(v&62914560)===v?Nf-Qe():(v&4194048)===v?Sm-Qe():0;if(wt=ux(Xe,wt),wt!==null){Lo=v,r.cancelPendingCommit=wt(Mm.bind(null,r,i,v,l,c,m,C,W,ge,Fe,Xe,null,Me,Ie)),pl(r,v,C,!De);return}}Mm(r,i,v,l,c,m,C,W,ge)}function Ew(r){for(var i=r;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var m=l[c],v=m.getSnapshot;m=m.value;try{if(!Fr(v(),m))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function pl(r,i,l,c){i&=~F0,i&=~lu,r.suspendedLanes|=i,r.pingedLanes&=~i,c&&(r.warmLanes|=i),c=r.expirationTimes;for(var m=i;0<m;){var v=31-ct(m),C=1<<v;c[v]=-1,m&=~C}l!==0&&Ar(r,l,i)}function Of(){return(_n&6)===0?(yd(0),!1):!0}function Y0(){if(tn!==null){if(Tn===0)var r=tn.return;else r=tn,Ia=Ps=null,Xu(r),Je=null,xt=0,r=tn;for(;r!==null;)im(r.alternate,r),r=r.return;tn=null}}function lc(r,i){var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,Ww(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),Lo=0,Y0(),Pn=r,tn=l=Fi(r.current,null),rn=i,Tn=0,ma=null,cl=!1,ac=hr(r,i),q0=!1,sc=ya=F0=lu=dl=xr=0,Qi=gd=null,H0=!1,(i&8)!==0&&(i|=i&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=i;0<c;){var m=31-ct(c),v=1<<m;i|=r[m],c&=~v}return To=i,Xl(),l}function Lm(r,i){Ct=null,J.H=od,i===we||i===te?(i=Ge(),Tn=3):i===Ce?(i=Ge(),Tn=4):Tn=i===E0?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,ma=i,tn===null&&(xr=1,_f(r,Hi(i,r.current)))}function jm(){var r=Xn.current;return r===null?!0:(rn&4194048)===rn?dn===null:(rn&62914560)===rn||(rn&536870912)!==0?r===dn:!1}function Nm(){var r=J.H;return J.H=od,r===null?od:r}function Cm(){var r=J.A;return J.A=Sw,r}function Df(){xr=4,cl||(rn&4194048)!==rn&&Xn.current!==null||(ac=!0),(dl&134217727)===0&&(lu&134217727)===0||Pn===null||pl(Pn,rn,ya,!1)}function V0(r,i,l){var c=_n;_n|=2;var m=Nm(),v=Cm();(Pn!==r||rn!==i)&&(Rf=null,lc(r,i)),i=!1;var C=xr;e:do try{if(Tn!==0&&tn!==null){var W=tn,ge=ma;switch(Tn){case 8:Y0(),C=6;break e;case 3:case 2:case 9:case 6:Xn.current===null&&(i=!0);var De=Tn;if(Tn=0,ma=null,uc(r,W,ge,De),l&&ac){C=0;break e}break;default:De=Tn,Tn=0,ma=null,uc(r,W,ge,De)}}kw(),C=xr;break}catch(Fe){Lm(r,Fe)}while(!0);return i&&r.shellSuspendCounter++,Ia=Ps=null,_n=c,J.H=m,J.A=v,tn===null&&(Pn=null,rn=0,Xl()),C}function kw(){for(;tn!==null;)Rm(tn)}function Tw(r,i){var l=_n;_n|=2;var c=Nm(),m=Cm();Pn!==r||rn!==i?(Rf=null,Cf=Qe()+500,lc(r,i)):ac=hr(r,i);e:do try{if(Tn!==0&&tn!==null){i=tn;var v=ma;t:switch(Tn){case 1:Tn=0,ma=null,uc(r,i,v,1);break;case 2:case 9:if(je(v)){Tn=0,ma=null,Om(i);break}i=function(){Tn!==2&&Tn!==9||Pn!==r||(Tn=7),Vs(r)},v.then(i,i);break e;case 3:Tn=7;break e;case 4:Tn=5;break e;case 7:je(v)?(Tn=0,ma=null,Om(i)):(Tn=0,ma=null,uc(r,i,v,7));break;case 5:var C=null;switch(tn.tag){case 26:C=tn.memoizedState;case 5:case 27:var W=tn;if(C?b2(C):W.stateNode.complete){Tn=0,ma=null;var ge=W.sibling;if(ge!==null)tn=ge;else{var De=W.return;De!==null?(tn=De,Mf(De)):tn=null}break t}}Tn=0,ma=null,uc(r,i,v,5);break;case 6:Tn=0,ma=null,uc(r,i,v,6);break;case 8:Y0(),xr=6;break e;default:throw Error(a(462))}}Lw();break}catch(Fe){Lm(r,Fe)}while(!0);return Ia=Ps=null,J.H=c,J.A=m,_n=l,tn!==null?0:(Pn=null,rn=0,Xl(),xr)}function Lw(){for(;tn!==null&&!He();)Rm(tn)}function Rm(r){var i=nm(r.alternate,r,To);r.memoizedProps=r.pendingProps,i===null?Mf(r):tn=i}function Om(r){var i=r,l=i.alternate;switch(i.tag){case 15:case 0:i=Xg(l,i,i.pendingProps,i.type,void 0,rn);break;case 11:i=Xg(l,i,i.pendingProps,i.type.render,i.ref,rn);break;case 5:Xu(i);default:im(l,i),i=tn=Ql(i,To),i=nm(l,i,To)}r.memoizedProps=r.pendingProps,i===null?Mf(r):tn=i}function uc(r,i,l,c){Ia=Ps=null,Xu(i),Je=null,xt=0;var m=i.return;try{if(mw(r,m,i,l,rn)){xr=1,_f(r,Hi(l,r.current)),tn=null;return}}catch(v){if(m!==null)throw tn=m,v;xr=1,_f(r,Hi(l,r.current)),tn=null;return}i.flags&32768?(en||c===1?r=!0:ac||(rn&536870912)!==0?r=!1:(cl=r=!0,(c===2||c===9||c===3||c===6)&&(c=Xn.current,c!==null&&c.tag===13&&(c.flags|=16384))),Dm(i,r)):Mf(i)}function Mf(r){var i=r;do{if((i.flags&32768)!==0){Dm(i,cl);return}r=i.return;var l=vw(i.alternate,i,To);if(l!==null){tn=l;return}if(i=i.sibling,i!==null){tn=i;return}tn=i=r}while(i!==null);xr===0&&(xr=5)}function Dm(r,i){do{var l=ww(r.alternate,r);if(l!==null){l.flags&=32767,tn=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(r=r.sibling,r!==null)){tn=r;return}tn=r=l}while(r!==null);xr=6,tn=null}function Mm(r,i,l,c,m,v,C,W,ge){r.cancelPendingCommit=null;do zf();while(Vr!==0);if((_n&6)!==0)throw Error(a(327));if(i!==null){if(i===r.current)throw Error(a(177));if(v=i.lanes|i.childLanes,v|=zu,Sn(r,l,v,C,W,ge),r===Pn&&(tn=Pn=null,rn=0),oc=i,hl=r,Lo=l,$0=v,W0=m,Am=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,Rw(pt,function(){return Um(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=J.T,J.T=null,m=ee.p,ee.p=2,C=_n,_n|=4;try{xw(r,i,l)}finally{_n=C,ee.p=m,J.T=c}}Vr=1,zm(),Bm(),Im()}}function zm(){if(Vr===1){Vr=0;var r=hl,i=oc,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=J.T,J.T=null;var c=ee.p;ee.p=2;var m=_n;_n|=4;try{mm(i,r);var v=sp,C=cs(r.containerInfo),W=v.focusedElem,ge=v.selectionRange;if(C!==W&&W&&W.ownerDocument&&us(W.ownerDocument.documentElement,W)){if(ge!==null&&za(W)){var De=ge.start,Fe=ge.end;if(Fe===void 0&&(Fe=De),"selectionStart"in W)W.selectionStart=De,W.selectionEnd=Math.min(Fe,W.value.length);else{var Xe=W.ownerDocument||document,Me=Xe&&Xe.defaultView||window;if(Me.getSelection){var Ie=Me.getSelection(),wt=W.textContent.length,zt=Math.min(ge.start,wt),zn=ge.end===void 0?zt:Math.min(ge.end,wt);!Ie.extend&&zt>zn&&(C=zn,zn=zt,zt=C);var Te=Zo(W,zt),xe=Zo(W,zn);if(Te&&xe&&(Ie.rangeCount!==1||Ie.anchorNode!==Te.node||Ie.anchorOffset!==Te.offset||Ie.focusNode!==xe.node||Ie.focusOffset!==xe.offset)){var Oe=Xe.createRange();Oe.setStart(Te.node,Te.offset),Ie.removeAllRanges(),zt>zn?(Ie.addRange(Oe),Ie.extend(xe.node,xe.offset)):(Oe.setEnd(xe.node,xe.offset),Ie.addRange(Oe))}}}}for(Xe=[],Ie=W;Ie=Ie.parentNode;)Ie.nodeType===1&&Xe.push({element:Ie,left:Ie.scrollLeft,top:Ie.scrollTop});for(typeof W.focus=="function"&&W.focus(),W=0;W<Xe.length;W++){var Ke=Xe[W];Ke.element.scrollLeft=Ke.left,Ke.element.scrollTop=Ke.top}}Vf=!!ap,sp=ap=null}finally{_n=m,ee.p=c,J.T=l}}r.current=i,Vr=2}}function Bm(){if(Vr===2){Vr=0;var r=hl,i=oc,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=J.T,J.T=null;var c=ee.p;ee.p=2;var m=_n;_n|=4;try{dm(r,i.alternate,i)}finally{_n=m,ee.p=c,J.T=l}}Vr=3}}function Im(){if(Vr===4||Vr===3){Vr=0,Ve();var r=hl,i=oc,l=Lo,c=Am;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Vr=5:(Vr=0,oc=hl=null,Pm(r,r.pendingLanes));var m=r.pendingLanes;if(m===0&&(fl=null),Nn(l),i=i.stateNode,it&&typeof it.onCommitFiberRoot=="function")try{it.onCommitFiberRoot(rt,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=J.T,m=ee.p,ee.p=2,J.T=null;try{for(var v=r.onRecoverableError,C=0;C<c.length;C++){var W=c[C];v(W.value,{componentStack:W.stack})}}finally{J.T=i,ee.p=m}}(Lo&3)!==0&&zf(),Vs(r),m=r.pendingLanes,(l&261930)!==0&&(m&42)!==0?r===G0?md++:(md=0,G0=r):md=0,yd(0)}}function Pm(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,nu(i)))}function zf(){return zm(),Bm(),Im(),Um()}function Um(){if(Vr!==5)return!1;var r=hl,i=$0;$0=0;var l=Nn(Lo),c=J.T,m=ee.p;try{ee.p=32>l?32:l,J.T=null,l=W0,W0=null;var v=hl,C=Lo;if(Vr=0,oc=hl=null,Lo=0,(_n&6)!==0)throw Error(a(331));var W=_n;if(_n|=4,xm(v.current),bm(v,v.current,C,l),_n=W,yd(0,!1),it&&typeof it.onPostCommitFiberRoot=="function")try{it.onPostCommitFiberRoot(rt,v)}catch{}return!0}finally{ee.p=m,J.T=c,Pm(r,i)}}function qm(r,i,l){i=Hi(l,i),i=A0(r.stateNode,i,2),r=Xt(r,i,2),r!==null&&(At(r,2),Vs(r))}function Ln(r,i,l){if(r.tag===3)qm(r,r,l);else for(;i!==null;){if(i.tag===3){qm(i,r,l);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(fl===null||!fl.has(c))){r=Hi(l,r),l=Fg(2),c=Xt(i,l,2),c!==null&&(Hg(l,c,i,r),At(c,2),Vs(c));break}}i=i.return}}function K0(r,i,l){var c=r.pingCache;if(c===null){c=r.pingCache=new Aw;var m=new Set;c.set(i,m)}else m=c.get(i),m===void 0&&(m=new Set,c.set(i,m));m.has(l)||(q0=!0,m.add(l),r=jw.bind(null,r,i,l),i.then(r,r))}function jw(r,i,l){var c=r.pingCache;c!==null&&c.delete(i),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,Pn===r&&(rn&l)===l&&(xr===4||xr===3&&(rn&62914560)===rn&&300>Qe()-Nf?(_n&2)===0&&lc(r,0):F0|=l,sc===rn&&(sc=0)),Vs(r)}function Fm(r,i){i===0&&(i=qn()),r=fs(r,i),r!==null&&(At(r,i),Vs(r))}function Nw(r){var i=r.memoizedState,l=0;i!==null&&(l=i.retryLane),Fm(r,l)}function Cw(r,i){var l=0;switch(r.tag){case 31:case 13:var c=r.stateNode,m=r.memoizedState;m!==null&&(l=m.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(a(314))}c!==null&&c.delete(i),Fm(r,l)}function Rw(r,i){return ce(r,i)}var Bf=null,cc=null,X0=!1,If=!1,J0=!1,gl=0;function Vs(r){r!==cc&&r.next===null&&(cc===null?Bf=cc=r:cc=cc.next=r),If=!0,X0||(X0=!0,Dw())}function yd(r,i){if(!J0&&If){J0=!0;do for(var l=!1,c=Bf;c!==null;){if(r!==0){var m=c.pendingLanes;if(m===0)var v=0;else{var C=c.suspendedLanes,W=c.pingedLanes;v=(1<<31-ct(42|r)+1)-1,v&=m&~(C&~W),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(l=!0,Gm(c,v))}else v=rn,v=Ut(c,c===Pn?v:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(v&3)===0||hr(c,v)||(l=!0,Gm(c,v));c=c.next}while(l);J0=!1}}function Ow(){Hm()}function Hm(){If=X0=!1;var r=0;gl!==0&&$w()&&(r=gl);for(var i=Qe(),l=null,c=Bf;c!==null;){var m=c.next,v=$m(c,i);v===0?(c.next=null,l===null?Bf=m:l.next=m,m===null&&(cc=l)):(l=c,(r!==0||(v&3)!==0)&&(If=!0)),c=m}Vr!==0&&Vr!==5||yd(r),gl!==0&&(gl=0)}function $m(r,i){for(var l=r.suspendedLanes,c=r.pingedLanes,m=r.expirationTimes,v=r.pendingLanes&-62914561;0<v;){var C=31-ct(v),W=1<<C,ge=m[C];ge===-1?((W&l)===0||(W&c)!==0)&&(m[C]=vn(W,i)):ge<=i&&(r.expiredLanes|=W),v&=~W}if(i=Pn,l=rn,l=Ut(r,r===i?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,l===0||r===i&&(Tn===2||Tn===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&be(c),r.callbackNode=null,r.callbackPriority=0;if((l&3)===0||hr(r,l)){if(i=l&-l,i===r.callbackPriority)return i;switch(c!==null&&be(c),Nn(l)){case 2:case 8:l=nt;break;case 32:l=pt;break;case 268435456:l=ot;break;default:l=pt}return c=Wm.bind(null,r),l=ce(l,c),r.callbackPriority=i,r.callbackNode=l,i}return c!==null&&c!==null&&be(c),r.callbackPriority=2,r.callbackNode=null,2}function Wm(r,i){if(Vr!==0&&Vr!==5)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if(zf()&&r.callbackNode!==l)return null;var c=rn;return c=Ut(r,r===Pn?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(km(r,c,i),$m(r,Qe()),r.callbackNode!=null&&r.callbackNode===l?Wm.bind(null,r):null)}function Gm(r,i){if(zf())return null;km(r,i,!0)}function Dw(){Gw(function(){(_n&6)!==0?ce(ut,Ow):Hm()})}function Z0(){if(gl===0){var r=p;r===0&&(r=St,St<<=1,(St&261888)===0&&(St=256)),gl=r}return gl}function Ym(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:vi(""+r)}function Vm(r,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,r.id&&l.setAttribute("form",r.id),i.parentNode.insertBefore(l,i),r=new FormData(r),l.parentNode.removeChild(l),r}function Mw(r,i,l,c,m){if(i==="submit"&&l&&l.stateNode===m){var v=Ym((m[Gn]||null).action),C=c.submitter;C&&(i=(i=C[Gn]||null)?Ym(i.formAction):C.getAttribute("formAction"),i!==null&&(v=i,C=null));var W=new Pi("action","action",null,c,m);r.push({event:W,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(gl!==0){var ge=C?Vm(m,C):new FormData(m);b0(l,{pending:!0,data:ge,method:m.method,action:v},null,ge)}}else typeof v=="function"&&(W.preventDefault(),ge=C?Vm(m,C):new FormData(m),b0(l,{pending:!0,data:ge,method:m.method,action:v},v,ge))},currentTarget:m}]})}}for(var Q0=0;Q0<ho.length;Q0++){var ep=ho[Q0],zw=ep.toLowerCase(),Bw=ep[0].toUpperCase()+ep.slice(1);qi(zw,"on"+Bw)}qi(fo,"onAnimationEnd"),qi(Vl,"onAnimationIteration"),qi(Gc,"onAnimationStart"),qi("dblclick","onDoubleClick"),qi("focusin","onFocus"),qi("focusout","onBlur"),qi(uf,"onTransitionRun"),qi(cf,"onTransitionStart"),qi(df,"onTransitionCancel"),qi(Yc,"onTransitionEnd"),Ya("onMouseEnter",["mouseout","mouseover"]),Ya("onMouseLeave",["mouseout","mouseover"]),Ya("onPointerEnter",["pointerout","pointerover"]),Ya("onPointerLeave",["pointerout","pointerover"]),sa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),sa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),sa("onBeforeInput",["compositionend","keypress","textInput","paste"]),sa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),sa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),sa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Iw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bd));function Km(r,i){i=(i&4)!==0;for(var l=0;l<r.length;l++){var c=r[l],m=c.event;c=c.listeners;e:{var v=void 0;if(i)for(var C=c.length-1;0<=C;C--){var W=c[C],ge=W.instance,De=W.currentTarget;if(W=W.listener,ge!==v&&m.isPropagationStopped())break e;v=W,m.currentTarget=De;try{v(m)}catch(Fe){Kl(Fe)}m.currentTarget=null,v=ge}else for(C=0;C<c.length;C++){if(W=c[C],ge=W.instance,De=W.currentTarget,W=W.listener,ge!==v&&m.isPropagationStopped())break e;v=W,m.currentTarget=De;try{v(m)}catch(Fe){Kl(Fe)}m.currentTarget=null,v=ge}}}}function nn(r,i){var l=i[Ti];l===void 0&&(l=i[Ti]=new Set);var c=r+"__bubble";l.has(c)||(Xm(i,r,2,!1),l.add(c))}function tp(r,i,l){var c=0;i&&(c|=4),Xm(l,r,c,i)}var Pf="_reactListening"+Math.random().toString(36).slice(2);function np(r){if(!r[Pf]){r[Pf]=!0,Cl.forEach(function(l){l!=="selectionchange"&&(Iw.has(l)||tp(l,!1,r),tp(l,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Pf]||(i[Pf]=!0,tp("selectionchange",!1,i))}}function Xm(r,i,l,c){switch(E2(i)){case 2:var m=fx;break;case 8:m=hx;break;default:m=yp}l=m.bind(null,i,l,r),m=void 0,!Hl||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(m=!0),c?m!==void 0?r.addEventListener(i,l,{capture:!0,passive:m}):r.addEventListener(i,l,!0):m!==void 0?r.addEventListener(i,l,{passive:m}):r.addEventListener(i,l,!1)}function rp(r,i,l,c,m){var v=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var C=c.tag;if(C===3||C===4){var W=c.stateNode.containerInfo;if(W===m)break;if(C===4)for(C=c.return;C!==null;){var ge=C.tag;if((ge===3||ge===4)&&C.stateNode.containerInfo===m)return;C=C.return}for(;W!==null;){if(C=ia(W),C===null)return;if(ge=C.tag,ge===5||ge===6||ge===26||ge===27){c=v=C;continue e}W=W.parentNode}}c=c.return}Cu(function(){var De=v,Fe=io(l),Xe=[];e:{var Me=Vc.get(r);if(Me!==void 0){var Ie=Pi,wt=r;switch(r){case"keypress":if(Ii(l)===0)break e;case"keydown":case"keyup":Ie=sn;break;case"focusin":wt="focus",Ie=ts;break;case"focusout":wt="blur",Ie=ts;break;case"beforeblur":case"afterblur":Ie=ts;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ie=$l;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ie=es;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ie=Tr;break;case fo:case Vl:case Gc:Ie=_;break;case Yc:Ie=qr;break;case"scroll":case"scrollend":Ie=Wo;break;case"wheel":Ie=ca;break;case"copy":case"cut":case"paste":Ie=ae;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ie=sr;break;case"toggle":case"beforetoggle":Ie=Wl}var zt=(i&4)!==0,zn=!zt&&(r==="scroll"||r==="scrollend"),Te=zt?Me!==null?Me+"Capture":null:Me;zt=[];for(var xe=De,Oe;xe!==null;){var Ke=xe;if(Oe=Ke.stateNode,Ke=Ke.tag,Ke!==5&&Ke!==26&&Ke!==27||Oe===null||Te===null||(Ke=Ni(xe,Te),Ke!=null&&zt.push(vd(xe,Ke,Oe))),zn)break;xe=xe.return}0<zt.length&&(Me=new Ie(Me,wt,null,l,Fe),Xe.push({event:Me,listeners:zt}))}}if((i&7)===0){e:{if(Me=r==="mouseover"||r==="pointerover",Ie=r==="mouseout"||r==="pointerout",Me&&l!==Ka&&(wt=l.relatedTarget||l.fromElement)&&(ia(wt)||wt[Qr]))break e;if((Ie||Me)&&(Me=Fe.window===Fe?Fe:(Me=Fe.ownerDocument)?Me.defaultView||Me.parentWindow:window,Ie?(wt=l.relatedTarget||l.toElement,Ie=De,wt=wt?ia(wt):null,wt!==null&&(zn=o(wt),zt=wt.tag,wt!==zn||zt!==5&&zt!==27&&zt!==6)&&(wt=null)):(Ie=null,wt=De),Ie!==wt)){if(zt=$l,Ke="onMouseLeave",Te="onMouseEnter",xe="mouse",(r==="pointerout"||r==="pointerover")&&(zt=sr,Ke="onPointerLeave",Te="onPointerEnter",xe="pointer"),zn=Ie==null?Me:no(Ie),Oe=wt==null?Me:no(wt),Me=new zt(Ke,xe+"leave",Ie,l,Fe),Me.target=zn,Me.relatedTarget=Oe,Ke=null,ia(Fe)===De&&(zt=new zt(Te,xe+"enter",wt,l,Fe),zt.target=Oe,zt.relatedTarget=zn,Ke=zt),zn=Ke,Ie&&wt)t:{for(zt=Pw,Te=Ie,xe=wt,Oe=0,Ke=Te;Ke;Ke=zt(Ke))Oe++;Ke=0;for(var Ot=xe;Ot;Ot=zt(Ot))Ke++;for(;0<Oe-Ke;)Te=zt(Te),Oe--;for(;0<Ke-Oe;)xe=zt(xe),Ke--;for(;Oe--;){if(Te===xe||xe!==null&&Te===xe.alternate){zt=Te;break t}Te=zt(Te),xe=zt(xe)}zt=null}else zt=null;Ie!==null&&Jm(Xe,Me,Ie,zt,!1),wt!==null&&zn!==null&&Jm(Xe,zn,wt,zt,!0)}}e:{if(Me=De?no(De):window,Ie=Me.nodeName&&Me.nodeName.toLowerCase(),Ie==="select"||Ie==="input"&&Me.type==="file")var yn=Ms;else if(Gl(Me))if(wi)yn=Da;else{yn=or;var Lt=Xo}else Ie=Me.nodeName,!Ie||Ie.toLowerCase()!=="input"||Me.type!=="checkbox"&&Me.type!=="radio"?De&&Ul(De.elementType)&&(yn=Ms):yn=Mu;if(yn&&(yn=yn(r,De))){Ri(Xe,yn,l,Fe);break e}Lt&&Lt(r,Me,De),r==="focusout"&&De&&Me.type==="number"&&De.memoizedProps.value!=null&&Bl(Me,"number",Me.value)}switch(Lt=De?no(De):window,r){case"focusin":(Gl(Lt)||Lt.contentEditable==="true")&&(Oi=Lt,ds=De,ei=null);break;case"focusout":ei=ds=Oi=null;break;case"mousedown":Ui=!0;break;case"contextmenu":case"mouseup":case"dragend":Ui=!1,pn(Xe,l,Fe);break;case"selectionchange":if(co)break;case"keydown":case"keyup":pn(Xe,l,Fe)}var Jt;if(Na)e:{switch(r){case"compositionstart":var an="onCompositionStart";break e;case"compositionend":an="onCompositionEnd";break e;case"compositionupdate":an="onCompositionUpdate";break e}an=void 0}else Ca?Ds(r,l)&&(an="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(an="onCompositionStart");an&&(is&&l.locale!=="ko"&&(Ca||an!=="onCompositionStart"?an==="onCompositionEnd"&&Ca&&(Jt=Ru()):(Ci=Fe,so="value"in Ci?Ci.value:Ci.textContent,Ca=!0)),Lt=Uf(De,an),0<Lt.length&&(an=new ke(an,r,null,l,Fe),Xe.push({event:an,listeners:Lt}),Jt?an.data=Jt:(Jt=Yo(l),Jt!==null&&(an.data=Jt)))),(Jt=uo?ci(r,l):as(r,l))&&(an=Uf(De,"onBeforeInput"),0<an.length&&(Lt=new ke("onBeforeInput","beforeinput",null,l,Fe),Xe.push({event:Lt,listeners:an}),Lt.data=Jt)),Mw(Xe,r,De,l,Fe)}Km(Xe,i)})}function vd(r,i,l){return{instance:r,listener:i,currentTarget:l}}function Uf(r,i){for(var l=i+"Capture",c=[];r!==null;){var m=r,v=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||v===null||(m=Ni(r,l),m!=null&&c.unshift(vd(r,m,v)),m=Ni(r,i),m!=null&&c.push(vd(r,m,v))),r.tag===3)return c;r=r.return}return[]}function Pw(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Jm(r,i,l,c,m){for(var v=i._reactName,C=[];l!==null&&l!==c;){var W=l,ge=W.alternate,De=W.stateNode;if(W=W.tag,ge!==null&&ge===c)break;W!==5&&W!==26&&W!==27||De===null||(ge=De,m?(De=Ni(l,v),De!=null&&C.unshift(vd(l,De,ge))):m||(De=Ni(l,v),De!=null&&C.push(vd(l,De,ge)))),l=l.return}C.length!==0&&r.push({event:i,listeners:C})}var Uw=/\r\n?/g,qw=/\u0000|\uFFFD/g;function Zm(r){return(typeof r=="string"?r:""+r).replace(Uw,`
`).replace(qw,"")}function Qm(r,i){return i=Zm(i),Zm(r)===i}function Mn(r,i,l,c,m,v){switch(l){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||la(r,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&la(r,""+c);break;case"className":Va(r,"class",c);break;case"tabIndex":Va(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Va(r,l,c);break;case"style":Lu(r,c,v);break;case"data":if(i!=="object"){Va(r,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||l!=="href")){r.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(l);break}c=vi(""+c),r.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(l==="formAction"?(i!=="input"&&Mn(r,i,"name",m.name,m,null),Mn(r,i,"formEncType",m.formEncType,m,null),Mn(r,i,"formMethod",m.formMethod,m,null),Mn(r,i,"formTarget",m.formTarget,m,null)):(Mn(r,i,"encType",m.encType,m,null),Mn(r,i,"method",m.method,m,null),Mn(r,i,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(l);break}c=vi(""+c),r.setAttribute(l,c);break;case"onClick":c!=null&&(r.onclick=ua);break;case"onScroll":c!=null&&nn("scroll",r);break;case"onScrollEnd":c!=null&&nn("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(a(60));r.innerHTML=l}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}l=vi(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,""+c):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":c===!0?r.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,c):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(l,c):r.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(l):r.setAttribute(l,c);break;case"popover":nn("beforetoggle",r),nn("toggle",r),ji(r,"popover",c);break;case"xlinkActuate":oa(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":oa(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":oa(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":oa(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":oa(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":oa(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":oa(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":oa(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":oa(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":ji(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=ql.get(l)||l,ji(r,l,c))}}function ip(r,i,l,c,m,v){switch(l){case"style":Lu(r,c,v);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(a(60));r.innerHTML=l}}break;case"children":typeof c=="string"?la(r,c):(typeof c=="number"||typeof c=="bigint")&&la(r,""+c);break;case"onScroll":c!=null&&nn("scroll",r);break;case"onScrollEnd":c!=null&&nn("scrollend",r);break;case"onClick":c!=null&&(r.onclick=ua);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Li.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),i=l.slice(2,m?l.length-7:void 0),v=r[Gn]||null,v=v!=null?v[l]:null,typeof v=="function"&&r.removeEventListener(i,v,m),typeof c=="function")){typeof v!="function"&&v!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(i,c,m);break e}l in r?r[l]=c:c===!0?r.setAttribute(l,""):ji(r,l,c)}}}function gi(r,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":nn("error",r),nn("load",r);var c=!1,m=!1,v;for(v in l)if(l.hasOwnProperty(v)){var C=l[v];if(C!=null)switch(v){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Mn(r,i,v,C,l,null)}}m&&Mn(r,i,"srcSet",l.srcSet,l,null),c&&Mn(r,i,"src",l.src,l,null);return;case"input":nn("invalid",r);var W=v=C=m=null,ge=null,De=null;for(c in l)if(l.hasOwnProperty(c)){var Fe=l[c];if(Fe!=null)switch(c){case"name":m=Fe;break;case"type":C=Fe;break;case"checked":ge=Fe;break;case"defaultChecked":De=Fe;break;case"value":v=Fe;break;case"defaultValue":W=Fe;break;case"children":case"dangerouslySetInnerHTML":if(Fe!=null)throw Error(a(137,i));break;default:Mn(r,i,c,Fe,l,null)}}ku(r,v,W,ge,De,C,m,!1);return;case"select":nn("invalid",r),c=C=v=null;for(m in l)if(l.hasOwnProperty(m)&&(W=l[m],W!=null))switch(m){case"value":v=W;break;case"defaultValue":C=W;break;case"multiple":c=W;default:Mn(r,i,m,W,l,null)}i=v,l=C,r.multiple=!!c,i!=null?ui(r,!!c,i,!1):l!=null&&ui(r,!!c,l,!0);return;case"textarea":nn("invalid",r),v=m=c=null;for(C in l)if(l.hasOwnProperty(C)&&(W=l[C],W!=null))switch(C){case"value":c=W;break;case"defaultValue":m=W;break;case"children":v=W;break;case"dangerouslySetInnerHTML":if(W!=null)throw Error(a(91));break;default:Mn(r,i,C,W,l,null)}Pl(r,c,m,v);return;case"option":for(ge in l)l.hasOwnProperty(ge)&&(c=l[ge],c!=null)&&(ge==="selected"?r.selected=c&&typeof c!="function"&&typeof c!="symbol":Mn(r,i,ge,c,l,null));return;case"dialog":nn("beforetoggle",r),nn("toggle",r),nn("cancel",r),nn("close",r);break;case"iframe":case"object":nn("load",r);break;case"video":case"audio":for(c=0;c<bd.length;c++)nn(bd[c],r);break;case"image":nn("error",r),nn("load",r);break;case"details":nn("toggle",r);break;case"embed":case"source":case"link":nn("error",r),nn("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(De in l)if(l.hasOwnProperty(De)&&(c=l[De],c!=null))switch(De){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Mn(r,i,De,c,l,null)}return;default:if(Ul(i)){for(Fe in l)l.hasOwnProperty(Fe)&&(c=l[Fe],c!==void 0&&ip(r,i,Fe,c,l,void 0));return}}for(W in l)l.hasOwnProperty(W)&&(c=l[W],c!=null&&Mn(r,i,W,c,l,null))}function Fw(r,i,l,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,v=null,C=null,W=null,ge=null,De=null,Fe=null;for(Ie in l){var Xe=l[Ie];if(l.hasOwnProperty(Ie)&&Xe!=null)switch(Ie){case"checked":break;case"value":break;case"defaultValue":ge=Xe;default:c.hasOwnProperty(Ie)||Mn(r,i,Ie,null,c,Xe)}}for(var Me in c){var Ie=c[Me];if(Xe=l[Me],c.hasOwnProperty(Me)&&(Ie!=null||Xe!=null))switch(Me){case"type":v=Ie;break;case"name":m=Ie;break;case"checked":De=Ie;break;case"defaultChecked":Fe=Ie;break;case"value":C=Ie;break;case"defaultValue":W=Ie;break;case"children":case"dangerouslySetInnerHTML":if(Ie!=null)throw Error(a(137,i));break;default:Ie!==Xe&&Mn(r,i,Me,Ie,c,Xe)}}Fo(r,C,W,ge,De,Fe,v,m);return;case"select":Ie=C=W=Me=null;for(v in l)if(ge=l[v],l.hasOwnProperty(v)&&ge!=null)switch(v){case"value":break;case"multiple":Ie=ge;default:c.hasOwnProperty(v)||Mn(r,i,v,null,c,ge)}for(m in c)if(v=c[m],ge=l[m],c.hasOwnProperty(m)&&(v!=null||ge!=null))switch(m){case"value":Me=v;break;case"defaultValue":W=v;break;case"multiple":C=v;default:v!==ge&&Mn(r,i,m,v,c,ge)}i=W,l=C,c=Ie,Me!=null?ui(r,!!l,Me,!1):!!c!=!!l&&(i!=null?ui(r,!!l,i,!0):ui(r,!!l,l?[]:"",!1));return;case"textarea":Ie=Me=null;for(W in l)if(m=l[W],l.hasOwnProperty(W)&&m!=null&&!c.hasOwnProperty(W))switch(W){case"value":break;case"children":break;default:Mn(r,i,W,null,c,m)}for(C in c)if(m=c[C],v=l[C],c.hasOwnProperty(C)&&(m!=null||v!=null))switch(C){case"value":Me=m;break;case"defaultValue":Ie=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(a(91));break;default:m!==v&&Mn(r,i,C,m,c,v)}Il(r,Me,Ie);return;case"option":for(var wt in l)Me=l[wt],l.hasOwnProperty(wt)&&Me!=null&&!c.hasOwnProperty(wt)&&(wt==="selected"?r.selected=!1:Mn(r,i,wt,null,c,Me));for(ge in c)Me=c[ge],Ie=l[ge],c.hasOwnProperty(ge)&&Me!==Ie&&(Me!=null||Ie!=null)&&(ge==="selected"?r.selected=Me&&typeof Me!="function"&&typeof Me!="symbol":Mn(r,i,ge,Me,c,Ie));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var zt in l)Me=l[zt],l.hasOwnProperty(zt)&&Me!=null&&!c.hasOwnProperty(zt)&&Mn(r,i,zt,null,c,Me);for(De in c)if(Me=c[De],Ie=l[De],c.hasOwnProperty(De)&&Me!==Ie&&(Me!=null||Ie!=null))switch(De){case"children":case"dangerouslySetInnerHTML":if(Me!=null)throw Error(a(137,i));break;default:Mn(r,i,De,Me,c,Ie)}return;default:if(Ul(i)){for(var zn in l)Me=l[zn],l.hasOwnProperty(zn)&&Me!==void 0&&!c.hasOwnProperty(zn)&&ip(r,i,zn,void 0,c,Me);for(Fe in c)Me=c[Fe],Ie=l[Fe],!c.hasOwnProperty(Fe)||Me===Ie||Me===void 0&&Ie===void 0||ip(r,i,Fe,Me,c,Ie);return}}for(var Te in l)Me=l[Te],l.hasOwnProperty(Te)&&Me!=null&&!c.hasOwnProperty(Te)&&Mn(r,i,Te,null,c,Me);for(Xe in c)Me=c[Xe],Ie=l[Xe],!c.hasOwnProperty(Xe)||Me===Ie||Me==null&&Ie==null||Mn(r,i,Xe,Me,c,Ie)}function e2(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Hw(){if(typeof performance.getEntriesByType=="function"){for(var r=0,i=0,l=performance.getEntriesByType("resource"),c=0;c<l.length;c++){var m=l[c],v=m.transferSize,C=m.initiatorType,W=m.duration;if(v&&W&&e2(C)){for(C=0,W=m.responseEnd,c+=1;c<l.length;c++){var ge=l[c],De=ge.startTime;if(De>W)break;var Fe=ge.transferSize,Xe=ge.initiatorType;Fe&&e2(Xe)&&(ge=ge.responseEnd,C+=Fe*(ge<W?1:(W-De)/(ge-De)))}if(--c,i+=8*(v+C)/(m.duration/1e3),r++,10<r)break}}if(0<r)return i/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var ap=null,sp=null;function qf(r){return r.nodeType===9?r:r.ownerDocument}function t2(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function n2(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function op(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var lp=null;function $w(){var r=window.event;return r&&r.type==="popstate"?r===lp?!1:(lp=r,!0):(lp=null,!1)}var r2=typeof setTimeout=="function"?setTimeout:void 0,Ww=typeof clearTimeout=="function"?clearTimeout:void 0,i2=typeof Promise=="function"?Promise:void 0,Gw=typeof queueMicrotask=="function"?queueMicrotask:typeof i2<"u"?function(r){return i2.resolve(null).then(r).catch(Yw)}:r2;function Yw(r){setTimeout(function(){throw r})}function ml(r){return r==="head"}function a2(r,i){var l=i,c=0;do{var m=l.nextSibling;if(r.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"||l==="/&"){if(c===0){r.removeChild(m),pc(i);return}c--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")c++;else if(l==="html")wd(r.ownerDocument.documentElement);else if(l==="head"){l=r.ownerDocument.head,wd(l);for(var v=l.firstChild;v;){var C=v.nextSibling,W=v.nodeName;v[ra]||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&v.rel.toLowerCase()==="stylesheet"||l.removeChild(v),v=C}}else l==="body"&&wd(r.ownerDocument.body);l=m}while(l);pc(i)}function s2(r,i){var l=r;r=0;do{var c=l.nextSibling;if(l.nodeType===1?i?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(i?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),c&&c.nodeType===8)if(l=c.data,l==="/$"){if(r===0)break;r--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||r++;l=c}while(l)}function up(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":up(l),Ns(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function Vw(r,i,l,c){for(;r.nodeType===1;){var m=l;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[ra])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(v=r.getAttribute("rel"),v==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(v!==m.rel||r.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||r.getAttribute("title")!==(m.title==null?null:m.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(v=r.getAttribute("src"),(v!==(m.src==null?null:m.src)||r.getAttribute("type")!==(m.type==null?null:m.type)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&v&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var v=m.name==null?null:""+m.name;if(m.type==="hidden"&&r.getAttribute("name")===v)return r}else return r;if(r=qa(r.nextSibling),r===null)break}return null}function Kw(r,i,l){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=qa(r.nextSibling),r===null))return null;return r}function o2(r,i){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!i||(r=qa(r.nextSibling),r===null))return null;return r}function cp(r){return r.data==="$?"||r.data==="$~"}function dp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function Xw(r,i){var l=r.ownerDocument;if(r.data==="$~")r._reactRetry=i;else if(r.data!=="$?"||l.readyState!=="loading")i();else{var c=function(){i(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function qa(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return r}var fp=null;function l2(r){r=r.nextSibling;for(var i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"||l==="/&"){if(i===0)return qa(r.nextSibling);i--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||i++}r=r.nextSibling}return null}function u2(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(i===0)return r;i--}else l!=="/$"&&l!=="/&"||i++}r=r.previousSibling}return null}function c2(r,i,l){switch(i=qf(l),r){case"html":if(r=i.documentElement,!r)throw Error(a(452));return r;case"head":if(r=i.head,!r)throw Error(a(453));return r;case"body":if(r=i.body,!r)throw Error(a(454));return r;default:throw Error(a(451))}}function wd(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);Ns(r)}var Fa=new Map,d2=new Set;function Ff(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var jo=ee.d;ee.d={f:Jw,r:Zw,D:Qw,C:ex,L:tx,m:nx,X:ix,S:rx,M:ax};function Jw(){var r=jo.f(),i=Of();return r||i}function Zw(r){var i=aa(r);i!==null&&i.tag===5&&i.type==="form"?Lg(i):jo.r(r)}var dc=typeof document>"u"?null:document;function f2(r,i,l){var c=dc;if(c&&typeof i=="string"&&i){var m=pr(i);m='link[rel="'+r+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),d2.has(m)||(d2.add(m),r={rel:r,crossOrigin:l,href:i},c.querySelector(m)===null&&(i=c.createElement("link"),gi(i,"link",r),ar(i),c.head.appendChild(i)))}}function Qw(r){jo.D(r),f2("dns-prefetch",r,null)}function ex(r,i){jo.C(r,i),f2("preconnect",r,i)}function tx(r,i,l){jo.L(r,i,l);var c=dc;if(c&&r&&i){var m='link[rel="preload"][as="'+pr(i)+'"]';i==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+pr(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+pr(l.imageSizes)+'"]')):m+='[href="'+pr(r)+'"]';var v=m;switch(i){case"style":v=fc(r);break;case"script":v=hc(r)}Fa.has(v)||(r=x({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:r,as:i},l),Fa.set(v,r),c.querySelector(m)!==null||i==="style"&&c.querySelector(xd(v))||i==="script"&&c.querySelector(_d(v))||(i=c.createElement("link"),gi(i,"link",r),ar(i),c.head.appendChild(i)))}}function nx(r,i){jo.m(r,i);var l=dc;if(l&&r){var c=i&&typeof i.as=="string"?i.as:"script",m='link[rel="modulepreload"][as="'+pr(c)+'"][href="'+pr(r)+'"]',v=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=hc(r)}if(!Fa.has(v)&&(r=x({rel:"modulepreload",href:r},i),Fa.set(v,r),l.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(_d(v)))return}c=l.createElement("link"),gi(c,"link",r),ar(c),l.head.appendChild(c)}}}function rx(r,i,l){jo.S(r,i,l);var c=dc;if(c&&r){var m=ka(c).hoistableStyles,v=fc(r);i=i||"default";var C=m.get(v);if(!C){var W={loading:0,preload:null};if(C=c.querySelector(xd(v)))W.loading=5;else{r=x({rel:"stylesheet",href:r,"data-precedence":i},l),(l=Fa.get(v))&&hp(r,l);var ge=C=c.createElement("link");ar(ge),gi(ge,"link",r),ge._p=new Promise(function(De,Fe){ge.onload=De,ge.onerror=Fe}),ge.addEventListener("load",function(){W.loading|=1}),ge.addEventListener("error",function(){W.loading|=2}),W.loading|=4,Hf(C,i,c)}C={type:"stylesheet",instance:C,count:1,state:W},m.set(v,C)}}}function ix(r,i){jo.X(r,i);var l=dc;if(l&&r){var c=ka(l).hoistableScripts,m=hc(r),v=c.get(m);v||(v=l.querySelector(_d(m)),v||(r=x({src:r,async:!0},i),(i=Fa.get(m))&&pp(r,i),v=l.createElement("script"),ar(v),gi(v,"link",r),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(m,v))}}function ax(r,i){jo.M(r,i);var l=dc;if(l&&r){var c=ka(l).hoistableScripts,m=hc(r),v=c.get(m);v||(v=l.querySelector(_d(m)),v||(r=x({src:r,async:!0,type:"module"},i),(i=Fa.get(m))&&pp(r,i),v=l.createElement("script"),ar(v),gi(v,"link",r),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(m,v))}}function h2(r,i,l,c){var m=(m=R.current)?Ff(m):null;if(!m)throw Error(a(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=fc(l.href),l=ka(m).hoistableStyles,c=l.get(i),c||(c={type:"style",instance:null,count:0,state:null},l.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=fc(l.href);var v=ka(m).hoistableStyles,C=v.get(r);if(C||(m=m.ownerDocument||m,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(r,C),(v=m.querySelector(xd(r)))&&!v._p&&(C.instance=v,C.state.loading=5),Fa.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Fa.set(r,l),v||sx(m,r,l,C.state))),i&&c===null)throw Error(a(528,""));return C}if(i&&c!==null)throw Error(a(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=hc(l),l=ka(m).hoistableScripts,c=l.get(i),c||(c={type:"script",instance:null,count:0,state:null},l.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,r))}}function fc(r){return'href="'+pr(r)+'"'}function xd(r){return'link[rel="stylesheet"]['+r+"]"}function p2(r){return x({},r,{"data-precedence":r.precedence,precedence:null})}function sx(r,i,l,c){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=r.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),gi(i,"link",l),ar(i),r.head.appendChild(i))}function hc(r){return'[src="'+pr(r)+'"]'}function _d(r){return"script[async]"+r}function g2(r,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var c=r.querySelector('style[data-href~="'+pr(l.href)+'"]');if(c)return i.instance=c,ar(c),c;var m=x({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),ar(c),gi(c,"style",m),Hf(c,l.precedence,r),i.instance=c;case"stylesheet":m=fc(l.href);var v=r.querySelector(xd(m));if(v)return i.state.loading|=4,i.instance=v,ar(v),v;c=p2(l),(m=Fa.get(m))&&hp(c,m),v=(r.ownerDocument||r).createElement("link"),ar(v);var C=v;return C._p=new Promise(function(W,ge){C.onload=W,C.onerror=ge}),gi(v,"link",c),i.state.loading|=4,Hf(v,l.precedence,r),i.instance=v;case"script":return v=hc(l.src),(m=r.querySelector(_d(v)))?(i.instance=m,ar(m),m):(c=l,(m=Fa.get(v))&&(c=x({},l),pp(c,m)),r=r.ownerDocument||r,m=r.createElement("script"),ar(m),gi(m,"link",c),r.head.appendChild(m),i.instance=m);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,Hf(c,l.precedence,r));return i.instance}function Hf(r,i,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,v=m,C=0;C<c.length;C++){var W=c[C];if(W.dataset.precedence===i)v=W;else if(v!==m)break}v?v.parentNode.insertBefore(r,v.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(r,i.firstChild))}function hp(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function pp(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var $f=null;function m2(r,i,l){if($f===null){var c=new Map,m=$f=new Map;m.set(l,c)}else m=$f,c=m.get(l),c||(c=new Map,m.set(l,c));if(c.has(r))return c;for(c.set(r,null),l=l.getElementsByTagName(r),m=0;m<l.length;m++){var v=l[m];if(!(v[ra]||v[En]||r==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var C=v.getAttribute(i)||"";C=r+C;var W=c.get(C);W?W.push(v):c.set(C,[v])}}return c}function y2(r,i,l){r=r.ownerDocument||r,r.head.insertBefore(l,i==="title"?r.querySelector("head > title"):null)}function ox(r,i,l){if(l===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(r=i.disabled,typeof i.precedence=="string"&&r==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function b2(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function lx(r,i,l,c){if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var m=fc(c.href),v=i.querySelector(xd(m));if(v){i=v._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(r.count++,r=Wf.bind(r),i.then(r,r)),l.state.loading|=4,l.instance=v,ar(v);return}v=i.ownerDocument||i,c=p2(c),(m=Fa.get(m))&&hp(c,m),v=v.createElement("link"),ar(v);var C=v;C._p=new Promise(function(W,ge){C.onload=W,C.onerror=ge}),gi(v,"link",c),l.instance=v}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(l,i),(i=l.state.preload)&&(l.state.loading&3)===0&&(r.count++,l=Wf.bind(r),i.addEventListener("load",l),i.addEventListener("error",l))}}var gp=0;function ux(r,i){return r.stylesheets&&r.count===0&&Yf(r,r.stylesheets),0<r.count||0<r.imgCount?function(l){var c=setTimeout(function(){if(r.stylesheets&&Yf(r,r.stylesheets),r.unsuspend){var v=r.unsuspend;r.unsuspend=null,v()}},6e4+i);0<r.imgBytes&&gp===0&&(gp=62500*Hw());var m=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&Yf(r,r.stylesheets),r.unsuspend)){var v=r.unsuspend;r.unsuspend=null,v()}},(r.imgBytes>gp?50:800)+i);return r.unsuspend=l,function(){r.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function Wf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Yf(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Gf=null;function Yf(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Gf=new Map,i.forEach(cx,r),Gf=null,Wf.call(r))}function cx(r,i){if(!(i.state.loading&4)){var l=Gf.get(r);if(l)var c=l.get(null);else{l=new Map,Gf.set(r,l);for(var m=r.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<m.length;v++){var C=m[v];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(l.set(C.dataset.precedence,C),c=C)}c&&l.set(null,c)}m=i.instance,C=m.getAttribute("data-precedence"),v=l.get(C)||c,v===c&&l.set(null,m),l.set(C,m),this.count++,c=Wf.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),v?v.parentNode.insertBefore(m,v.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(m,r.firstChild)),i.state.loading|=4}}var Sd={$$typeof:U,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function dx(r,i,l,c,m,v,C,W,ge){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$n(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$n(0),this.hiddenUpdates=$n(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=v,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ge,this.incompleteTransitions=new Map}function v2(r,i,l,c,m,v,C,W,ge,De,Fe,Xe){return r=new dx(r,i,l,C,ge,De,Fe,Xe,W),i=1,v===!0&&(i|=24),v=ni(3,null,null,i),r.current=v,v.stateNode=r,i=il(),i.refCount++,r.pooledCache=i,i.refCount++,v.memoizedState={element:c,isDehydrated:l,cache:i},ft(v),r}function w2(r){return r?(r=Hr,r):Hr}function x2(r,i,l,c,m,v){m=w2(m),c.context===null?c.context=m:c.pendingContext=m,c=Mt(i),c.payload={element:l},v=v===void 0?null:v,v!==null&&(c.callback=v),l=Xt(r,c,i),l!==null&&(ea(l,r,i),wn(l,r,i))}function _2(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<i?l:i}}function mp(r,i){_2(r,i),(r=r.alternate)&&_2(r,i)}function S2(r){if(r.tag===13||r.tag===31){var i=fs(r,67108864);i!==null&&ea(i,r,67108864),mp(r,67108864)}}function A2(r){if(r.tag===13||r.tag===31){var i=ba();i=mn(i);var l=fs(r,i);l!==null&&ea(l,r,i),mp(r,i)}}var Vf=!0;function fx(r,i,l,c){var m=J.T;J.T=null;var v=ee.p;try{ee.p=2,yp(r,i,l,c)}finally{ee.p=v,J.T=m}}function hx(r,i,l,c){var m=J.T;J.T=null;var v=ee.p;try{ee.p=8,yp(r,i,l,c)}finally{ee.p=v,J.T=m}}function yp(r,i,l,c){if(Vf){var m=bp(c);if(m===null)rp(r,i,c,Kf,l),k2(r,c);else if(gx(m,r,i,l,c))c.stopPropagation();else if(k2(r,c),i&4&&-1<px.indexOf(r)){for(;m!==null;){var v=aa(m);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var C=dt(v.pendingLanes);if(C!==0){var W=v;for(W.pendingLanes|=2,W.entangledLanes|=2;C;){var ge=1<<31-ct(C);W.entanglements[1]|=ge,C&=~ge}Vs(v),(_n&6)===0&&(Cf=Qe()+500,yd(0))}}break;case 31:case 13:W=fs(v,2),W!==null&&ea(W,v,2),Of(),mp(v,2)}if(v=bp(c),v===null&&rp(r,i,c,Kf,l),v===m)break;m=v}m!==null&&c.stopPropagation()}else rp(r,i,c,null,l)}}function bp(r){return r=io(r),vp(r)}var Kf=null;function vp(r){if(Kf=null,r=ia(r),r!==null){var i=o(r);if(i===null)r=null;else{var l=i.tag;if(l===13){if(r=u(i),r!==null)return r;r=null}else if(l===31){if(r=d(i),r!==null)return r;r=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return Kf=r,null}function E2(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(at()){case ut:return 2;case nt:return 8;case pt:case $e:return 32;case ot:return 268435456;default:return 32}default:return 32}}var wp=!1,yl=null,bl=null,vl=null,Ad=new Map,Ed=new Map,wl=[],px="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function k2(r,i){switch(r){case"focusin":case"focusout":yl=null;break;case"dragenter":case"dragleave":bl=null;break;case"mouseover":case"mouseout":vl=null;break;case"pointerover":case"pointerout":Ad.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ed.delete(i.pointerId)}}function kd(r,i,l,c,m,v){return r===null||r.nativeEvent!==v?(r={blockedOn:i,domEventName:l,eventSystemFlags:c,nativeEvent:v,targetContainers:[m]},i!==null&&(i=aa(i),i!==null&&S2(i)),r):(r.eventSystemFlags|=c,i=r.targetContainers,m!==null&&i.indexOf(m)===-1&&i.push(m),r)}function gx(r,i,l,c,m){switch(i){case"focusin":return yl=kd(yl,r,i,l,c,m),!0;case"dragenter":return bl=kd(bl,r,i,l,c,m),!0;case"mouseover":return vl=kd(vl,r,i,l,c,m),!0;case"pointerover":var v=m.pointerId;return Ad.set(v,kd(Ad.get(v)||null,r,i,l,c,m)),!0;case"gotpointercapture":return v=m.pointerId,Ed.set(v,kd(Ed.get(v)||null,r,i,l,c,m)),!0}return!1}function T2(r){var i=ia(r.target);if(i!==null){var l=o(i);if(l!==null){if(i=l.tag,i===13){if(i=u(l),i!==null){r.blockedOn=i,bi(r.priority,function(){A2(l)});return}}else if(i===31){if(i=d(l),i!==null){r.blockedOn=i,bi(r.priority,function(){A2(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Xf(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var l=bp(r.nativeEvent);if(l===null){l=r.nativeEvent;var c=new l.constructor(l.type,l);Ka=c,l.target.dispatchEvent(c),Ka=null}else return i=aa(l),i!==null&&S2(i),r.blockedOn=l,!1;i.shift()}return!0}function L2(r,i,l){Xf(r)&&l.delete(i)}function mx(){wp=!1,yl!==null&&Xf(yl)&&(yl=null),bl!==null&&Xf(bl)&&(bl=null),vl!==null&&Xf(vl)&&(vl=null),Ad.forEach(L2),Ed.forEach(L2)}function Jf(r,i){r.blockedOn===i&&(r.blockedOn=null,wp||(wp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,mx)))}var Zf=null;function j2(r){Zf!==r&&(Zf=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Zf===r&&(Zf=null);for(var i=0;i<r.length;i+=3){var l=r[i],c=r[i+1],m=r[i+2];if(typeof c!="function"){if(vp(c||l)===null)continue;break}var v=aa(l);v!==null&&(r.splice(i,3),i-=3,b0(v,{pending:!0,data:m,method:l.method,action:c},c,m))}}))}function pc(r){function i(ge){return Jf(ge,r)}yl!==null&&Jf(yl,r),bl!==null&&Jf(bl,r),vl!==null&&Jf(vl,r),Ad.forEach(i),Ed.forEach(i);for(var l=0;l<wl.length;l++){var c=wl[l];c.blockedOn===r&&(c.blockedOn=null)}for(;0<wl.length&&(l=wl[0],l.blockedOn===null);)T2(l),l.blockedOn===null&&wl.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var m=l[c],v=l[c+1],C=m[Gn]||null;if(typeof v=="function")C||j2(l);else if(C){var W=null;if(v&&v.hasAttribute("formAction")){if(m=v,C=v[Gn]||null)W=C.formAction;else if(vp(m)!==null)continue}else W=C.action;typeof W=="function"?l[c+1]=W:(l.splice(c,3),c-=3),j2(l)}}}function N2(){function r(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(C){return m=C})},focusReset:"manual",scroll:"manual"})}function i(){m!==null&&(m(),m=null),c||setTimeout(l,20)}function l(){if(!c&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(l,100),function(){c=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),m!==null&&(m(),m=null)}}}function xp(r){this._internalRoot=r}Qf.prototype.render=xp.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(a(409));var l=i.current,c=ba();x2(l,c,r,i,null,null)},Qf.prototype.unmount=xp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;x2(r.current,2,null,r,null,null),Of(),i[Qr]=null}};function Qf(r){this._internalRoot=r}Qf.prototype.unstable_scheduleHydration=function(r){if(r){var i=An();r={blockedOn:null,target:r,priority:i};for(var l=0;l<wl.length&&i!==0&&i<wl[l].priority;l++);wl.splice(l,0,r),l===0&&T2(r)}};var C2=e.version;if(C2!=="19.2.3")throw Error(a(527,C2,"19.2.3"));ee.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(a(188)):(r=Object.keys(r).join(","),Error(a(268,r)));return r=h(i),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var yx={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eh.isDisabled&&eh.supportsFiber)try{rt=eh.inject(yx),it=eh}catch{}}return Ld.createRoot=function(r,i){if(!s(r))throw Error(a(299));var l=!1,c="",m=Ig,v=Pg,C=Ug;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(m=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(C=i.onRecoverableError)),i=v2(r,1,!1,null,null,l,c,null,m,v,C,N2),r[Qr]=i.current,np(r),new xp(i)},Ld.hydrateRoot=function(r,i,l){if(!s(r))throw Error(a(299));var c=!1,m="",v=Ig,C=Pg,W=Ug,ge=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(C=l.onCaughtError),l.onRecoverableError!==void 0&&(W=l.onRecoverableError),l.formState!==void 0&&(ge=l.formState)),i=v2(r,1,!0,i,l??null,c,m,ge,v,C,W,N2),i.context=w2(null),l=i.current,c=ba(),c=mn(c),m=Mt(c),m.callback=null,Xt(l,m,c),l=c,i.current.lanes=l,At(i,l),Vs(i),r[Qr]=i.current,np(r),new Qf(i)},Ld.version="19.2.3",Ld}var q2;function Tx(){if(q2)return Ap.exports;q2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ap.exports=kx(),Ap.exports}var Lx=Tx();let jx={data:""},Nx=t=>{if(typeof window=="object"){let e=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||jx},Cx=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Rx=/\/\*[^]*?\*\/|  +/g,F2=/\n+/g,kl=(t,e)=>{let n="",a="",s="";for(let o in t){let u=t[o];o[0]=="@"?o[1]=="i"?n=o+" "+u+";":a+=o[1]=="f"?kl(u,o):o+"{"+kl(u,o[1]=="k"?"":e)+"}":typeof u=="object"?a+=kl(u,e?e.replace(/([^,])+/g,d=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,f=>/&/.test(f)?f.replace(/&/g,d):d?d+" "+f:f)):o):u!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=kl.p?kl.p(o,u):o+":"+u+";")}return n+(e&&s?e+"{"+s+"}":s)+a},No={},Yy=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+Yy(t[n]);return e}return t},Ox=(t,e,n,a,s)=>{let o=Yy(t),u=No[o]||(No[o]=(f=>{let h=0,g=11;for(;h<f.length;)g=101*g+f.charCodeAt(h++)>>>0;return"go"+g})(o));if(!No[u]){let f=o!==t?t:(h=>{let g,x,S=[{}];for(;g=Cx.exec(h.replace(Rx,""));)g[4]?S.shift():g[3]?(x=g[3].replace(F2," ").trim(),S.unshift(S[0][x]=S[0][x]||{})):S[0][g[1]]=g[2].replace(F2," ").trim();return S[0]})(t);No[u]=kl(s?{["@keyframes "+u]:f}:f,n?"":"."+u)}let d=n&&No.g?No.g:null;return n&&(No.g=No[u]),((f,h,g,x)=>{x?h.data=h.data.replace(x,f):h.data.indexOf(f)===-1&&(h.data=g?f+h.data:h.data+f)})(No[u],e,a,d),u},Dx=(t,e,n)=>t.reduce((a,s,o)=>{let u=e[o];if(u&&u.call){let d=u(n),f=d&&d.props&&d.props.className||/^go/.test(d)&&d;u=f?"."+f:d&&typeof d=="object"?d.props?"":kl(d,""):d===!1?"":d}return a+s+(u??"")},"");function Yh(t){let e=this||{},n=t.call?t(e.p):t;return Ox(n.unshift?n.raw?Dx(n,[].slice.call(arguments,1),e.p):n.reduce((a,s)=>Object.assign(a,s&&s.call?s(e.p):s),{}):n,Nx(e.target),e.g,e.o,e.k)}let Vy,f1,h1;Yh.bind({g:1});let zo=Yh.bind({k:1});function Mx(t,e,n,a){kl.p=e,Vy=t,f1=n,h1=a}function Nl(t,e){let n=this||{};return function(){let a=arguments;function s(o,u){let d=Object.assign({},o),f=d.className||s.className;n.p=Object.assign({theme:f1&&f1()},d),n.o=/ *go\d+/.test(f),d.className=Yh.apply(n,a)+(f?" "+f:"");let h=t;return t[0]&&(h=d.as||t,delete d.as),h1&&h[0]&&h1(d),Vy(h,d)}return s}}var zx=t=>typeof t=="function",Nh=(t,e)=>zx(t)?t(e):t,Bx=(()=>{let t=0;return()=>(++t).toString()})(),Ky=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),Ix=20,$1="default",Xy=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(u=>u.id===e.toast.id?{...u,...e.toast}:u)};case 2:let{toast:a}=e;return Xy(t,{type:t.toasts.find(u=>u.id===a.id)?1:0,toast:a});case 3:let{toastId:s}=e;return{...t,toasts:t.toasts.map(u=>u.id===s||s===void 0?{...u,dismissed:!0,visible:!1}:u)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(u=>u.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let o=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(u=>({...u,pauseDuration:u.pauseDuration+o}))}}},wh=[],Jy={toasts:[],pausedAt:void 0,settings:{toastLimit:Ix}},Zs={},Zy=(t,e=$1)=>{Zs[e]=Xy(Zs[e]||Jy,t),wh.forEach(([n,a])=>{n===e&&a(Zs[e])})},Qy=t=>Object.keys(Zs).forEach(e=>Zy(t,e)),Px=t=>Object.keys(Zs).find(e=>Zs[e].toasts.some(n=>n.id===t)),Vh=(t=$1)=>e=>{Zy(e,t)},Ux={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},qx=(t={},e=$1)=>{let[n,a]=O.useState(Zs[e]||Jy),s=O.useRef(Zs[e]);O.useEffect(()=>(s.current!==Zs[e]&&a(Zs[e]),wh.push([e,a]),()=>{let u=wh.findIndex(([d])=>d===e);u>-1&&wh.splice(u,1)}),[e]);let o=n.toasts.map(u=>{var d,f,h;return{...t,...t[u.type],...u,removeDelay:u.removeDelay||((d=t[u.type])==null?void 0:d.removeDelay)||t?.removeDelay,duration:u.duration||((f=t[u.type])==null?void 0:f.duration)||t?.duration||Ux[u.type],style:{...t.style,...(h=t[u.type])==null?void 0:h.style,...u.style}}});return{...n,toasts:o}},Fx=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:n?.id||Bx()}),Qd=t=>(e,n)=>{let a=Fx(e,t,n);return Vh(a.toasterId||Px(a.id))({type:2,toast:a}),a.id},Jr=(t,e)=>Qd("blank")(t,e);Jr.error=Qd("error");Jr.success=Qd("success");Jr.loading=Qd("loading");Jr.custom=Qd("custom");Jr.dismiss=(t,e)=>{let n={type:3,toastId:t};e?Vh(e)(n):Qy(n)};Jr.dismissAll=t=>Jr.dismiss(void 0,t);Jr.remove=(t,e)=>{let n={type:4,toastId:t};e?Vh(e)(n):Qy(n)};Jr.removeAll=t=>Jr.remove(void 0,t);Jr.promise=(t,e,n)=>{let a=Jr.loading(e.loading,{...n,...n?.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let o=e.success?Nh(e.success,s):void 0;return o?Jr.success(o,{id:a,...n,...n?.success}):Jr.dismiss(a),s}).catch(s=>{let o=e.error?Nh(e.error,s):void 0;o?Jr.error(o,{id:a,...n,...n?.error}):Jr.dismiss(a)}),t};var Hx=1e3,$x=(t,e="default")=>{let{toasts:n,pausedAt:a}=qx(t,e),s=O.useRef(new Map).current,o=O.useCallback((x,S=Hx)=>{if(s.has(x))return;let y=setTimeout(()=>{s.delete(x),u({type:4,toastId:x})},S);s.set(x,y)},[]);O.useEffect(()=>{if(a)return;let x=Date.now(),S=n.map(y=>{if(y.duration===1/0)return;let E=(y.duration||0)+y.pauseDuration-(x-y.createdAt);if(E<0){y.visible&&Jr.dismiss(y.id);return}return setTimeout(()=>Jr.dismiss(y.id,e),E)});return()=>{S.forEach(y=>y&&clearTimeout(y))}},[n,a,e]);let u=O.useCallback(Vh(e),[e]),d=O.useCallback(()=>{u({type:5,time:Date.now()})},[u]),f=O.useCallback((x,S)=>{u({type:1,toast:{id:x,height:S}})},[u]),h=O.useCallback(()=>{a&&u({type:6,time:Date.now()})},[a,u]),g=O.useCallback((x,S)=>{let{reverseOrder:y=!1,gutter:E=8,defaultPosition:T}=S||{},k=n.filter(U=>(U.position||T)===(x.position||T)&&U.height),N=k.findIndex(U=>U.id===x.id),D=k.filter((U,M)=>M<N&&U.visible).length;return k.filter(U=>U.visible).slice(...y?[D+1]:[0,D]).reduce((U,M)=>U+(M.height||0)+E,0)},[n]);return O.useEffect(()=>{n.forEach(x=>{if(x.dismissed)o(x.id,x.removeDelay);else{let S=s.get(x.id);S&&(clearTimeout(S),s.delete(x.id))}})},[n,o]),{toasts:n,handlers:{updateHeight:f,startPause:d,endPause:h,calculateOffset:g}}},Wx=zo`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Gx=zo`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Yx=zo`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Vx=Nl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Wx} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Gx} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Yx} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Kx=zo`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Xx=Nl("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${Kx} 1s linear infinite;
`,Jx=zo`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Zx=zo`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Qx=Nl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Jx} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Zx} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,e3=Nl("div")`
  position: absolute;
`,t3=Nl("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,n3=zo`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,r3=Nl("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${n3} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,i3=({toast:t})=>{let{icon:e,type:n,iconTheme:a}=t;return e!==void 0?typeof e=="string"?O.createElement(r3,null,e):e:n==="blank"?null:O.createElement(t3,null,O.createElement(Xx,{...a}),n!=="loading"&&O.createElement(e3,null,n==="error"?O.createElement(Vx,{...a}):O.createElement(Qx,{...a})))},a3=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,s3=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,o3="0%{opacity:0;} 100%{opacity:1;}",l3="0%{opacity:1;} 100%{opacity:0;}",u3=Nl("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,c3=Nl("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,d3=(t,e)=>{let n=t.includes("top")?1:-1,[a,s]=Ky()?[o3,l3]:[a3(n),s3(n)];return{animation:e?`${zo(a)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${zo(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},f3=O.memo(({toast:t,position:e,style:n,children:a})=>{let s=t.height?d3(t.position||e||"top-center",t.visible):{opacity:0},o=O.createElement(i3,{toast:t}),u=O.createElement(c3,{...t.ariaProps},Nh(t.message,t));return O.createElement(u3,{className:t.className,style:{...s,...n,...t.style}},typeof a=="function"?a({icon:o,message:u}):O.createElement(O.Fragment,null,o,u))});Mx(O.createElement);var h3=({id:t,className:e,style:n,onHeightUpdate:a,children:s})=>{let o=O.useCallback(u=>{if(u){let d=()=>{let f=u.getBoundingClientRect().height;a(t,f)};d(),new MutationObserver(d).observe(u,{subtree:!0,childList:!0,characterData:!0})}},[t,a]);return O.createElement("div",{ref:o,className:e,style:n},s)},p3=(t,e)=>{let n=t.includes("top"),a=n?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Ky()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...a,...s}},g3=Yh`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,th=16,m3=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:a,children:s,toasterId:o,containerStyle:u,containerClassName:d})=>{let{toasts:f,handlers:h}=$x(n,o);return O.createElement("div",{"data-rht-toaster":o||"",style:{position:"fixed",zIndex:9999,top:th,left:th,right:th,bottom:th,pointerEvents:"none",...u},className:d,onMouseEnter:h.startPause,onMouseLeave:h.endPause},f.map(g=>{let x=g.position||e,S=h.calculateOffset(g,{reverseOrder:t,gutter:a,defaultPosition:e}),y=p3(x,S);return O.createElement(h3,{id:g.id,key:g.id,onHeightUpdate:h.updateHeight,className:g.visible?g3:"",style:y},g.type==="custom"?Nh(g.message,g):s?s(g):O.createElement(f3,{toast:g,position:x}))}))},nh=Jr;var H2="popstate";function y3(t={}){function e(a,s){let{pathname:o,search:u,hash:d}=a.location;return p1("",{pathname:o,search:u,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(a,s){return typeof s=="string"?s:qd(s)}return v3(e,n,null,t)}function ir(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Wa(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function b3(){return Math.random().toString(36).substring(2,10)}function $2(t,e){return{usr:t.state,key:t.key,idx:e}}function p1(t,e,n=null,a){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Pc(e):e,state:n,key:e&&e.key||a||b3()}}function qd({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Pc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let a=t.indexOf("?");a>=0&&(e.search=t.substring(a),t=t.substring(0,a)),t&&(e.pathname=t)}return e}function v3(t,e,n,a={}){let{window:s=document.defaultView,v5Compat:o=!1}=a,u=s.history,d="POP",f=null,h=g();h==null&&(h=0,u.replaceState({...u.state,idx:h},""));function g(){return(u.state||{idx:null}).idx}function x(){d="POP";let k=g(),N=k==null?null:k-h;h=k,f&&f({action:d,location:T.location,delta:N})}function S(k,N){d="PUSH";let D=p1(T.location,k,N);h=g()+1;let U=$2(D,h),M=T.createHref(D);try{u.pushState(U,"",M)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;s.location.assign(M)}o&&f&&f({action:d,location:T.location,delta:1})}function y(k,N){d="REPLACE";let D=p1(T.location,k,N);h=g();let U=$2(D,h),M=T.createHref(D);u.replaceState(U,"",M),o&&f&&f({action:d,location:T.location,delta:0})}function E(k){return w3(k)}let T={get action(){return d},get location(){return t(s,u)},listen(k){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(H2,x),f=k,()=>{s.removeEventListener(H2,x),f=null}},createHref(k){return e(s,k)},createURL:E,encodeLocation(k){let N=E(k);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:S,replace:y,go(k){return u.go(k)}};return T}function w3(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ir(n,"No window.location.(origin|href) available to create URL");let a=typeof t=="string"?t:qd(t);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function eb(t,e,n="/"){return x3(t,e,n,!1)}function x3(t,e,n,a){let s=typeof e=="string"?Pc(e):e,o=Bo(s.pathname||"/",n);if(o==null)return null;let u=tb(t);_3(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let h=O3(o);d=C3(u[f],h,a)}return d}function tb(t,e=[],n=[],a="",s=!1){let o=(u,d,f=s,h)=>{let g={relativePath:h===void 0?u.path||"":h,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(a)&&f)return;ir(g.relativePath.startsWith(a),`Absolute route path "${g.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(a.length)}let x=Mo([a,g.relativePath]),S=n.concat(g);u.children&&u.children.length>0&&(ir(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),tb(u.children,e,S,x,f)),!(u.path==null&&!u.index)&&e.push({path:x,score:j3(x,u.index),routesMeta:S})};return t.forEach((u,d)=>{if(u.path===""||!u.path?.includes("?"))o(u,d);else for(let f of nb(u.path))o(u,d,!0,f)}),e}function nb(t){let e=t.split("/");if(e.length===0)return[];let[n,...a]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(a.length===0)return s?[o,""]:[o];let u=nb(a.join("/")),d=[];return d.push(...u.map(f=>f===""?o:[o,f].join("/"))),s&&d.push(...u),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function _3(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:N3(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var S3=/^:[\w-]+$/,A3=3,E3=2,k3=1,T3=10,L3=-2,W2=t=>t==="*";function j3(t,e){let n=t.split("/"),a=n.length;return n.some(W2)&&(a+=L3),e&&(a+=E3),n.filter(s=>!W2(s)).reduce((s,o)=>s+(S3.test(o)?A3:o===""?k3:T3),a)}function N3(t,e){return t.length===e.length&&t.slice(0,-1).every((a,s)=>a===e[s])?t[t.length-1]-e[e.length-1]:0}function C3(t,e,n=!1){let{routesMeta:a}=t,s={},o="/",u=[];for(let d=0;d<a.length;++d){let f=a[d],h=d===a.length-1,g=o==="/"?e:e.slice(o.length)||"/",x=Ch({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},g),S=f.route;if(!x&&h&&n&&!a[a.length-1].route.index&&(x=Ch({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!x)return null;Object.assign(s,x.params),u.push({params:s,pathname:Mo([o,x.pathname]),pathnameBase:B3(Mo([o,x.pathnameBase])),route:S}),x.pathnameBase!=="/"&&(o=Mo([o,x.pathnameBase]))}return u}function Ch(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,a]=R3(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],u=o.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:a.reduce((h,{paramName:g,isOptional:x},S)=>{if(g==="*"){let E=d[S]||"";u=o.slice(0,o.length-E.length).replace(/(.)\/+$/,"$1")}const y=d[S];return x&&!y?h[g]=void 0:h[g]=(y||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:u,pattern:t}}function R3(t,e=!1,n=!0){Wa(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let a=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(a.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(a.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),a]}function O3(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wa(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Bo(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=t.charAt(n);return a&&a!=="/"?null:t.slice(n)||"/"}var rb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,D3=t=>rb.test(t);function M3(t,e="/"){let{pathname:n,search:a="",hash:s=""}=typeof t=="string"?Pc(t):t,o;if(n)if(D3(n))o=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),Wa(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?o=G2(n.substring(1),"/"):o=G2(n,e)}else o=e;return{pathname:o,search:I3(a),hash:P3(s)}}function G2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Lp(t,e,n,a){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function z3(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function W1(t){let e=z3(t);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function G1(t,e,n,a=!1){let s;typeof t=="string"?s=Pc(t):(s={...t},ir(!s.pathname||!s.pathname.includes("?"),Lp("?","pathname","search",s)),ir(!s.pathname||!s.pathname.includes("#"),Lp("#","pathname","hash",s)),ir(!s.search||!s.search.includes("#"),Lp("#","search","hash",s)));let o=t===""||s.pathname==="",u=o?"/":s.pathname,d;if(u==null)d=n;else{let x=e.length-1;if(!a&&u.startsWith("..")){let S=u.split("/");for(;S[0]==="..";)S.shift(),x-=1;s.pathname=S.join("/")}d=x>=0?e[x]:"/"}let f=M3(s,d),h=u&&u!=="/"&&u.endsWith("/"),g=(o||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||g)&&(f.pathname+="/"),f}var Mo=t=>t.join("/").replace(/\/\/+/g,"/"),B3=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),I3=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,P3=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,U3=class{constructor(t,e,n,a=!1){this.status=t,this.statusText=e||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function q3(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function F3(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var ib=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ab(t,e){let n=t;if(typeof n!="string"||!rb.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let a=n,s=!1;if(ib)try{let o=new URL(window.location.href),u=n.startsWith("//")?new URL(o.protocol+n):new URL(n),d=Bo(u.pathname,e);u.origin===o.origin&&d!=null?n=d+u.search+u.hash:s=!0}catch{Wa(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:a,isExternal:s,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var sb=["POST","PUT","PATCH","DELETE"];new Set(sb);var H3=["GET",...sb];new Set(H3);var Uc=O.createContext(null);Uc.displayName="DataRouter";var Kh=O.createContext(null);Kh.displayName="DataRouterState";var $3=O.createContext(!1),ob=O.createContext({isTransitioning:!1});ob.displayName="ViewTransition";var W3=O.createContext(new Map);W3.displayName="Fetchers";var G3=O.createContext(null);G3.displayName="Await";var Ea=O.createContext(null);Ea.displayName="Navigation";var ef=O.createContext(null);ef.displayName="Location";var Ts=O.createContext({outlet:null,matches:[],isDataRoute:!1});Ts.displayName="Route";var Y1=O.createContext(null);Y1.displayName="RouteError";var lb="REACT_ROUTER_ERROR",Y3="REDIRECT",V3="ROUTE_ERROR_RESPONSE";function K3(t){if(t.startsWith(`${lb}:${Y3}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function X3(t){if(t.startsWith(`${lb}:${V3}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new U3(e.status,e.statusText,e.data)}catch{}}function J3(t,{relative:e}={}){ir(qc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=O.useContext(Ea),{hash:s,pathname:o,search:u}=tf(t,{relative:e}),d=o;return n!=="/"&&(d=o==="/"?n:Mo([n,o])),a.createHref({pathname:d,search:u,hash:s})}function qc(){return O.useContext(ef)!=null}function Io(){return ir(qc(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(ef).location}var ub="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function cb(t){O.useContext(Ea).static||O.useLayoutEffect(t)}function Xh(){let{isDataRoute:t}=O.useContext(Ts);return t?d4():Z3()}function Z3(){ir(qc(),"useNavigate() may be used only in the context of a <Router> component.");let t=O.useContext(Uc),{basename:e,navigator:n}=O.useContext(Ea),{matches:a}=O.useContext(Ts),{pathname:s}=Io(),o=JSON.stringify(W1(a)),u=O.useRef(!1);return cb(()=>{u.current=!0}),O.useCallback((f,h={})=>{if(Wa(u.current,ub),!u.current)return;if(typeof f=="number"){n.go(f);return}let g=G1(f,JSON.parse(o),s,h.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Mo([e,g.pathname])),(h.replace?n.replace:n.push)(g,h.state,h)},[e,n,o,s,t])}O.createContext(null);function Q3(){let{matches:t}=O.useContext(Ts),e=t[t.length-1];return e?e.params:{}}function tf(t,{relative:e}={}){let{matches:n}=O.useContext(Ts),{pathname:a}=Io(),s=JSON.stringify(W1(n));return O.useMemo(()=>G1(t,JSON.parse(s),a,e==="path"),[t,s,a,e])}function e4(t,e){return db(t,e)}function db(t,e,n,a,s){ir(qc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=O.useContext(Ea),{matches:u}=O.useContext(Ts),d=u[u.length-1],f=d?d.params:{},h=d?d.pathname:"/",g=d?d.pathnameBase:"/",x=d&&d.route;{let D=x&&x.path||"";hb(h,!x||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let S=Io(),y;if(e){let D=typeof e=="string"?Pc(e):e;ir(g==="/"||D.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${D.pathname}" was given in the \`location\` prop.`),y=D}else y=S;let E=y.pathname||"/",T=E;if(g!=="/"){let D=g.replace(/^\//,"").split("/");T="/"+E.replace(/^\//,"").split("/").slice(D.length).join("/")}let k=eb(t,{pathname:T});Wa(x||k!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Wa(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=a4(k&&k.map(D=>Object.assign({},D,{params:Object.assign({},f,D.params),pathname:Mo([g,o.encodeLocation?o.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?g:Mo([g,o.encodeLocation?o.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),u,n,a,s);return e&&N?O.createElement(ef.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},N):N}function t4(){let t=c4(),e=q3(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a},o={padding:"2px 4px",backgroundColor:a},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:o},"ErrorBoundary")," or"," ",O.createElement("code",{style:o},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:s},n):null,u)}var n4=O.createElement(t4,null),fb=class extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=X3(t.digest);n&&(t=n)}let e=t!==void 0?O.createElement(Ts.Provider,{value:this.props.routeContext},O.createElement(Y1.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?O.createElement(r4,{error:t},e):e}};fb.contextType=$3;var jp=new WeakMap;function r4({children:t,error:e}){let{basename:n}=O.useContext(Ea);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let a=K3(e.digest);if(a){let s=jp.get(e);if(s)throw s;let o=ab(a.location,n);if(ib&&!jp.get(e))if(o.isExternal||a.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:a.replace}));throw jp.set(e,u),u}return O.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return t}function i4({routeContext:t,match:e,children:n}){let a=O.useContext(Uc);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(Ts.Provider,{value:t},n)}function a4(t,e=[],n=null,a=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,u=n?.errors;if(u!=null){let g=o.findIndex(x=>x.route.id&&u?.[x.route.id]!==void 0);ir(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let d=!1,f=-1;if(n)for(let g=0;g<o.length;g++){let x=o[g];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(f=g),x.route.id){let{loaderData:S,errors:y}=n,E=x.route.loader&&!S.hasOwnProperty(x.route.id)&&(!y||y[x.route.id]===void 0);if(x.route.lazy||E){d=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}let h=n&&a?(g,x)=>{a(g,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:F3(n.matches),errorInfo:x})}:void 0;return o.reduceRight((g,x,S)=>{let y,E=!1,T=null,k=null;n&&(y=u&&x.route.id?u[x.route.id]:void 0,T=x.route.errorElement||n4,d&&(f<0&&S===0?(hb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,k=null):f===S&&(E=!0,k=x.route.hydrateFallbackElement||null)));let N=e.concat(o.slice(0,S+1)),D=()=>{let U;return y?U=T:E?U=k:x.route.Component?U=O.createElement(x.route.Component,null):x.route.element?U=x.route.element:U=g,O.createElement(i4,{match:x,routeContext:{outlet:g,matches:N,isDataRoute:n!=null},children:U})};return n&&(x.route.ErrorBoundary||x.route.errorElement||S===0)?O.createElement(fb,{location:n.location,revalidation:n.revalidation,component:T,error:y,children:D(),routeContext:{outlet:null,matches:N,isDataRoute:!0},onError:h}):D()},null)}function V1(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function s4(t){let e=O.useContext(Uc);return ir(e,V1(t)),e}function o4(t){let e=O.useContext(Kh);return ir(e,V1(t)),e}function l4(t){let e=O.useContext(Ts);return ir(e,V1(t)),e}function K1(t){let e=l4(t),n=e.matches[e.matches.length-1];return ir(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function u4(){return K1("useRouteId")}function c4(){let t=O.useContext(Y1),e=o4("useRouteError"),n=K1("useRouteError");return t!==void 0?t:e.errors?.[n]}function d4(){let{router:t}=s4("useNavigate"),e=K1("useNavigate"),n=O.useRef(!1);return cb(()=>{n.current=!0}),O.useCallback(async(s,o={})=>{Wa(n.current,ub),n.current&&(typeof s=="number"?await t.navigate(s):await t.navigate(s,{fromRouteId:e,...o}))},[t,e])}var Y2={};function hb(t,e,n){!e&&!Y2[t]&&(Y2[t]=!0,Wa(!1,n))}O.memo(f4);function f4({routes:t,future:e,state:n,onError:a}){return db(t,void 0,n,a,e)}function h4({to:t,replace:e,state:n,relative:a}){ir(qc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=O.useContext(Ea);Wa(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=O.useContext(Ts),{pathname:u}=Io(),d=Xh(),f=G1(t,W1(o),u,a==="path"),h=JSON.stringify(f);return O.useEffect(()=>{d(JSON.parse(h),{replace:e,state:n,relative:a})},[d,h,a,e,n]),null}function Xs(t){ir(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function p4({basename:t="/",children:e=null,location:n,navigationType:a="POP",navigator:s,static:o=!1,unstable_useTransitions:u}){ir(!qc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),f=O.useMemo(()=>({basename:d,navigator:s,static:o,unstable_useTransitions:u,future:{}}),[d,s,o,u]);typeof n=="string"&&(n=Pc(n));let{pathname:h="/",search:g="",hash:x="",state:S=null,key:y="default"}=n,E=O.useMemo(()=>{let T=Bo(h,d);return T==null?null:{location:{pathname:T,search:g,hash:x,state:S,key:y},navigationType:a}},[d,h,g,x,S,y,a]);return Wa(E!=null,`<Router basename="${d}"> is not able to match the URL "${h}${g}${x}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:O.createElement(Ea.Provider,{value:f},O.createElement(ef.Provider,{children:e,value:E}))}function g4({children:t,location:e}){return e4(g1(t),e)}function g1(t,e=[]){let n=[];return O.Children.forEach(t,(a,s)=>{if(!O.isValidElement(a))return;let o=[...e,s];if(a.type===O.Fragment){n.push.apply(n,g1(a.props.children,o));return}ir(a.type===Xs,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ir(!a.props.index||!a.props.children,"An index route cannot have child routes.");let u={id:a.props.id||o.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(u.children=g1(a.props.children,o)),n.push(u)}),n}var xh="get",_h="application/x-www-form-urlencoded";function Jh(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function m4(t){return Jh(t)&&t.tagName.toLowerCase()==="button"}function y4(t){return Jh(t)&&t.tagName.toLowerCase()==="form"}function b4(t){return Jh(t)&&t.tagName.toLowerCase()==="input"}function v4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function w4(t,e){return t.button===0&&(!e||e==="_self")&&!v4(t)}var rh=null;function x4(){if(rh===null)try{new FormData(document.createElement("form"),0),rh=!1}catch{rh=!0}return rh}var _4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Np(t){return t!=null&&!_4.has(t)?(Wa(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_h}"`),null):t}function S4(t,e){let n,a,s,o,u;if(y4(t)){let d=t.getAttribute("action");a=d?Bo(d,e):null,n=t.getAttribute("method")||xh,s=Np(t.getAttribute("enctype"))||_h,o=new FormData(t)}else if(m4(t)||b4(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||d.getAttribute("action");if(a=f?Bo(f,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||xh,s=Np(t.getAttribute("formenctype"))||Np(d.getAttribute("enctype"))||_h,o=new FormData(d,t),!x4()){let{name:h,type:g,value:x}=t;if(g==="image"){let S=h?`${h}.`:"";o.append(`${S}x`,"0"),o.append(`${S}y`,"0")}else h&&o.append(h,x)}}else{if(Jh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=xh,a=null,s=_h,u=t}return o&&s==="text/plain"&&(u=o,o=void 0),{action:a,method:n.toLowerCase(),encType:s,formData:o,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function X1(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function A4(t,e,n,a){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${a}`:s.pathname=`${s.pathname}.${a}`:s.pathname==="/"?s.pathname=`_root.${a}`:e&&Bo(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${a}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${a}`,s}async function E4(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function k4(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function T4(t,e,n){let a=await Promise.all(t.map(async s=>{let o=e.routes[s.route.id];if(o){let u=await E4(o,n);return u.links?u.links():[]}return[]}));return C4(a.flat(1).filter(k4).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function V2(t,e,n,a,s,o){let u=(f,h)=>n[h]?f.route.id!==n[h].route.id:!0,d=(f,h)=>n[h].pathname!==f.pathname||n[h].route.path?.endsWith("*")&&n[h].params["*"]!==f.params["*"];return o==="assets"?e.filter((f,h)=>u(f,h)||d(f,h)):o==="data"?e.filter((f,h)=>{let g=a.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,h)||d(f,h))return!0;if(f.route.shouldRevalidate){let x=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function L4(t,e,{includeHydrateFallback:n}={}){return j4(t.map(a=>{let s=e.routes[a.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function j4(t){return[...new Set(t)]}function N4(t){let e={},n=Object.keys(t).sort();for(let a of n)e[a]=t[a];return e}function C4(t,e){let n=new Set;return new Set(e),t.reduce((a,s)=>{let o=JSON.stringify(N4(s));return n.has(o)||(n.add(o),a.push({key:o,link:s})),a},[])}function pb(){let t=O.useContext(Uc);return X1(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function R4(){let t=O.useContext(Kh);return X1(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var J1=O.createContext(void 0);J1.displayName="FrameworkContext";function gb(){let t=O.useContext(J1);return X1(t,"You must render this element inside a <HydratedRouter> element"),t}function O4(t,e){let n=O.useContext(J1),[a,s]=O.useState(!1),[o,u]=O.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:h,onMouseLeave:g,onTouchStart:x}=e,S=O.useRef(null);O.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let T=N=>{N.forEach(D=>{u(D.isIntersecting)})},k=new IntersectionObserver(T,{threshold:.5});return S.current&&k.observe(S.current),()=>{k.disconnect()}}},[t]),O.useEffect(()=>{if(a){let T=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(T)}}},[a]);let y=()=>{s(!0)},E=()=>{s(!1),u(!1)};return n?t!=="intent"?[o,S,{}]:[o,S,{onFocus:jd(d,y),onBlur:jd(f,E),onMouseEnter:jd(h,y),onMouseLeave:jd(g,E),onTouchStart:jd(x,y)}]:[!1,S,{}]}function jd(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function D4({page:t,...e}){let{router:n}=pb(),a=O.useMemo(()=>eb(n.routes,t,n.basename),[n.routes,t,n.basename]);return a?O.createElement(z4,{page:t,matches:a,...e}):null}function M4(t){let{manifest:e,routeModules:n}=gb(),[a,s]=O.useState([]);return O.useEffect(()=>{let o=!1;return T4(t,e,n).then(u=>{o||s(u)}),()=>{o=!0}},[t,e,n]),a}function z4({page:t,matches:e,...n}){let a=Io(),{future:s,manifest:o,routeModules:u}=gb(),{basename:d}=pb(),{loaderData:f,matches:h}=R4(),g=O.useMemo(()=>V2(t,e,h,o,a,"data"),[t,e,h,o,a]),x=O.useMemo(()=>V2(t,e,h,o,a,"assets"),[t,e,h,o,a]),S=O.useMemo(()=>{if(t===a.pathname+a.search+a.hash)return[];let T=new Set,k=!1;if(e.forEach(D=>{let U=o.routes[D.route.id];!U||!U.hasLoader||(!g.some(M=>M.route.id===D.route.id)&&D.route.id in f&&u[D.route.id]?.shouldRevalidate||U.hasClientLoader?k=!0:T.add(D.route.id))}),T.size===0)return[];let N=A4(t,d,s.unstable_trailingSlashAwareDataRequests,"data");return k&&T.size>0&&N.searchParams.set("_routes",e.filter(D=>T.has(D.route.id)).map(D=>D.route.id).join(",")),[N.pathname+N.search]},[d,s.unstable_trailingSlashAwareDataRequests,f,a,o,g,e,t,u]),y=O.useMemo(()=>L4(x,o),[x,o]),E=M4(x);return O.createElement(O.Fragment,null,S.map(T=>O.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...n})),y.map(T=>O.createElement("link",{key:T,rel:"modulepreload",href:T,...n})),E.map(({key:T,link:k})=>O.createElement("link",{key:T,nonce:n.nonce,...k})))}function B4(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var I4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{I4&&(window.__reactRouterVersion="7.12.0")}catch{}function P4({basename:t,children:e,unstable_useTransitions:n,window:a}){let s=O.useRef();s.current==null&&(s.current=y3({window:a,v5Compat:!0}));let o=s.current,[u,d]=O.useState({action:o.action,location:o.location}),f=O.useCallback(h=>{n===!1?d(h):O.startTransition(()=>d(h))},[n]);return O.useLayoutEffect(()=>o.listen(f),[o,f]),O.createElement(p4,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:o,unstable_useTransitions:n})}var mb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Z1=O.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:s,reloadDocument:o,replace:u,state:d,target:f,to:h,preventScrollReset:g,viewTransition:x,unstable_defaultShouldRevalidate:S,...y},E){let{basename:T,unstable_useTransitions:k}=O.useContext(Ea),N=typeof h=="string"&&mb.test(h),D=ab(h,T);h=D.to;let U=J3(h,{relative:s}),[M,re,de]=O4(a,y),oe=H4(h,{replace:u,state:d,target:f,preventScrollReset:g,relative:s,viewTransition:x,unstable_defaultShouldRevalidate:S,unstable_useTransitions:k});function Q(ue){e&&e(ue),ue.defaultPrevented||oe(ue)}let q=O.createElement("a",{...y,...de,href:D.absoluteURL||U,onClick:D.isExternal||o?e:Q,ref:B4(E,re),target:f,"data-discover":!N&&n==="render"?"true":void 0});return M&&!N?O.createElement(O.Fragment,null,q,O.createElement(D4,{page:U})):q});Z1.displayName="Link";var U4=O.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:s=!1,style:o,to:u,viewTransition:d,children:f,...h},g){let x=tf(u,{relative:h.relative}),S=Io(),y=O.useContext(Kh),{navigator:E,basename:T}=O.useContext(Ea),k=y!=null&&V4(x)&&d===!0,N=E.encodeLocation?E.encodeLocation(x).pathname:x.pathname,D=S.pathname,U=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(D=D.toLowerCase(),U=U?U.toLowerCase():null,N=N.toLowerCase()),U&&T&&(U=Bo(U,T)||U);const M=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let re=D===N||!s&&D.startsWith(N)&&D.charAt(M)==="/",de=U!=null&&(U===N||!s&&U.startsWith(N)&&U.charAt(N.length)==="/"),oe={isActive:re,isPending:de,isTransitioning:k},Q=re?e:void 0,q;typeof a=="function"?q=a(oe):q=[a,re?"active":null,de?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let ue=typeof o=="function"?o(oe):o;return O.createElement(Z1,{...h,"aria-current":Q,className:q,ref:g,style:ue,to:u,viewTransition:d},typeof f=="function"?f(oe):f)});U4.displayName="NavLink";var q4=O.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:s,state:o,method:u=xh,action:d,onSubmit:f,relative:h,preventScrollReset:g,viewTransition:x,unstable_defaultShouldRevalidate:S,...y},E)=>{let{unstable_useTransitions:T}=O.useContext(Ea),k=G4(),N=Y4(d,{relative:h}),D=u.toLowerCase()==="get"?"get":"post",U=typeof d=="string"&&mb.test(d),M=re=>{if(f&&f(re),re.defaultPrevented)return;re.preventDefault();let de=re.nativeEvent.submitter,oe=de?.getAttribute("formmethod")||u,Q=()=>k(de||re.currentTarget,{fetcherKey:e,method:oe,navigate:n,replace:s,state:o,relative:h,preventScrollReset:g,viewTransition:x,unstable_defaultShouldRevalidate:S});T&&n!==!1?O.startTransition(()=>Q()):Q()};return O.createElement("form",{ref:E,method:D,action:N,onSubmit:a?f:M,...y,"data-discover":!U&&t==="render"?"true":void 0})});q4.displayName="Form";function F4(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yb(t){let e=O.useContext(Uc);return ir(e,F4(t)),e}function H4(t,{target:e,replace:n,state:a,preventScrollReset:s,relative:o,viewTransition:u,unstable_defaultShouldRevalidate:d,unstable_useTransitions:f}={}){let h=Xh(),g=Io(),x=tf(t,{relative:o});return O.useCallback(S=>{if(w4(S,e)){S.preventDefault();let y=n!==void 0?n:qd(g)===qd(x),E=()=>h(t,{replace:y,state:a,preventScrollReset:s,relative:o,viewTransition:u,unstable_defaultShouldRevalidate:d});f?O.startTransition(()=>E()):E()}},[g,h,x,n,a,e,t,s,o,u,d,f])}var $4=0,W4=()=>`__${String(++$4)}__`;function G4(){let{router:t}=yb("useSubmit"),{basename:e}=O.useContext(Ea),n=u4(),a=t.fetch,s=t.navigate;return O.useCallback(async(o,u={})=>{let{action:d,method:f,encType:h,formData:g,body:x}=S4(o,e);if(u.navigate===!1){let S=u.fetcherKey||W4();await a(S,n,u.action||d,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:g,body:x,formMethod:u.method||f,formEncType:u.encType||h,flushSync:u.flushSync})}else await s(u.action||d,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:g,body:x,formMethod:u.method||f,formEncType:u.encType||h,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[a,s,e,n])}function Y4(t,{relative:e}={}){let{basename:n}=O.useContext(Ea),a=O.useContext(Ts);ir(a,"useFormAction must be used inside a RouteContext");let[s]=a.matches.slice(-1),o={...tf(t||".",{relative:e})},u=Io();if(t==null){o.search=u.search;let d=new URLSearchParams(o.search),f=d.getAll("index");if(f.some(g=>g==="")){d.delete("index"),f.filter(x=>x).forEach(x=>d.append("index",x));let g=d.toString();o.search=g?`?${g}`:""}}return(!t||t===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Mo([n,o.pathname])),qd(o)}function V4(t,{relative:e}={}){let n=O.useContext(ob);ir(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=yb("useViewTransitionState"),s=tf(t,{relative:e});if(!n.isTransitioning)return!1;let o=Bo(n.currentLocation.pathname,a)||n.currentLocation.pathname,u=Bo(n.nextLocation.pathname,a)||n.nextLocation.pathname;return Ch(s.pathname,u)!=null||Ch(s.pathname,o)!=null}var Nc=Gy();function Zh(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(t);s<a.length;s++)e.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(t,a[s])&&(n[a[s]]=t[a[s]]);return n}function K4(t,e,n,a){function s(o){return o instanceof n?o:new n(function(u){u(o)})}return new(n||(n=Promise))(function(o,u){function d(g){try{h(a.next(g))}catch(x){u(x)}}function f(g){try{h(a.throw(g))}catch(x){u(x)}}function h(g){g.done?o(g.value):s(g.value).then(d,f)}h((a=a.apply(t,e||[])).next())})}const X4=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Q1 extends Error{constructor(e,n="FunctionsError",a){super(e),this.name=n,this.context=a}}class J4 extends Q1{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class K2 extends Q1{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class X2 extends Q1{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var m1;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(m1||(m1={}));class Z4{constructor(e,{headers:n={},customFetch:a,region:s=m1.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=X4(a)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return K4(this,arguments,void 0,function*(n,a={}){var s;let o,u;try{const{headers:d,method:f,body:h,signal:g,timeout:x}=a;let S={},{region:y}=a;y||(y=this.region);const E=new URL(`${this.url}/${n}`);y&&y!=="any"&&(S["x-region"]=y,E.searchParams.set("forceFunctionRegion",y));let T;h&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(S["Content-Type"]="application/octet-stream",T=h):typeof h=="string"?(S["Content-Type"]="text/plain",T=h):typeof FormData<"u"&&h instanceof FormData?T=h:(S["Content-Type"]="application/json",T=JSON.stringify(h)):h&&typeof h!="string"&&!(typeof Blob<"u"&&h instanceof Blob)&&!(h instanceof ArrayBuffer)&&!(typeof FormData<"u"&&h instanceof FormData)?T=JSON.stringify(h):T=h;let k=g;x&&(u=new AbortController,o=setTimeout(()=>u.abort(),x),g?(k=u.signal,g.addEventListener("abort",()=>u.abort())):k=u.signal);const N=yield this.fetch(E.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},S),this.headers),d),body:T,signal:k}).catch(re=>{throw new J4(re)}),D=N.headers.get("x-relay-error");if(D&&D==="true")throw new K2(N);if(!N.ok)throw new X2(N);let U=((s=N.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),M;return U==="application/json"?M=yield N.json():U==="application/octet-stream"||U==="application/pdf"?M=yield N.blob():U==="text/event-stream"?M=N:U==="multipart/form-data"?M=yield N.formData():M=yield N.text(),{data:M,error:null,response:N}}catch(d){return{data:null,error:d,response:d instanceof X2||d instanceof K2?d.context:void 0}}finally{o&&clearTimeout(o)}})}}var Q4=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},e_=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let s=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let u=null,d=null,f=null,h=o.status,g=o.statusText;if(o.ok){var x,S;if(n.method!=="HEAD"){var y;const N=await o.text();N===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((y=n.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?d=N:d=JSON.parse(N))}const T=(x=n.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),k=(S=o.headers.get("content-range"))===null||S===void 0?void 0:S.split("/");T&&k&&k.length>1&&(f=parseInt(k[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{var E;const T=await o.text();try{u=JSON.parse(T),Array.isArray(u)&&o.status===404&&(d=[],u=null,h=200,g="OK")}catch{o.status===404&&T===""?(h=204,g="No Content"):u={message:T}}if(u&&n.isMaybeSingle&&(!(u==null||(E=u.details)===null||E===void 0)&&E.includes("0 rows"))&&(u=null,h=200,g="OK"),u&&n.shouldThrowOnError)throw new Q4(u)}return{error:u,data:d,count:f,status:h,statusText:g}});return this.shouldThrowOnError||(s=s.catch(o=>{var u;let d="";const f=o?.cause;if(f){var h,g,x,S;const E=(h=f?.message)!==null&&h!==void 0?h:"",T=(g=f?.code)!==null&&g!==void 0?g:"";d=`${(x=o?.name)!==null&&x!==void 0?x:"FetchError"}: ${o?.message}`,d+=`

Caused by: ${(S=f?.name)!==null&&S!==void 0?S:"Error"}: ${E}`,T&&(d+=` (${T})`),f?.stack&&(d+=`
${f.stack}`)}else{var y;d=(y=o?.stack)!==null&&y!==void 0?y:""}return{error:{message:`${(u=o?.name)!==null&&u!==void 0?u:"FetchError"}: ${o?.message}`,details:d,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(t,e)}returns(){return this}overrideTypes(){return this}},t_=class extends e_{select(t){let e=!1;const n=(t??"*").split("").map(a=>/\s/.test(a)&&!e?"":(a==='"'&&(e=!e),a)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:a,referencedTable:s=a}={}){const o=s?`${s}.order`:"order",u=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${u?`${u},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:a=n}={}){const s=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(o,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:a=!1,wal:s=!1,format:o="text"}={}){var u;const d=[t?"analyze":null,e?"verbose":null,n?"settings":null,a?"buffers":null,s?"wal":null].filter(Boolean).join("|"),f=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${f}"; options=${d};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const J2=new RegExp("[,()]");var Ec=class extends t_{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(a=>typeof a=="string"&&J2.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(a=>typeof a=="string"&&J2.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:a}={}){let s="";a==="plain"?s="pl":a==="phrase"?s="ph":a==="websearch"&&(s="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${s}fts${o}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},n_=class{constructor(t,{headers:e={},schema:n,fetch:a}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=a}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:n=!1,count:a}=e??{},s=n?"HEAD":"GET";let o=!1;const u=(t??"*").split("").map(h=>/\s/.test(h)&&!o?"":(h==='"'&&(o=!o),h)).join(""),{url:d,headers:f}=this.cloneRequestState();return d.searchParams.set("select",u),a&&f.append("Prefer",`count=${a}`),new Ec({method:s,url:d,headers:f,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var a;const s="POST",{url:o,headers:u}=this.cloneRequestState();if(e&&u.append("Prefer",`count=${e}`),n||u.append("Prefer","missing=default"),Array.isArray(t)){const d=t.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(d.length>0){const f=[...new Set(d)].map(h=>`"${h}"`);o.searchParams.set("columns",f.join(","))}}return new Ec({method:s,url:o,headers:u,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:a,defaultToNull:s=!0}={}){var o;const u="POST",{url:d,headers:f}=this.cloneRequestState();if(f.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&d.searchParams.set("on_conflict",e),a&&f.append("Prefer",`count=${a}`),s||f.append("Prefer","missing=default"),Array.isArray(t)){const h=t.reduce((g,x)=>g.concat(Object.keys(x)),[]);if(h.length>0){const g=[...new Set(h)].map(x=>`"${x}"`);d.searchParams.set("columns",g.join(","))}}return new Ec({method:u,url:d,headers:f,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:e}={}){var n;const a="PATCH",{url:s,headers:o}=this.cloneRequestState();return e&&o.append("Prefer",`count=${e}`),new Ec({method:a,url:s,headers:o,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE",{url:a,headers:s}=this.cloneRequestState();return t&&s.append("Prefer",`count=${t}`),new Ec({method:n,url:a,headers:s,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},r_=class bb{constructor(e,{headers:n={},schema:a,fetch:s}={}){this.url=e,this.headers=new Headers(n),this.schemaName=a,this.fetch=s}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new n_(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new bb(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:a=!1,get:s=!1,count:o}={}){var u;let d;const f=new URL(`${this.url}/rpc/${e}`);let h;const g=y=>y!==null&&typeof y=="object"&&(!Array.isArray(y)||y.some(g)),x=a&&Object.values(n).some(g);x?(d="POST",h=n):a||s?(d=a?"HEAD":"GET",Object.entries(n).filter(([y,E])=>E!==void 0).map(([y,E])=>[y,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([y,E])=>{f.searchParams.append(y,E)})):(d="POST",h=n);const S=new Headers(this.headers);return x?S.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&S.set("Prefer",`count=${o}`),new Ec({method:d,url:f,headers:S,schema:this.schemaName,body:h,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};class i_{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const a=n.versions;if(a&&a.node){const s=a.node,o=parseInt(s.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const a=this.getWebSocketConstructor();return new a(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const a_="2.91.0",s_=`realtime-js/${a_}`,o_="1.0.0",vb="2.0.0",Z2=vb,y1=1e4,l_=1e3,u_=100;var Al;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Al||(Al={}));var Kr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Kr||(Kr={}));var Ss;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ss||(Ss={}));var b1;(function(t){t.websocket="websocket"})(b1||(b1={}));var hu;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(hu||(hu={}));class c_{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let a=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(a))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,a;const s=(a=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&a!==void 0?a:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var n,a;const s=(a=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&a!==void 0?a:{},u=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(e,n,a){var s,o;const u=e.topic,d=(s=e.ref)!==null&&s!==void 0?s:"",f=(o=e.join_ref)!==null&&o!==void 0?o:"",h=e.payload.event,g=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},x=Object.keys(g).length===0?"":JSON.stringify(g);if(f.length>255)throw new Error(`joinRef length ${f.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`ref length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`userEvent length ${h.length} exceeds maximum of 255`);if(x.length>255)throw new Error(`metadata length ${x.length} exceeds maximum of 255`);const S=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+d.length+u.length+h.length+x.length,y=new ArrayBuffer(this.HEADER_LENGTH+S);let E=new DataView(y),T=0;E.setUint8(T++,this.KINDS.userBroadcastPush),E.setUint8(T++,f.length),E.setUint8(T++,d.length),E.setUint8(T++,u.length),E.setUint8(T++,h.length),E.setUint8(T++,x.length),E.setUint8(T++,n),Array.from(f,N=>E.setUint8(T++,N.charCodeAt(0))),Array.from(d,N=>E.setUint8(T++,N.charCodeAt(0))),Array.from(u,N=>E.setUint8(T++,N.charCodeAt(0))),Array.from(h,N=>E.setUint8(T++,N.charCodeAt(0))),Array.from(x,N=>E.setUint8(T++,N.charCodeAt(0)));var k=new Uint8Array(y.byteLength+a.byteLength);return k.set(new Uint8Array(y),0),k.set(new Uint8Array(a),y.byteLength),k.buffer}decode(e,n){if(this._isArrayBuffer(e)){let a=this._binaryDecode(e);return n(a)}if(typeof e=="string"){const a=JSON.parse(e),[s,o,u,d,f]=a;return n({join_ref:s,ref:o,topic:u,event:d,payload:f})}return n({})}_binaryDecode(e){const n=new DataView(e),a=n.getUint8(0),s=new TextDecoder;if(a===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,n,s)}_decodeUserBroadcast(e,n,a){const s=n.getUint8(1),o=n.getUint8(2),u=n.getUint8(3),d=n.getUint8(4);let f=this.HEADER_LENGTH+4;const h=a.decode(e.slice(f,f+s));f=f+s;const g=a.decode(e.slice(f,f+o));f=f+o;const x=a.decode(e.slice(f,f+u));f=f+u;const S=e.slice(f,e.byteLength),y=d===this.JSON_ENCODING?JSON.parse(a.decode(S)):S,E={type:this.BROADCAST_EVENT,event:g,payload:y};return u>0&&(E.meta=JSON.parse(x)),{join_ref:null,ref:null,topic:h,event:this.BROADCAST_EVENT,payload:E}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([a])=>n.includes(a)))}}class wb{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Hn;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Hn||(Hn={}));const Q2=(t,e,n={})=>{var a;const s=(a=n.skipTypes)!==null&&a!==void 0?a:[];return e?Object.keys(e).reduce((o,u)=>(o[u]=d_(u,t,e,s),o),{}):{}},d_=(t,e,n,a)=>{const s=e.find(d=>d.name===t),o=s?.type,u=n[t];return o&&!a.includes(o)?xb(o,u):v1(u)},xb=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return g_(e,n)}switch(t){case Hn.bool:return f_(e);case Hn.float4:case Hn.float8:case Hn.int2:case Hn.int4:case Hn.int8:case Hn.numeric:case Hn.oid:return h_(e);case Hn.json:case Hn.jsonb:return p_(e);case Hn.timestamp:return m_(e);case Hn.abstime:case Hn.date:case Hn.daterange:case Hn.int4range:case Hn.int8range:case Hn.money:case Hn.reltime:case Hn.text:case Hn.time:case Hn.timestamptz:case Hn.timetz:case Hn.tsrange:case Hn.tstzrange:return v1(e);default:return v1(e)}},v1=t=>t,f_=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},h_=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},p_=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},g_=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,a=t[n];if(t[0]==="{"&&a==="}"){let o;const u=t.slice(1,n);try{o=JSON.parse("["+u+"]")}catch{o=u?u.split(","):[]}return o.map(d=>xb(e,d))}return t},m_=t=>typeof t=="string"?t.replace(" ","T"):t,_b=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Cp{constructor(e,n,a={},s=y1){this.channel=e,this.event=n,this.payload=a,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var a;return this._hasReceived(e)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(a=>a.status===e).forEach(a=>a.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var e5;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(e5||(e5={}));class Dd{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},s=>{const{onJoin:o,onLeave:u,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Dd.syncState(this.state,s,o,u),this.pendingDiffs.forEach(f=>{this.state=Dd.syncDiff(this.state,f,o,u)}),this.pendingDiffs=[],d()}),this.channel._on(a.diff,{},s=>{const{onJoin:o,onLeave:u,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Dd.syncDiff(this.state,s,o,u),d())}),this.onJoin((s,o,u)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:u})}),this.onLeave((s,o,u)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,a,s){const o=this.cloneDeep(e),u=this.transformState(n),d={},f={};return this.map(o,(h,g)=>{u[h]||(f[h]=g)}),this.map(u,(h,g)=>{const x=o[h];if(x){const S=g.map(k=>k.presence_ref),y=x.map(k=>k.presence_ref),E=g.filter(k=>y.indexOf(k.presence_ref)<0),T=x.filter(k=>S.indexOf(k.presence_ref)<0);E.length>0&&(d[h]=E),T.length>0&&(f[h]=T)}else d[h]=g}),this.syncDiff(o,{joins:d,leaves:f},a,s)}static syncDiff(e,n,a,s){const{joins:o,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),s||(s=()=>{}),this.map(o,(d,f)=>{var h;const g=(h=e[d])!==null&&h!==void 0?h:[];if(e[d]=this.cloneDeep(f),g.length>0){const x=e[d].map(y=>y.presence_ref),S=g.filter(y=>x.indexOf(y.presence_ref)<0);e[d].unshift(...S)}a(d,g,f)}),this.map(u,(d,f)=>{let h=e[d];if(!h)return;const g=f.map(x=>x.presence_ref);h=h.filter(x=>g.indexOf(x.presence_ref)<0),e[d]=h,s(d,h,f),h.length===0&&delete e[d]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(a=>n(a,e[a]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,a)=>{const s=e[a];return"metas"in s?n[a]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[a]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var t5;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(t5||(t5={}));var Md;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Md||(Md={}));var Oo;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Oo||(Oo={}));class Cc{constructor(e,n={config:{}},a){var s,o;if(this.topic=e,this.params=n,this.socket=a,this.bindings={},this.state=Kr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Cp(this,Ss.join,this.params,this.timeout),this.rejoinTimer=new wb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Kr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Kr.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Kr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Kr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Kr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ss.reply,{},(u,d)=>{this._trigger(this._replyEventName(d),u)}),this.presence=new Dd(this),this.broadcastEndpointURL=_b(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var a,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Kr.closed){const{config:{broadcast:u,presence:d,private:f}}=this.params,h=(s=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(y=>y.filter))!==null&&s!==void 0?s:[],g=!!this.bindings[Md.PRESENCE]&&this.bindings[Md.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,x={},S={broadcast:u,presence:Object.assign(Object.assign({},d),{enabled:g}),postgres_changes:h,private:f};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(y=>e?.(Oo.CHANNEL_ERROR,y)),this._onClose(()=>e?.(Oo.CLOSED)),this.updateJoinPayload(Object.assign({config:S},x)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:y})=>{var E;if(this.socket._isManualToken()||this.socket.setAuth(),y===void 0){e?.(Oo.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,k=(E=T?.length)!==null&&E!==void 0?E:0,N=[];for(let D=0;D<k;D++){const U=T[D],{filter:{event:M,schema:re,table:de,filter:oe}}=U,Q=y&&y[D];if(Q&&Q.event===M&&Cc.isFilterValueEqual(Q.schema,re)&&Cc.isFilterValueEqual(Q.table,de)&&Cc.isFilterValueEqual(Q.filter,oe))N.push(Object.assign(Object.assign({},U),{id:Q.id}));else{this.unsubscribe(),this.state=Kr.errored,e?.(Oo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,e&&e(Oo.SUBSCRIBED);return}}).receive("error",y=>{this.state=Kr.errored,e?.(Oo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{e?.(Oo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,a){return this.state===Kr.joined&&e===Md.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,a)}async httpSend(e,n,a={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(s=a.timeout)!==null&&s!==void 0?s:this.timeout);if(d.status===202)return{success:!0};let f=d.statusText;try{const h=await d.json();f=h.error||h.message||f}catch{}return Promise.reject(new Error(f))}async send(e,n={}){var a,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:u}=e,d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:u,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((s=h.body)===null||s===void 0?void 0:s.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var u,d,f;const h=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(d=(u=this.params)===null||u===void 0?void 0:u.config)===null||d===void 0?void 0:d.broadcast)===null||f===void 0)&&f.ack)&&o("ok"),h.receive("ok",()=>o("ok")),h.receive("error",()=>o("error")),h.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Kr.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ss.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(s=>{a=new Cp(this,Ss.leave,{},e),a.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Kr.closed,this.bindings={}}async _fetchWithTimeout(e,n,a){const s=new AbortController,o=setTimeout(()=>s.abort(),a),u=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),u}_push(e,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Cp(this,e,n,a);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>u_){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,a){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,a){var s,o;const u=e.toLocaleLowerCase(),{close:d,error:f,leave:h,join:g}=Ss;if(a&&[d,f,h,g].indexOf(u)>=0&&a!==this._joinRef())return;let S=this._onMessage(u,n,a);if(n&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var E,T,k;return((E=y.filter)===null||E===void 0?void 0:E.event)==="*"||((k=(T=y.filter)===null||T===void 0?void 0:T.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===u}).map(y=>y.callback(S,a)):(o=this.bindings[u])===null||o===void 0||o.filter(y=>{var E,T,k,N,D,U,M,re;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in y){const de=y.id,oe=(E=y.filter)===null||E===void 0?void 0:E.event;return de&&((T=n.ids)===null||T===void 0?void 0:T.includes(de))&&(oe==="*"||oe?.toLocaleLowerCase()===((k=n.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))&&(!(!((N=y.filter)===null||N===void 0)&&N.table)||y.filter.table===((D=n.data)===null||D===void 0?void 0:D.table))}else{const de=(M=(U=y?.filter)===null||U===void 0?void 0:U.event)===null||M===void 0?void 0:M.toLocaleLowerCase();return de==="*"||de===((re=n?.event)===null||re===void 0?void 0:re.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===u}).map(y=>{if(typeof S=="object"&&"ids"in S){const E=S.data,{schema:T,table:k,commit_timestamp:N,type:D,errors:U}=E;S=Object.assign(Object.assign({},{schema:T,table:k,commit_timestamp:N,eventType:D,new:{},old:{},errors:U}),this._getPayloadRecords(E))}y.callback(S,a)})}_isClosed(){return this.state===Kr.closed}_isJoined(){return this.state===Kr.joined}_isJoining(){return this.state===Kr.joining}_isLeaving(){return this.state===Kr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,a){const s=e.toLocaleLowerCase(),o={type:s,filter:n,callback:a};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(e,n){const a=e.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===a&&Cc.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const a in e)if(e[a]!==n[a])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ss.close,{},e)}_onError(e){this._on(Ss.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Kr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Q2(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Q2(e.columns,e.old_record)),n}}const Rp=()=>{},ih={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},y_=[1e3,2e3,5e3,1e4],b_=1e4,v_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class w_{constructor(e,n){var a;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=y1,this.transport=null,this.heartbeatIntervalMs=ih.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Rp,this.ref=0,this.reconnectTimer=null,this.vsn=Z2,this.logger=Rp,this.conn=null,this.sendBuffer=[],this.serializer=new c_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...o)=>s(...o):(...o)=>fetch(...o),!(!((a=n?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${b1.websocket}`,this.httpEndpoint=_b(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=i_.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,a){this.logger(e,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case Al.connecting:return hu.Connecting;case Al.open:return hu.Open;case Al.closing:return hu.Closing;default:return hu.Closed}}isConnected(){return this.connectionState()===hu.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const a=`realtime:${e}`,s=this.getChannels().find(o=>o.topic===a);if(s)return s;{const o=new Cc(`realtime:${e}`,n,this);return this.channels.push(o),o}}push(e){const{topic:n,event:a,payload:s,ref:o}=e,u=()=>{this.encode(e,d=>{var f;(f=this.conn)===null||f===void 0||f.send(d)})};this.log("push",`${n} ${a} (${o})`,s),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(l_,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ih.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(a=>a.topic===e&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const h=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",h)}catch(g){this.log("error","error in heartbeat callback",g)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:a,event:s,payload:o,ref:u}=n,d=u?`(${u})`:"",f=o.status||"";this.log("receive",`${f} ${a} ${s} ${d}`.trim(),o),this.channels.filter(h=>h._isMember(a)).forEach(h=>h._trigger(s,o,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Al.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Al.open||this.conn.readyState===Al.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ss.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const a=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${a}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const a=new Blob([v_],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,a=!1;if(e)n=e,a=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;a?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const o={access_token:n,version:s_};n&&s.updateJoinPayload(o),s.joinedOnce&&s._isJoined()&&s._push(Ss.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(a=>{try{a(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(a){this.log("error",`error triggering ${e} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new wb(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ih.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,a,s,o,u,d,f,h,g,x,S,y;switch(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(a=e?.timeout)!==null&&a!==void 0?a:y1,this.heartbeatIntervalMs=(s=e?.heartbeatIntervalMs)!==null&&s!==void 0?s:ih.HEARTBEAT_INTERVAL,this.worker=(o=e?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(u=e?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(d=e?.heartbeatCallback)!==null&&d!==void 0?d:Rp,this.vsn=(f=e?.vsn)!==null&&f!==void 0?f:Z2,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=e?.reconnectAfterMs)!==null&&h!==void 0?h:(E=>y_[E-1]||b_),this.vsn){case o_:this.encode=(g=e?.encode)!==null&&g!==void 0?g:((E,T)=>T(JSON.stringify(E))),this.decode=(x=e?.decode)!==null&&x!==void 0?x:((E,T)=>T(JSON.parse(E)));break;case vb:this.encode=(S=e?.encode)!==null&&S!==void 0?S:this.serializer.encode.bind(this.serializer),this.decode=(y=e?.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var Fd=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function x_(t,e,n){const a=new URL(e,t);if(n)for(const[s,o]of Object.entries(n))o!==void 0&&a.searchParams.set(s,o);return a.toString()}async function __(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function S_(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:a,query:s,body:o,headers:u}){const d=x_(t.baseUrl,a,s),f=await __(t.auth),h=await e(d,{method:n,headers:{...o?{"Content-Type":"application/json"}:{},...f,...u},body:o?JSON.stringify(o):void 0}),g=await h.text(),x=(h.headers.get("content-type")||"").includes("application/json"),S=x&&g?JSON.parse(g):g;if(!h.ok){const y=x?S:void 0,E=y?.error;throw new Fd(E?.message??`Request failed with status ${h.status}`,{status:h.status,icebergType:E?.type,icebergCode:E?.code,details:y})}return{status:h.status,headers:h.headers,data:S}}}}function ah(t){return t.join("")}var A_=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:ah(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(a=>({namespace:a}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ah(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ah(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ah(t.namespace)}`}),!0}catch(e){if(e instanceof Fd&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof Fd&&n.status===409)return;throw n}}};function gc(t){return t.join("")}var E_=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${gc(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${gc(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${gc(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${gc(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${gc(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${gc(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof Fd&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof Fd&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},k_=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=S_({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new A_(this.client,e),this.tableOps=new E_(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Qh=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function dr(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var T_=class extends Qh{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},w1=class extends Qh{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const eg=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),L_=()=>Response,x1=t=>{if(Array.isArray(t))return t.map(n=>x1(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,a])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[s]=x1(a)}),e},j_=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},N_=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Hd(t){"@babel/helpers - typeof";return Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hd(t)}function C_(t,e){if(Hd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(Hd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function R_(t){var e=C_(t,"string");return Hd(e)=="symbol"?e:e+""}function O_(t,e,n){return(e=R_(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function Pt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n5(Object(n),!0).forEach(function(a){O_(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n5(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}const Op=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},D_=async(t,e,n)=>{t instanceof await L_()&&!n?.noResolveJson?t.json().then(a=>{const s=t.status||500,o=a?.statusCode||s+"";e(new T_(Op(a),s,o))}).catch(a=>{e(new w1(Op(a),a))}):e(new w1(Op(t),t))},M_=(t,e,n,a)=>{const s={method:t,headers:e?.headers||{}};return t==="GET"||!a?s:(j_(a)?(s.headers=Pt({"Content-Type":"application/json"},e?.headers),s.body=JSON.stringify(a)):s.body=a,e?.duplex&&(s.duplex=e.duplex),Pt(Pt({},s),n))};async function nf(t,e,n,a,s,o){return new Promise((u,d)=>{t(n,M_(e,a,s,o)).then(f=>{if(!f.ok)throw f;return a?.noResolveJson?f:f.json()}).then(f=>u(f)).catch(f=>D_(f,d,a))})}async function $d(t,e,n,a){return nf(t,"GET",e,n,a)}async function _s(t,e,n,a,s){return nf(t,"POST",e,a,s,n)}async function _1(t,e,n,a,s){return nf(t,"PUT",e,a,s,n)}async function z_(t,e,n,a){return nf(t,"HEAD",e,Pt(Pt({},n),{},{noResolveJson:!0}),a)}async function tg(t,e,n,a,s){return nf(t,"DELETE",e,a,s,n)}var B_=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(dr(e))return{data:null,error:e};throw e}}};let Sb;Sb=Symbol.toStringTag;var I_=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[Sb]="BlobDownloadBuilder",this.promise=null}asStream(){return new B_(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(dr(e))return{data:null,error:e};throw e}}};const P_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},r5={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var U_=class{constructor(t,e={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=eg(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,a){var s=this;try{let o;const u=Pt(Pt({},r5),a);let d=Pt(Pt({},s.headers),t==="POST"&&{"x-upsert":String(u.upsert)});const f=u.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",u.cacheControl),f&&o.append("metadata",s.encodeMetadata(f)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",u.cacheControl),f&&!o.has("metadata")&&o.append("metadata",s.encodeMetadata(f))):(o=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType,f&&(d["x-metadata"]=s.toBase64(s.encodeMetadata(f))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!u.duplex&&(u.duplex="half")),a?.headers&&(d=Pt(Pt({},d),a.headers));const h=s._removeEmptyFolders(e),g=s._getFinalPath(h),x=await(t=="PUT"?_1:_s)(s.fetch,`${s.url}/object/${g}`,o,Pt({headers:d},u?.duplex?{duplex:u.duplex}:{}));return{data:{path:h,id:x.Id,fullPath:x.Key},error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(dr(o))return{data:null,error:o};throw o}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,a){var s=this;const o=s._removeEmptyFolders(t),u=s._getFinalPath(o),d=new URL(s.url+`/object/upload/sign/${u}`);d.searchParams.set("token",e);try{let f;const h=Pt({upsert:r5.upsert},a),g=Pt(Pt({},s.headers),{"x-upsert":String(h.upsert)});return typeof Blob<"u"&&n instanceof Blob?(f=new FormData,f.append("cacheControl",h.cacheControl),f.append("",n)):typeof FormData<"u"&&n instanceof FormData?(f=n,f.append("cacheControl",h.cacheControl)):(f=n,g["cache-control"]=`max-age=${h.cacheControl}`,g["content-type"]=h.contentType),{data:{path:o,fullPath:(await _1(s.fetch,d.toString(),f,{headers:g})).Key},error:null}}catch(f){if(s.shouldThrowOnError)throw f;if(dr(f))return{data:null,error:f};throw f}}async createSignedUploadUrl(t,e){var n=this;try{let a=n._getFinalPath(t);const s=Pt({},n.headers);e?.upsert&&(s["x-upsert"]="true");const o=await _s(n.fetch,`${n.url}/object/upload/sign/${a}`,{},{headers:s}),u=new URL(n.url+o.url),d=u.searchParams.get("token");if(!d)throw new Qh("No token returned by API");return{data:{signedUrl:u.toString(),path:t,token:d},error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(dr(a))return{data:null,error:a};throw a}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var a=this;try{return{data:await _s(a.fetch,`${a.url}/object/move`,{bucketId:a.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(dr(s))return{data:null,error:s};throw s}}async copy(t,e,n){var a=this;try{return{data:{path:(await _s(a.fetch,`${a.url}/object/copy`,{bucketId:a.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:a.headers})).Key},error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(dr(s))return{data:null,error:s};throw s}}async createSignedUrl(t,e,n){var a=this;try{let s=a._getFinalPath(t),o=await _s(a.fetch,`${a.url}/object/sign/${s}`,Pt({expiresIn:e},n?.transform?{transform:n.transform}:{}),{headers:a.headers});const u=n?.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${a.url}${o.signedURL}${u}`)},{data:o,error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(dr(s))return{data:null,error:s};throw s}}async createSignedUrls(t,e,n){var a=this;try{const s=await _s(a.fetch,`${a.url}/object/sign/${a.bucketId}`,{expiresIn:e,paths:t},{headers:a.headers}),o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(u=>Pt(Pt({},u),{},{signedUrl:u.signedURL?encodeURI(`${a.url}${u.signedURL}${o}`):null})),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(dr(s))return{data:null,error:s};throw s}}download(t,e){const n=typeof e?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(e?.transform||{}),s=a?`?${a}`:"",o=this._getFinalPath(t),u=()=>$d(this.fetch,`${this.url}/${n}/${o}${s}`,{headers:this.headers,noResolveJson:!0});return new I_(u,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:x1(await $d(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(a){if(e.shouldThrowOnError)throw a;if(dr(a))return{data:null,error:a};throw a}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await z_(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(a){if(e.shouldThrowOnError)throw a;if(dr(a)&&a instanceof w1){const s=a.originalError;if([400,404].includes(s?.status))return{data:!1,error:a}}throw a}}getPublicUrl(t,e){const n=this._getFinalPath(t),a=[],s=e?.download?`download=${e.download===!0?"":e.download}`:"";s!==""&&a.push(s);const o=typeof e?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(e?.transform||{});u!==""&&a.push(u);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${d}`)}}}async remove(t){var e=this;try{return{data:await tg(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(dr(n))return{data:null,error:n};throw n}}async list(t,e,n){var a=this;try{const s=Pt(Pt(Pt({},P_),e),{},{prefix:t||""});return{data:await _s(a.fetch,`${a.url}/object/list/${a.bucketId}`,s,{headers:a.headers},n),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(dr(s))return{data:null,error:s};throw s}}async listV2(t,e){var n=this;try{const a=Pt({},t);return{data:await _s(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,a,{headers:n.headers},e),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(dr(a))return{data:null,error:a};throw a}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const Ab="2.91.0",Eb={"X-Client-Info":`storage-js/${Ab}`};var q_=class{constructor(t,e={},n,a){this.shouldThrowOnError=!1;const s=new URL(t);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Pt(Pt({},Eb),e),this.fetch=eg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await $d(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(dr(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await $d(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(dr(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await _s(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(dr(a))return{data:null,error:a};throw a}}async updateBucket(t,e){var n=this;try{return{data:await _1(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(dr(a))return{data:null,error:a};throw a}}async emptyBucket(t){var e=this;try{return{data:await _s(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(dr(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await tg(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(dr(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},F_=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Pt(Pt({},Eb),e),this.fetch=eg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await _s(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(dr(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const a=n.toString(),s=a?`${e.url}/bucket?${a}`:`${e.url}/bucket`;return{data:await $d(e.fetch,s,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(dr(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await tg(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(dr(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!N_(t))throw new Qh("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new k_({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),a=this.shouldThrowOnError;return new Proxy(n,{get(s,o){const u=s[o];return typeof u!="function"?u:async(...d)=>{try{return{data:await u.apply(s,d),error:null}}catch(f){if(a)throw f;return{data:null,error:f}}}}})}};const ng={"X-Client-Info":`storage-js/${Ab}`,"Content-Type":"application/json"};var kb=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function xa(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var Dp=class extends kb{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},H_=class extends kb{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const rg=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),$_=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},i5=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),W_=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!n?.noResolveJson){const a=t.status||500,s=t;if(typeof s.json=="function")s.json().then(o=>{const u=o?.statusCode||o?.code||a+"";e(new Dp(i5(o),a,u))}).catch(()=>{const o=a+"";e(new Dp(s.statusText||`HTTP ${a} error`,a,o))});else{const o=a+"";e(new Dp(s.statusText||`HTTP ${a} error`,a,o))}}else e(new H_(i5(t),t))},G_=(t,e,n,a)=>{const s={method:t,headers:e?.headers||{}};return a?($_(a)?(s.headers=Pt({"Content-Type":"application/json"},e?.headers),s.body=JSON.stringify(a)):s.body=a,Pt(Pt({},s),n)):s};async function Y_(t,e,n,a,s,o){return new Promise((u,d)=>{t(n,G_(e,a,s,o)).then(f=>{if(!f.ok)throw f;if(a?.noResolveJson)return f;const h=f.headers.get("content-type");return!h||!h.includes("application/json")?{}:f.json()}).then(f=>u(f)).catch(f=>W_(f,d,a))})}async function _a(t,e,n,a,s){return Y_(t,"POST",e,a,s,n)}var V_=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Pt(Pt({},ng),e),this.fetch=rg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await _a(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(xa(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await _a(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(xa(a))return{data:null,error:a};throw a}}async listIndexes(t){var e=this;try{return{data:await _a(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(xa(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await _a(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(xa(a))return{data:null,error:a};throw a}}},K_=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Pt(Pt({},ng),e),this.fetch=rg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await _a(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(xa(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await _a(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(xa(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await _a(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(xa(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await _a(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(xa(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await _a(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(xa(n))return{data:null,error:n};throw n}}},X_=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Pt(Pt({},ng),e),this.fetch=rg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await _a(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(xa(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await _a(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(xa(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await _a(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(xa(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await _a(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(xa(n))return{data:null,error:n};throw n}}},J_=class extends X_{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new Z_(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},Z_=class extends V_{constructor(t,e,n,a){super(t,e,a),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,Pt(Pt({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,Pt(Pt({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new Q_(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},Q_=class extends K_{constructor(t,e,n,a,s){super(t,e,s),this.vectorBucketName=n,this.indexName=a}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,Pt(Pt({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,Pt(Pt({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,Pt(Pt({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,Pt(Pt({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,Pt(Pt({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},eS=class extends q_{constructor(t,e={},n,a){super(t,e,n,a)}from(t){return new U_(this.url,this.headers,t,this.fetch)}get vectors(){return new J_(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new F_(this.url+"/iceberg",this.headers,this.fetch)}};const Tb="2.91.0",kc=30*1e3,S1=3,Mp=S1*kc,tS="http://localhost:9999",nS="supabase.auth.token",rS={"X-Client-Info":`gotrue-js/${Tb}`},A1="X-Supabase-Api-Version",Lb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},iS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,aS=600*1e3;class Wd extends Error{constructor(e,n,a){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function jt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class sS extends Wd{constructor(e,n,a){super(e,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function oS(t){return jt(t)&&t.name==="AuthApiError"}class pu extends Wd{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Po extends Wd{constructor(e,n,a,s){super(e,a,s),this.name=n,this.status=a}}class wa extends Po{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function lS(t){return jt(t)&&t.name==="AuthSessionMissingError"}class mc extends Po{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class sh extends Po{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class oh extends Po{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function uS(t){return jt(t)&&t.name==="AuthImplicitGrantRedirectError"}class a5 extends Po{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class cS extends Po{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class E1 extends Po{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function zp(t){return jt(t)&&t.name==="AuthRetryableFetchError"}class s5 extends Po{constructor(e,n,a){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class k1 extends Po{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Rh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),o5=` 	
\r=`.split(""),dS=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<o5.length;e+=1)t[o5[e].charCodeAt(0)]=-2;for(let e=0;e<Rh.length;e+=1)t[Rh[e].charCodeAt(0)]=e;return t})();function l5(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;n(Rh[a]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;n(Rh[a]),e.queuedBits-=6}}function jb(t,e,n){const a=dS[t];if(a>-1)for(e.queue=e.queue<<6|a,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function u5(t){const e=[],n=u=>{e.push(String.fromCodePoint(u))},a={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=u=>{pS(u,a,n)};for(let u=0;u<t.length;u+=1)jb(t.charCodeAt(u),s,o);return e.join("")}function fS(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function hS(t,e){for(let n=0;n<t.length;n+=1){let a=t.charCodeAt(n);if(a>55295&&a<=56319){const s=(a-55296)*1024&65535;a=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}fS(a,e)}}function pS(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let a=1;a<6;a+=1)if((t>>7-a&1)===0){e.utf8seq=a;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Oc(t){const e=[],n={queue:0,queuedBits:0},a=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)jb(t.charCodeAt(s),n,a);return new Uint8Array(e)}function gS(t){const e=[];return hS(t,n=>e.push(n)),new Uint8Array(e)}function mu(t){const e=[],n={queue:0,queuedBits:0},a=s=>{e.push(s)};return t.forEach(s=>l5(s,n,a)),l5(null,n,a),e.join("")}function mS(t){return Math.round(Date.now()/1e3)+t}function yS(){return Symbol("auth-callback")}const yi=()=>typeof window<"u"&&typeof document<"u",uu={tested:!1,writable:!1},Nb=()=>{if(!yi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(uu.tested)return uu.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),uu.tested=!0,uu.writable=!0}catch{uu.tested=!0,uu.writable=!1}return uu.writable};function bS(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{e[o]=s})}catch{}return n.searchParams.forEach((a,s)=>{e[s]=a}),e}const Cb=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),vS=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Tc=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},cu=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},mi=async(t,e)=>{await t.removeItem(e)};class e0{constructor(){this.promise=new e0.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}e0.promiseConstructor=Promise;function Bp(t){const e=t.split(".");if(e.length!==3)throw new k1("Invalid JWT structure");for(let a=0;a<e.length;a++)if(!iS.test(e[a]))throw new k1("JWT not in base64url format");return{header:JSON.parse(u5(e[0])),payload:JSON.parse(u5(e[1])),signature:Oc(e[2]),raw:{header:e[0],payload:e[1]}}}async function wS(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function xS(t,e){return new Promise((a,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const u=await t(o);if(!e(o,null,u)){a(u);return}}catch(u){if(!e(o,u)){s(u);return}}})()})}function _S(t){return("0"+t.toString(16)).substr(-2)}function SS(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*a));return s}return crypto.getRandomValues(e),Array.from(e,_S).join("")}async function AS(t){const n=new TextEncoder().encode(t),a=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(a);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function ES(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await AS(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function yc(t,e,n=!1){const a=SS();let s=a;n&&(s+="/PASSWORD_RECOVERY"),await Tc(t,`${e}-code-verifier`,s);const o=await ES(a);return[o,a===o?"plain":"s256"]}const kS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function TS(t){const e=t.headers.get(A1);if(!e||!e.match(kS))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function LS(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function jS(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const NS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function bc(t){if(!NS.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ip(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function CS(t,e){return new Proxy(t,{get:(n,a,s)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const o=a.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,a,s)}return!e.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,a,s)}})}function c5(t){return JSON.parse(JSON.stringify(t))}const du=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),RS=[502,503,504];async function d5(t){var e;if(!vS(t))throw new E1(du(t),0);if(RS.includes(t.status))throw new E1(du(t),t.status);let n;try{n=await t.json()}catch(o){throw new pu(du(o),o)}let a;const s=TS(t);if(s&&s.getTime()>=Lb["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new s5(du(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(a==="session_not_found")throw new wa}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,u)=>o&&typeof u=="string",!0))throw new s5(du(n),t.status,n.weak_password.reasons);throw new sS(du(n),t.status||500,a)}const OS=(t,e,n,a)=>{const s={method:t,headers:e?.headers||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),s.body=JSON.stringify(a),Object.assign(Object.assign({},s),n))};async function It(t,e,n,a){var s;const o=Object.assign({},a?.headers);o[A1]||(o[A1]=Lb["2024-01-01"].name),a?.jwt&&(o.Authorization=`Bearer ${a.jwt}`);const u=(s=a?.query)!==null&&s!==void 0?s:{};a?.redirectTo&&(u.redirect_to=a.redirectTo);const d=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",f=await DS(t,e,n+d,{headers:o,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(f):{data:Object.assign({},f),error:null}}async function DS(t,e,n,a,s,o){const u=OS(e,a,s,o);let d;try{d=await t(n,Object.assign({},u))}catch(f){throw console.error(f),new E1(du(f),0)}if(d.ok||await d5(d),a?.noResolveJson)return d;try{return await d.json()}catch(f){await d5(f)}}function xs(t){var e;let n=null;BS(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=mS(t.expires_in)));const a=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:a},error:null}}function f5(t){const e=xs(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Tl(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function MS(t){return{data:t,error:null}}function zS(t){const{action_link:e,email_otp:n,hashed_token:a,redirect_to:s,verification_type:o}=t,u=Zh(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:n,hashed_token:a,redirect_to:s,verification_type:o},f=Object.assign({},u);return{data:{properties:d,user:f},error:null}}function h5(t){return t}function BS(t){return t.access_token&&t.refresh_token&&t.expires_in}const Pp=["global","local","others"];class IS{constructor({url:e="",headers:n={},fetch:a}){this.url=e,this.headers=n,this.fetch=Cb(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Pp[0]){if(Pp.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Pp.join(", ")}`);try{return await It(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(a){if(jt(a))return{data:null,error:a};throw a}}async inviteUserByEmail(e,n={}){try{return await It(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Tl})}catch(a){if(jt(a))return{data:{user:null},error:a};throw a}}async generateLink(e){try{const{options:n}=e,a=Zh(e,["options"]),s=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(s.new_email=a?.newEmail,delete s.newEmail),await It(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:zS,redirectTo:n?.redirectTo})}catch(n){if(jt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await It(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Tl})}catch(n){if(jt(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,a,s,o,u,d,f;try{const h={nextPage:null,lastPage:0,total:0},g=await It(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(o=(s=e?.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:h5});if(g.error)throw g.error;const x=await g.json(),S=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,y=(f=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return y.length>0&&(y.forEach(E=>{const T=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(E.split(";")[1].split("=")[1]);h[`${k}Page`]=T}),h.total=parseInt(S)),{data:Object.assign(Object.assign({},x),h),error:null}}catch(h){if(jt(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){bc(e);try{return await It(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Tl})}catch(n){if(jt(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){bc(e);try{return await It(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Tl})}catch(a){if(jt(a))return{data:{user:null},error:a};throw a}}async deleteUser(e,n=!1){bc(e);try{return await It(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Tl})}catch(a){if(jt(a))return{data:{user:null},error:a};throw a}}async _listFactors(e){bc(e.userId);try{const{data:n,error:a}=await It(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:a}}catch(n){if(jt(n))return{data:null,error:n};throw n}}async _deleteFactor(e){bc(e.userId),bc(e.id);try{return{data:await It(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(jt(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,a,s,o,u,d,f;try{const h={nextPage:null,lastPage:0,total:0},g=await It(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(o=(s=e?.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:h5});if(g.error)throw g.error;const x=await g.json(),S=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,y=(f=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return y.length>0&&(y.forEach(E=>{const T=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(E.split(";")[1].split("=")[1]);h[`${k}Page`]=T}),h.total=parseInt(S)),{data:Object.assign(Object.assign({},x),h),error:null}}catch(h){if(jt(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(e){try{return await It(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(jt(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await It(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(jt(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await It(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(jt(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(e){try{return await It(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(jt(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await It(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(jt(n))return{data:null,error:n};throw n}}}function p5(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const vc={debug:!!(globalThis&&Nb()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Rb extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class PS extends Rb{}async function US(t,e,n){vc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const a=new globalThis.AbortController;return e>0&&setTimeout(()=>{a.abort(),vc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async s=>{if(s){vc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{vc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw vc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new PS(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(vc.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function qS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Ob(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function FS(t){return parseInt(t,16)}function HS(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,a=>a.toString(16).padStart(2,"0")).join("")}function $S(t){var e;const{chainId:n,domain:a,expirationTime:s,issuedAt:o=new Date,nonce:u,notBefore:d,requestId:f,resources:h,scheme:g,uri:x,version:S}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!x)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(S!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${S}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const y=Ob(t.address),E=g?`${g}://${a}`:a,T=t.statement?`${t.statement}
`:"",k=`${E} wants you to sign in with your Ethereum account:
${y}

${T}`;let N=`URI: ${x}
Version: ${S}
Chain ID: ${n}${u?`
Nonce: ${u}`:""}
Issued At: ${o.toISOString()}`;if(s&&(N+=`
Expiration Time: ${s.toISOString()}`),d&&(N+=`
Not Before: ${d.toISOString()}`),f&&(N+=`
Request ID: ${f}`),h){let D=`
Resources:`;for(const U of h){if(!U||typeof U!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${U}`);D+=`
- ${U}`}N+=D}return`${k}
${N}`}class Ir extends Error{constructor({message:e,code:n,cause:a,name:s}){var o;super(e,{cause:a}),this.__isWebAuthnError=!0,this.name=(o=s??(a instanceof Error?a.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class Oh extends Ir{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function WS({error:t,options:e}){var n,a,s;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ir({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Ir({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((a=o.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Ir({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Ir({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Ir({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Ir({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new Ir({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Ir({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const u=window.location.hostname;if(Db(u)){if(o.rp.id!==u)return new Ir({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ir({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Ir({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Ir({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ir({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function GS({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ir({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Ir({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(Db(a)){if(n.rpId!==a)return new Ir({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ir({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Ir({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ir({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class YS{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const VS=new YS;function KS(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:a}=t,s=Zh(t,["challenge","user","excludeCredentials"]),o=Oc(e).buffer,u=Object.assign(Object.assign({},n),{id:Oc(n.id).buffer}),d=Object.assign(Object.assign({},s),{challenge:o,user:u});if(a&&a.length>0){d.excludeCredentials=new Array(a.length);for(let f=0;f<a.length;f++){const h=a[f];d.excludeCredentials[f]=Object.assign(Object.assign({},h),{id:Oc(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return d}function XS(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,a=Zh(t,["challenge","allowCredentials"]),s=Oc(e).buffer,o=Object.assign(Object.assign({},a),{challenge:s});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const d=n[u];o.allowCredentials[u]=Object.assign(Object.assign({},d),{id:Oc(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return o}function JS(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:mu(new Uint8Array(t.response.attestationObject)),clientDataJSON:mu(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function ZS(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,a=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:mu(new Uint8Array(s.authenticatorData)),clientDataJSON:mu(new Uint8Array(s.clientDataJSON)),signature:mu(new Uint8Array(s.signature)),userHandle:s.userHandle?mu(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Db(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function g5(){var t,e;return!!(yi()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function QS(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Oh("Browser returned unexpected credential type",e)}:{data:null,error:new Oh("Empty credential response",e)}}catch(e){return{data:null,error:WS({error:e,options:t})}}}async function e6(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Oh("Browser returned unexpected credential type",e)}:{data:null,error:new Oh("Empty credential response",e)}}catch(e){return{data:null,error:GS({error:e,options:t})}}}const t6={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},n6={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Dh(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),a={};for(const s of t)if(s)for(const o in s){const u=s[o];if(u!==void 0)if(Array.isArray(u))a[o]=u;else if(n(u))a[o]=u;else if(e(u)){const d=a[o];e(d)?a[o]=Dh(d,u):a[o]=Dh(u)}else a[o]=u}return a}function r6(t,e){return Dh(t6,t,e||{})}function i6(t,e){return Dh(n6,t,e||{})}class a6{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:a,signal:s},o){try{const{data:u,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!u)return{data:null,error:d};const f=s??VS.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:h}=u.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${a}`),h.displayName||(h.displayName=h.name)}switch(u.webauthn.type){case"create":{const h=r6(u.webauthn.credential_options.publicKey,o?.create),{data:g,error:x}=await QS({publicKey:h,signal:f});return g?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:g}},error:null}:{data:null,error:x}}case"request":{const h=i6(u.webauthn.credential_options.publicKey,o?.request),{data:g,error:x}=await e6(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:h,signal:f}));return g?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:g}},error:null}:{data:null,error:x}}}}catch(u){return jt(u)?{data:null,error:u}:{data:null,error:new pu("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:n,webauthn:a}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:a})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!n)return{data:null,error:new Wd("rpId is required for WebAuthn authentication")};try{if(!g5())return{data:null,error:new pu("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:a},signal:s},{request:o});if(!u)return{data:null,error:d};const{webauthn:f}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:f.type,rpId:n,rpOrigins:a,credential_response:f.credential_response}})}catch(u){return jt(u)?{data:null,error:u}:{data:null,error:new pu("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!n)return{data:null,error:new Wd("rpId is required for WebAuthn registration")};try{if(!g5())return{data:null,error:new pu("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(g=>{var x;return(x=g.data)===null||x===void 0?void 0:x.all.find(S=>S.factor_type==="webauthn"&&S.friendly_name===e&&S.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g?.id}):void 0),{data:null,error:d};const{data:f,error:h}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:s},{create:o});return f?this._verify({factorId:u.id,challengeId:f.challengeId,webauthn:{rpId:n,rpOrigins:a,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:h}}catch(u){return jt(u)?{data:null,error:u}:{data:null,error:new pu("Unexpected error in register",u)}}}}qS();const s6={url:tS,storageKey:nS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:rS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function m5(t,e,n){return await n()}const wc={};class Gd{get jwks(){var e,n;return(n=(e=wc[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){wc[this.storageKey]=Object.assign(Object.assign({},wc[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=wc[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){wc[this.storageKey]=Object.assign(Object.assign({},wc[this.storageKey]),{cachedAt:e})}constructor(e){var n,a,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},s6),e);if(this.storageKey=o.storageKey,this.instanceID=(n=Gd.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Gd.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&yi()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new IS({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Cb(o.fetch),this.lock=o.lock||m5,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,this.lockAcquireTimeout=o.lockAcquireTimeout,o.lock?this.lock=o.lock:this.persistSession&&yi()&&(!((a=globalThis?.navigator)===null||a===void 0)&&a.locks)?this.lock=US:this.lock=m5,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new a6(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:Nb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=p5(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=p5(this.memoryStorage)),yi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Tb}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},a="none";if(yi()&&(n=bS(window.location.href),this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce")),yi()&&this.detectSessionInUrl&&a!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,a);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),uS(o)){const f=(e=o.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:o}}return{error:o}}const{session:u,redirectType:d}=s;return this._debug("#_initialize()","detected session in URL",u,"redirect type",d),await this._saveSession(u),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return jt(n)?this._returnResult({error:n}):this._returnResult({error:new pu("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,a,s;try{const o=await It(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(s=e?.options)===null||s===void 0?void 0:s.captchaToken}},xform:xs}),{data:u,error:d}=o;if(d||!u)return this._returnResult({data:{user:null,session:null},error:d});const f=u.session,h=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(o){if(jt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var n,a,s;try{let o;if("email"in e){const{email:g,password:x,options:S}=e;let y=null,E=null;this.flowType==="pkce"&&([y,E]=await yc(this.storage,this.storageKey)),o=await It(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:S?.emailRedirectTo,body:{email:g,password:x,data:(n=S?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:S?.captchaToken},code_challenge:y,code_challenge_method:E},xform:xs})}else if("phone"in e){const{phone:g,password:x,options:S}=e;o=await It(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:x,data:(a=S?.data)!==null&&a!==void 0?a:{},channel:(s=S?.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:S?.captchaToken}},xform:xs})}else throw new sh("You must provide either an email or phone number and a password");const{data:u,error:d}=o;if(d||!u)return await mi(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:d});const f=u.session,h=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(o){if(await mi(this.storage,`${this.storageKey}-code-verifier`),jt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let n;if("email"in e){const{email:o,password:u,options:d}=e;n=await It(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:f5})}else if("phone"in e){const{phone:o,password:u,options:d}=e;n=await It(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:f5})}else throw new sh("You must provide either an email or phone number and a password");const{data:a,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!a||!a.session||!a.user){const o=new mc;return this._returnResult({data:{user:null,session:null},error:o})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:s})}catch(n){if(jt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,a,s,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,a,s,o,u,d,f,h,g,x,S;let y,E;if("message"in e)y=e.message,E=e.signature;else{const{chain:T,wallet:k,statement:N,options:D}=e;let U;if(yi())if(typeof k=="object")U=k;else{const q=window;if("ethereum"in q&&typeof q.ethereum=="object"&&"request"in q.ethereum&&typeof q.ethereum.request=="function")U=q.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!D?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=k}const M=new URL((n=D?.url)!==null&&n!==void 0?n:window.location.href),re=await U.request({method:"eth_requestAccounts"}).then(q=>q).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!re||re.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const de=Ob(re[0]);let oe=(a=D?.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!oe){const q=await U.request({method:"eth_chainId"});oe=FS(q)}const Q={domain:M.host,address:de,statement:N,uri:M.href,version:"1",chainId:oe,nonce:(s=D?.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(u=(o=D?.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(d=D?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(f=D?.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(h=D?.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(g=D?.signInWithEthereum)===null||g===void 0?void 0:g.resources};y=$S(Q),E=await U.request({method:"personal_sign",params:[HS(y),de]})}try{const{data:T,error:k}=await It(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:E},!((x=e.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(S=e.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:xs});if(k)throw k;if(!T||!T.session||!T.user){const N=new mc;return this._returnResult({data:{user:null,session:null},error:N})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:k})}catch(T){if(jt(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async signInWithSolana(e){var n,a,s,o,u,d,f,h,g,x,S,y;let E,T;if("message"in e)E=e.message,T=e.signature;else{const{chain:k,wallet:N,statement:D,options:U}=e;let M;if(yi())if(typeof N=="object")M=N;else{const de=window;if("solana"in de&&typeof de.solana=="object"&&("signIn"in de.solana&&typeof de.solana.signIn=="function"||"signMessage"in de.solana&&typeof de.solana.signMessage=="function"))M=de.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!U?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=N}const re=new URL((n=U?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in M&&M.signIn){const de=await M.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},U?.signInWithSolana),{version:"1",domain:re.host,uri:re.href}),D?{statement:D}:null));let oe;if(Array.isArray(de)&&de[0]&&typeof de[0]=="object")oe=de[0];else if(de&&typeof de=="object"&&"signedMessage"in de&&"signature"in de)oe=de;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in oe&&"signature"in oe&&(typeof oe.signedMessage=="string"||oe.signedMessage instanceof Uint8Array)&&oe.signature instanceof Uint8Array)E=typeof oe.signedMessage=="string"?oe.signedMessage:new TextDecoder().decode(oe.signedMessage),T=oe.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in M)||typeof M.signMessage!="function"||!("publicKey"in M)||typeof M!="object"||!M.publicKey||!("toBase58"in M.publicKey)||typeof M.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${re.host} wants you to sign in with your Solana account:`,M.publicKey.toBase58(),...D?["",D,""]:[""],"Version: 1",`URI: ${re.href}`,`Issued At: ${(s=(a=U?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=U?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${U.signInWithSolana.notBefore}`]:[],...!((u=U?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${U.signInWithSolana.expirationTime}`]:[],...!((d=U?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${U.signInWithSolana.chainId}`]:[],...!((f=U?.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${U.signInWithSolana.nonce}`]:[],...!((h=U?.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${U.signInWithSolana.requestId}`]:[],...!((x=(g=U?.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||x===void 0)&&x.length?["Resources",...U.signInWithSolana.resources.map(oe=>`- ${oe}`)]:[]].join(`
`);const de=await M.signMessage(new TextEncoder().encode(E),"utf8");if(!de||!(de instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=de}}try{const{data:k,error:N}=await It(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:mu(T)},!((S=e.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:xs});if(N)throw N;if(!k||!k.session||!k.user){const D=new mc;return this._returnResult({data:{user:null,session:null},error:D})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:N})}catch(k){if(jt(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async _exchangeCodeForSession(e){const n=await cu(this.storage,`${this.storageKey}-code-verifier`),[a,s]=(n??"").split("/");try{if(!a&&this.flowType==="pkce")throw new cS;const{data:o,error:u}=await It(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:a},xform:xs});if(await mi(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!o||!o.session||!o.user){const d=new mc;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return o.session&&(await this._saveSession(o.session),setTimeout(async()=>{await this._notifyAllSubscribers("SIGNED_IN",o.session)},0)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:u})}catch(o){if(await mi(this.storage,`${this.storageKey}-code-verifier`),jt(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:n,provider:a,token:s,access_token:o,nonce:u}=e,d=await It(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:s,access_token:o,nonce:u,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:xs}),{data:f,error:h}=d;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!f||!f.session||!f.user){const g=new mc;return this._returnResult({data:{user:null,session:null},error:g})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:h})}catch(n){if(jt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,a,s,o,u;try{if("email"in e){const{email:d,options:f}=e;let h=null,g=null;this.flowType==="pkce"&&([h,g]=await yc(this.storage,this.storageKey));const{error:x}=await It(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(n=f?.data)!==null&&n!==void 0?n:{},create_user:(a=f?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:h,code_challenge_method:g},redirectTo:f?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:x})}if("phone"in e){const{phone:d,options:f}=e,{data:h,error:g}=await It(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(s=f?.data)!==null&&s!==void 0?s:{},create_user:(o=f?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},channel:(u=f?.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:g})}throw new sh("You must provide either an email or phone number.")}catch(d){if(await mi(this.storage,`${this.storageKey}-code-verifier`),jt(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(e){var n,a;try{let s,o;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,o=(a=e.options)===null||a===void 0?void 0:a.captchaToken);const{data:u,error:d}=await It(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:xs});if(d)throw d;if(!u)throw new Error("An error occurred on token verification.");const f=u.session,h=u.user;return f?.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(s){if(jt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var n,a,s,o,u;try{let d=null,f=null;this.flowType==="pkce"&&([d,f]=await yc(this.storage,this.storageKey));const h=await It(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(a=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((s=e?.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:f}),headers:this.headers,xform:MS});return!((o=h.data)===null||o===void 0)&&o.url&&yi()&&!(!((u=e.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(h.data.url),this._returnResult(h)}catch(d){if(await mi(this.storage,`${this.storageKey}-code-verifier`),jt(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:a}=e;if(a)throw a;if(!n)throw new wa;const{error:s}=await It(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(jt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:a,type:s,options:o}=e,{error:u}=await It(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:s,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:a,type:s,options:o}=e,{data:u,error:d}=await It(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:s,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:d})}throw new sh("You must provide either an email or phone number and a type")}catch(n){if(jt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await cu(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const a=e.expires_at?e.expires_at*1e3-Date.now()<Mp:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",e.expires_at),!a){if(this.userStorage){const u=await cu(this.userStorage,this.storageKey+"-user");u?.user?e.user=u.user:e.user=Ip()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=CS(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await It(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Tl}):await this._useSession(async n=>{var a,s,o;const{data:u,error:d}=n;if(d)throw d;return!(!((a=u.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new wa}:await It(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=u.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Tl})})}catch(n){if(jt(n))return lS(n)&&(await this._removeSession(),await mi(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async a=>{const{data:s,error:o}=a;if(o)throw o;if(!s.session)throw new wa;const u=s.session;let d=null,f=null;this.flowType==="pkce"&&e.email!=null&&([d,f]=await yc(this.storage,this.storageKey));const{data:h,error:g}=await It(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:f}),jwt:u.access_token,xform:Tl});if(g)throw g;return u.user=h.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(a){if(await mi(this.storage,`${this.storageKey}-code-verifier`),jt(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new wa;const n=Date.now()/1e3;let a=n,s=!0,o=null;const{payload:u}=Bp(e.access_token);if(u.exp&&(a=u.exp,s=a<=n),s){const{data:d,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d)return{data:{user:null,session:null},error:null};o=d}else{const{data:d,error:f}=await this._getUser(e.access_token);if(f)throw f;o={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(jt(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var a;if(!e){const{data:u,error:d}=n;if(d)throw d;e=(a=u.session)!==null&&a!==void 0?a:void 0}if(!e?.refresh_token)throw new wa;const{data:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(jt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!yi())throw new oh("No browser detected.");if(e.error||e.error_description||e.error_code)throw new oh(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new a5("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new oh("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new a5("No code detected.");const{data:D,error:U}=await this._exchangeCodeForSession(e.code);if(U)throw U;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:D.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:s,access_token:o,refresh_token:u,expires_in:d,expires_at:f,token_type:h}=e;if(!o||!d||!u||!h)throw new oh("No session defined in URL");const g=Math.round(Date.now()/1e3),x=parseInt(d);let S=g+x;f&&(S=parseInt(f));const y=S-g;y*1e3<=kc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${x}s`);const E=S-x;g-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,S,g):g-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,S,g);const{data:T,error:k}=await this._getUser(o);if(k)throw k;const N={provider_token:a,provider_refresh_token:s,access_token:o,expires_in:x,expires_at:S,refresh_token:u,token_type:h,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:N,redirectType:e.type},error:null})}catch(a){if(jt(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await cu(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:s,error:o}=n;if(o)return this._returnResult({error:o});const u=(a=s.session)===null||a===void 0?void 0:a.access_token;if(u){const{error:d}=await this.admin.signOut(u,e);if(d&&!(oS(d)&&(d.status===404||d.status===401||d.status===403)))return this._returnResult({error:d})}return e!=="others"&&(await this._removeSession(),await mi(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=yS(),a={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(e){return await this._useSession(async n=>{var a,s;try{const{data:{session:o},error:u}=n;if(u)throw u;await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,n={}){let a=null,s=null;this.flowType==="pkce"&&([a,s]=await yc(this.storage,this.storageKey,!0));try{return await It(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:a,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(await mi(this.storage,`${this.storageKey}-code-verifier`),jt(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(jt(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:a,error:s}=await this._useSession(async o=>{var u,d,f,h,g;const{data:x,error:S}=o;if(S)throw S;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await It(this.fetch,"GET",y,{headers:this.headers,jwt:(g=(h=x.session)===null||h===void 0?void 0:h.access_token)!==null&&g!==void 0?g:void 0})});if(s)throw s;return yi()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a?.url),this._returnResult({data:{provider:e.provider,url:a?.url},error:null})}catch(a){if(jt(a))return this._returnResult({data:{provider:e.provider,url:null},error:a});throw a}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var a;try{const{error:s,data:{session:o}}=n;if(s)throw s;const{options:u,provider:d,token:f,access_token:h,nonce:g}=e,x=await It(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=o?.access_token)!==null&&a!==void 0?a:void 0,body:{provider:d,id_token:f,access_token:h,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:xs}),{data:S,error:y}=x;return y?this._returnResult({data:{user:null,session:null},error:y}):!S||!S.session||!S.user?this._returnResult({data:{user:null,session:null},error:new mc}):(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("USER_UPDATED",S.session)),this._returnResult({data:S,error:y}))}catch(s){if(await mi(this.storage,`${this.storageKey}-code-verifier`),jt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var a,s;const{data:o,error:u}=n;if(u)throw u;return await It(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(jt(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await xS(async s=>(s>0&&await wS(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await It(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:xs})),(s,o)=>{const u=200*Math.pow(2,s);return o&&zp(o)&&Date.now()+u-a<kc})}catch(a){if(this._debug(n,"error",a),jt(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",a),yi()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:e,url:a},error:null}}async _recoverAndRefresh(){var e,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const s=await cu(this.storage,this.storageKey);if(s&&this.userStorage){let u=await cu(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:s.user},await Tc(this.userStorage,this.storageKey+"-user",u)),s.user=(e=u?.user)!==null&&e!==void 0?e:Ip()}else if(s&&!s.user&&!s.user){const u=await cu(this.storage,this.storageKey+"-user");u&&u?.user?(s.user=u.user,await mi(this.storage,this.storageKey+"-user"),await Tc(this.storage,this.storageKey,s)):s.user=Ip()}if(this._debug(a,"session from storage",s),!this._isValidSession(s)){this._debug(a,"session is not valid"),s!==null&&await this._removeSession();return}const o=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Mp;if(this._debug(a,`session has${o?"":" not"} expired with margin of ${Mp}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:u}=await this._callRefreshToken(s.refresh_token);u&&(console.error(u),zp(u)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:d}=await this._getUser(s.access_token);!d&&u?.user?(s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(a,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(a,"error",s),console.error(s);return}finally{this._debug(a,"end")}}async _callRefreshToken(e){var n,a;if(!e)throw new wa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new e0;const{data:o,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!o.session)throw new wa;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const d={data:o.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(o){if(this._debug(s,"error",o),jt(o)){const u={data:null,error:o};return zp(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,a=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:e,session:n});const o=[],u=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,n)}catch(f){o.push(f)}});if(await Promise.all(u),o.length>0){for(let d=0;d<o.length;d+=1)console.error(o[d]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await mi(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await Tc(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const o=c5(s);await Tc(this.storage,this.storageKey,o)}else{const s=c5(n);await Tc(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await mi(this.storage,this.storageKey),await mi(this.storage,this.storageKey+"-code-verifier"),await mi(this.storage,this.storageKey+"-user"),this.userStorage&&await mi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&yi()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),kc);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((a.expires_at*1e3-e)/kc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${kc}ms, refresh threshold is ${S1} ticks`),s<=S1&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Rb)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!yi()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,a){const s=[`provider=${encodeURIComponent(n)}`];if(a?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&s.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[o,u]=await yc(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(u)}`});s.push(d.toString())}if(a?.queryParams){const o=new URLSearchParams(a.queryParams);s.push(o.toString())}return a?.skipBrowserRedirect&&s.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var a;const{data:s,error:o}=n;return o?this._returnResult({data:null,error:o}):await It(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(a=s?.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(jt(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var a,s;const{data:o,error:u}=n;if(u)return this._returnResult({data:null,error:u});const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:f,error:h}=await It(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token});return h?this._returnResult({data:null,error:h}):(e.factorType==="totp"&&f.type==="totp"&&(!((s=f?.totp)===null||s===void 0)&&s.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(n){if(jt(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var a;const{data:s,error:o}=n;if(o)return this._returnResult({data:null,error:o});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?JS(e.webauthn.credential_response):ZS(e.webauthn.credential_response)})}:{code:e.code}),{data:d,error:f}=await It(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(a=s?.session)===null||a===void 0?void 0:a.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:f}))})}catch(n){if(jt(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var a;const{data:s,error:o}=n;if(o)return this._returnResult({data:null,error:o});const u=await It(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(a=s?.session)===null||a===void 0?void 0:a.access_token});if(u.error)return u;const{data:d}=u;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:KS(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:XS(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(jt(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:a}=await this._challenge({factorId:e.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=n?.factors)!==null&&e!==void 0?e:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:a},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Bp(a.access_token);let u=null;o.aal&&(u=o.aal);let d=u;((n=(e=a.user.factors)===null||e===void 0?void 0:e.filter(g=>g.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(d="aal2");const h=o.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;return s?this._returnResult({data:null,error:s}):a?await It(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:a.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new wa})})}catch(n){if(jt(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async a=>{const{data:{session:s},error:o}=a;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new wa});const u=await It(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&yi()&&!n?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(a){if(jt(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(e,n){try{return await this._useSession(async a=>{const{data:{session:s},error:o}=a;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new wa});const u=await It(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&yi()&&!n?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(a){if(jt(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:a}=e;return a?this._returnResult({data:null,error:a}):n?await It(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new wa})})}catch(e){if(jt(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;return s?this._returnResult({data:null,error:s}):a?(await It(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new wa})})}catch(n){if(jt(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let a=n.keys.find(d=>d.kid===e);if(a)return a;const s=Date.now();if(a=this.jwks.keys.find(d=>d.kid===e),a&&this.jwks_cached_at+aS>s)return a;const{data:o,error:u}=await It(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,a=o.keys.find(d=>d.kid===e),!a)?null:a}async getClaims(e,n={}){try{let a=e;if(!a){const{data:y,error:E}=await this.getSession();if(E||!y.session)return this._returnResult({data:null,error:E});a=y.session.access_token}const{header:s,payload:o,signature:u,raw:{header:d,payload:f}}=Bp(a);n?.allowExpired||LS(o.exp);const h=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!h){const{error:y}=await this.getUser(a);if(y)throw y;return{data:{claims:o,header:s,signature:u},error:null}}const g=jS(s.alg),x=await crypto.subtle.importKey("jwk",h,g,!0,["verify"]);if(!await crypto.subtle.verify(g,x,u,gS(`${d}.${f}`)))throw new k1("Invalid JWT signature");return{data:{claims:o,header:s,signature:u},error:null}}catch(a){if(jt(a))return this._returnResult({data:null,error:a});throw a}}}Gd.nextInstanceID={};const o6=Gd,l6="2.91.0";let Od="";typeof Deno<"u"?Od="deno":typeof document<"u"?Od="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Od="react-native":Od="node";const u6={"X-Client-Info":`supabase-js-${Od}/${l6}`},c6={headers:u6},d6={schema:"public"},f6={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},h6={};function Yd(t){"@babel/helpers - typeof";return Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yd(t)}function p6(t,e){if(Yd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(Yd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function g6(t){var e=p6(t,"string");return Yd(e)=="symbol"?e:e+""}function m6(t,e,n){return(e=g6(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function Sr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y5(Object(n),!0).forEach(function(a){m6(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y5(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}const y6=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),b6=()=>Headers,v6=(t,e,n)=>{const a=y6(n),s=b6();return async(o,u)=>{var d;const f=(d=await e())!==null&&d!==void 0?d:t;let h=new s(u?.headers);return h.has("apikey")||h.set("apikey",t),h.has("Authorization")||h.set("Authorization",`Bearer ${f}`),a(o,Sr(Sr({},u),{},{headers:h}))}};function w6(t){return t.endsWith("/")?t:t+"/"}function x6(t,e){var n,a;const{db:s,auth:o,realtime:u,global:d}=t,{db:f,auth:h,realtime:g,global:x}=e,S={db:Sr(Sr({},f),s),auth:Sr(Sr({},h),o),realtime:Sr(Sr({},g),u),storage:{},global:Sr(Sr(Sr({},x),d),{},{headers:Sr(Sr({},(n=x?.headers)!==null&&n!==void 0?n:{}),(a=d?.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return t.accessToken?S.accessToken=t.accessToken:delete S.accessToken,S}function _6(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(w6(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var S6=class extends o6{constructor(t){super(t)}},A6=class{constructor(t,e,n){var a,s;this.supabaseUrl=t,this.supabaseKey=e;const o=_6(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const u=`sb-${o.hostname.split(".")[0]}-auth-token`,d={db:d6,realtime:h6,auth:Sr(Sr({},f6),{},{storageKey:u}),global:c6},f=x6(n??{},d);if(this.storageKey=(a=f.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(s=f.global.headers)!==null&&s!==void 0?s:{},f.accessToken)this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(g,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}});else{var h;this.auth=this._initSupabaseAuthClient((h=f.auth)!==null&&h!==void 0?h:{},this.headers,f.global.fetch)}this.fetch=v6(e,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Sr({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(g=>this.realtime.setAuth(g)).catch(g=>console.warn("Failed to set initial Realtime auth token:",g)),this.rest=new r_(new URL("rest/v1",o).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new eS(this.storageUrl.href,this.headers,this.fetch,n?.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new Z4(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:a}=await t.auth.getSession();return(e=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:a,userStorage:s,storageKey:o,flowType:u,lock:d,debug:f,throwOnError:h},g,x){const S={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new S6({url:this.authUrl.href,headers:Sr(Sr({},S),g),storageKey:o,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:a,userStorage:s,flowType:u,lock:d,debug:f,throwOnError:h,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new w_(this.realtimeUrl.href,Sr(Sr({},t),{},{params:Sr(Sr({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const E6=(t,e,n)=>new A6(t,e,n);function k6(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}k6()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const T6="https://kdfjtgbxxbuowbrvirwb.supabase.co",L6="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtkZmp0Z2J4eGJ1b3dicnZpcndiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjgyNDkyOTUsImV4cCI6MjA4MzgyNTI5NX0.__Dpbm0TewjsOdCHVCn0ncnLNNHNN2O-G4hf91Nmzd4",ht=E6(T6,L6);function j6(t){const[e,n]=O.useState(null),[a,s]=O.useState(!0),[o,u]=O.useState(null);return O.useEffect(()=>{(async()=>{try{s(!0),u(null);const{data:f,error:h}=await ht.from("businesses").select("*").eq("id",t).single();if(h)throw h;n(f)}catch(f){u(f.message),console.error("Business fetch error:",f)}finally{s(!1)}})()},[t]),{business:e,loading:a,error:o}}function ig(t){const[e,n]=O.useState([]),[a,s]=O.useState(!0),[o,u]=O.useState(null);return O.useEffect(()=>{if(!t){s(!1);return}(async()=>{try{s(!0),u(null);const{data:f,error:h}=await ht.from("categories").select("*").eq("business_id",t).eq("is_active",!0).order("order_index",{ascending:!0});if(h)throw h;n(f||[])}catch(f){u(f.message),console.error("Categories fetch error:",f)}finally{s(!1)}})()},[t]),{categories:e,loading:a,error:o}}function ag(t,e=null){const[n,a]=O.useState([]),[s,o]=O.useState(!0),[u,d]=O.useState(null);return O.useEffect(()=>{if(!t){o(!1);return}(async()=>{try{o(!0),d(null);let h=ht.from("products").select("*, categories(name)").eq("business_id",t);e&&(h=h.eq("category_id",e));const{data:g,error:x}=await h.order("order_index",{ascending:!0}).order("created_at",{ascending:!0});if(x)throw x;const S=(g||[]).sort((y,E)=>y.is_active!==E.is_active?y.is_active?-1:1:(y.order_index||0)-(E.order_index||0));a(S)}catch(h){d(h.message),console.error("Products fetch error:",h)}finally{o(!1)}})()},[t,e]),{products:n,loading:s,error:u}}function $a({message:t="Ykleniyor..."}){return w.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2rem",gap:"1rem"},children:[w.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid #f3f3f3",borderTop:"4px solid #007bff",borderRadius:"50%",animation:"spin 1s linear infinite"}}),w.jsx("p",{style:{color:"#666",margin:0},children:t}),w.jsx("style",{children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `})]})}function Mb({categories:t,isMobile:e}){const[n,a]=O.useState(!1),s=o=>{a(!1),setTimeout(()=>{const u=document.getElementById(`category-${o}`);u?(u.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"}),setTimeout(()=>{const d=u.getBoundingClientRect(),f=window.pageYOffset||document.documentElement.scrollTop,x=d.top+f-120;Math.abs(window.pageYOffset-x)>10&&window.scrollTo({top:x,behavior:"smooth"})},100)):console.warn(`Category element not found: category-${o}`)},150)};return w.jsxs(w.Fragment,{children:[w.jsx("button",{onClick:()=>a(!n),style:{position:"fixed",top:"1rem",right:"1rem",zIndex:1001,background:"#ffffff",color:"#1a1a1a",border:"1px solid #e5e7eb",borderRadius:"10px",padding:"0.75rem",cursor:"pointer",fontSize:"1.5rem",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",transition:"all 0.2s ease",width:"48px",height:"48px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"600"},onMouseEnter:o=>{o.currentTarget.style.background="#f9fafb",o.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.15)"},onMouseLeave:o=>{o.currentTarget.style.background="#ffffff",o.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.1)"},children:n?"":""}),n&&w.jsx("div",{onClick:()=>a(!1),style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",zIndex:999,transition:"opacity 0.3s"}}),w.jsxs("div",{style:{position:"fixed",top:0,right:n?0:"-320px",width:e?"280px":"320px",height:"100vh",background:"#ffffff",zIndex:1e3,boxShadow:"-2px 0 16px rgba(0,0,0,0.1)",transition:"right 0.3s ease",overflowY:"auto",padding:"1.5rem"},children:[w.jsx("div",{style:{padding:"1rem 0",borderBottom:"2px solid #e5e7eb",marginBottom:"1.5rem"},children:w.jsx("h3",{style:{margin:0,fontSize:"1.25rem",color:"#1a1a1a",fontWeight:"700",letterSpacing:"-0.01em"},children:" Kategoriler"})}),w.jsx("nav",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:t.map(o=>w.jsx("button",{onClick:()=>s(o.id),style:{width:"100%",padding:"1rem 1.25rem",background:"#f9fafb",border:"1px solid #e5e7eb",textAlign:"left",cursor:"pointer",fontSize:"1rem",color:"#1a1a1a",transition:"all 0.2s ease",borderRadius:"8px",fontWeight:"500"},onMouseEnter:u=>{u.currentTarget.style.background="#d4a574",u.currentTarget.style.color="white",u.currentTarget.style.borderColor="#d4a574",u.currentTarget.style.transform="translateX(4px)"},onMouseLeave:u=>{u.currentTarget.style.background="#f9fafb",u.currentTarget.style.color="#1a1a1a",u.currentTarget.style.borderColor="#e5e7eb",u.currentTarget.style.transform="translateX(0)"},children:o.name},o.id))})]})]})}const b5=t=>new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY",minimumFractionDigits:2}).format(t),N6=(t,e="/placeholder-image.png")=>t||e,zb=O.createContext();function C6({children:t}){const[e,n]=O.useState([]);O.useEffect(()=>{const g=localStorage.getItem("cart");if(g)try{n(JSON.parse(g))}catch(x){console.error("Cart parse error:",x)}},[]);const a=g=>{n(x=>{const S=x.find(E=>E.product_id===g.id);let y;return S?y=x.map(E=>E.product_id===g.id?{...E,quantity:E.quantity+1}:E):y=[...x,{product_id:g.id,product_name:g.name,product_price:parseFloat(g.price),quantity:1,notes:""}],localStorage.setItem("cart",JSON.stringify(y)),y})},s=g=>{n(x=>{const S=x.find(E=>E.product_id===g);let y;return S&&S.quantity>1?y=x.map(E=>E.product_id===g?{...E,quantity:E.quantity-1}:E):y=x.filter(E=>E.product_id!==g),localStorage.setItem("cart",JSON.stringify(y)),y})},o=g=>{n(x=>{const S=x.filter(y=>y.product_id!==g);return localStorage.setItem("cart",JSON.stringify(S)),S})},u=()=>{n([]),localStorage.removeItem("cart")},d=()=>e.reduce((g,x)=>g+x.product_price*x.quantity,0),f=()=>e.reduce((g,x)=>g+x.quantity,0),h=g=>{const x=e.find(S=>S.product_id===g);return x?x.quantity:0};return w.jsx(zb.Provider,{value:{cart:e,addToCart:a,removeFromCart:s,removeItemFromCart:o,clearCart:u,getTotalPrice:d,getTotalItems:f,getItemQuantity:h},children:t})}function sg(){const t=O.useContext(zb);if(!t)throw new Error("useCart must be used within CartProvider");return t}function Pr({price:t,fontSize:e,fontWeight:n="700",color:a="#2d2d2d",style:s={}}){const u=new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY",minimumFractionDigits:2}).format(t).split(","),d=u[0],f=u.length>1?`,${u[1]}`:"",h=()=>{if(!e)return"0.65em";if(typeof e=="string"&&(e.includes("rem")||e.includes("em"))){const S=parseFloat(e);return isNaN(S)?"0.65em":`${S*.65}${e.replace(/[0-9.]/g,"")}`}if(typeof e=="string"&&e.includes("px")){const S=parseFloat(e);return isNaN(S)?"0.65em":`${S*.65}px`}const x=parseFloat(e);return isNaN(x)?"0.65em":`${x*.65}px`},g=s?.background?.includes("gradient")||s?.WebkitBackgroundClip==="text";return w.jsxs("span",{style:{fontSize:e,fontWeight:n,color:a,...s,display:"inline-flex",alignItems:"baseline"},children:[w.jsx("span",{children:d}),f&&w.jsx("span",{style:{fontSize:h(),...g?{background:s.background,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"}:{}},children:f})]})}function R6({product:t,isMobile:e,showCartButtons:n=!0}){const{addToCart:a,removeFromCart:s,getItemQuantity:o}=sg(),u=o(t.id),d=!t.is_active;return w.jsxs("div",{style:{background:d?"#e5e7eb":"#ffffff",borderRadius:"8px",overflow:"hidden",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",transition:"all 0.3s ease",border:"2px solid #d4a574",borderTopWidth:"4px",position:"relative",height:"100%",display:"flex",flexDirection:"column",opacity:d?.5:1,filter:d?"grayscale(0.8)":"none"},onMouseEnter:f=>{!e&&!d&&(f.currentTarget.style.transform="translateY(-4px)",f.currentTarget.style.boxShadow="0 8px 24px rgba(0,0,0,0.12)")},onMouseLeave:f=>{f.currentTarget.style.transform="translateY(0)",f.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.08)"},children:[d&&w.jsx("div",{style:{position:"absolute",top:"0.75rem",right:"0.75rem",background:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",color:"white",padding:"0.5rem 1rem",borderRadius:"20px",fontSize:e?"0.75rem":"0.875rem",fontWeight:"700",zIndex:10,boxShadow:"0 2px 8px rgba(239, 68, 68, 0.4)",letterSpacing:"0.05em"},children:"TKEND"}),t.image_url&&w.jsx("div",{style:{width:"100%",height:e?"200px":"240px",background:"#f3f4f6",overflow:"hidden",position:"relative"},children:w.jsx("img",{src:N6(t.image_url),alt:t.name,style:{width:"100%",height:"100%",objectFit:"cover",transition:"transform 0.4s ease",opacity:d?.5:1},onError:f=>{f.target.style.display="none"},onMouseEnter:f=>{!e&&!d&&(f.currentTarget.style.transform="scale(1.05)")},onMouseLeave:f=>{f.currentTarget.style.transform="scale(1)"}})}),w.jsxs("div",{style:{padding:e?"1.25rem":"1.5rem",display:"flex",flexDirection:"column",flex:1},children:[w.jsx("h3",{style:{margin:"0 0 0.5rem 0",fontSize:e?"1.25rem":"1.375rem",color:"#1a1a1a",fontWeight:"700",lineHeight:"1.3",letterSpacing:"-0.01em"},children:t.name}),t.description&&w.jsx("p",{style:{margin:"0 0 1rem 0",fontSize:e?"0.9375rem":"1rem",color:"#6b7280",lineHeight:"1.6",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",flex:1},children:t.description}),w.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"auto",paddingTop:"1rem",borderTop:"2px solid #f3f4f6",gap:"0.75rem"},children:[w.jsx(Pr,{price:t.price,fontSize:e?"1.5rem":"1.75rem",fontWeight:"700",color:"#2d2d2d",style:{letterSpacing:"-0.02em"}}),n&&!d&&u>0?w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",background:"linear-gradient(135deg, #d4a574 0%, #c49564 100%)",borderRadius:"12px",padding:e?"0.5rem 0.75rem":"0.625rem 1rem",boxShadow:"0 4px 12px rgba(212, 165, 116, 0.4)",border:"2px solid rgba(255,255,255,0.2)"},children:[w.jsx("button",{onClick:()=>s(t.id),style:{background:"rgba(255,255,255,0.25)",border:"2px solid rgba(255,255,255,0.3)",borderRadius:"8px",width:e?"36px":"40px",height:e?"36px":"40px",color:"white",fontSize:e?"1.375rem":"1.5rem",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease",lineHeight:1},onMouseEnter:f=>{f.currentTarget.style.background="rgba(255,255,255,0.35)",f.currentTarget.style.transform="scale(1.1)"},onMouseLeave:f=>{f.currentTarget.style.background="rgba(255,255,255,0.25)",f.currentTarget.style.transform="scale(1)"},onMouseDown:f=>{f.currentTarget.style.transform="scale(0.95)"},onMouseUp:f=>{f.currentTarget.style.transform="scale(1.1)"},children:""}),w.jsx("span",{style:{color:"white",fontWeight:"bold",fontSize:e?"1.125rem":"1.25rem",minWidth:"32px",textAlign:"center",textShadow:"0 1px 2px rgba(0,0,0,0.2)"},children:u}),w.jsx("button",{onClick:()=>a(t),style:{background:"rgba(255,255,255,0.25)",border:"2px solid rgba(255,255,255,0.3)",borderRadius:"8px",width:e?"36px":"40px",height:e?"36px":"40px",color:"white",fontSize:e?"1.375rem":"1.5rem",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease",lineHeight:1},onMouseEnter:f=>{f.currentTarget.style.background="rgba(255,255,255,0.35)",f.currentTarget.style.transform="scale(1.1)"},onMouseLeave:f=>{f.currentTarget.style.background="rgba(255,255,255,0.25)",f.currentTarget.style.transform="scale(1)"},onMouseDown:f=>{f.currentTarget.style.transform="scale(0.95)"},onMouseUp:f=>{f.currentTarget.style.transform="scale(1.1)"},children:"+"})]}):n&&!d?w.jsxs("button",{onClick:()=>a(t),style:{background:"linear-gradient(135deg, #d4a574 0%, #c49564 100%)",border:"2px solid rgba(255,255,255,0.3)",borderRadius:"10px",padding:e?"0.75rem 1.25rem":"0.875rem 1.5rem",color:"white",fontSize:e?"0.875rem":"0.9375rem",fontWeight:"700",cursor:"pointer",transition:"all 0.3s ease",whiteSpace:"nowrap",boxShadow:"0 4px 12px rgba(212, 165, 116, 0.4)",letterSpacing:"0.01em",display:"flex",alignItems:"center",gap:"0.5rem"},onMouseEnter:f=>{f.currentTarget.style.background="linear-gradient(135deg, #c49564 0%, #b88554 100%)",f.currentTarget.style.transform="translateY(-2px) scale(1.02)",f.currentTarget.style.boxShadow="0 6px 16px rgba(212, 165, 116, 0.5)"},onMouseLeave:f=>{f.currentTarget.style.background="linear-gradient(135deg, #d4a574 0%, #c49564 100%)",f.currentTarget.style.transform="translateY(0) scale(1)",f.currentTarget.style.boxShadow="0 4px 12px rgba(212, 165, 116, 0.4)"},onMouseDown:f=>{f.currentTarget.style.transform="translateY(0) scale(0.98)"},onMouseUp:f=>{f.currentTarget.style.transform="translateY(-2px) scale(1.02)"},children:[w.jsx("span",{style:{fontSize:"1.125rem"},children:""}),w.jsx("span",{children:"Sepete Ekle"})]}):d?w.jsx("div",{style:{background:"linear-gradient(135deg, #9ca3af 0%, #6b7280 100%)",border:"2px solid rgba(255,255,255,0.3)",borderRadius:"10px",padding:e?"0.75rem 1.25rem":"0.875rem 1.5rem",color:"white",fontSize:e?"0.875rem":"0.9375rem",fontWeight:"700",textAlign:"center",opacity:.7,cursor:"not-allowed",userSelect:"none"},children:"u An Mevcut Deil"}):null]})]})]})}function Bb({category:t,products:e,isMobile:n,isFirst:a=!1,showCartButtons:s=!0}){const o=e.filter(u=>u.category_id===t.id);return o.length===0?null:w.jsxs("section",{id:`category-${t.id}`,style:{marginBottom:n?"3rem":"4rem",scrollMarginTop:"140px",scrollBehavior:"smooth",position:"relative"},children:[!a&&w.jsx("div",{style:{height:"1px",background:"linear-gradient(90deg, transparent 0%, #d4a574 20%, #d4a574 80%, transparent 100%)",marginBottom:"2rem",position:"relative"},children:w.jsx("div",{style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",width:"60px",height:"60px",background:"#ffffff",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:w.jsx("div",{style:{width:"12px",height:"12px",background:"#d4a574",borderRadius:"50%"}})})}),w.jsx("div",{style:{marginBottom:"2.5rem",position:"relative"},children:w.jsx("h2",{style:{margin:0,fontSize:n?"1.875rem":"2.5rem",color:"#1a1a1a",fontWeight:"700",letterSpacing:"-0.02em",display:"inline-block",paddingBottom:"0.75rem",borderBottom:"4px solid #d4a574",position:"relative"},children:t.name})}),w.jsx("div",{style:{display:"grid",gridTemplateColumns:n?"1fr":"repeat(auto-fill, minmax(300px, 1fr))",gap:n?"1.25rem":"1.75rem"},children:o.map(u=>w.jsx(R6,{product:u,isMobile:n,showCartButtons:s},u.id))})]})}function O6(){const t="e99d3327-5d3f-4e0f-aa87-c037fa554d2f",{business:e,loading:n,error:a}=j6(t),{categories:s,loading:o}=ig(e?.id),{products:u,loading:d}=ag(e?.id),[f,h]=O.useState(!1),[g,x]=O.useState(!1);O.useEffect(()=>{const y=()=>{h(window.innerWidth<768)};return y(),window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]),O.useEffect(()=>{let y=!1;const E=()=>{y||(window.requestAnimationFrame(()=>{const U=(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0)>100;x(U),y=!1}),y=!0)},T=()=>{setTimeout(()=>{E()},100)};E(),window.addEventListener("scroll",E,{passive:!0}),document.readyState==="complete"?T():window.addEventListener("load",T),window.addEventListener("resize",E);const k=setInterval(E,100);return()=>{window.removeEventListener("scroll",E),window.removeEventListener("load",T),window.removeEventListener("resize",E),clearInterval(k)}},[]);const S=()=>{const y=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,E=performance.now(),T=800,k=D=>D<.5?4*D*D*D:1-Math.pow(-2*D+2,3)/2,N=D=>{const U=D-E,M=Math.min(U/T,1),re=k(M),de=y*(1-re);window.scrollTo(0,de),document.documentElement.scrollTop=de,document.body.scrollTop=de,M<1&&requestAnimationFrame(N)};requestAnimationFrame(N)};return n||o||d?w.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#f5f5f5"},children:w.jsx($a,{message:"Men ykleniyor..."})}):a||!e?w.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#f5f5f5",padding:"2rem"},children:w.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"12px",textAlign:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",maxWidth:"500px"},children:[w.jsx("h2",{style:{color:"#dc2626",marginBottom:"1rem"},children:" letme Bulunamad"}),w.jsx("p",{style:{color:"#64748b"},children:a||"Bu men bulunamad. Ltfen QR kodu kontrol edin."})]})}):s.length===0||u.length===0?w.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#f5f5f5",padding:"2rem"},children:w.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"12px",textAlign:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",maxWidth:"500px"},children:[w.jsx("h2",{style:{color:"#1e293b",marginBottom:"1rem"},children:" Men Hazrlanyor"}),w.jsxs("p",{style:{color:"#64748b"},children:[e.name," mens henz hazrlanmam."]})]})}):w.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(180deg, #f8f9fa 0%, #f1f3f5 100%)",paddingTop:"0"},children:[w.jsx("header",{style:{background:"linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 50%, #1a1a1a 100%)",padding:f?"1rem 0.75rem":"0.60rem 2.5rem",marginBottom:"2rem",boxShadow:"0 4px 16px rgba(0,0,0,0.2)",borderBottom:"3px solid #d4a574"},children:w.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",gap:f?"0.75rem":"2rem",maxWidth:"1200px",margin:"0 auto",textAlign:"center"},children:[e?.logo_url&&w.jsx("div",{style:{flexShrink:0,display:"flex",alignItems:"center",justifyContent:"center"},children:w.jsx("img",{src:e.logo_url,alt:e.name||"Logo",style:{maxWidth:f?"70px":"120px",maxHeight:f?"70px":"120px",width:"auto",height:"auto",objectFit:"contain",display:"block"},onError:y=>{y.target.style.display="none"}})}),w.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:f?"flex-start":"center",gap:f?"0.25rem":"0.75rem",textAlign:f?"left":"center",flex:f?1:"none"},children:w.jsx("h1",{style:{margin:0,fontSize:f?"1.25rem":"2.25rem",color:"#ffffff",fontWeight:"800",letterSpacing:"0.02em",lineHeight:"1.2",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:f?"100%":"none",textShadow:"0 2px 8px rgba(0,0,0,0.3), 0 0 20px rgba(212, 165, 116, 0.2)",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif'},children:e.name})})]})}),w.jsx(Mb,{categories:s,isMobile:f}),w.jsx("main",{style:{maxWidth:"1200px",margin:"0 auto",padding:f?"0 1rem 2rem":"0 2rem 3rem"},children:s.map((y,E)=>w.jsx(Bb,{category:y,products:u,isMobile:f,isFirst:E===0,showCartButtons:!1},y.id))}),w.jsxs("footer",{style:{background:"#1a1a1a",color:"#ffffff",padding:f?"2rem 1rem":"2.5rem 2rem",textAlign:"center",marginTop:"4rem"},children:[w.jsxs("p",{style:{margin:0,fontSize:f?"0.875rem":"0.9375rem",color:"#9ca3af",fontWeight:"400",marginBottom:e.phone?"0.75rem":"0"},children:[" ",new Date().getFullYear()," ",e.name]}),e.phone&&w.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",color:"#d4a574",fontSize:f?"0.9375rem":"1.0625rem",fontWeight:"500"},children:w.jsx("span",{children:e.phone})})]}),w.jsx("button",{onClick:S,style:{position:"fixed",bottom:f?"1.5rem":"2rem",right:f?"1.5rem":"2rem",zIndex:99999,width:f?"44px":"48px",height:f?"44px":"48px",minWidth:f?"44px":"48px",minHeight:f?"44px":"48px",maxWidth:f?"44px":"48px",maxHeight:f?"44px":"48px",borderRadius:"50%",background:"linear-gradient(135deg, rgba(212, 165, 116, 0.85) 0%, rgba(184, 134, 11, 0.85) 100%)",border:"3px solid rgba(255, 255, 255, 0.9)",color:"#ffffff",fontSize:f?"1.5rem":"1.75rem",cursor:"pointer",boxShadow:"0 4px 20px rgba(212, 165, 116, 0.3), 0 0 0 4px rgba(212, 165, 116, 0.1)",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 0.8s ease-out, transform 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55), boxShadow 0.4s ease, background 0.3s ease, visibility 0.8s ease-out",fontWeight:"bold",padding:0,margin:0,lineHeight:1,outline:"none",WebkitTapHighlightColor:"transparent",userSelect:"none",opacity:g?.8:0,visibility:g?"visible":"hidden",pointerEvents:g?"auto":"none",transform:"scale(1) translateY(0)"},onMouseEnter:y=>{y.currentTarget.style.transform="scale(1.05) translateY(-3px)",y.currentTarget.style.background="linear-gradient(135deg, rgba(212, 165, 116, 1) 0%, rgba(184, 134, 11, 1) 100%)",y.currentTarget.style.boxShadow="0 6px 25px rgba(212, 165, 116, 0.5), 0 0 0 6px rgba(212, 165, 116, 0.15)",y.currentTarget.style.opacity="1",y.currentTarget.style.border="3px solid rgba(255, 255, 255, 1)"},onMouseLeave:y=>{y.currentTarget.style.transform="scale(1) translateY(0)",y.currentTarget.style.background="linear-gradient(135deg, rgba(212, 165, 116, 0.85) 0%, rgba(184, 134, 11, 0.85) 100%)",y.currentTarget.style.boxShadow="0 4px 20px rgba(212, 165, 116, 0.3), 0 0 0 4px rgba(212, 165, 116, 0.1)",y.currentTarget.style.opacity=g?"0.8":"0",y.currentTarget.style.border="3px solid rgba(255, 255, 255, 0.9)"},"aria-label":"Yukar kaydr",children:""})]})}function D6(t){const[e,n]=O.useState(null),[a,s]=O.useState(!0),[o,u]=O.useState(null);return O.useEffect(()=>{if(!t){s(!1);return}(async()=>{try{s(!0),u(null);const{data:f,error:h}=await ht.from("businesses").select("*").eq("slug",t).single();if(h)throw h;n(f)}catch(f){u(f.message),console.error("Business fetch error:",f)}finally{s(!1)}})()},[t]),{business:e,loading:a,error:o}}function M6(t){const[e,n]=O.useState([]),[a,s]=O.useState(!0),[o,u]=O.useState(null);return O.useEffect(()=>{if(!t){s(!1);return}(async()=>{try{s(!0),u(null);const{data:f,error:h}=await ht.from("tables").select("*").eq("business_id",t).eq("is_active",!0).order("table_number",{ascending:!0});if(h)throw h;n(f||[])}catch(f){u(f.message),console.error("Tables fetch error:",f)}finally{s(!1)}})()},[t]),{tables:e,loading:a,error:o}}const Ib=O.createContext();function z6({children:t}){const e=(R,V=null)=>{const pe=V?`${R}
${V}`:R;nh.success(pe,{duration:4e3,position:"top-right",reverseOrder:!0,closeButton:!1,style:{background:"#10b981",color:"white",borderRadius:"8px",padding:"12px 16px",fontSize:"14px",fontWeight:"500",boxShadow:"0 4px 12px rgba(16, 185, 129, 0.3)",maxWidth:"400px",whiteSpace:"pre-line",position:"relative"},iconTheme:{primary:"#ffffff",secondary:"#10b981"}})},n=(R,V=null)=>{const pe=V?`${R}
${V}`:R;nh.error(pe,{duration:5e3,position:"top-right",reverseOrder:!0,closeButton:!1,style:{background:"#ef4444",color:"white",borderRadius:"8px",padding:"12px 16px",fontSize:"14px",fontWeight:"500",boxShadow:"0 4px 12px rgba(239, 68, 68, 0.3)",maxWidth:"400px",whiteSpace:"pre-line",position:"relative"},iconTheme:{primary:"#ffffff",secondary:"#ef4444"}})},a=(R,V=null)=>{const pe=V?`${R}
${V}`:R;nh(pe,{duration:4e3,position:"top-right",reverseOrder:!0,closeButton:!1,style:{background:"#f59e0b",color:"white",borderRadius:"8px",padding:"12px 16px",fontSize:"14px",fontWeight:"500",boxShadow:"0 4px 12px rgba(245, 158, 11, 0.3)",maxWidth:"400px",whiteSpace:"pre-line",position:"relative"}})},s=(R,V=null)=>{const pe=V?`${R}
${V}`:R;nh(pe,{duration:4e3,position:"top-right",reverseOrder:!0,closeButton:!1,style:{background:"#3b82f6",color:"white",borderRadius:"8px",padding:"12px 16px",fontSize:"14px",fontWeight:"500",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.3)",maxWidth:"400px",whiteSpace:"pre-line",position:"relative"}})},ie={showSuccess:e,showError:n,showWarning:a,showInfo:s,notifyNewOrder:R=>{if(!R)return;const V=R.table_number?`Masa ${R.table_number}`:"Masa bilgisi yok",pe=R.id?R.id.slice(0,8).toUpperCase():"Bilinmeyen";e("Yeni Sipari",`${V}
Sipari #${pe}`)},notifyOrderAccepted:R=>{if(!R)return;const V=R.table_number?`Masa ${R.table_number}`:"Masa bilgisi yok",pe=R.id?R.id.slice(0,8).toUpperCase():"Bilinmeyen";e("Sipari Kabul Edildi",`${V}
Sipari #${pe}`)},notifyOrderRejected:R=>{if(!R)return;const V=R.table_number?`Masa ${R.table_number}`:"Masa bilgisi yok",pe=R.id?R.id.slice(0,8).toUpperCase():"Bilinmeyen";n("Sipari Reddedildi",`${V}
Sipari #${pe}`)},notifyOrderPreparing:R=>{if(!R)return;const V=R.table_number?`Masa ${R.table_number}`:"Masa bilgisi yok",pe=R.id?R.id.slice(0,8).toUpperCase():"Bilinmeyen";s("Sipari Hazrlanyor",`${V}
Sipari #${pe}`)},notifyOrderDelivering:R=>{if(!R)return;const V=R.table_number?`Masa ${R.table_number}`:"Masa bilgisi yok",pe=R.id?R.id.slice(0,8).toUpperCase():"Bilinmeyen";e("Sipari Geliyor",`${V}
Sipari #${pe}`),s("Sipari Geliyor",`${V}
Sipari #${pe}`)},notifyNewPayment:R=>{if(!R)return;const V=R.table_number?`Masa ${R.table_number}`:"Masa bilgisi yok",pe=R.order_id?R.order_id.slice(0,8).toUpperCase():"Bilinmeyen",ve=parseFloat(R.amount||0).toFixed(2);e(" Yeni deme",`${V}
Sipari #${pe}
Tutar: ${ve}`)},notifyPaymentReceived:R=>{if(!R)return;const V=R.table_number?`Masa ${R.table_number}`:"Masa bilgisi yok",pe=R.id?R.id.slice(0,8).toUpperCase():"Bilinmeyen",ve=parseFloat(R.total_amount||0).toFixed(2);e("deme Yapld",`${V}
Sipari #${pe}
Tutar: ${ve}`)},notifyPaymentCancelled:R=>{const V=R.table_number?`Masa ${R.table_number}`:"",pe=R.id?R.id.slice(0,8):"";n("deme ptal Edildi",V?`Sipari #${pe} - ${V}`:`Sipari #${pe}`)},notifyProductAdded:R=>{e("rn Eklendi",`"${R.name}" baaryla eklendi`)},notifyProductUpdated:R=>{e("rn Gncellendi",`"${R.name}" baaryla gncellendi`)},notifyProductDeleted:R=>{n("rn Silindi",`"${R}" silindi`)},notifyCategoryAdded:R=>{e("Kategori Eklendi",`"${R.name}" baaryla eklendi`)},notifyCategoryUpdated:R=>{e("Kategori Gncellendi",`"${R.name}" baaryla gncellendi`)},notifyCategoryDeleted:R=>{n("Kategori Silindi",`"${R}" ve iindeki rnler silindi`)},notifyReportDownloaded:(R,V)=>{const pe=V?.report_date||"";let ve=pe;if(pe)try{const[qe,et,Re]=pe.split("-");qe&&et&&Re&&(ve=`${Re}/${et}/${qe}`)}catch{}const Ee=parseFloat(V?.total_amount||0).toFixed(2);e(` ${R.toUpperCase()} Raporu ndirildi`,`Tarih: ${ve}
Toplam Tutar: ${Ee}`)},notifyProductStatusChanged:(R,V)=>{s(` "${R.name}" ${V?"aktif":"pasif"} olarak deitirildi`)},notifyOrderChanged:R=>{e("Deiiklik Kaydedildi",`${R} sralamas gncellendi`)},notifyError:(R,V)=>{n(" Hata Olutu",`${R}: ${V}`)},notifyLogoSelected:()=>{e("Logo Seildi","Logo baaryla seildi. Kaydet butonuna tklayarak ykleyebilirsiniz.")},notifyLogoSelectError:R=>{R==="size"?n("Logo Seimi Baarsz","Logo boyutu 2MB'dan kk olmaldr"):R==="type"&&n("Logo Seimi Baarsz","Ltfen bir grsel dosyas sein")},notifyLogoUploaded:()=>{e("Logo baaryla yklendi")},notifyLogoUploadError:R=>{n("Logo Ykleme Hatas",`Logo yklenirken hata olutu: ${R}`)},notifyLogoDeleted:()=>{e("Logo baaryla silindi")},notifyLogoDeleteError:R=>{n("Logo Silme Hatas",R||"Logo silinirken hata olutu")},notifySettingsSaved:()=>{e("Ayarlar Kaydedildi","letme bilgileri baaryla gncellendi")},notifySettingsSaveError:R=>{n("Kayt Hatas",R||"Ayarlar kaydedilirken hata olutu")},notifySettingsValidationError:R=>{R==="name"?n("Kayt Baarsz","letme ad gerekli"):R==="slug"?n("Kayt Baarsz","URL slug gerekli"):R==="slugFormat"&&n("Kayt Baarsz","URL slug sadece kk harf, say ve tire ierebilir")},notifyUrlCopied:R=>{R==="menu"?e("Men linki panoya kopyaland"):R==="qr"?e("QR URL panoya kopyaland"):R==="main"&&e("Ana URL panoya kopyaland")},notifyUrlCopyError:R=>{let V="";R==="menu"?V="Men linki":R==="qr"?V="QR URL":R==="main"&&(V="Ana URL"),n(`${V} bulunamad`)},notifyQRDownloaded:()=>{e("QR kod baaryla indirildi")},notifyQRDownloadError:()=>{n("ndirme Baarsz","QR kod URL'i bulunamad")},notifyLoginSuccess:R=>{e("Giri Baarl",R?`${R} paneline ho geldiniz!`:"Panele baaryla giri yaptnz")},notifyLoginError:R=>{let V=R||"E-posta veya ifre hatal";if(R){const pe=R.toLowerCase();pe.includes("invalid login credentials")||pe.includes("invalid credentials")?V="E-posta veya ifre hatal":pe.includes("email not confirmed")?V="E-posta adresiniz dorulanmam":pe.includes("too many requests")?V="ok fazla deneme yapld. Ltfen daha sonra tekrar deneyin":(pe.includes("network")||pe.includes("fetch"))&&(V="Balant hatas. Ltfen internet balantnz kontrol edin")}n("Giri Baarsz",V)},notifyLoginValidationError:()=>{n("Ltfen e-posta ve ifre girin")},notifyLogoutSuccess:()=>{e("k yapld","Gvenli bir ekilde k yaptnz")},notifyLogoutError:R=>{n("k Hatas",R||"k yaplrken bir hata olutu")}};return w.jsx(Ib.Provider,{value:ie,children:t})}function _u(){const t=O.useContext(Ib);if(!t)throw new Error("useNotification must be used within NotificationProvider");return t}function B6({isOpen:t,onClose:e,onCheckout:n,isMobile:a}){const{cart:s,addToCart:o,removeFromCart:u,removeItemFromCart:d,getTotalPrice:f,getTotalItems:h}=sg();return t?w.jsxs(w.Fragment,{children:[w.jsx("div",{onClick:e,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",zIndex:9998,animation:"fadeIn 0.2s"}}),w.jsxs("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"white",borderRadius:"16px",width:a?"90%":"500px",maxWidth:"90vw",maxHeight:"90vh",zIndex:9999,display:"flex",flexDirection:"column",boxShadow:"0 20px 60px rgba(0,0,0,0.3)",animation:"slideUp 0.3s"},children:[w.jsxs("div",{style:{padding:a?"1.25rem":"1.5rem",borderBottom:"2px solid #f3f4f6",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[w.jsxs("h2",{style:{margin:0,fontSize:a?"1.25rem":"1.5rem",color:"#1e293b",fontWeight:"700"},children:[" Sepet (",h(),")"]}),w.jsx("button",{onClick:e,style:{background:"transparent",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#64748b",padding:"0.5rem",borderRadius:"8px",transition:"all 0.2s"},onMouseEnter:g=>{g.currentTarget.style.background="#f3f4f6",g.currentTarget.style.color="#1e293b"},onMouseLeave:g=>{g.currentTarget.style.background="transparent",g.currentTarget.style.color="#64748b"},children:""})]}),w.jsx("div",{style:{flex:1,overflowY:"auto",padding:a?"1rem":"1.5rem"},children:s.length===0?w.jsxs("div",{style:{textAlign:"center",padding:"3rem 1rem",color:"#64748b"},children:[w.jsx("p",{style:{fontSize:"3rem",margin:"0 0 1rem 0"},children:""}),w.jsx("p",{children:"Sepetiniz bo"})]}):w.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:s.map(g=>w.jsxs("div",{style:{display:"flex",gap:"1rem",padding:"1rem",background:"#f8fafc",borderRadius:"12px",border:"1px solid #e2e8f0"},children:[w.jsxs("div",{style:{flex:1},children:[w.jsx("h3",{style:{margin:"0 0 0.5rem 0",fontSize:a?"1rem":"1.125rem",color:"#1e293b",fontWeight:"600"},children:g.product_name}),w.jsxs("p",{style:{margin:0,fontSize:a?"1rem":"1.125rem",color:"#2d2d2d",fontWeight:"700",display:"flex",alignItems:"center",gap:"0.25rem",flexWrap:"wrap"},children:[w.jsx(Pr,{price:g.product_price,fontSize:a?"1rem":"1.125rem"}),w.jsxs("span",{children:[" ",g.quantity," ="]}),w.jsx(Pr,{price:g.product_price*g.quantity,fontSize:a?"1rem":"1.125rem"})]})]}),w.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem"},children:[w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",background:"#d4a574",borderRadius:"8px",padding:"0.5rem"},children:[w.jsx("button",{onClick:()=>u(g.product_id),style:{background:"rgba(255,255,255,0.2)",border:"none",borderRadius:"6px",width:"32px",height:"32px",color:"white",fontSize:"1.25rem",fontWeight:"bold",cursor:"pointer"},children:""}),w.jsx("span",{style:{color:"white",fontWeight:"bold",fontSize:"1rem",minWidth:"24px",textAlign:"center"},children:g.quantity}),w.jsx("button",{onClick:()=>o({id:g.product_id,name:g.product_name,price:g.product_price}),style:{background:"rgba(255,255,255,0.2)",border:"none",borderRadius:"6px",width:"32px",height:"32px",color:"white",fontSize:"1.25rem",fontWeight:"bold",cursor:"pointer"},children:"+"})]}),w.jsx("button",{onClick:()=>d(g.product_id),style:{background:"transparent",border:"none",color:"#ef4444",fontSize:"0.875rem",cursor:"pointer",padding:"0.25rem 0.5rem"},children:"Kaldr"})]})]},g.product_id))})}),s.length>0&&w.jsxs("div",{style:{padding:a?"1.25rem":"1.5rem",borderTop:"2px solid #f3f4f6",background:"#f8fafc"},children:[w.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[w.jsx("span",{style:{fontSize:a?"1.125rem":"1.25rem",fontWeight:"600",color:"#1e293b"},children:"Toplam:"}),w.jsx(Pr,{price:f(),fontSize:a?"1.5rem":"1.75rem",fontWeight:"700",color:"#2d2d2d"})]}),w.jsx("button",{onClick:n,style:{width:"100%",padding:a?"1rem":"1.25rem",background:"#d4a574",border:"none",borderRadius:"12px",color:"white",fontSize:a?"1rem":"1.125rem",fontWeight:"700",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:g=>{g.currentTarget.style.background="#c49564",g.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:g=>{g.currentTarget.style.background="#d4a574",g.currentTarget.style.transform="translateY(0)"},children:" Siparii Onayla"})]})]})]}):null}function I6({orderId:t,isMobile:e,onClose:n,isExpanded:a=!1,onToggle:s}){const[o,u]=O.useState(null),[d,f]=O.useState(!0),[h,g]=O.useState(a);O.useEffect(()=>{if(!t)return;(async()=>{try{const{data:T,error:k}=await ht.from("orders").select(`
            *,
            order_items (
              id,
              product_name,
              product_price,
              quantity,
              subtotal
            )
          `).eq("id",t).single();if(k)throw k;u(T)}catch(T){console.error("Order fetch error:",T)}finally{f(!1)}})();const E=ht.channel(`order:${t}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"orders",filter:`id=eq.${t}`},T=>{u(T.new),T.new.status==="completed"&&setTimeout(()=>{n()},6e5)}).subscribe();return()=>{ht.removeChannel(E)}},[t,n]);const x=y=>({pending:" Beklemede",preparing:" Hazrlanyor",ready:" Hazr",delivering:" Sipari Geliyor",completed:" Tamamland",cancelled:" ptal Edildi"})[y]||y,S=y=>({pending:"#f59e0b",preparing:"#8b5cf6",ready:"#10b981",delivering:"#3b82f6",completed:"#64748b",cancelled:"#ef4444"})[y]||"#64748b";return O.useEffect(()=>{g(a)},[a]),d?w.jsx("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"white",borderRadius:"16px",padding:"3rem",zIndex:9999,textAlign:"center"},children:w.jsx("p",{children:"Ykleniyor..."})}):o?h?w.jsxs(w.Fragment,{children:[w.jsx("div",{onClick:()=>{g(!1),s&&s()},style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",zIndex:9998,animation:"fadeIn 0.2s"}}),w.jsxs("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"white",borderRadius:"16px",width:e?"90%":"500px",maxWidth:"90vw",maxHeight:"90vh",zIndex:9999,display:"flex",flexDirection:"column",boxShadow:"0 20px 60px rgba(0,0,0,0.3)",overflow:"hidden",animation:"slideUp 0.3s"},children:[w.jsxs("div",{style:{padding:e?"1.25rem":"1.5rem",borderBottom:"2px solid #f3f4f6",background:`${S(o.status)}20`},children:[w.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[w.jsx("h2",{style:{margin:0,fontSize:e?"1.25rem":"1.5rem",color:"#1e293b",fontWeight:"700"},children:" Sipari Takibi"}),w.jsx("button",{onClick:n,style:{background:"transparent",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#64748b",padding:"0.5rem",borderRadius:"8px"},children:""})]}),w.jsx("div",{style:{padding:"0.75rem 1rem",background:S(o.status),color:"white",borderRadius:"8px",fontWeight:"600",fontSize:e?"0.9375rem":"1rem",textAlign:"center"},children:x(o.status)})]}),w.jsxs("div",{style:{flex:1,overflowY:"auto",padding:e?"1rem":"1.5rem"},children:[o.order_items&&o.order_items.length>0&&w.jsxs("div",{style:{marginBottom:"1.5rem"},children:[w.jsx("h3",{style:{margin:"0 0 1rem 0",fontSize:e?"1rem":"1.125rem",color:"#1e293b",fontWeight:"600"},children:"Sipari Detaylar:"}),o.order_items.map(y=>w.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"0.75rem 0",borderBottom:"1px solid #e2e8f0"},children:[w.jsxs("span",{style:{color:"#64748b"},children:[y.product_name,"  ",y.quantity]}),w.jsx("span",{style:{fontWeight:"600",color:"#1e293b"},children:b5(y.subtotal)})]},y.id))]}),w.jsx("div",{style:{padding:"1rem",background:"#f8fafc",borderRadius:"8px",marginTop:"1rem"},children:w.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[w.jsx("span",{style:{fontSize:e?"1.125rem":"1.25rem",fontWeight:"600",color:"#1e293b"},children:"Toplam:"}),w.jsx("span",{style:{fontSize:e?"1.5rem":"1.75rem",fontWeight:"700",color:"#2d2d2d"},children:b5(o.total_amount)})]})})]})]})]}):w.jsxs("div",{onClick:()=>{g(!0),s&&s()},style:{position:"fixed",bottom:e?"5rem":"6rem",right:e?"1rem":"2rem",background:"white",borderRadius:"12px",padding:e?"0.875rem 1rem":"1rem 1.25rem",boxShadow:"0 4px 20px rgba(0,0,0,0.25)",zIndex:9998,cursor:"pointer",border:`3px solid ${S(o.status)}`,minWidth:e?"140px":"180px",maxWidth:e?"180px":"220px",transition:"all 0.3s ease"},onMouseEnter:y=>{y.currentTarget.style.transform="translateY(-4px) scale(1.05)",y.currentTarget.style.boxShadow="0 8px 30px rgba(0,0,0,0.35)"},onMouseLeave:y=>{y.currentTarget.style.transform="translateY(0) scale(1)",y.currentTarget.style.boxShadow="0 4px 20px rgba(0,0,0,0.25)"},children:[w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.5rem"},children:[w.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",background:S(o.status),flexShrink:0}}),w.jsxs("span",{style:{fontSize:e?"0.75rem":"0.875rem",fontWeight:"600",color:"#1e293b"},children:["Sipari #",o.id.slice(0,8)]})]}),w.jsxs("div",{style:{padding:"0.5rem 0.75rem",background:`${S(o.status)}20`,borderRadius:"8px",textAlign:"center"},children:[w.jsx("div",{style:{fontSize:e?"0.75rem":"0.875rem",fontWeight:"600",color:S(o.status),marginBottom:"0.25rem"},children:x(o.status)}),w.jsxs("div",{style:{fontSize:e?"0.875rem":"1rem",fontWeight:"700",color:"#1e293b"},children:["",parseFloat(o.total_amount).toFixed(2)]})]}),w.jsx("div",{style:{fontSize:e?"0.625rem":"0.75rem",color:"#64748b",textAlign:"center",marginTop:"0.5rem"},children:"Tklayarak detaylar gr"})]}):null}function P6({slug:t}){console.log(" MenuPage render edildi!",{slugProp:t});const e=Q3(),n=t||e.slug,a=e.table,s=a?parseInt(a,10):null;console.log(" MenuPage params:",{slug:n,table:a,tableNumber:s});const{business:o,loading:u,error:d}=D6(n),{tables:f,loading:h}=M6(o?.id),{categories:g,loading:x}=ig(o?.id),{products:S,loading:y}=ag(o?.id),[E,T]=O.useState(!1);O.useEffect(()=>{s&&o&&!h&&f.length>0?f.map(F=>F.table_number).includes(s)?T(!1):T(!0):s&&o&&!h&&f.length===0&&T(!0)},[s,o,f,h]),O.useEffect(()=>{s&&o&&f.length>0?f.map(F=>F.table_number).includes(s)&&(localStorage.setItem("currentTableNumber",s.toString()),localStorage.setItem("currentBusinessSlug",n||"")):localStorage.removeItem("currentTableNumber")},[s,n,o,f]);const[k,N]=O.useState(!1),[D,U]=O.useState(!1),[M,re]=O.useState(!1),[de,oe]=O.useState(!1),[Q,q]=O.useState(null),[ue,B]=O.useState(null),K=sg(),fe=K?.cart||[],se=K?.getTotalPrice||(()=>0),le=K?.getTotalItems||(()=>0),J=K?.clearCart||(()=>{}),ee=le(),he=se(),_e=async()=>{if(!(!o||fe.length===0))try{const{data:L,error:F}=await ht.from("orders").insert({business_id:o.id,table_number:s,status:"pending",total_amount:se(),notes:""}).select().single();if(F)throw F;const X=fe.map(R=>({order_id:L.id,product_id:R.product_id,product_name:R.product_name,product_price:R.product_price,quantity:R.quantity,notes:R.notes||"",subtotal:R.product_price*R.quantity})),{error:ie}=await ht.from("order_items").insert(X);if(ie)throw ie;J(),q(L.id),B("pending"),re(!1),oe(!0)}catch(L){console.error("Order creation error:",L),notifyError("Sipari oluturulurken hata olutu",L.message)}};O.useEffect(()=>{if(!Q)return;const L=ht.channel(`order:${Q}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"orders",filter:`id=eq.${Q}`},F=>{B(F.new.status),F.new.status==="completed"&&setTimeout(()=>{oe(!1),q(null),B(null)},6e5)}).subscribe();return()=>{ht.removeChannel(L)}},[Q]),O.useEffect(()=>{const L=()=>{N(window.innerWidth<768)};return L(),window.addEventListener("resize",L),()=>window.removeEventListener("resize",L)},[]),O.useEffect(()=>{let L=!1;const F=()=>{L||(window.requestAnimationFrame(()=>{const V=(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0)>100;U(V),L=!1}),L=!0)};F(),window.addEventListener("scroll",F,{passive:!0}),window.addEventListener("resize",F);const X=setInterval(F,100);return()=>{window.removeEventListener("scroll",F),window.removeEventListener("resize",F),clearInterval(X)}},[]);const ze=()=>{const L=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,F=performance.now(),X=800,ie=V=>V<.5?4*V*V*V:1-Math.pow(-2*V+2,3)/2,R=V=>{const pe=V-F,ve=Math.min(pe/X,1),Ee=ie(ve),qe=L*(1-Ee);window.scrollTo(0,qe),document.documentElement.scrollTop=qe,document.body.scrollTop=qe,ve<1&&requestAnimationFrame(R)};requestAnimationFrame(R)},G=()=>w.jsxs("button",{onClick:()=>{console.log(" Sepet butonu tkland!",{showCart:M,totalItems:ee,totalPrice:he,cart:fe}),re(!0)},style:{position:"fixed",top:k?"4.5rem":"5rem",right:"1rem",background:"#d4a574",border:"3px solid rgba(255,255,255,0.9)",borderRadius:"16px",padding:k?"0.75rem 1rem":"1rem 1.25rem",color:"white",fontSize:k?"0.875rem":"1rem",fontWeight:"700",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.75rem",boxShadow:"0 6px 20px rgba(212, 165, 116, 0.6)",transition:"all 0.3s",zIndex:10002,opacity:1,minWidth:k?"90px":"120px",whiteSpace:"nowrap",visibility:"visible",pointerEvents:"auto",lineHeight:1},onMouseEnter:L=>{L.currentTarget.style.background="#c49564",L.currentTarget.style.transform="translateY(-3px) scale(1.08)",L.currentTarget.style.boxShadow="0 8px 24px rgba(212, 165, 116, 0.7)"},onMouseLeave:L=>{L.currentTarget.style.background="#d4a574",L.currentTarget.style.transform="translateY(0) scale(1)",L.currentTarget.style.boxShadow="0 6px 20px rgba(212, 165, 116, 0.6)"},children:[w.jsx("span",{style:{fontSize:k?"1.5rem":"1.75rem",lineHeight:1},children:""}),(ee||0)>0?w.jsxs(w.Fragment,{children:[w.jsxs("span",{style:{fontSize:k?"0.875rem":"1rem",fontWeight:"700"},children:["(",ee||0,")"]}),w.jsx("span",{style:{background:"rgba(255,255,255,0.35)",padding:"0.25rem 0.5rem",borderRadius:"6px",fontSize:k?"0.75rem":"0.875rem",fontWeight:"700",display:"inline-flex",alignItems:"center"},children:w.jsx(Pr,{price:he||0,fontSize:k?"0.75rem":"0.875rem",fontWeight:"700",color:"inherit"})})]}):w.jsx("span",{style:{fontSize:k?"0.875rem":"1rem"},children:"Sepet"})]});return u||x||y?w.jsxs(w.Fragment,{children:[w.jsx(G,{}),w.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#f5f5f5"},children:w.jsx($a,{message:"Men ykleniyor..."})})]}):n==="admin"?w.jsxs(w.Fragment,{children:[w.jsx(G,{}),w.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#f5f5f5",padding:"2rem"},children:w.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"12px",textAlign:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",maxWidth:"500px"},children:[w.jsx("h2",{style:{color:"#dc2626",marginBottom:"1rem"},children:" Geersiz URL"}),w.jsx("p",{style:{color:"#64748b"},children:"Admin paneline erimek iin doru URL'yi kullann."})]})})]}):n?d||!u&&!o?w.jsxs(w.Fragment,{children:[w.jsx(G,{}),w.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#f5f5f5",padding:"2rem"},children:w.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"12px",textAlign:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",maxWidth:"500px"},children:[w.jsx("h2",{style:{color:"#dc2626",marginBottom:"1rem"},children:" letme Bulunamad"}),w.jsx("p",{style:{color:"#64748b"},children:d||`"${n}" adl iletme bulunamad.`})]})})]}):o?g.length===0||S.length===0?w.jsxs(w.Fragment,{children:[w.jsx(G,{}),w.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#f5f5f5",padding:"2rem"},children:w.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"12px",textAlign:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",maxWidth:"500px"},children:[w.jsx("h2",{style:{color:"#1e293b",marginBottom:"1rem"},children:" Men Hazrlanyor"}),w.jsxs("p",{style:{color:"#64748b"},children:[o.name," mens henz hazrlanmam."]})]})})]}):w.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(180deg, #f8f9fa 0%, #f1f3f5 100%)",paddingTop:"0",position:"relative"},children:[w.jsx(G,{}),w.jsx("header",{style:{position:"relative",background:"linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 50%, #1a1a1a 100%)",padding:k?"1rem 0.75rem":"0.60rem 2.5rem",marginBottom:"2rem",boxShadow:"0 4px 16px rgba(0,0,0,0.2)",borderBottom:"3px solid #d4a574"},children:w.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",gap:k?"0.75rem":"2rem",maxWidth:"1200px",margin:"0 auto",textAlign:"center"},children:[o?.logo_url&&w.jsx("div",{style:{flexShrink:0,display:"flex",alignItems:"center",justifyContent:"center"},children:w.jsx("img",{src:o.logo_url,alt:o.name||"Logo",style:{maxWidth:k?"70px":"120px",maxHeight:k?"70px":"120px",width:"auto",height:"auto",objectFit:"contain",display:"block"},onError:L=>{L.target.style.display="none"}})}),w.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:k?"flex-start":"center",gap:k?"0.25rem":"0.75rem",textAlign:k?"left":"center",flex:k?1:"none"},children:[w.jsx("h1",{style:{margin:0,fontSize:k?"1.25rem":"2.25rem",color:"#ffffff",fontWeight:"800",letterSpacing:"0.02em",lineHeight:"1.2",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:k?"100%":"none",textShadow:"0 2px 8px rgba(0,0,0,0.3), 0 0 20px rgba(212, 165, 116, 0.2)",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif'},children:o.name}),s&&w.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",marginTop:"0.5rem",padding:"0.5rem 1rem",background:"rgba(212, 165, 116, 0.2)",borderRadius:"8px",border:"2px solid #d4a574"},children:[w.jsx("span",{style:{fontSize:k?"1rem":"1.25rem",color:"#d4a574",fontWeight:"700"},children:""}),w.jsxs("p",{style:{margin:0,fontSize:k?"0.9375rem":"1.125rem",color:"#d4a574",fontWeight:"700",letterSpacing:"0.05em"},children:["Masa ",s]})]})]})]})}),w.jsx(Mb,{categories:g,isMobile:k}),w.jsx("main",{style:{maxWidth:"1200px",margin:"0 auto",padding:k?"0 1rem 2rem":"0 2rem 3rem"},children:g.map((L,F)=>w.jsx(Bb,{category:L,products:S,isMobile:k,isFirst:F===0},L.id))}),w.jsxs("footer",{style:{background:"#1a1a1a",color:"#ffffff",padding:k?"2rem 1rem":"2.5rem 2rem",textAlign:"center",marginTop:"4rem"},children:[w.jsxs("p",{style:{margin:0,fontSize:k?"0.875rem":"0.9375rem",color:"#9ca3af",fontWeight:"400",marginBottom:o.phone?"0.75rem":"0"},children:[" ",new Date().getFullYear()," ",o.name]}),o.phone&&w.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",color:"#d4a574",fontSize:k?"0.9375rem":"1.0625rem",fontWeight:"500"},children:w.jsx("span",{children:o.phone})})]}),w.jsx("button",{onClick:ze,style:{position:"fixed",bottom:k?"1.5rem":"2rem",right:k?"1.5rem":"2rem",zIndex:99999,width:k?"44px":"48px",height:k?"44px":"48px",minWidth:k?"44px":"48px",minHeight:k?"44px":"48px",maxWidth:k?"44px":"48px",maxHeight:k?"44px":"48px",borderRadius:"50%",background:"linear-gradient(135deg, rgba(212, 165, 116, 0.85) 0%, rgba(184, 134, 11, 0.85) 100%)",border:"3px solid rgba(255, 255, 255, 0.9)",color:"#ffffff",fontSize:k?"1.5rem":"1.75rem",cursor:"pointer",boxShadow:"0 4px 20px rgba(212, 165, 116, 0.3), 0 0 0 4px rgba(212, 165, 116, 0.1)",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 0.8s ease-out, transform 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55), boxShadow 0.4s ease, background 0.3s ease, visibility 0.8s ease-out",fontWeight:"bold",padding:0,margin:0,lineHeight:1,outline:"none",WebkitTapHighlightColor:"transparent",userSelect:"none",opacity:D?.8:0,visibility:D?"visible":"hidden",pointerEvents:D?"auto":"none",transform:"scale(1) translateY(0)"},onMouseEnter:L=>{L.currentTarget.style.transform="scale(1.05) translateY(-3px)",L.currentTarget.style.background="linear-gradient(135deg, rgba(212, 165, 116, 1) 0%, rgba(184, 134, 11, 1) 100%)",L.currentTarget.style.boxShadow="0 6px 25px rgba(212, 165, 116, 0.5), 0 0 0 6px rgba(212, 165, 116, 0.15)",L.currentTarget.style.opacity="1",L.currentTarget.style.border="3px solid rgba(255, 255, 255, 1)"},onMouseLeave:L=>{L.currentTarget.style.transform="scale(1) translateY(0)",L.currentTarget.style.background="linear-gradient(135deg, rgba(212, 165, 116, 0.85) 0%, rgba(184, 134, 11, 0.85) 100%)",L.currentTarget.style.boxShadow="0 4px 20px rgba(212, 165, 116, 0.3), 0 0 0 4px rgba(212, 165, 116, 0.1)",L.currentTarget.style.opacity=D?"0.8":"0",L.currentTarget.style.border="3px solid rgba(255, 255, 255, 0.9)"},"aria-label":"Yukar kaydr",children:""}),w.jsx(B6,{isOpen:M,onClose:()=>re(!1),onCheckout:_e,isMobile:k}),Q&&w.jsx(I6,{orderId:Q,isMobile:k,isExpanded:de,onToggle:()=>oe(!de),onClose:()=>{oe(!1),q(null),B(null)}})]}):w.jsxs(w.Fragment,{children:[w.jsx(G,{}),w.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#f5f5f5"},children:w.jsx($a,{message:"Men ykleniyor..."})})]}):w.jsxs(w.Fragment,{children:[w.jsx(G,{}),w.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#f5f5f5",padding:"2rem"},children:w.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"12px",textAlign:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",maxWidth:"500px"},children:[w.jsx("h2",{style:{color:"#dc2626",marginBottom:"1rem"},children:" letme Bulunamad"}),w.jsx("p",{style:{color:"#64748b"},children:"letme slug' bulunamad."})]})})]})}const Pb=O.createContext(null);function U6({children:t}){const[e,n]=O.useState(null),[a,s]=O.useState(null),[o,u]=O.useState(!0);O.useEffect(()=>{ht.auth.getSession().then(({data:{session:S}})=>{n(S?.user??null),S?.user?d(S.user.id):u(!1)});const{data:{subscription:x}}=ht.auth.onAuthStateChange((S,y)=>{n(y?.user??null),y?.user?d(y.user.id):(s(null),u(!1))});return()=>x.unsubscribe()},[]);const d=async x=>{try{const{data:S,error:y}=await ht.from("user_business").select("business_id, businesses(*)").eq("user_id",x).single();if(y)throw y;S?.businesses&&s(S.businesses)}catch(S){console.error("Business fetch error:",S)}finally{u(!1)}},g={user:e,business:a,loading:o,signIn:async(x,S)=>{try{u(!0);const{data:y,error:E}=await ht.auth.signInWithPassword({email:x,password:S});if(E)throw E;let T=null;if(y.user){await d(y.user.id),await new Promise(k=>setTimeout(k,100));try{const{data:k,error:N}=await ht.from("user_business").select("business_id, businesses(*)").eq("user_id",y.user.id).single();!N&&k?.businesses&&(T=k.businesses)}catch(k){console.warn("Business fetch warning:",k)}}return{success:!0,user:y.user,business:T}}catch(y){return{success:!1,error:y.message}}finally{u(!1)}},signOut:async()=>{try{const{error:x}=await ht.auth.signOut();if(x)throw x;return n(null),s(null),{success:!0}}catch(x){return{success:!1,error:x.message}}}};return w.jsx(Pb.Provider,{value:g,children:t})}function Uo(){const t=O.useContext(Pb);if(!t)throw new Error("useAuth must be used within AuthProvider");return t}function Zr({children:t,onClick:e,variant:n="primary",disabled:a=!1,type:s="button",style:o={}}){const u={padding:"0.75rem 1.5rem",fontSize:"1rem",border:"none",borderRadius:"6px",cursor:a?"not-allowed":"pointer",fontWeight:"500",transition:"all 0.2s",...o},d={primary:{background:a?"#ccc":"#007bff",color:"white"},secondary:{background:a?"#ccc":"#6c757d",color:"white"},danger:{background:a?"#ccc":"#dc3545",color:"white"},success:{background:a?"#ccc":"#28a745",color:"white"}};return w.jsx("button",{type:s,onClick:e,disabled:a,style:{...u,...d[n]},onMouseEnter:f=>{a||(f.target.style.opacity="0.9")},onMouseLeave:f=>{f.target.style.opacity="1"},children:t})}function q6(){const[t,e]=O.useState(""),[n,a]=O.useState(""),[s,o]=O.useState(""),[u,d]=O.useState(""),[f,h]=O.useState(""),[g,x]=O.useState(!1),[S,y]=O.useState(!1),{signIn:E}=Uo(),{notifyLoginSuccess:T,notifyLoginError:k,notifyLoginValidationError:N}=_u(),D=Xh();O.useEffect(()=>{const M=()=>{y(window.innerWidth<768)};return M(),window.addEventListener("resize",M),()=>window.removeEventListener("resize",M)},[]),O.useEffect(()=>{const M=document.querySelector('input[type="email"]'),re=document.querySelector('input[type="password"]');M&&M.addEventListener("invalid",de=>{de.preventDefault(),M.validity.valueMissing?d("E-posta adresi gerekli"):M.validity.typeMismatch&&d("Geerli bir e-posta adresi girin")}),re&&re.addEventListener("invalid",de=>{de.preventDefault(),re.validity.valueMissing&&h("ifre gerekli")})},[]);const U=async M=>{M.preventDefault(),o(""),d(""),h(""),x(!0);const re=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(!t){d("E-posta adresi gerekli"),N(),x(!1);return}if(!re.test(t)){d("Geerli bir e-posta adresi girin"),x(!1);return}if(!n){h("ifre gerekli"),N(),x(!1);return}const de=await E(t,n);if(de.success)T(de.business?.name),D("/admin/dashboard");else{let oe=de.error||"Giri baarsz";oe.toLowerCase().includes("invalid login credentials")||oe.toLowerCase().includes("invalid credentials")?oe="Geersiz e-posta veya ifre":oe.toLowerCase().includes("email not confirmed")?oe="E-posta adresi dorulanmam":oe.toLowerCase().includes("too many requests")&&(oe="ok fazla deneme yapld. Ltfen daha sonra tekrar deneyin"),o(oe),k(oe)}x(!1)};return w.jsxs("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#000000",padding:S?"1rem":"2rem",position:"relative",overflow:"hidden"},children:[w.jsx("div",{style:{position:"absolute",top:0,right:0,width:"60%",height:"100%",background:"linear-gradient(180deg, #6b21a8 0%, #a855f7 30%, #ec4899 60%, #ef4444 100%)",opacity:.8,filter:"blur(80px)",transform:"translate(20%, -10%)",animation:"pulseGlow 8s ease-in-out infinite"}}),w.jsx("div",{style:{position:"absolute",top:"-20%",left:"-10%",width:"40%",height:"40%",background:"radial-gradient(circle, rgba(34, 197, 94, 0.3) 0%, transparent 70%)",borderRadius:"50%",filter:"blur(60px)",animation:"floatGlow 12s ease-in-out infinite"}}),w.jsx("div",{style:{position:"absolute",top:"30%",left:"20%",width:"30%",height:"30%",background:"radial-gradient(circle, rgba(168, 85, 247, 0.4) 0%, transparent 70%)",borderRadius:"50%",filter:"blur(50px)",animation:"floatGlow 10s ease-in-out infinite reverse"}}),w.jsx("div",{style:{position:"absolute",bottom:"-15%",right:"10%",width:"35%",height:"35%",background:"radial-gradient(circle, rgba(239, 68, 68, 0.35) 0%, transparent 70%)",borderRadius:"50%",filter:"blur(70px)",animation:"floatGlow 14s ease-in-out infinite"}}),w.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"radial-gradient(ellipse at top left, rgba(139, 92, 246, 0.15) 0%, transparent 50%)",pointerEvents:"none"}}),w.jsx("style",{children:`
        @keyframes pulseGlow {
          0%, 100% {
            opacity: 0.8;
            transform: translate(20%, -10%) scale(1);
          }
          50% {
            opacity: 1;
            transform: translate(25%, -15%) scale(1.1);
          }
        }
        @keyframes floatGlow {
          0%, 100% {
            transform: translate(0, 0) scale(1);
            opacity: 0.6;
          }
          50% {
            transform: translate(20px, -20px) scale(1.2);
            opacity: 0.9;
          }
        }
        @keyframes fadeInUp {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        .dark-input::placeholder {
          color: rgba(203, 213, 225, 0.5);
        }
        .dark-input:-webkit-autofill,
        .dark-input:-webkit-autofill:hover,
        .dark-input:-webkit-autofill:focus {
          -webkit-text-fill-color: #ffffff;
          -webkit-box-shadow: 0 0 0px 1000px rgba(30, 41, 59, 0.6) inset;
          transition: background-color 5000s ease-in-out 0s;
        }
      `}),w.jsxs("div",{style:{background:"rgba(15, 23, 42, 0.85)",backdropFilter:"blur(20px)",borderRadius:S?"20px":"28px",padding:S?"2rem":"3rem",width:"100%",maxWidth:S?"100%":"480px",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(139, 92, 246, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.1)",animation:"fadeInUp 0.6s ease-out",position:"relative",zIndex:1,border:"1px solid rgba(139, 92, 246, 0.3)"},children:[w.jsxs("div",{style:{textAlign:"center",marginBottom:S?"2rem":"2.5rem"},children:[w.jsx("h1",{style:{margin:0,color:"#ffffff",fontSize:S?"1.75rem":"2.25rem",fontWeight:"700",letterSpacing:"-0.02em",textShadow:"0 2px 10px rgba(139, 92, 246, 0.3)"},children:"Admin Paneli"}),w.jsx("p",{style:{color:"#cbd5e1",marginTop:"0.75rem",fontSize:S?"0.9375rem":"1.0625rem",fontWeight:"400"},children:"letme ynetim paneline ho geldiniz"})]}),w.jsxs("form",{onSubmit:U,noValidate:!0,children:[w.jsxs("div",{style:{marginBottom:"1.5rem"},children:[w.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#e2e8f0",fontSize:"0.9375rem"},children:["E-posta Adresi",w.jsx("span",{style:{color:"#ef4444",marginLeft:"0.25rem"},children:" *"})]}),w.jsx("input",{type:"email",value:t,onChange:M=>{e(M.target.value),d(""),o("")},placeholder:"ornek@email.com",required:!0,style:{width:"100%",padding:"0.875rem 1rem",fontSize:"1rem",background:"rgba(30, 41, 59, 0.6)",border:u?"2px solid #ef4444":"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"12px",boxSizing:"border-box",fontFamily:"inherit",color:"#ffffff",transition:"all 0.3s ease",outline:"none"},className:"dark-input",onFocus:M=>{M.target.style.borderColor="#a855f7",M.target.style.boxShadow="0 0 0 3px rgba(168, 85, 247, 0.1)"},onBlur:M=>{M.target.style.borderColor=u?"#ef4444":"rgba(139, 92, 246, 0.3)",M.target.style.boxShadow="none"}}),u&&w.jsx("p",{style:{color:"#fca5a5",fontSize:"0.875rem",margin:"0.5rem 0 0 0"},children:u})]}),w.jsxs("div",{style:{marginBottom:"1.5rem"},children:[w.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#e2e8f0",fontSize:"0.9375rem"},children:["ifre",w.jsx("span",{style:{color:"#ef4444",marginLeft:"0.25rem"},children:" *"})]}),w.jsx("input",{type:"password",value:n,onChange:M=>{a(M.target.value),h(""),o("")},placeholder:"",required:!0,style:{width:"100%",padding:"0.875rem 1rem",fontSize:"1rem",background:"rgba(30, 41, 59, 0.6)",border:f?"2px solid #ef4444":"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"12px",boxSizing:"border-box",fontFamily:"inherit",color:"#ffffff",transition:"all 0.3s ease",outline:"none"},className:"dark-input",onFocus:M=>{M.target.style.borderColor="#a855f7",M.target.style.boxShadow="0 0 0 3px rgba(168, 85, 247, 0.1)"},onBlur:M=>{M.target.style.borderColor=f?"#ef4444":"rgba(139, 92, 246, 0.3)",M.target.style.boxShadow="none"}}),f&&w.jsx("p",{style:{color:"#fca5a5",fontSize:"0.875rem",margin:"0.5rem 0 0 0"},children:f})]}),s&&!u&&!f&&w.jsxs("div",{style:{padding:S?"0.875rem":"1rem",background:"rgba(239, 68, 68, 0.15)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"12px",color:"#fca5a5",marginBottom:"1.25rem",fontSize:S?"0.875rem":"0.9375rem",fontWeight:"500",display:"flex",alignItems:"center",gap:"0.5rem",boxShadow:"0 2px 8px rgba(239, 68, 68, 0.2)",backdropFilter:"blur(10px)"},children:[w.jsx("span",{children:""}),w.jsx("span",{children:s})]}),w.jsx("button",{type:"submit",disabled:g,style:{width:"100%",marginTop:"0.5rem",padding:S?"0.875rem 1.5rem":"1rem 2rem",fontSize:S?"1rem":"1.0625rem",fontWeight:"600",background:g?"rgba(148, 163, 184, 0.2)":"linear-gradient(135deg, #6366f1 0%, #8b5cf6 50%, #a855f7 100%)",border:"none",boxShadow:g?"none":"0 10px 30px rgba(99, 102, 241, 0.4), 0 0 20px rgba(139, 92, 246, 0.3)",transition:"all 0.3s ease",cursor:g?"not-allowed":"pointer",color:"#ffffff",position:"relative",overflow:"hidden",borderRadius:"12px",fontFamily:"inherit",outline:"none"},onMouseEnter:M=>{g||(M.target.style.background="linear-gradient(135deg, #7c3aed 0%, #9333ea 50%, #a855f7 100%)",M.target.style.boxShadow="0 15px 40px rgba(99, 102, 241, 0.5), 0 0 30px rgba(139, 92, 246, 0.4)",M.target.style.transform="translateY(-2px)")},onMouseLeave:M=>{g||(M.target.style.background="linear-gradient(135deg, #6366f1 0%, #8b5cf6 50%, #a855f7 100%)",M.target.style.boxShadow="0 10px 30px rgba(99, 102, 241, 0.4), 0 0 20px rgba(139, 92, 246, 0.3)",M.target.style.transform="translateY(0)")},onMouseDown:M=>{g||(M.target.style.transform="translateY(0)")},children:g?"Giri yaplyor...":"Giri Yap"})]}),w.jsx("div",{style:{marginTop:S?"2rem":"2.5rem",padding:S?"1.25rem":"1.5rem",background:"rgba(30, 41, 59, 0.6)",backdropFilter:"blur(10px)",borderRadius:"12px",fontSize:S?"0.875rem":"0.9375rem",color:"#cbd5e1",border:"1px solid rgba(139, 92, 246, 0.2)"},children:w.jsxs("p",{style:{margin:0,textAlign:"center",lineHeight:"1.6",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[w.jsx("span",{children:""}),w.jsxs("span",{children:[w.jsx("strong",{children:"Bilgi:"})," Hesap oluturma iin ltfen ynetici ile iletiime gein."]})]})})]})]})}const Ub=O.createContext(null);function F6({children:t}){const[e,n]=O.useState(()=>localStorage.getItem("adminTheme")||"light");O.useEffect(()=>{localStorage.setItem("adminTheme",e),document.body.setAttribute("data-theme",e)},[e]);const o={theme:e,toggleTheme:()=>{n(u=>u==="light"?"dark":"light")},setThemeMode:u=>{n(u)},isDark:e==="dark"};return w.jsx(Ub.Provider,{value:o,children:t})}function qo(){const t=O.useContext(Ub);if(!t)throw new Error("useTheme must be used within ThemeProvider");return t}function Aa({children:t}){const[e,n]=O.useState(()=>{if(typeof window<"u"){const q=localStorage.getItem("sidebarOpen");return q!==null?JSON.parse(q):!0}return!0}),[a,s]=O.useState(!1),[o,u]=O.useState({show:!1,text:"",x:0,y:0,type:""}),{business:d,signOut:f}=Uo(),{notifyLogoutSuccess:h,notifyLogoutError:g,showSuccess:x}=_u(),{theme:S,isDark:y,setThemeMode:E}=qo(),T=Io(),k=Xh();O.useEffect(()=>{const q=window.innerWidth<768;s(q),q&&(n(!1),typeof window<"u"&&localStorage.setItem("sidebarOpen","false"));const ue=()=>{const B=window.innerWidth<768;s(K=>(B&&!K&&(n(!1),typeof window<"u"&&localStorage.setItem("sidebarOpen","false")),B))};return window.addEventListener("resize",ue),()=>window.removeEventListener("resize",ue)},[]),O.useEffect(()=>{const q="custom-sidebar-scrollbar";let ue=document.getElementById(q);ue||(ue=document.createElement("style"),ue.id=q,document.head.appendChild(ue)),ue.textContent=`
      .custom-sidebar::-webkit-scrollbar {
        width: 6px;
        height: 6px;
      }
      .custom-sidebar::-webkit-scrollbar-track {
        background: ${y?"rgba(15, 23, 42, 0.5)":"rgba(249, 250, 251, 0.5)"};
        border-radius: 3px;
      }
      .custom-sidebar::-webkit-scrollbar-thumb {
        background: ${y?"rgba(139, 92, 246, 0.4)":"rgba(0, 0, 0, 0.2)"};
        border-radius: 3px;
      }
      .custom-sidebar::-webkit-scrollbar-thumb:hover {
        background: ${y?"rgba(139, 92, 246, 0.6)":"rgba(0, 0, 0, 0.3)"};
      }
    `},[y]);const N=async()=>{const q=await f();q.success?(h(),k("/admin")):g(q.error)},D=()=>{const q=!e;n(q),typeof window<"u"&&localStorage.setItem("sidebarOpen",JSON.stringify(q))};O.useEffect(()=>{typeof window<"u"&&localStorage.setItem("sidebarOpen",JSON.stringify(e))},[e]);const U=[{path:"/admin/dashboard",label:"Dashboard",icon:"dashboard"},{path:"/admin/orders",label:"Sipariler",icon:"orders"},{path:"/admin/payments",label:"demeler",icon:"payments"},{path:"/admin/products",label:"rnler",icon:"products"},{path:"/admin/categories",label:"Kategoriler",icon:"categories"},{path:"/admin/settings",label:"Ayarlar",icon:"settings"}],M=(q,ue)=>{const B=e?"20":"22",K=y?"#f1f5f9":"#ffffff",le=re(ue)?"#ffffff":K;switch(q){case"dashboard":return w.jsxs("svg",{width:B,height:B,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[w.jsx("rect",{x:"3",y:"3",width:"7",height:"7",rx:"1",stroke:le,strokeWidth:"2",fill:"none"}),w.jsx("rect",{x:"14",y:"3",width:"7",height:"7",rx:"1",stroke:le,strokeWidth:"2",fill:"none"}),w.jsx("rect",{x:"3",y:"14",width:"7",height:"7",rx:"1",stroke:le,strokeWidth:"2",fill:"none"}),w.jsx("rect",{x:"14",y:"14",width:"7",height:"7",rx:"1",stroke:le,strokeWidth:"2",fill:"none"})]});case"orders":return w.jsxs("svg",{width:parseInt(B)+4,height:parseInt(B)+4,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[w.jsx("path",{d:"M32.749 46.92c8.648 0 15.674-6.633 15.973-14.92c-.299-8.287-7.325-14.92-15.973-14.92c-8.647 0-15.675 6.633-15.97 14.92c.294 8.287 7.322 14.92 15.97 14.92",fill:le,fillOpacity:"1"}),w.jsx("path",{d:"M32.75 10c-12.15 0-22.001 9.85-22.001 22c0 12.149 9.852 22 22.001 22c12.149 0 22-9.851 22-22c0-12.15-9.851-22-22-22m-.001 38c-8.837 0-16.001-6.921-16.001-15.461c0-.182.025-.359.031-.539c-.006-.18-.031-.358-.031-.539c0-8.54 7.165-15.461 16.001-15.461c8.837 0 16 6.921 16 15.461c0 .181-.021.359-.026.539c.006.18.026.357.026.539c-.001 8.54-7.163 15.461-16 15.461",fill:le,fillOpacity:y?"0.85":"0.8"}),w.jsx("path",{d:"M3.481 7.421c.24-.941.715-.011.715-.011s.166 9.74 1.246 9.846c1.08.106.248-10.022 1.526-10.216c1.188-.189.51 10.377 1.592 10.27c1.078-.114 1.26-9.85 1.26-9.85s.48-.929.717.005c2.928 11.51.559 16.215.559 16.215s-.4.989-1.35.994c-.089-.005-.022 27.336-.028 31.012c.002 1.787-5.5 1.732-5.497-.047c.004-3.676.111-31.014.025-31.012c-.953 0-1.352-.988-1.352-.988s-2.36-4.702.587-16.218",fill:le,fillOpacity:"1"}),w.jsx("path",{d:"M55.62 7c1.238-.003 6.374 3.7 6.38 17.462c.006 4.401-2.395 4.4-2.391 7.153c.004 2.748.019 24.606.019 24.606s-2.634 1.807-4.592-.084L55 7.391c.002.001-.005-.392.62-.391",fill:le,fillOpacity:"1"})]});case"payments":return w.jsxs("svg",{width:B,height:B,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[w.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2",stroke:le,strokeWidth:"2",fill:"none"}),w.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10",stroke:le,strokeWidth:"2"})]});case"products":return w.jsxs("svg",{width:B,height:B,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[w.jsx("path",{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z",stroke:le,strokeWidth:"2",fill:"none"}),w.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6",stroke:le,strokeWidth:"2"}),w.jsx("path",{d:"M16 10a4 4 0 0 1-8 0",stroke:le,strokeWidth:"2",fill:"none"})]});case"categories":return w.jsx("svg",{width:B,height:B,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:w.jsx("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z",stroke:le,strokeWidth:"2",fill:"none"})});case"settings":return w.jsx("svg",{width:B,height:B,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:w.jsxs("g",{stroke:le,strokeWidth:"2.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[w.jsx("circle",{cx:"12",cy:"12",r:"7.5"}),w.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"4.5"}),w.jsx("line",{x1:"12",y1:"19.5",x2:"12",y2:"23"}),w.jsx("line",{x1:"1",y1:"12",x2:"4.5",y2:"12"}),w.jsx("line",{x1:"19.5",y1:"12",x2:"23",y2:"12"}),w.jsx("line",{x1:"4.5",y1:"4.5",x2:"6.3",y2:"6.3"}),w.jsx("line",{x1:"17.7",y1:"17.7",x2:"19.5",y2:"19.5"}),w.jsx("line",{x1:"4.5",y1:"19.5",x2:"6.3",y2:"17.7"}),w.jsx("line",{x1:"17.7",y1:"6.3",x2:"19.5",y2:"4.5"})]})});default:return null}},re=q=>T.pathname===q,de=()=>{a&&n(!1)},oe=a?0:90,Q=y?{background:"#000000",position:"relative",overflow:"hidden"}:{};return w.jsxs("div",{style:{display:"flex",minHeight:"100vh",background:y?"#000000":"#f5f5f5",position:"relative",...Q},children:[y&&w.jsxs(w.Fragment,{children:[w.jsx("div",{style:{position:"fixed",top:0,right:0,width:"60%",height:"100%",background:"linear-gradient(180deg, #6b21a8 0%, #a855f7 30%, #ec4899 60%, #ef4444 100%)",opacity:.6,filter:"blur(80px)",transform:"translate(20%, -10%)",animation:"pulseGlow 8s ease-in-out infinite",pointerEvents:"none",zIndex:0}}),w.jsx("div",{style:{position:"fixed",top:"-20%",left:"-10%",width:"40%",height:"40%",background:"radial-gradient(circle, rgba(34, 197, 94, 0.2) 0%, transparent 70%)",borderRadius:"50%",filter:"blur(60px)",animation:"floatGlow 12s ease-in-out infinite",pointerEvents:"none",zIndex:0}}),w.jsx("div",{style:{position:"fixed",top:"30%",left:"20%",width:"30%",height:"30%",background:"radial-gradient(circle, rgba(168, 85, 247, 0.3) 0%, transparent 70%)",borderRadius:"50%",filter:"blur(50px)",animation:"floatGlow 10s ease-in-out infinite reverse",pointerEvents:"none",zIndex:0}}),w.jsx("div",{style:{position:"fixed",bottom:"-15%",right:"10%",width:"35%",height:"35%",background:"radial-gradient(circle, rgba(239, 68, 68, 0.25) 0%, transparent 70%)",borderRadius:"50%",filter:"blur(70px)",animation:"floatGlow 14s ease-in-out infinite",pointerEvents:"none",zIndex:0}}),w.jsx("style",{children:`
            @keyframes pulseGlow {
              0%, 100% {
                opacity: 0.6;
                transform: translate(20%, -10%) scale(1);
              }
              50% {
                opacity: 0.8;
                transform: translate(25%, -15%) scale(1.1);
              }
            }
            @keyframes floatGlow {
              0%, 100% {
                transform: translate(0, 0) scale(1);
                opacity: 0.5;
              }
              50% {
                transform: translate(20px, -20px) scale(1.2);
                opacity: 0.8;
              }
            }
          `})]}),a&&w.jsx("button",{onClick:D,style:{position:"fixed",top:"1rem",left:"1rem",zIndex:1001,background:y?"rgba(15, 23, 42, 0.95)":"rgba(30, 41, 59, 0.95)",color:"#ffffff",border:y?"1px solid rgba(139, 92, 246, 0.3)":"1px solid rgba(255, 255, 255, 0.4)",borderRadius:"12px",padding:"0.75rem",cursor:"pointer",fontSize:"1.5rem",boxShadow:y?"0 4px 12px rgba(0, 0, 0, 0.3), 0 0 0 1px rgba(139, 92, 246, 0.2)":"0 4px 12px rgba(0, 0, 0, 0.2), 0 0 0 1px rgba(255, 255, 255, 0.3)",transition:"all 0.3s ease",display:"flex",alignItems:"center",justifyContent:"center",width:"48px",height:"48px",backdropFilter:"blur(10px)"},onMouseEnter:q=>{q.currentTarget.style.background=y?"rgba(30, 41, 59, 0.95)":"rgba(30, 41, 59, 1)",q.currentTarget.style.transform="scale(1.05)"},onMouseLeave:q=>{q.currentTarget.style.background=y?"rgba(15, 23, 42, 0.95)":"rgba(30, 41, 59, 0.95)",q.currentTarget.style.transform="scale(1)"},children:e?w.jsx("span",{style:{display:"block",width:"20px",height:"2px",background:"currentColor",transform:"rotate(45deg)",position:"relative",transition:"all 0.3s ease"},children:w.jsx("span",{style:{position:"absolute",width:"20px",height:"2px",background:"currentColor",transform:"rotate(-90deg)",top:0,left:0}})}):w.jsxs("span",{style:{display:"flex",flexDirection:"column",gap:"4px",width:"20px"},children:[w.jsx("span",{style:{display:"block",width:"100%",height:"2px",background:"currentColor",borderRadius:"2px",transition:"all 0.3s ease"}}),w.jsx("span",{style:{display:"block",width:"100%",height:"2px",background:"currentColor",borderRadius:"2px",transition:"all 0.3s ease"}}),w.jsx("span",{style:{display:"block",width:"100%",height:"2px",background:"currentColor",borderRadius:"2px",transition:"all 0.3s ease"}})]})}),a&&e&&w.jsx("div",{onClick:de,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",zIndex:999,transition:"opacity 0.3s"}}),w.jsxs("aside",{className:"custom-sidebar",style:{width:a||e?"280px":oe,background:y?"rgba(15, 23, 42, 0.98)":"rgba(30, 41, 59, 0.98)",color:y?"#ffffff":"#1e293b",transition:a?"transform 0.3s":"width 0.3s, transform 0.3s",display:"flex",flexDirection:"column",position:"fixed",height:"100vh",overflowY:"auto",overflowX:"auto",zIndex:1e3,transform:a&&!e?"translateX(-100%)":"translateX(0)",boxShadow:y?"4px 0 20px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(139, 92, 246, 0.4), inset -1px 0 0 rgba(139, 92, 246, 0.2)":"4px 0 16px rgba(0, 0, 0, 0.15), 0 0 0 1px rgba(0, 0, 0, 0.08), inset -1px 0 0 rgba(0, 0, 0, 0.05)",borderRight:y?"2px solid rgba(139, 92, 246, 0.4)":"2px solid rgba(0, 0, 0, 0.12)",backdropFilter:"blur(20px)"},children:[!a&&!e&&w.jsx("div",{style:{padding:"1rem",borderBottom:y?"1px solid rgba(139, 92, 246, 0.3)":"1px solid rgba(255, 255, 255, 0.1)",display:"flex",alignItems:"center",justifyContent:"center",background:y?"rgba(30, 41, 59, 0.5)":"rgba(15, 23, 42, 0.3)"},children:w.jsx("button",{onClick:D,style:{background:y?"rgba(30, 41, 59, 0.8)":"rgba(15, 23, 42, 0.6)",border:y?"1px solid rgba(139, 92, 246, 0.3)":"1px solid rgba(255, 255, 255, 0.2)",color:"#ffffff",cursor:"pointer",fontSize:"0.875rem",padding:"0.5rem",borderRadius:"8px",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",width:"36px",height:"36px",boxShadow:y?"0 2px 6px rgba(0, 0, 0, 0.3)":"0 1px 3px rgba(0, 0, 0, 0.1)"},onMouseEnter:q=>{q.currentTarget.style.background=y?"rgba(30, 41, 59, 1)":"rgba(15, 23, 42, 0.8)",q.currentTarget.style.transform="scale(1.1)"},onMouseLeave:q=>{q.currentTarget.style.background=y?"rgba(30, 41, 59, 0.8)":"rgba(15, 23, 42, 0.6)",q.currentTarget.style.transform="scale(1)"},children:""})}),w.jsxs("div",{style:{padding:a?"1.25rem 1rem":e?"1.5rem":"1rem",borderBottom:y?"1px solid rgba(139, 92, 246, 0.3)":"1px solid rgba(255, 255, 255, 0.1)",display:"flex",flexDirection:e?"row":"column",alignItems:e?"flex-start":"center",justifyContent:e?"space-between":"center",gap:"0.75rem",background:y?"rgba(30, 41, 59, 0.5)":"rgba(15, 23, 42, 0.3)",position:"relative"},children:[e?w.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.75rem",flex:1,minWidth:0,marginRight:"auto",paddingRight:a?"3.5rem":"4rem"},children:[d?.logo_url&&w.jsx("div",{style:{width:"64px",height:"64px",minWidth:"64px",minHeight:"64px",maxWidth:"64px",maxHeight:"64px",borderRadius:"12px",overflow:"hidden",background:y?"rgba(30, 41, 59, 0.8)":"rgba(15, 23, 42, 0.5)",padding:"4px",boxShadow:y?"0 4px 12px rgba(0, 0, 0, 0.3), 0 0 0 1px rgba(139, 92, 246, 0.2)":"0 2px 8px rgba(0, 0, 0, 0.1)",display:"flex",alignItems:"center",justifyContent:"center",border:y?"1px solid rgba(139, 92, 246, 0.3)":"1px solid rgba(0, 0, 0, 0.05)"},children:w.jsx("img",{src:d.logo_url,alt:d.name||"Logo",style:{width:"100%",height:"100%",objectFit:"contain",display:"block"}})}),w.jsx("h2",{style:{margin:0,fontSize:a?"1rem":"1.125rem",fontWeight:"700",whiteSpace:"normal",overflow:"hidden",textOverflow:"ellipsis",letterSpacing:"-0.025em",textAlign:"center",wordBreak:"break-word",lineHeight:"1.3",maxHeight:"2.6em",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",color:"#ffffff",textShadow:y?"0 2px 4px rgba(0, 0, 0, 0.2)":"0 2px 4px rgba(0, 0, 0, 0.3)"},children:d?.name||"QR Menu"})]}):!a&&d?.logo_url&&w.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",padding:"0.15rem 0.5rem"},children:w.jsx("div",{style:{width:"70px",height:"70px",borderRadius:"12px",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center"},children:w.jsx("img",{src:d.logo_url,alt:d.name||"Logo",style:{width:"100%",height:"100%",objectFit:"contain",display:"block"}})})}),e&&w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",flexShrink:0,position:"absolute",top:a?"1.25rem":"1.5rem",right:a?"1rem":"1.5rem"},children:[w.jsx("div",{onClick:()=>{E(S==="dark"?"light":"dark"),x("Tema deitirildi",S==="dark"?"Ak tema aktif":"Koyu tema aktif")},style:{cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.3s ease",padding:"6px",borderRadius:"50%",background:S==="dark"?"rgba(167, 139, 250, 0.15)":"rgba(245, 158, 11, 0.15)",border:S==="dark"?"1px solid rgba(167, 139, 250, 0.3)":"1px solid rgba(245, 158, 11, 0.3)"},onMouseEnter:q=>{q.currentTarget.style.transform="scale(1.1)",q.currentTarget.style.opacity="0.8",q.currentTarget.style.background=S==="dark"?"rgba(167, 139, 250, 0.25)":"rgba(245, 158, 11, 0.25)"},onMouseLeave:q=>{q.currentTarget.style.transform="scale(1)",q.currentTarget.style.opacity="1",q.currentTarget.style.background=S==="dark"?"rgba(167, 139, 250, 0.15)":"rgba(245, 158, 11, 0.15)"},children:S==="dark"?w.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:w.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z",stroke:"#a78bfa",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"#a78bfa"})}):w.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[w.jsx("circle",{cx:"12",cy:"12",r:"5",stroke:"#f59e0b",strokeWidth:"2.5",fill:"#f59e0b"}),w.jsx("path",{d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42",stroke:"#f59e0b",strokeWidth:"2.5",strokeLinecap:"round"})]})}),!a&&w.jsx("button",{onClick:D,style:{background:y?"rgba(30, 41, 59, 0.6)":"rgba(15, 23, 42, 0.5)",border:y?"1px solid rgba(139, 92, 246, 0.3)":"1px solid rgba(255, 255, 255, 0.2)",color:"#ffffff",cursor:"pointer",fontSize:"1rem",padding:"0.5rem",borderRadius:"8px",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",width:"32px",height:"32px"},onMouseEnter:q=>{q.currentTarget.style.background=y?"rgba(30, 41, 59, 0.9)":"rgba(15, 23, 42, 0.7)",q.currentTarget.style.transform="scale(1.1)"},onMouseLeave:q=>{q.currentTarget.style.background=y?"rgba(30, 41, 59, 0.6)":"rgba(15, 23, 42, 0.5)",q.currentTarget.style.transform="scale(1)"},children:""})]}),!a&&!e&&w.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",padding:"0.05rem 0"},children:w.jsx("div",{onClick:()=>{E(S==="dark"?"light":"dark"),x("Tema deitirildi",S==="dark"?"Ak tema aktif":"Koyu tema aktif")},style:{cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.3s ease",padding:"6px",borderRadius:"50%",background:S==="dark"?"rgba(167, 139, 250, 0.15)":"rgba(245, 158, 11, 0.15)",border:S==="dark"?"1px solid rgba(167, 139, 250, 0.3)":"1px solid rgba(245, 158, 11, 0.3)",position:"relative"},onMouseEnter:q=>{q.currentTarget.style.transform="scale(1.1)",q.currentTarget.style.opacity="0.8",q.currentTarget.style.background=S==="dark"?"rgba(167, 139, 250, 0.25)":"rgba(245, 158, 11, 0.25)";const ue=q.currentTarget.getBoundingClientRect();u({show:!0,text:S==="dark"?"Koyu Tema":"Ak Tema",x:90,y:ue.top+ue.height/2,type:"theme"})},onMouseLeave:q=>{q.currentTarget.style.transform="scale(1)",q.currentTarget.style.opacity="1",q.currentTarget.style.background=S==="dark"?"rgba(167, 139, 250, 0.15)":"rgba(245, 158, 11, 0.15)",u({show:!1,text:"",x:0,y:0,type:""})},children:S==="dark"?w.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:w.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z",stroke:"#a78bfa",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"#a78bfa"})}):w.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[w.jsx("circle",{cx:"12",cy:"12",r:"5",stroke:"#f59e0b",strokeWidth:"2.5",fill:"#f59e0b"}),w.jsx("path",{d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42",stroke:"#f59e0b",strokeWidth:"2.5",strokeLinecap:"round"})]})})})]}),w.jsx("nav",{style:{flex:1,padding:a?"1rem 0":"1.25rem 0"},children:U.map(q=>w.jsxs(Z1,{to:q.path,onClick:()=>{a&&n(!1)},style:{display:"flex",alignItems:"center",justifyContent:e?"flex-start":"center",padding:e?a?"1rem 1.5rem":"0.875rem 1.5rem":a?"1rem":"0.875rem",color:re(q.path)?"#ffffff":y?"#f1f5f9":"#ffffff",background:re(q.path)?y?"linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%)":"#3b82f6":"transparent",textDecoration:"none",transition:"all 0.2s",margin:e?"0.25rem 0.75rem":"0.25rem 0.5rem",borderRadius:"10px",fontSize:a?"1rem":"0.96875rem",fontWeight:re(q.path)?"600":"400",boxShadow:re(q.path)&&y?"0 4px 12px rgba(99, 102, 241, 0.3)":re(q.path)?"0 2px 8px rgba(59, 130, 246, 0.2)":"none",position:"relative"},onMouseEnter:ue=>{if(!re(q.path)&&!a&&(ue.currentTarget.style.background=y?"rgba(30, 41, 59, 0.6)":"rgba(255, 255, 255, 0.1)",ue.currentTarget.style.color="#ffffff"),!e&&!a){const B=ue.currentTarget.getBoundingClientRect();u({show:!0,text:q.label,x:90,y:B.top+B.height/2,type:"menu"})}},onMouseLeave:ue=>{!re(q.path)&&!a&&(ue.currentTarget.style.background="transparent",ue.currentTarget.style.color=y?"#f1f5f9":"#ffffff"),!e&&!a&&u({show:!1,text:"",x:0,y:0,type:""})},children:[w.jsx("span",{style:{marginRight:e?"0.875rem":0,minWidth:e?"20px":"22px",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:M(q.icon,q.path)}),e&&w.jsx("span",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:q.label})]},q.path))}),w.jsx("div",{style:{padding:a?"1rem":"1.25rem",borderTop:y?"1px solid rgba(139, 92, 246, 0.3)":"1px solid rgba(0, 0, 0, 0.1)",background:y?"rgba(30, 41, 59, 0.5)":"rgba(15, 23, 42, 0.3)"},children:w.jsx(Zr,{onClick:N,variant:"danger",style:{width:"100%",background:y?"linear-gradient(135deg, #dc2626 0%, #b91c1c 100%)":"#dc2626",padding:e?a?"1rem":"0.875rem":a?"1rem":"0.75rem",fontSize:a?"1rem":"0.96875rem",fontWeight:"600",borderRadius:"10px",boxShadow:y?"0 4px 12px rgba(220, 38, 38, 0.3)":"0 2px 8px rgba(220, 38, 38, 0.2)",border:y?"1px solid rgba(220, 38, 38, 0.3)":"none",transition:"all 0.3s ease",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},onMouseEnter:q=>{if(q.currentTarget.style.transform="translateY(-1px)",q.currentTarget.style.boxShadow=y?"0 6px 16px rgba(220, 38, 38, 0.4)":"0 4px 12px rgba(220, 38, 38, 0.3)",!e&&!a){const ue=q.currentTarget.getBoundingClientRect();u({show:!0,text:"k Yap",x:90,y:ue.top+ue.height/2,type:"logout"})}},onMouseLeave:q=>{q.currentTarget.style.transform="translateY(0)",q.currentTarget.style.boxShadow=y?"0 4px 12px rgba(220, 38, 38, 0.3)":"0 2px 8px rgba(220, 38, 38, 0.2)",!e&&!a&&u({show:!1,text:"",x:0,y:0,type:""})},children:e?w.jsxs(w.Fragment,{children:[w.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:"0.5rem"},children:[w.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),w.jsx("polyline",{points:"16 17 21 12 16 7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),w.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]}),"k Yap"]}):w.jsx(w.Fragment,{children:w.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[w.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),w.jsx("polyline",{points:"16 17 21 12 16 7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),w.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]})})})})]}),w.jsx("main",{style:{marginLeft:a?0:e?"280px":"90px",flex:1,transition:"margin-left 0.3s",paddingTop:a?"4rem":"2.5rem",paddingRight:a?"1rem":"3rem",paddingBottom:a?"1rem":"2.5rem",paddingLeft:a?"1rem":"3rem",width:a?"100%":`calc(100% - ${e?"280px":"90px"})`,maxWidth:a?"100%":"1400px",position:"relative",zIndex:1},children:t}),o.show&&Nc.createPortal(w.jsx("div",{style:{position:"fixed",left:`${o.x}px`,top:`${o.y}px`,padding:"0.5rem 0.75rem",background:y?"rgba(15, 23, 42, 0.95)":"rgba(255, 255, 255, 0.95)",color:y?"#ffffff":"#1e293b",borderRadius:"8px",fontSize:"0.875rem",whiteSpace:"nowrap",boxShadow:y?"0 4px 12px rgba(0, 0, 0, 0.4)":"0 2px 8px rgba(0, 0, 0, 0.15)",border:o.type==="logout"?y?"1px solid rgba(220, 38, 38, 0.3)":"1px solid rgba(0, 0, 0, 0.1)":y?"1px solid rgba(139, 92, 246, 0.3)":"1px solid rgba(0, 0, 0, 0.1)",pointerEvents:"none",transform:"translate(-50%, -50%)",transition:"opacity 0.2s, transform 0.2s",zIndex:10001,marginLeft:"0.75rem"},children:o.text}),document.body)]})}function H6(){const{business:t}=Uo(),{isDark:e}=qo(),{products:n,loading:a}=ag(t?.id),{categories:s,loading:o}=ig(t?.id),[u,d]=O.useState(!1),[f,h]=O.useState({totalProducts:0,activeProducts:0,totalCategories:0,totalViews:0});if(O.useEffect(()=>{const S=()=>{d(window.innerWidth<768)};return S(),window.addEventListener("resize",S),()=>window.removeEventListener("resize",S)},[]),O.useEffect(()=>{n&&s&&h({totalProducts:n.length,activeProducts:n.filter(S=>S.is_active).length,totalCategories:s.length,totalViews:0})},[n,s]),a||o)return w.jsx(Aa,{children:w.jsx($a,{message:"Ykleniyor..."})});const g=t?.id?`${window.location.origin}`:"",x=()=>{g&&(navigator.clipboard.writeText(g),alert(" Link kopyaland!"))};return w.jsx(Aa,{children:w.jsxs("div",{children:[w.jsxs("h1",{style:{margin:0,marginBottom:u?"1.5rem":"2rem",fontSize:u?"1.5rem":"2rem",color:e?"#ffffff":"#1e293b",display:"flex",alignItems:"center",gap:"0.75rem"},children:[w.jsxs("svg",{width:u?"24":"28",height:u?"24":"28",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[w.jsx("rect",{x:"3",y:"3",width:"7",height:"7",rx:"1",stroke:e?"#ffffff":"#1e293b",strokeWidth:"2",fill:"none"}),w.jsx("rect",{x:"14",y:"3",width:"7",height:"7",rx:"1",stroke:e?"#ffffff":"#1e293b",strokeWidth:"2",fill:"none"}),w.jsx("rect",{x:"3",y:"14",width:"7",height:"7",rx:"1",stroke:e?"#ffffff":"#1e293b",strokeWidth:"2",fill:"none"}),w.jsx("rect",{x:"14",y:"14",width:"7",height:"7",rx:"1",stroke:e?"#ffffff":"#1e293b",strokeWidth:"2",fill:"none"})]}),"Dashboard"]}),w.jsxs("div",{style:{display:"grid",gridTemplateColumns:u?"repeat(2, 1fr)":"repeat(auto-fit, minmax(200px, 1fr))",gap:u?"1rem":"1.5rem",marginBottom:u?"1.5rem":"2rem"},children:[w.jsx(lh,{title:"Toplam rn",value:f.totalProducts,icon:"",color:"#3b82f6",isMobile:u,isDark:e}),w.jsx(lh,{title:"Aktif rn",value:f.activeProducts,icon:"",color:"#10b981",isMobile:u,isDark:e}),w.jsx(lh,{title:"Kategori",value:f.totalCategories,icon:"",color:"#f59e0b",isMobile:u,isDark:e}),w.jsx(lh,{title:"Menu Linki",value:g?"Hazr":"Hazrlanyor",icon:"",color:"#8b5cf6",onClick:g?x:null,isMobile:u,isDark:e})]}),g&&w.jsxs("div",{style:{background:e?"rgba(15, 23, 42, 0.85)":"white",padding:u?"1rem":"1.5rem",borderRadius:"8px",marginBottom:u?"1.5rem":"2rem",boxShadow:e?"0 25px 50px -12px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(139, 92, 246, 0.2)":"0 1px 3px rgba(0,0,0,0.1)",border:e?"1px solid rgba(139, 92, 246, 0.3)":"none"},children:[w.jsx("h3",{style:{margin:"0 0 1rem 0",color:e?"#ffffff":"#1e293b",fontSize:u?"1rem":"1.25rem"},children:" Men Linki"}),w.jsxs("div",{style:{display:"flex",flexDirection:u?"column":"row",gap:"0.75rem",alignItems:u?"stretch":"center"},children:[w.jsx("input",{type:"text",value:g,readOnly:!0,style:{flex:1,padding:u?"0.625rem":"0.75rem",border:e?"1px solid rgba(139, 92, 246, 0.3)":"1px solid #e2e8f0",borderRadius:"6px",fontSize:u?"0.875rem":"0.9375rem",fontFamily:"monospace",wordBreak:"break-all",background:e?"rgba(30, 41, 59, 0.6)":"white",color:e?"#ffffff":"#1e293b"}}),w.jsxs("button",{onClick:x,style:{padding:u?"0.625rem 1rem":"0.75rem 1.5rem",background:"#3b82f6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"500",whiteSpace:"nowrap"},children:[" ","Kopyala"]})]}),w.jsx("p",{style:{margin:"0.75rem 0 0 0",color:e?"#cbd5e1":"#64748b",fontSize:u?"0.75rem":"0.875rem"},children:"Bu linki QR kod olarak basabilirsiniz"})]}),w.jsxs("div",{style:{background:e?"rgba(15, 23, 42, 0.85)":"white",padding:u?"1rem":"1.5rem",borderRadius:"8px",boxShadow:e?"0 25px 50px -12px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(139, 92, 246, 0.2)":"0 1px 3px rgba(0,0,0,0.1)",border:e?"1px solid rgba(139, 92, 246, 0.3)":"none"},children:[w.jsx("h3",{style:{margin:"0 0 1rem 0",color:e?"#ffffff":"#1e293b",fontSize:u?"1rem":"1.25rem"},children:" Hzl Eriim"}),w.jsxs("div",{style:{display:"grid",gridTemplateColumns:u?"1fr":"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[w.jsx(uh,{href:"/admin/orders",label:" Sipariler",icon:"",isMobile:u,isDark:e}),w.jsx(uh,{href:"/admin/products",label:" rn Ekle",icon:"",isMobile:u,isDark:e}),w.jsx(uh,{href:"/admin/categories",label:" Kategori Ekle",icon:"",isMobile:u,isDark:e}),w.jsx(uh,{href:"/admin/settings",label:" Ayarlar",icon:"",isMobile:u,isDark:e})]})]})]})})}function lh({title:t,value:e,icon:n,color:a,onClick:s,isMobile:o,isDark:u}){return w.jsx("div",{onClick:s,style:{background:u?"rgba(15, 23, 42, 0.85)":"white",padding:o?"1rem":"1.5rem",borderRadius:"8px",boxShadow:u?"0 25px 50px -12px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(139, 92, 246, 0.2)":"0 1px 3px rgba(0,0,0,0.1)",cursor:s?"pointer":"default",transition:"transform 0.2s",border:u?"1px solid rgba(139, 92, 246, 0.3)":"none"},onMouseEnter:d=>{s&&!o&&(d.currentTarget.style.transform="translateY(-2px)")},onMouseLeave:d=>{d.currentTarget.style.transform="translateY(0)"},children:w.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",flexDirection:o?"column":"row",gap:o?"0.5rem":0},children:[w.jsxs("div",{style:{flex:1,textAlign:o?"center":"left"},children:[w.jsx("p",{style:{margin:0,color:u?"#cbd5e1":"#64748b",fontSize:o?"0.75rem":"0.875rem"},children:t}),w.jsx("p",{style:{margin:"0.5rem 0 0 0",fontSize:o?"1.5rem":"2rem",fontWeight:"bold",color:u?"#ffffff":"#1e293b"},children:e})]}),w.jsx("div",{style:{fontSize:o?"2rem":"2.5rem",opacity:.8},children:n})]})})}function uh({href:t,label:e,icon:n,isMobile:a,isDark:s}){return w.jsxs("a",{href:t,style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:a?"0.875rem":"1rem",background:s?"rgba(30, 41, 59, 0.6)":"#f8fafc",borderRadius:"6px",textDecoration:"none",color:s?"#ffffff":"#1e293b",border:s?"1px solid rgba(139, 92, 246, 0.3)":"1px solid #e2e8f0",transition:"all 0.2s"},onMouseEnter:o=>{a||(o.currentTarget.style.background=s?"rgba(30, 41, 59, 0.8)":"#f1f5f9",o.currentTarget.style.borderColor=s?"rgba(139, 92, 246, 0.5)":"#cbd5e1")},onMouseLeave:o=>{o.currentTarget.style.background=s?"rgba(30, 41, 59, 0.6)":"#f8fafc",o.currentTarget.style.borderColor=s?"rgba(139, 92, 246, 0.3)":"#e2e8f0"},children:[w.jsx("span",{style:{fontSize:a?"1.25rem":"1.5rem"},children:n}),w.jsx("span",{style:{fontWeight:"500",fontSize:a?"0.9375rem":"1rem"},children:e})]})}function yu({label:t,type:e="text",value:n,onChange:a,placeholder:s="",required:o=!1,error:u=null,style:d={}}){const{isDark:f}=qo();return w.jsxs("div",{style:{marginBottom:"1rem",...d},children:[t&&w.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:f?"#cbd5e1":"#333"},children:[t,o&&w.jsx("span",{style:{color:"red"},children:" *"})]}),w.jsx("input",{type:e,value:n,onChange:a,placeholder:s,required:o,style:{width:"100%",padding:"0.75rem",fontSize:"1rem",border:u?"2px solid #dc3545":f?"1px solid rgba(139, 92, 246, 0.3)":"1px solid #ddd",borderRadius:"6px",boxSizing:"border-box",fontFamily:"inherit",background:f?"rgba(30, 41, 59, 0.6)":"white",color:f?"#ffffff":"#1e293b"}}),u&&w.jsx("p",{style:{color:"#dc3545",fontSize:"0.875rem",margin:"0.25rem 0 0 0"},children:u})]})}function $6(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return O.useMemo(()=>a=>{e.forEach(s=>s(a))},e)}const t0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Fc(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function og(t){return"nodeType"in t}function zi(t){var e,n;return t?Fc(t)?t:og(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function lg(t){const{Document:e}=zi(t);return t instanceof e}function rf(t){return Fc(t)?!1:t instanceof zi(t).HTMLElement}function qb(t){return t instanceof zi(t).SVGElement}function Hc(t){return t?Fc(t)?t.document:og(t)?lg(t)?t:rf(t)||qb(t)?t.ownerDocument:document:document:document}const As=t0?O.useLayoutEffect:O.useEffect;function n0(t){const e=O.useRef(t);return As(()=>{e.current=t}),O.useCallback(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e.current==null?void 0:e.current(...a)},[])}function W6(){const t=O.useRef(null),e=O.useCallback((a,s)=>{t.current=setInterval(a,s)},[]),n=O.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function Vd(t,e){e===void 0&&(e=[t]);const n=O.useRef(t);return As(()=>{n.current!==t&&(n.current=t)},e),n}function af(t,e){const n=O.useRef();return O.useMemo(()=>{const a=t(n.current);return n.current=a,a},[...e])}function Mh(t){const e=n0(t),n=O.useRef(null),a=O.useCallback(s=>{s!==n.current&&e?.(s,n.current),n.current=s},[]);return[n,a]}function zh(t){const e=O.useRef();return O.useEffect(()=>{e.current=t},[t]),e.current}let Up={};function sf(t,e){return O.useMemo(()=>{if(e)return e;const n=Up[t]==null?0:Up[t]+1;return Up[t]=n,t+"-"+n},[t,e])}function Fb(t){return function(e){for(var n=arguments.length,a=new Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];return a.reduce((o,u)=>{const d=Object.entries(u);for(const[f,h]of d){const g=o[f];g!=null&&(o[f]=g+t*h)}return o},{...e})}}const Dc=Fb(1),Kd=Fb(-1);function G6(t){return"clientX"in t&&"clientY"in t}function r0(t){if(!t)return!1;const{KeyboardEvent:e}=zi(t.target);return e&&t instanceof e}function Y6(t){if(!t)return!1;const{TouchEvent:e}=zi(t.target);return e&&t instanceof e}function Bh(t){if(Y6(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return G6(t)?{x:t.clientX,y:t.clientY}:null}const vu=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[vu.Translate.toString(t),vu.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:a}=t;return e+" "+n+"ms "+a}}}),v5="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function V6(t){return t.matches(v5)?t:t.querySelector(v5)}const K6={display:"none"};function X6(t){let{id:e,value:n}=t;return fr.createElement("div",{id:e,style:K6},n)}function J6(t){let{id:e,announcement:n,ariaLiveType:a="assertive"}=t;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return fr.createElement("div",{id:e,style:s,role:"status","aria-live":a,"aria-atomic":!0},n)}function Z6(){const[t,e]=O.useState("");return{announce:O.useCallback(a=>{a!=null&&e(a)},[]),announcement:t}}const Hb=O.createContext(null);function Q6(t){const e=O.useContext(Hb);O.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function e8(){const[t]=O.useState(()=>new Set),e=O.useCallback(a=>(t.add(a),()=>t.delete(a)),[t]);return[O.useCallback(a=>{let{type:s,event:o}=a;t.forEach(u=>{var d;return(d=u[s])==null?void 0:d.call(u,o)})},[t]),e]}const t8={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},n8={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function r8(t){let{announcements:e=n8,container:n,hiddenTextDescribedById:a,screenReaderInstructions:s=t8}=t;const{announce:o,announcement:u}=Z6(),d=sf("DndLiveRegion"),[f,h]=O.useState(!1);if(O.useEffect(()=>{h(!0)},[]),Q6(O.useMemo(()=>({onDragStart(x){let{active:S}=x;o(e.onDragStart({active:S}))},onDragMove(x){let{active:S,over:y}=x;e.onDragMove&&o(e.onDragMove({active:S,over:y}))},onDragOver(x){let{active:S,over:y}=x;o(e.onDragOver({active:S,over:y}))},onDragEnd(x){let{active:S,over:y}=x;o(e.onDragEnd({active:S,over:y}))},onDragCancel(x){let{active:S,over:y}=x;o(e.onDragCancel({active:S,over:y}))}}),[o,e])),!f)return null;const g=fr.createElement(fr.Fragment,null,fr.createElement(X6,{id:a,value:s.draggable}),fr.createElement(J6,{id:d,announcement:u}));return n?Nc.createPortal(g,n):g}var Xr;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(Xr||(Xr={}));function Ih(){}function Ph(t,e){return O.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function $b(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return O.useMemo(()=>[...e].filter(a=>a!=null),[...e])}const Es=Object.freeze({x:0,y:0});function Wb(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function i8(t,e){const n=Bh(t);if(!n)return"0 0";const a={x:(n.x-e.left)/e.width*100,y:(n.y-e.top)/e.height*100};return a.x+"% "+a.y+"%"}function Gb(t,e){let{data:{value:n}}=t,{data:{value:a}}=e;return n-a}function a8(t,e){let{data:{value:n}}=t,{data:{value:a}}=e;return a-n}function w5(t){let{left:e,top:n,height:a,width:s}=t;return[{x:e,y:n},{x:e+s,y:n},{x:e,y:n+a},{x:e+s,y:n+a}]}function Yb(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function x5(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const Vb=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:a}=t;const s=x5(e,e.left,e.top),o=[];for(const u of a){const{id:d}=u,f=n.get(d);if(f){const h=Wb(x5(f),s);o.push({id:d,data:{droppableContainer:u,value:h}})}}return o.sort(Gb)},s8=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:a}=t;const s=w5(e),o=[];for(const u of a){const{id:d}=u,f=n.get(d);if(f){const h=w5(f),g=s.reduce((S,y,E)=>S+Wb(h[E],y),0),x=Number((g/4).toFixed(4));o.push({id:d,data:{droppableContainer:u,value:x}})}}return o.sort(Gb)};function o8(t,e){const n=Math.max(e.top,t.top),a=Math.max(e.left,t.left),s=Math.min(e.left+e.width,t.left+t.width),o=Math.min(e.top+e.height,t.top+t.height),u=s-a,d=o-n;if(a<s&&n<o){const f=e.width*e.height,h=t.width*t.height,g=u*d,x=g/(f+h-g);return Number(x.toFixed(4))}return 0}const l8=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:a}=t;const s=[];for(const o of a){const{id:u}=o,d=n.get(u);if(d){const f=o8(d,e);f>0&&s.push({id:u,data:{droppableContainer:o,value:f}})}}return s.sort(a8)};function u8(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function Kb(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:Es}function c8(t){return function(n){for(var a=arguments.length,s=new Array(a>1?a-1:0),o=1;o<a;o++)s[o-1]=arguments[o];return s.reduce((u,d)=>({...u,top:u.top+t*d.y,bottom:u.bottom+t*d.y,left:u.left+t*d.x,right:u.right+t*d.x}),{...n})}}const d8=c8(1);function Xb(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function f8(t,e,n){const a=Xb(e);if(!a)return t;const{scaleX:s,scaleY:o,x:u,y:d}=a,f=t.left-u-(1-s)*parseFloat(n),h=t.top-d-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),g=s?t.width/s:t.width,x=o?t.height/o:t.height;return{width:g,height:x,top:h,right:f+g,bottom:h+x,left:f}}const h8={ignoreTransform:!1};function $c(t,e){e===void 0&&(e=h8);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:h,transformOrigin:g}=zi(t).getComputedStyle(t);h&&(n=f8(n,h,g))}const{top:a,left:s,width:o,height:u,bottom:d,right:f}=n;return{top:a,left:s,width:o,height:u,bottom:d,right:f}}function _5(t){return $c(t,{ignoreTransform:!0})}function p8(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function g8(t,e){return e===void 0&&(e=zi(t).getComputedStyle(t)),e.position==="fixed"}function m8(t,e){e===void 0&&(e=zi(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const o=e[s];return typeof o=="string"?n.test(o):!1})}function i0(t,e){const n=[];function a(s){if(e!=null&&n.length>=e||!s)return n;if(lg(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!rf(s)||qb(s)||n.includes(s))return n;const o=zi(t).getComputedStyle(s);return s!==t&&m8(s,o)&&n.push(s),g8(s,o)?n:a(s.parentNode)}return t?a(t):n}function Jb(t){const[e]=i0(t,1);return e??null}function qp(t){return!t0||!t?null:Fc(t)?t:og(t)?lg(t)||t===Hc(t).scrollingElement?window:rf(t)?t:null:null}function Zb(t){return Fc(t)?t.scrollX:t.scrollLeft}function Qb(t){return Fc(t)?t.scrollY:t.scrollTop}function T1(t){return{x:Zb(t),y:Qb(t)}}var si;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(si||(si={}));function ev(t){return!t0||!t?!1:t===document.scrollingElement}function tv(t){const e={x:0,y:0},n=ev(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},a={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},s=t.scrollTop<=e.y,o=t.scrollLeft<=e.x,u=t.scrollTop>=a.y,d=t.scrollLeft>=a.x;return{isTop:s,isLeft:o,isBottom:u,isRight:d,maxScroll:a,minScroll:e}}const y8={x:.2,y:.2};function b8(t,e,n,a,s){let{top:o,left:u,right:d,bottom:f}=n;a===void 0&&(a=10),s===void 0&&(s=y8);const{isTop:h,isBottom:g,isLeft:x,isRight:S}=tv(t),y={x:0,y:0},E={x:0,y:0},T={height:e.height*s.y,width:e.width*s.x};return!h&&o<=e.top+T.height?(y.y=si.Backward,E.y=a*Math.abs((e.top+T.height-o)/T.height)):!g&&f>=e.bottom-T.height&&(y.y=si.Forward,E.y=a*Math.abs((e.bottom-T.height-f)/T.height)),!S&&d>=e.right-T.width?(y.x=si.Forward,E.x=a*Math.abs((e.right-T.width-d)/T.width)):!x&&u<=e.left+T.width&&(y.x=si.Backward,E.x=a*Math.abs((e.left+T.width-u)/T.width)),{direction:y,speed:E}}function v8(t){if(t===document.scrollingElement){const{innerWidth:o,innerHeight:u}=window;return{top:0,left:0,right:o,bottom:u,width:o,height:u}}const{top:e,left:n,right:a,bottom:s}=t.getBoundingClientRect();return{top:e,left:n,right:a,bottom:s,width:t.clientWidth,height:t.clientHeight}}function nv(t){return t.reduce((e,n)=>Dc(e,T1(n)),Es)}function w8(t){return t.reduce((e,n)=>e+Zb(n),0)}function x8(t){return t.reduce((e,n)=>e+Qb(n),0)}function rv(t,e){if(e===void 0&&(e=$c),!t)return;const{top:n,left:a,bottom:s,right:o}=e(t);Jb(t)&&(s<=0||o<=0||n>=window.innerHeight||a>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const _8=[["x",["left","right"],w8],["y",["top","bottom"],x8]];class ug{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const a=i0(n),s=nv(a);this.rect={...e},this.width=e.width,this.height=e.height;for(const[o,u,d]of _8)for(const f of u)Object.defineProperty(this,f,{get:()=>{const h=d(a),g=s[o]-h;return this.rect[f]+g},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class zd{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var a;return(a=this.target)==null?void 0:a.removeEventListener(...n)})},this.target=e}add(e,n,a){var s;(s=this.target)==null||s.addEventListener(e,n,a),this.listeners.push([e,n,a])}}function S8(t){const{EventTarget:e}=zi(t);return t instanceof e?t:Hc(t)}function Fp(t,e){const n=Math.abs(t.x),a=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+a**2)>e:"x"in e&&"y"in e?n>e.x&&a>e.y:"x"in e?n>e.x:"y"in e?a>e.y:!1}var Ha;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(Ha||(Ha={}));function S5(t){t.preventDefault()}function A8(t){t.stopPropagation()}var un;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(un||(un={}));const iv={start:[un.Space,un.Enter],cancel:[un.Esc],end:[un.Space,un.Enter,un.Tab]},E8=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case un.Right:return{...n,x:n.x+25};case un.Left:return{...n,x:n.x-25};case un.Down:return{...n,y:n.y+25};case un.Up:return{...n,y:n.y-25}}};class a0{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new zd(Hc(n)),this.windowListeners=new zd(zi(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Ha.Resize,this.handleCancel),this.windowListeners.add(Ha.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Ha.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,a=e.node.current;a&&rv(a),n(Es)}handleKeyDown(e){if(r0(e)){const{active:n,context:a,options:s}=this.props,{keyboardCodes:o=iv,coordinateGetter:u=E8,scrollBehavior:d="smooth"}=s,{code:f}=e;if(o.end.includes(f)){this.handleEnd(e);return}if(o.cancel.includes(f)){this.handleCancel(e);return}const{collisionRect:h}=a.current,g=h?{x:h.left,y:h.top}:Es;this.referenceCoordinates||(this.referenceCoordinates=g);const x=u(e,{active:n,context:a.current,currentCoordinates:g});if(x){const S=Kd(x,g),y={x:0,y:0},{scrollableAncestors:E}=a.current;for(const T of E){const k=e.code,{isTop:N,isRight:D,isLeft:U,isBottom:M,maxScroll:re,minScroll:de}=tv(T),oe=v8(T),Q={x:Math.min(k===un.Right?oe.right-oe.width/2:oe.right,Math.max(k===un.Right?oe.left:oe.left+oe.width/2,x.x)),y:Math.min(k===un.Down?oe.bottom-oe.height/2:oe.bottom,Math.max(k===un.Down?oe.top:oe.top+oe.height/2,x.y))},q=k===un.Right&&!D||k===un.Left&&!U,ue=k===un.Down&&!M||k===un.Up&&!N;if(q&&Q.x!==x.x){const B=T.scrollLeft+S.x,K=k===un.Right&&B<=re.x||k===un.Left&&B>=de.x;if(K&&!S.y){T.scrollTo({left:B,behavior:d});return}K?y.x=T.scrollLeft-B:y.x=k===un.Right?T.scrollLeft-re.x:T.scrollLeft-de.x,y.x&&T.scrollBy({left:-y.x,behavior:d});break}else if(ue&&Q.y!==x.y){const B=T.scrollTop+S.y,K=k===un.Down&&B<=re.y||k===un.Up&&B>=de.y;if(K&&!S.x){T.scrollTo({top:B,behavior:d});return}K?y.y=T.scrollTop-B:y.y=k===un.Down?T.scrollTop-re.y:T.scrollTop-de.y,y.y&&T.scrollBy({top:-y.y,behavior:d});break}}this.handleMove(e,Dc(Kd(x,this.referenceCoordinates),y))}}}handleMove(e,n){const{onMove:a}=this.props;e.preventDefault(),a(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}a0.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:a=iv,onActivation:s}=e,{active:o}=n;const{code:u}=t.nativeEvent;if(a.start.includes(u)){const d=o.activatorNode.current;return d&&t.target!==d?!1:(t.preventDefault(),s?.({event:t.nativeEvent}),!0)}return!1}}];function A5(t){return!!(t&&"distance"in t)}function E5(t){return!!(t&&"delay"in t)}class cg{constructor(e,n,a){var s;a===void 0&&(a=S8(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:o}=e,{target:u}=o;this.props=e,this.events=n,this.document=Hc(u),this.documentListeners=new zd(this.document),this.listeners=new zd(a),this.windowListeners=new zd(zi(u)),this.initialCoordinates=(s=Bh(o))!=null?s:Es,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:a}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Ha.Resize,this.handleCancel),this.windowListeners.add(Ha.DragStart,S5),this.windowListeners.add(Ha.VisibilityChange,this.handleCancel),this.windowListeners.add(Ha.ContextMenu,S5),this.documentListeners.add(Ha.Keydown,this.handleKeydown),n){if(a!=null&&a({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(E5(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(A5(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:a,onPending:s}=this.props;s(a,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(Ha.Click,A8,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Ha.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:a,initialCoordinates:s,props:o}=this,{onMove:u,options:{activationConstraint:d}}=o;if(!s)return;const f=(n=Bh(e))!=null?n:Es,h=Kd(s,f);if(!a&&d){if(A5(d)){if(d.tolerance!=null&&Fp(h,d.tolerance))return this.handleCancel();if(Fp(h,d.distance))return this.handleStart()}if(E5(d)&&Fp(h,d.tolerance))return this.handleCancel();this.handlePending(d,h);return}e.cancelable&&e.preventDefault(),u(f)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===un.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const k8={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class s0 extends cg{constructor(e){const{event:n}=e,a=Hc(n.target);super(e,k8,a)}}s0.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:a}=e;return!n.isPrimary||n.button!==0?!1:(a?.({event:n}),!0)}}];const T8={move:{name:"mousemove"},end:{name:"mouseup"}};var L1;(function(t){t[t.RightClick=2]="RightClick"})(L1||(L1={}));class L8 extends cg{constructor(e){super(e,T8,Hc(e.event.target))}}L8.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:a}=e;return n.button===L1.RightClick?!1:(a?.({event:n}),!0)}}];const Hp={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class j8 extends cg{constructor(e){super(e,Hp)}static setup(){return window.addEventListener(Hp.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Hp.move.name,e)};function e(){}}}j8.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:a}=e;const{touches:s}=n;return s.length>1?!1:(a?.({event:n}),!0)}}];var Bd;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(Bd||(Bd={}));var Uh;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(Uh||(Uh={}));function N8(t){let{acceleration:e,activator:n=Bd.Pointer,canScroll:a,draggingRect:s,enabled:o,interval:u=5,order:d=Uh.TreeOrder,pointerCoordinates:f,scrollableAncestors:h,scrollableAncestorRects:g,delta:x,threshold:S}=t;const y=R8({delta:x,disabled:!o}),[E,T]=W6(),k=O.useRef({x:0,y:0}),N=O.useRef({x:0,y:0}),D=O.useMemo(()=>{switch(n){case Bd.Pointer:return f?{top:f.y,bottom:f.y,left:f.x,right:f.x}:null;case Bd.DraggableRect:return s}},[n,s,f]),U=O.useRef(null),M=O.useCallback(()=>{const de=U.current;if(!de)return;const oe=k.current.x*N.current.x,Q=k.current.y*N.current.y;de.scrollBy(oe,Q)},[]),re=O.useMemo(()=>d===Uh.TreeOrder?[...h].reverse():h,[d,h]);O.useEffect(()=>{if(!o||!h.length||!D){T();return}for(const de of re){if(a?.(de)===!1)continue;const oe=h.indexOf(de),Q=g[oe];if(!Q)continue;const{direction:q,speed:ue}=b8(de,Q,D,e,S);for(const B of["x","y"])y[B][q[B]]||(ue[B]=0,q[B]=0);if(ue.x>0||ue.y>0){T(),U.current=de,E(M,u),k.current=ue,N.current=q;return}}k.current={x:0,y:0},N.current={x:0,y:0},T()},[e,M,a,T,o,u,JSON.stringify(D),JSON.stringify(y),E,h,re,g,JSON.stringify(S)])}const C8={x:{[si.Backward]:!1,[si.Forward]:!1},y:{[si.Backward]:!1,[si.Forward]:!1}};function R8(t){let{delta:e,disabled:n}=t;const a=zh(e);return af(s=>{if(n||!a||!s)return C8;const o={x:Math.sign(e.x-a.x),y:Math.sign(e.y-a.y)};return{x:{[si.Backward]:s.x[si.Backward]||o.x===-1,[si.Forward]:s.x[si.Forward]||o.x===1},y:{[si.Backward]:s.y[si.Backward]||o.y===-1,[si.Forward]:s.y[si.Forward]||o.y===1}}},[n,e,a])}function O8(t,e){const n=e!=null?t.get(e):void 0,a=n?n.node.current:null;return af(s=>{var o;return e==null?null:(o=a??s)!=null?o:null},[a,e])}function D8(t,e){return O.useMemo(()=>t.reduce((n,a)=>{const{sensor:s}=a,o=s.activators.map(u=>({eventName:u.eventName,handler:e(u.handler,a)}));return[...n,...o]},[]),[t,e])}var Xd;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(Xd||(Xd={}));var j1;(function(t){t.Optimized="optimized"})(j1||(j1={}));const k5=new Map;function M8(t,e){let{dragging:n,dependencies:a,config:s}=e;const[o,u]=O.useState(null),{frequency:d,measure:f,strategy:h}=s,g=O.useRef(t),x=k(),S=Vd(x),y=O.useCallback(function(N){N===void 0&&(N=[]),!S.current&&u(D=>D===null?N:D.concat(N.filter(U=>!D.includes(U))))},[S]),E=O.useRef(null),T=af(N=>{if(x&&!n)return k5;if(!N||N===k5||g.current!==t||o!=null){const D=new Map;for(let U of t){if(!U)continue;if(o&&o.length>0&&!o.includes(U.id)&&U.rect.current){D.set(U.id,U.rect.current);continue}const M=U.node.current,re=M?new ug(f(M),M):null;U.rect.current=re,re&&D.set(U.id,re)}return D}return N},[t,o,n,x,f]);return O.useEffect(()=>{g.current=t},[t]),O.useEffect(()=>{x||y()},[n,x]),O.useEffect(()=>{o&&o.length>0&&u(null)},[JSON.stringify(o)]),O.useEffect(()=>{x||typeof d!="number"||E.current!==null||(E.current=setTimeout(()=>{y(),E.current=null},d))},[d,x,y,...a]),{droppableRects:T,measureDroppableContainers:y,measuringScheduled:o!=null};function k(){switch(h){case Xd.Always:return!1;case Xd.BeforeDragging:return n;default:return!n}}}function dg(t,e){return af(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function z8(t,e){return dg(t,e)}function B8(t){let{callback:e,disabled:n}=t;const a=n0(e),s=O.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(a)},[a,n]);return O.useEffect(()=>()=>s?.disconnect(),[s]),s}function o0(t){let{callback:e,disabled:n}=t;const a=n0(e),s=O.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(a)},[n]);return O.useEffect(()=>()=>s?.disconnect(),[s]),s}function I8(t){return new ug($c(t),t)}function T5(t,e,n){e===void 0&&(e=I8);const[a,s]=O.useState(null);function o(){s(f=>{if(!t)return null;if(t.isConnected===!1){var h;return(h=f??n)!=null?h:null}const g=e(t);return JSON.stringify(f)===JSON.stringify(g)?f:g})}const u=B8({callback(f){if(t)for(const h of f){const{type:g,target:x}=h;if(g==="childList"&&x instanceof HTMLElement&&x.contains(t)){o();break}}}}),d=o0({callback:o});return As(()=>{o(),t?(d?.observe(t),u?.observe(document.body,{childList:!0,subtree:!0})):(d?.disconnect(),u?.disconnect())},[t]),a}function P8(t){const e=dg(t);return Kb(t,e)}const L5=[];function U8(t){const e=O.useRef(t),n=af(a=>t?a&&a!==L5&&t&&e.current&&t.parentNode===e.current.parentNode?a:i0(t):L5,[t]);return O.useEffect(()=>{e.current=t},[t]),n}function q8(t){const[e,n]=O.useState(null),a=O.useRef(t),s=O.useCallback(o=>{const u=qp(o.target);u&&n(d=>d?(d.set(u,T1(u)),new Map(d)):null)},[]);return O.useEffect(()=>{const o=a.current;if(t!==o){u(o);const d=t.map(f=>{const h=qp(f);return h?(h.addEventListener("scroll",s,{passive:!0}),[h,T1(h)]):null}).filter(f=>f!=null);n(d.length?new Map(d):null),a.current=t}return()=>{u(t),u(o)};function u(d){d.forEach(f=>{const h=qp(f);h?.removeEventListener("scroll",s)})}},[s,t]),O.useMemo(()=>t.length?e?Array.from(e.values()).reduce((o,u)=>Dc(o,u),Es):nv(t):Es,[t,e])}function j5(t,e){e===void 0&&(e=[]);const n=O.useRef(null);return O.useEffect(()=>{n.current=null},e),O.useEffect(()=>{const a=t!==Es;a&&!n.current&&(n.current=t),!a&&n.current&&(n.current=null)},[t]),n.current?Kd(t,n.current):Es}function F8(t){O.useEffect(()=>{if(!t0)return;const e=t.map(n=>{let{sensor:a}=n;return a.setup==null?void 0:a.setup()});return()=>{for(const n of e)n?.()}},t.map(e=>{let{sensor:n}=e;return n}))}function H8(t,e){return O.useMemo(()=>t.reduce((n,a)=>{let{eventName:s,handler:o}=a;return n[s]=u=>{o(u,e)},n},{}),[t,e])}function av(t){return O.useMemo(()=>t?p8(t):null,[t])}const N5=[];function $8(t,e){e===void 0&&(e=$c);const[n]=t,a=av(n?zi(n):null),[s,o]=O.useState(N5);function u(){o(()=>t.length?t.map(f=>ev(f)?a:new ug(e(f),f)):N5)}const d=o0({callback:u});return As(()=>{d?.disconnect(),u(),t.forEach(f=>d?.observe(f))},[t]),s}function sv(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return rf(e)?e:t}function W8(t){let{measure:e}=t;const[n,a]=O.useState(null),s=O.useCallback(h=>{for(const{target:g}of h)if(rf(g)){a(x=>{const S=e(g);return x?{...x,width:S.width,height:S.height}:S});break}},[e]),o=o0({callback:s}),u=O.useCallback(h=>{const g=sv(h);o?.disconnect(),g&&o?.observe(g),a(g?e(g):null)},[e,o]),[d,f]=Mh(u);return O.useMemo(()=>({nodeRef:d,rect:n,setRef:f}),[n,d,f])}const G8=[{sensor:s0,options:{}},{sensor:a0,options:{}}],Y8={current:{}},Sh={draggable:{measure:_5},droppable:{measure:_5,strategy:Xd.WhileDragging,frequency:j1.Optimized},dragOverlay:{measure:$c}};class Id extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,a;return(n=(a=this.get(e))==null?void 0:a.node.current)!=null?n:void 0}}const V8={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Id,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Ih},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Sh,measureDroppableContainers:Ih,windowRect:null,measuringScheduled:!1},ov={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Ih,draggableNodes:new Map,over:null,measureDroppableContainers:Ih},of=O.createContext(ov),lv=O.createContext(V8);function K8(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Id}}}function X8(t,e){switch(e.type){case Xr.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Xr.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case Xr.DragEnd:case Xr.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Xr.RegisterDroppable:{const{element:n}=e,{id:a}=n,s=new Id(t.droppable.containers);return s.set(a,n),{...t,droppable:{...t.droppable,containers:s}}}case Xr.SetDroppableDisabled:{const{id:n,key:a,disabled:s}=e,o=t.droppable.containers.get(n);if(!o||a!==o.key)return t;const u=new Id(t.droppable.containers);return u.set(n,{...o,disabled:s}),{...t,droppable:{...t.droppable,containers:u}}}case Xr.UnregisterDroppable:{const{id:n,key:a}=e,s=t.droppable.containers.get(n);if(!s||a!==s.key)return t;const o=new Id(t.droppable.containers);return o.delete(n),{...t,droppable:{...t.droppable,containers:o}}}default:return t}}function J8(t){let{disabled:e}=t;const{active:n,activatorEvent:a,draggableNodes:s}=O.useContext(of),o=zh(a),u=zh(n?.id);return O.useEffect(()=>{if(!e&&!a&&o&&u!=null){if(!r0(o)||document.activeElement===o.target)return;const d=s.get(u);if(!d)return;const{activatorNode:f,node:h}=d;if(!f.current&&!h.current)return;requestAnimationFrame(()=>{for(const g of[f.current,h.current]){if(!g)continue;const x=V6(g);if(x){x.focus();break}}})}},[a,e,s,u,o]),null}function uv(t,e){let{transform:n,...a}=e;return t!=null&&t.length?t.reduce((s,o)=>o({transform:s,...a}),n):n}function Z8(t){return O.useMemo(()=>({draggable:{...Sh.draggable,...t?.draggable},droppable:{...Sh.droppable,...t?.droppable},dragOverlay:{...Sh.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function Q8(t){let{activeNode:e,measure:n,initialRect:a,config:s=!0}=t;const o=O.useRef(!1),{x:u,y:d}=typeof s=="boolean"?{x:s,y:s}:s;As(()=>{if(!u&&!d||!e){o.current=!1;return}if(o.current||!a)return;const h=e?.node.current;if(!h||h.isConnected===!1)return;const g=n(h),x=Kb(g,a);if(u||(x.x=0),d||(x.y=0),o.current=!0,Math.abs(x.x)>0||Math.abs(x.y)>0){const S=Jb(h);S&&S.scrollBy({top:x.y,left:x.x})}},[e,u,d,a,n])}const l0=O.createContext({...Es,scaleX:1,scaleY:1});var El;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(El||(El={}));const cv=O.memo(function(e){var n,a,s,o;let{id:u,accessibility:d,autoScroll:f=!0,children:h,sensors:g=G8,collisionDetection:x=l8,measuring:S,modifiers:y,...E}=e;const T=O.useReducer(X8,void 0,K8),[k,N]=T,[D,U]=e8(),[M,re]=O.useState(El.Uninitialized),de=M===El.Initialized,{draggable:{active:oe,nodes:Q,translate:q},droppable:{containers:ue}}=k,B=oe!=null?Q.get(oe):null,K=O.useRef({initial:null,translated:null}),fe=O.useMemo(()=>{var kt;return oe!=null?{id:oe,data:(kt=B?.data)!=null?kt:Y8,rect:K}:null},[oe,B]),se=O.useRef(null),[le,J]=O.useState(null),[ee,he]=O.useState(null),_e=Vd(E,Object.values(E)),ze=sf("DndDescribedBy",u),G=O.useMemo(()=>ue.getEnabled(),[ue]),L=Z8(S),{droppableRects:F,measureDroppableContainers:X,measuringScheduled:ie}=M8(G,{dragging:de,dependencies:[q.x,q.y],config:L.droppable}),R=O8(Q,oe),V=O.useMemo(()=>ee?Bh(ee):null,[ee]),pe=Kt(),ve=z8(R,L.draggable.measure);Q8({activeNode:oe!=null?Q.get(oe):null,config:pe.layoutShiftCompensation,initialRect:ve,measure:L.draggable.measure});const Ee=T5(R,L.draggable.measure,ve),qe=T5(R?R.parentElement:null),et=O.useRef({activatorEvent:null,active:null,activeNode:R,collisionRect:null,collisions:null,droppableRects:F,draggableNodes:Q,draggingNode:null,draggingNodeRect:null,droppableContainers:ue,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Re=ue.getNodeFor((n=et.current.over)==null?void 0:n.id),Ae=W8({measure:L.dragOverlay.measure}),P=(a=Ae.nodeRef.current)!=null?a:R,ye=de?(s=Ae.rect)!=null?s:Ee:null,Ye=!!(Ae.nodeRef.current&&Ae.rect),Be=P8(Ye?null:Ee),Le=av(P?zi(P):null),ce=U8(de?Re??R:null),be=$8(ce),He=uv(y,{transform:{x:q.x-Be.x,y:q.y-Be.y,scaleX:1,scaleY:1},activatorEvent:ee,active:fe,activeNodeRect:Ee,containerNodeRect:qe,draggingNodeRect:ye,over:et.current.over,overlayNodeRect:Ae.rect,scrollableAncestors:ce,scrollableAncestorRects:be,windowRect:Le}),Ve=V?Dc(V,q):null,Qe=q8(ce),at=j5(Qe),ut=j5(Qe,[Ee]),nt=Dc(He,at),pt=ye?d8(ye,He):null,$e=fe&&pt?x({active:fe,collisionRect:pt,droppableRects:F,droppableContainers:G,pointerCoordinates:Ve}):null,ot=Yb($e,"id"),[lt,qt]=O.useState(null),rt=Ye?He:Dc(He,ut),it=u8(rt,(o=lt?.rect)!=null?o:null,Ee),st=O.useRef(null),ct=O.useCallback((kt,dt)=>{let{sensor:Ut,options:hr}=dt;if(se.current==null)return;const vn=Q.get(se.current);if(!vn)return;const qn=kt.nativeEvent,$n=new Ut({active:se.current,activeNode:vn,event:qn,options:hr,context:et,onAbort(Sn){if(!Q.get(Sn))return;const{onDragAbort:Fn}=_e.current,Wn={id:Sn};Fn?.(Wn),D({type:"onDragAbort",event:Wn})},onPending(Sn,Ar,Fn,Wn){if(!Q.get(Sn))return;const{onDragPending:Nn}=_e.current,An={id:Sn,constraint:Ar,initialCoordinates:Fn,offset:Wn};Nn?.(An),D({type:"onDragPending",event:An})},onStart(Sn){const Ar=se.current;if(Ar==null)return;const Fn=Q.get(Ar);if(!Fn)return;const{onDragStart:Wn}=_e.current,mn={activatorEvent:qn,active:{id:Ar,data:Fn.data,rect:K}};Nc.unstable_batchedUpdates(()=>{Wn?.(mn),re(El.Initializing),N({type:Xr.DragStart,initialCoordinates:Sn,active:Ar}),D({type:"onDragStart",event:mn}),J(st.current),he(qn)})},onMove(Sn){N({type:Xr.DragMove,coordinates:Sn})},onEnd:At(Xr.DragEnd),onCancel:At(Xr.DragCancel)});st.current=$n;function At(Sn){return async function(){const{active:Fn,collisions:Wn,over:mn,scrollAdjustedTranslate:Nn}=et.current;let An=null;if(Fn&&Nn){const{cancelDrop:bi}=_e.current;An={activatorEvent:qn,active:Fn,collisions:Wn,delta:Nn,over:mn},Sn===Xr.DragEnd&&typeof bi=="function"&&await Promise.resolve(bi(An))&&(Sn=Xr.DragCancel)}se.current=null,Nc.unstable_batchedUpdates(()=>{N({type:Sn}),re(El.Uninitialized),qt(null),J(null),he(null),st.current=null;const bi=Sn===Xr.DragEnd?"onDragEnd":"onDragCancel";if(An){const Er=_e.current[bi];Er?.(An),D({type:bi,event:An})}})}}},[Q]),yt=O.useCallback((kt,dt)=>(Ut,hr)=>{const vn=Ut.nativeEvent,qn=Q.get(hr);if(se.current!==null||!qn||vn.dndKit||vn.defaultPrevented)return;const $n={active:qn};kt(Ut,dt.options,$n)===!0&&(vn.dndKit={capturedBy:dt.sensor},se.current=hr,ct(Ut,dt))},[Q,ct]),$t=D8(g,yt);F8(g),As(()=>{Ee&&M===El.Initializing&&re(El.Initialized)},[Ee,M]),O.useEffect(()=>{const{onDragMove:kt}=_e.current,{active:dt,activatorEvent:Ut,collisions:hr,over:vn}=et.current;if(!dt||!Ut)return;const qn={active:dt,activatorEvent:Ut,collisions:hr,delta:{x:nt.x,y:nt.y},over:vn};Nc.unstable_batchedUpdates(()=>{kt?.(qn),D({type:"onDragMove",event:qn})})},[nt.x,nt.y]),O.useEffect(()=>{const{active:kt,activatorEvent:dt,collisions:Ut,droppableContainers:hr,scrollAdjustedTranslate:vn}=et.current;if(!kt||se.current==null||!dt||!vn)return;const{onDragOver:qn}=_e.current,$n=hr.get(ot),At=$n&&$n.rect.current?{id:$n.id,rect:$n.rect.current,data:$n.data,disabled:$n.disabled}:null,Sn={active:kt,activatorEvent:dt,collisions:Ut,delta:{x:vn.x,y:vn.y},over:At};Nc.unstable_batchedUpdates(()=>{qt(At),qn?.(Sn),D({type:"onDragOver",event:Sn})})},[ot]),As(()=>{et.current={activatorEvent:ee,active:fe,activeNode:R,collisionRect:pt,collisions:$e,droppableRects:F,draggableNodes:Q,draggingNode:P,draggingNodeRect:ye,droppableContainers:ue,over:lt,scrollableAncestors:ce,scrollAdjustedTranslate:nt},K.current={initial:ye,translated:pt}},[fe,R,$e,pt,Q,P,ye,F,ue,lt,ce,nt]),N8({...pe,delta:q,draggingRect:pt,pointerCoordinates:Ve,scrollableAncestors:ce,scrollableAncestorRects:be});const Et=O.useMemo(()=>({active:fe,activeNode:R,activeNodeRect:Ee,activatorEvent:ee,collisions:$e,containerNodeRect:qe,dragOverlay:Ae,draggableNodes:Q,droppableContainers:ue,droppableRects:F,over:lt,measureDroppableContainers:X,scrollableAncestors:ce,scrollableAncestorRects:be,measuringConfiguration:L,measuringScheduled:ie,windowRect:Le}),[fe,R,Ee,ee,$e,qe,Ae,Q,ue,F,lt,X,ce,be,L,ie,Le]),St=O.useMemo(()=>({activatorEvent:ee,activators:$t,active:fe,activeNodeRect:Ee,ariaDescribedById:{draggable:ze},dispatch:N,draggableNodes:Q,over:lt,measureDroppableContainers:X}),[ee,$t,fe,Ee,N,ze,Q,lt,X]);return fr.createElement(Hb.Provider,{value:U},fr.createElement(of.Provider,{value:St},fr.createElement(lv.Provider,{value:Et},fr.createElement(l0.Provider,{value:it},h)),fr.createElement(J8,{disabled:d?.restoreFocus===!1})),fr.createElement(r8,{...d,hiddenTextDescribedById:ze}));function Kt(){const kt=le?.autoScrollEnabled===!1,dt=typeof f=="object"?f.enabled===!1:f===!1,Ut=de&&!kt&&!dt;return typeof f=="object"?{...f,enabled:Ut}:{enabled:Ut}}}),eA=O.createContext(null),C5="button",tA="Draggable";function nA(t){let{id:e,data:n,disabled:a=!1,attributes:s}=t;const o=sf(tA),{activators:u,activatorEvent:d,active:f,activeNodeRect:h,ariaDescribedById:g,draggableNodes:x,over:S}=O.useContext(of),{role:y=C5,roleDescription:E="draggable",tabIndex:T=0}=s??{},k=f?.id===e,N=O.useContext(k?l0:eA),[D,U]=Mh(),[M,re]=Mh(),de=H8(u,e),oe=Vd(n);As(()=>(x.set(e,{id:e,key:o,node:D,activatorNode:M,data:oe}),()=>{const q=x.get(e);q&&q.key===o&&x.delete(e)}),[x,e]);const Q=O.useMemo(()=>({role:y,tabIndex:T,"aria-disabled":a,"aria-pressed":k&&y===C5?!0:void 0,"aria-roledescription":E,"aria-describedby":g.draggable}),[a,y,T,k,E,g.draggable]);return{active:f,activatorEvent:d,activeNodeRect:h,attributes:Q,isDragging:k,listeners:a?void 0:de,node:D,over:S,setNodeRef:U,setActivatorNodeRef:re,transform:N}}function dv(){return O.useContext(lv)}const rA="Droppable",iA={timeout:25};function aA(t){let{data:e,disabled:n=!1,id:a,resizeObserverConfig:s}=t;const o=sf(rA),{active:u,dispatch:d,over:f,measureDroppableContainers:h}=O.useContext(of),g=O.useRef({disabled:n}),x=O.useRef(!1),S=O.useRef(null),y=O.useRef(null),{disabled:E,updateMeasurementsFor:T,timeout:k}={...iA,...s},N=Vd(T??a),D=O.useCallback(()=>{if(!x.current){x.current=!0;return}y.current!=null&&clearTimeout(y.current),y.current=setTimeout(()=>{h(Array.isArray(N.current)?N.current:[N.current]),y.current=null},k)},[k]),U=o0({callback:D,disabled:E||!u}),M=O.useCallback((Q,q)=>{U&&(q&&(U.unobserve(q),x.current=!1),Q&&U.observe(Q))},[U]),[re,de]=Mh(M),oe=Vd(e);return O.useEffect(()=>{!U||!re.current||(U.disconnect(),x.current=!1,U.observe(re.current))},[re,U]),O.useEffect(()=>(d({type:Xr.RegisterDroppable,element:{id:a,key:o,disabled:n,node:re,rect:S,data:oe}}),()=>d({type:Xr.UnregisterDroppable,key:o,id:a})),[a]),O.useEffect(()=>{n!==g.current.disabled&&(d({type:Xr.SetDroppableDisabled,id:a,key:o,disabled:n}),g.current.disabled=n)},[a,o,n,d]),{active:u,rect:S,isOver:f?.id===a,node:re,over:f,setNodeRef:de}}function sA(t){let{animation:e,children:n}=t;const[a,s]=O.useState(null),[o,u]=O.useState(null),d=zh(n);return!n&&!a&&d&&s(d),As(()=>{if(!o)return;const f=a?.key,h=a?.props.id;if(f==null||h==null){s(null);return}Promise.resolve(e(h,o)).then(()=>{s(null)})},[e,a,o]),fr.createElement(fr.Fragment,null,n,a?O.cloneElement(a,{ref:u}):null)}const oA={x:0,y:0,scaleX:1,scaleY:1};function lA(t){let{children:e}=t;return fr.createElement(of.Provider,{value:ov},fr.createElement(l0.Provider,{value:oA},e))}const uA={position:"fixed",touchAction:"none"},cA=t=>r0(t)?"transform 250ms ease":void 0,dA=O.forwardRef((t,e)=>{let{as:n,activatorEvent:a,adjustScale:s,children:o,className:u,rect:d,style:f,transform:h,transition:g=cA}=t;if(!d)return null;const x=s?h:{...h,scaleX:1,scaleY:1},S={...uA,width:d.width,height:d.height,top:d.top,left:d.left,transform:vu.Transform.toString(x),transformOrigin:s&&a?i8(a,d):void 0,transition:typeof g=="function"?g(a):g,...f};return fr.createElement(n,{className:u,style:S,ref:e},o)}),fA=t=>e=>{let{active:n,dragOverlay:a}=e;const s={},{styles:o,className:u}=t;if(o!=null&&o.active)for(const[d,f]of Object.entries(o.active))f!==void 0&&(s[d]=n.node.style.getPropertyValue(d),n.node.style.setProperty(d,f));if(o!=null&&o.dragOverlay)for(const[d,f]of Object.entries(o.dragOverlay))f!==void 0&&a.node.style.setProperty(d,f);return u!=null&&u.active&&n.node.classList.add(u.active),u!=null&&u.dragOverlay&&a.node.classList.add(u.dragOverlay),function(){for(const[f,h]of Object.entries(s))n.node.style.setProperty(f,h);u!=null&&u.active&&n.node.classList.remove(u.active)}},hA=t=>{let{transform:{initial:e,final:n}}=t;return[{transform:vu.Transform.toString(e)},{transform:vu.Transform.toString(n)}]},pA={duration:250,easing:"ease",keyframes:hA,sideEffects:fA({styles:{active:{opacity:"0"}}})};function gA(t){let{config:e,draggableNodes:n,droppableContainers:a,measuringConfiguration:s}=t;return n0((o,u)=>{if(e===null)return;const d=n.get(o);if(!d)return;const f=d.node.current;if(!f)return;const h=sv(u);if(!h)return;const{transform:g}=zi(u).getComputedStyle(u),x=Xb(g);if(!x)return;const S=typeof e=="function"?e:mA(e);return rv(f,s.draggable.measure),S({active:{id:o,data:d.data,node:f,rect:s.draggable.measure(f)},draggableNodes:n,dragOverlay:{node:u,rect:s.dragOverlay.measure(h)},droppableContainers:a,measuringConfiguration:s,transform:x})})}function mA(t){const{duration:e,easing:n,sideEffects:a,keyframes:s}={...pA,...t};return o=>{let{active:u,dragOverlay:d,transform:f,...h}=o;if(!e)return;const g={x:d.rect.left-u.rect.left,y:d.rect.top-u.rect.top},x={scaleX:f.scaleX!==1?u.rect.width*f.scaleX/d.rect.width:1,scaleY:f.scaleY!==1?u.rect.height*f.scaleY/d.rect.height:1},S={x:f.x-g.x,y:f.y-g.y,...x},y=s({...h,active:u,dragOverlay:d,transform:{initial:f,final:S}}),[E]=y,T=y[y.length-1];if(JSON.stringify(E)===JSON.stringify(T))return;const k=a?.({active:u,dragOverlay:d,...h}),N=d.node.animate(y,{duration:e,easing:n,fill:"forwards"});return new Promise(D=>{N.onfinish=()=>{k?.(),D()}})}}let R5=0;function yA(t){return O.useMemo(()=>{if(t!=null)return R5++,R5},[t])}const fv=fr.memo(t=>{let{adjustScale:e=!1,children:n,dropAnimation:a,style:s,transition:o,modifiers:u,wrapperElement:d="div",className:f,zIndex:h=999}=t;const{activatorEvent:g,active:x,activeNodeRect:S,containerNodeRect:y,draggableNodes:E,droppableContainers:T,dragOverlay:k,over:N,measuringConfiguration:D,scrollableAncestors:U,scrollableAncestorRects:M,windowRect:re}=dv(),de=O.useContext(l0),oe=yA(x?.id),Q=uv(u,{activatorEvent:g,active:x,activeNodeRect:S,containerNodeRect:y,draggingNodeRect:k.rect,over:N,overlayNodeRect:k.rect,scrollableAncestors:U,scrollableAncestorRects:M,transform:de,windowRect:re}),q=dg(S),ue=gA({config:a,draggableNodes:E,droppableContainers:T,measuringConfiguration:D}),B=q?k.setRef:void 0;return fr.createElement(lA,null,fr.createElement(sA,{animation:ue},x&&oe?fr.createElement(dA,{key:oe,id:x.id,ref:B,as:d,activatorEvent:g,adjustScale:e,className:f,transition:o,rect:q,style:{zIndex:h,...s},transform:Q},n):null))});function hv(t,e,n){const a=t.slice();return a.splice(n<0?a.length+n:n,0,a.splice(e,1)[0]),a}function bA(t,e){return t.reduce((n,a,s)=>{const o=e.get(a);return o&&(n[s]=o),n},Array(t.length))}function ch(t){return t!==null&&t>=0}function vA(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function wA(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const pv=t=>{let{rects:e,activeIndex:n,overIndex:a,index:s}=t;const o=hv(e,a,n),u=e[s],d=o[s];return!d||!u?null:{x:d.left-u.left,y:d.top-u.top,scaleX:d.width/u.width,scaleY:d.height/u.height}},dh={scaleX:1,scaleY:1},N1=t=>{var e;let{activeIndex:n,activeNodeRect:a,index:s,rects:o,overIndex:u}=t;const d=(e=o[n])!=null?e:a;if(!d)return null;if(s===n){const h=o[u];return h?{x:0,y:n<u?h.top+h.height-(d.top+d.height):h.top-d.top,...dh}:null}const f=xA(o,s,n);return s>n&&s<=u?{x:0,y:-d.height-f,...dh}:s<n&&s>=u?{x:0,y:d.height+f,...dh}:{x:0,y:0,...dh}};function xA(t,e,n){const a=t[e],s=t[e-1],o=t[e+1];return a?n<e?s?a.top-(s.top+s.height):o?o.top-(a.top+a.height):0:o?o.top-(a.top+a.height):s?a.top-(s.top+s.height):0:0}const gv="Sortable",mv=fr.createContext({activeIndex:-1,containerId:gv,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:pv,disabled:{draggable:!1,droppable:!1}});function C1(t){let{children:e,id:n,items:a,strategy:s=pv,disabled:o=!1}=t;const{active:u,dragOverlay:d,droppableRects:f,over:h,measureDroppableContainers:g}=dv(),x=sf(gv,n),S=d.rect!==null,y=O.useMemo(()=>a.map(de=>typeof de=="object"&&"id"in de?de.id:de),[a]),E=u!=null,T=u?y.indexOf(u.id):-1,k=h?y.indexOf(h.id):-1,N=O.useRef(y),D=!vA(y,N.current),U=k!==-1&&T===-1||D,M=wA(o);As(()=>{D&&E&&g(y)},[D,y,E,g]),O.useEffect(()=>{N.current=y},[y]);const re=O.useMemo(()=>({activeIndex:T,containerId:x,disabled:M,disableTransforms:U,items:y,overIndex:k,useDragOverlay:S,sortedRects:bA(y,f),strategy:s}),[T,x,M.draggable,M.droppable,U,y,k,f,S,s]);return fr.createElement(mv.Provider,{value:re},e)}const _A=t=>{let{id:e,items:n,activeIndex:a,overIndex:s}=t;return hv(n,a,s).indexOf(e)},SA=t=>{let{containerId:e,isSorting:n,wasDragging:a,index:s,items:o,newIndex:u,previousItems:d,previousContainerId:f,transition:h}=t;return!h||!a||d!==o&&s===u?!1:n?!0:u!==s&&e===f},AA={duration:200,easing:"ease"},yv="transform",EA=vu.Transition.toString({property:yv,duration:0,easing:"linear"}),kA={roleDescription:"sortable"};function TA(t){let{disabled:e,index:n,node:a,rect:s}=t;const[o,u]=O.useState(null),d=O.useRef(n);return As(()=>{if(!e&&n!==d.current&&a.current){const f=s.current;if(f){const h=$c(a.current,{ignoreTransform:!0}),g={x:f.left-h.left,y:f.top-h.top,scaleX:f.width/h.width,scaleY:f.height/h.height};(g.x||g.y)&&u(g)}}n!==d.current&&(d.current=n)},[e,n,a,s]),O.useEffect(()=>{o&&u(null)},[o]),o}function bv(t){let{animateLayoutChanges:e=SA,attributes:n,disabled:a,data:s,getNewIndex:o=_A,id:u,strategy:d,resizeObserverConfig:f,transition:h=AA}=t;const{items:g,containerId:x,activeIndex:S,disabled:y,disableTransforms:E,sortedRects:T,overIndex:k,useDragOverlay:N,strategy:D}=O.useContext(mv),U=LA(a,y),M=g.indexOf(u),re=O.useMemo(()=>({sortable:{containerId:x,index:M,items:g},...s}),[x,s,M,g]),de=O.useMemo(()=>g.slice(g.indexOf(u)),[g,u]),{rect:oe,node:Q,isOver:q,setNodeRef:ue}=aA({id:u,data:re,disabled:U.droppable,resizeObserverConfig:{updateMeasurementsFor:de,...f}}),{active:B,activatorEvent:K,activeNodeRect:fe,attributes:se,setNodeRef:le,listeners:J,isDragging:ee,over:he,setActivatorNodeRef:_e,transform:ze}=nA({id:u,data:re,attributes:{...kA,...n},disabled:U.draggable}),G=$6(ue,le),L=!!B,F=L&&!E&&ch(S)&&ch(k),X=!N&&ee,ie=X&&F?ze:null,V=F?ie??(d??D)({rects:T,activeNodeRect:fe,activeIndex:S,overIndex:k,index:M}):null,pe=ch(S)&&ch(k)?o({id:u,items:g,activeIndex:S,overIndex:k}):M,ve=B?.id,Ee=O.useRef({activeId:ve,items:g,newIndex:pe,containerId:x}),qe=g!==Ee.current.items,et=e({active:B,containerId:x,isDragging:ee,isSorting:L,id:u,index:M,items:g,newIndex:Ee.current.newIndex,previousItems:Ee.current.items,previousContainerId:Ee.current.containerId,transition:h,wasDragging:Ee.current.activeId!=null}),Re=TA({disabled:!et,index:M,node:Q,rect:oe});return O.useEffect(()=>{L&&Ee.current.newIndex!==pe&&(Ee.current.newIndex=pe),x!==Ee.current.containerId&&(Ee.current.containerId=x),g!==Ee.current.items&&(Ee.current.items=g)},[L,pe,x,g]),O.useEffect(()=>{if(ve===Ee.current.activeId)return;if(ve!=null&&Ee.current.activeId==null){Ee.current.activeId=ve;return}const P=setTimeout(()=>{Ee.current.activeId=ve},50);return()=>clearTimeout(P)},[ve]),{active:B,activeIndex:S,attributes:se,data:re,rect:oe,index:M,newIndex:pe,items:g,isOver:q,isSorting:L,isDragging:ee,listeners:J,node:Q,overIndex:k,over:he,setNodeRef:G,setActivatorNodeRef:_e,setDroppableNodeRef:ue,setDraggableNodeRef:le,transform:Re??V,transition:Ae()};function Ae(){if(Re||qe&&Ee.current.newIndex===M)return EA;if(!(X&&!r0(K)||!h)&&(L||et))return vu.Transition.toString({...h,property:yv})}}function LA(t,e){var n,a;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t?.draggable)!=null?n:e.draggable,droppable:(a=t?.droppable)!=null?a:e.droppable}}function qh(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const jA=[un.Down,un.Right,un.Up,un.Left],vv=(t,e)=>{let{context:{active:n,collisionRect:a,droppableRects:s,droppableContainers:o,over:u,scrollableAncestors:d}}=e;if(jA.includes(t.code)){if(t.preventDefault(),!n||!a)return;const f=[];o.getEnabled().forEach(x=>{if(!x||x!=null&&x.disabled)return;const S=s.get(x.id);if(S)switch(t.code){case un.Down:a.top<S.top&&f.push(x);break;case un.Up:a.top>S.top&&f.push(x);break;case un.Left:a.left>S.left&&f.push(x);break;case un.Right:a.left<S.left&&f.push(x);break}});const h=s8({collisionRect:a,droppableRects:s,droppableContainers:f});let g=Yb(h,"id");if(g===u?.id&&h.length>1&&(g=h[1].id),g!=null){const x=o.get(n.id),S=o.get(g),y=S?s.get(S.id):null,E=S?.node.current;if(E&&y&&x&&S){const k=i0(E).some((de,oe)=>d[oe]!==de),N=wv(x,S),D=NA(x,S),U=k||!N?{x:0,y:0}:{x:D?a.width-y.width:0,y:D?a.height-y.height:0},M={x:y.left,y:y.top};return U.x&&U.y?M:Kd(M,U)}}}};function wv(t,e){return!qh(t)||!qh(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function NA(t,e){return!qh(t)||!qh(e)||!wv(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}function CA(){const{business:t}=Uo(),{isDark:e}=qo(),{notifyCategoryAdded:n,notifyCategoryUpdated:a,notifyCategoryDeleted:s,notifyOrderChanged:o,notifyError:u}=_u(),[d,f]=O.useState([]),[h,g]=O.useState(!0),[x,S]=O.useState(!1),[y,E]=O.useState(!1),[T,k]=O.useState(null),[N,D]=O.useState({name:""}),[U,M]=O.useState(""),[re,de]=O.useState(null),[oe,Q]=O.useState(null),[q,ue]=O.useState({up:!1,down:!1}),B=O.useRef(null),K=O.useRef(null),fe=O.useRef(null),se=$b(Ph(s0,{activationConstraint:{distance:5}}),Ph(a0,{coordinateGetter:vv}));O.useEffect(()=>{const R=()=>{S(window.innerWidth<768)};return R(),window.addEventListener("resize",R),()=>window.removeEventListener("resize",R)},[]),O.useEffect(()=>{t?.id&&le()},[t]);const le=async()=>{try{g(!0);const{data:R,error:V}=await ht.from("categories").select("*").eq("business_id",t.id).order("order_index",{ascending:!0});if(V)throw V;f(R||[])}catch(R){console.error("Categories fetch error:",R),u("Kategoriler yklenirken hata olutu",R.message)}finally{g(!1)}};O.useEffect(()=>{if(!t?.id)return;const R=ht.channel(`categories:${t.id}`).on("postgres_changes",{event:"*",schema:"public",table:"categories",filter:`business_id=eq.${t.id}`},async V=>{console.log(" Category changed (Realtime):",V.eventType,V.new?.id||V.old?.id),(V.eventType==="UPDATE"&&V.new?.order_index!==void 0||V.eventType==="INSERT"||V.eventType==="DELETE")&&le()}).subscribe();return()=>{ht.removeChannel(R)}},[t?.id]);const J=(R=null)=>{R?(k(R),D({name:R.name})):(k(null),D({name:""})),E(!0),M("")},ee=()=>{E(!1),k(null),D({name:""}),M("")},he=async R=>{if(R.preventDefault(),M(""),!N.name.trim()){M("Kategori ad gerekli");return}try{if(T){const{error:V}=await ht.from("categories").update({name:N.name.trim()}).eq("id",T.id);if(V)throw V;a({...T,name:N.name.trim()})}else{const pe=(d.length>0?Math.max(...d.map(qe=>qe.order_index??0)):-1)+1,{data:ve,error:Ee}=await ht.from("categories").insert({business_id:t.id,name:N.name.trim(),order_index:pe,is_active:!0}).select().single();if(Ee)throw Ee;n(ve)}ee(),le()}catch(V){M(V.message||"Bir hata olutu"),console.error("Category save error:",V)}},_e=async R=>{if(confirm("Bu kategoriyi silmek istediinize emin misiniz? Kategoriye ait tm rnler de silinecektir."))try{const{error:V}=await ht.from("categories").delete().eq("id",R);if(V)throw V;const pe=d.find(ve=>ve.id===R);pe&&s(pe.name),le()}catch(V){u("Kategori silinirken hata olutu",V.message),console.error("Category delete error:",V)}},ze=R=>{de(R.active.id),Q(null),B.current=null,setTimeout(()=>{const V=document.querySelector(`[data-category-id="${R.active.id}"]`);V&&(fe.current=V.offsetWidth)},0)},G=R=>{if(!R.over||!re){K.current=null;return}const V=R.over.id;K.current=V};O.useEffect(()=>{if(!re)return;let R=null;const pe=setInterval(()=>{R=requestAnimationFrame(()=>{K.current!==B.current&&(B.current=K.current,Q(K.current)),R=null})},100);return()=>{R&&cancelAnimationFrame(R),clearInterval(pe)}},[re]);const L=O.useRef({up:!1,down:!1});O.useEffect(()=>{if(!re){ue({up:!1,down:!1}),L.current={up:!1,down:!1};return}let R=null,V=0;const pe=150,ve=Re=>{Date.now()-V<pe||R||(R=requestAnimationFrame(()=>{const P=window.innerHeight||document.documentElement.clientHeight,ye=Math.max(80,P*.12),Ye=Re<ye?{up:!0,down:!1}:Re>P-ye?{up:!1,down:!0}:{up:!1,down:!1};(Ye.up!==L.current.up||Ye.down!==L.current.down)&&(L.current=Ye,ue(Ye)),V=Date.now(),R=null}))},Ee=Re=>{const Ae=Re.clientY||(Re.touches&&Re.touches[0]?Re.touches[0].clientY:window.innerHeight/2);ve(Ae)},qe=Re=>{const Ae=Re.clientY||window.innerHeight/2;ve(Ae)};window.addEventListener("mousemove",Ee,{capture:!0,passive:!0}),window.addEventListener("wheel",qe,{capture:!0,passive:!0});const et=Re=>{Re.touches&&Re.touches[0]&&ve(Re.touches[0].clientY)};return window.addEventListener("touchmove",et,{passive:!0,capture:!0}),()=>{R&&cancelAnimationFrame(R),window.removeEventListener("mousemove",Ee,{capture:!0}),window.removeEventListener("wheel",qe,{capture:!0}),window.removeEventListener("touchmove",et,{capture:!0}),ue({up:!1,down:!1}),L.current={up:!1,down:!1}}},[re]);const F=()=>{de(null),Q(null),ue({up:!1,down:!1}),B.current=null,window.dragUpdateTimeout&&clearTimeout(window.dragUpdateTimeout)},X=async R=>{const{active:V,over:pe}=R;if(ue({up:!1,down:!1}),Q(null),B.current=null,window.dragUpdateTimeout&&clearTimeout(window.dragUpdateTimeout),!pe||V.id===pe.id){de(null),Q(null);return}const ve=d.find(Ae=>Ae.id===V.id),Ee=d.find(Ae=>Ae.id===pe.id);if(!ve||!Ee){de(null),Q(null);return}const qe=d.findIndex(Ae=>Ae.id===V.id),et=d.findIndex(Ae=>Ae.id===pe.id);if(qe===-1||et===-1){de(null),Q(null);return}const Re=[{id:ve.id,order_index:et},{id:Ee.id,order_index:qe}];try{const Ae=Re.map(Ye=>ht.from("categories").update({order_index:Ye.order_index}).eq("id",Ye.id));await Promise.all(Ae);const ye=[...d.map(Ye=>{const Be=Re.find(Le=>Le.id===Ye.id);return Be?{...Ye,order_index:Be.order_index}:Ye})].sort((Ye,Be)=>{const Le=Ye.order_index??0,ce=Be.order_index??0;return Le-ce});o("Kategori"),f(ye),de(null),Q(null),B.current=null,K.current=null}catch(Ae){console.error("Sralama gncelleme hatas:",Ae),u("Sralama gncellenirken hata olutu",Ae.message),le(),de(null),Q(null),B.current=null}};function ie({category:R,categoryIndex:V,isMobile:pe,isDark:ve,onEdit:Ee,onDelete:qe}){const{attributes:et,listeners:Re,setNodeRef:Ae,transform:P,transition:ye,isDragging:Ye}=bv({id:R.id,disabled:!1}),Be=re===R.id&&re!==null,Le=oe===R.id&&oe!==null&&!Be,ce={transform:"none",transition:"none",opacity:Ye?.3:1,cursor:"default",willChange:"auto"};return w.jsx("div",{ref:Ae,style:{...ce,background:Be?ve?"rgba(59, 130, 246, 0.2)":"rgba(59, 130, 246, 0.05)":Le?ve?"rgba(59, 130, 246, 0.3)":"#e0f2fe":ve?"rgba(15, 23, 42, 0.85)":"white",borderRadius:"12px",boxShadow:Be?ve?"0 2px 8px rgba(59, 130, 246, 0.3)":"0 2px 8px rgba(59, 130, 246, 0.15)":Le?ve?"0 4px 12px rgba(59, 130, 246, 0.4)":"0 4px 12px rgba(0,0,0,0.15)":ve?"0 25px 50px -12px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(139, 92, 246, 0.2)":"0 1px 3px rgba(0,0,0,0.1)",border:Be?"1px solid rgba(59, 130, 246, 0.3)":Le?"2px dashed #3b82f6":ve?"1px solid rgba(139, 92, 246, 0.3)":"1px solid #e2e8f0",overflow:"hidden",transition:"none",transform:"none",position:"relative",zIndex:Ye?1:Be?2:1,pointerEvents:Ye?"none":"auto",animation:"none",width:"100%",height:"auto"},"data-category-id":R.id,children:w.jsxs("div",{style:{padding:pe?"1.25rem":"1.5rem",display:"flex",alignItems:"center",gap:"1rem"},children:[w.jsx("div",{...et,...Re,style:{fontSize:"1.5rem",cursor:Ye?"grabbing":"grab",userSelect:"none",zIndex:15,background:"rgba(255,255,255,0.9)",borderRadius:"4px",padding:"0.25rem 0.5rem",touchAction:"none"},children:""}),w.jsxs("div",{style:{flex:1},children:[w.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"1rem"},children:[w.jsx("div",{children:w.jsx("h3",{style:{margin:"0",fontSize:pe?"1.125rem":"1.25rem",color:ve?"#ffffff":"#1e293b",fontWeight:"600"},children:R.name})}),!R.is_active&&w.jsx("span",{style:{padding:"0.25rem 0.75rem",background:"#fee2e2",color:"#dc2626",borderRadius:"6px",fontSize:"0.75rem",fontWeight:"500"},children:"Pasif"})]}),w.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[w.jsx(Zr,{onClick:()=>Ee(R),variant:"secondary",style:{flex:1,minWidth:"100px",fontSize:pe?"0.875rem":"0.9375rem",padding:pe?"0.625rem":"0.75rem"},children:" Dzenle"}),w.jsx(Zr,{onClick:()=>qe(R.id),variant:"danger",style:{flex:1,minWidth:"100px",fontSize:pe?"0.875rem":"0.9375rem",padding:pe?"0.625rem":"0.75rem"},children:" Sil"})]})]})]})})}return h&&d.length===0?w.jsx(Aa,{children:w.jsx($a,{message:"Kategoriler ykleniyor..."})}):w.jsx(Aa,{children:w.jsx(cv,{sensors:se,collisionDetection:Vb,onDragStart:ze,onDragOver:G,onDragEnd:X,onDragCancel:F,autoScroll:{threshold:{x:.12,y:.12},acceleration:13,interval:9,enabled:!0},children:w.jsxs("div",{children:[w.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:x?"1.5rem":"2rem",flexWrap:"wrap",gap:"1rem"},children:[w.jsxs("h1",{style:{margin:0,fontSize:x?"1.5rem":"2rem",color:e?"#ffffff":"#1e293b",display:"flex",alignItems:"center",gap:"0.75rem"},children:[w.jsx("svg",{width:x?"28":"32",height:x?"28":"32",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:w.jsx("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z",stroke:e?"#ffffff":"#1e293b",strokeWidth:"2",fill:"none"})}),"Kategoriler"]}),w.jsx(Zr,{onClick:()=>J(),variant:"primary",style:{fontSize:x?"0.9375rem":"1rem",padding:x?"0.75rem 1.25rem":"0.875rem 1.5rem"},children:" Kategori Ekle"})]}),d.length===0?w.jsxs("div",{style:{background:e?"rgba(15, 23, 42, 0.85)":"white",padding:x?"2rem 1rem":"3rem 2rem",borderRadius:"12px",textAlign:"center",boxShadow:e?"0 25px 50px -12px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(139, 92, 246, 0.2)":"0 1px 3px rgba(0,0,0,0.1)",border:e?"1px solid rgba(139, 92, 246, 0.3)":"none"},children:[w.jsx("p",{style:{fontSize:x?"1.125rem":"1.25rem",color:e?"#cbd5e1":"#64748b",marginBottom:"1rem"},children:"Henz kategori eklenmemi"}),w.jsx(Zr,{onClick:()=>J(),variant:"primary",children:" lk Kategoriyi Ekle"})]}):w.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[w.jsx("div",{style:{padding:"0.75rem 1rem",background:e?"rgba(30, 41, 59, 0.6)":"#f8fafc",borderRadius:"8px",border:e?"1px solid rgba(139, 92, 246, 0.2)":"none",fontSize:"0.875rem",color:e?"#cbd5e1":"#64748b",marginBottom:"0.5rem"},children:" pucu: Buraya bu sembole () basarak yer deitirebilirsiniz"}),w.jsx(C1,{items:d.map(R=>R.id),strategy:N1,children:[...d].sort((R,V)=>{const pe=R.order_index??0,ve=V.order_index??0;return pe-ve}).map((R,V)=>w.jsx(ie,{category:R,categoryIndex:V,isMobile:x,isDark:e,onEdit:J,onDelete:_e},R.id))}),w.jsx(fv,{children:re?(()=>{const R=d.find(pe=>pe.id===re);if(!R)return null;const V=fe.current||"100%";return w.jsx("div",{className:"drag-overlay-card",style:{background:e?"rgba(15, 23, 42, 0.95)":"white",borderRadius:"12px",boxShadow:e?"0 8px 24px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(139, 92, 246, 0.3)":"0 8px 24px rgba(0, 0, 0, 0.25)",border:e?"1px solid rgba(139, 92, 246, 0.3)":"1px solid #e2e8f0",opacity:.9,width:typeof V=="number"?`${V}px`:V,minWidth:typeof V=="number"?`${V}px`:V,maxWidth:typeof V=="number"?`${V}px`:V,pointerEvents:"none",zIndex:2e3,transform:"none !important",transformOrigin:"center center",boxSizing:"border-box",scale:"1 !important",rotate:"0deg !important",flexShrink:0,flexGrow:0},children:w.jsxs("div",{style:{padding:x?"1.25rem":"1.5rem",display:"flex",alignItems:"center",gap:"1rem"},children:[w.jsx("div",{style:{fontSize:"1.5rem",cursor:"grabbing",userSelect:"none"},children:""}),w.jsx("div",{style:{flex:1},children:w.jsx("h3",{style:{margin:"0",fontSize:x?"1.125rem":"1.25rem",color:e?"#ffffff":"#1e293b",fontWeight:"600"},children:R.name})})]})})})():null}),re&&w.jsxs(w.Fragment,{children:[q.up&&w.jsx("div",{style:{position:"fixed",top:"10px",left:"50%",transform:"translateX(-50%)",zIndex:1e4,pointerEvents:"none",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"0.4rem"},children:[0,1,2].map(R=>w.jsx("div",{style:{width:"0",height:"0",borderLeft:"14px solid transparent",borderRight:"14px solid transparent",borderBottom:"20px solid",borderBottomColor:R===1?"#059669":"#10b981",animation:`arrowPulse 0.6s ease-in-out infinite ${R*.1}s`,filter:"drop-shadow(0 2px 6px rgba(16, 185, 129, 0.6))"}},R))}),q.down&&w.jsx("div",{style:{position:"fixed",bottom:"10px",left:"50%",transform:"translateX(-50%)",zIndex:1e4,pointerEvents:"none",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"0.4rem"},children:[0,1,2].map(R=>w.jsx("div",{style:{width:"0",height:"0",borderLeft:"14px solid transparent",borderRight:"14px solid transparent",borderTop:"20px solid",borderTopColor:R===1?"#059669":"#10b981",animation:`arrowPulse 0.6s ease-in-out infinite ${R*.1}s`,filter:"drop-shadow(0 2px 6px rgba(16, 185, 129, 0.6))"}},R))})]})]}),y&&w.jsx("div",{onClick:ee,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",padding:x?"1rem":"2rem"},children:w.jsxs("div",{onClick:R=>R.stopPropagation(),style:{background:e?"rgba(15, 23, 42, 0.95)":"white",borderRadius:"12px",padding:x?"1.5rem":"2rem",width:"100%",maxWidth:"500px",maxHeight:"90vh",overflowY:"auto",boxShadow:e?"0 20px 40px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(139, 92, 246, 0.3)":"0 20px 40px rgba(0,0,0,0.2)",border:e?"1px solid rgba(139, 92, 246, 0.3)":"none"},children:[w.jsx("h2",{style:{margin:"0 0 1.5rem 0",fontSize:x?"1.25rem":"1.5rem",color:e?"#ffffff":"#1e293b"},children:T?" Kategori Dzenle":" Kategori Ekle"}),w.jsxs("form",{onSubmit:he,children:[w.jsx(yu,{label:"Kategori Ad",type:"text",value:N.name,onChange:R=>D({...N,name:R.target.value}),placeholder:"rn: Kahveler, ecekler",required:!0,error:U&&!N.name.trim()?U:null,style:{marginBottom:"1.25rem"}}),U&&w.jsx("div",{style:{padding:"0.75rem",background:"#fee",border:"1px solid #fcc",borderRadius:"6px",color:"#c33",marginBottom:"1rem",fontSize:"0.875rem"},children:U}),w.jsxs("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end"},children:[w.jsx(Zr,{type:"button",variant:"secondary",onClick:ee,style:{fontSize:x?"0.9375rem":"1rem"},children:"ptal"}),w.jsx(Zr,{type:"submit",variant:"primary",style:{fontSize:x?"0.9375rem":"1rem"},children:T?" Kaydet":" Ekle"})]})]})]})})]})})})}function RA(){const{business:t}=Uo(),{isDark:e}=qo(),{notifyProductAdded:n,notifyProductUpdated:a,notifyProductDeleted:s,notifyProductStatusChanged:o,notifyOrderChanged:u,notifyError:d}=_u(),[f,h]=O.useState([]),[g,x]=O.useState([]),[S,y]=O.useState(!0),[E,T]=O.useState(!1),[k,N]=O.useState(!1),[D,U]=O.useState(null),[M,re]=O.useState({name:"",price:"",description:"",category_id:"",image:null,imagePreview:null}),[de,oe]=O.useState(!1),[Q,q]=O.useState(""),[ue,B]=O.useState(null),[K,fe]=O.useState(null),[se,le]=O.useState({up:!1,down:!1}),[J,ee]=O.useState(null),he=O.useRef(null),_e=O.useRef(null),ze=O.useRef(null),G=O.useRef(null),L=O.useRef(null),F=$b(Ph(s0,{activationConstraint:{distance:5}}),Ph(a0,{coordinateGetter:vv}));O.useEffect(()=>{const ce=()=>{T(window.innerWidth<768)};return ce(),window.addEventListener("resize",ce),()=>window.removeEventListener("resize",ce)},[]),O.useEffect(()=>{t?.id&&(X(),ie())},[t]);const X=async()=>{try{const{data:ce,error:be}=await ht.from("categories").select("*").eq("business_id",t.id).order("order_index",{ascending:!0});if(be)throw be;x(ce||[])}catch(ce){console.error("Categories fetch error:",ce)}},ie=async()=>{try{y(!0);const{data:ce,error:be}=await ht.from("products").select("*, categories(name)").eq("business_id",t.id).order("order_index",{ascending:!0}).order("created_at",{ascending:!1});if(be)throw be;const He=(ce||[]).sort((Ve,Qe)=>Ve.is_active!==Qe.is_active?Ve.is_active?-1:1:(Ve.order_index||0)-(Qe.order_index||0));h(He)}catch(ce){console.error("Products fetch error:",ce),d("rnler yklenirken hata olutu",ce.message)}finally{y(!1)}};O.useEffect(()=>{if(!t?.id)return;const ce=ht.channel(`products:${t.id}`).on("postgres_changes",{event:"*",schema:"public",table:"products",filter:`business_id=eq.${t.id}`},async be=>{console.log(" Product changed (Realtime):",be.eventType,be.new?.id||be.old?.id),(be.eventType==="UPDATE"||be.eventType==="INSERT"||be.eventType==="DELETE")&&ie()}).subscribe();return()=>{ht.removeChannel(ce)}},[t?.id]);const R=(ce=null)=>{ce?(U(ce),re({name:ce.name||"",price:ce.price||"",description:ce.description||"",category_id:ce.category_id||"",image:null,imagePreview:ce.image_url||null})):(U(null),re({name:"",price:"",description:"",category_id:g[0]?.id||"",image:null,imagePreview:null})),N(!0),q("")},V=()=>{N(!1),U(null),re({name:"",price:"",description:"",category_id:"",image:null,imagePreview:null}),q("")},pe=ce=>{const be=ce.target.files[0];if(be){if(be.size>2*1024*1024){q("Grsel boyutu 2MB'dan kk olmaldr");return}if(!be.type.startsWith("image/")){q("Ltfen bir grsel dosyas sein");return}re({...M,image:be,imagePreview:URL.createObjectURL(be)}),q("")}},ve=async ce=>{if(!M.image)return null;try{const be=M.image.name.split(".").pop(),He=`${ce}.${be}`,Ve=`${t.id}/products/${He}`,{error:Qe}=await ht.storage.from("product-images").upload(Ve,M.image,{cacheControl:"3600",upsert:!0});if(Qe)throw Qe;const{data:{publicUrl:at}}=ht.storage.from("product-images").getPublicUrl(Ve);return at}catch(be){throw console.error("Image upload error:",be),new Error("Grsel yklenirken hata olutu: "+be.message)}},Ee=async ce=>{if(ce.preventDefault(),q(""),oe(!0),!M.name.trim()){q("rn ad gerekli"),oe(!1);return}if(!M.price||parseFloat(M.price)<=0){q("Geerli bir fiyat girin"),oe(!1);return}try{let be=M.imagePreview;if(D){M.image&&(be=await ve(D.id));const He=D.category_id||null,Ve=M.category_id||null,Qe=He!==Ve,at={name:M.name.trim(),price:parseFloat(M.price),description:M.description.trim()||null,category_id:M.category_id||null,image_url:be||null};if(Qe){const nt=f.filter($e=>($e.category_id||null)===Ve&&$e.id!==D.id),pt=nt.length>0?Math.max(...nt.map($e=>$e.order_index||0)):-1;at.order_index=pt+1}const{error:ut}=await ht.from("products").update(at).eq("id",D.id);if(ut)throw ut;a({...D,...M})}else{const He=f.filter(ut=>(ut.category_id||null)===(M.category_id||null)),Ve=He.length>0?Math.max(...He.map(ut=>ut.order_index||0)):-1,{data:Qe,error:at}=await ht.from("products").insert({business_id:t.id,name:M.name.trim(),price:parseFloat(M.price),description:M.description.trim()||null,category_id:M.category_id||null,is_active:!0,order_index:Ve+1}).select().single();if(at)throw at;if(M.image&&Qe){be=await ve(Qe.id);const{error:ut}=await ht.from("products").update({image_url:be}).eq("id",Qe.id);if(ut)throw ut}n(Qe)}V(),ie()}catch(be){q(be.message||"Bir hata olutu"),d("rn kaydedilirken hata olutu",be.message),console.error("Product save error:",be)}finally{oe(!1)}},qe=async ce=>{if(confirm("Bu rn silmek istediinize emin misiniz?"))try{const{error:be}=await ht.from("products").delete().eq("id",ce);if(be)throw be;const He=f.find(Ve=>Ve.id===ce);He&&s(He.name),ie()}catch(be){d("rn silinirken hata olutu",be.message),console.error("Product delete error:",be)}},et=async(ce,be)=>{try{const He=f.find(nt=>nt.id===ce);if(!He)return;const Ve=!be,Qe=He.order_index||0;let at={is_active:Ve};if(Ve===!1)at.saved_order_index=Qe;else{const nt=He.saved_order_index;if(nt!=null){const pt=f.filter(ot=>ot.category_id===He.category_id&&ot.is_active===!0&&ot.id!==ce).sort((ot,lt)=>(ot.order_index||0)-(lt.order_index||0));if(pt.find(ot=>ot.order_index===nt)){at.order_index=nt,at.saved_order_index=null;const ot=pt.filter(st=>(st.order_index||0)>=nt),lt=[],qt=new Set([nt]);ot.forEach(st=>{let ct=(st.order_index||0)+1;for(;qt.has(ct);)ct++;qt.add(ct),lt.push({id:st.id,order_index:ct})});const it=[{id:ce,is_active:Ve,order_index:nt,saved_order_index:null},...lt].map(st=>st.id===ce?ht.from("products").update({is_active:st.is_active,order_index:st.order_index,saved_order_index:null}).eq("id",st.id):ht.from("products").update({order_index:st.order_index}).eq("id",st.id));await Promise.all(it)}else{at.order_index=nt,at.saved_order_index=null;const{error:ot}=await ht.from("products").update(at).eq("id",ce);if(ot)throw ot}}else{const{error:pt}=await ht.from("products").update(at).eq("id",ce);if(pt)throw pt}}if(Ve===!1){const{error:nt}=await ht.from("products").update(at).eq("id",ce);if(nt)throw nt}h(nt=>{const pt=nt.map($e=>{if($e.id===ce){const ot={...$e,is_active:Ve};return Ve===!1?ot.saved_order_index=Qe:$e.saved_order_index!==null&&$e.saved_order_index!==void 0&&(ot.order_index=$e.saved_order_index,ot.saved_order_index=null),ot}return $e});if(Ve===!0){const $e=pt.find(ot=>ot.id===ce);if($e&&$e.saved_order_index===null&&$e.order_index!==void 0){const ot=pt.filter(qt=>qt.category_id===$e.category_id&&qt.is_active===!0&&qt.id!==ce).sort((qt,rt)=>(qt.order_index||0)-(rt.order_index||0));if(ot.find(qt=>qt.order_index===$e.order_index)){const qt=ot.filter(it=>(it.order_index||0)>=$e.order_index),rt=new Set([$e.order_index]);qt.forEach(it=>{let st=(it.order_index||0)+1;for(;rt.has(st);)st++;rt.add(st),it.order_index=st})}}}return pt.sort(($e,ot)=>$e.is_active!==ot.is_active?$e.is_active?-1:1:($e.order_index||0)-(ot.order_index||0))});const ut=f.find(nt=>nt.id===ce);ut&&o(ut,Ve)}catch(He){d("rn durumu gncellenirken hata olutu",He.message),console.error("Product toggle active error:",He),ie()}},Re=ce=>{B(ce.active.id),fe(null),ee(null),he.current=null,_e.current=null,setTimeout(()=>{const be=document.querySelector(`[data-product-id="${ce.active.id}"]`);if(be)L.current=be.offsetWidth;else{const He=(window.innerWidth>768,window.innerWidth);L.current=E?null:(He-48)/3}},0)},Ae=ce=>{if(!ce.over||!ue){ze.current=null,G.current=null;return}const be=ce.over.id,He=f.find($e=>$e.id===ue),Ve=f.find($e=>$e.id===be);if(!He||!Ve){ze.current=be,G.current=null;return}const Qe=He.category_id||null,at=Ve.category_id||null;if(Qe!==at){ze.current=be,G.current=null;return}const nt=f.filter($e=>($e.category_id||null)===Qe).sort(($e,ot)=>$e.is_active!==ot.is_active?$e.is_active?-1:1:($e.order_index||0)-(ot.order_index||0)).findIndex($e=>$e.id===be),pt=nt!==-1?{categoryId:Qe,index:nt}:null;ze.current=be,G.current=pt};O.useEffect(()=>{if(!ue)return;let ce=null;const He=setInterval(()=>{ce=requestAnimationFrame(()=>{ze.current!==he.current&&(he.current=ze.current,fe(ze.current));const Ve=G.current?`${G.current.categoryId}-${G.current.index}`:null,Qe=_e.current?`${_e.current.categoryId}-${_e.current.index}`:null;Ve!==Qe&&(_e.current=G.current,ee(G.current)),ce=null})},100);return()=>{ce&&cancelAnimationFrame(ce),clearInterval(He)}},[ue]);const P=O.useRef({up:!1,down:!1});O.useEffect(()=>{if(!ue){le({up:!1,down:!1}),P.current={up:!1,down:!1};return}let ce=null,be=0;const He=150,Ve=nt=>{Date.now()-be<He||ce||(ce=requestAnimationFrame(()=>{const $e=window.innerHeight||document.documentElement.clientHeight,ot=Math.max(80,$e*.12),lt=nt<ot?{up:!0,down:!1}:nt>$e-ot?{up:!1,down:!0}:{up:!1,down:!1};(lt.up!==P.current.up||lt.down!==P.current.down)&&(P.current=lt,le(lt)),be=Date.now(),ce=null}))},Qe=nt=>{const pt=nt.clientY||(nt.touches&&nt.touches[0]?nt.touches[0].clientY:window.innerHeight/2);Ve(pt)},at=nt=>{const pt=nt.clientY||window.innerHeight/2;Ve(pt)};window.addEventListener("mousemove",Qe,{capture:!0,passive:!0}),window.addEventListener("wheel",at,{capture:!0,passive:!0});const ut=nt=>{nt.touches&&nt.touches[0]&&Ve(nt.touches[0].clientY)};return window.addEventListener("touchmove",ut,{passive:!0,capture:!0}),()=>{ce&&cancelAnimationFrame(ce),window.removeEventListener("mousemove",Qe,{capture:!0}),window.removeEventListener("wheel",at,{capture:!0}),window.removeEventListener("touchmove",ut,{capture:!0}),le({up:!1,down:!1}),P.current={up:!1,down:!1}}},[ue]);const ye=async ce=>{const{active:be,over:He}=ce;if(le({up:!1,down:!1}),fe(null),window.dragUpdateTimeout&&clearTimeout(window.dragUpdateTimeout),!He||be.id===He.id){setTimeout(()=>{ee(null),B(null)},400);return}const Ve=f.find(ct=>ct.id===be.id),Qe=f.find(ct=>ct.id===He.id);if(!Ve||!Qe){setTimeout(()=>{ee(null),B(null)},400);return}if(!Ve.is_active||!Qe.is_active){setTimeout(()=>{ee(null),B(null)},400);return}const at=Ve.category_id||null,ut=Qe.category_id||null;if(at!==ut){setTimeout(()=>{ee(null),B(null)},400);return}const nt=f.filter(ct=>(ct.category_id||null)===at&&ct.is_active===!0).sort((ct,yt)=>(ct.order_index||0)-(yt.order_index||0)),pt=nt.findIndex(ct=>ct.id===be.id),$e=nt.findIndex(ct=>ct.id===He.id);if(pt===-1||$e===-1){ee(null),B(null);return}const lt=f.filter(ct=>(ct.category_id||null)===at).find(ct=>!ct.is_active&&ct.saved_order_index!==null&&ct.saved_order_index!==void 0&&ct.saved_order_index===Qe.order_index);let qt=Ve.order_index||pt,rt=Qe.order_index||$e;lt&&(rt=lt.saved_order_index);const it=[{id:Ve.id,order_index:rt},{id:Qe.id,order_index:qt}],st={categoryId:at,index:$e};try{const ct=it.map($t=>ht.from("products").update({order_index:$t.order_index}).eq("id",$t.id));await Promise.all(ct);const yt=f.map($t=>{const Et=it.find(St=>St.id===$t.id);return Et?{...$t,order_index:Et.order_index}:$t});h(yt),u("rn"),B(null),ee(st),setTimeout(()=>{ee(null),he.current=null,_e.current=null},2e3)}catch(ct){console.error("Sralama gncelleme hatas:",ct),d("Sralama gncellenirken hata olutu",ct.message),ie(),ee(null),B(null)}};function Ye({product:ce,categoryId:be,productIndex:He,isMobile:Ve,isDark:Qe,onEdit:at,onDelete:ut,onToggleActive:nt,isDropZone:pt}){const{attributes:$e,listeners:ot,setNodeRef:lt,transform:qt,transition:rt,isDragging:it}=bv({id:ce.id,disabled:!1}),st=ue?f.find(dt=>dt.id===ue):null,ct=ue===ce.id,yt=K===ce.id,$t=st&&st.category_id||null,Et=be||null,St=ue&&yt&&!ct&&($t!==Et||!ce.is_active),Kt=pt&&$t===Et&&ce.is_active,kt={transform:"none",transition:"none",opacity:it?.3:St?.6:ce.is_active?1:.5,cursor:"default",willChange:"auto"};return w.jsxs("div",{ref:dt=>{lt(dt),dt&&it&&!L.current&&(L.current=dt.offsetWidth)},style:{...kt,background:Kt?"linear-gradient(135deg, rgba(16, 185, 129, 0.2) 0%, rgba(5, 150, 105, 0.15) 100%)":ct?Qe?"rgba(59, 130, 246, 0.2)":"rgba(59, 130, 246, 0.05)":St?"linear-gradient(135deg, #fee2e2 0%, #fecaca 100%)":Qe?"rgba(15, 23, 42, 0.85)":"white",borderRadius:"12px",boxShadow:Kt?"0 0 0 3px rgba(16, 185, 129, 0.4), 0 8px 24px rgba(16, 185, 129, 0.3)":ct?Qe?"0 2px 8px rgba(59, 130, 246, 0.3)":"0 2px 8px rgba(59, 130, 246, 0.15)":St?"0 2px 8px rgba(239, 68, 68, 0.3)":Qe?"0 25px 50px -12px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(139, 92, 246, 0.2)":"0 1px 3px rgba(0,0,0,0.1)",border:Kt?"3px solid #10b981":ct?"1px solid rgba(59, 130, 246, 0.3)":St?"2px solid #ef4444":Qe?"1px solid rgba(139, 92, 246, 0.3)":"1px solid #e2e8f0",overflow:"hidden",transition:Kt?"all 0.3s ease":"none",position:"relative",transform:Kt?"scale(1.02)":"none",zIndex:it?1:Kt?6:St?5:2,pointerEvents:it?"none":"auto",animation:Kt?"dropZonePulse 1.5s ease-in-out infinite":"none",filter:St?"blur(1px)":"none",opacity:it?.3:St?.6:1,width:"100%",height:"auto"},"data-product-id":ce.id,"data-category-id":be||null,children:[!ce.is_active&&w.jsx("div",{style:{position:"absolute",top:"0.75rem",right:"0.75rem",background:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",color:"white",padding:"0.5rem 1rem",borderRadius:"20px",fontSize:Ve?"0.75rem":"0.875rem",fontWeight:"700",zIndex:10,boxShadow:"0 2px 8px rgba(239, 68, 68, 0.4)",letterSpacing:"0.05em"},children:"TKEND"}),St&&w.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:20,fontSize:"4rem",color:"#ef4444",fontWeight:"bold",textShadow:"0 2px 8px rgba(0,0,0,0.3)",pointerEvents:"none"},children:""}),w.jsx("div",{...$e,...ot,style:{position:"absolute",top:"0.5rem",right:"0.5rem",fontSize:"1.25rem",cursor:it?"grabbing":"grab",userSelect:"none",zIndex:15,background:"rgba(255,255,255,0.9)",borderRadius:"4px",padding:"0.25rem 0.5rem",touchAction:"none"},children:""}),ce.image_url&&w.jsx("div",{style:{width:"100%",height:"200px",background:"#f5f5f5",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:w.jsx("img",{src:ce.image_url,alt:ce.name,style:{width:"100%",height:"100%",objectFit:"cover",opacity:ce.is_active?1:.5,filter:ce.is_active?"none":"grayscale(0.8)"},onError:dt=>{dt.target.style.display="none"}})}),w.jsxs("div",{style:{padding:Ve?"1rem":"1.25rem"},children:[w.jsxs("div",{style:{marginBottom:"0.75rem",opacity:ce.is_active?1:.5,filter:ce.is_active?"none":"grayscale(0.8)"},children:[w.jsx("h3",{style:{margin:"0 0 0.5rem 0",fontSize:Ve?"1.125rem":"1.25rem",color:ce.is_active?Qe?"#ffffff":"#1e293b":"#9ca3af",fontWeight:"600",lineHeight:"1.4"},children:ce.name}),ce.description&&w.jsx("p",{style:{margin:0,fontSize:Ve?"0.8125rem":"0.875rem",color:ce.is_active?Qe?"#cbd5e1":"#64748b":"#9ca3af",lineHeight:"1.5",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:ce.description})]}),w.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"1rem",paddingTop:"1rem",borderTop:Qe?"1px solid rgba(139, 92, 246, 0.3)":"1px solid #e2e8f0"},children:[w.jsx(Pr,{price:ce.price,fontSize:Ve?"1.125rem":"1.25rem",fontWeight:"700",color:"#3b82f6"}),w.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[w.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.25rem",padding:"0.5rem",borderRadius:"6px",background:ce.is_active?Qe?"rgba(59, 130, 246, 0.2)":"#f0f9ff":Qe?"rgba(239, 68, 68, 0.2)":"#fef2f2"},children:[w.jsx("label",{style:{fontSize:"0.75rem",color:ce.is_active?Qe?"#60a5fa":"#3b82f6":Qe?"#f87171":"#ef4444",fontWeight:"600",cursor:"pointer",userSelect:"none"},children:ce.is_active?"Aktif":"Tkendi"}),w.jsx("button",{onClick:()=>nt(ce.id,ce.is_active),style:{width:"44px",height:"24px",borderRadius:"12px",border:"none",background:ce.is_active?"#3b82f6":"#9ca3af",cursor:"pointer",position:"relative",transition:"background 0.3s ease",outline:"none"},onMouseEnter:dt=>{dt.currentTarget.style.opacity="0.8"},onMouseLeave:dt=>{dt.currentTarget.style.opacity="1"},children:w.jsx("div",{style:{position:"absolute",top:"2px",left:ce.is_active?"22px":"2px",width:"20px",height:"20px",borderRadius:"50%",background:"white",transition:"left 0.3s ease",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"}})})]}),w.jsx(Zr,{variant:"secondary",onClick:()=>at(ce),style:{fontSize:Ve?"0.8125rem":"0.875rem",padding:Ve?"0.5rem 0.75rem":"0.625rem 1rem"},children:""}),w.jsx(Zr,{variant:"danger",onClick:()=>ut(ce.id),style:{fontSize:Ve?"0.8125rem":"0.875rem",padding:Ve?"0.5rem 0.75rem":"0.625rem 1rem"},children:""})]})]})]})]})}const Be=g.sort((ce,be)=>(ce.order_index||0)-(be.order_index||0)).map(ce=>({category:ce,products:f.filter(be=>be.category_id===ce.id).sort((be,He)=>be.is_active!==He.is_active?be.is_active?-1:1:(be.order_index||0)-(He.order_index||0))})).filter(ce=>ce.products.length>0),Le=f.filter(ce=>!ce.category_id).sort((ce,be)=>ce.is_active!==be.is_active?ce.is_active?-1:1:(ce.order_index||0)-(be.order_index||0));return S&&f.length===0?w.jsx(Aa,{children:w.jsx($a,{message:"rnler ykleniyor..."})}):w.jsx(Aa,{children:w.jsx(cv,{sensors:F,collisionDetection:Vb,onDragStart:Re,onDragOver:Ae,onDragEnd:ye,onDragCancel:()=>{B(null),fe(null),le({up:!1,down:!1})},autoScroll:{threshold:{x:.12,y:.12},acceleration:13,interval:9,enabled:!0},children:w.jsxs("div",{children:[w.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:E?"1.5rem":"2rem",flexWrap:"wrap",gap:"1rem"},children:[w.jsxs("h1",{style:{margin:0,fontSize:E?"1.5rem":"2rem",color:e?"#ffffff":"#1e293b",display:"flex",alignItems:"center",gap:"0.75rem"},children:[w.jsxs("svg",{width:E?"28":"32",height:E?"28":"32",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[w.jsx("path",{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z",stroke:e?"#ffffff":"#1e293b",strokeWidth:"2",fill:"none"}),w.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6",stroke:e?"#ffffff":"#1e293b",strokeWidth:"2"}),w.jsx("path",{d:"M16 10a4 4 0 0 1-8 0",stroke:e?"#ffffff":"#1e293b",strokeWidth:"2",fill:"none"})]}),"rnler"]}),w.jsx(Zr,{onClick:()=>R(),variant:"primary",disabled:g.length===0,style:{fontSize:E?"0.9375rem":"1rem",padding:E?"0.75rem 1.25rem":"0.875rem 1.5rem"},children:" rn Ekle"})]}),g.length===0&&w.jsxs("div",{style:{background:"#fef3c7",border:"1px solid #fbbf24",borderRadius:"8px",padding:"1rem",marginBottom:"1.5rem",color:"#92400e"},children:[w.jsx("strong",{children:" Uyar:"})," nce kategori eklemeniz gerekiyor. rn eklemek iin"," ",w.jsx("a",{href:"/admin/categories",style:{color:"#92400e",textDecoration:"underline"},children:"Kategoriler"})," ","sayfasna gidin."]}),f.length===0?w.jsxs("div",{style:{background:e?"rgba(15, 23, 42, 0.85)":"white",padding:E?"2rem 1rem":"3rem 2rem",borderRadius:"12px",textAlign:"center",boxShadow:e?"0 25px 50px -12px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(139, 92, 246, 0.2)":"0 1px 3px rgba(0,0,0,0.1)",border:e?"1px solid rgba(139, 92, 246, 0.3)":"none"},children:[w.jsx("p",{style:{fontSize:E?"1.125rem":"1.25rem",color:e?"#cbd5e1":"#64748b",marginBottom:"1rem"},children:"Henz rn eklenmemi"}),w.jsx(Zr,{onClick:()=>R(),variant:"primary",disabled:g.length===0,children:" lk rn Ekle"})]}):w.jsxs("div",{children:[w.jsx("div",{style:{padding:"0.75rem 1rem",background:e?"rgba(30, 41, 59, 0.6)":"#f8fafc",borderRadius:"8px",fontSize:"0.875rem",color:e?"#cbd5e1":"#64748b",marginBottom:"1.5rem",border:e?"1px solid rgba(139, 92, 246, 0.2)":"none"},children:" pucu: Buraya bu sembole () basarak yer deitirebilirsiniz"}),w.jsx(fv,{children:ue?(()=>{const ce=f.find(He=>He.id===ue);if(!ce)return null;const be=L.current||(E?"100%":"calc((100% - 2 * 1.5rem) / 3)");return w.jsxs("div",{className:"drag-overlay-card",style:{background:e?"rgba(15, 23, 42, 0.75)":"rgba(255, 255, 255, 0.75)",borderRadius:"12px",boxShadow:e?"0 8px 24px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(139, 92, 246, 0.3)":"0 8px 24px rgba(0, 0, 0, 0.25)",border:e?"1px solid rgba(139, 92, 246, 0.3)":"1px solid #e2e8f0",opacity:.65,backdropFilter:"blur(2px)",width:typeof be=="number"?`${be}px`:be,minWidth:typeof be=="number"?`${be}px`:be,maxWidth:typeof be=="number"?`${be}px`:be,pointerEvents:"none",zIndex:2e3,transform:"none !important",transformOrigin:"center center",boxSizing:"border-box",scale:"1 !important",rotate:"0deg !important",flexShrink:0,flexGrow:0},children:[ce.image_url&&w.jsx("div",{style:{width:"100%",height:"200px",background:"#f5f5f5",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"12px 12px 0 0"},children:w.jsx("img",{src:ce.image_url,alt:ce.name,style:{width:"100%",height:"100%",objectFit:"cover"},onError:He=>{He.target.style.display="none"}})}),w.jsxs("div",{style:{padding:"1.25rem"},children:[w.jsx("h3",{style:{margin:"0 0 0.5rem 0",fontSize:"1.25rem",color:e?"#ffffff":"#1e293b",fontWeight:"600",lineHeight:"1.4"},children:ce.name}),ce.description&&w.jsx("p",{style:{margin:0,fontSize:"0.875rem",color:e?"#cbd5e1":"#64748b",lineHeight:"1.5",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:ce.description}),w.jsx("div",{style:{marginTop:"1rem",paddingTop:"1rem",borderTop:e?"1px solid rgba(139, 92, 246, 0.3)":"1px solid #e2e8f0"},children:w.jsx(Pr,{price:ce.price,fontSize:"1.25rem",fontWeight:"700",color:"#3b82f6"})})]})]})})():null}),ue&&w.jsxs(w.Fragment,{children:[se.up&&w.jsx("div",{style:{position:"fixed",top:"10px",left:"50%",transform:"translateX(-50%)",zIndex:1e4,pointerEvents:"none",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"0.4rem"},children:[0,1,2].map(ce=>w.jsx("div",{style:{width:"0",height:"0",borderLeft:"14px solid transparent",borderRight:"14px solid transparent",borderBottom:"20px solid",borderBottomColor:ce===1?"#059669":"#10b981",animation:`arrowPulse 0.6s ease-in-out infinite ${ce*.1}s`,filter:"drop-shadow(0 2px 6px rgba(16, 185, 129, 0.6))"}},ce))}),se.down&&w.jsx("div",{style:{position:"fixed",bottom:"10px",left:"50%",transform:"translateX(-50%)",zIndex:1e4,pointerEvents:"none",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"0.4rem"},children:[0,1,2].map(ce=>w.jsx("div",{style:{width:"0",height:"0",borderLeft:"14px solid transparent",borderRight:"14px solid transparent",borderTop:"20px solid",borderTopColor:ce===1?"#059669":"#10b981",animation:`arrowPulse 0.6s ease-in-out infinite ${ce*.1}s`,filter:"drop-shadow(0 2px 6px rgba(16, 185, 129, 0.6))"}},ce))})]}),Be.map((ce,be)=>w.jsxs("div",{style:{marginBottom:E?"3rem":"4rem"},children:[w.jsxs("div",{style:{marginBottom:"1.5rem",paddingBottom:"0.75rem",borderBottom:"3px solid #3b82f6"},children:[w.jsxs("h2",{style:{margin:0,fontSize:E?"1.5rem":"2rem",color:e?"#ffffff":"#1e293b",fontWeight:"700"},children:[" ",ce.category.name]}),w.jsxs("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.875rem",color:e?"#cbd5e1":"#64748b"},children:[ce.products.length," rn"]})]}),w.jsx(C1,{items:ce.products.map(He=>He.id),strategy:N1,children:w.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:E?"1rem":"1.5rem",position:"relative",width:"100%",alignItems:"flex-start",alignContent:"flex-start"},children:ce.products.map((He,Ve)=>{const Qe=ue?f.find(nt=>nt.id===ue):null,ut=Qe&&(Qe.category_id||null)===ce.category.id&&J&&J.categoryId===ce.category.id&&J.index===Ve&&He.is_active;return w.jsxs("div",{style:{position:"relative",width:E?"100%":"calc((100% - 2 * 1.5rem) / 3)",flexShrink:0,flexGrow:0,transition:"none",transform:"none",zIndex:ut?1:2},children:[ut&&w.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,width:"100%",height:"100%",background:"rgba(16, 185, 129, 0.25)",borderRadius:"12px",border:"3px dashed #10b981",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.3s ease",animation:"dropZonePulse 1.5s ease-in-out infinite",zIndex:10,pointerEvents:"none"},children:w.jsx("div",{style:{color:"#10b981",fontSize:"1rem",fontWeight:"700",background:"rgba(255, 255, 255, 0.98)",padding:"0.75rem 1.5rem",borderRadius:"12px",boxShadow:"0 4px 16px rgba(16, 185, 129, 0.4)",border:"2px solid #10b981",animation:"dropZonePulse 1.5s ease-in-out infinite"},children:" Buraya koyabilirsiniz"})}),w.jsx(Ye,{product:He,categoryId:ce.category.id,isDropZone:ut,productIndex:Ve,isMobile:E,isDark:e,onEdit:R,onDelete:qe,onToggleActive:et})]},He.id)})})})]},ce.category.id)),Le.length>0&&w.jsxs("div",{style:{marginTop:E?"3rem":"4rem",paddingTop:E?"2rem":"3rem",borderTop:"2px solid #e2e8f0"},children:[w.jsxs("div",{style:{marginBottom:"1.5rem",paddingBottom:"0.75rem",borderBottom:"3px solid #f59e0b"},children:[w.jsx("h2",{style:{margin:0,fontSize:E?"1.5rem":"2rem",color:e?"#ffffff":"#1e293b",fontWeight:"700"},children:" Kategorisiz rnler"}),w.jsxs("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.875rem",color:e?"#cbd5e1":"#64748b"},children:[Le.length," rn - Ltfen bu rnlere kategori atayn"]})]}),w.jsx(C1,{items:Le.map(ce=>ce.id),strategy:N1,children:w.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:E?"1rem":"1.5rem",position:"relative",width:"100%",alignItems:"flex-start",alignContent:"flex-start"},children:Le.map((ce,be)=>{const He=ue?f.find(at=>at.id===ue):null,Qe=He&&(He.category_id||null)===null&&J&&J.categoryId===null&&J.index===be&&ce.is_active;return w.jsxs("div",{style:{position:"relative",width:E?"100%":"calc((100% - 2 * 1.5rem) / 3)",flexShrink:0,flexGrow:0,transition:"none",transform:"none",zIndex:Qe?1:2},children:[Qe&&w.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,width:"100%",height:"100%",background:"rgba(16, 185, 129, 0.25)",borderRadius:"12px",border:"3px dashed #10b981",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.3s ease",animation:"dropZonePulse 1.5s ease-in-out infinite",zIndex:10,pointerEvents:"none"},children:w.jsx("div",{style:{color:"#10b981",fontSize:"1rem",fontWeight:"700",background:"rgba(255, 255, 255, 0.98)",padding:"0.75rem 1.5rem",borderRadius:"12px",boxShadow:"0 4px 16px rgba(16, 185, 129, 0.4)",border:"2px solid #10b981",animation:"dropZonePulse 1.5s ease-in-out infinite"},children:" Buraya koyabilirsiniz"})}),w.jsx(Ye,{product:ce,categoryId:null,productIndex:be,isDropZone:Qe,isMobile:E,isDark:e,onEdit:R,onDelete:qe,onToggleActive:et})]},ce.id)})})})]})]}),k&&w.jsx("div",{onClick:V,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",padding:E?"1rem":"2rem"},children:w.jsxs("div",{onClick:ce=>ce.stopPropagation(),style:{background:e?"rgba(15, 23, 42, 0.95)":"white",borderRadius:"12px",padding:E?"1.5rem":"2rem",width:"100%",maxWidth:"600px",maxHeight:"90vh",overflowY:"auto",boxShadow:e?"0 20px 40px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(139, 92, 246, 0.3)":"0 20px 40px rgba(0,0,0,0.2)",border:e?"1px solid rgba(139, 92, 246, 0.3)":"none"},children:[w.jsx("h2",{style:{margin:"0 0 1.5rem 0",fontSize:E?"1.25rem":"1.5rem",color:e?"#ffffff":"#1e293b"},children:D?" rn Dzenle":" rn Ekle"}),w.jsxs("form",{onSubmit:Ee,children:[w.jsx(yu,{label:"rn Ad",type:"text",value:M.name,onChange:ce=>re({...M,name:ce.target.value}),placeholder:"rn: Trk Kahvesi",required:!0,style:{marginBottom:"1.25rem"}}),w.jsxs("div",{style:{marginBottom:"1.25rem"},children:[w.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:e?"#cbd5e1":"#333"},children:["Kategori ",w.jsx("span",{style:{color:"red"},children:"*"})]}),w.jsxs("select",{value:M.category_id,onChange:ce=>re({...M,category_id:ce.target.value}),required:!0,style:{width:"100%",padding:"0.75rem",fontSize:"1rem",border:e?"1px solid rgba(139, 92, 246, 0.3)":"1px solid #ddd",borderRadius:"6px",boxSizing:"border-box",fontFamily:"inherit",background:e?"rgba(30, 41, 59, 0.6)":"white",color:e?"#ffffff":"#1e293b"},children:[w.jsx("option",{value:"",children:"Kategori Sein"}),g.map(ce=>w.jsx("option",{value:ce.id,children:ce.name},ce.id))]})]}),w.jsx(yu,{label:"Fiyat ()",type:"number",step:"0.01",min:"0",value:M.price,onChange:ce=>re({...M,price:ce.target.value}),placeholder:"0.00",required:!0,style:{marginBottom:"1.25rem"}}),w.jsxs("div",{style:{marginBottom:"1.25rem"},children:[w.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#333"},children:"Aklama (Opsiyonel)"}),w.jsx("textarea",{value:M.description,onChange:ce=>re({...M,description:ce.target.value}),placeholder:"Ksa aklama (mende gsterilir)",rows:"3",style:{width:"100%",padding:"0.75rem",fontSize:"1rem",border:e?"1px solid rgba(139, 92, 246, 0.3)":"1px solid #ddd",borderRadius:"6px",boxSizing:"border-box",fontFamily:"inherit",resize:"vertical",background:e?"rgba(30, 41, 59, 0.6)":"white",color:e?"#ffffff":"#1e293b"}})]}),w.jsxs("div",{style:{marginBottom:"1.25rem"},children:[w.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:e?"#cbd5e1":"#333"},children:["Grsel ",!D&&"(Opsiyonel)"]}),w.jsx("input",{type:"file",accept:"image/*",onChange:pe,style:{width:"100%",padding:"0.5rem",fontSize:"0.9375rem",border:e?"1px solid rgba(139, 92, 246, 0.3)":"1px solid #ddd",borderRadius:"6px",boxSizing:"border-box",background:e?"rgba(30, 41, 59, 0.6)":"white",color:e?"#ffffff":"#1e293b"}}),M.imagePreview&&w.jsx("div",{style:{marginTop:"0.75rem",width:"100%",maxWidth:"200px",borderRadius:"8px",overflow:"hidden",border:"1px solid #e2e8f0"},children:w.jsx("img",{src:M.imagePreview,alt:"nizleme",style:{width:"100%",height:"auto",display:"block"}})}),w.jsx("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.8125rem",color:"#64748b"},children:"Maksimum 2MB, JPG, PNG veya WebP formatnda"})]}),Q&&w.jsx("div",{style:{padding:"0.75rem",background:"#fee",border:"1px solid #fcc",borderRadius:"6px",color:"#c33",marginBottom:"1rem",fontSize:"0.875rem"},children:Q}),w.jsxs("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end"},children:[w.jsx(Zr,{type:"button",variant:"secondary",onClick:V,disabled:de,style:{fontSize:E?"0.9375rem":"1rem"},children:"ptal"}),w.jsx(Zr,{type:"submit",variant:"primary",disabled:de,style:{fontSize:E?"0.9375rem":"1rem"},children:de?" Kaydediliyor...":D?" Kaydet":" Ekle"})]})]})]})})]})})})}function OA(){const{business:t}=Uo(),{theme:e,setThemeMode:n,isDark:a}=qo(),{notifyLogoSelected:s,notifyLogoSelectError:o,notifyLogoUploaded:u,notifyLogoUploadError:d,notifyLogoDeleted:f,notifyLogoDeleteError:h,notifySettingsSaved:g,notifySettingsSaveError:x,notifySettingsValidationError:S,notifyUrlCopied:y,notifyUrlCopyError:E,notifyQRDownloaded:T,notifyQRDownloadError:k,showSuccess:N}=_u(),[D,U]=O.useState(!0),[M,re]=O.useState(!1),[de,oe]=O.useState(!1),[Q,q]=O.useState({name:"",phone:"",email:"",slug:""}),[ue,B]=O.useState(null),[K,fe]=O.useState(null),[se,le]=O.useState(!1),[J,ee]=O.useState(""),[he,_e]=O.useState("");O.useEffect(()=>{const Re=()=>{oe(window.innerWidth<768)};return Re(),window.addEventListener("resize",Re),()=>window.removeEventListener("resize",Re)},[]),O.useEffect(()=>{t&&(q({name:t.name||"",phone:t.phone||"",email:t.email||"",slug:t.slug||""}),t.logo_url&&fe(t.logo_url),U(!1))},[t]);const ze=Re=>{const Ae=Re.target.files?.[0];if(Ae){if(Ae.size>2*1024*1024){ee("Logo boyutu 2MB'dan kk olmaldr"),o("size");return}if(!Ae.type.startsWith("image/")){ee("Ltfen bir grsel dosyas sein"),o("type");return}B(Ae),fe(URL.createObjectURL(Ae)),ee(""),s()}},G=async()=>{if(!ue||!t)return null;try{const Ae=`logo.${ue.name.split(".").pop()}`,P=`${t.id}/${Ae}`,{error:ye}=await ht.storage.from("product-images").upload(P,ue,{cacheControl:"3600",upsert:!0});if(ye)throw ye;const{data:{publicUrl:Ye}}=ht.storage.from("product-images").getPublicUrl(P);return u(),Ye}catch(Re){throw console.error("Logo upload error:",Re),d(Re.message),new Error("Logo yklenirken hata olutu: "+Re.message)}},L=async()=>{if(t?.logo_url)try{if(re(!0),ee(""),_e(""),t.logo_url){const Ae=t.logo_url.split("/"),P=Ae[Ae.length-1],ye=`${t.id}/${P}`,{error:Ye}=await ht.storage.from("product-images").remove([ye]);Ye&&console.warn("Logo storage silme hatas (devam ediliyor):",Ye)}const{error:Re}=await ht.from("businesses").update({logo_url:null}).eq("id",t.id);if(Re)throw Re;_e("Logo baaryla silindi!"),fe(null),B(null),f(),setTimeout(()=>{window.location.reload()},1e3)}catch(Re){ee(Re.message||"Logo silinirken hata olutu"),h(Re.message||"Logo silinirken hata olutu"),console.error("Logo delete error:",Re)}finally{re(!1)}},F=async Re=>{if(Re.preventDefault(),ee(""),_e(""),re(!0),le(!1),!Q.name.trim()){ee("letme ad gerekli"),S("name"),re(!1);return}if(!Q.slug.trim()){ee("URL slug gerekli"),S("slug"),re(!1);return}if(!/^[a-z0-9-]+$/.test(Q.slug.trim())){ee("URL slug sadece kk harf, say ve tire ierebilir"),S("slugFormat"),re(!1);return}try{let P=t?.logo_url||null;if(ue){if(le(!0),t?.logo_url)try{const Be=t.logo_url.split("/"),Le=Be[Be.length-1],ce=`${t.id}/${Le}`;await ht.storage.from("product-images").remove([ce])}catch(Be){console.warn("Eski logo silme hatas (devam ediliyor):",Be)}P=await G(),le(!1)}const ye={name:Q.name.trim(),phone:Q.phone.trim()||null,email:Q.email.trim()||null,slug:Q.slug.trim().toLowerCase()};P&&(ye.logo_url=P);const{error:Ye}=await ht.from("businesses").update(ye).eq("id",t.id);if(Ye)throw Ye;_e("Ayarlar baaryla kaydedildi!"),B(null),g(),setTimeout(()=>{window.location.reload()},1e3)}catch(P){ee(P.message||"Ayarlar kaydedilirken hata olutu"),x(P.message||"Ayarlar kaydedilirken hata olutu"),console.error("Settings save error:",P),le(!1)}finally{re(!1)}},X=()=>t?.slug?`https://www.osman25dem2.workers.dev/${t.slug}`:null,ie=()=>t?.slug?`https://qr-menum.github.io/${t.slug}`:null,R=X(),V=ie();O.useEffect(()=>{if(t?.id&&t?.slug&&(t.qr_url!==R||t.main_url!==V)){const Re={};R&&t.qr_url!==R&&(Re.qr_url=R),V&&t.main_url!==V&&(Re.main_url=V),Object.keys(Re).length>0&&ht.from("businesses").update(Re).eq("id",t.id).then(({error:Ae})=>{Ae?console.error("URL kaydetme hatas:",Ae):console.log("URL'ler gncellendi:",Re)})}},[t?.id,t?.slug,R,V]);const pe=R?`https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=${encodeURIComponent(R)}`:null,ve=()=>{V?(navigator.clipboard.writeText(V),_e(" Link kopyaland!"),y("menu"),setTimeout(()=>_e(""),3e3)):E("menu")},Ee=()=>{R?(navigator.clipboard.writeText(R),_e(" QR URL kopyaland!"),y("qr"),setTimeout(()=>_e(""),3e3)):E("qr")},qe=()=>{V?(navigator.clipboard.writeText(V),_e(" Ana URL kopyaland!"),y("main"),setTimeout(()=>_e(""),3e3)):E("main")},et=()=>{if(pe){const Re=document.createElement("a");Re.href=pe,Re.download=`qr-menu-${t?.slug||"menu"}.png`,document.body.appendChild(Re),Re.click(),document.body.removeChild(Re),T()}else k()};return D?w.jsx(Aa,{children:w.jsx($a,{message:"Ayarlar ykleniyor..."})}):w.jsx(Aa,{children:w.jsxs("div",{children:[w.jsxs("h1",{style:{margin:0,marginBottom:de?"1.5rem":"2rem",fontSize:de?"1.5rem":"2rem",color:a?"#ffffff":"#1e293b",display:"flex",alignItems:"center",gap:"0.75rem"},children:[w.jsx("svg",{width:de?"28":"32",height:de?"28":"32",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:w.jsxs("g",{stroke:a?"#ffffff":"#1e293b",strokeWidth:"2.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[w.jsx("circle",{cx:"12",cy:"12",r:"7.5"}),w.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"4.5"}),w.jsx("line",{x1:"12",y1:"19.5",x2:"12",y2:"23"}),w.jsx("line",{x1:"1",y1:"12",x2:"4.5",y2:"12"}),w.jsx("line",{x1:"19.5",y1:"12",x2:"23",y2:"12"}),w.jsx("line",{x1:"4.5",y1:"4.5",x2:"6.3",y2:"6.3"}),w.jsx("line",{x1:"17.7",y1:"17.7",x2:"19.5",y2:"19.5"}),w.jsx("line",{x1:"4.5",y1:"19.5",x2:"6.3",y2:"17.7"}),w.jsx("line",{x1:"17.7",y1:"6.3",x2:"19.5",y2:"4.5"})]})}),"Ayarlar"]}),w.jsxs("div",{style:{display:"grid",gridTemplateColumns:de?"1fr":"2fr 1fr",gap:de?"1.5rem":"2rem"},children:[w.jsxs("div",{children:[w.jsx("div",{style:{background:a?"rgba(15, 23, 42, 0.85)":"white",padding:de?"1rem":"1.25rem",borderRadius:"12px",boxShadow:a?"0 25px 50px -12px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(139, 92, 246, 0.2)":"0 1px 3px rgba(0,0,0,0.1)",marginBottom:de?"1.5rem":"2rem",border:a?"1px solid rgba(139, 92, 246, 0.3)":"none"},children:w.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"1rem"},children:[w.jsxs("div",{style:{flex:1},children:[w.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",color:a?"#ffffff":"#1e293b",fontSize:de?"0.9375rem":"1rem"},children:"Tema"}),w.jsx("p",{style:{margin:0,fontSize:"0.8125rem",color:a?"#94a3b8":"#64748b"},children:e==="dark"?"Koyu tema aktif":"Ak tema aktif"})]}),w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[w.jsx("span",{style:{fontSize:"0.875rem",fontWeight:"500",color:e==="dark"?a?"#ffffff":"#1e293b":a?"#94a3b8":"#64748b",transition:"color 0.3s ease"},children:"Dark"}),w.jsx("button",{onClick:()=>{n(e==="dark"?"light":"dark"),N("Tema deitirildi",e==="dark"?"Ak tema aktif":"Koyu tema aktif")},style:{width:"56px",height:"32px",borderRadius:"16px",border:"none",background:e==="dark"?"#0ea5e9":"#fbbf24",cursor:"pointer",position:"relative",transition:"background 0.3s ease",outline:"none",padding:"2px"},onMouseEnter:Re=>{Re.currentTarget.style.opacity="0.9"},onMouseLeave:Re=>{Re.currentTarget.style.opacity="1"},children:w.jsx("div",{style:{position:"absolute",top:"2px",left:e==="dark"?"2px":"26px",width:"28px",height:"28px",borderRadius:"50%",background:"white",transition:"left 0.3s ease",boxShadow:"0 2px 4px rgba(0,0,0,0.2)",display:"flex",alignItems:"center",justifyContent:"center"},children:e==="dark"?w.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:w.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z",stroke:"#0ea5e9",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})}):w.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[w.jsx("circle",{cx:"12",cy:"12",r:"5",stroke:"#fbbf24",strokeWidth:"2",fill:"none"}),w.jsx("path",{d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42",stroke:"#fbbf24",strokeWidth:"2",strokeLinecap:"round"})]})})}),w.jsx("span",{style:{fontSize:"0.875rem",fontWeight:"500",color:e==="light"?a?"#ffffff":"#1e293b":a?"#94a3b8":"#64748b",transition:"color 0.3s ease"},children:"Light"})]})]})}),w.jsxs("div",{style:{background:a?"rgba(15, 23, 42, 0.85)":"white",padding:de?"1.5rem":"2rem",borderRadius:"12px",boxShadow:a?"0 25px 50px -12px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(139, 92, 246, 0.2)":"0 1px 3px rgba(0,0,0,0.1)",marginBottom:de?"1.5rem":"2rem",border:a?"1px solid rgba(139, 92, 246, 0.3)":"none"},children:[w.jsx("h2",{style:{margin:"0 0 1.5rem 0",fontSize:de?"1.25rem":"1.5rem",color:a?"#ffffff":"#1e293b"},children:" letme Bilgileri"}),w.jsxs("form",{onSubmit:F,children:[w.jsx(yu,{label:"letme Ad",type:"text",value:Q.name,onChange:Re=>q({...Q,name:Re.target.value}),placeholder:"rn: Can Erzurum",required:!0,style:{marginBottom:"1.25rem"}}),w.jsx(yu,{label:"Telefon",type:"tel",value:Q.phone,onChange:Re=>q({...Q,phone:Re.target.value}),placeholder:"0442 123 45 67",style:{marginBottom:"1.25rem"}}),w.jsx(yu,{label:"E-posta",type:"email",value:Q.email,onChange:Re=>q({...Q,email:Re.target.value}),placeholder:"info@isletme.com",style:{marginBottom:"1.25rem"}}),w.jsx(yu,{label:"URL Slug",type:"text",value:Q.slug,onChange:Re=>q({...Q,slug:Re.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"")}),placeholder:"can-erzurum",required:!0,style:{marginBottom:"1.25rem"}}),w.jsxs("p",{style:{margin:"-1rem 0 1.25rem 0",fontSize:"0.8125rem",color:a?"#cbd5e1":"#64748b"},children:["Men URL'i: /menu/",Q.slug||"slug"]}),w.jsxs("div",{style:{marginBottom:"1.25rem"},children:[w.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:a?"#cbd5e1":"#333",fontSize:"0.9375rem"},children:" letme Logosu"}),K&&w.jsxs("div",{style:{marginBottom:"1rem",display:"flex",alignItems:"center",gap:"1rem",flexWrap:"wrap"},children:[w.jsx("img",{src:K,alt:"Logo Preview",style:{maxWidth:"120px",maxHeight:"120px",width:"auto",height:"auto",objectFit:"contain",display:"block"}}),w.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[ue&&w.jsx("button",{type:"button",onClick:()=>{B(null),fe(t?.logo_url||null)},style:{padding:"0.5rem 1rem",background:"#fee",border:"1px solid #fcc",borderRadius:"6px",color:"#c33",cursor:"pointer",fontSize:"0.875rem"},children:" ptal"}),!ue&&t?.logo_url&&w.jsx("button",{type:"button",onClick:L,disabled:M,style:{padding:"0.5rem 1rem",background:"#fee",border:"1px solid #fcc",borderRadius:"6px",color:"#c33",cursor:M?"not-allowed":"pointer",fontSize:"0.875rem",opacity:M?.6:1},children:" Logoyu Sil"})]})]}),w.jsxs("label",{style:{display:"inline-block",padding:"0.75rem 1.5rem",background:a?"rgba(30, 41, 59, 0.6)":"#f8fafc",border:a?"2px dashed rgba(139, 92, 246, 0.3)":"2px dashed #cbd5e1",borderRadius:"8px",cursor:"pointer",fontSize:"0.9375rem",color:a?"#cbd5e1":"#475569",transition:"all 0.2s",textAlign:"center",width:"100%"},onMouseEnter:Re=>{Re.currentTarget.style.background=a?"rgba(30, 41, 59, 0.8)":"#f1f5f9",Re.currentTarget.style.borderColor=a?"rgba(139, 92, 246, 0.5)":"#94a3b8"},onMouseLeave:Re=>{Re.currentTarget.style.background=a?"rgba(30, 41, 59, 0.6)":"#f8fafc",Re.currentTarget.style.borderColor=a?"rgba(139, 92, 246, 0.3)":"#cbd5e1"},children:[K?" Logoyu Deitir":" Logo Ykle",w.jsx("input",{type:"file",accept:"image/*",onChange:ze,style:{display:"none"}})]}),w.jsx("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.8125rem",color:a?"#cbd5e1":"#64748b"},children:"Maksimum 2MB, PNG, JPG veya WebP formatnda"})]}),w.jsxs("div",{style:{marginBottom:"1.25rem"},children:[w.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:a?"#cbd5e1":"#333",fontSize:"0.9375rem"},children:"QR URL (Kalc Domain)"}),w.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"stretch"},children:[w.jsx("input",{type:"text",value:R,readOnly:!0,style:{flex:1,padding:"0.75rem",border:a?"1px solid rgba(139, 92, 246, 0.3)":"1px solid #e2e8f0",borderRadius:"6px",fontSize:"0.875rem",fontFamily:"monospace",background:a?"rgba(30, 41, 59, 0.6)":"#f8fafc",wordBreak:"break-all",cursor:"not-allowed",color:a?"#ffffff":"#1e293b"}}),w.jsx(Zr,{onClick:Ee,variant:"primary",style:{padding:"0.75rem 1rem",fontSize:"0.875rem",whiteSpace:"nowrap"},children:""})]}),w.jsx("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.8125rem",color:"#64748b"},children:"QR kod iin kullanlacak kalc domain (sistemden otomatik gelir)"})]}),w.jsxs("div",{style:{marginBottom:"1.25rem"},children:[w.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#333",fontSize:"0.9375rem"},children:"Ana URL"}),w.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"stretch"},children:[w.jsx("input",{type:"text",value:V,readOnly:!0,style:{flex:1,padding:"0.75rem",border:a?"1px solid rgba(139, 92, 246, 0.3)":"1px solid #e2e8f0",borderRadius:"6px",fontSize:"0.875rem",fontFamily:"monospace",background:a?"rgba(30, 41, 59, 0.6)":"#f8fafc",wordBreak:"break-all",cursor:"not-allowed",color:a?"#ffffff":"#1e293b"}}),w.jsx(Zr,{onClick:qe,variant:"primary",style:{padding:"0.75rem 1rem",fontSize:"0.875rem",whiteSpace:"nowrap"},children:""})]}),w.jsx("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.8125rem",color:a?"#cbd5e1":"#64748b"},children:"QR URL'den ynlendirilecek ana domain (sistemden otomatik gelir)"})]}),J&&w.jsx("div",{style:{padding:"0.75rem",background:"#fee",border:"1px solid #fcc",borderRadius:"6px",color:"#c33",marginBottom:"1rem",fontSize:"0.875rem"},children:J}),he&&w.jsx("div",{style:{padding:"0.75rem",background:"#d4edda",border:"1px solid #c3e6cb",borderRadius:"6px",color:"#155724",marginBottom:"1rem",fontSize:"0.875rem"},children:he}),w.jsx(Zr,{type:"submit",variant:"primary",disabled:M||se,style:{fontSize:de?"0.9375rem":"1rem",padding:de?"0.75rem 1.5rem":"0.875rem 2rem"},children:se?" Logo ykleniyor...":M?" Kaydediliyor...":" Kaydet"})]})]})]}),w.jsx("div",{children:w.jsxs("div",{style:{background:a?"rgba(15, 23, 42, 0.85)":"white",padding:de?"1.5rem":"2rem",borderRadius:"12px",boxShadow:a?"0 25px 50px -12px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(139, 92, 246, 0.2)":"0 1px 3px rgba(0,0,0,0.1)",position:de?"relative":"sticky",top:de?"auto":"2rem",border:a?"1px solid rgba(139, 92, 246, 0.3)":"none"},children:[w.jsx("h2",{style:{margin:"0 0 1.5rem 0",fontSize:de?"1.25rem":"1.5rem",color:a?"#ffffff":"#1e293b"},children:" QR Kod"}),R&&pe?w.jsxs(w.Fragment,{children:[w.jsx("div",{style:{background:"#f8fafc",padding:"1.5rem",borderRadius:"12px",textAlign:"center",marginBottom:"1.5rem",border:"2px dashed #e2e8f0"},children:pe&&w.jsx("img",{src:pe,alt:"QR Code",style:{width:"100%",maxWidth:"250px",height:"auto",margin:"0 auto",display:"block"}})}),V&&w.jsxs("div",{style:{marginBottom:"1.5rem"},children:[w.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#333",fontSize:"0.9375rem"},children:"Men Linki"}),w.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"stretch"},children:[w.jsx("input",{type:"text",value:V,readOnly:!0,style:{flex:1,padding:"0.75rem",border:a?"1px solid rgba(139, 92, 246, 0.3)":"1px solid #e2e8f0",borderRadius:"6px",fontSize:"0.875rem",fontFamily:"monospace",background:a?"rgba(30, 41, 59, 0.6)":"#f8fafc",wordBreak:"break-all",color:a?"#ffffff":"#1e293b"}}),w.jsx(Zr,{onClick:ve,variant:"primary",style:{padding:"0.75rem 1rem",fontSize:"0.875rem",whiteSpace:"nowrap"},children:""})]})]}),w.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[w.jsx(Zr,{onClick:et,variant:"secondary",style:{width:"100%",fontSize:de?"0.9375rem":"1rem"},children:" QR Kodu ndir"}),V&&w.jsx("a",{href:V,target:"_blank",rel:"noopener noreferrer",style:{display:"block",width:"100%",textDecoration:"none"},children:w.jsx(Zr,{variant:"primary",style:{width:"100%",fontSize:de?"0.9375rem":"1rem"},children:" Meny Grntle"})})]}),w.jsxs("div",{style:{marginTop:"1.5rem",padding:"1rem",background:"#e7f3ff",borderRadius:"8px",fontSize:"0.875rem",color:"#1e40af",lineHeight:"1.6"},children:[w.jsx("strong",{children:" pucu:"})," Bu QR kodu masalara yerletirebilirsiniz. Mteriler QR kodu okutarak menye eriebilir."]})]}):w.jsx("div",{style:{padding:"2rem",textAlign:"center",color:"#64748b"},children:w.jsx("p",{children:"QR URL ayarlanmad. Ltfen sol taraftan QR URL'i kaydedin."})})]})})]})]})})}function DA(){const{business:t}=Uo(),{isDark:e}=qo(),{notifyNewOrder:n,notifyOrderAccepted:a,notifyOrderRejected:s,notifyOrderPreparing:o,notifyOrderDelivering:u,notifyError:d}=_u(),[f,h]=O.useState("new"),[g,x]=O.useState(!1),[S,y]=O.useState(""),[E,T]=O.useState([]),k=O.useRef(new Set),[N,D]=O.useState(!1),[U,M]=O.useState(!0),[re,de]=O.useState(null);O.useEffect(()=>{if(!t?.id){D(!1),M(!1);return}if(!U)return;(async()=>{try{D(!0),console.log(" Fetching ALL orders from Supabase...");const{data:J,error:ee}=await ht.from("orders").select(`
            *,
            order_items (
              id,
              product_name,
              product_price,
              quantity,
              notes,
              subtotal
            )
          `).eq("business_id",t.id).order("created_at",{ascending:!1});if(ee)throw ee;console.log(" ALL Orders fetched from Supabase:",J?.length||0,"orders"),T(J||[]),de(null)}catch(J){console.error(" Fetch ALL orders error:",J),T([]),de(J.message)}finally{D(!1),M(!1)}})()},[t?.id,U]),O.useEffect(()=>{if(!t?.id)return;const le=ht.channel(`orders-all:${t.id}`).on("postgres_changes",{event:"*",schema:"public",table:"orders",filter:`business_id=eq.${t.id}`},async J=>{if(console.log(" Order changed (Realtime):",J.eventType,J.new?.id||J.old?.id),J.eventType==="INSERT"){const{data:ee,error:he}=await ht.from("orders").select(`
                *,
                order_items (
                  id,
                  product_name,
                  product_price,
                  quantity,
                  notes,
                  subtotal
                )
              `).eq("id",J.new.id).single();ee&&!he&&(k.current.has(ee.id)||(k.current.add(ee.id),n(ee)),T(_e=>_e.find(G=>G.id===ee.id)?_e:[ee,..._e]))}else if(J.eventType==="UPDATE"){const{data:ee,error:he}=await ht.from("orders").select(`
                *,
                order_items (
                  id,
                  product_name,
                  product_price,
                  quantity,
                  notes,
                  subtotal
                )
              `).eq("id",J.new.id).single();ee&&!he&&T(_e=>_e.find(G=>G.id===ee.id)?_e.map(G=>G.id===ee.id?ee:G):[ee,..._e])}else J.eventType==="DELETE"&&T(ee=>ee.filter(he=>he.id!==J.old.id))}).subscribe();return()=>{ht.removeChannel(le)}},[t?.id]),O.useEffect(()=>{const le=()=>{x(window.innerWidth<768)};return le(),window.addEventListener("resize",le),()=>window.removeEventListener("resize",le)},[]);const oe=(le=new Date)=>new Date(le.toLocaleString("en-US",{timeZone:"Europe/Istanbul"}));O.useEffect(()=>{const le=()=>{const ee=oe();y(ee.toLocaleString("tr-TR",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}))};le();const J=setInterval(le,1e3);return()=>clearInterval(J)},[]);const Q=async(le,J)=>{try{let ee=null;if(J==="accept"?ee="preparing":J==="ready"?ee="delivering":J==="delivered"?ee="completed":J==="cancel"&&(ee="cancelled"),!ee)return;const he={status:ee,updated_at:new Date().toISOString()};ee==="completed"&&(he.completed_at=new Date().toISOString(),he.payment_status="pending");const{error:_e}=await ht.from("orders").update(he).eq("id",le);if(_e)throw _e;const{data:ze}=await ht.from("orders").select("*").eq("id",le).single();ze&&(J==="accept"?(a(ze),o(ze)):J==="ready"?u(ze):J==="delivered"||J==="cancel"&&s(ze)),ee==="delivering"&&setTimeout(async()=>{const{data:G}=await ht.from("orders").select("status").eq("id",le).single();if(G&&G.status==="delivering"){const{data:L}=await ht.from("orders").select("*").eq("id",le).single();await ht.from("orders").update({status:"completed",completed_at:new Date().toISOString(),payment_status:"pending",updated_at:new Date().toISOString()}).eq("id",le)}},180*1e3)}catch(ee){console.error("Order status update error:",ee),d("Sipari durumu gncellenirken hata olutu",ee.message)}},q=le=>({pending:"#f59e0b",preparing:"#8b5cf6",delivering:"#3b82f6",completed:"#10b981",cancelled:"#ef4444"})[le]||"#64748b",ue=le=>({pending:"Beklemede",preparing:"Hazrlanyor",delivering:"Sipari Geliyor",completed:"Tamamland",cancelled:"ptal Edildi"})[le]||le,B=le=>{const J=[];return le.status==="pending"?J.push({label:"Kabul Et",action:"accept",color:"#10b981",icon:""},{label:"ptal Et",action:"cancel",color:"#ef4444",icon:""}):le.status==="preparing"?J.push({label:"Sipari Hazr",action:"ready",color:"#10b981",icon:""},{label:"ptal Et",action:"cancel",color:"#ef4444",icon:""}):le.status==="delivering"?J.push({label:"Sipari Tamamland",action:"delivered",color:"#10b981",icon:""}):le.status==="completed"||le.status,J},K=(le,J=null)=>{if(!le)return"";const ee=new Date(le),he=new Date(ee.toLocaleString("en-US",{timeZone:"Europe/Istanbul"})),_e=String(he.getDate()).padStart(2,"0"),ze=String(he.getMonth()+1).padStart(2,"0"),G=he.getFullYear(),L=String(he.getHours()).padStart(2,"0"),F=String(he.getMinutes()).padStart(2,"0"),X=`${_e}/${ze}/${G} ${L}.${F}`;if(J==="preparing"||J==="delivering"||J==="pending"){const R=new Date-ee,V=Math.floor(R/6e4),pe=Math.floor(R/36e5),ve=Math.floor(R/864e5);let Ee="";return V<1?Ee="az nce":V<60?Ee=`${V} dakika nce`:pe<24?Ee=`${pe} saat nce`:ve<7?Ee=`${ve} gn nce`:Ee="",`${X}${Ee?` (${Ee})`:""}`}return X},fe=f==="new"?E.filter(le=>le.status==="pending"||le.status==="preparing"||le.status==="delivering"):f==="preparing"?E.filter(le=>le.status==="preparing"):f==="delivering"?E.filter(le=>le.status==="delivering"):f==="completed"?E.filter(le=>le.status==="completed"):f==="cancelled"?E.filter(le=>le.status==="cancelled"):[];if(re&&U)return w.jsx(Aa,{children:w.jsx("div",{style:{background:e?"rgba(15, 23, 42, 0.85)":"white",padding:"2rem",borderRadius:"8px",textAlign:"center",color:"#ef4444",border:e?"1px solid rgba(139, 92, 246, 0.3)":"none",boxShadow:e?"0 25px 50px -12px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(139, 92, 246, 0.2)":"0 1px 3px rgba(0,0,0,0.1)"},children:w.jsxs("p",{children:[" Hata: ",re]})})});const se={new:E.filter(le=>le.status==="pending"||le.status==="preparing"||le.status==="delivering").length,preparing:E.filter(le=>le.status==="preparing").length,delivering:E.filter(le=>le.status==="delivering").length,completed:E.filter(le=>le.status==="completed").length,cancelled:E.filter(le=>le.status==="cancelled").length};return w.jsx(Aa,{children:w.jsxs("div",{children:[w.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:g?"1.5rem":"2rem",flexWrap:"wrap",gap:"1rem"},children:[w.jsxs("h1",{style:{margin:0,fontSize:g?"1.5rem":"2rem",color:e?"#ffffff":"#1e293b",display:"flex",alignItems:"center",gap:"0.75rem"},children:[w.jsxs("svg",{width:g?"28":"32",height:g?"28":"32",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[w.jsx("path",{d:"M32.749 46.92c8.648 0 15.674-6.633 15.973-14.92c-.299-8.287-7.325-14.92-15.973-14.92c-8.647 0-15.675 6.633-15.97 14.92c.294 8.287 7.322 14.92 15.97 14.92",fill:e?"#ffffff":"#1e293b",fillOpacity:1}),w.jsx("path",{d:"M32.75 10c-12.15 0-22.001 9.85-22.001 22c0 12.149 9.852 22 22.001 22c12.149 0 22-9.851 22-22c0-12.15-9.851-22-22-22m-.001 38c-8.837 0-16.001-6.921-16.001-15.461c0-.182.025-.359.031-.539c-.006-.18-.031-.358-.031-.539c0-8.54 7.165-15.461 16.001-15.461c8.837 0 16 6.921 16 15.461c0 .181-.021.359-.026.539c.006.18.026.357.026.539c-.001 8.54-7.163 15.461-16 15.461",fill:e?"#ffffff":"#1e293b",fillOpacity:e?.85:.8}),w.jsx("path",{d:"M3.481 7.421c.24-.941.715-.011.715-.011s.166 9.74 1.246 9.846c1.08.106.248-10.022 1.526-10.216c1.188-.189.51 10.377 1.592 10.27c1.078-.114 1.26-9.85 1.26-9.85s.48-.929.717.005c2.928 11.51.559 16.215.559 16.215s-.4.989-1.35.994c-.089-.005-.022 27.336-.028 31.012c.002 1.787-5.5 1.732-5.497-.047c.004-3.676.111-31.014.025-31.012c-.953 0-1.352-.988-1.352-.988s-2.36-4.702.587-16.218",fill:e?"#ffffff":"#1e293b",fillOpacity:1}),w.jsx("path",{d:"M55.62 7c1.238-.003 6.374 3.7 6.38 17.462c.006 4.401-2.395 4.4-2.391 7.153c.004 2.748.019 24.606.019 24.606s-2.634 1.807-4.592-.084L55 7.391c.002.001-.005-.392.62-.391",fill:e?"#ffffff":"#1e293b",fillOpacity:1})]}),"Sipariler"]}),S&&w.jsxs("div",{style:{padding:"0.5rem 1rem",background:"linear-gradient(135deg, #0f172a 0%, #1e293b 100%)",borderRadius:"8px",color:"white",fontSize:g?"0.75rem":"0.875rem",fontWeight:"500",boxShadow:"0 2px 4px rgba(15, 23, 42, 0.3)",border:"1px solid #334155"},children:[" ",S]})]}),w.jsxs("div",{style:{display:"grid",gridTemplateColumns:g?"repeat(2, 1fr)":"repeat(auto-fit, minmax(150px, 1fr))",gap:g?"1rem":"1.5rem",marginBottom:g?"1.5rem":"2rem"},children:[w.jsx(Nd,{title:"Sipariler",value:se.new,color:"#f59e0b",isMobile:g,isDark:e}),w.jsx(Nd,{title:"Hazrlanyor",value:se.preparing,color:"#8b5cf6",isMobile:g,isDark:e}),w.jsx(Nd,{title:"Sipari Geliyor",value:se.delivering,color:"#3b82f6",isMobile:g,isDark:e}),w.jsx(Nd,{title:"Tamamland",value:se.completed,color:"#10b981",isMobile:g,isDark:e}),w.jsx(Nd,{title:"ptal Edildi",value:se.cancelled,color:"#ef4444",isMobile:g,isDark:e})]}),w.jsxs("div",{style:{background:e?"rgba(15, 23, 42, 0.85)":"white",padding:g?"0.75rem":"1rem",borderRadius:"8px",marginBottom:g?"1.5rem":"2rem",boxShadow:e?"0 25px 50px -12px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(139, 92, 246, 0.2)":"0 1px 3px rgba(0,0,0,0.1)",display:g?"grid":"flex",gridTemplateColumns:g?"repeat(2, 1fr)":"none",gap:"0.5rem",flexWrap:g?"nowrap":"wrap",border:e?"1px solid rgba(139, 92, 246, 0.3)":"none"},children:[w.jsxs("button",{onClick:()=>h("new"),style:{padding:g?"0.625rem 1rem":"0.75rem 1.5rem",background:f==="new"?"#f59e0b":e?"rgba(30, 41, 59, 0.6)":"#f1f5f9",color:f==="new"?"white":e?"#cbd5e1":"#1e293b",border:e?"1px solid rgba(255, 255, 255, 0.15)":"none",borderRadius:"6px",cursor:"pointer",fontSize:g?"0.875rem":"0.9375rem",fontWeight:"600",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"0.5rem",width:g?"100%":"auto",justifyContent:"center"},children:[" Sipariler",se.new>0&&w.jsx("span",{style:{background:f==="new"?"rgba(255,255,255,0.3)":"#f59e0b",color:"white",padding:"0.125rem 0.5rem",borderRadius:"12px",fontSize:"0.75rem",fontWeight:"600"},children:se.new})]}),w.jsxs("button",{onClick:()=>h("preparing"),style:{padding:g?"0.625rem 1rem":"0.75rem 1.5rem",background:f==="preparing"?"#8b5cf6":e?"rgba(30, 41, 59, 0.6)":"#f1f5f9",color:f==="preparing"?"white":e?"#cbd5e1":"#1e293b",border:e?"1px solid rgba(255, 255, 255, 0.15)":"none",borderRadius:"6px",cursor:"pointer",fontSize:g?"0.875rem":"0.9375rem",fontWeight:"600",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"0.5rem",width:g?"100%":"auto",justifyContent:"center"},children:[" Hazrlanyor",se.preparing>0&&w.jsx("span",{style:{background:f==="preparing"?"rgba(255,255,255,0.3)":"#8b5cf6",color:"white",padding:"0.125rem 0.5rem",borderRadius:"12px",fontSize:"0.75rem",fontWeight:"600"},children:se.preparing})]}),w.jsxs("button",{onClick:()=>h("delivering"),style:{padding:g?"0.625rem 1rem":"0.75rem 1.5rem",background:f==="delivering"?"#3b82f6":e?"rgba(30, 41, 59, 0.6)":"#f1f5f9",color:f==="delivering"?"white":e?"#cbd5e1":"#1e293b",border:e?"1px solid rgba(255, 255, 255, 0.15)":"none",borderRadius:"6px",cursor:"pointer",fontSize:g?"0.875rem":"0.9375rem",fontWeight:"600",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"0.5rem",width:g?"100%":"auto",justifyContent:"center"},children:[" Sipari Geliyor",se.delivering>0&&w.jsx("span",{style:{background:f==="delivering"?"rgba(255,255,255,0.3)":"#3b82f6",color:"white",padding:"0.125rem 0.5rem",borderRadius:"12px",fontSize:"0.75rem",fontWeight:"600"},children:se.delivering})]}),w.jsxs("button",{onClick:()=>h("completed"),style:{padding:g?"0.625rem 1rem":"0.75rem 1.5rem",background:f==="completed"?"#10b981":e?"rgba(30, 41, 59, 0.6)":"#f1f5f9",color:f==="completed"?"white":e?"#cbd5e1":"#1e293b",border:e?"1px solid rgba(255, 255, 255, 0.15)":"none",borderRadius:"6px",cursor:"pointer",fontSize:g?"0.875rem":"0.9375rem",fontWeight:"600",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"0.5rem",width:g?"100%":"auto",justifyContent:"center"},children:[" Tamamland",se.completed>0&&w.jsx("span",{style:{background:f==="completed"?"rgba(255,255,255,0.3)":"#10b981",color:"white",padding:"0.125rem 0.5rem",borderRadius:"12px",fontSize:"0.75rem",fontWeight:"600"},children:se.completed})]}),w.jsxs("button",{onClick:()=>h("cancelled"),style:{padding:g?"0.625rem 1rem":"0.75rem 1.5rem",background:f==="cancelled"?"#ef4444":e?"rgba(30, 41, 59, 0.6)":"#f1f5f9",color:f==="cancelled"?"white":e?"#cbd5e1":"#1e293b",border:e?"1px solid rgba(255, 255, 255, 0.15)":"none",borderRadius:"6px",cursor:"pointer",fontSize:g?"0.875rem":"0.9375rem",fontWeight:"600",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"0.5rem",width:g?"100%":"auto",justifyContent:"center"},children:[" ptal Edildi",se.cancelled>0&&w.jsx("span",{style:{background:f==="cancelled"?"rgba(255,255,255,0.3)":"#ef4444",color:"white",padding:"0.125rem 0.5rem",borderRadius:"12px",fontSize:"0.75rem",fontWeight:"600"},children:se.cancelled})]})]}),N&&U?w.jsx($a,{message:"Sipariler ykleniyor..."}):fe.length===0?w.jsx("div",{style:{background:e?"rgba(15, 23, 42, 0.85)":"white",padding:"3rem",borderRadius:"8px",textAlign:"center",boxShadow:e?"0 25px 50px -12px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(139, 92, 246, 0.2)":"0 1px 3px rgba(0,0,0,0.1)",border:e?"1px solid rgba(139, 92, 246, 0.3)":"none"},children:w.jsxs("p",{style:{color:e?"#cbd5e1":"#64748b",fontSize:g?"1rem":"1.125rem"},children:[f==="new"&&" Henz sipari yok",f==="preparing"&&" Henz hazrlanan sipari yok",f==="delivering"&&" Henz gelmekte olan sipari yok",f==="completed"&&" Henz tamamlanan sipari yok",f==="cancelled"&&" Henz iptal edilen sipari yok"]})}):w.jsx("div",{style:{display:"grid",gridTemplateColumns:g?"1fr":"repeat(auto-fill, minmax(350px, 1fr))",gap:g?"1rem":"1.5rem"},children:fe.map(le=>w.jsx(MA,{order:le,isMobile:g,selectedTab:f,getStatusColor:q,getStatusLabel:ue,getStatusButtons:B,updateOrderStatus:Q,formatDate:K,isDark:e},le.id))})]})})}function MA({order:t,isMobile:e,selectedTab:n,getStatusColor:a,getStatusLabel:s,getStatusButtons:o,updateOrderStatus:u,formatDate:d,isDark:f}){const h=o(t),[g,x]=O.useState(!1),S=t.order_items?.slice(0,3)||[],y=t.order_items?.slice(3)||[],E=y.length>0,T=()=>{if(f)return"rgba(15, 23, 42, 0.85)";const k=t.status;return k==="pending"?"#fffef7":k==="preparing"?"#fefaff":k==="delivering"?"#f8fbff":k==="completed"?"#f5fef7":k==="cancelled"?"#fff8f8":"white"};return w.jsxs("div",{style:{background:T(),padding:e?"1rem":"1.5rem",borderRadius:"8px",boxShadow:f?"0 25px 50px -12px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(139, 92, 246, 0.2)":"0 1px 3px rgba(0,0,0,0.1)",borderLeft:`4px solid ${a(t.status)}`,border:f?"1px solid rgba(139, 92, 246, 0.3)":"none"},children:[w.jsxs("div",{style:{display:"flex",flexDirection:e?"column":"row",justifyContent:"space-between",alignItems:e?"flex-start":"center",marginBottom:"1rem",gap:e?"0.75rem":0},children:[w.jsxs("div",{style:{flex:1},children:[w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",flexWrap:"wrap"},children:[w.jsxs("h3",{style:{margin:0,fontSize:e?"1.125rem":"1.25rem",color:f?"#ffffff":"#1e293b"},children:[" Sipari #",t.id.slice(0,8)]}),w.jsx("span",{style:{padding:"0.25rem 0.75rem",background:`${a(t.status)}20`,color:a(t.status),borderRadius:"6px",fontSize:e?"0.75rem":"0.875rem",fontWeight:"600"},children:s(t.status)})]}),w.jsxs("p",{style:{margin:"0.5rem 0 0 0",color:f?"#cbd5e1":"#64748b",fontSize:e?"0.75rem":"0.875rem"},children:[" ",d(t.created_at,t.status)]}),t.table_number&&w.jsxs("div",{style:{marginTop:"0.5rem",display:"inline-block",padding:"0.25rem 0.75rem",background:"linear-gradient(135deg, #9333ea 0%, #7c3aed 100%)",color:"white",borderRadius:"6px",fontSize:e?"0.75rem":"0.8125rem",fontWeight:"600",boxShadow:"0 2px 6px rgba(147, 51, 234, 0.4)"},children:[" Masa ",t.table_number]})]}),w.jsxs("div",{style:{fontSize:e?"0.875rem":"1rem",fontWeight:"500",color:f?"#cbd5e1":"#64748b",textAlign:"right"},children:[w.jsx("div",{style:{fontSize:e?"0.75rem":"0.8125rem",color:"#94a3b8"},children:"Toplam"}),w.jsx("div",{style:{marginTop:"0.25rem"},children:w.jsx(Pr,{price:parseFloat(t.total_amount),fontSize:e?"0.875rem":"1rem",fontWeight:"500",color:f?"#cbd5e1":"#64748b"})})]})]}),t.order_items&&t.order_items.length>0&&w.jsxs("div",{style:{marginBottom:"1rem",padding:e?"1rem":"1.25rem",background:f?"rgba(30, 41, 59, 0.4)":"#f8fafc",borderRadius:"8px",border:f?"1px solid rgba(139, 92, 246, 0.2)":"1px solid #e2e8f0"},children:[S.map((k,N)=>w.jsxs("div",{style:{padding:N<S.length-1||E?"0.75rem 0":"0.75rem 0 0 0",borderBottom:N<S.length-1||E?"1px solid #cbd5e1":"none"},children:[w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[w.jsxs("span",{style:{fontSize:e?"1.25rem":"1.5rem",fontWeight:"bold",color:f?"#ffffff":"#1e293b",minWidth:"2rem",textAlign:"center"},children:[k.quantity,""]}),w.jsx("span",{style:{fontSize:e?"1.125rem":"1.25rem",fontWeight:"700",color:f?"#ffffff":"#1e293b",flex:1},children:k.product_name})]}),w.jsx("div",{style:{marginLeft:e?"2.5rem":"3rem",marginTop:"0.25rem"},children:w.jsxs("span",{style:{color:"#94a3b8",fontSize:e?"0.75rem":"0.8125rem",fontWeight:"400",display:"flex",alignItems:"center",gap:"0.25rem",flexWrap:"wrap"},children:[w.jsx(Pr,{price:parseFloat(k.product_price),fontSize:e?"0.75rem":"0.8125rem",fontWeight:"400",color:"#94a3b8"}),w.jsxs("span",{children:[" ",k.quantity," ="]}),w.jsx(Pr,{price:parseFloat(k.subtotal),fontSize:e?"0.8125rem":"0.875rem",fontWeight:"500",color:"#64748b"})]})}),k.notes&&w.jsx("div",{style:{marginLeft:e?"2.5rem":"3rem",marginTop:"0.5rem",padding:"0.375rem 0.75rem",background:"#fef3c7",borderRadius:"4px",borderLeft:"3px solid #f59e0b"},children:w.jsxs("p",{style:{margin:0,color:"#92400e",fontSize:e?"0.75rem":"0.8125rem",fontStyle:"italic",fontWeight:"500"},children:[" ",k.notes]})})]},k.id)),E&&w.jsxs(w.Fragment,{children:[!g&&w.jsxs("div",{style:{marginTop:"0.75rem"},children:[w.jsxs("button",{onClick:()=>x(!0),className:"pulse-button",style:{width:"100%",padding:"0.375rem 0.75rem",background:"#c7d2fe",color:"#1e293b",border:"2px solid #6366f1",borderRadius:"6px",cursor:"pointer",fontSize:e?"0.75rem":"0.8125rem",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.375rem",transition:"all 0.3s ease",boxShadow:"0 1px 3px rgba(99, 102, 241, 0.2)",position:"relative",overflow:"hidden",minHeight:"1.875rem",height:"1.875rem"},onMouseEnter:k=>{k.currentTarget.style.background="#6366f1",k.currentTarget.style.color="white",k.currentTarget.style.boxShadow="0 4px 12px rgba(99, 102, 241, 0.4)",k.currentTarget.style.transform="translateY(-1px)";const N=k.currentTarget.querySelector("span:first-child"),D=k.currentTarget.querySelector("span:last-child");N&&(N.style.color="white"),D&&(D.style.color="white")},onMouseLeave:k=>{k.currentTarget.style.background="#c7d2fe",k.currentTarget.style.color="#1e293b",k.currentTarget.style.boxShadow="0 1px 3px rgba(99, 102, 241, 0.2)",k.currentTarget.style.transform="translateY(0)";const N=k.currentTarget.querySelector("span:first-child"),D=k.currentTarget.querySelector("span:last-child");N&&(N.style.color="#1e293b"),D&&(D.style.color="#1e293b")},children:[w.jsx("span",{style:{fontSize:"1.125rem",transition:"all 0.3s ease",display:"inline-block",fontWeight:"bold",animation:"arrowPulse 1.5s ease-in-out infinite",color:"#1e293b"},children:""}),w.jsx("span",{style:{color:"#1e293b",transition:"color 0.3s ease"},children:`+ ${y.length} rn daha`})]}),w.jsx("style",{children:`
                    @keyframes arrowPulse {
                      0%, 100% {
                        opacity: 1;
                        transform: translateY(0) scale(1);
                      }
                      50% {
                        opacity: 0.6;
                        transform: translateY(4px) scale(1.1);
                      }
                    }
                    .pulse-button {
                      animation: backgroundPulse 2s ease-in-out infinite;
                    }
                    @keyframes backgroundPulse {
                      0%, 100% {
                        background-color: #c7d2fe;
                        border-color: #6366f1;
                      }
                      50% {
                        background-color: #a5b4fc;
                        border-color: #818cf8;
                        box-shadow: 0 2px 8px rgba(99, 102, 241, 0.3);
                      }
                    }
                  `})]}),g&&w.jsxs("div",{style:{marginTop:"0.75rem",paddingTop:"0.75rem",borderTop:"2px solid #e2e8f0",animation:"slideDown 0.3s ease"},children:[y.map((k,N)=>w.jsxs("div",{style:{padding:N<y.length-1?"0.75rem 0":"0.75rem 0 0 0",borderBottom:N<y.length-1?"1px solid #cbd5e1":"none"},children:[w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[w.jsxs("span",{style:{fontSize:e?"1.25rem":"1.5rem",fontWeight:"bold",color:"#1e293b",minWidth:"2rem",textAlign:"center"},children:[k.quantity,""]}),w.jsx("span",{style:{fontSize:e?"1.125rem":"1.25rem",fontWeight:"700",color:"#1e293b",flex:1},children:k.product_name})]}),w.jsx("div",{style:{marginLeft:e?"2.5rem":"3rem",marginTop:"0.25rem"},children:w.jsxs("span",{style:{color:"#94a3b8",fontSize:e?"0.75rem":"0.8125rem",fontWeight:"400",display:"flex",alignItems:"center",gap:"0.25rem",flexWrap:"wrap"},children:[w.jsx(Pr,{price:parseFloat(k.product_price),fontSize:e?"0.75rem":"0.8125rem",fontWeight:"400",color:"#94a3b8"}),w.jsxs("span",{children:[" ",k.quantity," ="]}),w.jsx(Pr,{price:parseFloat(k.subtotal),fontSize:e?"0.8125rem":"0.875rem",fontWeight:"500",color:"#64748b"})]})}),k.notes&&w.jsx("div",{style:{marginLeft:e?"2.5rem":"3rem",marginTop:"0.5rem",padding:"0.375rem 0.75rem",background:"#fef3c7",borderRadius:"4px",borderLeft:"3px solid #f59e0b"},children:w.jsxs("p",{style:{margin:0,color:"#92400e",fontSize:e?"0.75rem":"0.8125rem",fontStyle:"italic",fontWeight:"500"},children:[" ",k.notes]})})]},k.id)),w.jsx("div",{style:{marginTop:"0.75rem",paddingTop:"0.75rem",borderTop:"1px solid #cbd5e1"},children:w.jsxs("button",{onClick:()=>x(!1),style:{width:"100%",padding:"0.375rem 0.75rem",background:"transparent",color:"#6366f1",border:"2px solid #6366f1",borderRadius:"6px",cursor:"pointer",fontSize:e?"0.75rem":"0.8125rem",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.375rem",transition:"all 0.3s ease",minHeight:"1.875rem",height:"1.875rem"},onMouseEnter:k=>{k.currentTarget.style.background="#6366f1",k.currentTarget.style.color="white"},onMouseLeave:k=>{k.currentTarget.style.background="transparent",k.currentTarget.style.color="#6366f1"},children:[w.jsx("span",{style:{fontSize:"0.875rem",transform:"rotate(180deg)",transition:"transform 0.2s ease",display:"inline-block"},children:""}),w.jsx("span",{children:"Daha Az Gster"})]})})]})]})]}),t.notes&&w.jsx("div",{style:{marginBottom:"1rem",padding:e?"0.75rem":"1rem",background:"#fef3c7",borderRadius:"6px",borderLeft:"3px solid #f59e0b"},children:w.jsxs("p",{style:{margin:0,color:"#92400e",fontSize:e?"0.875rem":"0.9375rem"},children:[w.jsx("strong",{children:" Not:"})," ",t.notes]})}),h.length>0&&w.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.75rem",marginTop:"1rem"},children:h.map((k,N)=>w.jsxs("button",{onClick:()=>u(t.id,k.action),style:{padding:e?"0.75rem 1.25rem":"0.875rem 1.75rem",background:k.color,color:"white",border:"none",borderRadius:"8px",fontSize:e?"0.875rem":"0.9375rem",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",boxShadow:"0 2px 8px rgba(0,0,0,0.15)",transition:"all 0.2s ease",minWidth:e?"120px":"140px",justifyContent:"center",letterSpacing:"0.01em"},onMouseEnter:D=>{D.currentTarget.style.transform="translateY(-2px)",D.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.25)",D.currentTarget.style.opacity="0.95"},onMouseLeave:D=>{D.currentTarget.style.transform="translateY(0)",D.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.15)",D.currentTarget.style.opacity="1"},onMouseDown:D=>{D.currentTarget.style.transform="translateY(0) scale(0.98)"},onMouseUp:D=>{D.currentTarget.style.transform="translateY(-2px) scale(1)"},children:[k.icon&&w.jsx("span",{style:{fontSize:"1.125rem",lineHeight:1},children:k.icon}),w.jsx("span",{children:k.label})]},`${k.action}-${N}`))})]})}function Nd({title:t,value:e,color:n,isMobile:a,isDark:s}){return w.jsxs("div",{style:{background:s?"rgba(15, 23, 42, 0.85)":"white",padding:a?"1rem":"1.5rem",borderRadius:"8px",boxShadow:s?"0 25px 50px -12px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(139, 92, 246, 0.2)":"0 1px 3px rgba(0,0,0,0.1)",borderTop:`3px solid ${n}`,border:s?"1px solid rgba(139, 92, 246, 0.3)":"none"},children:[w.jsx("p",{style:{margin:0,color:s?"#cbd5e1":"#64748b",fontSize:a?"0.75rem":"0.875rem",marginBottom:"0.5rem"},children:t}),w.jsx("p",{style:{margin:0,fontSize:a?"1.5rem":"2rem",fontWeight:"bold",color:s?"#ffffff":"#1e293b"},children:e})]})}function zA(t,e={}){const[n,a]=O.useState([]),[s,o]=O.useState(!0),[u,d]=O.useState(null),{status:f=null,limit:h=null,orderBy:g="created_at",ascending:x=!1}=e;return O.useEffect(()=>{if(!t){o(!1);return}(async()=>{console.log("Fetching orders from Supabase...",{businessId:t,status:f,orderBy:g,ascending:x});try{o(!0),d(null);let E=ht.from("orders").select(`
            *,
            order_items (
              id,
              product_name,
              product_price,
              quantity,
              notes,
              subtotal
            )
          `).eq("business_id",t);f&&(E=E.eq("status",f)),E=E.order(g,{ascending:x}),h&&(E=E.limit(h));const{data:T,error:k}=await E;if(k)throw k;a(T||[])}catch(E){d(E.message),console.error("Orders fetch error:",E)}finally{o(!1)}})();const y=ht.channel(`orders:${t}`).on("postgres_changes",{event:"*",schema:"public",table:"orders",filter:`business_id=eq.${t}`},E=>{console.log("Realtime order change:",E.eventType,E),E.eventType==="INSERT"&&ht.from("orders").select(`
                *,
                order_items (
                  id,
                  product_name,
                  product_price,
                  quantity,
                  notes,
                  subtotal
                )
              `).eq("id",E.new.id).single().then(({data:T,error:k})=>{T&&!k&&a(N=>N.find(U=>U.id===T.id)?N.map(U=>U.id===T.id?T:U):[T,...N])}),E.eventType==="UPDATE"&&ht.from("orders").select(`
                *,
                order_items (
                  id,
                  product_name,
                  product_price,
                  quantity,
                  notes,
                  subtotal
                )
              `).eq("id",E.new.id).single().then(({data:T,error:k})=>{T&&!k&&a(N=>N.map(D=>D.id===T.id?T:D))}),E.eventType==="DELETE"&&(console.log("Order deleted from Supabase:",E.old.id),a(T=>{const k=T.filter(N=>N.id!==E.old.id);return console.log("Orders after delete:",k.length,"remaining"),k}))}).subscribe();return()=>{ht.removeChannel(y)}},[t,f,h,g,x]),{orders:n,loading:s,error:u}}const BA="modulepreload",IA=function(t){return"/erzurumkafe/"+t},O5={},$p=function(e,n,a){let s=Promise.resolve();if(n&&n.length>0){let f=function(h){return Promise.all(h.map(g=>Promise.resolve(g).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=u?.nonce||u?.getAttribute("nonce");s=f(n.map(h=>{if(h=IA(h),h in O5)return;O5[h]=!0;const g=h.endsWith(".css"),x=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${x}`))return;const S=document.createElement("link");if(S.rel=g?"stylesheet":BA,g||(S.as="script"),S.crossOrigin="",S.href=h,d&&S.setAttribute("nonce",d),document.head.appendChild(S),g)return new Promise((y,E)=>{S.addEventListener("load",y),S.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${h}`)))})}))}function o(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return s.then(u=>{for(const d of u||[])d.status==="rejected"&&o(d.reason);return e().catch(o)})};function jn(t){"@babel/helpers - typeof";return jn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jn(t)}var ks=Uint8Array,Sa=Uint16Array,fg=Int32Array,hg=new ks([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),pg=new ks([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),D5=new ks([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),xv=function(t,e){for(var n=new Sa(31),a=0;a<31;++a)n[a]=e+=1<<t[a-1];for(var s=new fg(n[30]),a=1;a<30;++a)for(var o=n[a];o<n[a+1];++o)s[o]=o-n[a]<<5|a;return{b:n,r:s}},_v=xv(hg,2),PA=_v.b,R1=_v.r;PA[28]=258,R1[258]=28;var UA=xv(pg,0),M5=UA.r,O1=new Sa(32768);for(var Zn=0;Zn<32768;++Zn){var _l=(Zn&43690)>>1|(Zn&21845)<<1;_l=(_l&52428)>>2|(_l&13107)<<2,_l=(_l&61680)>>4|(_l&3855)<<4,O1[Zn]=((_l&65280)>>8|(_l&255)<<8)>>1}var Pd=(function(t,e,n){for(var a=t.length,s=0,o=new Sa(e);s<a;++s)t[s]&&++o[t[s]-1];var u=new Sa(e);for(s=1;s<e;++s)u[s]=u[s-1]+o[s-1]<<1;var d;if(n){d=new Sa(1<<e);var f=15-e;for(s=0;s<a;++s)if(t[s])for(var h=s<<4|t[s],g=e-t[s],x=u[t[s]-1]++<<g,S=x|(1<<g)-1;x<=S;++x)d[O1[x]>>f]=h}else for(d=new Sa(a),s=0;s<a;++s)t[s]&&(d[s]=O1[u[t[s]-1]++]>>15-t[s]);return d}),wu=new ks(288);for(var Zn=0;Zn<144;++Zn)wu[Zn]=8;for(var Zn=144;Zn<256;++Zn)wu[Zn]=9;for(var Zn=256;Zn<280;++Zn)wu[Zn]=7;for(var Zn=280;Zn<288;++Zn)wu[Zn]=8;var Fh=new ks(32);for(var Zn=0;Zn<32;++Zn)Fh[Zn]=5;var qA=Pd(wu,9,0),FA=Pd(Fh,5,0),Sv=function(t){return(t+7)/8|0},HA=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new ks(t.subarray(e,n))},Co=function(t,e,n){n<<=e&7;var a=e/8|0;t[a]|=n,t[a+1]|=n>>8},Cd=function(t,e,n){n<<=e&7;var a=e/8|0;t[a]|=n,t[a+1]|=n>>8,t[a+2]|=n>>16},Wp=function(t,e){for(var n=[],a=0;a<t.length;++a)t[a]&&n.push({s:a,f:t[a]});var s=n.length,o=n.slice();if(!s)return{t:Ev,l:0};if(s==1){var u=new ks(n[0].s+1);return u[n[0].s]=1,{t:u,l:1}}n.sort(function(re,de){return re.f-de.f}),n.push({s:-1,f:25001});var d=n[0],f=n[1],h=0,g=1,x=2;for(n[0]={s:-1,f:d.f+f.f,l:d,r:f};g!=s-1;)d=n[n[h].f<n[x].f?h++:x++],f=n[h!=g&&n[h].f<n[x].f?h++:x++],n[g++]={s:-1,f:d.f+f.f,l:d,r:f};for(var S=o[0].s,a=1;a<s;++a)o[a].s>S&&(S=o[a].s);var y=new Sa(S+1),E=D1(n[g-1],y,0);if(E>e){var a=0,T=0,k=E-e,N=1<<k;for(o.sort(function(de,oe){return y[oe.s]-y[de.s]||de.f-oe.f});a<s;++a){var D=o[a].s;if(y[D]>e)T+=N-(1<<E-y[D]),y[D]=e;else break}for(T>>=k;T>0;){var U=o[a].s;y[U]<e?T-=1<<e-y[U]++-1:++a}for(;a>=0&&T;--a){var M=o[a].s;y[M]==e&&(--y[M],++T)}E=e}return{t:new ks(y),l:E}},D1=function(t,e,n){return t.s==-1?Math.max(D1(t.l,e,n+1),D1(t.r,e,n+1)):e[t.s]=n},z5=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Sa(++e),a=0,s=t[0],o=1,u=function(f){n[a++]=f},d=1;d<=e;++d)if(t[d]==s&&d!=e)++o;else{if(!s&&o>2){for(;o>138;o-=138)u(32754);o>2&&(u(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(u(s),--o;o>6;o-=6)u(8304);o>2&&(u(o-3<<5|8208),o=0)}for(;o--;)u(s);o=1,s=t[d]}return{c:n.subarray(0,a),n:e}},Rd=function(t,e){for(var n=0,a=0;a<e.length;++a)n+=t[a]*e[a];return n},Av=function(t,e,n){var a=n.length,s=Sv(e+2);t[s]=a&255,t[s+1]=a>>8,t[s+2]=t[s]^255,t[s+3]=t[s+1]^255;for(var o=0;o<a;++o)t[s+o+4]=n[o];return(s+4+a)*8},B5=function(t,e,n,a,s,o,u,d,f,h,g){Co(e,g++,n),++s[256];for(var x=Wp(s,15),S=x.t,y=x.l,E=Wp(o,15),T=E.t,k=E.l,N=z5(S),D=N.c,U=N.n,M=z5(T),re=M.c,de=M.n,oe=new Sa(19),Q=0;Q<D.length;++Q)++oe[D[Q]&31];for(var Q=0;Q<re.length;++Q)++oe[re[Q]&31];for(var q=Wp(oe,7),ue=q.t,B=q.l,K=19;K>4&&!ue[D5[K-1]];--K);var fe=h+5<<3,se=Rd(s,wu)+Rd(o,Fh)+u,le=Rd(s,S)+Rd(o,T)+u+14+3*K+Rd(oe,ue)+2*oe[16]+3*oe[17]+7*oe[18];if(f>=0&&fe<=se&&fe<=le)return Av(e,g,t.subarray(f,f+h));var J,ee,he,_e;if(Co(e,g,1+(le<se)),g+=2,le<se){J=Pd(S,y,0),ee=S,he=Pd(T,k,0),_e=T;var ze=Pd(ue,B,0);Co(e,g,U-257),Co(e,g+5,de-1),Co(e,g+10,K-4),g+=14;for(var Q=0;Q<K;++Q)Co(e,g+3*Q,ue[D5[Q]]);g+=3*K;for(var G=[D,re],L=0;L<2;++L)for(var F=G[L],Q=0;Q<F.length;++Q){var X=F[Q]&31;Co(e,g,ze[X]),g+=ue[X],X>15&&(Co(e,g,F[Q]>>5&127),g+=F[Q]>>12)}}else J=qA,ee=wu,he=FA,_e=Fh;for(var Q=0;Q<d;++Q){var ie=a[Q];if(ie>255){var X=ie>>18&31;Cd(e,g,J[X+257]),g+=ee[X+257],X>7&&(Co(e,g,ie>>23&31),g+=hg[X]);var R=ie&31;Cd(e,g,he[R]),g+=_e[R],R>3&&(Cd(e,g,ie>>5&8191),g+=pg[R])}else Cd(e,g,J[ie]),g+=ee[ie]}return Cd(e,g,J[256]),g+ee[256]},$A=new fg([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Ev=new ks(0),WA=function(t,e,n,a,s,o){var u=o.z||t.length,d=new ks(a+u+5*(1+Math.ceil(u/7e3))+s),f=d.subarray(a,d.length-s),h=o.l,g=(o.r||0)&7;if(e){g&&(f[0]=o.r>>3);for(var x=$A[e-1],S=x>>13,y=x&8191,E=(1<<n)-1,T=o.p||new Sa(32768),k=o.h||new Sa(E+1),N=Math.ceil(n/3),D=2*N,U=function(Ae){return(t[Ae]^t[Ae+1]<<N^t[Ae+2]<<D)&E},M=new fg(25e3),re=new Sa(288),de=new Sa(32),oe=0,Q=0,q=o.i||0,ue=0,B=o.w||0,K=0;q+2<u;++q){var fe=U(q),se=q&32767,le=k[fe];if(T[se]=le,k[fe]=se,B<=q){var J=u-q;if((oe>7e3||ue>24576)&&(J>423||!h)){g=B5(t,f,0,M,re,de,Q,ue,K,q-K,g),ue=oe=Q=0,K=q;for(var ee=0;ee<286;++ee)re[ee]=0;for(var ee=0;ee<30;++ee)de[ee]=0}var he=2,_e=0,ze=y,G=se-le&32767;if(J>2&&fe==U(q-G))for(var L=Math.min(S,J)-1,F=Math.min(32767,q),X=Math.min(258,J);G<=F&&--ze&&se!=le;){if(t[q+he]==t[q+he-G]){for(var ie=0;ie<X&&t[q+ie]==t[q+ie-G];++ie);if(ie>he){if(he=ie,_e=G,ie>L)break;for(var R=Math.min(G,ie-2),V=0,ee=0;ee<R;++ee){var pe=q-G+ee&32767,ve=T[pe],Ee=pe-ve&32767;Ee>V&&(V=Ee,le=pe)}}}se=le,le=T[se],G+=se-le&32767}if(_e){M[ue++]=268435456|R1[he]<<18|M5[_e];var qe=R1[he]&31,et=M5[_e]&31;Q+=hg[qe]+pg[et],++re[257+qe],++de[et],B=q+he,++oe}else M[ue++]=t[q],++re[t[q]]}}for(q=Math.max(q,B);q<u;++q)M[ue++]=t[q],++re[t[q]];g=B5(t,f,h,M,re,de,Q,ue,K,q-K,g),h||(o.r=g&7|f[g/8|0]<<3,g-=7,o.h=k,o.p=T,o.i=q,o.w=B)}else{for(var q=o.w||0;q<u+h;q+=65535){var Re=q+65535;Re>=u&&(f[g/8|0]=h,Re=u),g=Av(f,g+1,t.subarray(q,Re))}o.i=u}return HA(d,0,a+Sv(g)+s)},kv=function(){var t=1,e=0;return{p:function(n){for(var a=t,s=e,o=n.length|0,u=0;u!=o;){for(var d=Math.min(u+2655,o);u<d;++u)s+=a+=n[u];a=(a&65535)+15*(a>>16),s=(s&65535)+15*(s>>16)}t=a,e=s},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},GA=function(t,e,n,a,s){if(!s&&(s={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),u=new ks(o.length+t.length);u.set(o),u.set(t,o.length),t=u,s.w=o.length}return WA(t,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,a,s)},Tv=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},YA=function(t,e){var n=e.level,a=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=a<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var s=kv();s.p(e.dictionary),Tv(t,2,s.d())}};function M1(t,e){e||(e={});var n=kv();n.p(t);var a=GA(t,e,e.dictionary?6:2,4);return YA(a,e),Tv(a,a.length-4,n.d()),a}var VA=typeof TextDecoder<"u"&&new TextDecoder,KA=0;try{VA.decode(Ev,{stream:!0}),KA=1}catch{}function XA(t){if(Array.isArray(t))return t}function JA(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var a,s,o,u,d=[],f=!0,h=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(f=(a=o.call(n)).done)&&(d.push(a.value),d.length!==e);f=!0);}catch(g){h=!0,s=g}finally{try{if(!f&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(h)throw s}}return d}}function I5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,a=Array(e);n<e;n++)a[n]=t[n];return a}function ZA(t,e){if(t){if(typeof t=="string")return I5(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I5(t,e):void 0}}function QA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P5(t,e){return XA(t)||JA(t,e)||ZA(t,e)||QA()}function U5(t,e="utf8"){return new TextDecoder(e).decode(t)}const e7=new TextEncoder;function t7(t){return e7.encode(t)}const n7=1024*8,r7=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),Gp={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class gg{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=n7,n={}){let a=!1;typeof e=="number"?e=new ArrayBuffer(e):(a=!0,this.lastWrittenByte=e.byteLength);const s=n.offset?n.offset>>>0:0,o=e.byteLength-s;let u=s;(ArrayBuffer.isView(e)||e instanceof gg)&&(e.byteLength!==e.buffer.byteLength&&(u=e.byteOffset+s),e=e.buffer),a?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=u,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,u,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const a=(this.offset+e)*2,s=new Uint8Array(a);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=a,this.byteLength=a,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const a=Gp[n].BYTES_PER_ELEMENT*e,s=this.byteOffset+this.offset,o=this.buffer.slice(s,s+a);if(this.littleEndian===r7&&n!=="uint8"&&n!=="int8"){const d=new Uint8Array(this.buffer.slice(s,s+a));d.reverse();const f=new Gp[n](d.buffer);return this.offset+=a,f.reverse(),f}const u=new Gp[n](o);return this.offset+=a,u}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let a=0;a<e;a++)n+=this.readChar();return n}readUtf8(e=1){return U5(this.readBytes(e))}decodeText(e=1,n="utf8"){return U5(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(t7(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Wc(t){let e=t.length;for(;--e>=0;)t[e]=0}const i7=3,a7=258,Lv=29,s7=256,o7=s7+1+Lv,jv=30,l7=512,u7=new Array((o7+2)*2);Wc(u7);const c7=new Array(jv*2);Wc(c7);const d7=new Array(l7);Wc(d7);const f7=new Array(a7-i7+1);Wc(f7);const h7=new Array(Lv);Wc(h7);const p7=new Array(jv);Wc(p7);const g7=(t,e,n,a)=>{let s=t&65535|0,o=t>>>16&65535|0,u=0;for(;n!==0;){u=n>2e3?2e3:n,n-=u;do s=s+e[a++]|0,o=o+s|0;while(--u);s%=65521,o%=65521}return s|o<<16|0};var z1=g7;const m7=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var a=0;a<8;a++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},y7=new Uint32Array(m7()),b7=(t,e,n,a)=>{const s=y7,o=a+n;t^=-1;for(let u=a;u<o;u++)t=t>>>8^s[(t^e[u])&255];return t^-1};var Ks=b7,B1={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Nv={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const v7=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var w7=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const a in n)v7(n,a)&&(t[a]=n[a])}}return t},x7=t=>{let e=0;for(let a=0,s=t.length;a<s;a++)e+=t[a].length;const n=new Uint8Array(e);for(let a=0,s=0,o=t.length;a<o;a++){let u=t[a];n.set(u,s),s+=u.length}return n},Cv={assign:w7,flattenChunks:x7};let Rv=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Rv=!1}const Jd=new Uint8Array(256);for(let t=0;t<256;t++)Jd[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Jd[254]=Jd[254]=1;var _7=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,a,s,o,u=t.length,d=0;for(s=0;s<u;s++)n=t.charCodeAt(s),(n&64512)===55296&&s+1<u&&(a=t.charCodeAt(s+1),(a&64512)===56320&&(n=65536+(n-55296<<10)+(a-56320),s++)),d+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(d),o=0,s=0;o<d;s++)n=t.charCodeAt(s),(n&64512)===55296&&s+1<u&&(a=t.charCodeAt(s+1),(a&64512)===56320&&(n=65536+(n-55296<<10)+(a-56320),s++)),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|n&63):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|n&63):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|n&63);return e};const S7=(t,e)=>{if(e<65534&&t.subarray&&Rv)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let a=0;a<e;a++)n+=String.fromCharCode(t[a]);return n};var A7=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let a,s;const o=new Array(n*2);for(s=0,a=0;a<n;){let u=t[a++];if(u<128){o[s++]=u;continue}let d=Jd[u];if(d>4){o[s++]=65533,a+=d-1;continue}for(u&=d===2?31:d===3?15:7;d>1&&a<n;)u=u<<6|t[a++]&63,d--;if(d>1){o[s++]=65533;continue}u<65536?o[s++]=u:(u-=65536,o[s++]=55296|u>>10&1023,o[s++]=56320|u&1023)}return S7(o,s)},E7=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+Jd[t[n]]>e?n:e},I1={string2buf:_7,buf2string:A7,utf8border:E7};function k7(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var T7=k7;const fh=16209,L7=16191;var j7=function(e,n){let a,s,o,u,d,f,h,g,x,S,y,E,T,k,N,D,U,M,re,de,oe,Q,q,ue;const B=e.state;a=e.next_in,q=e.input,s=a+(e.avail_in-5),o=e.next_out,ue=e.output,u=o-(n-e.avail_out),d=o+(e.avail_out-257),f=B.dmax,h=B.wsize,g=B.whave,x=B.wnext,S=B.window,y=B.hold,E=B.bits,T=B.lencode,k=B.distcode,N=(1<<B.lenbits)-1,D=(1<<B.distbits)-1;e:do{E<15&&(y+=q[a++]<<E,E+=8,y+=q[a++]<<E,E+=8),U=T[y&N];t:for(;;){if(M=U>>>24,y>>>=M,E-=M,M=U>>>16&255,M===0)ue[o++]=U&65535;else if(M&16){re=U&65535,M&=15,M&&(E<M&&(y+=q[a++]<<E,E+=8),re+=y&(1<<M)-1,y>>>=M,E-=M),E<15&&(y+=q[a++]<<E,E+=8,y+=q[a++]<<E,E+=8),U=k[y&D];n:for(;;){if(M=U>>>24,y>>>=M,E-=M,M=U>>>16&255,M&16){if(de=U&65535,M&=15,E<M&&(y+=q[a++]<<E,E+=8,E<M&&(y+=q[a++]<<E,E+=8)),de+=y&(1<<M)-1,de>f){e.msg="invalid distance too far back",B.mode=fh;break e}if(y>>>=M,E-=M,M=o-u,de>M){if(M=de-M,M>g&&B.sane){e.msg="invalid distance too far back",B.mode=fh;break e}if(oe=0,Q=S,x===0){if(oe+=h-M,M<re){re-=M;do ue[o++]=S[oe++];while(--M);oe=o-de,Q=ue}}else if(x<M){if(oe+=h+x-M,M-=x,M<re){re-=M;do ue[o++]=S[oe++];while(--M);if(oe=0,x<re){M=x,re-=M;do ue[o++]=S[oe++];while(--M);oe=o-de,Q=ue}}}else if(oe+=x-M,M<re){re-=M;do ue[o++]=S[oe++];while(--M);oe=o-de,Q=ue}for(;re>2;)ue[o++]=Q[oe++],ue[o++]=Q[oe++],ue[o++]=Q[oe++],re-=3;re&&(ue[o++]=Q[oe++],re>1&&(ue[o++]=Q[oe++]))}else{oe=o-de;do ue[o++]=ue[oe++],ue[o++]=ue[oe++],ue[o++]=ue[oe++],re-=3;while(re>2);re&&(ue[o++]=ue[oe++],re>1&&(ue[o++]=ue[oe++]))}}else if((M&64)===0){U=k[(U&65535)+(y&(1<<M)-1)];continue n}else{e.msg="invalid distance code",B.mode=fh;break e}break}}else if((M&64)===0){U=T[(U&65535)+(y&(1<<M)-1)];continue t}else if(M&32){B.mode=L7;break e}else{e.msg="invalid literal/length code",B.mode=fh;break e}break}}while(a<s&&o<d);re=E>>3,a-=re,E-=re<<3,y&=(1<<E)-1,e.next_in=a,e.next_out=o,e.avail_in=a<s?5+(s-a):5-(a-s),e.avail_out=o<d?257+(d-o):257-(o-d),B.hold=y,B.bits=E};const xc=15,q5=852,F5=592,H5=0,Yp=1,$5=2,N7=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),C7=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),R7=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),O7=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),D7=(t,e,n,a,s,o,u,d)=>{const f=d.bits;let h=0,g=0,x=0,S=0,y=0,E=0,T=0,k=0,N=0,D=0,U,M,re,de,oe,Q=null,q;const ue=new Uint16Array(xc+1),B=new Uint16Array(xc+1);let K=null,fe,se,le;for(h=0;h<=xc;h++)ue[h]=0;for(g=0;g<a;g++)ue[e[n+g]]++;for(y=f,S=xc;S>=1&&ue[S]===0;S--);if(y>S&&(y=S),S===0)return s[o++]=1<<24|64<<16|0,s[o++]=1<<24|64<<16|0,d.bits=1,0;for(x=1;x<S&&ue[x]===0;x++);for(y<x&&(y=x),k=1,h=1;h<=xc;h++)if(k<<=1,k-=ue[h],k<0)return-1;if(k>0&&(t===H5||S!==1))return-1;for(B[1]=0,h=1;h<xc;h++)B[h+1]=B[h]+ue[h];for(g=0;g<a;g++)e[n+g]!==0&&(u[B[e[n+g]]++]=g);if(t===H5?(Q=K=u,q=20):t===Yp?(Q=N7,K=C7,q=257):(Q=R7,K=O7,q=0),D=0,g=0,h=x,oe=o,E=y,T=0,re=-1,N=1<<y,de=N-1,t===Yp&&N>q5||t===$5&&N>F5)return 1;for(;;){fe=h-T,u[g]+1<q?(se=0,le=u[g]):u[g]>=q?(se=K[u[g]-q],le=Q[u[g]-q]):(se=96,le=0),U=1<<h-T,M=1<<E,x=M;do M-=U,s[oe+(D>>T)+M]=fe<<24|se<<16|le|0;while(M!==0);for(U=1<<h-1;D&U;)U>>=1;if(U!==0?(D&=U-1,D+=U):D=0,g++,--ue[h]===0){if(h===S)break;h=e[n+u[g]]}if(h>y&&(D&de)!==re){for(T===0&&(T=y),oe+=x,E=h-T,k=1<<E;E+T<S&&(k-=ue[E+T],!(k<=0));)E++,k<<=1;if(N+=1<<E,t===Yp&&N>q5||t===$5&&N>F5)return 1;re=D&de,s[re]=y<<24|E<<16|oe-o|0}}return D!==0&&(s[oe+D]=h-T<<24|64<<16|0),d.bits=y,0};var Ud=D7;const M7=0,Ov=1,Dv=2,{Z_FINISH:W5,Z_BLOCK:z7,Z_TREES:hh,Z_OK:xu,Z_STREAM_END:B7,Z_NEED_DICT:I7,Z_STREAM_ERROR:Ga,Z_DATA_ERROR:Mv,Z_MEM_ERROR:zv,Z_BUF_ERROR:P7,Z_DEFLATED:G5}=Nv,u0=16180,Y5=16181,V5=16182,K5=16183,X5=16184,J5=16185,Z5=16186,Q5=16187,ey=16188,ty=16189,Hh=16190,Ro=16191,Vp=16192,ny=16193,Kp=16194,ry=16195,iy=16196,ay=16197,sy=16198,ph=16199,gh=16200,oy=16201,ly=16202,uy=16203,cy=16204,dy=16205,Xp=16206,fy=16207,hy=16208,rr=16209,Bv=16210,Iv=16211,U7=852,q7=592,F7=15,H7=F7,py=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function $7(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Su=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<u0||e.mode>Iv?1:0},Pv=t=>{if(Su(t))return Ga;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=u0,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(U7),e.distcode=e.distdyn=new Int32Array(q7),e.sane=1,e.back=-1,xu},Uv=t=>{if(Su(t))return Ga;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Pv(t)},qv=(t,e)=>{let n;if(Su(t))return Ga;const a=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Ga:(a.window!==null&&a.wbits!==e&&(a.window=null),a.wrap=n,a.wbits=e,Uv(t))},Fv=(t,e)=>{if(!t)return Ga;const n=new $7;t.state=n,n.strm=t,n.window=null,n.mode=u0;const a=qv(t,e);return a!==xu&&(t.state=null),a},W7=t=>Fv(t,H7);let gy=!0,Jp,Zp;const G7=t=>{if(gy){Jp=new Int32Array(512),Zp=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Ud(Ov,t.lens,0,288,Jp,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Ud(Dv,t.lens,0,32,Zp,0,t.work,{bits:5}),gy=!1}t.lencode=Jp,t.lenbits=9,t.distcode=Zp,t.distbits=5},Hv=(t,e,n,a)=>{let s;const o=t.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),a>=o.wsize?(o.window.set(e.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(s=o.wsize-o.wnext,s>a&&(s=a),o.window.set(e.subarray(n-a,n-a+s),o.wnext),a-=s,a?(o.window.set(e.subarray(n-a,n),0),o.wnext=a,o.whave=o.wsize):(o.wnext+=s,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=s))),0},Y7=(t,e)=>{let n,a,s,o,u,d,f,h,g,x,S,y,E,T,k=0,N,D,U,M,re,de,oe,Q;const q=new Uint8Array(4);let ue,B;const K=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Su(t)||!t.output||!t.input&&t.avail_in!==0)return Ga;n=t.state,n.mode===Ro&&(n.mode=Vp),u=t.next_out,s=t.output,f=t.avail_out,o=t.next_in,a=t.input,d=t.avail_in,h=n.hold,g=n.bits,x=d,S=f,Q=xu;e:for(;;)switch(n.mode){case u0:if(n.wrap===0){n.mode=Vp;break}for(;g<16;){if(d===0)break e;d--,h+=a[o++]<<g,g+=8}if(n.wrap&2&&h===35615){n.wbits===0&&(n.wbits=15),n.check=0,q[0]=h&255,q[1]=h>>>8&255,n.check=Ks(n.check,q,2,0),h=0,g=0,n.mode=Y5;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((h&255)<<8)+(h>>8))%31){t.msg="incorrect header check",n.mode=rr;break}if((h&15)!==G5){t.msg="unknown compression method",n.mode=rr;break}if(h>>>=4,g-=4,oe=(h&15)+8,n.wbits===0&&(n.wbits=oe),oe>15||oe>n.wbits){t.msg="invalid window size",n.mode=rr;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=h&512?ty:Ro,h=0,g=0;break;case Y5:for(;g<16;){if(d===0)break e;d--,h+=a[o++]<<g,g+=8}if(n.flags=h,(n.flags&255)!==G5){t.msg="unknown compression method",n.mode=rr;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=rr;break}n.head&&(n.head.text=h>>8&1),n.flags&512&&n.wrap&4&&(q[0]=h&255,q[1]=h>>>8&255,n.check=Ks(n.check,q,2,0)),h=0,g=0,n.mode=V5;case V5:for(;g<32;){if(d===0)break e;d--,h+=a[o++]<<g,g+=8}n.head&&(n.head.time=h),n.flags&512&&n.wrap&4&&(q[0]=h&255,q[1]=h>>>8&255,q[2]=h>>>16&255,q[3]=h>>>24&255,n.check=Ks(n.check,q,4,0)),h=0,g=0,n.mode=K5;case K5:for(;g<16;){if(d===0)break e;d--,h+=a[o++]<<g,g+=8}n.head&&(n.head.xflags=h&255,n.head.os=h>>8),n.flags&512&&n.wrap&4&&(q[0]=h&255,q[1]=h>>>8&255,n.check=Ks(n.check,q,2,0)),h=0,g=0,n.mode=X5;case X5:if(n.flags&1024){for(;g<16;){if(d===0)break e;d--,h+=a[o++]<<g,g+=8}n.length=h,n.head&&(n.head.extra_len=h),n.flags&512&&n.wrap&4&&(q[0]=h&255,q[1]=h>>>8&255,n.check=Ks(n.check,q,2,0)),h=0,g=0}else n.head&&(n.head.extra=null);n.mode=J5;case J5:if(n.flags&1024&&(y=n.length,y>d&&(y=d),y&&(n.head&&(oe=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(a.subarray(o,o+y),oe)),n.flags&512&&n.wrap&4&&(n.check=Ks(n.check,a,y,o)),d-=y,o+=y,n.length-=y),n.length))break e;n.length=0,n.mode=Z5;case Z5:if(n.flags&2048){if(d===0)break e;y=0;do oe=a[o+y++],n.head&&oe&&n.length<65536&&(n.head.name+=String.fromCharCode(oe));while(oe&&y<d);if(n.flags&512&&n.wrap&4&&(n.check=Ks(n.check,a,y,o)),d-=y,o+=y,oe)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=Q5;case Q5:if(n.flags&4096){if(d===0)break e;y=0;do oe=a[o+y++],n.head&&oe&&n.length<65536&&(n.head.comment+=String.fromCharCode(oe));while(oe&&y<d);if(n.flags&512&&n.wrap&4&&(n.check=Ks(n.check,a,y,o)),d-=y,o+=y,oe)break e}else n.head&&(n.head.comment=null);n.mode=ey;case ey:if(n.flags&512){for(;g<16;){if(d===0)break e;d--,h+=a[o++]<<g,g+=8}if(n.wrap&4&&h!==(n.check&65535)){t.msg="header crc mismatch",n.mode=rr;break}h=0,g=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Ro;break;case ty:for(;g<32;){if(d===0)break e;d--,h+=a[o++]<<g,g+=8}t.adler=n.check=py(h),h=0,g=0,n.mode=Hh;case Hh:if(n.havedict===0)return t.next_out=u,t.avail_out=f,t.next_in=o,t.avail_in=d,n.hold=h,n.bits=g,I7;t.adler=n.check=1,n.mode=Ro;case Ro:if(e===z7||e===hh)break e;case Vp:if(n.last){h>>>=g&7,g-=g&7,n.mode=Xp;break}for(;g<3;){if(d===0)break e;d--,h+=a[o++]<<g,g+=8}switch(n.last=h&1,h>>>=1,g-=1,h&3){case 0:n.mode=ny;break;case 1:if(G7(n),n.mode=ph,e===hh){h>>>=2,g-=2;break e}break;case 2:n.mode=iy;break;case 3:t.msg="invalid block type",n.mode=rr}h>>>=2,g-=2;break;case ny:for(h>>>=g&7,g-=g&7;g<32;){if(d===0)break e;d--,h+=a[o++]<<g,g+=8}if((h&65535)!==(h>>>16^65535)){t.msg="invalid stored block lengths",n.mode=rr;break}if(n.length=h&65535,h=0,g=0,n.mode=Kp,e===hh)break e;case Kp:n.mode=ry;case ry:if(y=n.length,y){if(y>d&&(y=d),y>f&&(y=f),y===0)break e;s.set(a.subarray(o,o+y),u),d-=y,o+=y,f-=y,u+=y,n.length-=y;break}n.mode=Ro;break;case iy:for(;g<14;){if(d===0)break e;d--,h+=a[o++]<<g,g+=8}if(n.nlen=(h&31)+257,h>>>=5,g-=5,n.ndist=(h&31)+1,h>>>=5,g-=5,n.ncode=(h&15)+4,h>>>=4,g-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=rr;break}n.have=0,n.mode=ay;case ay:for(;n.have<n.ncode;){for(;g<3;){if(d===0)break e;d--,h+=a[o++]<<g,g+=8}n.lens[K[n.have++]]=h&7,h>>>=3,g-=3}for(;n.have<19;)n.lens[K[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,ue={bits:n.lenbits},Q=Ud(M7,n.lens,0,19,n.lencode,0,n.work,ue),n.lenbits=ue.bits,Q){t.msg="invalid code lengths set",n.mode=rr;break}n.have=0,n.mode=sy;case sy:for(;n.have<n.nlen+n.ndist;){for(;k=n.lencode[h&(1<<n.lenbits)-1],N=k>>>24,D=k>>>16&255,U=k&65535,!(N<=g);){if(d===0)break e;d--,h+=a[o++]<<g,g+=8}if(U<16)h>>>=N,g-=N,n.lens[n.have++]=U;else{if(U===16){for(B=N+2;g<B;){if(d===0)break e;d--,h+=a[o++]<<g,g+=8}if(h>>>=N,g-=N,n.have===0){t.msg="invalid bit length repeat",n.mode=rr;break}oe=n.lens[n.have-1],y=3+(h&3),h>>>=2,g-=2}else if(U===17){for(B=N+3;g<B;){if(d===0)break e;d--,h+=a[o++]<<g,g+=8}h>>>=N,g-=N,oe=0,y=3+(h&7),h>>>=3,g-=3}else{for(B=N+7;g<B;){if(d===0)break e;d--,h+=a[o++]<<g,g+=8}h>>>=N,g-=N,oe=0,y=11+(h&127),h>>>=7,g-=7}if(n.have+y>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=rr;break}for(;y--;)n.lens[n.have++]=oe}}if(n.mode===rr)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=rr;break}if(n.lenbits=9,ue={bits:n.lenbits},Q=Ud(Ov,n.lens,0,n.nlen,n.lencode,0,n.work,ue),n.lenbits=ue.bits,Q){t.msg="invalid literal/lengths set",n.mode=rr;break}if(n.distbits=6,n.distcode=n.distdyn,ue={bits:n.distbits},Q=Ud(Dv,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,ue),n.distbits=ue.bits,Q){t.msg="invalid distances set",n.mode=rr;break}if(n.mode=ph,e===hh)break e;case ph:n.mode=gh;case gh:if(d>=6&&f>=258){t.next_out=u,t.avail_out=f,t.next_in=o,t.avail_in=d,n.hold=h,n.bits=g,j7(t,S),u=t.next_out,s=t.output,f=t.avail_out,o=t.next_in,a=t.input,d=t.avail_in,h=n.hold,g=n.bits,n.mode===Ro&&(n.back=-1);break}for(n.back=0;k=n.lencode[h&(1<<n.lenbits)-1],N=k>>>24,D=k>>>16&255,U=k&65535,!(N<=g);){if(d===0)break e;d--,h+=a[o++]<<g,g+=8}if(D&&(D&240)===0){for(M=N,re=D,de=U;k=n.lencode[de+((h&(1<<M+re)-1)>>M)],N=k>>>24,D=k>>>16&255,U=k&65535,!(M+N<=g);){if(d===0)break e;d--,h+=a[o++]<<g,g+=8}h>>>=M,g-=M,n.back+=M}if(h>>>=N,g-=N,n.back+=N,n.length=U,D===0){n.mode=dy;break}if(D&32){n.back=-1,n.mode=Ro;break}if(D&64){t.msg="invalid literal/length code",n.mode=rr;break}n.extra=D&15,n.mode=oy;case oy:if(n.extra){for(B=n.extra;g<B;){if(d===0)break e;d--,h+=a[o++]<<g,g+=8}n.length+=h&(1<<n.extra)-1,h>>>=n.extra,g-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=ly;case ly:for(;k=n.distcode[h&(1<<n.distbits)-1],N=k>>>24,D=k>>>16&255,U=k&65535,!(N<=g);){if(d===0)break e;d--,h+=a[o++]<<g,g+=8}if((D&240)===0){for(M=N,re=D,de=U;k=n.distcode[de+((h&(1<<M+re)-1)>>M)],N=k>>>24,D=k>>>16&255,U=k&65535,!(M+N<=g);){if(d===0)break e;d--,h+=a[o++]<<g,g+=8}h>>>=M,g-=M,n.back+=M}if(h>>>=N,g-=N,n.back+=N,D&64){t.msg="invalid distance code",n.mode=rr;break}n.offset=U,n.extra=D&15,n.mode=uy;case uy:if(n.extra){for(B=n.extra;g<B;){if(d===0)break e;d--,h+=a[o++]<<g,g+=8}n.offset+=h&(1<<n.extra)-1,h>>>=n.extra,g-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=rr;break}n.mode=cy;case cy:if(f===0)break e;if(y=S-f,n.offset>y){if(y=n.offset-y,y>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=rr;break}y>n.wnext?(y-=n.wnext,E=n.wsize-y):E=n.wnext-y,y>n.length&&(y=n.length),T=n.window}else T=s,E=u-n.offset,y=n.length;y>f&&(y=f),f-=y,n.length-=y;do s[u++]=T[E++];while(--y);n.length===0&&(n.mode=gh);break;case dy:if(f===0)break e;s[u++]=n.length,f--,n.mode=gh;break;case Xp:if(n.wrap){for(;g<32;){if(d===0)break e;d--,h|=a[o++]<<g,g+=8}if(S-=f,t.total_out+=S,n.total+=S,n.wrap&4&&S&&(t.adler=n.check=n.flags?Ks(n.check,s,S,u-S):z1(n.check,s,S,u-S)),S=f,n.wrap&4&&(n.flags?h:py(h))!==n.check){t.msg="incorrect data check",n.mode=rr;break}h=0,g=0}n.mode=fy;case fy:if(n.wrap&&n.flags){for(;g<32;){if(d===0)break e;d--,h+=a[o++]<<g,g+=8}if(n.wrap&4&&h!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=rr;break}h=0,g=0}n.mode=hy;case hy:Q=B7;break e;case rr:Q=Mv;break e;case Bv:return zv;case Iv:default:return Ga}return t.next_out=u,t.avail_out=f,t.next_in=o,t.avail_in=d,n.hold=h,n.bits=g,(n.wsize||S!==t.avail_out&&n.mode<rr&&(n.mode<Xp||e!==W5))&&Hv(t,t.output,t.next_out,S-t.avail_out),x-=t.avail_in,S-=t.avail_out,t.total_in+=x,t.total_out+=S,n.total+=S,n.wrap&4&&S&&(t.adler=n.check=n.flags?Ks(n.check,s,S,t.next_out-S):z1(n.check,s,S,t.next_out-S)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Ro?128:0)+(n.mode===ph||n.mode===Kp?256:0),(x===0&&S===0||e===W5)&&Q===xu&&(Q=P7),Q},V7=t=>{if(Su(t))return Ga;let e=t.state;return e.window&&(e.window=null),t.state=null,xu},K7=(t,e)=>{if(Su(t))return Ga;const n=t.state;return(n.wrap&2)===0?Ga:(n.head=e,e.done=!1,xu)},X7=(t,e)=>{const n=e.length;let a,s,o;return Su(t)||(a=t.state,a.wrap!==0&&a.mode!==Hh)?Ga:a.mode===Hh&&(s=1,s=z1(s,e,n,0),s!==a.check)?Mv:(o=Hv(t,e,n,n),o?(a.mode=Bv,zv):(a.havedict=1,xu))};var J7=Uv,Z7=qv,Q7=Pv,eE=W7,tE=Fv,nE=Y7,rE=V7,iE=K7,aE=X7,sE="pako inflate (from Nodeca project)",Do={inflateReset:J7,inflateReset2:Z7,inflateResetKeep:Q7,inflateInit:eE,inflateInit2:tE,inflate:nE,inflateEnd:rE,inflateGetHeader:iE,inflateSetDictionary:aE,inflateInfo:sE};function oE(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var lE=oE;const $v=Object.prototype.toString,{Z_NO_FLUSH:uE,Z_FINISH:cE,Z_OK:Zd,Z_STREAM_END:Qp,Z_NEED_DICT:e1,Z_STREAM_ERROR:dE,Z_DATA_ERROR:my,Z_MEM_ERROR:fE}=Nv;function lf(t){this.options=Cv.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new T7,this.strm.avail_out=0;let n=Do.inflateInit2(this.strm,e.windowBits);if(n!==Zd)throw new Error(B1[n]);if(this.header=new lE,Do.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=I1.string2buf(e.dictionary):$v.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=Do.inflateSetDictionary(this.strm,e.dictionary),n!==Zd)))throw new Error(B1[n])}lf.prototype.push=function(t,e){const n=this.strm,a=this.options.chunkSize,s=this.options.dictionary;let o,u,d;if(this.ended)return!1;for(e===~~e?u=e:u=e===!0?cE:uE,$v.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(a),n.next_out=0,n.avail_out=a),o=Do.inflate(n,u),o===e1&&s&&(o=Do.inflateSetDictionary(n,s),o===Zd?o=Do.inflate(n,u):o===my&&(o=e1));n.avail_in>0&&o===Qp&&n.state.wrap>0&&t[n.next_in]!==0;)Do.inflateReset(n),o=Do.inflate(n,u);switch(o){case dE:case my:case e1:case fE:return this.onEnd(o),this.ended=!0,!1}if(d=n.avail_out,n.next_out&&(n.avail_out===0||o===Qp))if(this.options.to==="string"){let f=I1.utf8border(n.output,n.next_out),h=n.next_out-f,g=I1.buf2string(n.output,f);n.next_out=h,n.avail_out=a-h,h&&n.output.set(n.output.subarray(f,f+h),0),this.onData(g)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(o===Zd&&d===0)){if(o===Qp)return o=Do.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};lf.prototype.onData=function(t){this.chunks.push(t)};lf.prototype.onEnd=function(t){t===Zd&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Cv.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function hE(t,e){const n=new lf(e);if(n.push(t),n.err)throw n.msg||B1[n.err];return n.result}var pE=lf,gE=hE,mE={Inflate:pE,inflate:gE};const{Inflate:yE,inflate:bE}=mE;var yy=yE,vE=bE;const Wv=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;Wv[t]=e}const by=4294967295;function wE(t,e,n){let a=t;for(let s=0;s<n;s++)a=Wv[(a^e[s])&255]^a>>>8;return a}function xE(t,e){return(wE(by,t,e)^by)>>>0}function vy(t,e,n){const a=t.readUint32(),s=xE(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(s!==a)throw new Error(`CRC mismatch for chunk ${n}. Expected ${a}, found ${s}`)}function Gv(t,e,n){for(let a=0;a<n;a++)e[a]=t[a]}function Yv(t,e,n,a){let s=0;for(;s<a;s++)e[s]=t[s];for(;s<n;s++)e[s]=t[s]+e[s-a]&255}function Vv(t,e,n,a){let s=0;if(n.length===0)for(;s<a;s++)e[s]=t[s];else for(;s<a;s++)e[s]=t[s]+n[s]&255}function Kv(t,e,n,a,s){let o=0;if(n.length===0){for(;o<s;o++)e[o]=t[o];for(;o<a;o++)e[o]=t[o]+(e[o-s]>>1)&255}else{for(;o<s;o++)e[o]=t[o]+(n[o]>>1)&255;for(;o<a;o++)e[o]=t[o]+(e[o-s]+n[o]>>1)&255}}function Xv(t,e,n,a,s){let o=0;if(n.length===0){for(;o<s;o++)e[o]=t[o];for(;o<a;o++)e[o]=t[o]+e[o-s]&255}else{for(;o<s;o++)e[o]=t[o]+n[o]&255;for(;o<a;o++)e[o]=t[o]+_E(e[o-s],n[o],n[o-s])&255}}function _E(t,e,n){const a=t+e-n,s=Math.abs(a-t),o=Math.abs(a-e),u=Math.abs(a-n);return s<=o&&s<=u?t:o<=u?e:n}function SE(t,e,n,a,s,o){switch(t){case 0:Gv(e,n,s);break;case 1:Yv(e,n,s,o);break;case 2:Vv(e,n,a,s);break;case 3:Kv(e,n,a,s,o);break;case 4:Xv(e,n,a,s,o);break;default:throw new Error(`Unsupported filter: ${t}`)}}const AE=new Uint16Array([255]),EE=new Uint8Array(AE.buffer),kE=EE[0]===255;function TE(t){const{data:e,width:n,height:a,channels:s,depth:o}=t,u=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],d=Math.ceil(o/8)*s,f=new Uint8Array(a*n*d);let h=0;for(let g=0;g<7;g++){const x=u[g],S=Math.ceil((n-x.x)/x.xStep),y=Math.ceil((a-x.y)/x.yStep);if(S<=0||y<=0)continue;const E=S*d,T=new Uint8Array(E);for(let k=0;k<y;k++){const N=e[h++],D=e.subarray(h,h+E);h+=E;const U=new Uint8Array(E);SE(N,D,U,T,E,d),T.set(U);for(let M=0;M<S;M++){const re=x.x+M*x.xStep,de=x.y+k*x.yStep;if(!(re>=n||de>=a))for(let oe=0;oe<d;oe++)f[(de*n+re)*d+oe]=U[M*d+oe]}}}if(o===16){const g=new Uint16Array(f.buffer);if(kE)for(let x=0;x<g.length;x++)g[x]=LE(g[x]);return g}else return f}function LE(t){return(t&255)<<8|t>>8&255}const jE=new Uint16Array([255]),NE=new Uint8Array(jE.buffer),CE=NE[0]===255,RE=new Uint8Array(0);function wy(t){const{data:e,width:n,height:a,channels:s,depth:o}=t,u=Math.ceil(o/8)*s,d=Math.ceil(o/8*s*n),f=new Uint8Array(a*d);let h=RE,g=0,x,S;for(let y=0;y<a;y++){switch(x=e.subarray(g+1,g+1+d),S=f.subarray(y*d,(y+1)*d),e[g]){case 0:Gv(x,S,d);break;case 1:Yv(x,S,d,u);break;case 2:Vv(x,S,h,d);break;case 3:Kv(x,S,h,d,u);break;case 4:Xv(x,S,h,d,u);break;default:throw new Error(`Unsupported filter: ${e[g]}`)}h=S,g+=d+1}if(o===16){const y=new Uint16Array(f.buffer);if(CE)for(let E=0;E<y.length;E++)y[E]=OE(y[E]);return y}else return f}function OE(t){return(t&255)<<8|t>>8&255}const Ah=Uint8Array.of(137,80,78,71,13,10,26,10);function xy(t){if(!DE(t.readBytes(Ah.length)))throw new Error("wrong PNG signature")}function DE(t){if(t.length<Ah.length)return!1;for(let e=0;e<Ah.length;e++)if(t[e]!==Ah[e])return!1;return!0}const ME="tEXt",zE=0,Jv=new TextDecoder("latin1");function BE(t){if(PE(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const IE=/^[\u0000-\u00FF]*$/;function PE(t){if(!IE.test(t))throw new Error("invalid latin1 text")}function UE(t,e,n){const a=Zv(e);t[a]=qE(e,n-a.length-1)}function Zv(t){for(t.mark();t.readByte()!==zE;);const e=t.offset;t.reset();const n=Jv.decode(t.readBytes(e-t.offset-1));return t.skip(1),BE(n),n}function qE(t,e){return Jv.decode(t.readBytes(e))}const va={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},t1={UNKNOWN:-1,DEFLATE:0},_y={UNKNOWN:-1,ADAPTIVE:0},n1={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},mh={NONE:0,BACKGROUND:1,PREVIOUS:2},r1={SOURCE:0,OVER:1};class FE extends gg{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,n={}){super(e);const{checkCrc:a=!1}=n;this._checkCrc=a,this._inflator=new yy,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=t1.UNKNOWN,this._filterMethod=_y.UNKNOWN,this._interlaceMethod=n1.UNKNOWN,this._colorType=va.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(xy(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeChunk(e,n)}return this.decodeImage(),this._png}decodeApng(){for(xy(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(e,n)}return this.decodeApngImage(),this._apng}decodeChunk(e,n){const a=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case ME:UE(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-a!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?vy(this,e+4,n):this.skip(4)}decodeApngChunk(e,n){const a=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,n),this.offset=a+e;break}if(this.offset-a!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?vy(this,e+4,n):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=HE(this.readUint8());const n=this.readUint8();this._colorType=n;let a;switch(n){case va.GREYSCALE:a=1;break;case va.TRUECOLOUR:a=3;break;case va.INDEXED_COLOUR:a=1;break;case va.GREYSCALE_ALPHA:a=2;break;case va.TRUECOLOUR_ALPHA:a=4;break;case va.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==t1.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const n=e/3;this._hasPalette=!0;const a=[];this._palette=a;for(let s=0;s<n;s++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const n=e,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let n=e,a=this.offset+this.byteOffset;if(a+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case va.GREYSCALE:case va.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let n=0;n<e/2;n++)this._transparency[n]=this.readUint16();break}case va.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let n=0;for(;n<e;n++){const a=this.readByte();this._palette[n].push(a)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case va.UNKNOWN:case va.GREYSCALE_ALPHA:case va.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const n=Zv(this),a=this.readUint8();if(a!==t1.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const s=this.readBytes(e-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:vE(s)}}decodepHYs(){const e=this.readUint32(),n=this.readUint32(),a=this.readByte();this._png.resolution={x:e,y:n,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const n={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(e);if(a){if(a.data=wy({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)n.data=a.data;else{const s=this._apng.frames.at(e-1);this.disposeFrame(a,s,n),this.addFrameDataToCanvas(n,a)}this._apng.frames.push(n)}}return this._apng}disposeFrame(e,n,a){switch(e.disposeOp){case mh.NONE:break;case mh.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let o=0;o<this._png.width;o++){const u=(s*e.width+o)*this._png.channels;for(let d=0;d<this._png.channels;d++)a.data[u+d]=0}break;case mh.PREVIOUS:a.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,n){const a=1<<this._png.depth,s=(o,u)=>{const d=((o+n.yOffset)*this._png.width+n.xOffset+u)*this._png.channels,f=(o*n.width+u)*this._png.channels;return{index:d,frameIndex:f}};switch(n.blendOp){case r1.SOURCE:for(let o=0;o<n.height;o++)for(let u=0;u<n.width;u++){const{index:d,frameIndex:f}=s(o,u);for(let h=0;h<this._png.channels;h++)e.data[d+h]=n.data[f+h]}break;case r1.OVER:for(let o=0;o<n.height;o++)for(let u=0;u<n.width;u++){const{index:d,frameIndex:f}=s(o,u);for(let h=0;h<this._png.channels;h++){const g=n.data[f+this._png.channels-1]/a,x=h%(this._png.channels-1)===0?1:n.data[f+h],S=Math.floor(g*x+(1-g)*e.data[d+h]);e.data[d+h]+=S}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==_y.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===n1.NO_INTERLACE)this._png.data=wy({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===n1.ADAM7)this._png.data=TE({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,n=this._frames.at(-1);n?n.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:mh.NONE,blendOp:r1.SOURCE,data:e}),this._inflator=new yy,this._writingDataChunks=!1}}function HE(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var Sy;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(Sy||(Sy={}));function $E(t,e){return new FE(t,e).decode()}var Ht=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function i1(){Ht.console&&typeof Ht.console.log=="function"&&Ht.console.log.apply(Ht.console,arguments)}var Un={log:i1,warn:function(t){Ht.console&&(typeof Ht.console.warn=="function"?Ht.console.warn.apply(Ht.console,arguments):i1.call(null,arguments))},error:function(t){Ht.console&&(typeof Ht.console.error=="function"?Ht.console.error.apply(Ht.console,arguments):i1(t))}};function a1(t,e,n){var a=new XMLHttpRequest;a.open("GET",t),a.responseType="blob",a.onload=function(){fu(a.response,e,n)},a.onerror=function(){Un.error("could not download file")},a.send()}function Ay(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function yh(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var fu=Ht.saveAs||((typeof window>"u"?"undefined":jn(window))!=="object"||window!==Ht?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var a=Ht.URL||Ht.webkitURL,s=document.createElement("a");e=e||t.name||"download",s.download=e,s.rel="noopener",typeof t=="string"?(s.href=t,s.origin!==location.origin?Ay(s.href)?a1(t,e,n):yh(s,s.target="_blank"):yh(s)):(s.href=a.createObjectURL(t),setTimeout(function(){a.revokeObjectURL(s.href)},4e4),setTimeout(function(){yh(s)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(Ay(t))a1(t,e,n);else{var a=document.createElement("a");a.href=t,a.target="_blank",setTimeout(function(){yh(a)})}else navigator.msSaveOrOpenBlob((function(s,o){return o===void 0?o={autoBom:!1}:jn(o)!=="object"&&(Un.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s})(t,n),e)}:function(t,e,n,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),typeof t=="string")return a1(t,e,n);var s=t.type==="application/octet-stream",o=/constructor/i.test(Ht.HTMLElement)||Ht.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||s&&o)&&(typeof FileReader>"u"?"undefined":jn(FileReader))==="object"){var d=new FileReader;d.onloadend=function(){var g=d.result;g=u?g:g.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=g:location=g,a=null},d.readAsDataURL(t)}else{var f=Ht.URL||Ht.webkitURL,h=f.createObjectURL(t);a?a.location=h:location.href=h,a=null,setTimeout(function(){f.revokeObjectURL(h)},4e4)}});function Qv(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(d){return[parseInt(d[1]),parseInt(d[2]),parseInt(d[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(d){return[parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(d){return[parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16)]}}],a=0;a<n.length;a++){var s=n[a].re,o=n[a].process,u=s.exec(t);u&&(e=o(u),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var d=this.r.toString(16),f=this.g.toString(16),h=this.b.toString(16);return d.length==1&&(d="0"+d),f.length==1&&(f="0"+f),h.length==1&&(h="0"+h),"#"+d+f+h}}var Eh=Ht.atob.bind(Ht),Ey=Ht.btoa.bind(Ht);function s1(t,e){var n=t[0],a=t[1],s=t[2],o=t[3];n=Si(n,a,s,o,e[0],7,-680876936),o=Si(o,n,a,s,e[1],12,-389564586),s=Si(s,o,n,a,e[2],17,606105819),a=Si(a,s,o,n,e[3],22,-1044525330),n=Si(n,a,s,o,e[4],7,-176418897),o=Si(o,n,a,s,e[5],12,1200080426),s=Si(s,o,n,a,e[6],17,-1473231341),a=Si(a,s,o,n,e[7],22,-45705983),n=Si(n,a,s,o,e[8],7,1770035416),o=Si(o,n,a,s,e[9],12,-1958414417),s=Si(s,o,n,a,e[10],17,-42063),a=Si(a,s,o,n,e[11],22,-1990404162),n=Si(n,a,s,o,e[12],7,1804603682),o=Si(o,n,a,s,e[13],12,-40341101),s=Si(s,o,n,a,e[14],17,-1502002290),n=Ai(n,a=Si(a,s,o,n,e[15],22,1236535329),s,o,e[1],5,-165796510),o=Ai(o,n,a,s,e[6],9,-1069501632),s=Ai(s,o,n,a,e[11],14,643717713),a=Ai(a,s,o,n,e[0],20,-373897302),n=Ai(n,a,s,o,e[5],5,-701558691),o=Ai(o,n,a,s,e[10],9,38016083),s=Ai(s,o,n,a,e[15],14,-660478335),a=Ai(a,s,o,n,e[4],20,-405537848),n=Ai(n,a,s,o,e[9],5,568446438),o=Ai(o,n,a,s,e[14],9,-1019803690),s=Ai(s,o,n,a,e[3],14,-187363961),a=Ai(a,s,o,n,e[8],20,1163531501),n=Ai(n,a,s,o,e[13],5,-1444681467),o=Ai(o,n,a,s,e[2],9,-51403784),s=Ai(s,o,n,a,e[7],14,1735328473),n=Ei(n,a=Ai(a,s,o,n,e[12],20,-1926607734),s,o,e[5],4,-378558),o=Ei(o,n,a,s,e[8],11,-2022574463),s=Ei(s,o,n,a,e[11],16,1839030562),a=Ei(a,s,o,n,e[14],23,-35309556),n=Ei(n,a,s,o,e[1],4,-1530992060),o=Ei(o,n,a,s,e[4],11,1272893353),s=Ei(s,o,n,a,e[7],16,-155497632),a=Ei(a,s,o,n,e[10],23,-1094730640),n=Ei(n,a,s,o,e[13],4,681279174),o=Ei(o,n,a,s,e[0],11,-358537222),s=Ei(s,o,n,a,e[3],16,-722521979),a=Ei(a,s,o,n,e[6],23,76029189),n=Ei(n,a,s,o,e[9],4,-640364487),o=Ei(o,n,a,s,e[12],11,-421815835),s=Ei(s,o,n,a,e[15],16,530742520),n=ki(n,a=Ei(a,s,o,n,e[2],23,-995338651),s,o,e[0],6,-198630844),o=ki(o,n,a,s,e[7],10,1126891415),s=ki(s,o,n,a,e[14],15,-1416354905),a=ki(a,s,o,n,e[5],21,-57434055),n=ki(n,a,s,o,e[12],6,1700485571),o=ki(o,n,a,s,e[3],10,-1894986606),s=ki(s,o,n,a,e[10],15,-1051523),a=ki(a,s,o,n,e[1],21,-2054922799),n=ki(n,a,s,o,e[8],6,1873313359),o=ki(o,n,a,s,e[15],10,-30611744),s=ki(s,o,n,a,e[6],15,-1560198380),a=ki(a,s,o,n,e[13],21,1309151649),n=ki(n,a,s,o,e[4],6,-145523070),o=ki(o,n,a,s,e[11],10,-1120210379),s=ki(s,o,n,a,e[2],15,718787259),a=ki(a,s,o,n,e[9],21,-343485551),t[0]=Ll(n,t[0]),t[1]=Ll(a,t[1]),t[2]=Ll(s,t[2]),t[3]=Ll(o,t[3])}function c0(t,e,n,a,s,o){return e=Ll(Ll(e,t),Ll(a,o)),Ll(e<<s|e>>>32-s,n)}function Si(t,e,n,a,s,o,u){return c0(e&n|~e&a,t,e,s,o,u)}function Ai(t,e,n,a,s,o,u){return c0(e&a|n&~a,t,e,s,o,u)}function Ei(t,e,n,a,s,o,u){return c0(e^n^a,t,e,s,o,u)}function ki(t,e,n,a,s,o,u){return c0(n^(e|~a),t,e,s,o,u)}function ew(t){var e,n=t.length,a=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)s1(a,WE(t.substring(e-64,e)));t=t.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)s[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(s1(a,s),e=0;e<16;e++)s[e]=0;return s[14]=8*n,s1(a,s),a}function WE(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var ky="0123456789abcdef".split("");function GE(t){for(var e="",n=0;n<4;n++)e+=ky[t>>8*n+4&15]+ky[t>>8*n&15];return e}function YE(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function P1(t){return ew(t).map(YE).join("")}var VE=(function(t){for(var e=0;e<t.length;e++)t[e]=GE(t[e]);return t.join("")})(ew("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ll(t,e){if(VE){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}function U1(t,e){var n,a,s,o;if(t!==n){for(var u=(s=t,o=1+(256/t.length|0),new Array(o+1).join(s)),d=[],f=0;f<256;f++)d[f]=f;var h=0;for(f=0;f<256;f++){var g=d[f];h=(h+g+u.charCodeAt(f))%256,d[f]=d[h],d[h]=g}n=t,a=d}else d=a;var x=e.length,S=0,y=0,E="";for(f=0;f<x;f++)y=(y+(g=d[S=(S+1)%256]))%256,d[S]=d[y],d[y]=g,u=d[(d[S]+d[y])%256],E+=String.fromCharCode(e.charCodeAt(f)^u);return E}var Ty={print:4,modify:8,copy:16,"annot-forms":32};function Lc(t,e,n,a){this.v=1,this.r=2;var s=192;t.forEach(function(d){if(Ty.perm!==void 0)throw new Error("Invalid permission: "+d);s+=Ty[d]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),u=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,u),this.P=-(1+(255^s)),this.encryptionKey=P1(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(a)).substr(0,5),this.U=U1(this.encryptionKey,this.padding)}function jc(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,a=0;a<n;a++){var s=t.charCodeAt(a);e+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):t[a]}return e}function Ly(t){if(jn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,a,s){if(s=s||!1,typeof n!="string"||typeof a!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var o=Math.random().toString(35);return e[n][o]=[a,!!s],o},this.unsubscribe=function(n){for(var a in e)if(e[a][n])return delete e[a][n],Object.keys(e[a]).length===0&&delete e[a],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var a=Array.prototype.slice.call(arguments,1),s=[];for(var o in e[n]){var u=e[n][o];try{u[0].apply(t,a)}catch(d){Ht.console&&Un.error("jsPDF PubSub Error",d.message,d)}u[1]&&s.push(o)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function $h(t){if(!(this instanceof $h))return new $h(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function tw(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function gu(t,e,n,a,s){if(!(this instanceof gu))return new gu(t,e,n,a,s);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,tw.call(this,a,s)}function Rc(t,e,n,a,s){if(!(this instanceof Rc))return new Rc(t,e,n,a,s);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,tw.call(this,a,s)}function Nt(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",a=arguments[1],s=arguments[2],o=arguments[3],u=[],d=1,f=16,h="S",g=null;jn(t=t||{})==="object"&&(n=t.orientation,a=t.unit||a,s=t.format||s,o=t.compress||t.compressPdf||o,(g=t.encryption||null)!==null&&(g.userPassword=g.userPassword||"",g.ownerPassword=g.ownerPassword||"",g.userPermissions=g.userPermissions||[]),d=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(f=t.floatPrecision),h=t.defaultPathOperation||"S"),u=t.filters||(o===!0?["FlateEncode"]:u),a=a||"mm",n=(""+(n||"P")).toLowerCase();var x=t.putOnlyUsedFonts||!1,S={},y={internal:{},__private__:{}};y.__private__.PubSub=Ly;var E="1.3",T=y.__private__.getPdfVersion=function(){return E};y.__private__.setPdfVersion=function(_){E=_};var k={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};y.__private__.getPageFormats=function(){return k};var N=y.__private__.getPageFormat=function(_){return k[_]};s=s||"a4";var D="compat",U="advanced",M=D;function re(){this.saveGraphicsState(),P(new At(ot,0,0,-ot,0,ts()*ot).toString()+" cm"),this.setFontSize(this.getFontSize()/ot),h="n",M=U}function de(){this.restoreGraphicsState(),h="S",M=D}var oe=y.__private__.combineFontStyleAndFontWeight=function(_,z){if(_=="bold"&&z=="normal"||_=="bold"&&z==400||_=="normal"&&z=="italic"||_=="bold"&&z=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return z&&(_=z==400||z==="normal"?_==="italic"?"italic":"normal":z!=700&&z!=="bold"||_!=="normal"?(z==700?"bold":z)+""+_:"bold"),_};y.advancedAPI=function(_){var z=M===D;return z&&re.call(this),typeof _!="function"||(_(this),z&&de.call(this)),this},y.compatAPI=function(_){var z=M===U;return z&&de.call(this),typeof _!="function"||(_(this),z&&re.call(this)),this},y.isAdvancedAPI=function(){return M===U};var Q,q=function(_){if(M!==U)throw new Error(_+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},ue=y.roundToPrecision=y.__private__.roundToPrecision=function(_,z){var ae=e||z;if(isNaN(_)||isNaN(ae))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return _.toFixed(ae).replace(/0+$/,"")};Q=y.hpf=y.__private__.hpf=typeof f=="number"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return ue(_,f)}:f==="smart"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return ue(_,_>-1&&_<1?16:5)}:function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return ue(_,16)};var B=y.f2=y.__private__.f2=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f2");return ue(_,2)},K=y.__private__.f3=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f3");return ue(_,3)},fe=y.scale=y.__private__.scale=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.scale");return M===D?_*ot:M===U?_:void 0},se=function(_){return fe((function(z){return M===D?ts()-z:M===U?z:void 0})(_))};y.__private__.setPrecision=y.setPrecision=function(_){typeof parseInt(_,10)=="number"&&(e=parseInt(_,10))};var le,J="00000000000000000000000000000000",ee=y.__private__.getFileId=function(){return J},he=y.__private__.setFileId=function(_){return J=_!==void 0&&/^[a-fA-F0-9]{32}$/.test(_)?_.toUpperCase():J.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),g!==null&&(kr=new Lc(g.userPermissions,g.userPassword,g.ownerPassword,J)),J};y.setFileId=function(_){return he(_),this},y.getFileId=function(){return ee()};var _e=y.__private__.convertDateToPDFDate=function(_){var z=_.getTimezoneOffset(),ae=z<0?"+":"-",me=Math.floor(Math.abs(z/60)),ke=Math.abs(z%60),We=[ae,X(me),"'",X(ke),"'"].join("");return["D:",_.getFullYear(),X(_.getMonth()+1),X(_.getDate()),X(_.getHours()),X(_.getMinutes()),X(_.getSeconds()),We].join("")},ze=y.__private__.convertPDFDateToDate=function(_){var z=parseInt(_.substr(2,4),10),ae=parseInt(_.substr(6,2),10)-1,me=parseInt(_.substr(8,2),10),ke=parseInt(_.substr(10,2),10),We=parseInt(_.substr(12,2),10),Ze=parseInt(_.substr(14,2),10);return new Date(z,ae,me,ke,We,Ze,0)},G=y.__private__.setCreationDate=function(_){var z;if(_===void 0&&(_=new Date),_ instanceof Date)z=_e(_);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(_))throw new Error("Invalid argument passed to jsPDF.setCreationDate");z=_}return le=z},L=y.__private__.getCreationDate=function(_){var z=le;return _==="jsDate"&&(z=ze(le)),z};y.setCreationDate=function(_){return G(_),this},y.getCreationDate=function(_){return L(_)};var F,X=y.__private__.padd2=function(_){return("0"+parseInt(_)).slice(-2)},ie=y.__private__.padd2Hex=function(_){return("00"+(_=_.toString())).substr(_.length)},R=0,V=[],pe=[],ve=0,Ee=[],qe=[],et=!1,Re=pe;y.__private__.setCustomOutputDestination=function(_){et=!0,Re=_};var Ae=function(_){et||(Re=_)};y.__private__.resetCustomOutputDestination=function(){et=!1,Re=pe};var P=y.__private__.out=function(_){return _=_.toString(),ve+=_.length+1,Re.push(_),Re},ye=y.__private__.write=function(_){return P(arguments.length===1?_.toString():Array.prototype.join.call(arguments," "))},Ye=y.__private__.getArrayBuffer=function(_){for(var z=_.length,ae=new ArrayBuffer(z),me=new Uint8Array(ae);z--;)me[z]=_.charCodeAt(z);return ae},Be=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];y.__private__.getStandardFonts=function(){return Be};var Le=t.fontSize||16;y.__private__.setFontSize=y.setFontSize=function(_){return Le=M===U?_/ot:_,this};var ce,be=y.__private__.getFontSize=y.getFontSize=function(){return M===D?Le:Le*ot},He=t.R2L||!1;y.__private__.setR2L=y.setR2L=function(_){return He=_,this},y.__private__.getR2L=y.getR2L=function(){return He};var Ve,Qe=y.__private__.setZoomMode=function(_){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(_))ce=_;else if(isNaN(_)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(_)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+_+'" is not recognized.');ce=_}else ce=parseInt(_,10)};y.__private__.getZoomMode=function(){return ce};var at,ut=y.__private__.setPageMode=function(_){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(_)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+_+'" is not recognized.');Ve=_};y.__private__.getPageMode=function(){return Ve};var nt=y.__private__.setLayoutMode=function(_){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(_)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+_+'" is not recognized.');at=_};y.__private__.getLayoutMode=function(){return at},y.__private__.setDisplayMode=y.setDisplayMode=function(_,z,ae){return Qe(_),nt(z),ut(ae),this};var pt={title:"",subject:"",author:"",keywords:"",creator:""};y.__private__.getDocumentProperty=function(_){if(Object.keys(pt).indexOf(_)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return pt[_]},y.__private__.getDocumentProperties=function(){return pt},y.__private__.setDocumentProperties=y.setProperties=y.setDocumentProperties=function(_){for(var z in pt)pt.hasOwnProperty(z)&&_[z]&&(pt[z]=_[z]);return this},y.__private__.setDocumentProperty=function(_,z){if(Object.keys(pt).indexOf(_)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return pt[_]=z};var $e,ot,lt,qt,rt,it={},st={},ct=[],yt={},$t={},Et={},St={},Kt=null,kt=0,dt=[],Ut=new Ly(y),hr=t.hotfixes||[],vn={},qn={},$n=[],At=function _(z,ae,me,ke,We,Ze){if(!(this instanceof _))return new _(z,ae,me,ke,We,Ze);isNaN(z)&&(z=1),isNaN(ae)&&(ae=0),isNaN(me)&&(me=0),isNaN(ke)&&(ke=1),isNaN(We)&&(We=0),isNaN(Ze)&&(Ze=0),this._matrix=[z,ae,me,ke,We,Ze]};Object.defineProperty(At.prototype,"sx",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(At.prototype,"shy",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(At.prototype,"shx",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(At.prototype,"sy",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(At.prototype,"tx",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(At.prototype,"ty",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(At.prototype,"a",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(At.prototype,"b",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(At.prototype,"c",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(At.prototype,"d",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(At.prototype,"e",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(At.prototype,"f",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(At.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(At.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(At.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(At.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),At.prototype.join=function(_){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(Q).join(_)},At.prototype.multiply=function(_){var z=_.sx*this.sx+_.shy*this.shx,ae=_.sx*this.shy+_.shy*this.sy,me=_.shx*this.sx+_.sy*this.shx,ke=_.shx*this.shy+_.sy*this.sy,We=_.tx*this.sx+_.ty*this.shx+this.tx,Ze=_.tx*this.shy+_.ty*this.sy+this.ty;return new At(z,ae,me,ke,We,Ze)},At.prototype.decompose=function(){var _=this.sx,z=this.shy,ae=this.shx,me=this.sy,ke=this.tx,We=this.ty,Ze=Math.sqrt(_*_+z*z),vt=(_/=Ze)*ae+(z/=Ze)*me;ae-=_*vt,me-=z*vt;var Tt=Math.sqrt(ae*ae+me*me);return vt/=Tt,_*(me/=Tt)<z*(ae/=Tt)&&(_=-_,z=-z,vt=-vt,Ze=-Ze),{scale:new At(Ze,0,0,Tt,0,0),translate:new At(1,0,0,1,ke,We),rotate:new At(_,z,-z,_,0,0),skew:new At(1,0,vt,1,0,0)}},At.prototype.toString=function(_){return this.join(" ")},At.prototype.inversed=function(){var _=this.sx,z=this.shy,ae=this.shx,me=this.sy,ke=this.tx,We=this.ty,Ze=1/(_*me-z*ae),vt=me*Ze,Tt=-z*Ze,Bt=-ae*Ze,Wt=_*Ze;return new At(vt,Tt,Bt,Wt,-vt*ke-Bt*We,-Tt*ke-Wt*We)},At.prototype.applyToPoint=function(_){var z=_.x*this.sx+_.y*this.shx+this.tx,ae=_.x*this.shy+_.y*this.sy+this.ty;return new Pi(z,ae)},At.prototype.applyToRectangle=function(_){var z=this.applyToPoint(_),ae=this.applyToPoint(new Pi(_.x+_.w,_.y+_.h));return new Xa(z.x,z.y,ae.x-z.x,ae.y-z.y)},At.prototype.clone=function(){var _=this.sx,z=this.shy,ae=this.shx,me=this.sy,ke=this.tx,We=this.ty;return new At(_,z,ae,me,ke,We)},y.Matrix=At;var Sn=y.matrixMult=function(_,z){return z.multiply(_)},Ar=new At(1,0,0,1,0,0);y.unitMatrix=y.identityMatrix=Ar;var Fn=function(_,z){if(!$t[_]){var ae=(z instanceof gu?"Sh":"P")+(Object.keys(yt).length+1).toString(10);z.id=ae,$t[_]=ae,yt[ae]=z,Ut.publish("addPattern",z)}};y.ShadingPattern=gu,y.TilingPattern=Rc,y.addShadingPattern=function(_,z){return q("addShadingPattern()"),Fn(_,z),this},y.beginTilingPattern=function(_){q("beginTilingPattern()"),oo(_.boundingBox[0],_.boundingBox[1],_.boundingBox[2]-_.boundingBox[0],_.boundingBox[3]-_.boundingBox[1],_.matrix)},y.endTilingPattern=function(_,z){q("endTilingPattern()"),z.stream=qe[F].join(`
`),Fn(_,z),Ut.publish("endTilingPattern",z),$n.pop().restore()};var Wn,mn=y.__private__.newObject=function(){var _=Nn();return An(_,!0),_},Nn=y.__private__.newObjectDeferred=function(){return R++,V[R]=function(){return ve},R},An=function(_,z){return z=typeof z=="boolean"&&z,V[_]=ve,z&&P(_+" 0 obj"),_},bi=y.__private__.newAdditionalObject=function(){var _={objId:Nn(),content:""};return Ee.push(_),_},Er=Nn(),En=Nn(),Gn=y.__private__.decodeColorString=function(_){var z=_.split(" ");if(z.length!==2||z[1]!=="g"&&z[1]!=="G")z.length!==5||z[4]!=="k"&&z[4]!=="K"||(z=[(1-z[0])*(1-z[3]),(1-z[1])*(1-z[3]),(1-z[2])*(1-z[3]),"r"]);else{var ae=parseFloat(z[0]);z=[ae,ae,ae,"r"]}for(var me="#",ke=0;ke<3;ke++)me+=("0"+Math.floor(255*parseFloat(z[ke])).toString(16)).slice(-2);return me},Qr=y.__private__.encodeColorString=function(_){var z;typeof _=="string"&&(_={ch1:_});var ae=_.ch1,me=_.ch2,ke=_.ch3,We=_.ch4,Ze=_.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ae=="string"&&ae.charAt(0)!=="#"){var vt=new Qv(ae);if(vt.ok)ae=vt.toHex();else if(!/^\d*\.?\d*$/.test(ae))throw new Error('Invalid color "'+ae+'" passed to jsPDF.encodeColorString.')}if(typeof ae=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ae)&&(ae="#"+ae[1]+ae[1]+ae[2]+ae[2]+ae[3]+ae[3]),typeof ae=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ae)){var Tt=parseInt(ae.substr(1),16);ae=Tt>>16&255,me=Tt>>8&255,ke=255&Tt}if(me===void 0||We===void 0&&ae===me&&me===ke)z=typeof ae=="string"?ae+" "+Ze[0]:_.precision===2?B(ae/255)+" "+Ze[0]:K(ae/255)+" "+Ze[0];else if(We===void 0||jn(We)==="object"){if(We&&!isNaN(We.a)&&We.a===0)return["1.","1.","1.",Ze[1]].join(" ");z=typeof ae=="string"?[ae,me,ke,Ze[1]].join(" "):_.precision===2?[B(ae/255),B(me/255),B(ke/255),Ze[1]].join(" "):[K(ae/255),K(me/255),K(ke/255),Ze[1]].join(" ")}else z=typeof ae=="string"?[ae,me,ke,We,Ze[2]].join(" "):_.precision===2?[B(ae),B(me),B(ke),B(We),Ze[2]].join(" "):[K(ae),K(me),K(ke),K(We),Ze[2]].join(" ");return z},Ti=y.__private__.getFilters=function(){return u},Bi=y.__private__.putStream=function(_){var z=(_=_||{}).data||"",ae=_.filters||Ti(),me=_.alreadyAppliedFilters||[],ke=_.addLength1||!1,We=z.length,Ze=_.objectId,vt=function(Tr){return Tr};if(g!==null&&Ze===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");g!==null&&(vt=kr.encryptor(Ze,0));var Tt={};ae===!0&&(ae=["FlateEncode"]);var Bt=_.additionalKeyValues||[],Wt=(Tt=Nt.API.processDataByFilters!==void 0?Nt.API.processDataByFilters(z,ae):{data:z,reverseChain:[]}).reverseChain+(Array.isArray(me)?me.join(" "):me.toString());if(Tt.data.length!==0&&(Bt.push({key:"Length",value:Tt.data.length}),ke===!0&&Bt.push({key:"Length1",value:We})),Wt.length!=0)if(Wt.split("/").length-1==1)Bt.push({key:"Filter",value:Wt});else{Bt.push({key:"Filter",value:"["+Wt+"]"});for(var sn=0;sn<Bt.length;sn+=1)if(Bt[sn].key==="DecodeParms"){for(var Yn=[],sr=0;sr<Tt.reverseChain.split("/").length-1;sr+=1)Yn.push("null");Yn.push(Bt[sn].value),Bt[sn].value="["+Yn.join(" ")+"]"}}P("<<");for(var Cn=0;Cn<Bt.length;Cn++)P("/"+Bt[Cn].key+" "+Bt[Cn].value);P(">>"),Tt.data.length!==0&&(P("stream"),P(vt(Tt.data)),P("endstream"))},to=y.__private__.putPage=function(_){var z=_.number,ae=_.data,me=_.objId,ke=_.contentsObjId;An(me,!0),P("<</Type /Page"),P("/Parent "+_.rootDictionaryObjId+" 0 R"),P("/Resources "+_.resourceDictionaryObjId+" 0 R"),P("/MediaBox ["+parseFloat(Q(_.mediaBox.bottomLeftX))+" "+parseFloat(Q(_.mediaBox.bottomLeftY))+" "+Q(_.mediaBox.topRightX)+" "+Q(_.mediaBox.topRightY)+"]"),_.cropBox!==null&&P("/CropBox ["+Q(_.cropBox.bottomLeftX)+" "+Q(_.cropBox.bottomLeftY)+" "+Q(_.cropBox.topRightX)+" "+Q(_.cropBox.topRightY)+"]"),_.bleedBox!==null&&P("/BleedBox ["+Q(_.bleedBox.bottomLeftX)+" "+Q(_.bleedBox.bottomLeftY)+" "+Q(_.bleedBox.topRightX)+" "+Q(_.bleedBox.topRightY)+"]"),_.trimBox!==null&&P("/TrimBox ["+Q(_.trimBox.bottomLeftX)+" "+Q(_.trimBox.bottomLeftY)+" "+Q(_.trimBox.topRightX)+" "+Q(_.trimBox.topRightY)+"]"),_.artBox!==null&&P("/ArtBox ["+Q(_.artBox.bottomLeftX)+" "+Q(_.artBox.bottomLeftY)+" "+Q(_.artBox.topRightX)+" "+Q(_.artBox.topRightY)+"]"),typeof _.userUnit=="number"&&_.userUnit!==1&&P("/UserUnit "+_.userUnit),Ut.publish("putPage",{objId:me,pageContext:dt[z],pageNumber:z,page:ae}),P("/Contents "+ke+" 0 R"),P(">>"),P("endobj");var We=ae.join(`
`);return M===U&&(We+=`
Q`),An(ke,!0),Bi({data:We,filters:Ti(),objectId:ke}),P("endobj"),me},na=y.__private__.putPages=function(){var _,z,ae=[];for(_=1;_<=kt;_++)dt[_].objId=Nn(),dt[_].contentsObjId=Nn();for(_=1;_<=kt;_++)ae.push(to({number:_,data:qe[_],objId:dt[_].objId,contentsObjId:dt[_].contentsObjId,mediaBox:dt[_].mediaBox,cropBox:dt[_].cropBox,bleedBox:dt[_].bleedBox,trimBox:dt[_].trimBox,artBox:dt[_].artBox,userUnit:dt[_].userUnit,rootDictionaryObjId:Er,resourceDictionaryObjId:En}));An(Er,!0),P("<</Type /Pages");var me="/Kids [";for(z=0;z<kt;z++)me+=ae[z]+" 0 R ";P(me+"]"),P("/Count "+kt),P(">>"),P("endobj"),Ut.publish("postPutPages")},ra=function(_){Ut.publish("putFont",{font:_,out:P,newObject:mn,putStream:Bi}),_.isAlreadyPutted!==!0&&(_.objectNumber=mn(),P("<<"),P("/Type /Font"),P("/BaseFont /"+jc(_.postScriptName)),P("/Subtype /Type1"),typeof _.encoding=="string"&&P("/Encoding /"+_.encoding),P("/FirstChar 32"),P("/LastChar 255"),P(">>"),P("endobj"))},Ns=function(_){_.objectNumber=mn();var z=[];z.push({key:"Type",value:"/XObject"}),z.push({key:"Subtype",value:"/Form"}),z.push({key:"BBox",value:"["+[Q(_.x),Q(_.y),Q(_.x+_.width),Q(_.y+_.height)].join(" ")+"]"}),z.push({key:"Matrix",value:"["+_.matrix.toString()+"]"});var ae=_.pages[1].join(`
`);Bi({data:ae,additionalKeyValues:z,objectId:_.objectNumber}),P("endobj")},ia=function(_,z){z||(z=21);var ae=mn(),me=(function(Ze,vt){var Tt,Bt=[],Wt=1/(vt-1);for(Tt=0;Tt<1;Tt+=Wt)Bt.push(Tt);if(Bt.push(1),Ze[0].offset!=0){var sn={offset:0,color:Ze[0].color};Ze.unshift(sn)}if(Ze[Ze.length-1].offset!=1){var Yn={offset:1,color:Ze[Ze.length-1].color};Ze.push(Yn)}for(var sr="",Cn=0,Tr=0;Tr<Bt.length;Tr++){for(Tt=Bt[Tr];Tt>Ze[Cn+1].offset;)Cn++;var gr=Ze[Cn].offset,qr=(Tt-gr)/(Ze[Cn+1].offset-gr),ns=Ze[Cn].color,ca=Ze[Cn+1].color;sr+=ie(Math.round((1-qr)*ns[0]+qr*ca[0]).toString(16))+ie(Math.round((1-qr)*ns[1]+qr*ca[1]).toString(16))+ie(Math.round((1-qr)*ns[2]+qr*ca[2]).toString(16))}return sr.trim()})(_.colors,z),ke=[];ke.push({key:"FunctionType",value:"0"}),ke.push({key:"Domain",value:"[0.0 1.0]"}),ke.push({key:"Size",value:"["+z+"]"}),ke.push({key:"BitsPerSample",value:"8"}),ke.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ke.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Bi({data:me,additionalKeyValues:ke,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ae}),P("endobj"),_.objectNumber=mn(),P("<< /ShadingType "+_.type),P("/ColorSpace /DeviceRGB");var We="/Coords ["+Q(parseFloat(_.coords[0]))+" "+Q(parseFloat(_.coords[1]))+" ";_.type===2?We+=Q(parseFloat(_.coords[2]))+" "+Q(parseFloat(_.coords[3])):We+=Q(parseFloat(_.coords[2]))+" "+Q(parseFloat(_.coords[3]))+" "+Q(parseFloat(_.coords[4]))+" "+Q(parseFloat(_.coords[5])),P(We+="]"),_.matrix&&P("/Matrix ["+_.matrix.toString()+"]"),P("/Function "+ae+" 0 R"),P("/Extend [true true]"),P(">>"),P("endobj")},aa=function(_,z){var ae=Nn(),me=mn();z.push({resourcesOid:ae,objectOid:me}),_.objectNumber=me;var ke=[];ke.push({key:"Type",value:"/Pattern"}),ke.push({key:"PatternType",value:"1"}),ke.push({key:"PaintType",value:"1"}),ke.push({key:"TilingType",value:"1"}),ke.push({key:"BBox",value:"["+_.boundingBox.map(Q).join(" ")+"]"}),ke.push({key:"XStep",value:Q(_.xStep)}),ke.push({key:"YStep",value:Q(_.yStep)}),ke.push({key:"Resources",value:ae+" 0 R"}),_.matrix&&ke.push({key:"Matrix",value:"["+_.matrix.toString()+"]"}),Bi({data:_.stream,additionalKeyValues:ke,objectId:_.objectNumber}),P("endobj")},no=function(_){for(var z in _.objectNumber=mn(),P("<<"),_)switch(z){case"opacity":P("/ca "+B(_[z]));break;case"stroke-opacity":P("/CA "+B(_[z]))}P(">>"),P("endobj")},ka=function(_){An(_.resourcesOid,!0),P("<<"),P("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var z in P("/Font <<"),it)it.hasOwnProperty(z)&&(x===!1||x===!0&&S.hasOwnProperty(z))&&P("/"+z+" "+it[z].objectNumber+" 0 R");P(">>")})(),(function(){if(Object.keys(yt).length>0){for(var z in P("/Shading <<"),yt)yt.hasOwnProperty(z)&&yt[z]instanceof gu&&yt[z].objectNumber>=0&&P("/"+z+" "+yt[z].objectNumber+" 0 R");Ut.publish("putShadingPatternDict"),P(">>")}})(),(function(z){if(Object.keys(yt).length>0){for(var ae in P("/Pattern <<"),yt)yt.hasOwnProperty(ae)&&yt[ae]instanceof y.TilingPattern&&yt[ae].objectNumber>=0&&yt[ae].objectNumber<z&&P("/"+ae+" "+yt[ae].objectNumber+" 0 R");Ut.publish("putTilingPatternDict"),P(">>")}})(_.objectOid),(function(){if(Object.keys(Et).length>0){var z;for(z in P("/ExtGState <<"),Et)Et.hasOwnProperty(z)&&Et[z].objectNumber>=0&&P("/"+z+" "+Et[z].objectNumber+" 0 R");Ut.publish("putGStateDict"),P(">>")}})(),(function(){for(var z in P("/XObject <<"),vn)vn.hasOwnProperty(z)&&vn[z].objectNumber>=0&&P("/"+z+" "+vn[z].objectNumber+" 0 R");Ut.publish("putXobjectDict"),P(">>")})(),P(">>"),P("endobj")},ar=function(_){st[_.fontName]=st[_.fontName]||{},st[_.fontName][_.fontStyle]=_.id},Cl=function(_,z,ae,me,ke){var We={id:"F"+(Object.keys(it).length+1).toString(10),postScriptName:_,fontName:z,fontStyle:ae,encoding:me,isStandardFont:ke||!1,metadata:{}};return Ut.publish("addFont",{font:We,instance:this}),it[We.id]=We,ar(We),We.id},Li=y.__private__.pdfEscape=y.pdfEscape=function(_,z){return(function(ae,me){var ke,We,Ze,vt,Tt,Bt,Wt,sn,Yn;if(Ze=(me=me||{}).sourceEncoding||"Unicode",Tt=me.outputEncoding,(me.autoencode||Tt)&&it[$e].metadata&&it[$e].metadata[Ze]&&it[$e].metadata[Ze].encoding&&(vt=it[$e].metadata[Ze].encoding,!Tt&&it[$e].encoding&&(Tt=it[$e].encoding),!Tt&&vt.codePages&&(Tt=vt.codePages[0]),typeof Tt=="string"&&(Tt=vt[Tt]),Tt)){for(Wt=!1,Bt=[],ke=0,We=ae.length;ke<We;ke++)(sn=Tt[ae.charCodeAt(ke)])?Bt.push(String.fromCharCode(sn)):Bt.push(ae[ke]),Bt[ke].charCodeAt(0)>>8&&(Wt=!0);ae=Bt.join("")}for(ke=ae.length;Wt===void 0&&ke!==0;)ae.charCodeAt(ke-1)>>8&&(Wt=!0),ke--;if(!Wt)return ae;for(Bt=me.noBOM?[]:[254,255],ke=0,We=ae.length;ke<We;ke++){if((Yn=(sn=ae.charCodeAt(ke))>>8)>>8)throw new Error("Character at position "+ke+" of string '"+ae+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Bt.push(Yn),Bt.push(sn-(Yn<<8))}return String.fromCharCode.apply(void 0,Bt)})(_,z).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},sa=y.__private__.beginPage=function(_){qe[++kt]=[],dt[kt]={objId:0,contentsObjId:0,userUnit:Number(d),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(_[0]),topRightY:Number(_[1])}},Ol(kt),Ae(qe[F])},Ya=function(_,z){var ae,me,ke;switch(n=z||n,typeof _=="string"&&(ae=N(_.toLowerCase()),Array.isArray(ae)&&(me=ae[0],ke=ae[1])),Array.isArray(_)&&(me=_[0]*ot,ke=_[1]*ot),isNaN(me)&&(me=s[0],ke=s[1]),(me>14400||ke>14400)&&(Un.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),me=Math.min(14400,me),ke=Math.min(14400,ke)),s=[me,ke],n.substr(0,1)){case"l":ke>me&&(s=[ke,me]);break;case"p":me>ke&&(s=[ke,me])}sa(s),Dt(io),P(Ci),$o!==0&&P($o+" J"),Or!==0&&P(Or+" j"),Ut.publish("addPage",{pageNumber:kt})},Rl=function(_){_>0&&_<=kt&&(qe.splice(_,1),dt.splice(_,1),kt--,F>kt&&(F=kt),this.setPage(F))},Ol=function(_){_>0&&_<=kt&&(F=_)},Dl=y.__private__.getNumberOfPages=y.getNumberOfPages=function(){return qe.length-1},Eu=function(_,z,ae){var me,ke=void 0;return ae=ae||{},_=_!==void 0?_:it[$e].fontName,z=z!==void 0?z:it[$e].fontStyle,me=_.toLowerCase(),st[me]!==void 0&&st[me][z]!==void 0?ke=st[me][z]:st[_]!==void 0&&st[_][z]!==void 0?ke=st[_][z]:ae.disableWarning===!1&&Un.warn("Unable to look up font label for font '"+_+"', '"+z+"'. Refer to getFontList() for available fonts."),ke||ae.noFallback||(ke=st.times[z])==null&&(ke=st.times.normal),ke},ji=y.__private__.putInfo=function(){var _=mn(),z=function(me){return me};for(var ae in g!==null&&(z=kr.encryptor(_,0)),P("<<"),P("/Producer ("+Li(z("jsPDF "+Nt.version))+")"),pt)pt.hasOwnProperty(ae)&&pt[ae]&&P("/"+ae.substr(0,1).toUpperCase()+ae.substr(1)+" ("+Li(z(pt[ae]))+")");P("/CreationDate ("+Li(z(le))+")"),P(">>"),P("endobj")},Va=y.__private__.putCatalog=function(_){var z=(_=_||{}).rootDictionaryObjId||Er;switch(mn(),P("<<"),P("/Type /Catalog"),P("/Pages "+z+" 0 R"),ce||(ce="fullwidth"),ce){case"fullwidth":P("/OpenAction [3 0 R /FitH null]");break;case"fullheight":P("/OpenAction [3 0 R /FitV null]");break;case"fullpage":P("/OpenAction [3 0 R /Fit]");break;case"original":P("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ae=""+ce;ae.substr(ae.length-1)==="%"&&(ce=parseInt(ce)/100),typeof ce=="number"&&P("/OpenAction [3 0 R /XYZ null null "+B(ce)+"]")}switch(at||(at="continuous"),at){case"continuous":P("/PageLayout /OneColumn");break;case"single":P("/PageLayout /SinglePage");break;case"two":case"twoleft":P("/PageLayout /TwoColumnLeft");break;case"tworight":P("/PageLayout /TwoColumnRight")}Ve&&P("/PageMode /"+Ve),Ut.publish("putCatalog"),P(">>"),P("endobj")},oa=y.__private__.putTrailer=function(){P("trailer"),P("<<"),P("/Size "+(R+1)),P("/Root "+R+" 0 R"),P("/Info "+(R-1)+" 0 R"),g!==null&&P("/Encrypt "+kr.oid+" 0 R"),P("/ID [ <"+J+"> <"+J+"> ]"),P(">>")},hn=y.__private__.putHeader=function(){P("%PDF-"+E),P("%")},Ml=y.__private__.putXRef=function(){var _="0000000000";P("xref"),P("0 "+(R+1)),P("0000000000 65535 f ");for(var z=1;z<=R;z++)typeof V[z]=="function"?P((_+V[z]()).slice(-10)+" 00000 n "):V[z]!==void 0?P((_+V[z]).slice(-10)+" 00000 n "):P("0000000000 00000 n ")},Ta=y.__private__.buildDocument=function(){var _;R=0,ve=0,pe=[],V=[],Ee=[],Er=Nn(),En=Nn(),Ae(pe),Ut.publish("buildDocument"),hn(),na(),(function(){Ut.publish("putAdditionalObjects");for(var ae=0;ae<Ee.length;ae++){var me=Ee[ae];An(me.objId,!0),P(me.content),P("endobj")}Ut.publish("postPutAdditionalObjects")})(),_=[],(function(){for(var ae in it)it.hasOwnProperty(ae)&&(x===!1||x===!0&&S.hasOwnProperty(ae))&&ra(it[ae])})(),(function(){var ae;for(ae in Et)Et.hasOwnProperty(ae)&&no(Et[ae])})(),(function(){for(var ae in vn)vn.hasOwnProperty(ae)&&Ns(vn[ae])})(),(function(ae){var me;for(me in yt)yt.hasOwnProperty(me)&&(yt[me]instanceof gu?ia(yt[me]):yt[me]instanceof Rc&&aa(yt[me],ae))})(_),Ut.publish("putResources"),_.forEach(ka),ka({resourcesOid:En,objectOid:Number.MAX_SAFE_INTEGER}),Ut.publish("postPutResources"),g!==null&&(kr.oid=mn(),P("<<"),P("/Filter /Standard"),P("/V "+kr.v),P("/R "+kr.r),P("/U <"+kr.toHexString(kr.U)+">"),P("/O <"+kr.toHexString(kr.O)+">"),P("/P "+kr.P),P(">>"),P("endobj")),ji(),Va();var z=ve;return Ml(),oa(),P("startxref"),P(""+z),P("%%EOF"),Ae(qe[F]),pe.join(`
`)},Cs=y.__private__.getBlob=function(_){return new Blob([Ye(_)],{type:"application/pdf"})},zl=y.output=y.__private__.output=(Wn=function(_,z){switch(typeof(z=z||{})=="string"?z={filename:z}:z.filename=z.filename||"generated.pdf",_){case void 0:return Ta();case"save":y.save(z.filename);break;case"arraybuffer":return Ye(Ta());case"blob":return Cs(Ta());case"bloburi":case"bloburl":if(Ht.URL!==void 0&&typeof Ht.URL.createObjectURL=="function")return Ht.URL&&Ht.URL.createObjectURL(Cs(Ta()))||void 0;Un.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ae="",me=Ta();try{ae=Ey(me)}catch{ae=Ey(unescape(encodeURIComponent(me)))}return"data:application/pdf;filename="+z.filename+";base64,"+ae;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ht)==="[object Window]"){var ke="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",We=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';z.pdfObjectUrl&&(ke=z.pdfObjectUrl,We="");var Ze='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ke+'"'+We+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(z)+");<\/script></body></html>",vt=Ht.open();return vt!==null&&vt.document.write(Ze),vt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ht)==="[object Window]"){var Tt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(z.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+z.filename+'" width="500px" height="400px" /></body></html>',Bt=Ht.open();if(Bt!==null){Bt.document.write(Tt);var Wt=this;Bt.document.documentElement.querySelector("#pdfViewer").onload=function(){Bt.document.title=z.filename,Bt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Wt.output("bloburl"))}}return Bt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ht)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var sn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",z)+'"></iframe></body></html>',Yn=Ht.open();if(Yn!==null&&(Yn.document.write(sn),Yn.document.title=z.filename),Yn||typeof safari>"u")return Yn;break;case"datauri":case"dataurl":return Ht.document.location.href=this.output("datauristring",z);default:return null}},Wn.foo=function(){try{return Wn.apply(this,arguments)}catch(ae){var _=ae.stack||"";~_.indexOf(" at ")&&(_=_.split(" at ")[1]);var z="Error in function "+_.split(`
`)[0].split("<")[0]+": "+ae.message;if(!Ht.console)throw new Error(z);Ht.console.error(z,ae),Ht.alert&&alert(z)}},Wn.foo.bar=Wn,Wn.foo),li=function(_){return Array.isArray(hr)===!0&&hr.indexOf(_)>-1};switch(a){case"pt":ot=1;break;case"mm":ot=72/25.4;break;case"cm":ot=72/2.54;break;case"in":ot=72;break;case"px":ot=li("px_scaling")==1?.75:96/72;break;case"pc":case"em":ot=12;break;case"ex":ot=6;break;default:if(typeof a!="number")throw new Error("Invalid unit: "+a);ot=a}var kr=null;G(),he();var pr=y.__private__.getPageInfo=y.getPageInfo=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:dt[_].objId,pageNumber:_,pageContext:dt[_]}},Fo=y.__private__.getPageInfoByObjId=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var z in dt)if(dt[z].objId===_)break;return pr(z)},ku=y.__private__.getCurrentPageInfo=y.getCurrentPageInfo=function(){return{objId:dt[F].objId,pageNumber:F,pageContext:dt[F]}};y.addPage=function(){return Ya.apply(this,arguments),this},y.setPage=function(){return Ol.apply(this,arguments),Ae.call(this,qe[F]),this},y.insertPage=function(_){return this.addPage(),this.movePage(F,_),this},y.movePage=function(_,z){var ae,me;if(_>z){ae=qe[_],me=dt[_];for(var ke=_;ke>z;ke--)qe[ke]=qe[ke-1],dt[ke]=dt[ke-1];qe[z]=ae,dt[z]=me,this.setPage(z)}else if(_<z){ae=qe[_],me=dt[_];for(var We=_;We<z;We++)qe[We]=qe[We+1],dt[We]=dt[We+1];qe[z]=ae,dt[z]=me,this.setPage(z)}return this},y.deletePage=function(){return Rl.apply(this,arguments),this},y.__private__.text=y.text=function(_,z,ae,me,ke){var We,Ze,vt,Tt,Bt,Wt,sn,Yn,sr,Cn=(me=me||{}).scope||this;if(typeof _=="number"&&typeof z=="number"&&(typeof ae=="string"||Array.isArray(ae))){var Tr=ae;ae=z,z=_,_=Tr}if(arguments[3]instanceof At==0?(vt=arguments[4],Tt=arguments[5],jn(sn=arguments[3])==="object"&&sn!==null||(typeof vt=="string"&&(Tt=vt,vt=null),typeof sn=="string"&&(Tt=sn,sn=null),typeof sn=="number"&&(vt=sn,sn=null),me={flags:sn,angle:vt,align:Tt})):(q("The transform parameter of text() with a Matrix value"),sr=ke),isNaN(z)||isNaN(ae)||_==null)throw new Error("Invalid arguments passed to jsPDF.text");if(_.length===0)return Cn;var gr,qr="",ns=typeof me.lineHeightFactor=="number"?me.lineHeightFactor:Ka,ca=Cn.internal.scaleFactor;function rs(pn){return pn=pn.split("	").join(Array(me.TabLen||9).join(" ")),Li(pn,sn)}function Wl(pn){for(var on,Rn=pn.concat(),lr=[],Ba=Rn.length;Ba--;)typeof(on=Rn.shift())=="string"?lr.push(on):Array.isArray(pn)&&(on.length===1||on[1]===void 0&&on[2]===void 0)?lr.push(on[0]):lr.push([on[0],on[1],on[2]]);return lr}function Go(pn,on){var Rn;if(typeof pn=="string")Rn=on(pn)[0];else if(Array.isArray(pn)){for(var lr,Ba,pa=pn.concat(),fo=[],Vl=pa.length;Vl--;)typeof(lr=pa.shift())=="string"?fo.push(on(lr)[0]):Array.isArray(lr)&&typeof lr[0]=="string"&&(Ba=on(lr[0],lr[1],lr[2]),fo.push([Ba[0],Ba[1],Ba[2]]));Rn=fo}return Rn}var Na=!1,da=!0;if(typeof _=="string")Na=!0;else if(Array.isArray(_)){var uo=_.concat();Ze=[];for(var is,Dr=uo.length;Dr--;)(typeof(is=uo.shift())!="string"||Array.isArray(is)&&typeof is[0]!="string")&&(da=!1);Na=da}if(Na===!1)throw new Error('Type of text must be string or Array. "'+_+'" is not recognized.');typeof _=="string"&&(_=_.match(/[\r?\n]/)?_.split(/\r\n|\r|\n/g):[_]);var Os=Le/Cn.internal.scaleFactor,Ds=Os*(ns-1);switch(me.baseline){case"bottom":ae-=Ds;break;case"top":ae+=Os-Ds;break;case"hanging":ae+=Os-2*Ds;break;case"middle":ae+=Os/2-Ds}if((Wt=me.maxWidth||0)>0&&(typeof _=="string"?_=Cn.splitTextToSize(_,Wt):Object.prototype.toString.call(_)==="[object Array]"&&(_=_.reduce(function(pn,on){return pn.concat(Cn.splitTextToSize(on,Wt))},[]))),We={text:_,x:z,y:ae,options:me,mutex:{pdfEscape:Li,activeFontKey:$e,fonts:it,activeFontSize:Le}},Ut.publish("preProcessText",We),_=We.text,vt=(me=We.options).angle,sr instanceof At==0&&vt&&typeof vt=="number"){vt*=Math.PI/180,me.rotationDirection===0&&(vt=-vt),M===U&&(vt=-vt);var Yo=Math.cos(vt),Ca=Math.sin(vt);sr=new At(Yo,Ca,-Ca,Yo,0,0)}else vt&&vt instanceof At&&(sr=vt);M!==U||sr||(sr=Ar),(Bt=me.charSpace||Ii)!==void 0&&(qr+=Q(fe(Bt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Yn=me.horizontalScale)!==void 0&&(qr+=Q(100*Yn)+` Tz
`),me.lang;var ci=-1,as=me.renderingMode!==void 0?me.renderingMode:me.stroke,Vo=Cn.internal.getCurrentPageInfo().pageContext;switch(as){case 0:case!1:case"fill":ci=0;break;case 1:case!0:case"stroke":ci=1;break;case 2:case"fillThenStroke":ci=2;break;case 3:case"invisible":ci=3;break;case 4:case"fillAndAddForClipping":ci=4;break;case 5:case"strokeAndAddPathForClipping":ci=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ci=6;break;case 7:case"addToPathForClipping":ci=7}var Gl=Vo.usedRenderingMode!==void 0?Vo.usedRenderingMode:-1;ci!==-1?qr+=ci+` Tr
`:Gl!==-1&&(qr+=`0 Tr
`),ci!==-1&&(Vo.usedRenderingMode=ci),Tt=me.align||"left";var Ri,fa=Le*ns,ss=Cn.internal.pageSize.getWidth(),Yl=it[$e];Bt=me.charSpace||Ii,Wt=me.maxWidth||0,sn=Object.assign({autoencode:!0,noBOM:!0},me.flags);var ha=[],Ms=function(pn){return Cn.getStringUnitWidth(pn,{font:Yl,charSpace:Bt,fontSize:Le,doKerning:!1})*Le/ca};if(Object.prototype.toString.call(_)==="[object Array]"){var wi;Ze=Wl(_),Tt!=="left"&&(Ri=Ze.map(Ms));var di,Ra=0;if(Tt==="right"){z-=Ri[0],_=[],Dr=Ze.length;for(var Oa=0;Oa<Dr;Oa++)Oa===0?(di=Ni(z),wi=Ur(ae)):(di=fe(Ra-Ri[Oa]),wi=-fa),_.push([Ze[Oa],di,wi]),Ra=Ri[Oa]}else if(Tt==="center"){z-=Ri[0]/2,_=[],Dr=Ze.length;for(var os=0;os<Dr;os++)os===0?(di=Ni(z),wi=Ur(ae)):(di=fe((Ra-Ri[os])/2),wi=-fa),_.push([Ze[os],di,wi]),Ra=Ri[os]}else if(Tt==="left"){_=[],Dr=Ze.length;for(var Ko=0;Ko<Dr;Ko++)_.push(Ze[Ko])}else if(Tt==="justify"&&Yl.encoding==="Identity-H"){_=[],Dr=Ze.length,Wt=Wt!==0?Wt:ss;for(var Xo=0,or=0;or<Dr;or++)if(wi=or===0?Ur(ae):-fa,di=or===0?Ni(z):Xo,or<Dr-1){var Mu=fe((Wt-Ri[or])/(Ze[or].split(" ").length-1)),Da=Ze[or].split(" ");_.push([Da[0]+" ",di,wi]),Xo=0;for(var Ma=1;Ma<Da.length;Ma++){var Fr=(Ms(Da[Ma-1]+" "+Da[Ma])-Ms(Da[Ma]))*ca+Mu;Ma==Da.length-1?_.push([Da[Ma],Fr,0]):_.push([Da[Ma]+" ",Fr,0]),Xo-=Fr}}else _.push([Ze[or],di,wi]);_.push(["",Xo,0])}else{if(Tt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(_=[],Dr=Ze.length,Wt=Wt!==0?Wt:ss,or=0;or<Dr;or++){wi=or===0?Ur(ae):-fa,di=or===0?Ni(z):0;var ls=Ze[or].split(" ").length-1,Jo=ls>0?(Wt-Ri[or])/ls:0;or<Dr-1?ha.push(Q(fe(Jo))):ha.push(0),_.push([Ze[or],di,wi])}}}(typeof me.R2L=="boolean"?me.R2L:He)===!0&&(_=Go(_,function(pn,on,Rn){return[pn.split("").reverse().join(""),on,Rn]})),We={text:_,x:z,y:ae,options:me,mutex:{pdfEscape:Li,activeFontKey:$e,fonts:it,activeFontSize:Le}},Ut.publish("postProcessText",We),_=We.text,gr=We.mutex.isHex||!1;var Zo=it[$e].encoding;Zo!=="WinAnsiEncoding"&&Zo!=="StandardEncoding"||(_=Go(_,function(pn,on,Rn){return[rs(pn),on,Rn]})),Ze=Wl(_),_=[];for(var us,cs,za,co=Array.isArray(Ze[0])?1:0,Oi="",ds=function(pn,on,Rn){var lr="";return Rn instanceof At?(Rn=typeof me.angle=="number"?Sn(Rn,new At(1,0,0,1,pn,on)):Sn(new At(1,0,0,1,pn,on),Rn),M===U&&(Rn=Sn(new At(1,0,0,-1,0,0),Rn)),lr=Rn.join(" ")+` Tm
`):lr=Q(pn)+" "+Q(on)+` Td
`,lr},ei=0;ei<Ze.length;ei++){switch(Oi="",co){case 1:za=(gr?"<":"(")+Ze[ei][0]+(gr?">":")"),us=parseFloat(Ze[ei][1]),cs=parseFloat(Ze[ei][2]);break;case 0:za=(gr?"<":"(")+Ze[ei]+(gr?">":")"),us=Ni(z),cs=Ur(ae)}ha!==void 0&&ha[ei]!==void 0&&(Oi=ha[ei]+` Tw
`),ei===0?_.push(Oi+ds(us,cs,sr)+za):co===0?_.push(Oi+za):co===1&&_.push(Oi+ds(us,cs,sr)+za)}_=co===0?_.join(` Tj
T* `):_.join(` Tj
`),_+=` Tj
`;var Ui=`BT
/`;return Ui+=$e+" "+Le+` Tf
`,Ui+=Q(Le*ns)+` TL
`,Ui+=La+`
`,Ui+=qr,Ui+=_,P(Ui+="ET"),S[$e]=!0,Cn};var Bl=y.__private__.clip=y.clip=function(_){return P(_==="evenodd"?"W*":"W"),this};y.clipEvenOdd=function(){return Bl("evenodd")},y.__private__.discardPath=y.discardPath=function(){return P("n"),this};var ui=y.__private__.isValidStyle=function(_){var z=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(_)!==-1&&(z=!0),z};y.__private__.setDefaultPathOperation=y.setDefaultPathOperation=function(_){return ui(_)&&(h=_),this};var Il=y.__private__.getStyle=y.getStyle=function(_){var z=h;switch(_){case"D":case"S":z="S";break;case"F":z="f";break;case"FD":case"DF":z="B";break;case"f":case"f*":case"B":case"B*":z=_}return z},Pl=y.close=function(){return P("h"),this};y.stroke=function(){return P("S"),this},y.fill=function(_){return la("f",_),this},y.fillEvenOdd=function(_){return la("f*",_),this},y.fillStroke=function(_){return la("B",_),this},y.fillStrokeEvenOdd=function(_){return la("B*",_),this};var la=function(_,z){jn(z)==="object"?Lu(z,_):P(_)},ro=function(_){_===null||M===U&&_===void 0||(_=Il(_),P(_))};function Tu(_,z,ae,me,ke){var We=new Rc(z||this.boundingBox,ae||this.xStep,me||this.yStep,this.gState,ke||this.matrix);We.stream=this.stream;var Ze=_+"$$"+this.cloneIndex+++"$$";return Fn(Ze,We),We}var Lu=function(_,z){var ae=$t[_.key],me=yt[ae];if(me instanceof gu)P("q"),P(Ul(z)),me.gState&&y.setGState(me.gState),P(_.matrix.toString()+" cm"),P("/"+ae+" sh"),P("Q");else if(me instanceof Rc){var ke=new At(1,0,0,-1,0,ts());_.matrix&&(ke=ke.multiply(_.matrix||Ar),ae=Tu.call(me,_.key,_.boundingBox,_.xStep,_.yStep,ke).id),P("q"),P("/Pattern cs"),P("/"+ae+" scn"),me.gState&&y.setGState(me.gState),P(z),P("Q")}},Ul=function(_){switch(_){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},ql=y.moveTo=function(_,z){return P(Q(fe(_))+" "+Q(se(z))+" m"),this},ju=y.lineTo=function(_,z){return P(Q(fe(_))+" "+Q(se(z))+" l"),this},vi=y.curveTo=function(_,z,ae,me,ke,We){return P([Q(fe(_)),Q(se(z)),Q(fe(ae)),Q(se(me)),Q(fe(ke)),Q(se(We)),"c"].join(" ")),this};y.__private__.line=y.line=function(_,z,ae,me,ke){if(isNaN(_)||isNaN(z)||isNaN(ae)||isNaN(me)||!ui(ke))throw new Error("Invalid arguments passed to jsPDF.line");return M===D?this.lines([[ae-_,me-z]],_,z,[1,1],ke||"S"):this.lines([[ae-_,me-z]],_,z,[1,1]).stroke()},y.__private__.lines=y.lines=function(_,z,ae,me,ke,We){var Ze,vt,Tt,Bt,Wt,sn,Yn,sr,Cn,Tr,gr,qr;if(typeof _=="number"&&(qr=ae,ae=z,z=_,_=qr),me=me||[1,1],We=We||!1,isNaN(z)||isNaN(ae)||!Array.isArray(_)||!Array.isArray(me)||!ui(ke)||typeof We!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ql(z,ae),Ze=me[0],vt=me[1],Bt=_.length,Tr=z,gr=ae,Tt=0;Tt<Bt;Tt++)(Wt=_[Tt]).length===2?(Tr=Wt[0]*Ze+Tr,gr=Wt[1]*vt+gr,ju(Tr,gr)):(sn=Wt[0]*Ze+Tr,Yn=Wt[1]*vt+gr,sr=Wt[2]*Ze+Tr,Cn=Wt[3]*vt+gr,Tr=Wt[4]*Ze+Tr,gr=Wt[5]*vt+gr,vi(sn,Yn,sr,Cn,Tr,gr));return We&&Pl(),ro(ke),this},y.path=function(_){for(var z=0;z<_.length;z++){var ae=_[z],me=ae.c;switch(ae.op){case"m":ql(me[0],me[1]);break;case"l":ju(me[0],me[1]);break;case"c":vi.apply(this,me);break;case"h":Pl()}}return this},y.__private__.rect=y.rect=function(_,z,ae,me,ke){if(isNaN(_)||isNaN(z)||isNaN(ae)||isNaN(me)||!ui(ke))throw new Error("Invalid arguments passed to jsPDF.rect");return M===D&&(me=-me),P([Q(fe(_)),Q(se(z)),Q(fe(ae)),Q(fe(me)),"re"].join(" ")),ro(ke),this},y.__private__.triangle=y.triangle=function(_,z,ae,me,ke,We,Ze){if(isNaN(_)||isNaN(z)||isNaN(ae)||isNaN(me)||isNaN(ke)||isNaN(We)||!ui(Ze))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ae-_,me-z],[ke-ae,We-me],[_-ke,z-We]],_,z,[1,1],Ze,!0),this},y.__private__.roundedRect=y.roundedRect=function(_,z,ae,me,ke,We,Ze){if(isNaN(_)||isNaN(z)||isNaN(ae)||isNaN(me)||isNaN(ke)||isNaN(We)||!ui(Ze))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var vt=4/3*(Math.SQRT2-1);return ke=Math.min(ke,.5*ae),We=Math.min(We,.5*me),this.lines([[ae-2*ke,0],[ke*vt,0,ke,We-We*vt,ke,We],[0,me-2*We],[0,We*vt,-ke*vt,We,-ke,We],[2*ke-ae,0],[-ke*vt,0,-ke,-We*vt,-ke,-We],[0,2*We-me],[0,-We*vt,ke*vt,-We,ke,-We]],_+ke,z,[1,1],Ze,!0),this},y.__private__.ellipse=y.ellipse=function(_,z,ae,me,ke){if(isNaN(_)||isNaN(z)||isNaN(ae)||isNaN(me)||!ui(ke))throw new Error("Invalid arguments passed to jsPDF.ellipse");var We=4/3*(Math.SQRT2-1)*ae,Ze=4/3*(Math.SQRT2-1)*me;return ql(_+ae,z),vi(_+ae,z-Ze,_+We,z-me,_,z-me),vi(_-We,z-me,_-ae,z-Ze,_-ae,z),vi(_-ae,z+Ze,_-We,z+me,_,z+me),vi(_+We,z+me,_+ae,z+Ze,_+ae,z),ro(ke),this},y.__private__.circle=y.circle=function(_,z,ae,me){if(isNaN(_)||isNaN(z)||isNaN(ae)||!ui(me))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(_,z,ae,ae,me)},y.setFont=function(_,z,ae){return ae&&(z=oe(z,ae)),$e=Eu(_,z,{disableWarning:!1}),this};var ua=y.__private__.getFont=y.getFont=function(){return it[Eu.apply(y,arguments)]};y.__private__.getFontList=y.getFontList=function(){var _,z,ae={};for(_ in st)if(st.hasOwnProperty(_))for(z in ae[_]=[],st[_])st[_].hasOwnProperty(z)&&ae[_].push(z);return ae},y.addFont=function(_,z,ae,me,ke){var We=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&We.indexOf(arguments[3])!==-1?ke=arguments[3]:arguments[3]&&We.indexOf(arguments[3])==-1&&(ae=oe(ae,me)),Cl.call(this,_,z,ae,ke=ke||"Identity-H")};var Ka,io=t.lineWidth||.200025,Rs=y.__private__.getLineWidth=y.getLineWidth=function(){return io},Dt=y.__private__.setLineWidth=y.setLineWidth=function(_){return io=_,P(Q(fe(_))+" w"),this};y.__private__.setLineDash=Nt.API.setLineDash=Nt.API.setLineDashPattern=function(_,z){if(_=_||[],z=z||0,isNaN(z)||!Array.isArray(_))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return _=_.map(function(ae){return Q(fe(ae))}).join(" "),z=Q(fe(z)),P("["+_+"] "+z+" d"),this};var Nu=y.__private__.getLineHeight=y.getLineHeight=function(){return Le*Ka};y.__private__.getLineHeight=y.getLineHeight=function(){return Le*Ka};var Fl=y.__private__.setLineHeightFactor=y.setLineHeightFactor=function(_){return typeof(_=_||1.15)=="number"&&(Ka=_),this},Cu=y.__private__.getLineHeightFactor=y.getLineHeightFactor=function(){return Ka};Fl(t.lineHeight);var Ni=y.__private__.getHorizontalCoordinate=function(_){return fe(_)},Ur=y.__private__.getVerticalCoordinate=function(_){return M===U?_:dt[F].mediaBox.topRightY-dt[F].mediaBox.bottomLeftY-fe(_)},Hl=y.__private__.getHorizontalCoordinateString=y.getHorizontalCoordinateString=function(_){return Q(Ni(_))},ao=y.__private__.getVerticalCoordinateString=y.getVerticalCoordinateString=function(_){return Q(Ur(_))},Ci=t.strokeColor||"0 G";y.__private__.getStrokeColor=y.getDrawColor=function(){return Gn(Ci)},y.__private__.setStrokeColor=y.setDrawColor=function(_,z,ae,me){return Ci=Qr({ch1:_,ch2:z,ch3:ae,ch4:me,pdfColorType:"draw",precision:2}),P(Ci),this};var so=t.fillColor||"0 g";y.__private__.getFillColor=y.getFillColor=function(){return Gn(so)},y.__private__.setFillColor=y.setFillColor=function(_,z,ae,me){return so=Qr({ch1:_,ch2:z,ch3:ae,ch4:me,pdfColorType:"fill",precision:2}),P(so),this};var La=t.textColor||"0 g",Ru=y.__private__.getTextColor=y.getTextColor=function(){return Gn(La)};y.__private__.setTextColor=y.setTextColor=function(_,z,ae,me){return La=Qr({ch1:_,ch2:z,ch3:ae,ch4:me,pdfColorType:"text",precision:3}),this};var Ii=t.charSpace,Ho=y.__private__.getCharSpace=y.getCharSpace=function(){return parseFloat(Ii||0)};y.__private__.setCharSpace=y.setCharSpace=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ii=_,this};var $o=0;y.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},y.__private__.setLineCap=y.setLineCap=function(_){var z=y.CapJoinStyles[_];if(z===void 0)throw new Error("Line cap style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return $o=z,P(z+" J"),this};var Or=0;y.__private__.setLineJoin=y.setLineJoin=function(_){var z=y.CapJoinStyles[_];if(z===void 0)throw new Error("Line join style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Or=z,P(z+" j"),this},y.__private__.setLineMiterLimit=y.__private__.setMiterLimit=y.setLineMiterLimit=y.setMiterLimit=function(_){if(_=_||0,isNaN(_))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return P(Q(fe(_))+" M"),this},y.GState=$h,y.setGState=function(_){(_=typeof _=="string"?Et[St[_]]:ja(null,_)).equals(Kt)||(P("/"+_.id+" gs"),Kt=_)};var ja=function(_,z){if(!_||!St[_]){var ae=!1;for(var me in Et)if(Et.hasOwnProperty(me)&&Et[me].equals(z)){ae=!0;break}if(ae)z=Et[me];else{var ke="GS"+(Object.keys(Et).length+1).toString(10);Et[ke]=z,z.id=ke}return _&&(St[_]=z.id),Ut.publish("addGState",z),z}};y.addGState=function(_,z){return ja(_,z),this},y.saveGraphicsState=function(){return P("q"),ct.push({key:$e,size:Le,color:La}),this},y.restoreGraphicsState=function(){P("Q");var _=ct.pop();return $e=_.key,Le=_.size,La=_.color,Kt=null,this},y.setCurrentTransformationMatrix=function(_){return P(_.toString()+" cm"),this},y.comment=function(_){return P("#"+_),this};var Pi=function(_,z){var ae=_||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ae},set:function(We){isNaN(We)||(ae=parseFloat(We))}});var me=z||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return me},set:function(We){isNaN(We)||(me=parseFloat(We))}});var ke="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ke},set:function(We){ke=We.toString()}}),this},Xa=function(_,z,ae,me){Pi.call(this,_,z),this.type="rect";var ke=ae||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ke},set:function(Ze){isNaN(Ze)||(ke=parseFloat(Ze))}});var We=me||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return We},set:function(Ze){isNaN(Ze)||(We=parseFloat(Ze))}}),this},Wo=function(){this.page=kt,this.currentPage=F,this.pages=qe.slice(0),this.pagesContext=dt.slice(0),this.x=lt,this.y=qt,this.matrix=rt,this.width=Za(F),this.height=$l(F),this.outputDestination=Re,this.id="",this.objectNumber=-1};Wo.prototype.restore=function(){kt=this.page,F=this.currentPage,dt=this.pagesContext,qe=this.pages,lt=this.x,qt=this.y,rt=this.matrix,lo(F,this.width),Qa(F,this.height),Re=this.outputDestination};var oo=function(_,z,ae,me,ke){$n.push(new Wo),kt=F=0,qe=[],lt=_,qt=z,rt=ke,sa([ae,me])};for(var Ja in y.beginFormObject=function(_,z,ae,me,ke){return oo(_,z,ae,me,ke),this},y.endFormObject=function(_){return(function(z){if(qn[z])$n.pop().restore();else{var ae=new Wo,me="Xo"+(Object.keys(vn).length+1).toString(10);ae.id=me,qn[z]=me,vn[me]=ae,Ut.publish("addFormObject",ae),$n.pop().restore()}})(_),this},y.doFormObject=function(_,z){var ae=vn[qn[_]];return P("q"),P(z.toString()+" cm"),P("/"+ae.id+" Do"),P("Q"),this},y.getFormObject=function(_){var z=vn[qn[_]];return{x:z.x,y:z.y,width:z.width,height:z.height,matrix:z.matrix}},y.save=function(_,z){return _=_||"generated.pdf",(z=z||{}).returnPromise=z.returnPromise||!1,z.returnPromise===!1?(fu(Cs(Ta()),_),typeof fu.unload=="function"&&Ht.setTimeout&&setTimeout(fu.unload,911),this):new Promise(function(ae,me){try{var ke=fu(Cs(Ta()),_);typeof fu.unload=="function"&&Ht.setTimeout&&setTimeout(fu.unload,911),ae(ke)}catch(We){me(We.message)}})},Nt.API)Nt.API.hasOwnProperty(Ja)&&(Ja==="events"&&Nt.API.events.length?(function(_,z){var ae,me,ke;for(ke=z.length-1;ke!==-1;ke--)ae=z[ke][0],me=z[ke][1],_.subscribe.apply(_,[ae].concat(typeof me=="function"?[me]:me))})(Ut,Nt.API.events):y[Ja]=Nt.API[Ja]);function Za(_){return dt[_].mediaBox.topRightX-dt[_].mediaBox.bottomLeftX}function lo(_,z){dt[_].mediaBox.topRightX=z+dt[_].mediaBox.bottomLeftX}function $l(_){return dt[_].mediaBox.topRightY-dt[_].mediaBox.bottomLeftY}function Qa(_,z){dt[_].mediaBox.topRightY=z+dt[_].mediaBox.bottomLeftY}var es=y.getPageWidth=function(_){return Za(_=_||F)/ot},Ou=y.setPageWidth=function(_,z){lo(_,z*ot)},ts=y.getPageHeight=function(_){return $l(_=_||F)/ot},Du=y.setPageHeight=function(_,z){Qa(_,z*ot)};return y.internal={pdfEscape:Li,getStyle:Il,getFont:ua,getFontSize:be,getCharSpace:Ho,getTextColor:Ru,getLineHeight:Nu,getLineHeightFactor:Cu,getLineWidth:Rs,write:ye,getHorizontalCoordinate:Ni,getVerticalCoordinate:Ur,getCoordinateString:Hl,getVerticalCoordinateString:ao,collections:{},newObject:mn,newAdditionalObject:bi,newObjectDeferred:Nn,newObjectDeferredBegin:An,getFilters:Ti,putStream:Bi,events:Ut,scaleFactor:ot,pageSize:{getWidth:function(){return es(F)},setWidth:function(_){Ou(F,_)},getHeight:function(){return ts(F)},setHeight:function(_){Du(F,_)}},encryptionOptions:g,encryption:kr,getEncryptor:function(_){return g!==null?kr.encryptor(_,0):function(z){return z}},output:zl,getNumberOfPages:Dl,get pages(){return qe},out:P,f2:B,f3:K,getPageInfo:pr,getPageInfoByObjId:Fo,getCurrentPageInfo:ku,getPDFVersion:T,Point:Pi,Rectangle:Xa,Matrix:At,hasHotfix:li},Object.defineProperty(y.internal.pageSize,"width",{get:function(){return es(F)},set:function(_){Ou(F,_)},enumerable:!0,configurable:!0}),Object.defineProperty(y.internal.pageSize,"height",{get:function(){return ts(F)},set:function(_){Du(F,_)},enumerable:!0,configurable:!0}),(function(_){for(var z=0,ae=Be.length;z<ae;z++){var me=Cl.call(this,_[z][0],_[z][1],_[z][2],Be[z][3],!0);x===!1&&(S[me]=!0);var ke=_[z][0].split("-");ar({id:me,fontName:ke[0],fontStyle:ke[1]||""})}Ut.publish("addFonts",{fonts:it,dictionary:st})}).call(y,Be),$e="F1",Ya(s,n),Ut.publish("initialized"),y}Lc.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Lc.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Lc.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Lc.prototype.processOwnerPassword=function(t,e){return U1(P1(e).substr(0,5),t)},Lc.prototype.encryptor=function(t,e){var n=P1(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(a){return U1(n,a)}},$h.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||jn(t)!==jn(this))return!1;var a=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;a++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&a--;return a===0},Nt.API={events:[]},Nt.version="4.1.0";var _r=Nt.API,mg=1,Au=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},_c=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Wh=function(t){return t.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(e){var n=e.charCodeAt(0).toString(16).toUpperCase();return"#"+(n.length===1?"0"+n:n)})},Vt=function(t){return t.toFixed(2)},Sl=function(t){return t.toFixed(5)};_r.__acroform__={};var ta=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},jy=function(t){return t*mg},Js=function(t){var e=new rw,n=_t.internal.getHeight(t)||0,a=_t.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Vt(a)),Number(Vt(n))],e},KE=_r.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},XE=_r.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},JE=_r.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Nr=_r.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return JE(t,e-1)},Cr=_r.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return KE(t,e-1)},Rr=_r.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return XE(t,e-1)},ZE=_r.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,a=e.internal.getVerticalCoordinate,s=t[0],o=t[1],u=t[2],d=t[3],f={};return f.lowerLeft_X=n(s)||0,f.lowerLeft_Y=a(o+d)||0,f.upperRight_X=n(s+u)||0,f.upperRight_Y=a(o)||0,[Number(Vt(f.lowerLeft_X)),Number(Vt(f.lowerLeft_Y)),Number(Vt(f.upperRight_X)),Number(Vt(f.upperRight_Y))]},QE=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,a=q1(t,n),s=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+s+" "+Vt(a.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(a.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=Js(t);return o.scope=t.scope,o.stream=e.join(`
`),o}},q1=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,a={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=t.multiline?s.map(function(B){return B.split(`
`)}):s.map(function(B){return[B]});var o=n,u=_t.internal.getHeight(t)||0;u=u<0?-u:u;var d=_t.internal.getWidth(t)||0;d=d<0?-d:d;var f=function(B,K,fe){if(B+1<s.length){var se=K+" "+s[B+1][0];return bh(se,t,fe).width<=d-4}return!1};o++;e:for(;o>0;){e="",o--;var h,g,x=bh("3",t,o).height,S=t.multiline?u-o:(u-x)/2,y=S+=2,E=0,T=0,k=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+bh(e,t,o=12).width+", FieldWidth:"+d+`
`;break}for(var N="",D=0,U=0;U<s.length;U++)if(s.hasOwnProperty(U)){var M=!1;if(s[U].length!==1&&k!==s[U].length-1){if((x+2)*(D+2)+2>u)continue e;N+=s[U][k],M=!0,T=U,U--}else{N=(N+=s[U][k]+" ").substr(N.length-1)==" "?N.substr(0,N.length-1):N;var re=parseInt(U),de=f(re,N,o),oe=U>=s.length-1;if(de&&!oe){N+=" ",k=0;continue}if(de||oe){if(oe)T=re;else if(t.multiline&&(x+2)*(D+2)+2>u)continue e}else{if(!t.multiline||(x+2)*(D+2)+2>u)continue e;T=re}}for(var Q="",q=E;q<=T;q++){var ue=s[q];if(t.multiline){if(q===T){Q+=ue[k]+" ",k=(k+1)%ue.length;continue}if(q===E){Q+=ue[ue.length-1]+" ";continue}}Q+=ue[0]+" "}switch(Q=Q.substr(Q.length-1)==" "?Q.substr(0,Q.length-1):Q,g=bh(Q,t,o).width,t.textAlign){case"right":h=d-g-2;break;case"center":h=(d-g)/2;break;default:h=2}e+=Vt(h)+" "+Vt(y)+` Td
`,e+="("+Au(Q)+`) Tj
`,e+=-Vt(h)+` 0 Td
`,y=-(o+2),g=0,E=M?T:T+1,D++,N=""}break}return a.text=e,a.fontSize=o,a},bh=function(t,e,n){var a=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(t,{font:a,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:a,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:s}},ek={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},tk=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(a){return a.type===n.type&&a.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},nk=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Ls.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(ek)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");mg=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new iw,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var a=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];o.objId=void 0,o.hasAnnotation&&tk(o,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(a,s){var o=!a;for(var u in a||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),a=a||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(a.hasOwnProperty(u)){var d=a[u],f=[],h=d.Rect;if(d.Rect&&(d.Rect=ZE(d.Rect,s)),s.internal.newObjectDeferredBegin(d.objId,!0),d.DA=_t.createDefaultAppearanceStream(d),jn(d)==="object"&&typeof d.getKeyValueListForStream=="function"&&(f=d.getKeyValueListForStream()),d.Rect=h,d.hasAppearanceStream&&!d.appearanceStreamContent){var g=QE(d);f.push({key:"AP",value:"<</N "+g+">>"}),s.internal.acroformPlugin.xForms.push(g)}if(d.appearanceStreamContent){var x="";for(var S in d.appearanceStreamContent)if(d.appearanceStreamContent.hasOwnProperty(S)){var y=d.appearanceStreamContent[S];if(x+="/"+S+" ",x+="<<",Object.keys(y).length>=1||Array.isArray(y)){for(var u in y)if(y.hasOwnProperty(u)){var E=y[u];typeof E=="function"&&(E=E.call(s,d)),x+="/"+u+" "+E+" ",s.internal.acroformPlugin.xForms.indexOf(E)>=0||s.internal.acroformPlugin.xForms.push(E)}}else typeof(E=y)=="function"&&(E=E.call(s,d)),x+="/"+u+" "+E,s.internal.acroformPlugin.xForms.indexOf(E)>=0||s.internal.acroformPlugin.xForms.push(E);x+=">>"}f.push({key:"AP",value:`<<
`+x+">>"})}s.internal.putStream({additionalKeyValues:f,objectId:d.objId}),s.internal.out("endobj")}o&&(function(T,k){for(var N in T)if(T.hasOwnProperty(N)){var D=N,U=T[N];k.internal.newObjectDeferredBegin(U.objId,!0),jn(U)==="object"&&typeof U.putStream=="function"&&U.putStream(),delete T[D]}})(s.internal.acroformPlugin.xForms,s)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},nw=_r.__acroform__.arrayToPdfArray=function(t,e,n){var a=function(u){return u};if(Array.isArray(t)){for(var s="[",o=0;o<t.length;o++)switch(o!==0&&(s+=" "),jn(t[o])){case"boolean":case"number":case"object":s+=t[o].toString();break;case"string":t[o].substr(0,1)==="/"?s+="/"+Wh(t[o].substr(1)):(e!==void 0&&n&&(a=n.internal.getEncryptor(e)),s+="("+Au(a(t[o].toString()))+")")}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},o1=function(t,e,n){var a=function(s){return s};return e!==void 0&&n&&(a=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+Au(a(t))+")"},Qs=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Qs.prototype.toString=function(){return this.objId+" 0 R"},Qs.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Qs.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var a=e[n],s=this[a];s&&(Array.isArray(s)?t.push({key:a,value:nw(s,this.objId,this.scope)}):s instanceof Qs?(s.scope=this.scope,t.push({key:a,value:s.objId+" 0 R"})):typeof s!="function"&&t.push({key:a,value:s}))}return t};var rw=function(){Qs.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};ta(rw,Qs);var iw=function(){Qs.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(a){return a};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Au(n(t))+")"}},set:function(n){t=n}})};ta(iw,Qs);var Ls=function t(){Qs.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(N){if(isNaN(N))throw new Error('Invalid value "'+N+'" for attribute F supplied.');e=N}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Nr(e,3)},set:function(N){N?this.F=Cr(e,3):this.F=Rr(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(N){if(isNaN(N))throw new Error('Invalid value "'+N+'" for attribute Ff supplied.');n=N}});var a=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(a.length!==0)return a},set:function(N){a=N!==void 0?N:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[0])?0:a[0]},set:function(N){a[0]=N}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[1])?0:a[1]},set:function(N){a[1]=N}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[2])?0:a[2]},set:function(N){a[2]=N}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[3])?0:a[3]},set:function(N){a[3]=N}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(N){switch(N){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=N;break;default:throw new Error('Invalid value "'+N+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof Gh)return;o="FieldObject"+t.FieldNum++}var N=function(D){return D};return this.scope&&(N=this.scope.internal.getEncryptor(this.objId)),"("+Au(N(o))+")"},set:function(N){o=N.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(N){o=N}});var u="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return u},set:function(N){u=N}});var d="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return d},set:function(N){d=N}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(N){f=N}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/mg:h},set:function(N){h=N}});var g="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return g},set:function(N){g=N}});var x="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!x||this instanceof Gh||this instanceof bu))return o1(x,this.objId,this.scope)},set:function(N){N=N.toString(),x=N}});var S=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(S)return this instanceof oi==0?o1(S,this.objId,this.scope):S},set:function(N){N=N.toString(),S=this instanceof oi==0?N.substr(0,1)==="("?_c(N.substr(1,N.length-2)):_c(N):N}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof oi==1?_c(S.substr(1,S.length-1)):S},set:function(N){N=N.toString(),S=this instanceof oi==1?"/"+Wh(N):N}});var y=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(y)return y},set:function(N){this.V=N}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof oi==0?o1(y,this.objId,this.scope):y},set:function(N){N=N.toString(),y=this instanceof oi==0?N.substr(0,1)==="("?_c(N.substr(1,N.length-2)):_c(N):N}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof oi==1?_c(y.substr(1,y.length-1)):y},set:function(N){N=N.toString(),y=this instanceof oi==1?"/"+Wh(N):N}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var E,T=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return T},set:function(N){N=!!N,T=N}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(E)return E},set:function(N){E=N}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,1)},set:function(N){N?this.Ff=Cr(this.Ff,1):this.Ff=Rr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,2)},set:function(N){N?this.Ff=Cr(this.Ff,2):this.Ff=Rr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,3)},set:function(N){N?this.Ff=Cr(this.Ff,3):this.Ff=Rr(this.Ff,3)}});var k=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(k!==null)return k},set:function(N){if([0,1,2].indexOf(N)===-1)throw new Error('Invalid value "'+N+'" for attribute Q supplied.');k=N}}),Object.defineProperty(this,"textAlign",{get:function(){var N;switch(k){case 0:default:N="left";break;case 1:N="center";break;case 2:N="right"}return N},configurable:!0,enumerable:!0,set:function(N){switch(N){case"right":case 2:k=2;break;case"center":case 1:k=1;break;default:k=0}}})};ta(Ls,Qs);var Mc=function(){Ls.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return nw(e,this.objId,this.scope)},set:function(n){var a,s;s=[],typeof(a=n)=="string"&&(s=(function(o,u,d){d||(d=1);for(var f,h=[];f=u.exec(o);)h.push(f[d]);return h})(a,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,a){for(a=a||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),a!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,18)},set:function(n){n?this.Ff=Cr(this.Ff,18):this.Ff=Rr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Cr(this.Ff,19):this.Ff=Rr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,20)},set:function(n){n?(this.Ff=Cr(this.Ff,20),e.sort()):this.Ff=Rr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,22)},set:function(n){n?this.Ff=Cr(this.Ff,22):this.Ff=Rr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,23)},set:function(n){n?this.Ff=Cr(this.Ff,23):this.Ff=Rr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,27)},set:function(n){n?this.Ff=Cr(this.Ff,27):this.Ff=Rr(this.Ff,27)}}),this.hasAppearanceStream=!1};ta(Mc,Ls);var zc=function(){Mc.call(this),this.fontName="helvetica",this.combo=!1};ta(zc,Mc);var Bc=function(){zc.call(this),this.combo=!0};ta(Bc,zc);var kh=function(){Bc.call(this),this.edit=!0};ta(kh,Bc);var oi=function(){Ls.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,15)},set:function(n){n?this.Ff=Cr(this.Ff,15):this.Ff=Rr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,16)},set:function(n){n?this.Ff=Cr(this.Ff,16):this.Ff=Rr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,17)},set:function(n){n?this.Ff=Cr(this.Ff,17):this.Ff=Rr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,26)},set:function(n){n?this.Ff=Cr(this.Ff,26):this.Ff=Rr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(o){return o};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var a,s=[];for(a in s.push("<<"),e)s.push("/"+a+" ("+Au(n(e[a]))+")");return s.push(">>"),s.join(`
`)}},set:function(n){jn(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+Wh(n)}})};ta(oi,Ls);var Th=function(){oi.call(this),this.pushButton=!0};ta(Th,oi);var Ic=function(){oi.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};ta(Ic,oi);var Gh=function(){var t,e;Ls.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var n,a={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(d){return d};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var o,u=[];for(o in u.push("<<"),a)u.push("/"+o+" ("+Au(s(a[o]))+")");return u.push(">>"),u.join(`
`)},set:function(s){jn(s)==="object"&&(a=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return a.CA||""},set:function(s){typeof s=="string"&&(a.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(s){n="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=_t.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ta(Gh,Ls),Ic.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Ic.prototype.createOption=function(t){var e=new Gh;return e.Parent=this,e.optionName=t,this.Kids.push(e),rk.call(this.scope,e),e};var Lh=function(){oi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=_t.CheckBox.createAppearanceStream()};ta(Lh,oi);var bu=function(){Ls.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,13)},set:function(e){e?this.Ff=Cr(this.Ff,13):this.Ff=Rr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,21)},set:function(e){e?this.Ff=Cr(this.Ff,21):this.Ff=Rr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,23)},set:function(e){e?this.Ff=Cr(this.Ff,23):this.Ff=Rr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,24)},set:function(e){e?this.Ff=Cr(this.Ff,24):this.Ff=Rr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,25)},set:function(e){e?this.Ff=Cr(this.Ff,25):this.Ff=Rr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,26)},set:function(e){e?this.Ff=Cr(this.Ff,26):this.Ff=Rr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ta(bu,Ls);var jh=function(){bu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,14)},set:function(t){t?this.Ff=Cr(this.Ff,14):this.Ff=Rr(this.Ff,14)}}),this.password=!0};ta(jh,bu);var _t={CheckBox:{createAppearanceStream:function(){return{N:{On:_t.CheckBox.YesNormal},D:{On:_t.CheckBox.YesPushDown,Off:_t.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Js(t);e.scope=t.scope;var n=[],a=t.scope.internal.getFont(t.fontName,t.fontStyle).id,s=t.scope.__private__.encodeColorString(t.color),o=q1(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Vt(_t.internal.getWidth(t))+" "+Vt(_t.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+a+" "+Vt(o.fontSize)+" Tf "+s),n.push("BT"),n.push(o.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Js(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),s=[],o=_t.internal.getHeight(t),u=_t.internal.getWidth(t),d=q1(t,t.caption);return s.push("1 g"),s.push("0 0 "+Vt(u)+" "+Vt(o)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Vt(u-1)+" "+Vt(o-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+n+" "+Vt(d.fontSize)+" Tf "+a),s.push(d.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(t){var e=Js(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Vt(_t.internal.getWidth(t))+" "+Vt(_t.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:_t.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=_t.RadioButton.Circle.YesNormal,e.D[t]=_t.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Js(t);e.scope=t.scope;var n=[],a=_t.internal.getWidth(t)<=_t.internal.getHeight(t)?_t.internal.getWidth(t)/4:_t.internal.getHeight(t)/4;a=Number((.9*a).toFixed(5));var s=_t.internal.Bezier_C,o=Number((a*s).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Sl(_t.internal.getWidth(t)/2)+" "+Sl(_t.internal.getHeight(t)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),n.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),n.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),n.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Js(t);e.scope=t.scope;var n=[],a=_t.internal.getWidth(t)<=_t.internal.getHeight(t)?_t.internal.getWidth(t)/4:_t.internal.getHeight(t)/4;a=Number((.9*a).toFixed(5));var s=Number((2*a).toFixed(5)),o=Number((s*_t.internal.Bezier_C).toFixed(5)),u=Number((a*_t.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Sl(_t.internal.getWidth(t)/2)+" "+Sl(_t.internal.getHeight(t)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),n.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),n.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),n.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Sl(_t.internal.getWidth(t)/2)+" "+Sl(_t.internal.getHeight(t)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+u+" "+u+" "+a+" 0 "+a+" c"),n.push("-"+u+" "+a+" -"+a+" "+u+" -"+a+" 0 c"),n.push("-"+a+" -"+u+" -"+u+" -"+a+" 0 -"+a+" c"),n.push(u+" -"+a+" "+a+" -"+u+" "+a+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Js(t);e.scope=t.scope;var n=[],a=_t.internal.getWidth(t)<=_t.internal.getHeight(t)?_t.internal.getWidth(t)/4:_t.internal.getHeight(t)/4;a=Number((.9*a).toFixed(5));var s=Number((2*a).toFixed(5)),o=Number((s*_t.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Sl(_t.internal.getWidth(t)/2)+" "+Sl(_t.internal.getHeight(t)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),n.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),n.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),n.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:_t.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=_t.RadioButton.Cross.YesNormal,e.D[t]=_t.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Js(t);e.scope=t.scope;var n=[],a=_t.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Vt(_t.internal.getWidth(t)-2)+" "+Vt(_t.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Vt(a.x1.x)+" "+Vt(a.x1.y)+" m"),n.push(Vt(a.x2.x)+" "+Vt(a.x2.y)+" l"),n.push(Vt(a.x4.x)+" "+Vt(a.x4.y)+" m"),n.push(Vt(a.x3.x)+" "+Vt(a.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Js(t);e.scope=t.scope;var n=_t.internal.calculateCross(t),a=[];return a.push("0.749023 g"),a.push("0 0 "+Vt(_t.internal.getWidth(t))+" "+Vt(_t.internal.getHeight(t))+" re"),a.push("f"),a.push("q"),a.push("1 1 "+Vt(_t.internal.getWidth(t)-2)+" "+Vt(_t.internal.getHeight(t)-2)+" re"),a.push("W"),a.push("n"),a.push(Vt(n.x1.x)+" "+Vt(n.x1.y)+" m"),a.push(Vt(n.x2.x)+" "+Vt(n.x2.y)+" l"),a.push(Vt(n.x4.x)+" "+Vt(n.x4.y)+" m"),a.push(Vt(n.x3.x)+" "+Vt(n.x3.y)+" l"),a.push("s"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(t){var e=Js(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Vt(_t.internal.getWidth(t))+" "+Vt(_t.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};_t.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=_t.internal.getWidth(t),n=_t.internal.getHeight(t),a=Math.min(e,n);return{x1:{x:(e-a)/2,y:(n-a)/2+a},x2:{x:(e-a)/2+a,y:(n-a)/2},x3:{x:(e-a)/2,y:(n-a)/2},x4:{x:(e-a)/2+a,y:(n-a)/2+a}}}},_t.internal.getWidth=function(t){var e=0;return jn(t)==="object"&&(e=jy(t.Rect[2])),e},_t.internal.getHeight=function(t){var e=0;return jn(t)==="object"&&(e=jy(t.Rect[3])),e};var rk=_r.addField=function(t){if(nk(this,t),!(t instanceof Ls))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};_r.AcroFormChoiceField=Mc,_r.AcroFormListBox=zc,_r.AcroFormComboBox=Bc,_r.AcroFormEditBox=kh,_r.AcroFormButton=oi,_r.AcroFormPushButton=Th,_r.AcroFormRadioButton=Ic,_r.AcroFormCheckBox=Lh,_r.AcroFormTextField=bu,_r.AcroFormPasswordField=jh,_r.AcroFormAppearance=_t,_r.AcroForm={ChoiceField:Mc,ListBox:zc,ComboBox:Bc,EditBox:kh,Button:oi,PushButton:Th,RadioButton:Ic,CheckBox:Lh,TextField:bu,PasswordField:jh,Appearance:_t},Nt.AcroForm={ChoiceField:Mc,ListBox:zc,ComboBox:Bc,EditBox:kh,Button:oi,PushButton:Th,RadioButton:Ic,CheckBox:Lh,TextField:bu,PasswordField:jh,Appearance:_t};Nt.AcroForm;function aw(t){return t.reduce(function(e,n,a){return e[n]=a,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",a={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=t.__addimage__.getImageFileTypeByImageData=function(B,K){var fe,se,le,J,ee,he=n;if((K=K||n)==="RGBA"||B.data!==void 0&&B.data instanceof Uint8ClampedArray&&"height"in B&&"width"in B)return"RGBA";if(de(B))for(ee in a)for(le=a[ee],fe=0;fe<le.length;fe+=1){for(J=!0,se=0;se<le[fe].length;se+=1)if(le[fe][se]!==void 0&&le[fe][se]!==B[se]){J=!1;break}if(J===!0){he=ee;break}}else for(ee in a)for(le=a[ee],fe=0;fe<le.length;fe+=1){for(J=!0,se=0;se<le[fe].length;se+=1)if(le[fe][se]!==void 0&&le[fe][se]!==B.charCodeAt(se)){J=!1;break}if(J===!0){he=ee;break}}return he===n&&K!==n&&(he=K),he},o=function B(K){for(var fe=this.internal.write,se=this.internal.putStream,le=(0,this.internal.getFilters)();le.indexOf("FlateEncode")!==-1;)le.splice(le.indexOf("FlateEncode"),1);K.objectId=this.internal.newObject();var J=[];if(J.push({key:"Type",value:"/XObject"}),J.push({key:"Subtype",value:"/Image"}),J.push({key:"Width",value:K.width}),J.push({key:"Height",value:K.height}),K.colorSpace===N.INDEXED?J.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(K.palette.length/3-1)+" "+("sMask"in K&&K.sMask!==void 0?K.objectId+2:K.objectId+1)+" 0 R]"}):(J.push({key:"ColorSpace",value:"/"+K.colorSpace}),K.colorSpace===N.DEVICE_CMYK&&J.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),J.push({key:"BitsPerComponent",value:K.bitsPerComponent}),"decodeParameters"in K&&K.decodeParameters!==void 0&&J.push({key:"DecodeParms",value:"<<"+K.decodeParameters+">>"}),"transparency"in K&&Array.isArray(K.transparency)&&K.transparency.length>0){for(var ee="",he=0,_e=K.transparency.length;he<_e;he++)ee+=K.transparency[he]+" "+K.transparency[he]+" ";J.push({key:"Mask",value:"["+ee+"]"})}K.sMask!==void 0&&J.push({key:"SMask",value:K.objectId+1+" 0 R"});var ze=K.filter!==void 0?["/"+K.filter]:void 0;if(se({data:K.data,additionalKeyValues:J,alreadyAppliedFilters:ze,objectId:K.objectId}),fe("endobj"),"sMask"in K&&K.sMask!==void 0){var G,L=(G=K.sMaskBitsPerComponent)!==null&&G!==void 0?G:K.bitsPerComponent,F={width:K.width,height:K.height,colorSpace:"DeviceGray",bitsPerComponent:L,data:K.sMask};"filter"in K&&(F.decodeParameters="/Predictor ".concat(K.predictor," /Colors 1 /BitsPerComponent ").concat(L," /Columns ").concat(K.width),F.filter=K.filter),B.call(this,F)}if(K.colorSpace===N.INDEXED){var X=this.internal.newObject();se({data:Q(new Uint8Array(K.palette)),objectId:X}),fe("endobj")}},u=function(){var B=this.internal.collections[e+"images"];for(var K in B)o.call(this,B[K])},d=function(){var B,K=this.internal.collections[e+"images"],fe=this.internal.write;for(var se in K)fe("/I"+(B=K[se]).index,B.objectId,"0","R")},f=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",u),this.internal.events.subscribe("putXobjectDict",d))},h=function(){var B=this.internal.collections[e+"images"];return f.call(this),B},g=function(){return Object.keys(this.internal.collections[e+"images"]).length},x=function(B){return typeof t["process"+B.toUpperCase()]=="function"},S=function(B){return jn(B)==="object"&&B.nodeType===1},y=function(B,K){if(B.nodeName==="IMG"&&B.hasAttribute("src")){var fe=""+B.getAttribute("src");if(fe.indexOf("data:image/")===0)return Eh(unescape(fe).split("base64,").pop());var se=t.loadFile(fe,!0);if(se!==void 0)return se}if(B.nodeName==="CANVAS"){if(B.width===0||B.height===0)throw new Error("Given canvas must have data. Canvas width: "+B.width+", height: "+B.height);var le;switch(K){case"PNG":le="image/png";break;case"WEBP":le="image/webp";break;default:le="image/jpeg"}return Eh(B.toDataURL(le,1).split("base64,").pop())}},E=function(B){var K=this.internal.collections[e+"images"];if(K){for(var fe in K)if(B===K[fe].alias)return K[fe]}},T=function(B,K,fe){return B||K||(B=-96,K=-96),B<0&&(B=-1*fe.width*72/B/this.internal.scaleFactor),K<0&&(K=-1*fe.height*72/K/this.internal.scaleFactor),B===0&&(B=K*fe.width/fe.height),K===0&&(K=B*fe.height/fe.width),[B,K]},k=function(B,K,fe,se,le,J){var ee=T.call(this,fe,se,le),he=this.internal.getCoordinateString,_e=this.internal.getVerticalCoordinateString,ze=h.call(this);if(fe=ee[0],se=ee[1],ze[le.index]=le,J){J*=Math.PI/180;var G=Math.cos(J),L=Math.sin(J),F=function(ie){return ie.toFixed(4)},X=[F(G),F(L),F(-1*L),F(G),0,0,"cm"]}this.internal.write("q"),J?(this.internal.write([1,"0","0",1,he(B),_e(K+se),"cm"].join(" ")),this.internal.write(X.join(" ")),this.internal.write([he(fe),"0","0",he(se),"0","0","cm"].join(" "))):this.internal.write([he(fe),"0","0",he(se),he(B),_e(K+se),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+le.index+" Do"),this.internal.write("Q")},N=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var D=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},U=t.__addimage__.sHashCode=function(B){var K,fe,se=0;if(typeof B=="string")for(fe=B.length,K=0;K<fe;K++)se=(se<<5)-se+B.charCodeAt(K),se|=0;else if(de(B))for(fe=B.byteLength/2,K=0;K<fe;K++)se=(se<<5)-se+B[K],se|=0;return se},M=t.__addimage__.validateStringAsBase64=function(B){(B=B||"").toString().trim();var K=!0;return B.length===0&&(K=!1),B.length%4!=0&&(K=!1),/^[A-Za-z0-9+/]+$/.test(B.substr(0,B.length-2))===!1&&(K=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(B.substr(-2))===!1&&(K=!1),K},re=t.__addimage__.extractImageFromDataUrl=function(B){if(B==null||!(B=B.trim()).startsWith("data:"))return null;var K=B.indexOf(",");return K<0?null:B.substring(0,K).trim().endsWith("base64")?B.substring(K+1):null};t.__addimage__.isArrayBuffer=function(B){return B instanceof ArrayBuffer};var de=t.__addimage__.isArrayBufferView=function(B){return B instanceof Int8Array||B instanceof Uint8Array||B instanceof Uint8ClampedArray||B instanceof Int16Array||B instanceof Uint16Array||B instanceof Int32Array||B instanceof Uint32Array||B instanceof Float32Array||B instanceof Float64Array},oe=t.__addimage__.binaryStringToUint8Array=function(B){for(var K=B.length,fe=new Uint8Array(K),se=0;se<K;se++)fe[se]=B.charCodeAt(se);return fe},Q=t.__addimage__.arrayBufferToBinaryString=function(B){for(var K="",fe=de(B)?B:new Uint8Array(B),se=0;se<fe.length;se+=8192)K+=String.fromCharCode.apply(null,fe.subarray(se,se+8192));return K};t.addImage=function(){var B,K,fe,se,le,J,ee,he,_e;if(typeof arguments[1]=="number"?(K=n,fe=arguments[1],se=arguments[2],le=arguments[3],J=arguments[4],ee=arguments[5],he=arguments[6],_e=arguments[7]):(K=arguments[1],fe=arguments[2],se=arguments[3],le=arguments[4],J=arguments[5],ee=arguments[6],he=arguments[7],_e=arguments[8]),jn(B=arguments[0])==="object"&&!S(B)&&"imageData"in B){var ze=B;B=ze.imageData,K=ze.format||K||n,fe=ze.x||fe||0,se=ze.y||se||0,le=ze.w||ze.width||le,J=ze.h||ze.height||J,ee=ze.alias||ee,he=ze.compression||he,_e=ze.rotation||ze.angle||_e}var G=this.internal.getFilters();if(he===void 0&&G.indexOf("FlateEncode")!==-1&&(he="SLOW"),isNaN(fe)||isNaN(se))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var L=q.call(this,B,K,ee,he);return k.call(this,fe,se,le,J,L,_e),this};var q=function(B,K,fe,se){var le,J,ee;if(typeof B=="string"&&s(B)===n){B=unescape(B);var he=ue(B,!1);(he!==""||(he=t.loadFile(B,!0))!==void 0)&&(B=he)}if(S(B)&&(B=y(B,K)),K=s(B,K),!x(K))throw new Error("addImage does not support files of type '"+K+"', please ensure that a plugin for '"+K+"' support is added.");if(((ee=fe)==null||ee.length===0)&&(fe=(function(_e){return typeof _e=="string"||de(_e)?U(_e):de(_e.data)?U(_e.data):null})(B)),(le=E.call(this,fe))||(B instanceof Uint8Array||K==="RGBA"||(J=B,B=oe(B)),le=this["process"+K.toUpperCase()](B,g.call(this),fe,(function(_e){return _e&&typeof _e=="string"&&(_e=_e.toUpperCase()),_e in t.image_compression?_e:D.NONE})(se),J)),!le)throw new Error("An unknown error occurred whilst processing the image.");return le},ue=t.__addimage__.convertBase64ToBinaryString=function(B,K){K=typeof K!="boolean"||K;var fe,se="";if(typeof B=="string"){var le;fe=(le=re(B))!==null&&le!==void 0?le:B;try{se=Eh(fe)}catch(J){if(K)throw M(fe)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+J.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return se};t.getImageProperties=function(B){var K,fe,se="";if(S(B)&&(B=y(B)),typeof B=="string"&&s(B)===n&&((se=ue(B,!1))===""&&(se=t.loadFile(B)||""),B=se),fe=s(B),!x(fe))throw new Error("addImage does not support files of type '"+fe+"', please ensure that a plugin for '"+fe+"' support is added.");if(B instanceof Uint8Array||(B=oe(B)),!(K=this["process"+fe.toUpperCase()](B)))throw new Error("An unknown error occurred whilst processing the image");return K.fileType=fe,K}})(Nt.API),(function(t){var e=function(n){if(n!==void 0&&n!="")return!0};Nt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var a,s,o,u=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(n.objId),h=n.pageContext.annotations,g=!1,x=0;x<h.length&&!g;x++)switch((a=h[x]).type){case"link":(e(a.options.url)||e(a.options.pageNumber))&&(g=!0);break;case"reference":case"text":case"freetext":g=!0}if(g!=0){this.internal.write("/Annots [");for(var S=0;S<h.length;S++){a=h[S];var y=this.internal.pdfEscape,E=this.internal.getEncryptor(n.objId);switch(a.type){case"reference":this.internal.write(" "+a.object.objId+" 0 R ");break;case"text":var T=this.internal.newAdditionalObject(),k=this.internal.newAdditionalObject(),N=this.internal.getEncryptor(T.objId),D=a.title||"Note";o="<</Type /Annot /Subtype /Text "+(s="/Rect ["+u(a.bounds.x)+" "+d(a.bounds.y+a.bounds.h)+" "+u(a.bounds.x+a.bounds.w)+" "+d(a.bounds.y)+"] ")+"/Contents ("+y(N(a.contents))+")",o+=" /Popup "+k.objId+" 0 R",o+=" /P "+f.objId+" 0 R",o+=" /T ("+y(N(D))+") >>",T.content=o;var U=T.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+u(a.bounds.x+30)+" "+d(a.bounds.y+a.bounds.h)+" "+u(a.bounds.x+a.bounds.w+30)+" "+d(a.bounds.y)+"] ")+" /Parent "+U,a.open&&(o+=" /Open true"),o+=" >>",k.content=o,this.internal.write(T.objId,"0 R",k.objId,"0 R");break;case"freetext":s="/Rect ["+u(a.bounds.x)+" "+d(a.bounds.y)+" "+u(a.bounds.x+a.bounds.w)+" "+d(a.bounds.y+a.bounds.h)+"] ";var M=a.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+y(E(a.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+M+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(a.options.name){var re=this.annotations._nameMap[a.options.name];a.options.pageNumber=re.page,a.options.top=re.y}else a.options.top||(a.options.top=0);if(s="/Rect ["+a.finalBounds.x+" "+a.finalBounds.y+" "+a.finalBounds.w+" "+a.finalBounds.h+"] ",o="",a.options.url)o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+y(E(a.options.url))+") >>";else if(a.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(a.options.pageNumber).objId+" 0 R",a.options.magFactor=a.options.magFactor||"XYZ",a.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+a.options.top+"]";break;case"FitV":a.options.left=a.options.left||0,o+=" /FitV "+a.options.left+"]";break;default:var de=d(a.options.top);a.options.left=a.options.left||0,a.options.zoom===void 0&&(a.options.zoom=0),o+=" /XYZ "+a.options.left+" "+de+" "+a.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var a=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":a.pageContext.annotations.push(n)}},t.link=function(n,a,s,o,u){var d=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;d.pageContext.annotations.push({finalBounds:{x:f(n),y:h(a),w:f(n+s),h:h(a+o)},options:u,type:"link"})},t.textWithLink=function(n,a,s,o){var u,d,f=this.getTextWidth(n),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){d=o.maxWidth;var g=this.splitTextToSize(n,d).length;u=Math.ceil(h*g)}else d=f,u=h;return this.text(n,a,s,o),s+=.2*h,o.align==="center"&&(a-=f/2),o.align==="right"&&(a-=f),this.link(a,s-h,d,u,o),f},t.getTextWidth=function(n){var a=this.internal.getFontSize();return this.getStringUnitWidth(n)*a/this.internal.scaleFactor}})(Nt.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},a={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];t.__arabicParser__={};var o=t.__arabicParser__.isInArabicSubstitutionA=function(T){return e[T.charCodeAt(0)]!==void 0},u=t.__arabicParser__.isArabicLetter=function(T){return typeof T=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(T)},d=t.__arabicParser__.isArabicEndLetter=function(T){return u(T)&&o(T)&&e[T.charCodeAt(0)].length<=2},f=t.__arabicParser__.isArabicAlfLetter=function(T){return u(T)&&s.indexOf(T.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(T){return u(T)&&o(T)&&e[T.charCodeAt(0)].length>=1};var h=t.__arabicParser__.arabicLetterHasFinalForm=function(T){return u(T)&&o(T)&&e[T.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(T){return u(T)&&o(T)&&e[T.charCodeAt(0)].length>=3};var g=t.__arabicParser__.arabicLetterHasMedialForm=function(T){return u(T)&&o(T)&&e[T.charCodeAt(0)].length==4},x=t.__arabicParser__.resolveLigatures=function(T){var k=0,N=n,D="",U=0;for(k=0;k<T.length;k+=1)N[T.charCodeAt(k)]!==void 0?(U++,typeof(N=N[T.charCodeAt(k)])=="number"&&(D+=String.fromCharCode(N),N=n,U=0),k===T.length-1&&(N=n,D+=T.charAt(k-(U-1)),k-=U-1,U=0)):(N=n,D+=T.charAt(k-U),k-=U,U=0);return D};t.__arabicParser__.isArabicDiacritic=function(T){return T!==void 0&&a[T.charCodeAt(0)]!==void 0};var S=t.__arabicParser__.getCorrectForm=function(T,k,N){return u(T)?o(T)===!1?-1:!h(T)||!u(k)&&!u(N)||!u(N)&&d(k)||d(T)&&!u(k)||d(T)&&f(k)||d(T)&&d(k)?0:g(T)&&u(k)&&!d(k)&&u(N)&&h(N)?3:d(T)||!u(N)?1:2:-1},y=function(T){var k=0,N=0,D=0,U="",M="",re="",de=(T=T||"").split("\\s+"),oe=[];for(k=0;k<de.length;k+=1){for(oe.push(""),N=0;N<de[k].length;N+=1)U=de[k][N],M=de[k][N-1],re=de[k][N+1],u(U)?(D=S(U,M,re),oe[k]+=D!==-1?String.fromCharCode(e[U.charCodeAt(0)][D]):U):oe[k]+=U;oe[k]=x(oe[k])}return oe.join(" ")},E=t.__arabicParser__.processArabic=t.processArabic=function(){var T,k=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,N=[];if(Array.isArray(k)){var D=0;for(N=[],D=0;D<k.length;D+=1)Array.isArray(k[D])?N.push([y(k[D][0]),k[D][1],k[D][2]]):N.push([y(k[D])]);T=N}else T=y(k);return typeof arguments[0]=="string"?T:(arguments[0].text=T,arguments[0])};t.events.push(["preProcessText",E])})(Nt.API),Nt.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(d){n=d}});var a=150;Object.defineProperty(this,"width",{get:function(){return a},set:function(d){a=isNaN(d)||Number.isInteger(d)===!1||d<0?150:d,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=a+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(d){s=isNaN(d)||Number.isInteger(d)===!1||d<0?300:d,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(d){o=d}});var u={};Object.defineProperty(this,"style",{get:function(){return u},set:function(d){u=d}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,a){var s;if((n=n||"2d")!=="2d")return null;for(s in a)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=a[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Nt.API),(function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,a=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(T){f=T}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(T){h=T}});var g=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return g},set:function(T){g=T}});var x=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return x},set:function(T){x=T}});var S=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return S},set:function(T){S=T}});var y=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return y},set:function(T){y=T}});var E=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return E},set:function(T){E=T}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(f){return a.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},t.getTextDimensions=function(f,h){a.call(this);var g=(h=h||{}).fontSize||this.getFontSize(),x=h.font||this.getFont(),S=h.scaleFactor||this.internal.scaleFactor,y=0,E=0,T=0,k=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var N=h.maxWidth;N>0?typeof f=="string"?f=this.splitTextToSize(f,N):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(U,M){return U.concat(k.splitTextToSize(M,N))},[])):f=Array.isArray(f)?f:[f];for(var D=0;D<f.length;D++)y<(T=this.getStringUnitWidth(f[D],{font:x})*g)&&(y=T);return y!==0&&(E=f.length),{w:y/=S,h:Math.max((E*g*this.getLineHeightFactor()-g*(this.getLineHeightFactor()-1))/S,0)}},t.cellAddPage=function(){a.call(this),this.addPage();var f=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var u=t.cell=function(){var f;f=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),a.call(this);var h=this.internal.__cell__.lastCell,g=this.internal.__cell__.padding,x=this.internal.__cell__.margins||e,S=this.internal.__cell__.tableHeaderRow,y=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===f.lineNumber?(f.x=(h.x||0)+(h.width||0),f.y=h.y||0):h.y+h.height+f.height+x.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=x.top,y&&S&&(this.printHeaderRow(f.lineNumber,!0),f.y+=S[0].height)):f.y=h.y+h.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,n===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-g,f.y+g,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+g,{align:"center",baseline:"top",maxWidth:f.width-g-g}):this.text(f.text,f.x+g,f.y+g,{align:"left",baseline:"top",maxWidth:f.width-g-g})),this.internal.__cell__.lastCell=f,this};t.table=function(f,h,g,x,S){if(a.call(this),!g)throw new Error("No data for PDF table.");var y,E,T,k,N=[],D=[],U=[],M={},re={},de=[],oe=[],Q=(S=S||{}).autoSize||!1,q=S.printHeaders!==!1,ue=S.css&&S.css["font-size"]!==void 0?16*S.css["font-size"]:S.fontSize||12,B=S.margins||Object.assign({width:this.getPageWidth()},e),K=typeof S.padding=="number"?S.padding:3,fe=S.headerBackgroundColor||"#c8c8c8",se=S.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=q,this.internal.__cell__.margins=B,this.internal.__cell__.table_font_size=ue,this.internal.__cell__.padding=K,this.internal.__cell__.headerBackgroundColor=fe,this.internal.__cell__.headerTextColor=se,this.setFontSize(ue),x==null)D=N=Object.keys(g[0]),U=N.map(function(){return"left"});else if(Array.isArray(x)&&jn(x[0])==="object")for(N=x.map(function(ze){return ze.name}),D=x.map(function(ze){return ze.prompt||ze.name||""}),U=x.map(function(ze){return ze.align||"left"}),y=0;y<x.length;y+=1)re[x[y].name]=.7499990551181103*x[y].width;else Array.isArray(x)&&typeof x[0]=="string"&&(D=N=x,U=N.map(function(){return"left"}));if(Q||Array.isArray(x)&&typeof x[0]=="string")for(y=0;y<N.length;y+=1){for(M[k=N[y]]=g.map(function(ze){return ze[k]}),this.setFont(void 0,"bold"),de.push(this.getTextDimensions(D[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),E=M[k],this.setFont(void 0,"normal"),T=0;T<E.length;T+=1)de.push(this.getTextDimensions(E[T],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);re[k]=Math.max.apply(null,de)+K+K,de=[]}if(q){var le={};for(y=0;y<N.length;y+=1)le[N[y]]={},le[N[y]].text=D[y],le[N[y]].align=U[y];var J=d.call(this,le,re);oe=N.map(function(ze){return new o(f,h,re[ze],J,le[ze].text,void 0,le[ze].align)}),this.setTableHeaderRow(oe),this.printHeaderRow(1,!1)}var ee=x.reduce(function(ze,G){return ze[G.name]=G.align,ze},{});for(y=0;y<g.length;y+=1){"rowStart"in S&&S.rowStart instanceof Function&&S.rowStart({row:y,data:g[y]},this);var he=d.call(this,g[y],re);for(T=0;T<N.length;T+=1){var _e=g[y][N[T]];"cellStart"in S&&S.cellStart instanceof Function&&S.cellStart({row:y,col:T,data:_e},this),u.call(this,new o(f,h,re[N[T]],he,_e,y+2,ee[N[T]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=h,this};var d=function(f,h){var g=this.internal.__cell__.padding,x=this.internal.__cell__.table_font_size,S=this.internal.scaleFactor;return Object.keys(f).map(function(y){var E=f[y];return this.splitTextToSize(E.hasOwnProperty("text")?E.text:E,h[y]-g-g)},this).map(function(y){return this.getLineHeightFactor()*y.length*x/S+g+g},this).reduce(function(y,E){return Math.max(y,E)},0)};t.setTableHeaderRow=function(f){a.call(this),this.internal.__cell__.tableHeaderRow=f},t.printHeaderRow=function(f,h){if(a.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var g;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var x=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(x[0],x[1],x[2],x[3],void 0,-1)}this.setFont(void 0,"bold");for(var S=[],y=0;y<this.internal.__cell__.tableHeaderRow.length;y+=1){g=this.internal.__cell__.tableHeaderRow[y].clone(),h&&(g.y=this.internal.__cell__.margins.top||0,S.push(g)),g.lineNumber=f;var E=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),u.call(this,g),this.setTextColor(E)}S.length>0&&this.setTableHeaderRow(S),this.setFont(void 0,"normal"),n=!1}})(Nt.API);var sw={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},ow=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],F1=aw(ow),lw=[100,200,300,400,500,600,700,800,900],ik=aw(lw);function l1(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=(function(o){return sw[o=o||"normal"]?o:"normal"})(t.style),a=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(t.weight),s=(function(o){return typeof F1[o=o||"normal"]=="number"?o:"normal"})(t.stretch);return{family:e,style:n,weight:a,stretch:s,src:t.src||[],ref:t.ref||{name:e,style:[s,n,a].join(" ")}}}function Ny(t,e,n,a){var s;for(s=n;s>=0&&s<e.length;s+=a)if(t[e[s]])return t[e[s]];for(s=n;s>=0&&s<e.length;s-=a)if(t[e[s]])return t[e[s]]}var ak={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Cy={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Ry(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function Oy(t){return t.trimLeft()}function sk(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function ok(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Sc,vh,Dy,My,zy,u1=["times"];function By(t,e,n,a,s){var o=4,u=Py;switch(s){case Nt.API.image_compression.FAST:o=1,u=Iy;break;case Nt.API.image_compression.MEDIUM:o=6,u=Uy;break;case Nt.API.image_compression.SLOW:o=9,u=qy}t=(function(f,h,g,x){for(var S,y=f.length/h,E=new Uint8Array(f.length+y),T=[lk,Iy,Py,Uy,qy],k=0;k<y;k+=1){var N=k*h,D=f.subarray(N,N+h);if(x)E.set(x(D,g,S),N+k);else{for(var U=T.length,M=[],re=0;re<U;re+=1)M[re]=T[re](D,g,S);var de=ck(M.concat());E.set(M[de],N+k)}S=D}return E})(t,e,Math.ceil(n*a/8),u);var d=M1(t,{level:o});return Nt.API.__addimage__.arrayBufferToBinaryString(d)}function lk(t){var e=Array.apply([],t);return e.unshift(0),e}function Iy(t,e){var n=t.length,a=[];a[0]=1;for(var s=0;s<n;s+=1){var o=t[s-e]||0;a[s+1]=t[s]-o+256&255}return a}function Py(t,e,n){var a=t.length,s=[];s[0]=2;for(var o=0;o<a;o+=1){var u=n&&n[o]||0;s[o+1]=t[o]-u+256&255}return s}function Uy(t,e,n){var a=t.length,s=[];s[0]=3;for(var o=0;o<a;o+=1){var u=t[o-e]||0,d=n&&n[o]||0;s[o+1]=t[o]+256-(u+d>>>1)&255}return s}function qy(t,e,n){var a=t.length,s=[];s[0]=4;for(var o=0;o<a;o+=1){var u=uk(t[o-e]||0,n&&n[o]||0,n&&n[o-e]||0);s[o+1]=t[o]-u+256&255}return s}function uk(t,e,n){if(t===e&&e===n)return t;var a=Math.abs(e-n),s=Math.abs(t-n),o=Math.abs(t+e-n-n);return a<=s&&a<=o?t:s<=o?e:n}function ck(t){var e=t.map(function(n){return n.reduce(function(a,s){return a+Math.abs(s)},0)});return e.indexOf(Math.min.apply(null,e))}function c1(t,e,n){var a=e*n,s=Math.floor(a/8),o=16-(a-8*s+n),u=(1<<n)-1;return uw(t,s)>>o&u}function Fy(t,e,n,a){var s=n*a,o=Math.floor(s/8),u=16-(s-8*o+a),d=(1<<a)-1,f=(e&d)<<u;(function(h,g,x){if(g+1<h.byteLength)h.setUint16(g,x,!1);else{var S=x>>8&255;h.setUint8(g,S)}})(t,o,uw(t,o)&~(d<<u)&65535|f)}function uw(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function dk(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,a=t[e++]|t[e++]<<8,s=t[e++],o=s>>7,u=1<<1+(7&s);t[e++],t[e++];var d=null,f=null;o&&(d=e,f=u,e+=3*u);var h=!0,g=[],x=0,S=null,y=0,E=null;for(this.width=n,this.height=a;h&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,E=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((B=t[e++])>=0))throw Error("Invalid block size");if(B===0)break;e+=B}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var T=t[e++];x=t[e++]|t[e++]<<8,S=t[e++],1&T||(S=null),y=T>>2&7,e++;break;case 254:for(;;){if(!((B=t[e++])>=0))throw Error("Invalid block size");if(B===0)break;e+=B}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var k=t[e++]|t[e++]<<8,N=t[e++]|t[e++]<<8,D=t[e++]|t[e++]<<8,U=t[e++]|t[e++]<<8,M=t[e++],re=M>>6&1,de=1<<1+(7&M),oe=d,Q=f,q=!1;M>>7&&(q=!0,oe=e,Q=de,e+=3*de);var ue=e;for(e++;;){var B;if(!((B=t[e++])>=0))throw Error("Invalid block size");if(B===0)break;e+=B}g.push({x:k,y:N,width:D,height:U,has_local_palette:q,palette_offset:oe,palette_size:Q,data_offset:ue,data_length:e-ue,transparent_index:S,interlaced:!!re,delay:x,disposal:y});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return g.length},this.loopCount=function(){return E},this.frameInfo=function(K){if(K<0||K>=g.length)throw new Error("Frame index out of range.");return g[K]},this.decodeAndBlitFrameBGRA=function(K,fe){var se=this.frameInfo(K),le=se.width*se.height,J=new Uint8Array(le);Hy(t,se.data_offset,J,le);var ee=se.palette_offset,he=se.transparent_index;he===null&&(he=256);var _e=se.width,ze=n-_e,G=_e,L=4*(se.y*n+se.x),F=4*((se.y+se.height)*n+se.x),X=L,ie=4*ze;se.interlaced===!0&&(ie+=4*n*7);for(var R=8,V=0,pe=J.length;V<pe;++V){var ve=J[V];if(G===0&&(G=_e,(X+=ie)>=F&&(ie=4*ze+4*n*(R-1),X=L+(_e+ze)*(R<<1),R>>=1)),ve===he)X+=4;else{var Ee=t[ee+3*ve],qe=t[ee+3*ve+1],et=t[ee+3*ve+2];fe[X++]=et,fe[X++]=qe,fe[X++]=Ee,fe[X++]=255}--G}},this.decodeAndBlitFrameRGBA=function(K,fe){var se=this.frameInfo(K),le=se.width*se.height,J=new Uint8Array(le);Hy(t,se.data_offset,J,le);var ee=se.palette_offset,he=se.transparent_index;he===null&&(he=256);var _e=se.width,ze=n-_e,G=_e,L=4*(se.y*n+se.x),F=4*((se.y+se.height)*n+se.x),X=L,ie=4*ze;se.interlaced===!0&&(ie+=4*n*7);for(var R=8,V=0,pe=J.length;V<pe;++V){var ve=J[V];if(G===0&&(G=_e,(X+=ie)>=F&&(ie=4*ze+4*n*(R-1),X=L+(_e+ze)*(R<<1),R>>=1)),ve===he)X+=4;else{var Ee=t[ee+3*ve],qe=t[ee+3*ve+1],et=t[ee+3*ve+2];fe[X++]=Ee,fe[X++]=qe,fe[X++]=et,fe[X++]=255}--G}}}function Hy(t,e,n,a){for(var s=t[e++],o=1<<s,u=o+1,d=u+1,f=s+1,h=(1<<f)-1,g=0,x=0,S=0,y=t[e++],E=new Int32Array(4096),T=null;;){for(;g<16&&y!==0;)x|=t[e++]<<g,g+=8,y===1?y=t[e++]:--y;if(g<f)break;var k=x&h;if(x>>=f,g-=f,k!==o){if(k===u)break;for(var N=k<d?k:T,D=0,U=N;U>o;)U=E[U]>>8,++D;var M=U;if(S+D+(N!==k?1:0)>a)return void Un.log("Warning, gif stream longer than expected.");n[S++]=M;var re=S+=D;for(N!==k&&(n[S++]=M),U=N;D--;)U=E[U],n[--re]=255&U,U>>=8;T!==null&&d<4096&&(E[d++]=T<<8|M,d>=h+1&&f<12&&(++f,h=h<<1|1)),T=k}else d=u+1,h=(1<<(f=s+1))-1,T=null}return S!==a&&Un.log("Warning, gif stream shorter than expected."),n}function d1(t){var e,n,a,s,o,u=Math.floor,d=new Array(64),f=new Array(64),h=new Array(64),g=new Array(64),x=new Array(65535),S=new Array(65535),y=new Array(64),E=new Array(64),T=[],k=0,N=7,D=new Array(64),U=new Array(64),M=new Array(64),re=new Array(256),de=new Array(2048),oe=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Q=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],q=[0,1,2,3,4,5,6,7,8,9,10,11],ue=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],B=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],K=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],fe=[0,1,2,3,4,5,6,7,8,9,10,11],se=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],le=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function J(L,F){for(var X=0,ie=0,R=new Array,V=1;V<=16;V++){for(var pe=1;pe<=L[V];pe++)R[F[ie]]=[],R[F[ie]][0]=X,R[F[ie]][1]=V,ie++,X++;X*=2}return R}function ee(L){for(var F=L[0],X=L[1]-1;X>=0;)F&1<<X&&(k|=1<<N),X--,--N<0&&(k==255?(he(255),he(0)):he(k),N=7,k=0)}function he(L){T.push(L)}function _e(L){he(L>>8&255),he(255&L)}function ze(L,F,X,ie,R){for(var V,pe=R[0],ve=R[240],Ee=(function(Le,ce){var be,He,Ve,Qe,at,ut,nt,pt,$e,ot,lt=0;for($e=0;$e<8;++$e){be=Le[lt],He=Le[lt+1],Ve=Le[lt+2],Qe=Le[lt+3],at=Le[lt+4],ut=Le[lt+5],nt=Le[lt+6];var qt=be+(pt=Le[lt+7]),rt=be-pt,it=He+nt,st=He-nt,ct=Ve+ut,yt=Ve-ut,$t=Qe+at,Et=Qe-at,St=qt+$t,Kt=qt-$t,kt=it+ct,dt=it-ct;Le[lt]=St+kt,Le[lt+4]=St-kt;var Ut=.707106781*(dt+Kt);Le[lt+2]=Kt+Ut,Le[lt+6]=Kt-Ut;var hr=.382683433*((St=Et+yt)-(dt=st+rt)),vn=.5411961*St+hr,qn=1.306562965*dt+hr,$n=.707106781*(kt=yt+st),At=rt+$n,Sn=rt-$n;Le[lt+5]=Sn+vn,Le[lt+3]=Sn-vn,Le[lt+1]=At+qn,Le[lt+7]=At-qn,lt+=8}for(lt=0,$e=0;$e<8;++$e){be=Le[lt],He=Le[lt+8],Ve=Le[lt+16],Qe=Le[lt+24],at=Le[lt+32],ut=Le[lt+40],nt=Le[lt+48];var Ar=be+(pt=Le[lt+56]),Fn=be-pt,Wn=He+nt,mn=He-nt,Nn=Ve+ut,An=Ve-ut,bi=Qe+at,Er=Qe-at,En=Ar+bi,Gn=Ar-bi,Qr=Wn+Nn,Ti=Wn-Nn;Le[lt]=En+Qr,Le[lt+32]=En-Qr;var Bi=.707106781*(Ti+Gn);Le[lt+16]=Gn+Bi,Le[lt+48]=Gn-Bi;var to=.382683433*((En=Er+An)-(Ti=mn+Fn)),na=.5411961*En+to,ra=1.306562965*Ti+to,Ns=.707106781*(Qr=An+mn),ia=Fn+Ns,aa=Fn-Ns;Le[lt+40]=aa+na,Le[lt+24]=aa-na,Le[lt+8]=ia+ra,Le[lt+56]=ia-ra,lt++}for($e=0;$e<64;++$e)ot=Le[$e]*ce[$e],y[$e]=ot>0?ot+.5|0:ot-.5|0;return y})(L,F),qe=0;qe<64;++qe)E[oe[qe]]=Ee[qe];var et=E[0]-X;X=E[0],et==0?ee(ie[0]):(ee(ie[S[V=32767+et]]),ee(x[V]));for(var Re=63;Re>0&&E[Re]==0;)Re--;if(Re==0)return ee(pe),X;for(var Ae,P=1;P<=Re;){for(var ye=P;E[P]==0&&P<=Re;)++P;var Ye=P-ye;if(Ye>=16){Ae=Ye>>4;for(var Be=1;Be<=Ae;++Be)ee(ve);Ye&=15}V=32767+E[P],ee(R[(Ye<<4)+S[V]]),ee(x[V]),P++}return Re!=63&&ee(pe),X}function G(L){L=Math.min(Math.max(L,1),100),o!=L&&((function(F){for(var X=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ie=0;ie<64;ie++){var R=u((X[ie]*F+50)/100);R=Math.min(Math.max(R,1),255),d[oe[ie]]=R}for(var V=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],pe=0;pe<64;pe++){var ve=u((V[pe]*F+50)/100);ve=Math.min(Math.max(ve,1),255),f[oe[pe]]=ve}for(var Ee=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],qe=0,et=0;et<8;et++)for(var Re=0;Re<8;Re++)h[qe]=1/(d[oe[qe]]*Ee[et]*Ee[Re]*8),g[qe]=1/(f[oe[qe]]*Ee[et]*Ee[Re]*8),qe++})(L<50?Math.floor(5e3/L):Math.floor(200-2*L)),o=L)}this.encode=function(L,F){F&&G(F),T=new Array,k=0,N=7,_e(65496),_e(65504),_e(16),he(74),he(70),he(73),he(70),he(0),he(1),he(1),he(0),_e(1),_e(1),he(0),he(0),(function(){_e(65499),_e(132),he(0);for(var He=0;He<64;He++)he(d[He]);he(1);for(var Ve=0;Ve<64;Ve++)he(f[Ve])})(),(function(He,Ve){_e(65472),_e(17),he(8),_e(Ve),_e(He),he(3),he(1),he(17),he(0),he(2),he(17),he(1),he(3),he(17),he(1)})(L.width,L.height),(function(){_e(65476),_e(418),he(0);for(var He=0;He<16;He++)he(Q[He+1]);for(var Ve=0;Ve<=11;Ve++)he(q[Ve]);he(16);for(var Qe=0;Qe<16;Qe++)he(ue[Qe+1]);for(var at=0;at<=161;at++)he(B[at]);he(1);for(var ut=0;ut<16;ut++)he(K[ut+1]);for(var nt=0;nt<=11;nt++)he(fe[nt]);he(17);for(var pt=0;pt<16;pt++)he(se[pt+1]);for(var $e=0;$e<=161;$e++)he(le[$e])})(),_e(65498),_e(12),he(3),he(1),he(0),he(2),he(17),he(3),he(17),he(0),he(63),he(0);var X=0,ie=0,R=0;k=0,N=7,this.encode.displayName="_encode_";for(var V,pe,ve,Ee,qe,et,Re,Ae,P,ye=L.data,Ye=L.width,Be=L.height,Le=4*Ye,ce=0;ce<Be;){for(V=0;V<Le;){for(qe=Le*ce+V,Re=-1,Ae=0,P=0;P<64;P++)et=qe+(Ae=P>>3)*Le+(Re=4*(7&P)),ce+Ae>=Be&&(et-=Le*(ce+1+Ae-Be)),V+Re>=Le&&(et-=V+Re-Le+4),pe=ye[et++],ve=ye[et++],Ee=ye[et++],D[P]=(de[pe]+de[ve+256|0]+de[Ee+512|0]>>16)-128,U[P]=(de[pe+768|0]+de[ve+1024|0]+de[Ee+1280|0]>>16)-128,M[P]=(de[pe+1280|0]+de[ve+1536|0]+de[Ee+1792|0]>>16)-128;X=ze(D,h,X,e,a),ie=ze(U,g,ie,n,s),R=ze(M,g,R,n,s),V+=32}ce+=8}if(N>=0){var be=[];be[1]=N+1,be[0]=(1<<N+1)-1,ee(be)}return _e(65497),new Uint8Array(T)},t=t||50,(function(){for(var L=String.fromCharCode,F=0;F<256;F++)re[F]=L(F)})(),e=J(Q,q),n=J(K,fe),a=J(ue,B),s=J(se,le),(function(){for(var L=1,F=2,X=1;X<=15;X++){for(var ie=L;ie<F;ie++)S[32767+ie]=X,x[32767+ie]=[],x[32767+ie][1]=X,x[32767+ie][0]=ie;for(var R=-(F-1);R<=-L;R++)S[32767+R]=X,x[32767+R]=[],x[32767+R][1]=X,x[32767+R][0]=F-1+R;L<<=1,F<<=1}})(),(function(){for(var L=0;L<256;L++)de[L]=19595*L,de[L+256|0]=38470*L,de[L+512|0]=7471*L+32768,de[L+768|0]=-11059*L,de[L+1024|0]=-21709*L,de[L+1280|0]=32768*L+8421375,de[L+1536|0]=-27439*L,de[L+1792|0]=-5329*L})(),G(t)}function ws(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function $y(t){function e(q){if(!q)throw Error("assert :P")}function n(q,ue,B){for(var K=0;4>K;K++)if(q[ue+K]!=B.charCodeAt(K))return!0;return!1}function a(q,ue,B,K,fe){for(var se=0;se<fe;se++)q[ue+se]=B[K+se]}function s(q,ue,B,K){for(var fe=0;fe<K;fe++)q[ue+fe]=B}function o(q){return new Int32Array(q)}function u(q,ue){for(var B=[],K=0;K<q;K++)B.push(new ue);return B}function d(q,ue){var B=[];return(function K(fe,se,le){for(var J=le[se],ee=0;ee<J&&(fe.push(le.length>se+1?[]:new ue),!(le.length<se+1));ee++)K(fe[ee],se+1,le)})(B,0,q),B}var f=function(){var q=this;function ue(p,b){for(var A=1<<b-1>>>0;p&A;)A>>>=1;return A?(p&A-1)+A:p}function B(p,b,A,j,I){e(!(j%A));do p[b+(j-=A)]=I;while(0<j)}function K(p,b,A,j,I){if(e(2328>=I),512>=I)var H=o(512);else if((H=o(I))==null)return 0;return(function($,Y,Z,ne,we,Ce){var te,Se,je=Y,Ue=1<<Z,Ne=o(16),Pe=o(16);for(e(we!=0),e(ne!=null),e($!=null),e(0<Z),Se=0;Se<we;++Se){if(15<ne[Se])return 0;++Ne[ne[Se]]}if(Ne[0]==we)return 0;for(Pe[1]=0,te=1;15>te;++te){if(Ne[te]>1<<te)return 0;Pe[te+1]=Pe[te]+Ne[te]}for(Se=0;Se<we;++Se)te=ne[Se],0<ne[Se]&&(Ce[Pe[te]++]=Se);if(Pe[15]==1)return(ne=new fe).g=0,ne.value=Ce[0],B($,je,1,Ue,ne),Ue;var Ge,tt=-1,Je=Ue-1,xt=0,gt=1,Ft=1,bt=1<<Z;for(Se=0,te=1,we=2;te<=Z;++te,we<<=1){if(gt+=Ft<<=1,0>(Ft-=Ne[te]))return 0;for(;0<Ne[te];--Ne[te])(ne=new fe).g=te,ne.value=Ce[Se++],B($,je+xt,we,bt,ne),xt=ue(xt,te)}for(te=Z+1,we=2;15>=te;++te,we<<=1){if(gt+=Ft<<=1,0>(Ft-=Ne[te]))return 0;for(;0<Ne[te];--Ne[te]){if(ne=new fe,(xt&Je)!=tt){for(je+=bt,Ge=1<<(tt=te)-Z;15>tt&&!(0>=(Ge-=Ne[tt]));)++tt,Ge<<=1;Ue+=bt=1<<(Ge=tt-Z),$[Y+(tt=xt&Je)].g=Ge+Z,$[Y+tt].value=je-Y-tt}ne.g=te-Z,ne.value=Ce[Se++],B($,je+(xt>>Z),we,bt,ne),xt=ue(xt,te)}}return gt!=2*Pe[15]-1?0:Ue})(p,b,A,j,I,H)}function fe(){this.value=this.g=0}function se(){this.value=this.g=0}function le(){this.G=u(5,fe),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=u(Ms,se)}function J(p,b,A,j){e(p!=null),e(b!=null),e(2147483648>j),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=b,p.pa=A,p.Jd=b,p.Yc=A+j,p.Zc=4<=j?A+j-4+1:A,pe(p)}function ee(p,b){for(var A=0;0<b--;)A|=Ee(p,128)<<b;return A}function he(p,b){var A=ee(p,b);return ve(p)?-A:A}function _e(p,b,A,j){var I,H=0;for(e(p!=null),e(b!=null),e(4294967288>j),p.Sb=j,p.Ra=0,p.u=0,p.h=0,4<j&&(j=4),I=0;I<j;++I)H+=b[A+I]<<8*I;p.Ra=H,p.bb=j,p.oa=b,p.pa=A}function ze(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<Ra-8>>>0,++p.bb,p.u-=8;ie(p)&&(p.h=1,p.u=0)}function G(p,b){if(e(0<=b),!p.h&&b<=di){var A=X(p)&wi[b];return p.u+=b,ze(p),A}return p.h=1,p.u=0}function L(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function F(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function X(p){return p.Ra>>>(p.u&Ra-1)>>>0}function ie(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>Ra}function R(p,b){p.u=b,p.h=ie(p)}function V(p){p.u>=Oa&&(e(p.u>=Oa),ze(p))}function pe(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function ve(p){return ee(p,1)}function Ee(p,b){var A=p.Ca;0>p.b&&pe(p);var j=p.b,I=A*b>>>8,H=(p.I>>>j>I)+0;for(H?(A-=I,p.I-=I+1<<j>>>0):A=I+1,j=A,I=0;256<=j;)I+=8,j>>=8;return j=7^I+os[j],p.b-=j,p.Ca=(A<<j)-1,H}function qe(p,b,A){p[b+0]=A>>24&255,p[b+1]=A>>16&255,p[b+2]=A>>8&255,p[b+3]=255&A}function et(p,b){return p[b+0]|p[b+1]<<8}function Re(p,b){return et(p,b)|p[b+2]<<16}function Ae(p,b){return et(p,b)|et(p,b+2)<<16}function P(p,b){var A=1<<b;return e(p!=null),e(0<b),p.X=o(A),p.X==null?0:(p.Mb=32-b,p.Xa=b,1)}function ye(p,b){e(p!=null),e(b!=null),e(p.Xa==b.Xa),a(b.X,0,p.X,0,1<<b.Xa)}function Ye(){this.X=[],this.Xa=this.Mb=0}function Be(p,b,A,j){e(A!=null),e(j!=null);var I=A[0],H=j[0];return I==0&&(I=(p*H+b/2)/b),H==0&&(H=(b*I+p/2)/p),0>=I||0>=H?0:(A[0]=I,j[0]=H,1)}function Le(p,b){return p+(1<<b)-1>>>b}function ce(p,b){return((4278255360&p)+(4278255360&b)>>>0&4278255360)+((16711935&p)+(16711935&b)>>>0&16711935)>>>0}function be(p,b){q[b]=function(A,j,I,H,$,Y,Z){var ne;for(ne=0;ne<$;++ne){var we=q[p](Y[Z+ne-1],I,H+ne);Y[Z+ne]=ce(A[j+ne],we)}}}function He(){this.ud=this.hd=this.jd=0}function Ve(p,b){return((4278124286&(p^b))>>>1)+(p&b)>>>0}function Qe(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function at(p,b){return Qe(p+(p-b+.5>>1))}function ut(p,b,A){return Math.abs(b-A)-Math.abs(p-A)}function nt(p,b,A,j,I,H,$){for(j=H[$-1],A=0;A<I;++A)H[$+A]=j=ce(p[b+A],j)}function pt(p,b,A,j,I){var H;for(H=0;H<A;++H){var $=p[b+H],Y=$>>8&255,Z=16711935&(Z=(Z=16711935&$)+((Y<<16)+Y));j[I+H]=(4278255360&$)+Z>>>0}}function $e(p,b){b.jd=255&p,b.hd=p>>8&255,b.ud=p>>16&255}function ot(p,b,A,j,I,H){var $;for($=0;$<j;++$){var Y=b[A+$],Z=Y>>>8,ne=Y,we=255&(we=(we=Y>>>16)+((p.jd<<24>>24)*(Z<<24>>24)>>>5));ne=255&(ne=(ne+=(p.hd<<24>>24)*(Z<<24>>24)>>>5)+((p.ud<<24>>24)*(we<<24>>24)>>>5)),I[H+$]=(4278255360&Y)+(we<<16)+ne}}function lt(p,b,A,j,I){q[b]=function(H,$,Y,Z,ne,we,Ce,te,Se){for(Z=Ce;Z<te;++Z)for(Ce=0;Ce<Se;++Ce)ne[we++]=I(Y[j(H[$++])])},q[p]=function(H,$,Y,Z,ne,we,Ce){var te=8>>H.b,Se=H.Ea,je=H.K[0],Ue=H.w;if(8>te)for(H=(1<<H.b)-1,Ue=(1<<te)-1;$<Y;++$){var Ne,Pe=0;for(Ne=0;Ne<Se;++Ne)Ne&H||(Pe=j(Z[ne++])),we[Ce++]=I(je[Pe&Ue]),Pe>>=te}else q["VP8LMapColor"+A](Z,ne,je,Ue,we,Ce,$,Y,Se)}}function qt(p,b,A,j,I){for(A=b+A;b<A;){var H=p[b++];j[I++]=H>>16&255,j[I++]=H>>8&255,j[I++]=255&H}}function rt(p,b,A,j,I){for(A=b+A;b<A;){var H=p[b++];j[I++]=H>>16&255,j[I++]=H>>8&255,j[I++]=255&H,j[I++]=H>>24&255}}function it(p,b,A,j,I){for(A=b+A;b<A;){var H=($=p[b++])>>16&240|$>>12&15,$=240&$|$>>28&15;j[I++]=H,j[I++]=$}}function st(p,b,A,j,I){for(A=b+A;b<A;){var H=($=p[b++])>>16&248|$>>13&7,$=$>>5&224|$>>3&31;j[I++]=H,j[I++]=$}}function ct(p,b,A,j,I){for(A=b+A;b<A;){var H=p[b++];j[I++]=255&H,j[I++]=H>>8&255,j[I++]=H>>16&255}}function yt(p,b,A,j,I,H){if(H==0)for(A=b+A;b<A;)qe(j,((H=p[b++])[0]>>24|H[1]>>8&65280|H[2]<<8&16711680|H[3]<<24)>>>0),I+=32;else a(j,I,p,b,A)}function $t(p,b){q[b][0]=q[p+"0"],q[b][1]=q[p+"1"],q[b][2]=q[p+"2"],q[b][3]=q[p+"3"],q[b][4]=q[p+"4"],q[b][5]=q[p+"5"],q[b][6]=q[p+"6"],q[b][7]=q[p+"7"],q[b][8]=q[p+"8"],q[b][9]=q[p+"9"],q[b][10]=q[p+"10"],q[b][11]=q[p+"11"],q[b][12]=q[p+"12"],q[b][13]=q[p+"13"],q[b][14]=q[p+"0"],q[b][15]=q[p+"0"]}function Et(p){return p==eu||p==Uu||p==el||p==qu}function St(){this.eb=[],this.size=this.A=this.fb=0}function Kt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function kt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new St,this.f.kb=new Kt,this.sd=null}function dt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ut(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function hr(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function vn(p,b){var A=p.T,j=b.ba.f.RGBA,I=j.eb,H=j.fb+p.ka*j.A,$=Wr[b.ba.S],Y=p.y,Z=p.O,ne=p.f,we=p.N,Ce=p.ea,te=p.W,Se=b.cc,je=b.dc,Ue=b.Mc,Ne=b.Nc,Pe=p.ka,Ge=p.ka+p.T,tt=p.U,Je=tt+1>>1;for(Pe==0?$(Y,Z,null,null,ne,we,Ce,te,ne,we,Ce,te,I,H,null,null,tt):($(b.ec,b.fc,Y,Z,Se,je,Ue,Ne,ne,we,Ce,te,I,H-j.A,I,H,tt),++A);Pe+2<Ge;Pe+=2)Se=ne,je=we,Ue=Ce,Ne=te,we+=p.Rc,te+=p.Rc,H+=2*j.A,$(Y,(Z+=2*p.fa)-p.fa,Y,Z,Se,je,Ue,Ne,ne,we,Ce,te,I,H-j.A,I,H,tt);return Z+=p.fa,p.j+Ge<p.o?(a(b.ec,b.fc,Y,Z,tt),a(b.cc,b.dc,ne,we,Je),a(b.Mc,b.Nc,Ce,te,Je),A--):1&Ge||$(Y,Z,null,null,ne,we,Ce,te,ne,we,Ce,te,I,H+j.A,null,null,tt),A}function qn(p,b,A){var j=p.F,I=[p.J];if(j!=null){var H=p.U,$=b.ba.S,Y=$==Ql||$==el;b=b.ba.f.RGBA;var Z=[0],ne=p.ka;Z[0]=p.T,p.Kb&&(ne==0?--Z[0]:(--ne,I[0]-=p.width),p.j+p.ka+p.T==p.o&&(Z[0]=p.o-p.j-ne));var we=b.eb;ne=b.fb+ne*b.A,p=Kl(j,I[0],p.width,H,Z,we,ne+(Y?0:3),b.A),e(A==Z),p&&Et($)&&ho(we,ne,Y,H,Z,b.A)}return 0}function $n(p){var b=p.ma,A=b.ba.S,j=11>A,I=A==ni||A==Fi||A==Ql||A==Qo||A==12||Et(A);if(b.memory=null,b.Ib=null,b.Jb=null,b.Nd=null,!ss(b.Oa,p,I?11:12))return 0;if(I&&Et(A)&&Wl(),p.da)alert("todo:use_scaling");else{if(j){if(b.Ib=hr,p.Kb){if(A=p.U+1>>1,b.memory=o(p.U+2*A),b.memory==null)return 0;b.ec=b.memory,b.fc=0,b.cc=b.ec,b.dc=b.fc+p.U,b.Mc=b.cc,b.Nc=b.dc+A,b.Ib=vn,Wl()}}else alert("todo:EmitYUV");I&&(b.Jb=qn,j&&ca())}if(j&&!Fs){for(p=0;256>p;++p)Gr[p]=89858*(p-128)+rl>>Vi,d0[p]=-22014*(p-128)+rl,pf[p]=-45773*(p-128),Gu[p]=113618*(p-128)+rl>>Vi;for(p=yo;p<qs;++p)b=76283*(p-16)+rl>>Vi,f0[p-yo]=ji(b,255),h0[p-yo]=ji(b+8>>4,15);Fs=1}return 1}function At(p){var b=p.ma,A=p.U,j=p.T;return e(!(1&p.ka)),0>=A||0>=j?0:(A=b.Ib(p,b),b.Jb!=null&&b.Jb(p,b,A),b.Dc+=A,1)}function Sn(p){p.ma.memory=null}function Ar(p,b,A,j){return G(p,8)!=47?0:(b[0]=G(p,14)+1,A[0]=G(p,14)+1,j[0]=G(p,1),G(p,3)!=0?0:!p.h)}function Fn(p,b){if(4>p)return p+1;var A=p-2>>1;return(2+(1&p)<<A)+G(b,A)+1}function Wn(p,b){return 120<b?b-120:1<=(A=((A=$i[b-1])>>4)*p+(8-(15&A)))?A:1;var A}function mn(p,b,A){var j=X(A),I=p[b+=255&j].g-8;return 0<I&&(R(A,A.u+8),j=X(A),b+=p[b].value,b+=j&(1<<I)-1),R(A,A.u+p[b].g),p[b].value}function Nn(p,b,A){return A.g+=p.g,A.value+=p.value<<b>>>0,e(8>=A.g),p.g}function An(p,b,A){var j=p.xc;return e((b=j==0?0:p.vc[p.md*(A>>j)+(b>>j)])<p.Wb),p.Ya[b]}function bi(p,b,A,j){var I=p.ab,H=p.c*b,$=p.C;b=$+b;var Y=A,Z=j;for(j=p.Ta,A=p.Ua;0<I--;){var ne=p.gc[I],we=$,Ce=b,te=Y,Se=Z,je=(Z=j,Y=A,ne.Ea);switch(e(we<Ce),e(Ce<=ne.nc),ne.hc){case 2:or(te,Se,(Ce-we)*je,Z,Y);break;case 0:var Ue=we,Ne=Ce,Pe=Z,Ge=Y,tt=(bt=ne).Ea;Ue==0&&(Ko(te,Se,null,null,1,Pe,Ge),nt(te,Se+1,0,0,tt-1,Pe,Ge+1),Se+=tt,Ge+=tt,++Ue);for(var Je=1<<bt.b,xt=Je-1,gt=Le(tt,bt.b),Ft=bt.K,bt=bt.w+(Ue>>bt.b)*gt;Ue<Ne;){var Qt=Ft,In=bt,Gt=1;for(Xo(te,Se,Pe,Ge-tt,1,Pe,Ge);Gt<tt;){var mt=(Gt&~xt)+Je;mt>tt&&(mt=tt),(0,ls[Qt[In++]>>8&15])(te,Se+ +Gt,Pe,Ge+Gt-tt,mt-Gt,Pe,Ge+Gt),Gt=mt}Se+=tt,Ge+=tt,++Ue&xt||(bt+=gt)}Ce!=ne.nc&&a(Z,Y-je,Z,Y+(Ce-we-1)*je,je);break;case 1:for(je=te,Ne=Se,tt=(te=ne.Ea)-(Ge=te&~(Pe=(Se=1<<ne.b)-1)),Ue=Le(te,ne.b),Je=ne.K,ne=ne.w+(we>>ne.b)*Ue;we<Ce;){for(xt=Je,gt=ne,Ft=new He,bt=Ne+Ge,Qt=Ne+te;Ne<bt;)$e(xt[gt++],Ft),Jo(Ft,je,Ne,Se,Z,Y),Ne+=Se,Y+=Se;Ne<Qt&&($e(xt[gt++],Ft),Jo(Ft,je,Ne,tt,Z,Y),Ne+=tt,Y+=tt),++we&Pe||(ne+=Ue)}break;case 3:if(te==Z&&Se==Y&&0<ne.b){for(Ne=Z,te=je=Y+(Ce-we)*je-(Ge=(Ce-we)*Le(ne.Ea,ne.b)),Se=Z,Pe=Y,Ue=[],Ge=(tt=Ge)-1;0<=Ge;--Ge)Ue[Ge]=Se[Pe+Ge];for(Ge=tt-1;0<=Ge;--Ge)Ne[te+Ge]=Ue[Ge];Mu(ne,we,Ce,Z,je,Z,Y)}else Mu(ne,we,Ce,te,Se,Z,Y)}Y=j,Z=A}Z!=A&&a(j,A,Y,Z,H)}function Er(p,b){var A=p.V,j=p.Ba+p.c*p.C,I=b-p.C;if(e(b<=p.l.o),e(16>=I),0<I){var H=p.l,$=p.Ta,Y=p.Ua,Z=H.width;if(bi(p,I,A,j),I=Y=[Y],e((A=p.C)<(j=b)),e(H.v<H.va),j>H.o&&(j=H.o),A<H.j){var ne=H.j-A;A=H.j,I[0]+=ne*Z}if(A>=j?A=0:(I[0]+=4*H.v,H.ka=A-H.j,H.U=H.va-H.v,H.T=j-A,A=1),A){if(Y=Y[0],11>(A=p.ca).S){var we=A.f.RGBA,Ce=(j=A.S,I=H.U,H=H.T,ne=we.eb,we.A),te=H;for(we=we.fb+p.Ma*we.A;0<te--;){var Se=$,je=Y,Ue=I,Ne=ne,Pe=we;switch(j){case Iu:Zo(Se,je,Ue,Ne,Pe);break;case ni:us(Se,je,Ue,Ne,Pe);break;case eu:us(Se,je,Ue,Ne,Pe),ho(Ne,Pe,0,Ue,1,0);break;case Pu:co(Se,je,Ue,Ne,Pe);break;case Fi:yt(Se,je,Ue,Ne,Pe,1);break;case Uu:yt(Se,je,Ue,Ne,Pe,1),ho(Ne,Pe,0,Ue,1,0);break;case Ql:yt(Se,je,Ue,Ne,Pe,0);break;case el:yt(Se,je,Ue,Ne,Pe,0),ho(Ne,Pe,1,Ue,1,0);break;case Qo:cs(Se,je,Ue,Ne,Pe);break;case qu:cs(Se,je,Ue,Ne,Pe),qi(Ne,Pe,Ue,1,0);break;case zs:za(Se,je,Ue,Ne,Pe);break;default:e(0)}Y+=Z,we+=Ce}p.Ma+=H}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=A.height)}}p.C=b,e(p.C<=p.i)}function En(p){var b;if(0<p.ua)return 0;for(b=0;b<p.Wb;++b){var A=p.Ya[b].G,j=p.Ya[b].H;if(0<A[1][j[1]+0].g||0<A[2][j[2]+0].g||0<A[3][j[3]+0].g)return 0}return 1}function Gn(p,b,A,j,I,H){if(p.Z!=0){var $=p.qd,Y=p.rd;for(e(hs[p.Z]!=null);b<A;++b)hs[p.Z]($,Y,j,I,j,I,H),$=j,Y=I,I+=H;p.qd=$,p.rd=Y}}function Qr(p,b){var A=p.l.ma,j=A.Z==0||A.Z==1?p.l.j:p.C;if(j=p.C<j?j:p.C,e(b<=p.l.o),b>j){var I=p.l.width,H=A.ca,$=A.tb+I*j,Y=p.V,Z=p.Ba+p.c*j,ne=p.gc;e(p.ab==1),e(ne[0].hc==3),Ma(ne[0],j,b,Y,Z,H,$),Gn(A,j,b,H,$,I)}p.C=p.Ma=b}function Ti(p,b,A,j,I,H,$){var Y=p.$/j,Z=p.$%j,ne=p.m,we=p.s,Ce=A+p.$,te=Ce;I=A+j*I;var Se=A+j*H,je=280+we.ua,Ue=p.Pb?Y:16777216,Ne=0<we.ua?we.Wa:null,Pe=we.wc,Ge=Ce<Se?An(we,Z,Y):null;e(p.C<H),e(Se<=I);var tt=!1;e:for(;;){for(;tt||Ce<Se;){var Je=0;if(Y>=Ue){var xt=Ce-A;e((Ue=p).Pb),Ue.wd=Ue.m,Ue.xd=xt,0<Ue.s.ua&&ye(Ue.s.Wa,Ue.s.vb),Ue=Y+Bs}if(Z&Pe||(Ge=An(we,Z,Y)),e(Ge!=null),Ge.Qb&&(b[Ce]=Ge.qb,tt=!0),!tt)if(V(ne),Ge.jc){Je=ne,xt=b;var gt=Ce,Ft=Ge.pd[X(Je)&Ms-1];e(Ge.jc),256>Ft.g?(R(Je,Je.u+Ft.g),xt[gt]=Ft.value,Je=0):(R(Je,Je.u+Ft.g-256),e(256<=Ft.value),Je=Ft.value),Je==0&&(tt=!0)}else Je=mn(Ge.G[0],Ge.H[0],ne);if(ne.h)break;if(tt||256>Je){if(!tt)if(Ge.nd)b[Ce]=(Ge.qb|Je<<8)>>>0;else{if(V(ne),tt=mn(Ge.G[1],Ge.H[1],ne),V(ne),xt=mn(Ge.G[2],Ge.H[2],ne),gt=mn(Ge.G[3],Ge.H[3],ne),ne.h)break;b[Ce]=(gt<<24|tt<<16|Je<<8|xt)>>>0}if(tt=!1,++Ce,++Z>=j&&(Z=0,++Y,$!=null&&Y<=H&&!(Y%16)&&$(p,Y),Ne!=null))for(;te<Ce;)Je=b[te++],Ne.X[(506832829*Je&4294967295)>>>Ne.Mb]=Je}else if(280>Je){if(Je=Fn(Je-256,ne),xt=mn(Ge.G[4],Ge.H[4],ne),V(ne),xt=Wn(j,xt=Fn(xt,ne)),ne.h)break;if(Ce-A<xt||I-Ce<Je)break e;for(gt=0;gt<Je;++gt)b[Ce+gt]=b[Ce+gt-xt];for(Ce+=Je,Z+=Je;Z>=j;)Z-=j,++Y,$!=null&&Y<=H&&!(Y%16)&&$(p,Y);if(e(Ce<=I),Z&Pe&&(Ge=An(we,Z,Y)),Ne!=null)for(;te<Ce;)Je=b[te++],Ne.X[(506832829*Je&4294967295)>>>Ne.Mb]=Je}else{if(!(Je<je))break e;for(tt=Je-280,e(Ne!=null);te<Ce;)Je=b[te++],Ne.X[(506832829*Je&4294967295)>>>Ne.Mb]=Je;Je=Ce,e(!(tt>>>(xt=Ne).Xa)),b[Je]=xt.X[tt],tt=!0}tt||e(ne.h==ie(ne))}if(p.Pb&&ne.h&&Ce<I)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&ye(p.s.vb,p.s.Wa);else{if(ne.h)break e;$?.(p,Y>H?H:Y),p.a=0,p.$=Ce-A}return 1}return p.a=3,0}function Bi(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var b=p.Wa;b!=null&&(b.X=null),p.vb=null,e(p!=null)}function to(){var p=new Bt;return p==null?null:(p.a=0,p.xb=Xc,$t("Predictor","VP8LPredictors"),$t("Predictor","VP8LPredictors_C"),$t("PredictorAdd","VP8LPredictorsAdd"),$t("PredictorAdd","VP8LPredictorsAdd_C"),or=pt,Jo=ot,Zo=qt,us=rt,cs=it,za=st,co=ct,q.VP8LMapColor32b=Da,q.VP8LMapColor8b=Fr,p)}function na(p,b,A,j,I){var H=1,$=[p],Y=[b],Z=j.m,ne=j.s,we=null,Ce=0;e:for(;;){if(A)for(;H&&G(Z,1);){var te=$,Se=Y,je=j,Ue=1,Ne=je.m,Pe=je.gc[je.ab],Ge=G(Ne,2);if(je.Oc&1<<Ge)H=0;else{switch(je.Oc|=1<<Ge,Pe.hc=Ge,Pe.Ea=te[0],Pe.nc=Se[0],Pe.K=[null],++je.ab,e(4>=je.ab),Ge){case 0:case 1:Pe.b=G(Ne,3)+2,Ue=na(Le(Pe.Ea,Pe.b),Le(Pe.nc,Pe.b),0,je,Pe.K),Pe.K=Pe.K[0];break;case 3:var tt,Je=G(Ne,8)+1,xt=16<Je?0:4<Je?1:2<Je?2:3;if(te[0]=Le(Pe.Ea,xt),Pe.b=xt,tt=Ue=na(Je,1,0,je,Pe.K)){var gt,Ft=Je,bt=Pe,Qt=1<<(8>>bt.b),In=o(Qt);if(In==null)tt=0;else{var Gt=bt.K[0],mt=bt.w;for(In[0]=bt.K[0][0],gt=1;gt<1*Ft;++gt)In[gt]=ce(Gt[mt+gt],In[gt-1]);for(;gt<4*Qt;++gt)In[gt]=0;bt.K[0]=null,bt.K[0]=In,tt=1}}Ue=tt;break;case 2:break;default:e(0)}H=Ue}}if($=$[0],Y=Y[0],H&&G(Z,1)&&!(H=1<=(Ce=G(Z,4))&&11>=Ce)){j.a=3;break e}var ft;if(ft=H)t:{var Vn,Mt,Xt,wn=j,Lr=$,Yr=Y,On=Ce,mr=A,ri=wn.m,yr=wn.s,Zt=[null],cn=1,Kn=0,gn=Wi[On];n:for(;;){if(mr&&G(ri,1)){var jr=G(ri,3)+2,Xn=Le(Lr,jr),dn=Le(Yr,jr),cr=Xn*dn;if(!na(Xn,dn,0,wn,Zt))break n;for(Zt=Zt[0],yr.xc=jr,Vn=0;Vn<cr;++Vn){var xn=Zt[Vn]>>8&65535;Zt[Vn]=xn,xn>=cn&&(cn=xn+1)}}if(ri.h)break n;for(Mt=0;5>Mt;++Mt){var br=go[Mt];!Mt&&0<On&&(br+=1<<On),Kn<br&&(Kn=br)}var vr=u(cn*gn,fe),kn=cn,ln=u(kn,le);if(ln==null)var ii=null;else e(65536>=kn),ii=ln;var er=o(Kn);if(ii==null||er==null||vr==null){wn.a=1;break n}var Ct=vr;for(Vn=Xt=0;Vn<cn;++Vn){var Rt=ii[Vn],fn=Rt.G,xi=Rt.H,Ki=0,hi=1,wr=0;for(Mt=0;5>Mt;++Mt){br=go[Mt],fn[Mt]=Ct,xi[Mt]=Xt,!Mt&&0<On&&(br+=1<<On);i:{var Hs,$s=br,Vu=wn,Dn=er,Zc=Ct,Qc=Xt,Ku=0,ps=Vu.m,p0=G(ps,1);if(s(Dn,0,0,$s),p0){var ed=G(ps,1)+1,td=G(ps,1),Xu=G(ps,td==0?1:8);Dn[Xu]=1,ed==2&&(Dn[Xu=G(ps,8)]=1);var Mr=1}else{var tr=o(19),iu=G(ps,4)+4;if(19<iu){Vu.a=3;var Ws=0;break i}for(Hs=0;Hs<iu;++Hs)tr[tu[Hs]]=G(ps,3);var al=void 0,bo=void 0,Pa=Vu,Ju=tr,sl=$s,Zu=Dn,Qu=0,gs=Pa.m,nd=8,rd=u(128,fe);r:for(;K(rd,0,7,Ju,19);){if(G(gs,1)){var gf=2+2*G(gs,3);if((al=2+G(gs,gf))>sl)break r}else al=sl;for(bo=0;bo<sl&&al--;){V(gs);var id=rd[0+(127&X(gs))];R(gs,gs.u+id.g);var Gs=id.value;if(16>Gs)Zu[bo++]=Gs,Gs!=0&&(nd=Gs);else{var mf=Gs==16,yf=Gs-16,bf=tl[yf],ad=G(gs,Hi[yf])+bf;if(bo+ad>sl)break r;for(var vf=mf?nd:0;0<ad--;)Zu[bo++]=vf}}Qu=1;break r}Qu||(Pa.a=3),Mr=Qu}(Mr=Mr&&!ps.h)&&(Ku=K(Zc,Qc,8,Dn,$s)),Mr&&Ku!=0?Ws=Ku:(Vu.a=3,Ws=0)}if(Ws==0)break n;if(hi&&Fu[Mt]==1&&(hi=Ct[Xt].g==0),Ki+=Ct[Xt].g,Xt+=Ws,3>=Mt){var vo,ec=er[0];for(vo=1;vo<br;++vo)er[vo]>ec&&(ec=er[vo]);wr+=ec}}if(Rt.nd=hi,Rt.Qb=0,hi&&(Rt.qb=(fn[3][xi[3]+0].value<<24|fn[1][xi[1]+0].value<<16|fn[2][xi[2]+0].value)>>>0,Ki==0&&256>fn[0][xi[0]+0].value&&(Rt.Qb=1,Rt.qb+=fn[0][xi[0]+0].value<<8)),Rt.jc=!Rt.Qb&&6>wr,Rt.jc){var au,Ua=Rt;for(au=0;au<Ms;++au){var ms=au,ys=Ua.pd[ms],tc=Ua.G[0][Ua.H[0]+ms];256<=tc.value?(ys.g=tc.g+256,ys.value=tc.value):(ys.g=0,ys.value=0,ms>>=Nn(tc,8,ys),ms>>=Nn(Ua.G[1][Ua.H[1]+ms],16,ys),ms>>=Nn(Ua.G[2][Ua.H[2]+ms],0,ys),Nn(Ua.G[3][Ua.H[3]+ms],24,ys))}}}yr.vc=Zt,yr.Wb=cn,yr.Ya=ii,yr.yc=vr,ft=1;break t}ft=0}if(!(H=ft)){j.a=3;break e}if(0<Ce){if(ne.ua=1<<Ce,!P(ne.Wa,Ce)){j.a=1,H=0;break e}}else ne.ua=0;var nc=j,wo=$,wf=Y,ol=nc.s,ll=ol.xc;if(nc.c=wo,nc.i=wf,ol.md=Le(wo,ll),ol.wc=ll==0?-1:(1<<ll)-1,A){j.xb=Is;break e}if((we=o($*Y))==null){j.a=1,H=0;break e}H=(H=Ti(j,we,0,$,Y,Y,null))&&!Z.h;break e}return H?(I!=null?I[0]=we:(e(we==null),e(A)),j.$=0,A||Bi(ne)):Bi(ne),H}function ra(p,b){var A=p.c*p.i,j=A+b+16*b;return e(p.c<=b),p.V=o(j),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+A+b,1)}function Ns(p,b){var A=p.C,j=b-A,I=p.V,H=p.Ba+p.c*A;for(e(b<=p.l.o);0<j;){var $=16<j?16:j,Y=p.l.ma,Z=p.l.width,ne=Z*$,we=Y.ca,Ce=Y.tb+Z*A,te=p.Ta,Se=p.Ua;bi(p,$,I,H),Di(te,Se,we,Ce,ne),Gn(Y,A,A+$,we,Ce,Z),j-=$,I+=$*p.c,A+=$}e(A==b),p.C=p.Ma=b}function ia(){this.ub=this.yd=this.td=this.Rb=0}function aa(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function no(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function ka(){this.Yb=(function(){var p=[];return(function b(A,j,I){for(var H=I[j],$=0;$<H&&(A.push(I.length>j+1?[]:0),!(I.length<j+1));$++)b(A[$],j+1,I)})(p,0,[3,11]),p})()}function ar(){this.jb=o(3),this.Wc=d([4,8],ka),this.Xc=d([4,17],ka)}function Cl(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Li(){this.ld=this.La=this.dd=this.tc=0}function sa(){this.Na=this.la=0}function Ya(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Rl(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ol(){this.uc=this.M=this.Nb=0,this.wa=Array(new Li),this.Y=0,this.ya=Array(new Rl),this.aa=0,this.l=new Va}function Dl(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Eu(){this.cb=this.a=0,this.sc="",this.m=new L,this.Od=new ia,this.Kc=new aa,this.ed=new Cl,this.Qa=new no,this.Ic=this.$c=this.Aa=0,this.D=new Ol,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=u(8,L),this.ia=0,this.pb=u(4,Ya),this.Pa=new ar,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Dl),this.Hd=0,this.rb=Array(new sa),this.sb=0,this.wa=Array(new Li),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Rl),this.L=this.aa=0,this.gd=d([4,2],Li),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ji(p,b){return 0>p?0:p>b?b:p}function Va(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function oa(){var p=new Eu;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,Mi||(Mi=Cs)),p}function hn(p,b,A){return p.a==0&&(p.a=b,p.sc=A,p.cb=0),0}function Ml(p,b,A){return 3<=A&&p[b+0]==157&&p[b+1]==1&&p[b+2]==42}function Ta(p,b){if(p==null)return 0;if(p.a=0,p.sc="OK",b==null)return hn(p,2,"null VP8Io passed to VP8GetHeaders()");var A=b.data,j=b.w,I=b.ha;if(4>I)return hn(p,7,"Truncated header.");var H=A[j+0]|A[j+1]<<8|A[j+2]<<16,$=p.Od;if($.Rb=!(1&H),$.td=H>>1&7,$.yd=H>>4&1,$.ub=H>>5,3<$.td)return hn(p,3,"Incorrect keyframe parameters.");if(!$.yd)return hn(p,4,"Frame not displayable.");j+=3,I-=3;var Y=p.Kc;if($.Rb){if(7>I)return hn(p,7,"cannot parse picture header");if(!Ml(A,j,I))return hn(p,3,"Bad code word");Y.c=16383&(A[j+4]<<8|A[j+3]),Y.Td=A[j+4]>>6,Y.i=16383&(A[j+6]<<8|A[j+5]),Y.Ud=A[j+6]>>6,j+=7,I-=7,p.za=Y.c+15>>4,p.Ub=Y.i+15>>4,b.width=Y.c,b.height=Y.i,b.Da=0,b.j=0,b.v=0,b.va=b.width,b.o=b.height,b.da=0,b.ib=b.width,b.hb=b.height,b.U=b.width,b.T=b.height,s((H=p.Pa).jb,0,255,H.jb.length),e((H=p.Qa)!=null),H.Cb=0,H.Bb=0,H.Fb=1,s(H.Zb,0,0,H.Zb.length),s(H.Lb,0,0,H.Lb)}if($.ub>I)return hn(p,7,"bad partition length");J(H=p.m,A,j,$.ub),j+=$.ub,I-=$.ub,$.Rb&&(Y.Ld=ve(H),Y.Kd=ve(H)),Y=p.Qa;var Z,ne=p.Pa;if(e(H!=null),e(Y!=null),Y.Cb=ve(H),Y.Cb){if(Y.Bb=ve(H),ve(H)){for(Y.Fb=ve(H),Z=0;4>Z;++Z)Y.Zb[Z]=ve(H)?he(H,7):0;for(Z=0;4>Z;++Z)Y.Lb[Z]=ve(H)?he(H,6):0}if(Y.Bb)for(Z=0;3>Z;++Z)ne.jb[Z]=ve(H)?ee(H,8):255}else Y.Bb=0;if(H.Ka)return hn(p,3,"cannot parse segment header");if((Y=p.ed).zd=ve(H),Y.Tb=ee(H,6),Y.wb=ee(H,3),Y.Pc=ve(H),Y.Pc&&ve(H)){for(ne=0;4>ne;++ne)ve(H)&&(Y.vd[ne]=he(H,6));for(ne=0;4>ne;++ne)ve(H)&&(Y.od[ne]=he(H,6))}if(p.L=Y.Tb==0?0:Y.zd?1:2,H.Ka)return hn(p,3,"cannot parse filter header");var we=I;if(I=Z=j,j=Z+we,Y=we,p.Xb=(1<<ee(p.m,2))-1,we<3*(ne=p.Xb))A=7;else{for(Z+=3*ne,Y-=3*ne,we=0;we<ne;++we){var Ce=A[I+0]|A[I+1]<<8|A[I+2]<<16;Ce>Y&&(Ce=Y),J(p.Jc[+we],A,Z,Ce),Z+=Ce,Y-=Ce,I+=3}J(p.Jc[+ne],A,Z,Y),A=Z<j?0:5}if(A!=0)return hn(p,A,"cannot parse partitions");for(A=ee(Z=p.m,7),I=ve(Z)?he(Z,4):0,j=ve(Z)?he(Z,4):0,Y=ve(Z)?he(Z,4):0,ne=ve(Z)?he(Z,4):0,Z=ve(Z)?he(Z,4):0,we=p.Qa,Ce=0;4>Ce;++Ce){if(we.Cb){var te=we.Zb[Ce];we.Fb||(te+=A)}else{if(0<Ce){p.pb[Ce]=p.pb[0];continue}te=A}var Se=p.pb[Ce];Se.Sc[0]=Gi[ji(te+I,127)],Se.Sc[1]=Yi[ji(te+0,127)],Se.Eb[0]=2*Gi[ji(te+j,127)],Se.Eb[1]=101581*Yi[ji(te+Y,127)]>>16,8>Se.Eb[1]&&(Se.Eb[1]=8),Se.Qc[0]=Gi[ji(te+ne,117)],Se.Qc[1]=Yi[ji(te+Z,127)],Se.lc=te+Z}if(!$.Rb)return hn(p,4,"Not a key frame.");for(ve(H),$=p.Pa,A=0;4>A;++A){for(I=0;8>I;++I)for(j=0;3>j;++j)for(Y=0;11>Y;++Y)ne=Ee(H,Bn[A][I][j][Y])?ee(H,8):hf[A][I][j][Y],$.Wc[A][I].Yb[j][Y]=ne;for(I=0;17>I;++I)$.Xc[A][I]=$.Wc[A][en[I]]}return p.kc=ve(H),p.kc&&(p.Bd=ee(H,8)),p.cb=1}function Cs(p,b,A,j,I,H,$){var Y=b[I].Yb[A];for(A=0;16>I;++I){if(!Ee(p,Y[A+0]))return I;for(;!Ee(p,Y[A+1]);)if(Y=b[++I].Yb[0],A=0,I==16)return 16;var Z=b[I+1].Yb;if(Ee(p,Y[A+2])){var ne=p,we=0;if(Ee(ne,(te=Y)[(Ce=A)+3]))if(Ee(ne,te[Ce+6])){for(Y=0,Ce=2*(we=Ee(ne,te[Ce+8]))+(te=Ee(ne,te[Ce+9+we])),we=0,te=ff[Ce];te[Y];++Y)we+=we+Ee(ne,te[Y]);we+=3+(8<<Ce)}else Ee(ne,te[Ce+7])?(we=7+2*Ee(ne,165),we+=Ee(ne,145)):we=5+Ee(ne,159);else we=Ee(ne,te[Ce+4])?3+Ee(ne,te[Ce+5]):2;Y=Z[2]}else we=1,Y=Z[1];Z=$+Kc[I],0>(ne=p).b&&pe(ne);var Ce,te=ne.b,Se=(Ce=ne.Ca>>1)-(ne.I>>te)>>31;--ne.b,ne.Ca+=Se,ne.Ca|=1,ne.I-=(Ce+1&Se)<<te,H[Z]=((we^Se)-Se)*j[(0<I)+0]}return 16}function zl(p){var b=p.rb[p.sb-1];b.la=0,b.Na=0,s(p.zc,0,0,p.zc.length),p.ja=0}function li(p,b,A,j,I){I=p[b+A+32*j]+(I>>3),p[b+A+32*j]=-256&I?0>I?0:255:I}function kr(p,b,A,j,I,H){li(p,b,0,A,j+I),li(p,b,1,A,j+H),li(p,b,2,A,j-H),li(p,b,3,A,j-I)}function pr(p){return(20091*p>>16)+p}function Fo(p,b,A,j){var I,H=0,$=o(16);for(I=0;4>I;++I){var Y=p[b+0]+p[b+8],Z=p[b+0]-p[b+8],ne=(35468*p[b+4]>>16)-pr(p[b+12]),we=pr(p[b+4])+(35468*p[b+12]>>16);$[H+0]=Y+we,$[H+1]=Z+ne,$[H+2]=Z-ne,$[H+3]=Y-we,H+=4,b++}for(I=H=0;4>I;++I)Y=(p=$[H+0]+4)+$[H+8],Z=p-$[H+8],ne=(35468*$[H+4]>>16)-pr($[H+12]),li(A,j,0,0,Y+(we=pr($[H+4])+(35468*$[H+12]>>16))),li(A,j,1,0,Z+ne),li(A,j,2,0,Z-ne),li(A,j,3,0,Y-we),H++,j+=32}function ku(p,b,A,j){var I=p[b+0]+4,H=35468*p[b+4]>>16,$=pr(p[b+4]),Y=35468*p[b+1]>>16;kr(A,j,0,I+$,p=pr(p[b+1]),Y),kr(A,j,1,I+H,p,Y),kr(A,j,2,I-H,p,Y),kr(A,j,3,I-$,p,Y)}function Bl(p,b,A,j,I){Fo(p,b,A,j),I&&Fo(p,b+16,A,j+4)}function ui(p,b,A,j){ds(p,b+0,A,j,1),ds(p,b+32,A,j+128,1)}function Il(p,b,A,j){var I;for(p=p[b+0]+4,I=0;4>I;++I)for(b=0;4>b;++b)li(A,j,b,I,p)}function Pl(p,b,A,j){p[b+0]&&pn(p,b+0,A,j),p[b+16]&&pn(p,b+16,A,j+4),p[b+32]&&pn(p,b+32,A,j+128),p[b+48]&&pn(p,b+48,A,j+128+4)}function la(p,b,A,j){var I,H=o(16);for(I=0;4>I;++I){var $=p[b+0+I]+p[b+12+I],Y=p[b+4+I]+p[b+8+I],Z=p[b+4+I]-p[b+8+I],ne=p[b+0+I]-p[b+12+I];H[0+I]=$+Y,H[8+I]=$-Y,H[4+I]=ne+Z,H[12+I]=ne-Z}for(I=0;4>I;++I)$=(p=H[0+4*I]+3)+H[3+4*I],Y=H[1+4*I]+H[2+4*I],Z=H[1+4*I]-H[2+4*I],ne=p-H[3+4*I],A[j+0]=$+Y>>3,A[j+16]=ne+Z>>3,A[j+32]=$-Y>>3,A[j+48]=ne-Z>>3,j+=64}function ro(p,b,A){var j,I=b-32,H=ti,$=255-p[I-1];for(j=0;j<A;++j){var Y,Z=H,ne=$+p[b-1];for(Y=0;Y<A;++Y)p[b+Y]=Z[ne+p[I+Y]];b+=32}}function Tu(p,b){ro(p,b,4)}function Lu(p,b){ro(p,b,8)}function Ul(p,b){ro(p,b,16)}function ql(p,b){var A;for(A=0;16>A;++A)a(p,b+32*A,p,b-32,16)}function ju(p,b){var A;for(A=16;0<A;--A)s(p,b,p[b-1],16),b+=32}function vi(p,b,A){var j;for(j=0;16>j;++j)s(b,A+32*j,p,16)}function ua(p,b){var A,j=16;for(A=0;16>A;++A)j+=p[b-1+32*A]+p[b+A-32];vi(j>>5,p,b)}function Ka(p,b){var A,j=8;for(A=0;16>A;++A)j+=p[b-1+32*A];vi(j>>4,p,b)}function io(p,b){var A,j=8;for(A=0;16>A;++A)j+=p[b+A-32];vi(j>>4,p,b)}function Rs(p,b){vi(128,p,b)}function Dt(p,b,A){return p+2*b+A+2>>2}function Nu(p,b){var A,j=b-32;for(j=new Uint8Array([Dt(p[j-1],p[j+0],p[j+1]),Dt(p[j+0],p[j+1],p[j+2]),Dt(p[j+1],p[j+2],p[j+3]),Dt(p[j+2],p[j+3],p[j+4])]),A=0;4>A;++A)a(p,b+32*A,j,0,j.length)}function Fl(p,b){var A=p[b-1],j=p[b-1+32],I=p[b-1+64],H=p[b-1+96];qe(p,b+0,16843009*Dt(p[b-1-32],A,j)),qe(p,b+32,16843009*Dt(A,j,I)),qe(p,b+64,16843009*Dt(j,I,H)),qe(p,b+96,16843009*Dt(I,H,H))}function Cu(p,b){var A,j=4;for(A=0;4>A;++A)j+=p[b+A-32]+p[b-1+32*A];for(j>>=3,A=0;4>A;++A)s(p,b+32*A,j,4)}function Ni(p,b){var A=p[b-1+0],j=p[b-1+32],I=p[b-1+64],H=p[b-1-32],$=p[b+0-32],Y=p[b+1-32],Z=p[b+2-32],ne=p[b+3-32];p[b+0+96]=Dt(j,I,p[b-1+96]),p[b+1+96]=p[b+0+64]=Dt(A,j,I),p[b+2+96]=p[b+1+64]=p[b+0+32]=Dt(H,A,j),p[b+3+96]=p[b+2+64]=p[b+1+32]=p[b+0+0]=Dt($,H,A),p[b+3+64]=p[b+2+32]=p[b+1+0]=Dt(Y,$,H),p[b+3+32]=p[b+2+0]=Dt(Z,Y,$),p[b+3+0]=Dt(ne,Z,Y)}function Ur(p,b){var A=p[b+1-32],j=p[b+2-32],I=p[b+3-32],H=p[b+4-32],$=p[b+5-32],Y=p[b+6-32],Z=p[b+7-32];p[b+0+0]=Dt(p[b+0-32],A,j),p[b+1+0]=p[b+0+32]=Dt(A,j,I),p[b+2+0]=p[b+1+32]=p[b+0+64]=Dt(j,I,H),p[b+3+0]=p[b+2+32]=p[b+1+64]=p[b+0+96]=Dt(I,H,$),p[b+3+32]=p[b+2+64]=p[b+1+96]=Dt(H,$,Y),p[b+3+64]=p[b+2+96]=Dt($,Y,Z),p[b+3+96]=Dt(Y,Z,Z)}function Hl(p,b){var A=p[b-1+0],j=p[b-1+32],I=p[b-1+64],H=p[b-1-32],$=p[b+0-32],Y=p[b+1-32],Z=p[b+2-32],ne=p[b+3-32];p[b+0+0]=p[b+1+64]=H+$+1>>1,p[b+1+0]=p[b+2+64]=$+Y+1>>1,p[b+2+0]=p[b+3+64]=Y+Z+1>>1,p[b+3+0]=Z+ne+1>>1,p[b+0+96]=Dt(I,j,A),p[b+0+64]=Dt(j,A,H),p[b+0+32]=p[b+1+96]=Dt(A,H,$),p[b+1+32]=p[b+2+96]=Dt(H,$,Y),p[b+2+32]=p[b+3+96]=Dt($,Y,Z),p[b+3+32]=Dt(Y,Z,ne)}function ao(p,b){var A=p[b+0-32],j=p[b+1-32],I=p[b+2-32],H=p[b+3-32],$=p[b+4-32],Y=p[b+5-32],Z=p[b+6-32],ne=p[b+7-32];p[b+0+0]=A+j+1>>1,p[b+1+0]=p[b+0+64]=j+I+1>>1,p[b+2+0]=p[b+1+64]=I+H+1>>1,p[b+3+0]=p[b+2+64]=H+$+1>>1,p[b+0+32]=Dt(A,j,I),p[b+1+32]=p[b+0+96]=Dt(j,I,H),p[b+2+32]=p[b+1+96]=Dt(I,H,$),p[b+3+32]=p[b+2+96]=Dt(H,$,Y),p[b+3+64]=Dt($,Y,Z),p[b+3+96]=Dt(Y,Z,ne)}function Ci(p,b){var A=p[b-1+0],j=p[b-1+32],I=p[b-1+64],H=p[b-1+96];p[b+0+0]=A+j+1>>1,p[b+2+0]=p[b+0+32]=j+I+1>>1,p[b+2+32]=p[b+0+64]=I+H+1>>1,p[b+1+0]=Dt(A,j,I),p[b+3+0]=p[b+1+32]=Dt(j,I,H),p[b+3+32]=p[b+1+64]=Dt(I,H,H),p[b+3+64]=p[b+2+64]=p[b+0+96]=p[b+1+96]=p[b+2+96]=p[b+3+96]=H}function so(p,b){var A=p[b-1+0],j=p[b-1+32],I=p[b-1+64],H=p[b-1+96],$=p[b-1-32],Y=p[b+0-32],Z=p[b+1-32],ne=p[b+2-32];p[b+0+0]=p[b+2+32]=A+$+1>>1,p[b+0+32]=p[b+2+64]=j+A+1>>1,p[b+0+64]=p[b+2+96]=I+j+1>>1,p[b+0+96]=H+I+1>>1,p[b+3+0]=Dt(Y,Z,ne),p[b+2+0]=Dt($,Y,Z),p[b+1+0]=p[b+3+32]=Dt(A,$,Y),p[b+1+32]=p[b+3+64]=Dt(j,A,$),p[b+1+64]=p[b+3+96]=Dt(I,j,A),p[b+1+96]=Dt(H,I,j)}function La(p,b){var A;for(A=0;8>A;++A)a(p,b+32*A,p,b-32,8)}function Ru(p,b){var A;for(A=0;8>A;++A)s(p,b,p[b-1],8),b+=32}function Ii(p,b,A){var j;for(j=0;8>j;++j)s(b,A+32*j,p,8)}function Ho(p,b){var A,j=8;for(A=0;8>A;++A)j+=p[b+A-32]+p[b-1+32*A];Ii(j>>4,p,b)}function $o(p,b){var A,j=4;for(A=0;8>A;++A)j+=p[b+A-32];Ii(j>>3,p,b)}function Or(p,b){var A,j=4;for(A=0;8>A;++A)j+=p[b-1+32*A];Ii(j>>3,p,b)}function ja(p,b){Ii(128,p,b)}function Pi(p,b,A){var j=p[b-A],I=p[b+0],H=3*(I-j)+fs[1020+p[b-2*A]-p[b+A]],$=Zl[112+(H+4>>3)];p[b-A]=ti[255+j+Zl[112+(H+3>>3)]],p[b+0]=ti[255+I-$]}function Xa(p,b,A,j){var I=p[b+0],H=p[b+A];return Hr[255+p[b-2*A]-p[b-A]]>j||Hr[255+H-I]>j}function Wo(p,b,A,j){return 4*Hr[255+p[b-A]-p[b+0]]+Hr[255+p[b-2*A]-p[b+A]]<=j}function oo(p,b,A,j,I){var H=p[b-3*A],$=p[b-2*A],Y=p[b-A],Z=p[b+0],ne=p[b+A],we=p[b+2*A],Ce=p[b+3*A];return 4*Hr[255+Y-Z]+Hr[255+$-ne]>j?0:Hr[255+p[b-4*A]-H]<=I&&Hr[255+H-$]<=I&&Hr[255+$-Y]<=I&&Hr[255+Ce-we]<=I&&Hr[255+we-ne]<=I&&Hr[255+ne-Z]<=I}function Ja(p,b,A,j){var I=2*j+1;for(j=0;16>j;++j)Wo(p,b+j,A,I)&&Pi(p,b+j,A)}function Za(p,b,A,j){var I=2*j+1;for(j=0;16>j;++j)Wo(p,b+j*A,1,I)&&Pi(p,b+j*A,1)}function lo(p,b,A,j){var I;for(I=3;0<I;--I)Ja(p,b+=4*A,A,j)}function $l(p,b,A,j){var I;for(I=3;0<I;--I)Za(p,b+=4,A,j)}function Qa(p,b,A,j,I,H,$,Y){for(H=2*H+1;0<I--;){if(oo(p,b,A,H,$))if(Xa(p,b,A,Y))Pi(p,b,A);else{var Z=p,ne=b,we=A,Ce=Z[ne-2*we],te=Z[ne-we],Se=Z[ne+0],je=Z[ne+we],Ue=Z[ne+2*we],Ne=27*(Ge=fs[1020+3*(Se-te)+fs[1020+Ce-je]])+63>>7,Pe=18*Ge+63>>7,Ge=9*Ge+63>>7;Z[ne-3*we]=ti[255+Z[ne-3*we]+Ge],Z[ne-2*we]=ti[255+Ce+Pe],Z[ne-we]=ti[255+te+Ne],Z[ne+0]=ti[255+Se-Ne],Z[ne+we]=ti[255+je-Pe],Z[ne+2*we]=ti[255+Ue-Ge]}b+=j}}function es(p,b,A,j,I,H,$,Y){for(H=2*H+1;0<I--;){if(oo(p,b,A,H,$))if(Xa(p,b,A,Y))Pi(p,b,A);else{var Z=p,ne=b,we=A,Ce=Z[ne-we],te=Z[ne+0],Se=Z[ne+we],je=Zl[112+(4+(Ue=3*(te-Ce))>>3)],Ue=Zl[112+(Ue+3>>3)],Ne=je+1>>1;Z[ne-2*we]=ti[255+Z[ne-2*we]+Ne],Z[ne-we]=ti[255+Ce+Ue],Z[ne+0]=ti[255+te-je],Z[ne+we]=ti[255+Se-Ne]}b+=j}}function Ou(p,b,A,j,I,H){Qa(p,b,A,1,16,j,I,H)}function ts(p,b,A,j,I,H){Qa(p,b,1,A,16,j,I,H)}function Du(p,b,A,j,I,H){var $;for($=3;0<$;--$)es(p,b+=4*A,A,1,16,j,I,H)}function _(p,b,A,j,I,H){var $;for($=3;0<$;--$)es(p,b+=4,1,A,16,j,I,H)}function z(p,b,A,j,I,H,$,Y){Qa(p,b,I,1,8,H,$,Y),Qa(A,j,I,1,8,H,$,Y)}function ae(p,b,A,j,I,H,$,Y){Qa(p,b,1,I,8,H,$,Y),Qa(A,j,1,I,8,H,$,Y)}function me(p,b,A,j,I,H,$,Y){es(p,b+4*I,I,1,8,H,$,Y),es(A,j+4*I,I,1,8,H,$,Y)}function ke(p,b,A,j,I,H,$,Y){es(p,b+4,1,I,8,H,$,Y),es(A,j+4,1,I,8,H,$,Y)}function We(){this.ba=new kt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ut,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ze(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function vt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Tt(){this.ua=0,this.Wa=new Ye,this.vb=new Ye,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new le,this.yc=new fe}function Bt(){this.xb=this.a=0,this.l=new Va,this.ca=new kt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new F,this.Pb=0,this.wd=new F,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Tt,this.ab=0,this.gc=u(4,vt),this.Oc=0}function Wt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Va,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function sn(p,b,A,j,I,H,$){for(p=p==null?0:p[b+0],b=0;b<$;++b)I[H+b]=p+A[j+b]&255,p=I[H+b]}function Yn(p,b,A,j,I,H,$){var Y;if(p==null)sn(null,null,A,j,I,H,$);else for(Y=0;Y<$;++Y)I[H+Y]=p[b+Y]+A[j+Y]&255}function sr(p,b,A,j,I,H,$){if(p==null)sn(null,null,A,j,I,H,$);else{var Y,Z=p[b+0],ne=Z,we=Z;for(Y=0;Y<$;++Y)ne=we+(Z=p[b+Y])-ne,we=A[j+Y]+(-256&ne?0>ne?0:255:ne)&255,ne=Z,I[H+Y]=we}}function Cn(p,b,A,j){var I=b.width,H=b.o;if(e(p!=null&&b!=null),0>A||0>=j||A+j>H)return null;if(!p.Cc){if(p.ga==null){var $;if(p.ga=new Wt,($=p.ga==null)||($=b.width*b.o,e(p.Gb.length==0),p.Gb=o($),p.Uc=0,p.Gb==null?$=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,$=1),$=!$),!$){$=p.ga;var Y=p.Fa,Z=p.P,ne=p.qc,we=p.mb,Ce=p.nb,te=Z+1,Se=ne-1,je=$.l;if(e(Y!=null&&we!=null&&b!=null),hs[0]=null,hs[1]=sn,hs[2]=Yn,hs[3]=sr,$.ca=we,$.tb=Ce,$.c=b.width,$.i=b.height,e(0<$.c&&0<$.i),1>=ne)b=0;else if($.$a=3&Y[Z+0],$.Z=Y[Z+0]>>2&3,$.Lc=Y[Z+0]>>4&3,Z=Y[Z+0]>>6&3,0>$.$a||1<$.$a||4<=$.Z||1<$.Lc||Z)b=0;else if(je.put=At,je.ac=$n,je.bc=Sn,je.ma=$,je.width=b.width,je.height=b.height,je.Da=b.Da,je.v=b.v,je.va=b.va,je.j=b.j,je.o=b.o,$.$a)e:{e($.$a==1),b=to();t:for(;;){if(b==null){b=0;break e}if(e($!=null),$.mc=b,b.c=$.c,b.i=$.i,b.l=$.l,b.l.ma=$,b.l.width=$.c,b.l.height=$.i,b.a=0,_e(b.m,Y,te,Se),!na($.c,$.i,1,b,null)||(b.ab==1&&b.gc[0].hc==3&&En(b.s)?($.ic=1,Y=b.c*b.i,b.Ta=null,b.Ua=0,b.V=o(Y),b.Ba=0,b.V==null?(b.a=1,b=0):b=1):($.ic=0,b=ra(b,$.c)),!b))break t;b=1;break e}$.mc=null,b=0}else b=Se>=$.c*$.i;$=!b}if($)return null;p.ga.Lc!=1?p.Ga=0:j=H-A}e(p.ga!=null),e(A+j<=H);e:{if(b=(Y=p.ga).c,H=Y.l.o,Y.$a==0){if(te=p.rc,Se=p.Vc,je=p.Fa,Z=p.P+1+A*b,ne=p.mb,we=p.nb+A*b,e(Z<=p.P+p.qc),Y.Z!=0)for(e(hs[Y.Z]!=null),$=0;$<j;++$)hs[Y.Z](te,Se,je,Z,ne,we,b),te=ne,Se=we,we+=b,Z+=b;else for($=0;$<j;++$)a(ne,we,je,Z,b),te=ne,Se=we,we+=b,Z+=b;p.rc=te,p.Vc=Se}else{if(e(Y.mc!=null),b=A+j,e(($=Y.mc)!=null),e(b<=$.i),$.C>=b)b=1;else if(Y.ic||ca(),Y.ic){Y=$.V,te=$.Ba,Se=$.c;var Ue=$.i,Ne=(je=1,Z=$.$/Se,ne=$.$%Se,we=$.m,Ce=$.s,$.$),Pe=Se*Ue,Ge=Se*b,tt=Ce.wc,Je=Ne<Ge?An(Ce,ne,Z):null;e(Ne<=Pe),e(b<=Ue),e(En(Ce));t:for(;;){for(;!we.h&&Ne<Ge;){if(ne&tt||(Je=An(Ce,ne,Z)),e(Je!=null),V(we),256>(Ue=mn(Je.G[0],Je.H[0],we)))Y[te+Ne]=Ue,++Ne,++ne>=Se&&(ne=0,++Z<=b&&!(Z%16)&&Qr($,Z));else{if(!(280>Ue)){je=0;break t}Ue=Fn(Ue-256,we);var xt,gt=mn(Je.G[4],Je.H[4],we);if(V(we),!(Ne>=(gt=Wn(Se,gt=Fn(gt,we)))&&Pe-Ne>=Ue)){je=0;break t}for(xt=0;xt<Ue;++xt)Y[te+Ne+xt]=Y[te+Ne+xt-gt];for(Ne+=Ue,ne+=Ue;ne>=Se;)ne-=Se,++Z<=b&&!(Z%16)&&Qr($,Z);Ne<Ge&&ne&tt&&(Je=An(Ce,ne,Z))}e(we.h==ie(we))}Qr($,Z>b?b:Z);break t}!je||we.h&&Ne<Pe?(je=0,$.a=we.h?5:3):$.$=Ne,b=je}else b=Ti($,$.V,$.Ba,$.c,$.i,b,Ns);if(!b){j=0;break e}}A+j>=H&&(p.Cc=1),j=1}if(!j)return null;if(p.Cc&&((j=p.ga)!=null&&(j.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+A*I}function Tr(p,b,A,j,I,H){for(;0<I--;){var $,Y=p,Z=b+(A?1:0),ne=p,we=b+(A?0:3);for($=0;$<j;++$){var Ce=ne[we+4*$];Ce!=255&&(Ce*=32897,Y[Z+4*$+0]=Y[Z+4*$+0]*Ce>>23,Y[Z+4*$+1]=Y[Z+4*$+1]*Ce>>23,Y[Z+4*$+2]=Y[Z+4*$+2]*Ce>>23)}b+=H}}function gr(p,b,A,j,I){for(;0<j--;){var H;for(H=0;H<A;++H){var $=p[b+2*H+0],Y=15&(ne=p[b+2*H+1]),Z=4369*Y,ne=(240&ne|ne>>4)*Z>>16;p[b+2*H+0]=(240&$|$>>4)*Z>>16&240|(15&$|$<<4)*Z>>16>>4&15,p[b+2*H+1]=240&ne|Y}b+=I}}function qr(p,b,A,j,I,H,$,Y){var Z,ne,we=255;for(ne=0;ne<I;++ne){for(Z=0;Z<j;++Z){var Ce=p[b+Z];H[$+4*Z]=Ce,we&=Ce}b+=A,$+=Y}return we!=255}function ns(p,b,A,j,I){var H;for(H=0;H<I;++H)A[j+H]=p[b+H]>>8}function ca(){ho=Tr,qi=gr,Kl=qr,Di=ns}function rs(p,b,A){q[p]=function(j,I,H,$,Y,Z,ne,we,Ce,te,Se,je,Ue,Ne,Pe,Ge,tt){var Je,xt=tt-1>>1,gt=Y[Z+0]|ne[we+0]<<16,Ft=Ce[te+0]|Se[je+0]<<16;e(j!=null);var bt=3*gt+Ft+131074>>2;for(b(j[I+0],255&bt,bt>>16,Ue,Ne),H!=null&&(bt=3*Ft+gt+131074>>2,b(H[$+0],255&bt,bt>>16,Pe,Ge)),Je=1;Je<=xt;++Je){var Qt=Y[Z+Je]|ne[we+Je]<<16,In=Ce[te+Je]|Se[je+Je]<<16,Gt=gt+Qt+Ft+In+524296,mt=Gt+2*(Qt+Ft)>>3;bt=mt+gt>>1,gt=(Gt=Gt+2*(gt+In)>>3)+Qt>>1,b(j[I+2*Je-1],255&bt,bt>>16,Ue,Ne+(2*Je-1)*A),b(j[I+2*Je-0],255&gt,gt>>16,Ue,Ne+(2*Je-0)*A),H!=null&&(bt=Gt+Ft>>1,gt=mt+In>>1,b(H[$+2*Je-1],255&bt,bt>>16,Pe,Ge+(2*Je-1)*A),b(H[$+2*Je+0],255&gt,gt>>16,Pe,Ge+(2*Je+0)*A)),gt=Qt,Ft=In}1&tt||(bt=3*gt+Ft+131074>>2,b(j[I+tt-1],255&bt,bt>>16,Ue,Ne+(tt-1)*A),H!=null&&(bt=3*Ft+gt+131074>>2,b(H[$+tt-1],255&bt,bt>>16,Pe,Ge+(tt-1)*A)))}}function Wl(){Wr[Iu]=mo,Wr[ni]=nl,Wr[Pu]=Jc,Wr[Fi]=$u,Wr[Ql]=Ps,Wr[Qo]=Ia,Wr[zs]=Us,Wr[eu]=nl,Wr[Uu]=$u,Wr[el]=Ps,Wr[qu]=Ia}function Go(p){return p&-16384?0>p?0:255:p>>Wu}function Na(p,b){return Go((19077*p>>8)+(26149*b>>8)-14234)}function da(p,b,A){return Go((19077*p>>8)-(6419*b>>8)-(13320*A>>8)+8708)}function uo(p,b){return Go((19077*p>>8)+(33050*b>>8)-17685)}function is(p,b,A,j,I){j[I+0]=Na(p,A),j[I+1]=da(p,b,A),j[I+2]=uo(p,b)}function Dr(p,b,A,j,I){j[I+0]=uo(p,b),j[I+1]=da(p,b,A),j[I+2]=Na(p,A)}function Os(p,b,A,j,I){var H=da(p,b,A);b=H<<3&224|uo(p,b)>>3,j[I+0]=248&Na(p,A)|H>>5,j[I+1]=b}function Ds(p,b,A,j,I){var H=240&uo(p,b)|15;j[I+0]=240&Na(p,A)|da(p,b,A)>>4,j[I+1]=H}function Yo(p,b,A,j,I){j[I+0]=255,is(p,b,A,j,I+1)}function Ca(p,b,A,j,I){Dr(p,b,A,j,I),j[I+3]=255}function ci(p,b,A,j,I){is(p,b,A,j,I),j[I+3]=255}function as(p,b,A){q[p]=function(j,I,H,$,Y,Z,ne,we,Ce){for(var te=we+(-2&Ce)*A;we!=te;)b(j[I+0],H[$+0],Y[Z+0],ne,we),b(j[I+1],H[$+0],Y[Z+0],ne,we+A),I+=2,++$,++Z,we+=2*A;1&Ce&&b(j[I+0],H[$+0],Y[Z+0],ne,we)}}function Vo(p,b,A){return A==0?p==0?b==0?6:5:b==0?4:0:A}function Gl(p,b,A,j,I){switch(p>>>30){case 3:ds(b,A,j,I,0);break;case 2:ei(b,A,j,I);break;case 1:pn(b,A,j,I)}}function Ri(p,b){var A,j,I=b.M,H=b.Nb,$=p.oc,Y=p.pc+40,Z=p.oc,ne=p.pc+584,we=p.oc,Ce=p.pc+600;for(A=0;16>A;++A)$[Y+32*A-1]=129;for(A=0;8>A;++A)Z[ne+32*A-1]=129,we[Ce+32*A-1]=129;for(0<I?$[Y-1-32]=Z[ne-1-32]=we[Ce-1-32]=129:(s($,Y-32-1,127,21),s(Z,ne-32-1,127,9),s(we,Ce-32-1,127,9)),j=0;j<p.za;++j){var te=b.ya[b.aa+j];if(0<j){for(A=-1;16>A;++A)a($,Y+32*A-4,$,Y+32*A+12,4);for(A=-1;8>A;++A)a(Z,ne+32*A-4,Z,ne+32*A+4,4),a(we,Ce+32*A-4,we,Ce+32*A+4,4)}var Se=p.Gd,je=p.Hd+j,Ue=te.ad,Ne=te.Hc;if(0<I&&(a($,Y-32,Se[je].y,0,16),a(Z,ne-32,Se[je].f,0,8),a(we,Ce-32,Se[je].ea,0,8)),te.Za){var Pe=$,Ge=Y-32+16;for(0<I&&(j>=p.za-1?s(Pe,Ge,Se[je].y[15],4):a(Pe,Ge,Se[je+1].y,0,4)),A=0;4>A;A++)Pe[Ge+128+A]=Pe[Ge+256+A]=Pe[Ge+384+A]=Pe[Ge+0+A];for(A=0;16>A;++A,Ne<<=2)Pe=$,Ge=Y+ur[A],Qn[te.Ob[A]](Pe,Ge),Gl(Ne,Ue,16*+A,Pe,Ge)}else if(Pe=Vo(j,I,te.Ob[0]),fi[Pe]($,Y),Ne!=0)for(A=0;16>A;++A,Ne<<=2)Gl(Ne,Ue,16*+A,$,Y+ur[A]);for(A=te.Gc,Pe=Vo(j,I,te.Dd),ga[Pe](Z,ne),ga[Pe](we,Ce),Ne=Ue,Pe=Z,Ge=ne,255&(te=0|A)&&(170&te?Ui(Ne,256,Pe,Ge):on(Ne,256,Pe,Ge)),te=we,Ne=Ce,255&(A>>=8)&&(170&A?Ui(Ue,320,te,Ne):on(Ue,320,te,Ne)),I<p.Ub-1&&(a(Se[je].y,0,$,Y+480,16),a(Se[je].f,0,Z,ne+224,8),a(Se[je].ea,0,we,Ce+224,8)),A=8*H*p.B,Se=p.sa,je=p.ta+16*j+16*H*p.R,Ue=p.qa,te=p.ra+8*j+A,Ne=p.Ha,Pe=p.Ia+8*j+A,A=0;16>A;++A)a(Se,je+A*p.R,$,Y+32*A,16);for(A=0;8>A;++A)a(Ue,te+A*p.B,Z,ne+32*A,8),a(Ne,Pe+A*p.B,we,Ce+32*A,8)}}function fa(p,b,A,j,I,H,$,Y,Z){var ne=[0],we=[0],Ce=0,te=Z!=null?Z.kd:0,Se=Z??new Ze;if(p==null||12>A)return 7;Se.data=p,Se.w=b,Se.ha=A,b=[b],A=[A],Se.gb=[Se.gb];e:{var je=b,Ue=A,Ne=Se.gb;if(e(p!=null),e(Ue!=null),e(Ne!=null),Ne[0]=0,12<=Ue[0]&&!n(p,je[0],"RIFF")){if(n(p,je[0]+8,"WEBP")){Ne=3;break e}var Pe=Ae(p,je[0]+4);if(12>Pe||4294967286<Pe){Ne=3;break e}if(te&&Pe>Ue[0]-8){Ne=7;break e}Ne[0]=Pe,je[0]+=12,Ue[0]-=12}Ne=0}if(Ne!=0)return Ne;for(Pe=0<Se.gb[0],A=A[0];;){e:{var Ge=p;Ue=b,Ne=A;var tt=ne,Je=we,xt=je=[0];if((bt=Ce=[Ce])[0]=0,8>Ne[0])Ne=7;else{if(!n(Ge,Ue[0],"VP8X")){if(Ae(Ge,Ue[0]+4)!=10){Ne=3;break e}if(18>Ne[0]){Ne=7;break e}var gt=Ae(Ge,Ue[0]+8),Ft=1+Re(Ge,Ue[0]+12);if(2147483648<=Ft*(Ge=1+Re(Ge,Ue[0]+15))){Ne=3;break e}xt!=null&&(xt[0]=gt),tt!=null&&(tt[0]=Ft),Je!=null&&(Je[0]=Ge),Ue[0]+=18,Ne[0]-=18,bt[0]=1}Ne=0}}if(Ce=Ce[0],je=je[0],Ne!=0)return Ne;if(Ue=!!(2&je),!Pe&&Ce)return 3;if(H!=null&&(H[0]=!!(16&je)),$!=null&&($[0]=Ue),Y!=null&&(Y[0]=0),$=ne[0],je=we[0],Ce&&Ue&&Z==null){Ne=0;break}if(4>A){Ne=7;break}if(Pe&&Ce||!Pe&&!Ce&&!n(p,b[0],"ALPH")){A=[A],Se.na=[Se.na],Se.P=[Se.P],Se.Sa=[Se.Sa];e:{gt=p,Ne=b,Pe=A;var bt=Se.gb;tt=Se.na,Je=Se.P,xt=Se.Sa,Ft=22,e(gt!=null),e(Pe!=null),Ge=Ne[0];var Qt=Pe[0];for(e(tt!=null),e(xt!=null),tt[0]=null,Je[0]=null,xt[0]=0;;){if(Ne[0]=Ge,Pe[0]=Qt,8>Qt){Ne=7;break e}var In=Ae(gt,Ge+4);if(4294967286<In){Ne=3;break e}var Gt=8+In+1&-2;if(Ft+=Gt,0<bt&&Ft>bt){Ne=3;break e}if(!n(gt,Ge,"VP8 ")||!n(gt,Ge,"VP8L")){Ne=0;break e}if(Qt[0]<Gt){Ne=7;break e}n(gt,Ge,"ALPH")||(tt[0]=gt,Je[0]=Ge+8,xt[0]=In),Ge+=Gt,Qt-=Gt}}if(A=A[0],Se.na=Se.na[0],Se.P=Se.P[0],Se.Sa=Se.Sa[0],Ne!=0)break}A=[A],Se.Ja=[Se.Ja],Se.xa=[Se.xa];e:if(bt=p,Ne=b,Pe=A,tt=Se.gb[0],Je=Se.Ja,xt=Se.xa,gt=Ne[0],Ge=!n(bt,gt,"VP8 "),Ft=!n(bt,gt,"VP8L"),e(bt!=null),e(Pe!=null),e(Je!=null),e(xt!=null),8>Pe[0])Ne=7;else{if(Ge||Ft){if(bt=Ae(bt,gt+4),12<=tt&&bt>tt-12){Ne=3;break e}if(te&&bt>Pe[0]-8){Ne=7;break e}Je[0]=bt,Ne[0]+=8,Pe[0]-=8,xt[0]=Ft}else xt[0]=5<=Pe[0]&&bt[gt+0]==47&&!(bt[gt+4]>>5),Je[0]=Pe[0];Ne=0}if(A=A[0],Se.Ja=Se.Ja[0],Se.xa=Se.xa[0],b=b[0],Ne!=0)break;if(4294967286<Se.Ja)return 3;if(Y==null||Ue||(Y[0]=Se.xa?2:1),$=[$],je=[je],Se.xa){if(5>A){Ne=7;break}Y=$,te=je,Ue=H,p==null||5>A?p=0:5<=A&&p[b+0]==47&&!(p[b+4]>>5)?(Pe=[0],bt=[0],tt=[0],_e(Je=new F,p,b,A),Ar(Je,Pe,bt,tt)?(Y!=null&&(Y[0]=Pe[0]),te!=null&&(te[0]=bt[0]),Ue!=null&&(Ue[0]=tt[0]),p=1):p=0):p=0}else{if(10>A){Ne=7;break}Y=je,p==null||10>A||!Ml(p,b+3,A-3)?p=0:(te=p[b+0]|p[b+1]<<8|p[b+2]<<16,Ue=16383&(p[b+7]<<8|p[b+6]),p=16383&(p[b+9]<<8|p[b+8]),1&te||3<(te>>1&7)||!(te>>4&1)||te>>5>=Se.Ja||!Ue||!p?p=0:($&&($[0]=Ue),Y&&(Y[0]=p),p=1))}if(!p||($=$[0],je=je[0],Ce&&(ne[0]!=$||we[0]!=je)))return 3;Z!=null&&(Z[0]=Se,Z.offset=b-Z.w,e(4294967286>b-Z.w),e(Z.offset==Z.ha-A));break}return Ne==0||Ne==7&&Ce&&Z==null?(H!=null&&(H[0]|=Se.na!=null&&0<Se.na.length),j!=null&&(j[0]=$),I!=null&&(I[0]=je),0):Ne}function ss(p,b,A){var j=b.width,I=b.height,H=0,$=0,Y=j,Z=I;if(b.Da=p!=null&&0<p.Da,b.Da&&(Y=p.cd,Z=p.bd,H=p.v,$=p.j,11>A||(H&=-2,$&=-2),0>H||0>$||0>=Y||0>=Z||H+Y>j||$+Z>I))return 0;if(b.v=H,b.j=$,b.va=H+Y,b.o=$+Z,b.U=Y,b.T=Z,b.da=p!=null&&0<p.da,b.da){if(!Be(Y,Z,A=[p.ib],H=[p.hb]))return 0;b.ib=A[0],b.hb=H[0]}return b.ob=p!=null&&p.ob,b.Kb=p==null||!p.Sd,b.da&&(b.ob=b.ib<3*j/4&&b.hb<3*I/4,b.Kb=0),1}function Yl(p){if(p==null)return 2;if(11>p.S){var b=p.f.RGBA;b.fb+=(p.height-1)*b.A,b.A=-b.A}else b=p.f.kb,p=p.height,b.O+=(p-1)*b.fa,b.fa=-b.fa,b.N+=(p-1>>1)*b.Ab,b.Ab=-b.Ab,b.W+=(p-1>>1)*b.Db,b.Db=-b.Db,b.F!=null&&(b.J+=(p-1)*b.lb,b.lb=-b.lb);return 0}function ha(p,b,A,j){if(j==null||0>=p||0>=b)return 2;if(A!=null){if(A.Da){var I=A.cd,H=A.bd,$=-2&A.v,Y=-2&A.j;if(0>$||0>Y||0>=I||0>=H||$+I>p||Y+H>b)return 2;p=I,b=H}if(A.da){if(!Be(p,b,I=[A.ib],H=[A.hb]))return 2;p=I[0],b=H[0]}}j.width=p,j.height=b;e:{var Z=j.width,ne=j.height;if(p=j.S,0>=Z||0>=ne||!(p>=Iu&&13>p))p=2;else{if(0>=j.Rd&&j.sd==null){$=H=I=b=0;var we=(Y=Z*Yu[p])*ne;if(11>p||(H=(ne+1)/2*(b=(Z+1)/2),p==12&&($=(I=Z)*ne)),(ne=o(we+2*H+$))==null){p=1;break e}j.sd=ne,11>p?((Z=j.f.RGBA).eb=ne,Z.fb=0,Z.A=Y,Z.size=we):((Z=j.f.kb).y=ne,Z.O=0,Z.fa=Y,Z.Fd=we,Z.f=ne,Z.N=0+we,Z.Ab=b,Z.Cd=H,Z.ea=ne,Z.W=0+we+H,Z.Db=b,Z.Ed=H,p==12&&(Z.F=ne,Z.J=0+we+2*H),Z.Tc=$,Z.lb=I)}if(b=1,I=j.S,H=j.width,$=j.height,I>=Iu&&13>I)if(11>I)p=j.f.RGBA,b&=(Y=Math.abs(p.A))*($-1)+H<=p.size,b&=Y>=H*Yu[I],b&=p.eb!=null;else{p=j.f.kb,Y=(H+1)/2,we=($+1)/2,Z=Math.abs(p.fa),ne=Math.abs(p.Ab);var Ce=Math.abs(p.Db),te=Math.abs(p.lb),Se=te*($-1)+H;b&=Z*($-1)+H<=p.Fd,b&=ne*(we-1)+Y<=p.Cd,b=(b&=Ce*(we-1)+Y<=p.Ed)&Z>=H&ne>=Y&Ce>=Y,b&=p.y!=null,b&=p.f!=null,b&=p.ea!=null,I==12&&(b&=te>=H,b&=Se<=p.Tc,b&=p.F!=null)}else b=0;p=b?0:2}}return p!=0||A!=null&&A.fd&&(p=Yl(j)),p}var Ms=64,wi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],di=24,Ra=32,Oa=8,os=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];be("Predictor0","PredictorAdd0"),q.Predictor0=function(){return 4278190080},q.Predictor1=function(p){return p},q.Predictor2=function(p,b,A){return b[A+0]},q.Predictor3=function(p,b,A){return b[A+1]},q.Predictor4=function(p,b,A){return b[A-1]},q.Predictor5=function(p,b,A){return Ve(Ve(p,b[A+1]),b[A+0])},q.Predictor6=function(p,b,A){return Ve(p,b[A-1])},q.Predictor7=function(p,b,A){return Ve(p,b[A+0])},q.Predictor8=function(p,b,A){return Ve(b[A-1],b[A+0])},q.Predictor9=function(p,b,A){return Ve(b[A+0],b[A+1])},q.Predictor10=function(p,b,A){return Ve(Ve(p,b[A-1]),Ve(b[A+0],b[A+1]))},q.Predictor11=function(p,b,A){var j=b[A+0];return 0>=ut(j>>24&255,p>>24&255,(b=b[A-1])>>24&255)+ut(j>>16&255,p>>16&255,b>>16&255)+ut(j>>8&255,p>>8&255,b>>8&255)+ut(255&j,255&p,255&b)?j:p},q.Predictor12=function(p,b,A){var j=b[A+0];return(Qe((p>>24&255)+(j>>24&255)-((b=b[A-1])>>24&255))<<24|Qe((p>>16&255)+(j>>16&255)-(b>>16&255))<<16|Qe((p>>8&255)+(j>>8&255)-(b>>8&255))<<8|Qe((255&p)+(255&j)-(255&b)))>>>0},q.Predictor13=function(p,b,A){var j=b[A-1];return(at((p=Ve(p,b[A+0]))>>24&255,j>>24&255)<<24|at(p>>16&255,j>>16&255)<<16|at(p>>8&255,j>>8&255)<<8|at(255&p,255&j))>>>0};var Ko=q.PredictorAdd0;q.PredictorAdd1=nt,be("Predictor2","PredictorAdd2"),be("Predictor3","PredictorAdd3"),be("Predictor4","PredictorAdd4"),be("Predictor5","PredictorAdd5"),be("Predictor6","PredictorAdd6"),be("Predictor7","PredictorAdd7"),be("Predictor8","PredictorAdd8"),be("Predictor9","PredictorAdd9"),be("Predictor10","PredictorAdd10"),be("Predictor11","PredictorAdd11"),be("Predictor12","PredictorAdd12"),be("Predictor13","PredictorAdd13");var Xo=q.PredictorAdd2;lt("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),lt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var or,Mu=q.ColorIndexInverseTransform,Da=q.MapARGB,Ma=q.VP8LColorIndexInverseTransformAlpha,Fr=q.MapAlpha,ls=q.VP8LPredictorsAdd=[];ls.length=16,(q.VP8LPredictors=[]).length=16,(q.VP8LPredictorsAdd_C=[]).length=16,(q.VP8LPredictors_C=[]).length=16;var Jo,Zo,us,cs,za,co,Oi,ds,ei,Ui,pn,on,Rn,lr,Ba,pa,fo,Vl,Gc,uf,cf,df,Yc,Vc,ho,qi,Kl,Di,po=o(511),zu=o(2041),Xl=o(225),Jl=o(767),Bu=0,fs=zu,Zl=Xl,ti=Jl,Hr=po,Iu=0,ni=1,Pu=2,Fi=3,Ql=4,Qo=5,zs=6,eu=7,Uu=8,el=9,qu=10,Hi=[2,3,7],tl=[3,3,11],go=[280,256,256,256,40],Fu=[0,1,1,1,0],tu=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],$i=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Wi=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Bs=8,Gi=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Yi=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Mi=null,ff=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Kc=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Hu=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],hf=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],$r=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Bn=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],en=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],fi=[],Qn=[],ga=[],Is=1,Xc=2,hs=[],Wr=[];rs("UpsampleRgbLinePair",is,3),rs("UpsampleBgrLinePair",Dr,3),rs("UpsampleRgbaLinePair",ci,4),rs("UpsampleBgraLinePair",Ca,4),rs("UpsampleArgbLinePair",Yo,4),rs("UpsampleRgba4444LinePair",Ds,2),rs("UpsampleRgb565LinePair",Os,2);var mo=q.UpsampleRgbLinePair,Jc=q.UpsampleBgrLinePair,nl=q.UpsampleRgbaLinePair,$u=q.UpsampleBgraLinePair,Ps=q.UpsampleArgbLinePair,Ia=q.UpsampleRgba4444LinePair,Us=q.UpsampleRgb565LinePair,Vi=16,rl=1<<Vi-1,yo=-227,qs=482,Wu=6,Fs=0,Gr=o(256),Gu=o(256),pf=o(256),d0=o(256),f0=o(qs-yo),h0=o(qs-yo);as("YuvToRgbRow",is,3),as("YuvToBgrRow",Dr,3),as("YuvToRgbaRow",ci,4),as("YuvToBgraRow",Ca,4),as("YuvToArgbRow",Yo,4),as("YuvToRgba4444Row",Ds,2),as("YuvToRgb565Row",Os,2);var ur=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],il=[0,2,8],nu=[8,7,6,4,4,2,2,2,1,1,1,1],ru=1;this.WebPDecodeRGBA=function(p,b,A,j,I){var H=ni,$=new We,Y=new kt;$.ba=Y,Y.S=H,Y.width=[Y.width],Y.height=[Y.height];var Z=Y.width,ne=Y.height,we=new dt;if(we==null||p==null)var Ce=2;else e(we!=null),Ce=fa(p,b,A,we.width,we.height,we.Pd,we.Qd,we.format,null);if(Ce!=0?Z=0:(Z!=null&&(Z[0]=we.width[0]),ne!=null&&(ne[0]=we.height[0]),Z=1),Z){Y.width=Y.width[0],Y.height=Y.height[0],j!=null&&(j[0]=Y.width),I!=null&&(I[0]=Y.height);e:{if(j=new Va,(I=new Ze).data=p,I.w=b,I.ha=A,I.kd=1,b=[0],e(I!=null),((p=fa(I.data,I.w,I.ha,null,null,null,b,null,I))==0||p==7)&&b[0]&&(p=4),(b=p)==0){if(e($!=null),j.data=I.data,j.w=I.w+I.offset,j.ha=I.ha-I.offset,j.put=At,j.ac=$n,j.bc=Sn,j.ma=$,I.xa){if((p=to())==null){$=1;break e}if((function(te,Se){var je=[0],Ue=[0],Ne=[0];t:for(;;){if(te==null)return 0;if(Se==null)return te.a=2,0;if(te.l=Se,te.a=0,_e(te.m,Se.data,Se.w,Se.ha),!Ar(te.m,je,Ue,Ne)){te.a=3;break t}if(te.xb=Xc,Se.width=je[0],Se.height=Ue[0],!na(je[0],Ue[0],1,te,null))break t;return 1}return e(te.a!=0),0})(p,j)){if(j=(b=ha(j.width,j.height,$.Oa,$.ba))==0){t:{j=p;n:for(;;){if(j==null){j=0;break t}if(e(j.s.yc!=null),e(j.s.Ya!=null),e(0<j.s.Wb),e((A=j.l)!=null),e((I=A.ma)!=null),j.xb!=0){if(j.ca=I.ba,j.tb=I.tb,e(j.ca!=null),!ss(I.Oa,A,Fi)){j.a=2;break n}if(!ra(j,A.width)||A.da)break n;if((A.da||Et(j.ca.S))&&ca(),11>j.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),j.ca.f.kb.F!=null&&ca()),j.Pb&&0<j.s.ua&&j.s.vb.X==null&&!P(j.s.vb,j.s.Wa.Xa)){j.a=1;break n}j.xb=0}if(!Ti(j,j.V,j.Ba,j.c,j.i,A.o,Er))break n;I.Dc=j.Ma,j=1;break t}e(j.a!=0),j=0}j=!j}j&&(b=p.a)}else b=p.a}else{if((p=new oa)==null){$=1;break e}if(p.Fa=I.na,p.P=I.P,p.qc=I.Sa,Ta(p,j)){if((b=ha(j.width,j.height,$.Oa,$.ba))==0){if(p.Aa=0,A=$.Oa,e((I=p)!=null),A!=null){if(0<(Z=0>(Z=A.Md)?0:100<Z?255:255*Z/100)){for(ne=we=0;4>ne;++ne)12>(Ce=I.pb[ne]).lc&&(Ce.ia=Z*nu[0>Ce.lc?0:Ce.lc]>>3),we|=Ce.ia;we&&(alert("todo:VP8InitRandom"),I.ia=1)}I.Ga=A.Id,100<I.Ga?I.Ga=100:0>I.Ga&&(I.Ga=0)}(function(te,Se){if(te==null)return 0;if(Se==null)return hn(te,2,"NULL VP8Io parameter in VP8Decode().");if(!te.cb&&!Ta(te,Se))return 0;if(e(te.cb),Se.ac==null||Se.ac(Se)){Se.ob&&(te.L=0);var je=il[te.L];if(te.L==2?(te.yb=0,te.zb=0):(te.yb=Se.v-je>>4,te.zb=Se.j-je>>4,0>te.yb&&(te.yb=0),0>te.zb&&(te.zb=0)),te.Va=Se.o+15+je>>4,te.Hb=Se.va+15+je>>4,te.Hb>te.za&&(te.Hb=te.za),te.Va>te.Ub&&(te.Va=te.Ub),0<te.L){var Ue=te.ed;for(je=0;4>je;++je){var Ne;if(te.Qa.Cb){var Pe=te.Qa.Lb[je];te.Qa.Fb||(Pe+=Ue.Tb)}else Pe=Ue.Tb;for(Ne=0;1>=Ne;++Ne){var Ge=te.gd[je][Ne],tt=Pe;if(Ue.Pc&&(tt+=Ue.vd[0],Ne&&(tt+=Ue.od[0])),0<(tt=0>tt?0:63<tt?63:tt)){var Je=tt;0<Ue.wb&&(Je=4<Ue.wb?Je>>2:Je>>1)>9-Ue.wb&&(Je=9-Ue.wb),1>Je&&(Je=1),Ge.dd=Je,Ge.tc=2*tt+Je,Ge.ld=40<=tt?2:15<=tt?1:0}else Ge.tc=0;Ge.La=Ne}}}je=0}else hn(te,6,"Frame setup failed"),je=te.a;if(je=je==0){if(je){te.$c=0,0<te.Aa||(te.Ic=ru);t:{je=te.Ic,Ue=4*(Je=te.za);var xt=32*Je,gt=Je+1,Ft=0<te.L?Je*(0<te.Aa?2:1):0,bt=(te.Aa==2?2:1)*Je;if((Ge=Ue+832+(Ne=3*(16*je+il[te.L])/2*xt)+(Pe=te.Fa!=null&&0<te.Fa.length?te.Kc.c*te.Kc.i:0))!=Ge)je=0;else{if(Ge>te.Vb){if(te.Vb=0,te.Ec=o(Ge),te.Fc=0,te.Ec==null){je=hn(te,1,"no memory during frame initialization.");break t}te.Vb=Ge}Ge=te.Ec,tt=te.Fc,te.Ac=Ge,te.Bc=tt,tt+=Ue,te.Gd=u(xt,Dl),te.Hd=0,te.rb=u(gt+1,sa),te.sb=1,te.wa=Ft?u(Ft,Li):null,te.Y=0,te.D.Nb=0,te.D.wa=te.wa,te.D.Y=te.Y,0<te.Aa&&(te.D.Y+=Je),e(!0),te.oc=Ge,te.pc=tt,tt+=832,te.ya=u(bt,Rl),te.aa=0,te.D.ya=te.ya,te.D.aa=te.aa,te.Aa==2&&(te.D.aa+=Je),te.R=16*Je,te.B=8*Je,Je=(xt=il[te.L])*te.R,xt=xt/2*te.B,te.sa=Ge,te.ta=tt+Je,te.qa=te.sa,te.ra=te.ta+16*je*te.R+xt,te.Ha=te.qa,te.Ia=te.ra+8*je*te.B+xt,te.$c=0,tt+=Ne,te.mb=Pe?Ge:null,te.nb=Pe?tt:null,e(tt+Pe<=te.Fc+te.Vb),zl(te),s(te.Ac,te.Bc,0,Ue),je=1}}if(je){if(Se.ka=0,Se.y=te.sa,Se.O=te.ta,Se.f=te.qa,Se.N=te.ra,Se.ea=te.Ha,Se.Vd=te.Ia,Se.fa=te.R,Se.Rc=te.B,Se.F=null,Se.J=0,!Bu){for(je=-255;255>=je;++je)po[255+je]=0>je?-je:je;for(je=-1020;1020>=je;++je)zu[1020+je]=-128>je?-128:127<je?127:je;for(je=-112;112>=je;++je)Xl[112+je]=-16>je?-16:15<je?15:je;for(je=-255;510>=je;++je)Jl[255+je]=0>je?0:255<je?255:je;Bu=1}Oi=la,ds=Bl,Ui=ui,pn=Il,on=Pl,ei=ku,Rn=Ou,lr=ts,Ba=z,pa=ae,fo=Du,Vl=_,Gc=me,uf=ke,cf=Ja,df=Za,Yc=lo,Vc=$l,Qn[0]=Cu,Qn[1]=Tu,Qn[2]=Nu,Qn[3]=Fl,Qn[4]=Ni,Qn[5]=Hl,Qn[6]=Ur,Qn[7]=ao,Qn[8]=so,Qn[9]=Ci,fi[0]=ua,fi[1]=Ul,fi[2]=ql,fi[3]=ju,fi[4]=Ka,fi[5]=io,fi[6]=Rs,ga[0]=Ho,ga[1]=Lu,ga[2]=La,ga[3]=Ru,ga[4]=Or,ga[5]=$o,ga[6]=ja,je=1}else je=0}je&&(je=(function(Qt,In){for(Qt.M=0;Qt.M<Qt.Va;++Qt.M){var Gt,mt=Qt.Jc[Qt.M&Qt.Xb],ft=Qt.m,Vn=Qt;for(Gt=0;Gt<Vn.za;++Gt){var Mt=ft,Xt=Vn,wn=Xt.Ac,Lr=Xt.Bc+4*Gt,Yr=Xt.zc,On=Xt.ya[Xt.aa+Gt];if(Xt.Qa.Bb?On.$b=Ee(Mt,Xt.Pa.jb[0])?2+Ee(Mt,Xt.Pa.jb[2]):Ee(Mt,Xt.Pa.jb[1]):On.$b=0,Xt.kc&&(On.Ad=Ee(Mt,Xt.Bd)),On.Za=!Ee(Mt,145)+0,On.Za){var mr=On.Ob,ri=0;for(Xt=0;4>Xt;++Xt){var yr,Zt=Yr[0+Xt];for(yr=0;4>yr;++yr){Zt=$r[wn[Lr+yr]][Zt];for(var cn=Hu[Ee(Mt,Zt[0])];0<cn;)cn=Hu[2*cn+Ee(Mt,Zt[cn])];Zt=-cn,wn[Lr+yr]=Zt}a(mr,ri,wn,Lr,4),ri+=4,Yr[0+Xt]=Zt}}else Zt=Ee(Mt,156)?Ee(Mt,128)?1:3:Ee(Mt,163)?2:0,On.Ob[0]=Zt,s(wn,Lr,Zt,4),s(Yr,0,Zt,4);On.Dd=Ee(Mt,142)?Ee(Mt,114)?Ee(Mt,183)?1:3:2:0}if(Vn.m.Ka)return hn(Qt,7,"Premature end-of-partition0 encountered.");for(;Qt.ja<Qt.za;++Qt.ja){if(Vn=mt,Mt=(ft=Qt).rb[ft.sb-1],wn=ft.rb[ft.sb+ft.ja],Gt=ft.ya[ft.aa+ft.ja],Lr=ft.kc?Gt.Ad:0)Mt.la=wn.la=0,Gt.Za||(Mt.Na=wn.Na=0),Gt.Hc=0,Gt.Gc=0,Gt.ia=0;else{var Kn,gn;if(Mt=wn,wn=Vn,Lr=ft.Pa.Xc,Yr=ft.ya[ft.aa+ft.ja],On=ft.pb[Yr.$b],Xt=Yr.ad,mr=0,ri=ft.rb[ft.sb-1],Zt=yr=0,s(Xt,mr,0,384),Yr.Za)var jr=0,Xn=Lr[3];else{cn=o(16);var dn=Mt.Na+ri.Na;if(dn=Mi(wn,Lr[1],dn,On.Eb,0,cn,0),Mt.Na=ri.Na=(0<dn)+0,1<dn)Oi(cn,0,Xt,mr);else{var cr=cn[0]+3>>3;for(cn=0;256>cn;cn+=16)Xt[mr+cn]=cr}jr=1,Xn=Lr[0]}var xn=15&Mt.la,br=15&ri.la;for(cn=0;4>cn;++cn){var vr=1&br;for(cr=gn=0;4>cr;++cr)xn=xn>>1|(vr=(dn=Mi(wn,Xn,dn=vr+(1&xn),On.Sc,jr,Xt,mr))>jr)<<7,gn=gn<<2|(3<dn?3:1<dn?2:Xt[mr+0]!=0),mr+=16;xn>>=4,br=br>>1|vr<<7,yr=(yr<<8|gn)>>>0}for(Xn=xn,jr=br>>4,Kn=0;4>Kn;Kn+=2){for(gn=0,xn=Mt.la>>4+Kn,br=ri.la>>4+Kn,cn=0;2>cn;++cn){for(vr=1&br,cr=0;2>cr;++cr)dn=vr+(1&xn),xn=xn>>1|(vr=0<(dn=Mi(wn,Lr[2],dn,On.Qc,0,Xt,mr)))<<3,gn=gn<<2|(3<dn?3:1<dn?2:Xt[mr+0]!=0),mr+=16;xn>>=2,br=br>>1|vr<<5}Zt|=gn<<4*Kn,Xn|=xn<<4<<Kn,jr|=(240&br)<<Kn}Mt.la=Xn,ri.la=jr,Yr.Hc=yr,Yr.Gc=Zt,Yr.ia=43690&Zt?0:On.ia,Lr=!(yr|Zt)}if(0<ft.L&&(ft.wa[ft.Y+ft.ja]=ft.gd[Gt.$b][Gt.Za],ft.wa[ft.Y+ft.ja].La|=!Lr),Vn.Ka)return hn(Qt,7,"Premature end-of-file encountered.")}if(zl(Qt),ft=In,Vn=1,Gt=(mt=Qt).D,Mt=0<mt.L&&mt.M>=mt.zb&&mt.M<=mt.Va,mt.Aa==0)t:{if(Gt.M=mt.M,Gt.uc=Mt,Ri(mt,Gt),Vn=1,Gt=(gn=mt.D).Nb,Mt=(Zt=il[mt.L])*mt.R,wn=Zt/2*mt.B,cn=16*Gt*mt.R,cr=8*Gt*mt.B,Lr=mt.sa,Yr=mt.ta-Mt+cn,On=mt.qa,Xt=mt.ra-wn+cr,mr=mt.Ha,ri=mt.Ia-wn+cr,br=(xn=gn.M)==0,yr=xn>=mt.Va-1,mt.Aa==2&&Ri(mt,gn),gn.uc)for(vr=(dn=mt).D.M,e(dn.D.uc),gn=dn.yb;gn<dn.Hb;++gn){jr=gn,Xn=vr;var kn=(ln=(wr=dn).D).Nb;Kn=wr.R;var ln=ln.wa[ln.Y+jr],ii=wr.sa,er=wr.ta+16*kn*Kn+16*jr,Ct=ln.dd,Rt=ln.tc;if(Rt!=0)if(e(3<=Rt),wr.L==1)0<jr&&df(ii,er,Kn,Rt+4),ln.La&&Vc(ii,er,Kn,Rt),0<Xn&&cf(ii,er,Kn,Rt+4),ln.La&&Yc(ii,er,Kn,Rt);else{var fn=wr.B,xi=wr.qa,Ki=wr.ra+8*kn*fn+8*jr,hi=wr.Ha,wr=wr.Ia+8*kn*fn+8*jr;kn=ln.ld,0<jr&&(lr(ii,er,Kn,Rt+4,Ct,kn),pa(xi,Ki,hi,wr,fn,Rt+4,Ct,kn)),ln.La&&(Vl(ii,er,Kn,Rt,Ct,kn),uf(xi,Ki,hi,wr,fn,Rt,Ct,kn)),0<Xn&&(Rn(ii,er,Kn,Rt+4,Ct,kn),Ba(xi,Ki,hi,wr,fn,Rt+4,Ct,kn)),ln.La&&(fo(ii,er,Kn,Rt,Ct,kn),Gc(xi,Ki,hi,wr,fn,Rt,Ct,kn))}}if(mt.ia&&alert("todo:DitherRow"),ft.put!=null){if(gn=16*xn,xn=16*(xn+1),br?(ft.y=mt.sa,ft.O=mt.ta+cn,ft.f=mt.qa,ft.N=mt.ra+cr,ft.ea=mt.Ha,ft.W=mt.Ia+cr):(gn-=Zt,ft.y=Lr,ft.O=Yr,ft.f=On,ft.N=Xt,ft.ea=mr,ft.W=ri),yr||(xn-=Zt),xn>ft.o&&(xn=ft.o),ft.F=null,ft.J=null,mt.Fa!=null&&0<mt.Fa.length&&gn<xn&&(ft.J=Cn(mt,ft,gn,xn-gn),ft.F=mt.mb,ft.F==null&&ft.F.length==0)){Vn=hn(mt,3,"Could not decode alpha data.");break t}gn<ft.j&&(Zt=ft.j-gn,gn=ft.j,e(!(1&Zt)),ft.O+=mt.R*Zt,ft.N+=mt.B*(Zt>>1),ft.W+=mt.B*(Zt>>1),ft.F!=null&&(ft.J+=ft.width*Zt)),gn<xn&&(ft.O+=ft.v,ft.N+=ft.v>>1,ft.W+=ft.v>>1,ft.F!=null&&(ft.J+=ft.v),ft.ka=gn-ft.j,ft.U=ft.va-ft.v,ft.T=xn-gn,Vn=ft.put(ft))}Gt+1!=mt.Ic||yr||(a(mt.sa,mt.ta-Mt,Lr,Yr+16*mt.R,Mt),a(mt.qa,mt.ra-wn,On,Xt+8*mt.B,wn),a(mt.Ha,mt.Ia-wn,mr,ri+8*mt.B,wn))}if(!Vn)return hn(Qt,6,"Output aborted.")}return 1})(te,Se)),Se.bc!=null&&Se.bc(Se),je&=1}return je?(te.cb=0,je):0})(p,j)||(b=p.a)}}else b=p.a}b==0&&$.Oa!=null&&$.Oa.fd&&(b=Yl($.ba))}$=b}H=$!=0?null:11>H?Y.f.RGBA.eb:Y.f.kb.y}else H=null;return H};var Yu=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(q,ue){for(var B="",K=0;K<4;K++)B+=String.fromCharCode(q[ue++]);return B}function g(q,ue){return q[ue+0]|q[ue+1]<<8}function x(q,ue){return(q[ue+0]|q[ue+1]<<8|q[ue+2]<<16)>>>0}function S(q,ue){return(q[ue+0]|q[ue+1]<<8|q[ue+2]<<16|q[ue+3]<<24)>>>0}new f;var y=[0],E=[0],T=[],k=new f,N=t,D=(function(q,ue){var B={},K=0,fe=!1,se=0,le=0;if(B.frames=[],!(function(L,F){for(var X=0;X<4;X++)if(L[F+X]!="RIFF".charCodeAt(X))return!0;return!1})(q,ue)){for(S(q,ue+=4),ue+=8;ue<q.length;){var J=h(q,ue),ee=S(q,ue+=4);ue+=4;var he=ee+(1&ee);switch(J){case"VP8 ":case"VP8L":B.frames[K]===void 0&&(B.frames[K]={}),(G=B.frames[K]).src_off=fe?le:ue-8,G.src_size=se+ee+8,K++,fe&&(fe=!1,se=0,le=0);break;case"VP8X":(G=B.header={}).feature_flags=q[ue];var _e=ue+4;G.canvas_width=1+x(q,_e),_e+=3,G.canvas_height=1+x(q,_e),_e+=3;break;case"ALPH":fe=!0,se=he+8,le=ue-8;break;case"ANIM":(G=B.header).bgcolor=S(q,ue),_e=ue+4,G.loop_count=g(q,_e),_e+=2;break;case"ANMF":var ze,G;(G=B.frames[K]={}).offset_x=2*x(q,ue),ue+=3,G.offset_y=2*x(q,ue),ue+=3,G.width=1+x(q,ue),ue+=3,G.height=1+x(q,ue),ue+=3,G.duration=x(q,ue),ue+=3,ze=q[ue++],G.dispose=1&ze,G.blend=ze>>1&1}J!="ANMF"&&(ue+=he)}return B}})(N,0);D.response=N,D.rgbaoutput=!0,D.dataurl=!1;var U=D.header?D.header:null,M=D.frames?D.frames:null;if(U){U.loop_counter=U.loop_count,y=[U.canvas_height],E=[U.canvas_width];for(var re=0;re<M.length&&M[re].blend!=0;re++);}var de=M[0],oe=k.WebPDecodeRGBA(N,de.src_off,de.src_size,E,y);de.rgba=oe,de.imgwidth=E[0],de.imgheight=y[0];for(var Q=0;Q<E[0]*y[0]*4;Q++)T[Q]=oe[Q];return this.width=E,this.height=y,this.data=T,this}function fk(){var t,e=this.internal.__metadata__.metadata,n=unescape(encodeURIComponent(e));t=this.internal.__metadata__.rawXml?n:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+t.length+" >>"),this.internal.write("stream"),this.internal.write(t),this.internal.write("endstream"),this.internal.write("endobj")}function hk(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(t){var e,n,a,s,o,u,d,f,h,g=function(L){return L=L||{},this.isStrokeTransparent=L.isStrokeTransparent||!1,this.strokeOpacity=L.strokeOpacity||1,this.strokeStyle=L.strokeStyle||"#000000",this.fillStyle=L.fillStyle||"#000000",this.isFillTransparent=L.isFillTransparent||!1,this.fillOpacity=L.fillOpacity||1,this.font=L.font||"10px sans-serif",this.textBaseline=L.textBaseline||"alphabetic",this.textAlign=L.textAlign||"left",this.lineWidth=L.lineWidth||1,this.lineJoin=L.lineJoin||"miter",this.lineCap=L.lineCap||"butt",this.path=L.path||[],this.transform=L.transform!==void 0?L.transform.clone():new f,this.globalCompositeOperation=L.globalCompositeOperation||"normal",this.globalAlpha=L.globalAlpha||1,this.clip_path=L.clip_path||[],this.currentPoint=L.currentPoint||new u,this.miterLimit=L.miterLimit||10,this.lastPoint=L.lastPoint||new u,this.lineDashOffset=L.lineDashOffset||0,this.lineDash=L.lineDash||[],this.margin=L.margin||[0,0,0,0],this.prevPageLastElemOffset=L.prevPageLastElemOffset||0,this.ignoreClearRect=typeof L.ignoreClearRect!="boolean"||L.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new x(this),e=this.internal.f2,n=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,u=this.internal.Point,d=this.internal.Rectangle,f=this.internal.Matrix,h=new g}]);var x=function(L){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var F=L;Object.defineProperty(this,"pdf",{get:function(){return F}});var X=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return X},set:function(P){X=!!P}});var ie=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ie},set:function(P){ie=!!P}});var R=0;Object.defineProperty(this,"posX",{get:function(){return R},set:function(P){isNaN(P)||(R=P)}});var V=0;Object.defineProperty(this,"posY",{get:function(){return V},set:function(P){isNaN(P)||(V=P)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(P){var ye;typeof P=="number"?ye=[P,P,P,P]:((ye=new Array(4))[0]=P[0],ye[1]=P.length>=2?P[1]:ye[0],ye[2]=P.length>=3?P[2]:ye[0],ye[3]=P.length>=4?P[3]:ye[1]),h.margin=ye}});var pe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return pe},set:function(P){pe=P}});var ve=0;Object.defineProperty(this,"lastBreak",{get:function(){return ve},set:function(P){ve=P}});var Ee=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ee},set:function(P){Ee=P}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(P){P instanceof g&&(h=P)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(P){h.path=P}});var qe=[];Object.defineProperty(this,"ctxStack",{get:function(){return qe},set:function(P){qe=P}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(P){var ye;ye=S(P),this.ctx.fillStyle=ye.style,this.ctx.isFillTransparent=ye.a===0,this.ctx.fillOpacity=ye.a,this.pdf.setFillColor(ye.r,ye.g,ye.b,{a:ye.a}),this.pdf.setTextColor(ye.r,ye.g,ye.b,{a:ye.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(P){var ye=S(P);this.ctx.strokeStyle=ye.style,this.ctx.isStrokeTransparent=ye.a===0,this.ctx.strokeOpacity=ye.a,ye.a===0?this.pdf.setDrawColor(255,255,255):(ye.a,this.pdf.setDrawColor(ye.r,ye.g,ye.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(P){["butt","round","square"].indexOf(P)!==-1&&(this.ctx.lineCap=P,this.pdf.setLineCap(P))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(P){isNaN(P)||(this.ctx.lineWidth=P,this.pdf.setLineWidth(P))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(P){["bevel","round","miter"].indexOf(P)!==-1&&(this.ctx.lineJoin=P,this.pdf.setLineJoin(P))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(P){isNaN(P)||(this.ctx.miterLimit=P,this.pdf.setMiterLimit(P))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(P){this.ctx.textBaseline=P}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(P){["right","end","center","left","start"].indexOf(P)!==-1&&(this.ctx.textAlign=P)}});var et=null,Re=null,Ae=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ae},set:function(P){et=null,Re=null,Ae=P}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(P){var ye;if(this.ctx.font=P,(ye=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(P))!==null){var Ye=ye[1];ye[2];var Be=ye[3],Le=ye[4];ye[5];var ce=ye[6],be=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Le)[2];Le=Math.floor(be==="px"?parseFloat(Le)*this.pdf.internal.scaleFactor:be==="em"?parseFloat(Le)*this.pdf.getFontSize():parseFloat(Le)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Le);var He=(function(lt){var qt,rt,it=[],st=lt.trim();if(st==="")return u1;if(st in Cy)return[Cy[st]];for(;st!=="";){switch(rt=null,qt=(st=Oy(st)).charAt(0)){case'"':case"'":rt=sk(st.substring(1),qt);break;default:rt=ok(st)}if(rt===null||(it.push(rt[0]),(st=Oy(rt[1]))!==""&&st.charAt(0)!==","))return u1;st=st.replace(/^,/,"")}return it})(ce);if(this.fontFaces){var Ve=(function(lt,qt){var rt=lt.getFontList(),it=JSON.stringify(rt);if(et===null||Re!==it){var st=(function(ct){var yt=[];return Object.keys(ct).forEach(function($t){ct[$t].forEach(function(Et){var St=null;switch(Et){case"bold":St={family:$t,weight:"bold"};break;case"italic":St={family:$t,style:"italic"};break;case"bolditalic":St={family:$t,weight:"bold",style:"italic"};break;case"":case"normal":St={family:$t}}St!==null&&(St.ref={name:$t,style:Et},yt.push(St))})}),yt})(rt);et=(function(ct){for(var yt={},$t=0;$t<ct.length;++$t){var Et=l1(ct[$t]),St=Et.family,Kt=Et.stretch,kt=Et.style,dt=Et.weight;yt[St]=yt[St]||{},yt[St][Kt]=yt[St][Kt]||{},yt[St][Kt][kt]=yt[St][Kt][kt]||{},yt[St][Kt][kt][dt]=Et}return yt})(st.concat(qt)),Re=it}return et})(this.pdf,this.fontFaces),Qe=He.map(function(lt){return{family:lt,stretch:"normal",weight:Be,style:Ye}}),at=(function(lt,qt,rt){for(var it=(rt=rt||{}).defaultFontFamily||"times",st=Object.assign({},ak,rt.genericFontFamilies||{}),ct=null,yt=null,$t=0;$t<qt.length;++$t)if(st[(ct=l1(qt[$t])).family]&&(ct.family=st[ct.family]),lt.hasOwnProperty(ct.family)){yt=lt[ct.family];break}if(!(yt=yt||lt[it]))throw new Error("Could not find a font-family for the rule '"+Ry(ct)+"' and default family '"+it+"'.");if(yt=(function(Et,St){if(St[Et])return St[Et];var Kt=F1[Et],kt=Kt<=F1.normal?-1:1,dt=Ny(St,ow,Kt,kt);if(!dt)throw new Error("Could not find a matching font-stretch value for "+Et);return dt})(ct.stretch,yt),yt=(function(Et,St){if(St[Et])return St[Et];for(var Kt=sw[Et],kt=0;kt<Kt.length;++kt)if(St[Kt[kt]])return St[Kt[kt]];throw new Error("Could not find a matching font-style for "+Et)})(ct.style,yt),!(yt=(function(Et,St){if(St[Et])return St[Et];if(Et===400&&St[500])return St[500];if(Et===500&&St[400])return St[400];var Kt=ik[Et],kt=Ny(St,lw,Kt,Et<400?-1:1);if(!kt)throw new Error("Could not find a matching font-weight for value "+Et);return kt})(ct.weight,yt)))throw new Error("Failed to resolve a font for the rule '"+Ry(ct)+"'.");return yt})(Ve,Qe);this.pdf.setFont(at.ref.name,at.ref.style)}else{var ut="";(Be==="bold"||parseInt(Be,10)>=700||Ye==="bold")&&(ut="bold"),Ye==="italic"&&(ut+="italic"),ut.length===0&&(ut="normal");for(var nt="",pt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},$e=0;$e<He.length;$e++){if(this.pdf.internal.getFont(He[$e],ut,{noFallback:!0,disableWarning:!0})!==void 0){nt=He[$e];break}if(ut==="bolditalic"&&this.pdf.internal.getFont(He[$e],"bold",{noFallback:!0,disableWarning:!0})!==void 0)nt=He[$e],ut="bold";else if(this.pdf.internal.getFont(He[$e],"normal",{noFallback:!0,disableWarning:!0})!==void 0){nt=He[$e],ut="normal";break}}if(nt===""){for(var ot=0;ot<He.length;ot++)if(pt[He[ot]]){nt=pt[He[ot]];break}}nt=nt===""?"Times":nt,this.pdf.setFont(nt,ut)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(P){this.ctx.globalCompositeOperation=P}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(P){this.ctx.globalAlpha=P}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(P){this.ctx.lineDashOffset=P,G.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(P){this.ctx.lineDash=P,G.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(P){this.ctx.ignoreClearRect=!!P}})};x.prototype.setLineDash=function(L){this.lineDash=L},x.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},x.prototype.fill=function(){M.call(this,"fill",!1)},x.prototype.stroke=function(){M.call(this,"stroke",!1)},x.prototype.beginPath=function(){this.path=[{type:"begin"}]},x.prototype.moveTo=function(L,F){if(isNaN(L)||isNaN(F))throw Un.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var X=this.ctx.transform.applyToPoint(new u(L,F));this.path.push({type:"mt",x:X.x,y:X.y}),this.ctx.lastPoint=new u(L,F)},x.prototype.closePath=function(){var L=new u(0,0),F=0;for(F=this.path.length-1;F!==-1;F--)if(this.path[F].type==="begin"&&jn(this.path[F+1])==="object"&&typeof this.path[F+1].x=="number"){L=new u(this.path[F+1].x,this.path[F+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new u(L.x,L.y)},x.prototype.lineTo=function(L,F){if(isNaN(L)||isNaN(F))throw Un.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var X=this.ctx.transform.applyToPoint(new u(L,F));this.path.push({type:"lt",x:X.x,y:X.y}),this.ctx.lastPoint=new u(X.x,X.y)},x.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),M.call(this,null,!0)},x.prototype.quadraticCurveTo=function(L,F,X,ie){if(isNaN(X)||isNaN(ie)||isNaN(L)||isNaN(F))throw Un.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var R=this.ctx.transform.applyToPoint(new u(X,ie)),V=this.ctx.transform.applyToPoint(new u(L,F));this.path.push({type:"qct",x1:V.x,y1:V.y,x:R.x,y:R.y}),this.ctx.lastPoint=new u(R.x,R.y)},x.prototype.bezierCurveTo=function(L,F,X,ie,R,V){if(isNaN(R)||isNaN(V)||isNaN(L)||isNaN(F)||isNaN(X)||isNaN(ie))throw Un.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var pe=this.ctx.transform.applyToPoint(new u(R,V)),ve=this.ctx.transform.applyToPoint(new u(L,F)),Ee=this.ctx.transform.applyToPoint(new u(X,ie));this.path.push({type:"bct",x1:ve.x,y1:ve.y,x2:Ee.x,y2:Ee.y,x:pe.x,y:pe.y}),this.ctx.lastPoint=new u(pe.x,pe.y)},x.prototype.arc=function(L,F,X,ie,R,V){if(isNaN(L)||isNaN(F)||isNaN(X)||isNaN(ie)||isNaN(R))throw Un.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(V=!!V,!this.ctx.transform.isIdentity){var pe=this.ctx.transform.applyToPoint(new u(L,F));L=pe.x,F=pe.y;var ve=this.ctx.transform.applyToPoint(new u(0,X)),Ee=this.ctx.transform.applyToPoint(new u(0,0));X=Math.sqrt(Math.pow(ve.x-Ee.x,2)+Math.pow(ve.y-Ee.y,2))}Math.abs(R-ie)>=2*Math.PI&&(ie=0,R=2*Math.PI),this.path.push({type:"arc",x:L,y:F,radius:X,startAngle:ie,endAngle:R,counterclockwise:V})},x.prototype.arcTo=function(L,F,X,ie,R){throw new Error("arcTo not implemented.")},x.prototype.rect=function(L,F,X,ie){if(isNaN(L)||isNaN(F)||isNaN(X)||isNaN(ie))throw Un.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(L,F),this.lineTo(L+X,F),this.lineTo(L+X,F+ie),this.lineTo(L,F+ie),this.lineTo(L,F),this.lineTo(L+X,F),this.lineTo(L,F)},x.prototype.fillRect=function(L,F,X,ie){if(isNaN(L)||isNaN(F)||isNaN(X)||isNaN(ie))throw Un.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!y.call(this)){var R={};this.lineCap!=="butt"&&(R.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(R.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(L,F,X,ie),this.fill(),R.hasOwnProperty("lineCap")&&(this.lineCap=R.lineCap),R.hasOwnProperty("lineJoin")&&(this.lineJoin=R.lineJoin)}},x.prototype.strokeRect=function(L,F,X,ie){if(isNaN(L)||isNaN(F)||isNaN(X)||isNaN(ie))throw Un.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");E.call(this)||(this.beginPath(),this.rect(L,F,X,ie),this.stroke())},x.prototype.clearRect=function(L,F,X,ie){if(isNaN(L)||isNaN(F)||isNaN(X)||isNaN(ie))throw Un.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(L,F,X,ie))},x.prototype.save=function(L){L=typeof L!="boolean"||L;for(var F=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("q");if(this.pdf.setPage(F),L){this.ctx.fontSize=this.pdf.internal.getFontSize();var ie=new g(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ie}},x.prototype.restore=function(L){L=typeof L!="boolean"||L;for(var F=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("Q");this.pdf.setPage(F),L&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},x.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var S=function(L){var F,X,ie,R;if(L.isCanvasGradient===!0&&(L=L.getColor()),!L)return{r:0,g:0,b:0,a:0,style:L};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(L))F=0,X=0,ie=0,R=0;else{var V=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(L);if(V!==null)F=parseInt(V[1]),X=parseInt(V[2]),ie=parseInt(V[3]),R=1;else if((V=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(L))!==null)F=parseInt(V[1]),X=parseInt(V[2]),ie=parseInt(V[3]),R=parseFloat(V[4]);else{if(R=1,typeof L=="string"&&L.charAt(0)!=="#"){var pe=new Qv(L);L=pe.ok?pe.toHex():"#000000"}L.length===4?(F=L.substring(1,2),F+=F,X=L.substring(2,3),X+=X,ie=L.substring(3,4),ie+=ie):(F=L.substring(1,3),X=L.substring(3,5),ie=L.substring(5,7)),F=parseInt(F,16),X=parseInt(X,16),ie=parseInt(ie,16)}}return{r:F,g:X,b:ie,a:R,style:L}},y=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},E=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};x.prototype.fillText=function(L,F,X,ie){if(isNaN(F)||isNaN(X)||typeof L!="string")throw Un.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ie=isNaN(ie)?void 0:ie,!y.call(this)){var R=he(this.ctx.transform.rotation),V=this.ctx.transform.scaleX;K.call(this,{text:L,x:F,y:X,scale:V,angle:R,align:this.textAlign,maxWidth:ie})}},x.prototype.strokeText=function(L,F,X,ie){if(isNaN(F)||isNaN(X)||typeof L!="string")throw Un.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!E.call(this)){ie=isNaN(ie)?void 0:ie;var R=he(this.ctx.transform.rotation),V=this.ctx.transform.scaleX;K.call(this,{text:L,x:F,y:X,scale:V,renderingMode:"stroke",angle:R,align:this.textAlign,maxWidth:ie})}},x.prototype.measureText=function(L){if(typeof L!="string")throw Un.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var F=this.pdf,X=this.pdf.internal.scaleFactor,ie=F.internal.getFontSize(),R=F.getStringUnitWidth(L)*ie/F.internal.scaleFactor;return new function(V){var pe=(V=V||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return pe}}),this}({width:R*=Math.round(96*X/72*1e4)/1e4})},x.prototype.scale=function(L,F){if(isNaN(L)||isNaN(F))throw Un.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var X=new f(L,0,0,F,0,0);this.ctx.transform=this.ctx.transform.multiply(X)},x.prototype.rotate=function(L){if(isNaN(L))throw Un.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var F=new f(Math.cos(L),Math.sin(L),-Math.sin(L),Math.cos(L),0,0);this.ctx.transform=this.ctx.transform.multiply(F)},x.prototype.translate=function(L,F){if(isNaN(L)||isNaN(F))throw Un.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var X=new f(1,0,0,1,L,F);this.ctx.transform=this.ctx.transform.multiply(X)},x.prototype.transform=function(L,F,X,ie,R,V){if(isNaN(L)||isNaN(F)||isNaN(X)||isNaN(ie)||isNaN(R)||isNaN(V))throw Un.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var pe=new f(L,F,X,ie,R,V);this.ctx.transform=this.ctx.transform.multiply(pe)},x.prototype.setTransform=function(L,F,X,ie,R,V){L=isNaN(L)?1:L,F=isNaN(F)?0:F,X=isNaN(X)?0:X,ie=isNaN(ie)?1:ie,R=isNaN(R)?0:R,V=isNaN(V)?0:V,this.ctx.transform=new f(L,F,X,ie,R,V)};var T=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};x.prototype.drawImage=function(L,F,X,ie,R,V,pe,ve,Ee){var qe=this.pdf.getImageProperties(L),et=1,Re=1,Ae=1,P=1;ie!==void 0&&ve!==void 0&&(Ae=ve/ie,P=Ee/R,et=qe.width/ie*ve/ie,Re=qe.height/R*Ee/R),V===void 0&&(V=F,pe=X,F=0,X=0),ie!==void 0&&ve===void 0&&(ve=ie,Ee=R),ie===void 0&&ve===void 0&&(ve=qe.width,Ee=qe.height);var ye=this.ctx.transform.decompose(),Ye=he(ye.rotate.shx),Be=new f,Le=(Be=(Be=(Be=Be.multiply(ye.translate)).multiply(ye.skew)).multiply(ye.scale)).applyToRectangle(new d(V-F*Ae,pe-X*P,ie*et,R*Re));if(this.autoPaging){for(var ce,be=k.call(this,Le),He=[],Ve=0;Ve<be.length;Ve+=1)He.indexOf(be[Ve])===-1&&He.push(be[Ve]);U(He);for(var Qe=He[0],at=He[He.length-1],ut=Qe;ut<at+1;ut++){this.pdf.setPage(ut);var nt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],pt=ut===1?this.posY+this.margin[0]:this.margin[0],$e=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ot=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],lt=ut===1?0:$e+(ut-2)*ot;if(this.ctx.clip_path.length!==0){var qt=this.path;ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(ce,this.posX+this.margin[3],-lt+pt+this.ctx.prevPageLastElemOffset),re.call(this,"fill",!0),this.path=qt}var rt=JSON.parse(JSON.stringify(Le));rt=D([rt],this.posX+this.margin[3],-lt+pt+this.ctx.prevPageLastElemOffset)[0];var it=(ut>Qe||ut<at)&&T.call(this);it&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],nt,ot,null).clip().discardPath()),this.pdf.addImage(L,"JPEG",rt.x,rt.y,rt.w,rt.h,null,null,Ye),it&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(L,"JPEG",Le.x,Le.y,Le.w,Le.h,null,null,Ye)};var k=function(L,F,X){var ie=[];F=F||this.pdf.internal.pageSize.width,X=X||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var R=this.posY+this.ctx.prevPageLastElemOffset;switch(L.type){default:case"mt":case"lt":ie.push(Math.floor((L.y+R)/X)+1);break;case"arc":ie.push(Math.floor((L.y+R-L.radius)/X)+1),ie.push(Math.floor((L.y+R+L.radius)/X)+1);break;case"qct":var V=_e(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x,L.y);ie.push(Math.floor((V.y+R)/X)+1),ie.push(Math.floor((V.y+V.h+R)/X)+1);break;case"bct":var pe=ze(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x2,L.y2,L.x,L.y);ie.push(Math.floor((pe.y+R)/X)+1),ie.push(Math.floor((pe.y+pe.h+R)/X)+1);break;case"rect":ie.push(Math.floor((L.y+R)/X)+1),ie.push(Math.floor((L.y+L.h+R)/X)+1)}for(var ve=0;ve<ie.length;ve+=1)for(;this.pdf.internal.getNumberOfPages()<ie[ve];)N.call(this);return ie},N=function(){var L=this.fillStyle,F=this.strokeStyle,X=this.font,ie=this.lineCap,R=this.lineWidth,V=this.lineJoin;this.pdf.addPage(),this.fillStyle=L,this.strokeStyle=F,this.font=X,this.lineCap=ie,this.lineWidth=R,this.lineJoin=V},D=function(L,F,X){for(var ie=0;ie<L.length;ie++)switch(L[ie].type){case"bct":L[ie].x2+=F,L[ie].y2+=X;case"qct":L[ie].x1+=F,L[ie].y1+=X;default:L[ie].x+=F,L[ie].y+=X}return L},U=function(L){return L.sort(function(F,X){return F-X})},M=function(L,F){var X=this.fillStyle,ie=this.strokeStyle,R=this.lineCap,V=this.lineWidth,pe=Math.abs(V*this.ctx.transform.scaleX),ve=this.lineJoin;if(this.autoPaging){for(var Ee,qe,et=JSON.parse(JSON.stringify(this.path)),Re=JSON.parse(JSON.stringify(this.path)),Ae=[],P=0;P<Re.length;P++)if(Re[P].x!==void 0)for(var ye=k.call(this,Re[P]),Ye=0;Ye<ye.length;Ye+=1)Ae.indexOf(ye[Ye])===-1&&Ae.push(ye[Ye]);for(var Be=0;Be<Ae.length;Be++)for(;this.pdf.internal.getNumberOfPages()<Ae[Be];)N.call(this);U(Ae);for(var Le=Ae[0],ce=Ae[Ae.length-1],be=Le;be<ce+1;be++){this.pdf.setPage(be),this.fillStyle=X,this.strokeStyle=ie,this.lineCap=R,this.lineWidth=pe,this.lineJoin=ve;var He=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ve=be===1?this.posY+this.margin[0]:this.margin[0],Qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],at=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ut=be===1?0:Qe+(be-2)*at;if(this.ctx.clip_path.length!==0){var nt=this.path;Ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(Ee,this.posX+this.margin[3],-ut+Ve+this.ctx.prevPageLastElemOffset),re.call(this,L,!0),this.path=nt}if(qe=JSON.parse(JSON.stringify(et)),this.path=D(qe,this.posX+this.margin[3],-ut+Ve+this.ctx.prevPageLastElemOffset),F===!1||be===0){var pt=(be>Le||be<ce)&&T.call(this);pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],He,at,null).clip().discardPath()),re.call(this,L,F),pt&&this.pdf.restoreGraphicsState()}this.lineWidth=V}this.path=et}else this.lineWidth=pe,re.call(this,L,F),this.lineWidth=V},re=function(L,F){if((L!=="stroke"||F||!E.call(this))&&(L==="stroke"||F||!y.call(this))){for(var X,ie,R=[],V=this.path,pe=0;pe<V.length;pe++){var ve=V[pe];switch(ve.type){case"begin":R.push({begin:!0});break;case"close":R.push({close:!0});break;case"mt":R.push({start:ve,deltas:[],abs:[]});break;case"lt":var Ee=R.length;if(V[pe-1]&&!isNaN(V[pe-1].x)&&(X=[ve.x-V[pe-1].x,ve.y-V[pe-1].y],Ee>0)){for(;Ee>=0;Ee--)if(R[Ee-1].close!==!0&&R[Ee-1].begin!==!0){R[Ee-1].deltas.push(X),R[Ee-1].abs.push(ve);break}}break;case"bct":X=[ve.x1-V[pe-1].x,ve.y1-V[pe-1].y,ve.x2-V[pe-1].x,ve.y2-V[pe-1].y,ve.x-V[pe-1].x,ve.y-V[pe-1].y],R[R.length-1].deltas.push(X);break;case"qct":var qe=V[pe-1].x+2/3*(ve.x1-V[pe-1].x),et=V[pe-1].y+2/3*(ve.y1-V[pe-1].y),Re=ve.x+2/3*(ve.x1-ve.x),Ae=ve.y+2/3*(ve.y1-ve.y),P=ve.x,ye=ve.y;X=[qe-V[pe-1].x,et-V[pe-1].y,Re-V[pe-1].x,Ae-V[pe-1].y,P-V[pe-1].x,ye-V[pe-1].y],R[R.length-1].deltas.push(X);break;case"arc":R.push({deltas:[],abs:[],arc:!0}),Array.isArray(R[R.length-1].abs)&&R[R.length-1].abs.push(ve)}}ie=F?null:L==="stroke"?"stroke":"fill";for(var Ye=!1,Be=0;Be<R.length;Be++)if(R[Be].arc)for(var Le=R[Be].abs,ce=0;ce<Le.length;ce++){var be=Le[ce];be.type==="arc"?Q.call(this,be.x,be.y,be.radius,be.startAngle,be.endAngle,be.counterclockwise,void 0,F,!Ye):fe.call(this,be.x,be.y),Ye=!0}else if(R[Be].close===!0)this.pdf.internal.out("h"),Ye=!1;else if(R[Be].begin!==!0){var He=R[Be].start.x,Ve=R[Be].start.y;se.call(this,R[Be].deltas,He,Ve),Ye=!0}ie&&q.call(this,ie),F&&ue.call(this)}},de=function(L){var F=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,X=F*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return L-X;case"top":return L+F-X;case"hanging":return L+F-2*X;case"middle":return L+F/2-X;default:return L}},oe=function(L){return L+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};x.prototype.createLinearGradient=function(){var L=function(){};return L.colorStops=[],L.addColorStop=function(F,X){this.colorStops.push([F,X])},L.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},L.isCanvasGradient=!0,L},x.prototype.createPattern=function(){return this.createLinearGradient()},x.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Q=function(L,F,X,ie,R,V,pe,ve,Ee){for(var qe=J.call(this,X,ie,R,V),et=0;et<qe.length;et++){var Re=qe[et];et===0&&(Ee?B.call(this,Re.x1+L,Re.y1+F):fe.call(this,Re.x1+L,Re.y1+F)),le.call(this,L,F,Re.x2,Re.y2,Re.x3,Re.y3,Re.x4,Re.y4)}ve?ue.call(this):q.call(this,pe)},q=function(L){switch(L){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ue=function(){this.pdf.clip(),this.pdf.discardPath()},B=function(L,F){this.pdf.internal.out(n(L)+" "+a(F)+" m")},K=function(L){var F;switch(L.align){case"right":case"end":F="right";break;case"center":F="center";break;default:F="left"}var X,ie,R,V=this.pdf.getTextDimensions(L.text),pe=de.call(this,L.y),ve=oe.call(this,pe)-V.h,Ee=this.ctx.transform.applyToPoint(new u(L.x,pe));if(this.autoPaging){var qe=this.ctx.transform.decompose(),et=new f;et=(et=(et=et.multiply(qe.translate)).multiply(qe.skew)).multiply(qe.scale);for(var Re=this.ctx.transform.applyToRectangle(new d(L.x,pe,V.w,V.h)),Ae=et.applyToRectangle(new d(L.x,ve,V.w,V.h)),P=k.call(this,Ae),ye=[],Ye=0;Ye<P.length;Ye+=1)ye.indexOf(P[Ye])===-1&&ye.push(P[Ye]);U(ye);for(var Be=ye[0],Le=ye[ye.length-1],ce=Be;ce<Le+1;ce++){this.pdf.setPage(ce);var be=ce===1?this.posY+this.margin[0]:this.margin[0],He=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ve=this.pdf.internal.pageSize.height-this.margin[2],Qe=Ve-this.margin[0],at=this.pdf.internal.pageSize.width-this.margin[1],ut=at-this.margin[3],nt=ce===1?0:He+(ce-2)*Qe;if(this.ctx.clip_path.length!==0){var pt=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(X,this.posX+this.margin[3],-1*nt+be),re.call(this,"fill",!0),this.path=pt}var $e=D([JSON.parse(JSON.stringify(Ae))],this.posX+this.margin[3],-nt+be+this.ctx.prevPageLastElemOffset)[0];L.scale>=.01&&(ie=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ie*L.scale),R=this.lineWidth,this.lineWidth=R*L.scale);var ot=this.autoPaging!=="text";if(ot||$e.y+$e.h<=Ve){if(ot||$e.y>=be&&$e.x<=at){var lt=ot?L.text:this.pdf.splitTextToSize(L.text,L.maxWidth||at-$e.x)[0],qt=D([JSON.parse(JSON.stringify(Re))],this.posX+this.margin[3],-nt+be+this.ctx.prevPageLastElemOffset)[0],rt=ot&&(ce>Be||ce<Le)&&T.call(this);rt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ut,Qe,null).clip().discardPath()),this.pdf.text(lt,qt.x,qt.y,{angle:L.angle,align:F,renderingMode:L.renderingMode}),rt&&this.pdf.restoreGraphicsState()}}else $e.y<Ve&&(this.ctx.prevPageLastElemOffset+=Ve-$e.y);L.scale>=.01&&(this.pdf.setFontSize(ie),this.lineWidth=R)}}else L.scale>=.01&&(ie=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ie*L.scale),R=this.lineWidth,this.lineWidth=R*L.scale),this.pdf.text(L.text,Ee.x+this.posX,Ee.y+this.posY,{angle:L.angle,align:F,renderingMode:L.renderingMode,maxWidth:L.maxWidth}),L.scale>=.01&&(this.pdf.setFontSize(ie),this.lineWidth=R)},fe=function(L,F,X,ie){X=X||0,ie=ie||0,this.pdf.internal.out(n(L+X)+" "+a(F+ie)+" l")},se=function(L,F,X){return this.pdf.lines(L,F,X,null,null)},le=function(L,F,X,ie,R,V,pe,ve){this.pdf.internal.out([e(s(X+L)),e(o(ie+F)),e(s(R+L)),e(o(V+F)),e(s(pe+L)),e(o(ve+F)),"c"].join(" "))},J=function(L,F,X,ie){for(var R=2*Math.PI,V=Math.PI/2;F>X;)F-=R;var pe=Math.abs(X-F);pe<R&&ie&&(pe=R-pe);for(var ve=[],Ee=ie?-1:1,qe=F;pe>1e-5;){var et=qe+Ee*Math.min(pe,V);ve.push(ee.call(this,L,qe,et)),pe-=Math.abs(et-qe),qe=et}return ve},ee=function(L,F,X){var ie=(X-F)/2,R=L*Math.cos(ie),V=L*Math.sin(ie),pe=R,ve=-V,Ee=pe*pe+ve*ve,qe=Ee+pe*R+ve*V,et=4/3*(Math.sqrt(2*Ee*qe)-qe)/(pe*V-ve*R),Re=pe-et*ve,Ae=ve+et*pe,P=Re,ye=-Ae,Ye=ie+F,Be=Math.cos(Ye),Le=Math.sin(Ye);return{x1:L*Math.cos(F),y1:L*Math.sin(F),x2:Re*Be-Ae*Le,y2:Re*Le+Ae*Be,x3:P*Be-ye*Le,y3:P*Le+ye*Be,x4:L*Math.cos(X),y4:L*Math.sin(X)}},he=function(L){return 180*L/Math.PI},_e=function(L,F,X,ie,R,V){var pe=L+.5*(X-L),ve=F+.5*(ie-F),Ee=R+.5*(X-R),qe=V+.5*(ie-V),et=Math.min(L,R,pe,Ee),Re=Math.max(L,R,pe,Ee),Ae=Math.min(F,V,ve,qe),P=Math.max(F,V,ve,qe);return new d(et,Ae,Re-et,P-Ae)},ze=function(L,F,X,ie,R,V,pe,ve){var Ee,qe,et,Re,Ae,P,ye,Ye,Be,Le,ce,be,He,Ve,Qe=X-L,at=ie-F,ut=R-X,nt=V-ie,pt=pe-R,$e=ve-V;for(qe=0;qe<41;qe++)Be=(ye=(et=L+(Ee=qe/40)*Qe)+Ee*((Ae=X+Ee*ut)-et))+Ee*(Ae+Ee*(R+Ee*pt-Ae)-ye),Le=(Ye=(Re=F+Ee*at)+Ee*((P=ie+Ee*nt)-Re))+Ee*(P+Ee*(V+Ee*$e-P)-Ye),qe==0?(ce=Be,be=Le,He=Be,Ve=Le):(ce=Math.min(ce,Be),be=Math.min(be,Le),He=Math.max(He,Be),Ve=Math.max(Ve,Le));return new d(Math.round(ce),Math.round(be),Math.round(He-ce),Math.round(Ve-be))},G=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var L,F,X=(L=this.ctx.lineDash,F=this.ctx.lineDashOffset,JSON.stringify({lineDash:L,lineDashOffset:F}));this.prevLineDash!==X&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=X)}}})(Nt.API),(function(t){var e=function(u){var d,f,h,g,x,S,y,E,T,k;for(f=[],h=0,g=(u+=d="\0\0\0\0".slice(u.length%4||4)).length;g>h;h+=4)(x=(u.charCodeAt(h)<<24)+(u.charCodeAt(h+1)<<16)+(u.charCodeAt(h+2)<<8)+u.charCodeAt(h+3))!==0?(S=(x=((x=((x=((x=(x-(k=x%85))/85)-(T=x%85))/85)-(E=x%85))/85)-(y=x%85))/85)%85,f.push(S+33,y+33,E+33,T+33,k+33)):f.push(122);return(function(N,D){for(var U=D;U>0;U--)N.pop()})(f,d.length),String.fromCharCode.apply(String,f)+"~>"},n=function(u){var d,f,h,g,x,S=String,y="length",E=255,T="charCodeAt",k="slice",N="replace";for(u[k](-2),u=u[k](0,-2)[N](/\s/g,"")[N]("z","!!!!!"),h=[],g=0,x=(u+=d="uuuuu"[k](u[y]%5||5))[y];x>g;g+=5)f=52200625*(u[T](g)-33)+614125*(u[T](g+1)-33)+7225*(u[T](g+2)-33)+85*(u[T](g+3)-33)+(u[T](g+4)-33),h.push(E&f>>24,E&f>>16,E&f>>8,E&f);return(function(D,U){for(var M=U;M>0;M--)D.pop()})(h,d[y]),S.fromCharCode.apply(S,h)},a=function(u){return u.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(u){var d=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((u=u.replace(/\s/g,"")).indexOf(">")!==-1&&(u=u.substr(0,u.indexOf(">"))),u.length%2&&(u+="0"),d.test(u)===!1)return"";for(var f="",h=0;h<u.length;h+=2)f+=String.fromCharCode("0x"+(u[h]+u[h+1]));return f},o=function(u){for(var d=new Uint8Array(u.length),f=u.length;f--;)d[f]=u.charCodeAt(f);return(d=M1(d)).reduce(function(h,g){return h+String.fromCharCode(g)},"")};t.processDataByFilters=function(u,d){var f=0,h=u||"",g=[];for(typeof(d=d||[])=="string"&&(d=[d]),f=0;f<d.length;f+=1)switch(d[f]){case"ASCII85Decode":case"/ASCII85Decode":h=n(h),g.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=e(h),g.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=s(h),g.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=a(h),g.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=o(h),g.push("/FlateDecode");break;default:throw new Error('The filter: "'+d[f]+'" is not implemented')}return{data:h,reverseChain:g.reverse().join(" ")}}})(Nt.API),(function(t){t.loadFile=function(e,n,a){return(function(s,o,u){o=o!==!1,u=typeof u=="function"?u:function(){};var d=void 0;try{d=(function(f,h,g){var x=new XMLHttpRequest,S=0,y=function(E){var T=E.length,k=[],N=String.fromCharCode;for(S=0;S<T;S+=1)k.push(N(255&E.charCodeAt(S)));return k.join("")};if(x.open("GET",f,!h),x.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(x.onload=function(){x.status===200?g(y(this.responseText)):g(void 0)}),x.send(null),h&&x.status===200)return y(x.responseText)})(s,o,u)}catch{}return d})(e,n,a)},t.allowFsRead=void 0,t.loadImageFile=t.loadFile})(Nt.API),(function(t){function e(){return(Ht.html2canvas?Promise.resolve(Ht.html2canvas):$p(()=>import("./html2canvas.esm-DXEQVQnt.js"),[])).catch(function(d){return Promise.reject(new Error("Could not load html2canvas: "+d))}).then(function(d){return d.default?d.default:d})}function n(){return(Ht.DOMPurify?Promise.resolve(Ht.DOMPurify):$p(()=>import("./purify.es-Bzr520pe.js"),[])).catch(function(d){return Promise.reject(new Error("Could not load dompurify: "+d))}).then(function(d){return d.default?d.default:d})}var a=function(d){var f=jn(d);return f==="undefined"?"undefined":f==="string"||d instanceof String?"string":f==="number"||d instanceof Number?"number":f==="function"||d instanceof Function?"function":d&&d.constructor===Array?"array":d&&d.nodeType===1?"element":f==="object"?"object":"unknown"},s=function(d,f){var h=document.createElement(d);for(var g in f.className&&(h.className=f.className),f.innerHTML&&f.dompurify&&(h.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)h.style[g]=f.style[g];return h},o=function d(f,h){for(var g=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),x=f.firstChild;x;x=x.nextSibling)h!==!0&&x.nodeType===1&&x.nodeName==="SCRIPT"||g.appendChild(d(x,h));return f.nodeType===1&&(f.nodeName==="CANVAS"?(g.width=f.width,g.height=f.height,g.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(g.value=f.value),g.addEventListener("load",function(){g.scrollTop=f.scrollTop,g.scrollLeft=f.scrollLeft},!0)),g},u=function d(f){var h=Object.assign(d.convert(Promise.resolve()),JSON.parse(JSON.stringify(d.template))),g=d.convert(Promise.resolve(),h);return(g=g.setProgress(1,d,1,[d])).set(f)};(u.prototype=Object.create(Promise.prototype)).constructor=u,u.convert=function(d,f){return d.__proto__=f||u.prototype,d},u.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},u.prototype.from=function(d,f){return this.then(function(){switch(f=f||(function(h){switch(a(h)){case"string":return"string";case"element":return h.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(d),f){case"string":return this.then(n).then(function(h){return this.set({src:s("div",{innerHTML:d,dompurify:h})})});case"element":return this.set({src:d});case"canvas":return this.set({canvas:d});case"img":return this.set({img:d});default:return this.error("Unknown source type.")}})},u.prototype.to=function(d){switch(d){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},u.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var d={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(d.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:d}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},u.prototype.toCanvas=function(){var d=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(d).then(e).then(function(f){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,f(this.prop.container,h)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toContext2d=function(){var d=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(d).then(e).then(function(f){var h=this.opt.jsPDF,g=this.opt.fontFaces,x=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,S=Object.assign({async:!0,allowTaint:!0,scale:x,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete S.onrendered,h.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=g,g)for(var y=0;y<g.length;++y){var E=g[y],T=E.src.find(function(k){return k.format==="truetype"});T&&h.addFont(T.url,E.ref.name,E.ref.style)}return S.windowHeight=S.windowHeight||0,S.windowHeight=S.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):S.windowHeight,h.context2d.save(!0),f(this.prop.container,S)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var d=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=d})},u.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},u.prototype.output=function(d,f,h){return(h=h||"pdf").toLowerCase()==="img"||h.toLowerCase()==="image"?this.outputImg(d,f):this.outputPdf(d,f)},u.prototype.outputPdf=function(d,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(d,f)})},u.prototype.outputImg=function(d){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(d){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+d+'" is not supported.'}})},u.prototype.save=function(d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(d?{filename:d}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},u.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},u.prototype.set=function(d){if(a(d)!=="object")return this;var f=Object.keys(d||{}).map(function(h){if(h in u.template.prop)return function(){this.prop[h]=d[h]};switch(h){case"margin":return this.setMargin.bind(this,d.margin);case"jsPDF":return function(){return this.opt.jsPDF=d.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,d.pageSize);default:return function(){this.opt[h]=d[h]}}},this);return this.then(function(){return this.thenList(f)})},u.prototype.get=function(d,f){return this.then(function(){var h=d in u.template.prop?this.prop[d]:this.opt[d];return f?f(h):h})},u.prototype.setMargin=function(d){return this.then(function(){switch(a(d)){case"number":d=[d,d,d,d];case"array":if(d.length===2&&(d=[d[0],d[1],d[0],d[1]]),d.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=d}).then(this.setPageSize)},u.prototype.setPageSize=function(d){function f(h,g){return Math.floor(h*g/72*96)}return this.then(function(){(d=d||Nt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(d.inner={width:d.width-this.opt.margin[1]-this.opt.margin[3],height:d.height-this.opt.margin[0]-this.opt.margin[2]},d.inner.px={width:f(d.inner.width,d.k),height:f(d.inner.height,d.k)},d.inner.ratio=d.inner.height/d.inner.width),this.prop.pageSize=d})},u.prototype.setProgress=function(d,f,h,g){return d!=null&&(this.progress.val=d),f!=null&&(this.progress.state=f),h!=null&&(this.progress.n=h),g!=null&&(this.progress.stack=g),this.progress.ratio=this.progress.val/this.progress.state,this},u.prototype.updateProgress=function(d,f,h,g){return this.setProgress(d?this.progress.val+d:null,f||null,h?this.progress.n+h:null,g?this.progress.stack.concat(g):null)},u.prototype.then=function(d,f){var h=this;return this.thenCore(d,f,function(g,x){return h.updateProgress(null,null,1,[g]),Promise.prototype.then.call(this,function(S){return h.updateProgress(null,g),S}).then(g,x).then(function(S){return h.updateProgress(1),S})})},u.prototype.thenCore=function(d,f,h){h=h||Promise.prototype.then;var g=this;d&&(d=d.bind(g)),f&&(f=f.bind(g));var x=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?g:u.convert(Object.assign({},g),Promise.prototype),S=h.call(x,d,f);return u.convert(S,g.__proto__)},u.prototype.thenExternal=function(d,f){return Promise.prototype.then.call(this,d,f)},u.prototype.thenList=function(d){var f=this;return d.forEach(function(h){f=f.thenCore(h)}),f},u.prototype.catch=function(d){d&&(d=d.bind(this));var f=Promise.prototype.catch.call(this,d);return u.convert(f,this)},u.prototype.catchExternal=function(d){return Promise.prototype.catch.call(this,d)},u.prototype.error=function(d){return this.then(function(){throw new Error(d)})},u.prototype.using=u.prototype.set,u.prototype.saveAs=u.prototype.save,u.prototype.export=u.prototype.output,u.prototype.run=u.prototype.then,Nt.getPageSize=function(d,f,h){if(jn(d)==="object"){var g=d;d=g.orientation,f=g.unit||f,h=g.format||h}f=f||"mm",h=h||"a4",d=(""+(d||"P")).toLowerCase();var x,S=(""+h).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":x=1;break;case"mm":x=72/25.4;break;case"cm":x=72/2.54;break;case"in":x=72;break;case"px":x=.75;break;case"pc":case"em":x=12;break;case"ex":x=6;break;default:throw"Invalid unit: "+f}var E,T=0,k=0;if(y.hasOwnProperty(S))T=y[S][1]/x,k=y[S][0]/x;else try{T=h[1],k=h[0]}catch{throw new Error("Invalid format: "+h)}if(d==="p"||d==="portrait")d="p",k>T&&(E=k,k=T,T=E);else{if(d!=="l"&&d!=="landscape")throw"Invalid orientation: "+d;d="l",T>k&&(E=k,k=T,T=E)}return{width:k,height:T,unit:f,k:x,orientation:d}},t.html=function(d,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(l1):null;var h=new u(f);return f.worker?h:h.from(d).doCallback()}})(Nt.API),Nt.API.addJS=function(t){var e,n,a=t;return this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(e+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),n=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+a+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){e!==void 0&&n!==void 0&&this.internal.out("/Names <</JavaScript "+e+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var n=this,a=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=n.outline.render().split(/\r\n/),o=0;o<s.length;o++){var u=s[o],d=a.exec(u);if(d!=null){var f=d[1];n.internal.newObjectDeferredBegin(f,!1)}n.internal.write(u)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,g=[];for(o=0;o<h;o++){var x=n.internal.newObject();g.push(x);var S=n.internal.getPageInfo(o+1);n.internal.write("<< /D["+S.objId+" 0 R /XYZ null null null]>> endobj")}var y=n.internal.newObject();for(n.internal.write("<< /Names [ "),o=0;o<g.length;o++)n.internal.write("(page_"+(o+1)+")"+g[o]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+y+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(a,s,o){var u={title:s,options:o,children:[]};return a==null&&(a=this.root),a.children.push(u),u},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(a){a.id=n.internal.newObjectDeferred();for(var s=0;s<a.children.length;s++)this.genIds_r(a.children[s])},n.outline.renderRoot=function(a){this.objStart(a),this.line("/Type /Outlines"),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1]))),this.line("/Count "+this.count_r({count:0},a)),this.objEnd()},n.outline.renderItems=function(a){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<a.children.length;o++){var u=a.children[o];this.objStart(u),this.line("/Title "+this.makeString(u.title)),this.line("/Parent "+this.makeRef(a)),o>0&&this.line("/Prev "+this.makeRef(a.children[o-1])),o<a.children.length-1&&this.line("/Next "+this.makeRef(a.children[o+1])),u.children.length>0&&(this.line("/First "+this.makeRef(u.children[0])),this.line("/Last "+this.makeRef(u.children[u.children.length-1])));var d=this.count=this.count_r({count:0},u);if(d>0&&this.line("/Count "+d),u.options&&u.options.pageNumber){var f=n.internal.getPageInfo(u.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var h=0;h<a.children.length;h++)this.renderItems(a.children[h])},n.outline.line=function(a){this.ctx.val+=a+`\r
`},n.outline.makeRef=function(a){return a.id+" 0 R"},n.outline.makeString=function(a){return"("+n.internal.pdfEscape(a)+")"},n.outline.objStart=function(a){this.ctx.val+=`\r
`+a.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(a,s){for(var o=0;o<s.children.length;o++)a.count++,this.count_r(a,s.children[o]);return a.count}}])})(Nt.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,a,s,o,u,d){var f,h=this.decode.DCT_DECODE,g=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=u||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,f=(function(x){for(var S,y=256*x.charCodeAt(4)+x.charCodeAt(5),E=x.length,T={width:0,height:0,numcomponents:1},k=4;k<E;k+=2){if(k+=y,e.indexOf(x.charCodeAt(k+1))!==-1){S=256*x.charCodeAt(k+5)+x.charCodeAt(k+6),T={width:256*x.charCodeAt(k+7)+x.charCodeAt(k+8),height:S,numcomponents:x.charCodeAt(k+9)};break}y=256*x.charCodeAt(k+2)+x.charCodeAt(k+3)}return T})(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),f.numcomponents){case 1:d=this.color_spaces.DEVICE_GRAY;break;case 4:d=this.color_spaces.DEVICE_CMYK;break;case 3:d=this.color_spaces.DEVICE_RGB}g={data:n,width:f.width,height:f.height,colorSpace:d,bitsPerComponent:8,filter:h,index:a,alias:s}}return g}})(Nt.API),Nt.API.processPNG=function(t,e,n,a){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var s,o=$E(t,{checkCrc:!0}),u=o.width,d=o.height,f=o.channels,h=o.palette,g=o.depth;s=h&&f===1?(function(Q){for(var q=Q.width,ue=Q.height,B=Q.data,K=Q.palette,fe=Q.depth,se=!1,le=[],J=[],ee=void 0,he=!1,_e=0,ze=0;ze<K.length;ze++){var G=P5(K[ze],4),L=G[0],F=G[1],X=G[2],ie=G[3];le.push(L,F,X),ie!=null&&(ie===0?(_e++,J.length<1&&J.push(ze)):ie<255&&(he=!0))}if(he||_e>1){se=!0,J=void 0;var R=q*ue;ee=new Uint8Array(R);for(var V=new DataView(B.buffer),pe=0;pe<R;pe++){var ve=c1(V,pe,fe),Ee=P5(K[ve],4)[3];ee[pe]=Ee}}else _e===0&&(J=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:se?8:void 0,colorBytes:B,alphaBytes:ee,needSMask:se,palette:le,mask:J}})(o):f===2||f===4?(function(Q){for(var q=Q.data,ue=Q.width,B=Q.height,K=Q.channels,fe=Q.depth,se=K===2?"DeviceGray":"DeviceRGB",le=K-1,J=ue*B,ee=le,he=J*ee,_e=1*J,ze=Math.ceil(he*fe/8),G=Math.ceil(_e*fe/8),L=new Uint8Array(ze),F=new Uint8Array(G),X=new DataView(q.buffer),ie=new DataView(L.buffer),R=new DataView(F.buffer),V=!1,pe=0;pe<J;pe++){for(var ve=pe*K,Ee=0;Ee<ee;Ee++)Fy(ie,c1(X,ve+Ee,fe),pe*ee+Ee,fe);var qe=c1(X,ve+ee,fe);qe<(1<<fe)-1&&(V=!0),Fy(R,qe,1*pe,fe)}return{colorSpace:se,colorsPerPixel:le,sMaskBitsPerComponent:V?fe:void 0,colorBytes:L,alphaBytes:F,needSMask:V}})(o):(function(Q){var q=Q.data,ue=Q.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:ue,colorsPerPixel:ue==="DeviceGray"?1:3,colorBytes:q instanceof Uint16Array?(function(B){for(var K=B.length,fe=new Uint8Array(2*K),se=new DataView(fe.buffer,fe.byteOffset,fe.byteLength),le=0;le<K;le++)se.setUint16(2*le,B[le],!1);return fe})(q):q,needSMask:!1}})(o);var x,S,y,E=s,T=E.colorSpace,k=E.colorsPerPixel,N=E.sMaskBitsPerComponent,D=E.colorBytes,U=E.alphaBytes,M=E.needSMask,re=E.palette,de=E.mask,oe=null;return a!==Nt.API.image_compression.NONE&&typeof M1=="function"?(oe=(function(Q){var q;switch(Q){case Nt.API.image_compression.FAST:q=11;break;case Nt.API.image_compression.MEDIUM:q=13;break;case Nt.API.image_compression.SLOW:q=14;break;default:q=12}return q})(a),x=this.decode.FLATE_DECODE,S="/Predictor ".concat(oe," /Colors ").concat(k," /BitsPerComponent ").concat(g," /Columns ").concat(u),t=By(D,Math.ceil(u*k*g/8),k,g,a),M&&(y=By(U,Math.ceil(u*N/8),1,N,a))):(x=void 0,S=void 0,t=D,M&&(y=U)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(y&&this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y))&&(y=this.__addimage__.arrayBufferToBinaryString(y)),{alias:n,data:t,index:e,filter:x,decodeParameters:S,transparency:de,palette:re,sMask:y,predictor:oe,width:u,height:d,bitsPerComponent:g,sMaskBitsPerComponent:N,colorSpace:T}}},(function(t){t.processGIF89A=function(e,n,a,s){var o=new dk(e),u=o.width,d=o.height,f=[];o.decodeAndBlitFrameRGBA(0,f);var h={data:f,width:u,height:d},g=new d1(100).encode(h,100);return t.processJPEG.call(this,g,n,a,s)},t.processGIF87A=t.processGIF89A})(Nt.API),ws.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:a,blue:n,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ws.prototype.parseBGR=function(){this.pos=this.offset;var t="bit"+this.bitPP,e=this.width*this.height*4;if(e>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(e);try{this[t]()}catch(n){Un.log("bit decode error:"+n)}},ws.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var a=this.bottom_up?t:this.height-1-t,s=0;s<e;s++)for(var o=this.datav.getUint8(this.pos++,!0),u=a*this.width*4+8*s*4,d=0;d<8&&8*s+d<this.width;d++){var f=this.palette[o>>7-d&1];this.data[u+4*d]=f.blue,this.data[u+4*d+1]=f.green,this.data[u+4*d+2]=f.red,this.data[u+4*d+3]=255}n!==0&&(this.pos+=4-n)}},ws.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,s=0;s<t;s++){var o=this.datav.getUint8(this.pos++,!0),u=a*this.width*4+2*s*4,d=o>>4,f=15&o,h=this.palette[d];if(this.data[u]=h.blue,this.data[u+1]=h.green,this.data[u+2]=h.red,this.data[u+3]=255,2*s+1>=this.width)break;h=this.palette[f],this.data[u+4]=h.blue,this.data[u+4+1]=h.green,this.data[u+4+2]=h.red,this.data[u+4+3]=255}e!==0&&(this.pos+=4-e)}},ws.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<this.width;a++){var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+4*a;if(s<this.palette.length){var u=this.palette[s];this.data[o]=u.red,this.data[o+1]=u.green,this.data[o+2]=u.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}t!==0&&(this.pos+=4-t)}},ws.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(o&e)/e*255|0,d=(o>>5&e)/e*255|0,f=(o>>10&e)/e*255|0,h=o>>15?255:0,g=a*this.width*4+4*s;this.data[g]=f,this.data[g+1]=d,this.data[g+2]=u,this.data[g+3]=h}this.pos+=t}},ws.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),a=this.height-1;a>=0;a--){for(var s=this.bottom_up?a:this.height-1-a,o=0;o<this.width;o++){var u=this.datav.getUint16(this.pos,!0);this.pos+=2;var d=(u&e)/e*255|0,f=(u>>5&n)/n*255|0,h=(u>>11)/e*255|0,g=s*this.width*4+4*o;this.data[g]=h,this.data[g+1]=f,this.data[g+2]=d,this.data[g+3]=255}this.pos+=t}},ws.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*n;this.data[u]=o,this.data[u+1]=s,this.data[u+2]=a,this.data[u+3]=255}this.pos+=this.width%4}},ws.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),d=e*this.width*4+4*n;this.data[d]=o,this.data[d+1]=s,this.data[d+2]=a,this.data[d+3]=u}},ws.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,n,a,s){var o=new ws(e,!1),u=o.width,d=o.height,f={data:o.getData(),width:u,height:d},h=new d1(100).encode(f,100);return t.processJPEG.call(this,h,n,a,s)}})(Nt.API),$y.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,n,a,s){var o=new $y(e),u=o.width,d=o.height,f={data:o.getData(),width:u,height:d},h=new d1(100).encode(f,100);return t.processJPEG.call(this,h,n,a,s)}})(Nt.API),Nt.API.processRGBA=function(t,e,n){for(var a=t.data,s=a.length,o=new Uint8Array(s/4*3),u=new Uint8Array(s/4),d=0,f=0,h=0;h<s;h+=4){var g=a[h],x=a[h+1],S=a[h+2],y=a[h+3];o[d++]=g,o[d++]=x,o[d++]=S,u[f++]=y}var E=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(u),data:E,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Nt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Sc=Nt.API,vh=Sc.getCharWidthsArray=function(t,e){var n,a,s=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),u=e.charSpace||this.internal.getCharSpace(),d=e.widths?e.widths:s.metadata.Unicode.widths,f=d.fof?d.fof:1,h=e.kerning?e.kerning:s.metadata.Unicode.kerning,g=h.fof?h.fof:1,x=e.doKerning!==!1,S=0,y=t.length,E=0,T=d[0]||f,k=[];for(n=0;n<y;n++)a=t.charCodeAt(n),typeof s.metadata.widthOfString=="function"?k.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(a))+u*(1e3/o)||0)/1e3):(S=x&&jn(h[a])==="object"&&!isNaN(parseInt(h[a][E],10))?h[a][E]/g:0,k.push((d[a]||T)/f+S)),E=a;return k},Dy=Sc.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),a=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return Sc.processArabic&&(t=Sc.processArabic(t)),typeof a.metadata.widthOfString=="function"?a.metadata.widthOfString(t,n,s)/n:vh.apply(this,arguments).reduce(function(o,u){return o+u},0)},My=function(t,e,n,a){for(var s=[],o=0,u=t.length,d=0;o!==u&&d+e[o]<n;)d+=e[o],o++;s.push(t.slice(0,o));var f=o;for(d=0;o!==u;)d+e[o]>a&&(s.push(t.slice(f,o)),d=0,f=o),d+=e[o],o++;return f!==o&&s.push(t.slice(f,o)),s},zy=function(t,e,n){n||(n={});var a,s,o,u,d,f,h,g=[],x=[g],S=n.textIndent||0,y=0,E=0,T=t.split(" "),k=vh.apply(this,[" ",n])[0];if(f=n.lineIndent===-1?T[0].length+2:n.lineIndent||0){var N=Array(f).join(" "),D=[];T.map(function(M){(M=M.split(/\s*\n/)).length>1?D=D.concat(M.map(function(re,de){return(de&&re.length?`
`:"")+re})):D.push(M[0])}),T=D,f=Dy.apply(this,[N,n])}for(o=0,u=T.length;o<u;o++){var U=0;if(a=T[o],f&&a[0]==`
`&&(a=a.substr(1),U=1),S+y+(E=(s=vh.apply(this,[a,n])).reduce(function(M,re){return M+re},0))>e||U){if(E>e){for(d=My.apply(this,[a,s,e-(S+y),e]),g.push(d.shift()),g=[d.pop()];d.length;)x.push([d.shift()]);E=s.slice(a.length-(g[0]?g[0].length:0)).reduce(function(M,re){return M+re},0)}else g=[a];x.push(g),S=E+f,y=k}else g.push(a),S+=y+E,y=k}return h=f?function(M,re){return(re?N:"")+M.join(" ")}:function(M){return M.join(" ")},x.map(h)},Sc.splitTextToSize=function(t,e,n){var a,s=(n=n||{}).fontSize||this.internal.getFontSize(),o=(function(g){if(g.widths&&g.kerning)return{widths:g.widths,kerning:g.kerning};var x=this.internal.getFont(g.fontName,g.fontStyle),S="Unicode";return x.metadata[S]?{widths:x.metadata[S].widths||{0:1},kerning:x.metadata[S].kerning||{}}:{font:x.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);a=Array.isArray(t)?t:String(t).split(/\r?\n/);var u=1*this.internal.scaleFactor*e/s;o.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/s:0,o.lineIndent=n.lineIndent;var d,f,h=[];for(d=0,f=a.length;d<f;d++)h=h.concat(zy.apply(this,[a[d],u,o]));return h},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",a={},s={},o=0;o<16;o++)a[n[o]]=e[o],s[e[o]]=n[o];var u=function(S){return"0x"+parseInt(S,10).toString(16)},d=t.__fontmetrics__.compress=function(S){var y,E,T,k,N=["{"];for(var D in S){if(y=S[D],isNaN(parseInt(D,10))?E="'"+D+"'":(D=parseInt(D,10),E=(E=u(D).slice(2)).slice(0,-1)+s[E.slice(-1)]),typeof y=="number")y<0?(T=u(y).slice(3),k="-"):(T=u(y).slice(2),k=""),T=k+T.slice(0,-1)+s[T.slice(-1)];else{if(jn(y)!=="object")throw new Error("Don't know what to do with value type "+jn(y)+".");T=d(y)}N.push(E+T)}return N.push("}"),N.join("")},f=t.__fontmetrics__.uncompress=function(S){if(typeof S!="string")throw new Error("Invalid argument passed to uncompress.");for(var y,E,T,k,N={},D=1,U=N,M=[],re="",de="",oe=S.length-1,Q=1;Q<oe;Q+=1)(k=S[Q])=="'"?y?(T=y.join(""),y=void 0):y=[]:y?y.push(k):k=="{"?(M.push([U,T]),U={},T=void 0):k=="}"?((E=M.pop())[0][E[1]]=U,T=void 0,U=E[0]):k=="-"?D=-1:T===void 0?a.hasOwnProperty(k)?(re+=a[k],T=parseInt(re,16)*D,D=1,re=""):re+=k:a.hasOwnProperty(k)?(de+=a[k],U[T]=parseInt(de,16)*D,D=1,T=void 0,de=""):de+=k;return N},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},g={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},x={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(S){var y=S.font,E=x.Unicode[y.postScriptName];E&&(y.metadata.Unicode={},y.metadata.Unicode.widths=E.widths,y.metadata.Unicode.kerning=E.kerning);var T=g.Unicode[y.postScriptName];T&&(y.metadata.Unicode.encoding=T,y.encoding=T.codePages[0])}])})(Nt.API),(function(t){var e=function(n){for(var a=n.length,s=new Uint8Array(a),o=0;o<a;o++)s[o]=n.charCodeAt(o);return s};t.API.events.push(["addFont",function(n){var a=void 0,s=n.font,o=n.instance;if(!s.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(a=o.existsFileInVFS(s.postScriptName)===!1?o.loadFile(s.postScriptName):o.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(u,d){d=/^\x00\x01\x00\x00/.test(d)?e(d):e(Eh(d)),u.metadata=t.API.TTFFont.open(d),u.metadata.Unicode=u.metadata.Unicode||{encoding:{},kerning:{},widths:[]},u.metadata.glyIdsUsed=[0]})(s,a)}}])})(Nt),Nt.API.addSvgAsImage=function(t,e,n,a,s,o,u,d){if(isNaN(e)||isNaN(n))throw Un.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(s))throw Un.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=a,f.height=s;var h=f.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,f.width,f.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},x=this;return(Ht.canvg?Promise.resolve(Ht.canvg):$p(()=>import("./index.es-CjYHiylI.js"),[])).catch(function(S){return Promise.reject(new Error("Could not load canvg: "+S))}).then(function(S){return S.default?S.default:S}).then(function(S){return S.fromString(h,t,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(S){return S.render(g)}).then(function(){x.addImage(f.toDataURL("image/jpeg",1),e,n,a,s,u,d)})},Nt.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var a=1;a<=this.internal.getNumberOfPages();a++)for(var s=0;s<this.internal.pages[a].length;s++)this.internal.pages[a][s]=this.internal.pages[a][s].replace(e,n);return this},Nt.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var a,s,o,u={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},d=Object.keys(u),f=[],h=0,g=0,x=0;function S(E,T){var k,N=!1;for(k=0;k<E.length;k+=1)E[k]===T&&(N=!0);return N}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(u)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var y=d.length;for(x=0;x<y;x+=1)n[d[x]].value=n[d[x]].defaultValue,n[d[x]].explicitSet=!1}if(jn(t)==="object"){for(s in t)if(o=t[s],S(d,s)&&o!==void 0){if(n[s].type==="boolean"&&typeof o=="boolean")n[s].value=o;else if(n[s].type==="name"&&S(n[s].valueSet,o))n[s].value=o;else if(n[s].type==="integer"&&Number.isInteger(o))n[s].value=o;else if(n[s].type==="array"){for(h=0;h<o.length;h+=1)if(a=!0,o[h].length===1&&typeof o[h][0]=="number")f.push(String(o[h]-1));else if(o[h].length>1){for(g=0;g<o[h].length;g+=1)typeof o[h][g]!="number"&&(a=!1);a===!0&&f.push([o[h][0]-1,o[h][1]-1].join(" "))}n[s].value="["+f.join(" ")+"]"}else n[s].value=n[s].defaultValue;n[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var E,T=[];for(E in n)n[E].explicitSet===!0&&(n[E].type==="name"?T.push("/"+E+" /"+n[E].value):T.push("/"+E+" "+n[E].value));T.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+T.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},Nt.API.addMetadata=function(t,e){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:t,namespaceUri:e??"http://jspdf.default.namespaceuri/",rawXml:typeof e=="boolean"&&e},this.internal.events.subscribe("putCatalog",hk),this.internal.events.subscribe("postPutResources",fk)),this},(function(t){var e=t.API,n=e.pdfEscape16=function(o,u){for(var d,f=u.metadata.Unicode.widths,h=["","0","00","000","0000"],g=[""],x=0,S=o.length;x<S;++x){if(d=u.metadata.characterToGlyph(o.charCodeAt(x)),u.metadata.glyIdsUsed.push(d),u.metadata.toUnicode[d]=o.charCodeAt(x),f.indexOf(d)==-1&&(f.push(d),f.push([parseInt(u.metadata.widthOfGlyph(d),10)])),d=="0")return g.join("");d=d.toString(16),g.push(h[4-d.length],d)}return g.join("")},a=function(o){var u,d,f,h,g,x,S;for(g=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],x=0,S=(d=Object.keys(o).sort(function(y,E){return y-E})).length;x<S;x++)u=d[x],f.length>=100&&(g+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),o[u]!==void 0&&o[u]!==null&&typeof o[u].toString=="function"&&(h=("0000"+o[u].toString(16)).slice(-4),u=("0000"+(+u).toString(16)).slice(-4),f.push("<"+u+"><"+h+">"));return f.length&&(g+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),g+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(u){var d=u.font,f=u.out,h=u.newObject,g=u.putStream;if(d.metadata instanceof t.API.TTFFont&&d.encoding==="Identity-H"){for(var x=d.metadata.Unicode.widths,S=d.metadata.subset.encode(d.metadata.glyIdsUsed,1),y="",E=0;E<S.length;E++)y+=String.fromCharCode(S[E]);var T=h();g({data:y,addLength1:!0,objectId:T}),f("endobj");var k=h();g({data:a(d.metadata.toUnicode),addLength1:!0,objectId:k}),f("endobj");var N=h();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+jc(d.fontName)),f("/FontFile2 "+T+" 0 R"),f("/FontBBox "+t.API.PDFObject.convert(d.metadata.bbox)),f("/Flags "+d.metadata.flags),f("/StemV "+d.metadata.stemV),f("/ItalicAngle "+d.metadata.italicAngle),f("/Ascent "+d.metadata.ascender),f("/Descent "+d.metadata.decender),f("/CapHeight "+d.metadata.capHeight),f(">>"),f("endobj");var D=h();f("<<"),f("/Type /Font"),f("/BaseFont /"+jc(d.fontName)),f("/FontDescriptor "+N+" 0 R"),f("/W "+t.API.PDFObject.convert(x)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+d.encoding+")"),f(">>"),f(">>"),f("endobj"),d.objectNumber=h(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+k+" 0 R"),f("/BaseFont /"+jc(d.fontName)),f("/Encoding /"+d.encoding),f("/DescendantFonts ["+D+" 0 R]"),f(">>"),f("endobj"),d.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(u){var d=u.font,f=u.out,h=u.newObject,g=u.putStream;if(d.metadata instanceof t.API.TTFFont&&d.encoding==="WinAnsiEncoding"){for(var x=d.metadata.rawData,S="",y=0;y<x.length;y++)S+=String.fromCharCode(x[y]);var E=h();g({data:S,addLength1:!0,objectId:E}),f("endobj");var T=h();g({data:a(d.metadata.toUnicode),addLength1:!0,objectId:T}),f("endobj");var k=h();f("<<"),f("/Descent "+d.metadata.decender),f("/CapHeight "+d.metadata.capHeight),f("/StemV "+d.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+E+" 0 R"),f("/Flags 96"),f("/FontBBox "+t.API.PDFObject.convert(d.metadata.bbox)),f("/FontName /"+jc(d.fontName)),f("/ItalicAngle "+d.metadata.italicAngle),f("/Ascent "+d.metadata.ascender),f(">>"),f("endobj"),d.objectNumber=h();for(var N=0;N<d.metadata.hmtx.widths.length;N++)d.metadata.hmtx.widths[N]=parseInt(d.metadata.hmtx.widths[N]*(1e3/d.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+T+" 0 R/BaseFont/"+jc(d.fontName)+"/FontDescriptor "+k+" 0 R/Encoding/"+d.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(d.metadata.hmtx.widths)+">>"),f("endobj"),d.isAlreadyPutted=!0}})(o)}]);var s=function(o){var u,d=o.text||"",f=o.x,h=o.y,g=o.options||{},x=o.mutex||{},S=x.pdfEscape,y=x.activeFontKey,E=x.fonts,T=y,k="",N=0,D="",U=E[T].encoding;if(E[T].encoding!=="Identity-H")return{text:d,x:f,y:h,options:g,mutex:x};for(D=d,T=y,Array.isArray(d)&&(D=d[0]),N=0;N<D.length;N+=1)E[T].metadata.hasOwnProperty("cmap")&&(u=E[T].metadata.cmap.unicode.codeMap[D[N].charCodeAt(0)]),u||D[N].charCodeAt(0)<256&&E[T].metadata.hasOwnProperty("Unicode")?k+=D[N]:k+="";var M="";return parseInt(T.slice(1))<14||U==="WinAnsiEncoding"?M=S(k,T).split("").map(function(re){return re.charCodeAt(0).toString(16)}).join(""):U==="Identity-H"&&(M=n(k,E[T])),x.isHex=!0,{text:M,x:f,y:h,options:g,mutex:x}};e.events.push(["postProcessText",function(o){var u=o.text||"",d=[],f={text:u,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(u)){var h=0;for(h=0;h<u.length;h+=1)Array.isArray(u[h])&&u[h].length===3?d.push([s(Object.assign({},f,{text:u[h][0]})).text,u[h][1],u[h][2]]):d.push(s(Object.assign({},f,{text:u[h]})).text);o.text=d}else o.text=s(Object.assign({},f,{text:u})).text}])})(Nt),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,a){return e.call(this),this.internal.vFS[n]=a,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}})(Nt.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(a){var s,o,u,d,f,h,g,x=e,S=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],y=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],E={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},T={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},k=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],N=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),D=!1,U=0;this.__bidiEngine__={};var M=function(B){var K=B.charCodeAt(),fe=K>>8,se=T[fe];return se!==void 0?x[256*se+(255&K)]:fe===252||fe===253?"AL":N.test(fe)?"L":fe===8?"R":"N"},re=function(B){for(var K,fe=0;fe<B.length;fe++){if((K=M(B.charAt(fe)))==="L")return!1;if(K==="R")return!0}return!1},de=function(B,K,fe,se){var le,J,ee,he,_e=K[se];switch(_e){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":D=!1;break;case"N":case"AN":break;case"EN":D&&(_e="AN");break;case"AL":D=!0,_e="R";break;case"WS":case"BN":_e="N";break;case"CS":se<1||se+1>=K.length||(le=fe[se-1])!=="EN"&&le!=="AN"||(J=K[se+1])!=="EN"&&J!=="AN"?_e="N":D&&(J="AN"),_e=J===le?J:"N";break;case"ES":_e=(le=se>0?fe[se-1]:"B")==="EN"&&se+1<K.length&&K[se+1]==="EN"?"EN":"N";break;case"ET":if(se>0&&fe[se-1]==="EN"){_e="EN";break}if(D){_e="N";break}for(ee=se+1,he=K.length;ee<he&&K[ee]==="ET";)ee++;_e=ee<he&&K[ee]==="EN"?"EN":"N";break;case"NSM":if(u&&!d){for(he=K.length,ee=se+1;ee<he&&K[ee]==="NSM";)ee++;if(ee<he){var ze=B[se],G=ze>=1425&&ze<=2303||ze===64286;if(le=K[ee],G&&(le==="R"||le==="AL")){_e="R";break}}}_e=se<1||(le=K[se-1])==="B"?"N":fe[se-1];break;case"B":D=!1,s=!0,_e=U;break;case"S":o=!0,_e="N"}return _e},oe=function(B,K,fe){var se=B.split("");return fe&&Q(se,fe,{hiLevel:U}),se.reverse(),K&&K.reverse(),se.join("")},Q=function(B,K,fe){var se,le,J,ee,he,_e=-1,ze=B.length,G=0,L=[],F=U?y:S,X=[];for(D=!1,s=!1,o=!1,le=0;le<ze;le++)X[le]=M(B[le]);for(J=0;J<ze;J++){if(he=G,L[J]=de(B,X,L,J),se=240&(G=F[he][E[L[J]]]),G&=15,K[J]=ee=F[G][5],se>0)if(se===16){for(le=_e;le<J;le++)K[le]=1;_e=-1}else _e=-1;if(F[G][6])_e===-1&&(_e=J);else if(_e>-1){for(le=_e;le<J;le++)K[le]=ee;_e=-1}X[J]==="B"&&(K[J]=0),fe.hiLevel|=ee}o&&(function(ie,R,V){for(var pe=0;pe<V;pe++)if(ie[pe]==="S"){R[pe]=U;for(var ve=pe-1;ve>=0&&ie[ve]==="WS";ve--)R[ve]=U}})(X,K,ze)},q=function(B,K,fe,se,le){if(!(le.hiLevel<B)){if(B===1&&U===1&&!s)return K.reverse(),void(fe&&fe.reverse());for(var J,ee,he,_e,ze=K.length,G=0;G<ze;){if(se[G]>=B){for(he=G+1;he<ze&&se[he]>=B;)he++;for(_e=G,ee=he-1;_e<ee;_e++,ee--)J=K[_e],K[_e]=K[ee],K[ee]=J,fe&&(J=fe[_e],fe[_e]=fe[ee],fe[ee]=J);G=he}G++}}},ue=function(B,K,fe){var se=B.split(""),le={hiLevel:U};return fe||(fe=[]),Q(se,fe,le),(function(J,ee,he){if(he.hiLevel!==0&&g)for(var _e,ze=0;ze<J.length;ze++)ee[ze]===1&&(_e=k.indexOf(J[ze]))>=0&&(J[ze]=k[_e+1])})(se,fe,le),q(2,se,K,fe,le),q(1,se,K,fe,le),se.join("")};return this.__bidiEngine__.doBidiReorder=function(B,K,fe){if((function(le,J){if(J)for(var ee=0;ee<le.length;ee++)J[ee]=ee;d===void 0&&(d=re(le)),h===void 0&&(h=re(le))})(B,K),u||!f||h)if(u&&f&&d^h)U=d?1:0,B=oe(B,K,fe);else if(!u&&f&&h)U=d?1:0,B=ue(B,K,fe),B=oe(B,K);else if(!u||d||f||h){if(u&&!f&&d^h)B=oe(B,K),d?(U=0,B=ue(B,K,fe)):(U=1,B=ue(B,K,fe),B=oe(B,K));else if(u&&d&&!f&&h)U=1,B=ue(B,K,fe),B=oe(B,K);else if(!u&&!f&&d^h){var se=g;d?(U=1,B=ue(B,K,fe),U=0,g=!1,B=ue(B,K,fe),g=se):(U=0,B=ue(B,K,fe),B=oe(B,K),U=1,g=!1,B=ue(B,K,fe),g=se,B=oe(B,K))}}else U=0,B=ue(B,K,fe);else U=d?1:0,B=ue(B,K,fe);return B},this.__bidiEngine__.setOptions=function(B){B&&(u=B.isInputVisual,f=B.isOutputVisual,d=B.isInputRtl,h=B.isOutputRtl,g=B.isSymmetricSwapping)},this.__bidiEngine__.setOptions(a),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(a){var s=a.text;a.x,a.y;var o=a.options||{};a.mutex,o.lang;var u=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,n.setOptions(o),Object.prototype.toString.call(s)==="[object Array]"){var d=0;for(u=[],d=0;d<s.length;d+=1)Object.prototype.toString.call(s[d])==="[object Array]"?u.push([n.doBidiReorder(s[d][0]),s[d][1],s[d][2]]):u.push([n.doBidiReorder(s[d])]);a.text=u}else a.text=n.doBidiReorder(s);n.setOptions({isInputVisual:!0})}])})(Nt),Nt.API.TTFFont=(function(){function t(e){var n;if(this.rawData=e,n=this.contents=new jl(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new Lk(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new pk(this.contents),this.head=new mk(this),this.name=new xk(this),this.cmap=new cw(this),this.toUnicode={},this.hhea=new yk(this),this.maxp=new _k(this),this.hmtx=new Sk(this),this.post=new vk(this),this.os2=new bk(this),this.loca=new Tk(this),this.glyf=new Ak(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,a,s,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var u,d,f,h;for(h=[],u=0,d=(f=this.bbox).length;u<d;u++)e=f[u],h.push(Math.round(e*this.scaleFactor));return h}).call(this),this.stemV=0,this.post.exists?(a=255&(s=this.post.italic_angle),32768&(n=s>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+a)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,a){var s,o,u,d;for(u=0,o=0,d=(e=""+e).length;0<=d?o<d:o>d;o=0<=d?++o:--o)s=e.charCodeAt(o),u+=this.widthOfGlyph(this.characterToGlyph(s))+a*(1e3/n)||0;return u*(n/1e3)},t.prototype.lineHeight=function(e,n){var a;return n==null&&(n=!1),a=n?this.lineGap:0,(this.ascender+a-this.decender)/1e3*e},t})();var js,jl=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,a;for(a=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)a[n]=String.fromCharCode(this.readByte());return a.join("")},t.prototype.writeString=function(e){var n,a,s;for(s=[],n=0,a=e.length;0<=a?n<a:n>a;n=0<=a?++n:--n)s.push(this.writeByte(e.charCodeAt(n)));return s},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,a,s,o,u,d,f;return e=this.readByte(),n=this.readByte(),a=this.readByte(),s=this.readByte(),o=this.readByte(),u=this.readByte(),d=this.readByte(),f=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^a)+4294967296*(255^s)+16777216*(255^o)+65536*(255^u)+256*(255^d)+(255^f)+1):72057594037927940*e+281474976710656*n+1099511627776*a+4294967296*s+16777216*o+65536*u+256*d+f},t.prototype.writeLongLong=function(e){var n,a;return n=Math.floor(e/4294967296),a=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(a>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,a;for(n=[],a=0;0<=e?a<e:a>e;a=0<=e?++a:--a)n.push(this.readByte());return n},t.prototype.write=function(e){var n,a,s,o;for(o=[],a=0,s=e.length;a<s;a++)n=e[a],o.push(this.writeByte(n));return o},t})(),pk=(function(){var t;function e(n){var a,s,o;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},s=0,o=this.tableCount;0<=o?s<o:s>o;s=0<=o?++s:--s)a={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[a.tag]=a}return e.prototype.encode=function(n){var a,s,o,u,d,f,h,g,x,S,y,E,T;for(T in y=Object.keys(n).length,f=Math.log(2),x=16*Math.floor(Math.log(y)/f),u=Math.floor(x/f),g=16*y-x,(s=new jl).writeInt(this.scalarType),s.writeShort(y),s.writeShort(x),s.writeShort(u),s.writeShort(g),o=16*y,h=s.pos+o,d=null,E=[],n)for(S=n[T],s.writeString(T),s.writeInt(t(S)),s.writeInt(h),s.writeInt(S.length),E=E.concat(S),T==="head"&&(d=h),h+=S.length;h%4;)E.push(0),h++;return s.write(E),a=2981146554-t(s.data),s.pos=d+8,s.writeUInt32(a),s.data},t=function(n){var a,s,o,u;for(n=dw.call(n);n.length%4;)n.push(0);for(o=new jl(n),s=0,a=0,u=n.length;a<u;a=a+=4)s+=o.readUInt32();return 4294967295&s},e})(),gk={}.hasOwnProperty,eo=function(t,e){for(var n in e)gk.call(e,n)&&(t[n]=e[n]);function a(){this.constructor=t}return a.prototype=e.prototype,t.prototype=new a,t.__super__=e.prototype,t};js=(function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var mk=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return eo(t,js),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new jl).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t})(),Wy=(function(){function t(e,n){var a,s,o,u,d,f,h,g,x,S,y,E,T,k,N,D,U;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),x=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=e.readByte();break;case 4:for(y=e.readUInt16(),S=y/2,e.pos+=6,o=(function(){var M,re;for(re=[],f=M=0;0<=S?M<S:M>S;f=0<=S?++M:--M)re.push(e.readUInt16());return re})(),e.pos+=2,T=(function(){var M,re;for(re=[],f=M=0;0<=S?M<S:M>S;f=0<=S?++M:--M)re.push(e.readUInt16());return re})(),h=(function(){var M,re;for(re=[],f=M=0;0<=S?M<S:M>S;f=0<=S?++M:--M)re.push(e.readUInt16());return re})(),g=(function(){var M,re;for(re=[],f=M=0;0<=S?M<S:M>S;f=0<=S?++M:--M)re.push(e.readUInt16());return re})(),s=(this.length-e.pos+this.offset)/2,d=(function(){var M,re;for(re=[],f=M=0;0<=s?M<s:M>s;f=0<=s?++M:--M)re.push(e.readUInt16());return re})(),f=N=0,U=o.length;N<U;f=++N)for(k=o[f],a=D=E=T[f];E<=k?D<=k:D>=k;a=E<=k?++D:--D)g[f]===0?u=a+h[f]:(u=d[g[f]/2+(a-E)-(S-f)]||0)!==0&&(u+=h[f]),this.codeMap[a]=65535&u}e.pos=x}return t.encode=function(e,n){var a,s,o,u,d,f,h,g,x,S,y,E,T,k,N,D,U,M,re,de,oe,Q,q,ue,B,K,fe,se,le,J,ee,he,_e,ze,G,L,F,X,ie,R,V,pe,ve,Ee,qe,et;switch(se=new jl,u=Object.keys(e).sort(function(Re,Ae){return Re-Ae}),n){case"macroman":for(T=0,k=(function(){var Re=[];for(E=0;E<256;++E)Re.push(0);return Re})(),D={0:0},o={},le=0,_e=u.length;le<_e;le++)D[ve=e[s=u[le]]]==null&&(D[ve]=++T),o[s]={old:e[s],new:D[e[s]]},k[s]=D[e[s]];return se.writeUInt16(1),se.writeUInt16(0),se.writeUInt32(12),se.writeUInt16(0),se.writeUInt16(262),se.writeUInt16(0),se.write(k),{charMap:o,subtable:se.data,maxGlyphID:T+1};case"unicode":for(K=[],x=[],U=0,D={},a={},N=h=null,J=0,ze=u.length;J<ze;J++)D[re=e[s=u[J]]]==null&&(D[re]=++U),a[s]={old:re,new:D[re]},d=D[re]-s,N!=null&&d===h||(N&&x.push(N),K.push(s),h=d),N=s;for(N&&x.push(N),x.push(65535),K.push(65535),ue=2*(q=K.length),Q=2*Math.pow(Math.log(q)/Math.LN2,2),S=Math.log(Q/2)/Math.LN2,oe=2*q-Q,f=[],de=[],y=[],E=ee=0,G=K.length;ee<G;E=++ee){if(B=K[E],g=x[E],B===65535){f.push(0),de.push(0);break}if(B-(fe=a[B].new)>=32768)for(f.push(0),de.push(2*(y.length+q-E)),s=he=B;B<=g?he<=g:he>=g;s=B<=g?++he:--he)y.push(a[s].new);else f.push(fe-B),de.push(0)}for(se.writeUInt16(3),se.writeUInt16(1),se.writeUInt32(12),se.writeUInt16(4),se.writeUInt16(16+8*q+2*y.length),se.writeUInt16(0),se.writeUInt16(ue),se.writeUInt16(Q),se.writeUInt16(S),se.writeUInt16(oe),V=0,L=x.length;V<L;V++)s=x[V],se.writeUInt16(s);for(se.writeUInt16(0),pe=0,F=K.length;pe<F;pe++)s=K[pe],se.writeUInt16(s);for(Ee=0,X=f.length;Ee<X;Ee++)d=f[Ee],se.writeUInt16(d);for(qe=0,ie=de.length;qe<ie;qe++)M=de[qe],se.writeUInt16(M);for(et=0,R=y.length;et<R;et++)T=y[et],se.writeUInt16(T);return{charMap:a,subtable:se.data,maxGlyphID:U+1}}},t})(),cw=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return eo(t,js),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,a,s;for(e.pos=this.offset,this.version=e.readUInt16(),s=e.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=s?a<s:a>s;a=0<=s?++a:--a)n=new Wy(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var a,s;return n==null&&(n="macroman"),a=Wy.encode(e,n),(s=new jl).writeUInt16(0),s.writeUInt16(1),a.table=s.data.concat(a.subtable),a},t})(),yk=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return eo(t,js),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),bk=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return eo(t,js),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var n,a;for(a=[],n=0;n<10;++n)a.push(e.readByte());return a})(),this.charRange=(function(){var n,a;for(a=[],n=0;n<4;++n)a.push(e.readInt());return a})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(e.readInt());return a})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),vk=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return eo(t,js),t.prototype.tag="post",t.prototype.parse=function(e){var n,a,s;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(a=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=a?o<a:o>a;o=0<=a?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],s=[];e.pos<this.offset+this.length;)n=e.readByte(),s.push(this.names.push(e.readString(n)));return s;case 151552:return a=e.readUInt16(),this.offsets=e.read(a);case 262144:return this.map=(function(){var u,d,f;for(f=[],o=u=0,d=this.file.maxp.numGlyphs;0<=d?u<d:u>d;o=0<=d?++u:--u)f.push(e.readUInt32());return f}).call(this)}},t})(),wk=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},xk=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return eo(t,js),t.prototype.tag="name",t.prototype.parse=function(e){var n,a,s,o,u,d,f,h,g,x,S;for(e.pos=this.offset,e.readShort(),n=e.readShort(),d=e.readShort(),a=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)a.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+d+e.readShort()});for(f={},o=g=0,x=a.length;g<x;o=++g)s=a[o],e.pos=s.offset,h=e.readString(s.length),u=new wk(h,s),f[S=s.nameID]==null&&(f[S]=[]),f[s.nameID].push(u);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},t})(),_k=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return eo(t,js),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),Sk=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return eo(t,js),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,a,s,o,u,d,f;for(e.pos=this.offset,this.metrics=[],n=0,d=this.file.hhea.numberOfMetrics;0<=d?n<d:n>d;n=0<=d?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var h,g;for(g=[],n=h=0;0<=s?h<s:h>s;n=0<=s?++h:--h)g.push(e.readInt16());return g})(),this.widths=(function(){var h,g,x,S;for(S=[],h=0,g=(x=this.metrics).length;h<g;h++)o=x[h],S.push(o.advance);return S}).call(this),a=this.widths[this.widths.length-1],f=[],n=u=0;0<=s?u<s:u>s;n=0<=s?++u:--u)f.push(this.widths.push(a));return f},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),dw=[].slice,Ak=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return eo(t,js),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,a,s,o,u,d,f,h,g,x;return e in this.cache?this.cache[e]:(o=this.file.loca,n=this.file.contents,a=o.indexOf(e),(s=o.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+a,u=(d=new jl(n.read(s))).readShort(),h=d.readShort(),x=d.readShort(),f=d.readShort(),g=d.readShort(),this.cache[e]=u===-1?new kk(d,h,x,f,g):new Ek(d,u,h,x,f,g),this.cache[e]))},t.prototype.encode=function(e,n,a){var s,o,u,d,f;for(u=[],o=[],d=0,f=n.length;d<f;d++)s=e[n[d]],o.push(u.length),s&&(u=u.concat(s.encode(a)));return o.push(u.length),{table:u,offsets:o}},t})(),Ek=(function(){function t(e,n,a,s,o,u){this.raw=e,this.numberOfContours=n,this.xMin=a,this.yMin=s,this.xMax=o,this.yMax=u,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),kk=(function(){function t(e,n,a,s,o){var u,d;for(this.raw=e,this.xMin=n,this.yMin=a,this.xMax=s,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],u=this.raw;d=u.readShort(),this.glyphOffsets.push(u.pos),this.glyphIDs.push(u.readUInt16()),32&d;)u.pos+=1&d?4:2,128&d?u.pos+=8:64&d?u.pos+=4:8&d&&(u.pos+=2)}return t.prototype.encode=function(){var e,n,a;for(n=new jl(dw.call(this.raw.data)),e=0,a=this.glyphIDs.length;e<a;++e)n.pos=this.glyphOffsets[e];return n.data},t})(),Tk=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return eo(t,js),t.prototype.tag="loca",t.prototype.parse=function(e){var n,a;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,o;for(o=[],a=0,s=this.length;a<s;a+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],a=0,s=this.length;a<s;a+=4)o.push(e.readUInt32());return o}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var a=new Uint32Array(this.offsets.length),s=0,o=0,u=0;u<a.length;++u)if(a[u]=s,o<n.length&&n[o]==u){++o,a[u]=s;var d=this.offsets[u],f=this.offsets[u+1]-d;f>0&&(s+=f)}for(var h=new Array(4*a.length),g=0;g<a.length;++g)h[4*g+3]=255&a[g],h[4*g+2]=(65280&a[g])>>8,h[4*g+1]=(16711680&a[g])>>16,h[4*g]=(4278190080&a[g])>>24;return h},t})(),Lk=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,a,s,o;for(n in s=this.font.cmap.tables[0].codeMap,e={},o=this.subset)a=o[n],e[n]=s[a];return e},t.prototype.glyphsFor=function(e){var n,a,s,o,u,d,f;for(s={},u=0,d=e.length;u<d;u++)s[o=e[u]]=this.font.glyf.glyphFor(o);for(o in n=[],s)(a=s[o])!=null&&a.compound&&n.push.apply(n,a.glyphIDs);if(n.length>0)for(o in f=this.glyphsFor(n))a=f[o],s[o]=a;return s},t.prototype.encode=function(e,n){var a,s,o,u,d,f,h,g,x,S,y,E,T,k,N;for(s in a=cw.encode(this.generateCmap(),"unicode"),u=this.glyphsFor(e),y={0:0},N=a.charMap)y[(f=N[s]).old]=f.new;for(E in S=a.maxGlyphID,u)E in y||(y[E]=S++);return g=(function(D){var U,M;for(U in M={},D)M[D[U]]=U;return M})(y),x=Object.keys(g).sort(function(D,U){return D-U}),T=(function(){var D,U,M;for(M=[],D=0,U=x.length;D<U;D++)d=x[D],M.push(g[d]);return M})(),o=this.font.glyf.encode(u,T,y),h=this.font.loca.encode(o.offsets,T),k={cmap:this.font.cmap.raw(),glyf:o.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(k["OS/2"]=this.font.os2.raw()),this.font.directory.encode(k)},t})();Nt.API.PDFObject=(function(){var t;function e(){}return t=function(n,a){return(Array(a+1).join("0")+n).slice(-a)},e.convert=function(n){var a,s,o,u;if(Array.isArray(n))return"["+(function(){var d,f,h;for(h=[],d=0,f=n.length;d<f;d++)a=n[d],h.push(e.convert(a));return h})().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n?.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(s in o=["<<"],n)u=n[s],o.push("/"+s+" "+e.convert(u));return o.push(">>"),o.join(`
`)}return""+n},e})();function jk(){const{business:t}=Uo(),{isDark:e}=qo(),{notifyNewPayment:n,notifyPaymentReceived:a,notifyPaymentCancelled:s,notifyReportDownloaded:o,notifyError:u}=_u(),[d,f]=O.useState("pending"),[h,g]=O.useState(!1),[x,S]=O.useState([]),[y,E]=O.useState(!1),[T,k]=O.useState(!0),[N,D]=O.useState(null),[U,M]=O.useState(""),re=O.useRef(new Set),de=O.useRef(new Set),{orders:oe,loading:Q,error:q}=zA(t?.id,{status:"completed",orderBy:"completed_at",ascending:!1}),ue=(Ae=new Date)=>new Date(Ae.toLocaleString("en-US",{timeZone:"Europe/Istanbul"})),B=()=>{const Ae=new Date(new Date().toLocaleString("en-US",{timeZone:"Europe/Istanbul"})),P=Ae.getFullYear(),ye=String(Ae.getMonth()+1).padStart(2,"0"),Ye=String(Ae.getDate()).padStart(2,"0");return`${P}-${ye}-${Ye}`},K=Ae=>Ae?new Date(Ae).toLocaleString("tr-TR",{timeZone:"Europe/Istanbul",day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"}):"",fe=async()=>{if(t?.id)try{const Ae=new Date(new Date().toLocaleString("en-US",{timeZone:"Europe/Istanbul"})),P=Ae.getFullYear(),ye=Ae.getMonth(),Ye=Ae.getDate(),Be=B(),Le=new Date(P,ye,Ye,0,0,0,0),ce=new Date(P,ye,Ye,23,59,59,999),{data:be,error:He}=await ht.from("payments").select(`
          order_id,
          payment_date,
          orders!inner (
            *,
            order_items (
              id,
              product_name,
              product_price,
              quantity,
              subtotal
            )
          )
        `).eq("business_id",t.id).gte("payment_date",Le.toISOString()).lt("payment_date",ce.toISOString());if(He)throw He;const at=(be?.map(rt=>rt.orders).filter(rt=>rt&&rt.status==="completed")||[]||[]).sort((rt,it)=>{const st=rt.completed_at?new Date(rt.completed_at).getTime():0,ct=it.completed_at?new Date(it.completed_at).getTime():0;return st-ct}),ut=at.reduce((rt,it)=>{const st=parseFloat(it.total_amount||0);return isNaN(st)?(console.warn("Invalid total_amount for order:",it.id,it.total_amount),rt):rt+st},0),nt=at.length;console.log("UpdateTodayReport - Total Orders:",nt,"Total Amount:",ut),console.log("UpdateTodayReport - Paid Orders:",at.map(rt=>({id:rt.id.slice(0,8),total_amount:rt.total_amount})));const pt=new Date(P,ye,Ye);let $e=`GN SONU RAPORU
${t?.name||"letme"}
Tarih: ${pt.toLocaleDateString("tr-TR")}

---------------------------------------

TOPLAM SPAR: ${nt} adet
TOPLAM TUTAR: ${ut.toFixed(2)} TL

---------------------------------------

SPAR DETAYLARI:

`;at.length>0?at.forEach((rt,it)=>{$e+=`${it+1}. Sipari #${rt.id.slice(0,8)}
   Masa: ${rt.table_number||"N/A"}
   Tarih: ${K(rt.completed_at)}
   Tutar: ${parseFloat(rt.total_amount).toFixed(2)} TL
   
   rnler:
`,rt.order_items?.forEach(st=>{$e+=`   - ${st.product_name}  ${st.quantity} = ${parseFloat(st.subtotal).toFixed(2)} TL
`}),it<at.length-1?$e+=`
---------------------------------------

`:$e+=`
`}):$e+=`Henz denmi sipari yok.
`;const{data:ot}=await ht.from("daily_reports").select("*").eq("business_id",t.id).eq("report_date",Be).single();let lt=null,qt=null;if(ot){lt=ot.id,qt=ot.created_at;const{error:rt}=await ht.from("daily_reports").update({report_data:{orders:at,summary:{total_orders:nt,total_amount:ut}},total_orders:nt,total_amount:ut,report_text:$e}).eq("id",ot.id);if(rt)throw console.error("Error updating daily report:",rt),rt;console.log("Daily report updated successfully - Total Amount:",ut)}else{const{data:rt,error:it}=await ht.from("daily_reports").insert({business_id:t.id,report_date:Be,report_data:{orders:at,summary:{total_orders:nt,total_amount:ut}},total_orders:nt,total_amount:ut,report_text:$e}).select().single();if(it)throw console.error("Error inserting daily report:",it),it;lt=rt.id,qt=rt.created_at,console.log("Daily report created successfully - Total Amount:",ut)}}catch(Ae){console.error("Update today report error:",Ae)}};O.useEffect(()=>{if(!t?.id)return;const Ae=ht.channel(`payments:${t.id}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"orders",filter:`business_id=eq.${t.id}`},async P=>{console.log(" Order updated in Supabase:",P.new.id,"payment_status:",P.new.payment_status);const{data:ye,error:Ye}=await ht.from("orders").select(`
              *,
              order_items (
                id,
                product_name,
                product_price,
                quantity,
                notes,
                subtotal
              )
            `).eq("id",P.new.id).single();if(Ye||!ye){console.error("Error fetching order with items:",Ye);return}if(P.new.payment_status==="paid")le(Be=>Be.find(ce=>ce.id===ye.id)?Be.map(ce=>ce.id===ye.id?ye:ce):[ye,...Be]),ee(Be=>Be.filter(Le=>Le.id!==ye.id));else if(P.new.payment_status==="pending"){let Be=!1;if(ee(Le=>{const ce=Le.find(be=>be.id===ye.id);return!ce&&ye.status==="completed"?(Be=!0,[ye,...Le]):ce?Le.map(be=>be.id===ye.id?ye:be):Le}),Be&&ye.status==="completed"&&!re.current.has(ye.id)){re.current.add(ye.id),console.log(" Yeni deme bildirimi gsteriliyor (payment_status pending):",ye.id,ye.table_number);const Le={order_id:ye.id,table_number:ye.table_number,amount:ye.total_amount};setTimeout(()=>{n(Le)},300)}le(Le=>Le.filter(ce=>ce.id!==ye.id))}if(P.new.status==="completed"&&P.old?.status!=="completed"&&ye.status==="completed"&&ye.payment_status==="pending"){let Be=!1;if(ee(Le=>Le.find(be=>be.id===ye.id)?Le:(Be=!0,[ye,...Le])),Be&&!re.current.has(ye.id)){re.current.add(ye.id),console.log(" Yeni deme bildirimi gsteriliyor (status completed):",ye.id,ye.table_number,ye.payment_status);const Le={order_id:ye.id,table_number:ye.table_number,amount:ye.total_amount};setTimeout(()=>{n(Le)},500)}}if(P.new.status==="completed"&&P.new.payment_status==="pending"&&(P.old?.status!=="completed"||P.old?.payment_status!=="pending")&&ye.status==="completed"&&ye.payment_status==="pending"&&!re.current.has(ye.id)){re.current.add(ye.id),console.log(" Yeni deme bildirimi gsteriliyor (status+payment_status):",ye.id,ye.table_number);const Be={order_id:ye.id,table_number:ye.table_number,amount:ye.total_amount};setTimeout(()=>{n(Be)},500)}P.new.payment_status==="paid"&&P.old?.payment_status!=="paid"&&(fe(),ye&&!de.current.has(ye.id)&&(de.current.add(ye.id),console.log(" deme yapld bildirimi gsteriliyor (realtime):",ye.id,ye.table_number),a(ye)))}).on("postgres_changes",{event:"DELETE",schema:"public",table:"orders",filter:`business_id=eq.${t.id}`},P=>{console.log(" Order deleted from Supabase (Realtime):",P.old.id),console.log(" Deleted order details:",P.old),le(ye=>{const Ye=ye.filter(Be=>Be.id!==P.old.id);return console.log(` Paid orders: ${ye.length}  ${Ye.length}`),Ye}),ee(ye=>{const Ye=ye.filter(Be=>Be.id!==P.old.id);return console.log(` Pending orders: ${ye.length}  ${Ye.length}`),Ye}),fe()}).on("postgres_changes",{event:"INSERT",schema:"public",table:"payments",filter:`business_id=eq.${t.id}`},async P=>{console.log(" New payment added:",P.new.order_id);const{data:ye,error:Ye}=await ht.from("orders").select(`
              *,
              order_items (
                id,
                product_name,
                product_price,
                quantity,
                notes,
                subtotal
              )
            `).eq("id",P.new.order_id).single();if(ye&&!Ye)if(ye.status==="completed"&&ye.payment_status==="pending"){let Be=!1;if(ee(Le=>Le.find(be=>be.id===ye.id)?Le:(Be=!0,[ye,...Le])),Be&&!re.current.has(ye.id)){re.current.add(ye.id);const Le={order_id:ye.id,table_number:ye.table_number,amount:ye.total_amount};n(Le)}le(Le=>Le.filter(ce=>ce.id!==ye.id)),fe()}else ye.status==="completed"&&ye.payment_status==="paid"&&(le(Be=>Be.find(ce=>ce.id===ye.id)?Be:[ye,...Be]),ee(Be=>Be.filter(Le=>Le.id!==ye.id)),fe())}).on("postgres_changes",{event:"DELETE",schema:"public",table:"payments",filter:`business_id=eq.${t.id}`},P=>{console.log(" Payment deleted:",P.old.order_id),le(ye=>ye.filter(Ye=>Ye.id!==P.old.order_id)),fe()}).on("postgres_changes",{event:"*",schema:"public",table:"daily_reports",filter:`business_id=eq.${t.id}`},async P=>{console.log(" Daily report changed (Realtime):",P.eventType,P.new?.report_date||P.old?.report_date);try{const ye=ue(),Ye=new Date(ye);Ye.setDate(Ye.getDate()-30);const Be=`${Ye.getFullYear()}-${String(Ye.getMonth()+1).padStart(2,"0")}-${String(Ye.getDate()).padStart(2,"0")}`,{data:Le,error:ce}=await ht.from("daily_reports").select("*").eq("business_id",t.id).gte("report_date",Be).order("report_date",{ascending:!1});if(ce)throw ce;const be=(Le||[]).filter(He=>He.report_date&&He.id);S(be),console.log(" Daily reports state updated (Realtime):",be.length,"reports")}catch(ye){console.error("Load reports error (Realtime):",ye)}}).subscribe();return()=>{ht.removeChannel(Ae)}},[t?.id]),O.useEffect(()=>{if(!t?.id){E(!1),k(!1);return}if(!T)return;(async()=>{try{E(!0),await fe();const P=ue(),ye=new Date(P);ye.setDate(ye.getDate()-30);const Ye=`${ye.getFullYear()}-${String(ye.getMonth()+1).padStart(2,"0")}-${String(ye.getDate()).padStart(2,"0")}`,{data:Be,error:Le}=await ht.from("daily_reports").select("*").eq("business_id",t.id).gte("report_date",Ye).order("report_date",{ascending:!1});if(Le)throw Le;const ce=(Be||[]).filter(be=>be.report_date&&be.id);S(ce)}catch(P){console.error("Load reports error:",P),S([])}finally{E(!1),k(!1)}})()},[t?.id,T]);const[se,le]=O.useState([]),[J,ee]=O.useState([]),[he,_e]=O.useState(!0),[ze,G]=O.useState(!0);O.useEffect(()=>{if(!t?.id){_e(!1);return}const Ae=async()=>{try{console.log(" Fetching PAID orders from payments table...");const ye=new Date(new Date().toLocaleString("en-US",{timeZone:"Europe/Istanbul"})),Ye=ye.getFullYear(),Be=ye.getMonth(),Le=ye.getDate(),ce=new Date(Ye,Be,Le,0,0,0,0),be=new Date(Ye,Be,Le,23,59,59,999),{data:He,error:Ve}=await ht.from("payments").select(`
            order_id,
            orders!inner (
              *,
              order_items (
                id,
                product_name,
                product_price,
                quantity,
                notes,
                subtotal
              )
            )
          `).eq("business_id",t.id).gte("payment_date",ce.toISOString()).lt("payment_date",be.toISOString()).order("payment_date",{ascending:!1});if(Ve)throw Ve;const Qe=He?.map(at=>at.orders).filter(at=>at&&at.status==="completed")||[];console.log(" PAID Orders fetched from payments table:",Qe.length,"orders"),console.log(" PAID Order IDs:",Qe.map(at=>at.id.slice(0,8))||[]),console.log(" Payments count:",He?.length||0),le(Qe)}catch(ye){console.error(" Fetch PAID orders error:",ye),le([])}},P=async()=>{try{console.log(" Fetching PENDING orders from Supabase...");const{data:ye,error:Ye}=await ht.from("orders").select(`
            *,
            order_items (
              id,
              product_name,
              product_price,
              quantity,
              notes,
              subtotal
            )
          `).eq("business_id",t.id).eq("status","completed").eq("payment_status","pending").order("completed_at",{ascending:!1});if(Ye)throw Ye;console.log(" PENDING Orders fetched from Supabase:",ye?.length||0,"orders"),console.log(" PENDING Order IDs:",ye?.map(Be=>Be.id.slice(0,8))||[]),ee(ye||[])}catch(ye){console.error(" Fetch PENDING orders error:",ye),ee([])}};Promise.all([Ae(),P()]).finally(()=>{_e(!1),G(!1)})},[t?.id]);const L=d==="paid"?se:d==="pending"?J:oe;O.useEffect(()=>{(d==="paid"||d==="pending")&&console.log(" Debug ordersToUse:",{selectedTab:d,isInitialLoad:ze,loadingOrders:he,paidOrdersFromSupabaseCount:se.length,pendingOrdersFromSupabaseCount:J.length,allOrdersCount:oe.length,ordersToUseCount:L.length,ordersToUseIDs:L.map(Ae=>Ae.id.slice(0,8))})},[d,ze,he,se,J,oe,L]);const F=J,X=se,ie=d==="pending"?F:d==="paid"?X:[];O.useEffect(()=>{const Ae=()=>{g(window.innerWidth<768)};return Ae(),window.addEventListener("resize",Ae),()=>window.removeEventListener("resize",Ae)},[]),O.useEffect(()=>{const Ae=()=>{const Ye=new Date().toLocaleString("tr-TR",{timeZone:"Europe/Istanbul",day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"});M(Ye)};Ae();const P=setInterval(Ae,1e3);return()=>clearInterval(P)},[]),O.useEffect(()=>{const Ae=P=>{N&&!P.target.closest("[data-report-menu]")&&D(null)};return document.addEventListener("click",Ae),()=>document.removeEventListener("click",Ae)},[N]);const R=async(Ae,P)=>{try{const{data:ye,error:Ye}=await ht.from("payments").insert({order_id:Ae,business_id:t.id,amount:P,payment_method:"cash",payment_date:new Date().toISOString()}).select().single();if(Ye)throw Ye;const{error:Be}=await ht.from("orders").update({payment_status:"paid",updated_at:new Date().toISOString()}).eq("id",Ae);if(Be)throw Be;let Le=0,ce=!1;for(;Le<5&&!ce;){await new Promise(Ve=>setTimeout(Ve,200));const{data:He}=await ht.from("orders").select("payment_status").eq("id",Ae).single();He&&He.payment_status==="paid"?ce=!0:Le++}await fe();const{data:be}=await ht.from("orders").select("*").eq("id",Ae).single();be&&(de.current.has(be.id)||(de.current.add(be.id),console.log(" deme yapld bildirimi gsteriliyor:",be.id,be.table_number),a(be)))}catch(ye){console.error("Payment error:",ye),u("deme kaydedilirken hata olutu",ye.message)}},V=Ae=>Ae?new Date(Ae).toLocaleDateString("tr-TR",{timeZone:"Europe/Istanbul",day:"numeric",month:"long",year:"numeric"}):"",pe=Ae=>{if(!Ae)return"";const P=new Date(Ae),ye=P.toLocaleDateString("tr-TR",{timeZone:"Europe/Istanbul",day:"2-digit"}),Ye=P.toLocaleDateString("tr-TR",{timeZone:"Europe/Istanbul",month:"2-digit"}),Be=P.toLocaleDateString("tr-TR",{timeZone:"Europe/Istanbul",year:"numeric"});return`${ye}.${Ye}.${Be}`},ve=Ae=>Ae?Ae.replace(//g,"s").replace(//g,"S").replace(//g,"g").replace(//g,"G").replace(//g,"u").replace(//g,"U").replace(//g,"o").replace(//g,"O").replace(//g,"c").replace(//g,"C").replace(//g,"i").replace(//g,"I").replace(//g,"TL"):"",Ee=async(Ae,P,ye,Ye)=>{const Be=new Nt,Le=Be.internal.pageSize.width,ce=Le/2;let be=20;if(t?.logo_url)try{const rt=new Image;rt.crossOrigin="anonymous",await new Promise(it=>{const st=setTimeout(()=>{console.warn("Logo ykleme zaman am"),it()},5e3);rt.onload=()=>{clearTimeout(st);try{const yt=rt.width/rt.height,$t=Math.min(40,rt.height),Et=$t*yt,St=ce-Et/2;let Kt="PNG";t.logo_url.toLowerCase().includes(".jpg")||t.logo_url.toLowerCase().includes(".jpeg")?Kt="JPEG":t.logo_url.toLowerCase().includes(".png")&&(Kt="PNG"),Be.addImage(rt,Kt,St,be,Et,$t),be+=$t+10,it()}catch(ct){console.warn("Logo PDF'e eklenemedi:",ct),clearTimeout(st),it()}},rt.onerror=()=>{clearTimeout(st),console.warn("Logo yklenemedi"),it()},rt.src=t.logo_url})}catch(rt){console.warn("Logo ileme hatas:",rt)}Be.setFontSize(18),Be.setFont("helvetica","bold");const He=ve("GN SONU RAPORU");Be.text(He,ce,be,{align:"center"}),be+=10,Be.setFontSize(14),Be.setFont("helvetica","normal");const Ve=ve(t?.name||"letme");Be.text(Ve,ce,be,{align:"center"}),be+=8,Be.setFontSize(12);const Qe=`Tarih: ${P}`;Be.text(Qe,ce,be,{align:"center"}),be+=10,Be.setLineWidth(.5),Be.line(20,be,Le-20,be),be+=10,Be.setFontSize(12),Be.setFont("helvetica","bold");const at=ve(`TOPLAM SPAR: ${ye} adet`);Be.text(at,20,be),be+=8;const ut=ve(`TOPLAM TUTAR: ${parseFloat(Ye||0).toFixed(2)} TL`);Be.text(ut,20,be),be+=10,Be.line(20,be,Le-20,be),be+=10,Be.setFontSize(10),Be.setFont("helvetica","normal");const pt=Ae.replace(/%P+/g,"").replace(/%[A-Z0-9]+/g,"").replace(/+/g,"-").replace(/S0PAR0\^/g,"SPAR").replace(/SOPAR0\^/g,"SPAR").replace(/SOPAR/g,"SPAR").replace(/SPAR/g,"SPAR").replace(//g,"").replace(//g,"").replace(/\u00B0/g,"").replace(/\u00BA/g,"").replace(/\u00A0/g," ").split(`
`),$e=Be.internal.pageSize.height,lt=Le-20*2;pt.forEach(rt=>{if(be>$e-20&&(Be.addPage(),be=20),rt.trim()===""){be+=4;return}let it=rt.replace(/%P+/g,"").replace(/%[A-Z0-9]+/g,"").replace(/+/g,"-").replace(/S0PAR0\^/g,"SPAR").replace(/SOPAR0\^/g,"SPAR").replace(//g,"").replace(//g,"").replace(/\u00B0/g,"").replace(/\u00BA/g,"").replace(/\u00A0/g," ");try{Be.splitTextToSize(it,lt).forEach(ct=>{be>$e-20&&(Be.addPage(),be=20);const yt=ve(ct);Be.text(yt,20,be),be+=6})}catch(st){console.warn("Satr eklenemedi:",rt.substring(0,50),st)}});const qt=P.replace(/\s+/g,"-").replace(/[^a-zA-Z0-9-]/g,"");Be.save(`gun-sonu-raporu-${qt}.pdf`)},qe=async(Ae,P="txt")=>{try{if(P==="pdf"){const ye=pe(Ae.report_date);await Ee(Ae.report_text||"",ye,Ae.total_orders||0,Ae.total_amount||0),o("pdf",Ae)}else{const Ye="\uFEFF"+(Ae.report_text||""),Be=new Blob([Ye],{type:"text/plain;charset=utf-8"}),Le=URL.createObjectURL(Be),ce=document.createElement("a");ce.href=Le,ce.download=`gun-sonu-raporu-${Ae.report_date}.txt`,document.body.appendChild(ce),ce.click(),document.body.removeChild(ce),URL.revokeObjectURL(Le),o(P,Ae)}}catch(ye){console.error("Download error:",ye),u("Rapor indirilirken hata olutu",ye.message)}};if(Q)return w.jsx(Aa,{children:w.jsx($a,{message:"demeler ykleniyor..."})});if(q)return w.jsx(Aa,{children:w.jsx("div",{style:{background:e?"rgba(15, 23, 42, 0.85)":"white",padding:"2rem",borderRadius:"8px",textAlign:"center",color:"#ef4444",border:e?"1px solid rgba(139, 92, 246, 0.3)":"none",boxShadow:e?"0 25px 50px -12px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(139, 92, 246, 0.2)":"0 1px 3px rgba(0,0,0,0.1)"},children:w.jsxs("p",{children:[" Hata: ",q]})})});const et=F.reduce((Ae,P)=>Ae+parseFloat(P.total_amount||0),0),Re=X.reduce((Ae,P)=>Ae+parseFloat(P.total_amount||0),0);return w.jsx(Aa,{children:w.jsxs("div",{children:[w.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:h?"1.5rem":"2rem",flexWrap:"wrap",gap:"1rem"},children:[w.jsxs("h1",{style:{margin:0,fontSize:h?"1.5rem":"2rem",color:e?"#ffffff":"#1e293b",display:"flex",alignItems:"center",gap:"0.75rem"},children:[w.jsxs("svg",{width:h?"28":"32",height:h?"28":"32",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[w.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2",stroke:e?"#ffffff":"#1e293b",strokeWidth:"2",fill:"none"}),w.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10",stroke:e?"#ffffff":"#1e293b",strokeWidth:"2"})]}),"demeler"]}),w.jsx("div",{style:{display:"flex",gap:"0.75rem",alignItems:"center",flexWrap:"wrap"},children:U&&w.jsxs("div",{style:{padding:"0.5rem 1rem",background:"linear-gradient(135deg, #0f172a 0%, #1e293b 100%)",borderRadius:"8px",color:"white",fontSize:h?"0.75rem":"0.875rem",fontWeight:"500",boxShadow:"0 2px 4px rgba(15, 23, 42, 0.3)",border:"1px solid #334155"},children:[" ",U]})})]}),w.jsxs("div",{style:{display:"grid",gridTemplateColumns:h?"1fr":"repeat(2, 1fr)",gap:"1rem",marginBottom:"2rem"},children:[w.jsxs("div",{style:{background:e?"rgba(15, 23, 42, 0.85)":"white",padding:"1.5rem",borderRadius:"8px",boxShadow:e?"0 25px 50px -12px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(139, 92, 246, 0.2)":"0 1px 3px rgba(0,0,0,0.1)",borderLeft:"4px solid #f59e0b",border:e?"1px solid rgba(139, 92, 246, 0.3)":"none"},children:[w.jsx("p",{style:{margin:0,color:e?"#cbd5e1":"#64748b",fontSize:"0.875rem"},children:"deme Yaplacak"}),w.jsxs("p",{style:{margin:"0.5rem 0 0 0",fontSize:"1.5rem",fontWeight:"bold",color:e?"#ffffff":"#1e293b"},children:[F.length," sipari"]}),w.jsx("div",{style:{margin:"0.25rem 0 0 0"},children:w.jsx(Pr,{price:et,fontSize:"1.25rem",fontWeight:"600",color:"#f59e0b"})})]}),w.jsxs("div",{style:{background:e?"rgba(15, 23, 42, 0.85)":"white",padding:"1.5rem",borderRadius:"8px",boxShadow:e?"0 25px 50px -12px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(139, 92, 246, 0.2)":"0 1px 3px rgba(0,0,0,0.1)",borderLeft:"4px solid #10b981",border:e?"1px solid rgba(139, 92, 246, 0.3)":"none"},children:[w.jsx("p",{style:{margin:0,color:e?"#cbd5e1":"#64748b",fontSize:"0.875rem"},children:"dendi"}),w.jsxs("p",{style:{margin:"0.5rem 0 0 0",fontSize:"1.5rem",fontWeight:"bold",color:e?"#ffffff":"#1e293b"},children:[X.length," sipari"]}),w.jsx("div",{style:{margin:"0.25rem 0 0 0"},children:w.jsx(Pr,{price:Re,fontSize:"1.25rem",fontWeight:"600",color:"#10b981"})})]})]}),w.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1.5rem",borderBottom:e?"2px solid rgba(139, 92, 246, 0.3)":"2px solid #e2e8f0"},children:[w.jsxs("button",{onClick:()=>f("pending"),style:{background:d==="pending"?"#f59e0b":"transparent",color:d==="pending"?"white":e?"#cbd5e1":"#64748b",border:"none",padding:"0.75rem 1.5rem",fontSize:"1rem",fontWeight:"600",cursor:"pointer",borderBottom:d==="pending"?"3px solid #f59e0b":"3px solid transparent",transition:"all 0.2s"},children:[" deme Yaplacak (",F.length,")"]}),w.jsxs("button",{onClick:()=>f("paid"),style:{background:d==="paid"?"#10b981":"transparent",color:d==="paid"?"white":e?"#cbd5e1":"#64748b",border:"none",padding:"0.75rem 1.5rem",fontSize:"1rem",fontWeight:"600",cursor:"pointer",borderBottom:d==="paid"?"3px solid #10b981":"3px solid transparent",transition:"all 0.2s"},children:[" dendi (",X.length,")"]}),w.jsx("button",{onClick:()=>f("history"),style:{background:d==="history"?"linear-gradient(135deg, #6366f1 0%, #312e81 100%)":"transparent",color:d==="history"?"white":e?"#cbd5e1":"#64748b",border:"none",padding:"0.75rem 1.5rem",fontSize:"1rem",fontWeight:"600",cursor:"pointer",borderBottom:d==="history"?"3px solid #6366f1":"3px solid transparent",transition:"all 0.2s"},children:" Gemi Kaytlar"})]}),(d==="pending"||d==="paid")&&(he&&ze?w.jsx($a,{message:"Sipariler ykleniyor..."}):ie.length===0?w.jsx("div",{style:{background:e?"rgba(15, 23, 42, 0.85)":"white",padding:"3rem",borderRadius:"8px",textAlign:"center",boxShadow:e?"0 25px 50px -12px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(139, 92, 246, 0.2)":"0 1px 3px rgba(0,0,0,0.1)",border:e?"1px solid rgba(139, 92, 246, 0.3)":"none"},children:w.jsx("p",{style:{color:e?"#cbd5e1":"#64748b",fontSize:h?"1rem":"1.125rem"},children:d==="pending"?" Henz deme bekleyen sipari yok":" Henz denmi sipari yok"})}):w.jsx("div",{style:{display:"grid",gridTemplateColumns:h?"1fr":"repeat(auto-fill, minmax(350px, 1fr))",gap:h?"1rem":"1.5rem"},children:ie.map(Ae=>w.jsx(Nk,{order:Ae,isMobile:h,formatDate:K,markAsPaid:R,isPaid:d==="paid"},Ae.id))})),d==="history"&&(y&&T?w.jsx($a,{message:"Gemi kaytlar ykleniyor..."}):x.length===0?w.jsx("div",{style:{background:e?"rgba(15, 23, 42, 0.85)":"white",padding:"3rem",borderRadius:"8px",textAlign:"center",boxShadow:e?"0 25px 50px -12px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(139, 92, 246, 0.2)":"0 1px 3px rgba(0,0,0,0.1)",border:e?"1px solid rgba(139, 92, 246, 0.3)":"none"},children:w.jsx("p",{style:{color:e?"#cbd5e1":"#64748b",fontSize:h?"1rem":"1.125rem"},children:" Henz gemi kayt yok"})}):w.jsx("div",{style:{display:"grid",gridTemplateColumns:h?"1fr":"repeat(auto-fill, minmax(400px, 1fr))",gap:h?"1rem":"1.5rem"},children:x.map(Ae=>w.jsxs("div",{style:{padding:h?"1rem":"1.5rem",borderRadius:"8px",boxShadow:e?"0 25px 50px -12px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(139, 92, 246, 0.2)":"0 1px 3px rgba(0,0,0,0.1)",borderLeft:"4px solid #6366f1",background:e?"rgba(15, 23, 42, 0.85)":"linear-gradient(135deg, #ffffff 0%, #faf5ff 100%)",border:e?"1px solid rgba(139, 92, 246, 0.3)":"none"},children:[w.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[w.jsxs("div",{children:[w.jsxs("h3",{style:{margin:0,fontSize:h?"1.125rem":"1.25rem",color:e?"#ffffff":"#1e293b"},children:[" ",V(Ae.report_date)]}),w.jsxs("p",{style:{margin:"0.5rem 0 0 0",color:e?"#cbd5e1":"#64748b",fontSize:h?"0.75rem":"0.875rem"},children:[Ae.total_orders," sipari"]})]}),w.jsx("div",{style:{fontSize:h?"1.25rem":"1.5rem",fontWeight:"bold",display:"inline-block"},children:w.jsx(Pr,{price:parseFloat(Ae.total_amount),fontSize:h?"1.25rem":"1.5rem",fontWeight:"bold",color:"#6366f1",style:{background:"linear-gradient(135deg, #6366f1 0%, #312e81 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"}})})]}),w.jsxs("div",{style:{position:"relative",width:"100%"},"data-report-menu":!0,children:[w.jsxs("button",{onClick:P=>{P.stopPropagation(),D(N===Ae.id?null:Ae.id)},style:{width:"100%",background:"linear-gradient(135deg, #6366f1 0%, #312e81 100%)",color:"white",border:"none",borderRadius:"8px",padding:"0.75rem",fontSize:h?"0.875rem":"1rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},onMouseEnter:P=>{P.currentTarget.style.background="linear-gradient(135deg, #4f46e5 0%, #1e1b4b 100%)",P.currentTarget.style.transform="translateY(-1px)",P.currentTarget.style.boxShadow="0 4px 12px rgba(99, 102, 241, 0.4)"},onMouseLeave:P=>{P.currentTarget.style.background="linear-gradient(135deg, #6366f1 0%, #312e81 100%)",P.currentTarget.style.transform="translateY(0)",P.currentTarget.style.boxShadow="none"},children:[" Raporu ndir",w.jsx("span",{style:{fontSize:"0.75rem"},children:""})]}),N===Ae.id&&w.jsxs("div",{style:{position:"absolute",top:"100%",left:0,right:0,marginTop:"0.5rem",borderRadius:"8px",border:e?"1px solid rgba(139, 92, 246, 0.3)":"2px solid #6366f1",background:e?"rgba(15, 23, 42, 0.95)":"linear-gradient(135deg, #ffffff 0%, #faf5ff 100%)",boxShadow:e?"0 8px 16px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(139, 92, 246, 0.3)":"0 8px 16px rgba(99, 102, 241, 0.15), 0 2px 4px rgba(0,0,0,0.1)",zIndex:1e3,overflow:"hidden"},children:[w.jsx("button",{onClick:P=>{P.stopPropagation(),qe(Ae,"pdf"),D(null)},style:{width:"100%",padding:"0.875rem 1rem",border:"none",background:e?"transparent":"#ffffff",textAlign:"left",cursor:"pointer",fontSize:"0.875rem",color:e?"#cbd5e1":"#1e293b",display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.2s",fontWeight:"500"},onMouseEnter:P=>{P.currentTarget.style.background="linear-gradient(135deg, #6366f1 0%, #312e81 100%)",P.currentTarget.style.color="white"},onMouseLeave:P=>{P.currentTarget.style.background=e?"transparent":"#ffffff",P.currentTarget.style.color=e?"#cbd5e1":"#1e293b"},children:" PDF Olarak ndir"}),w.jsx("div",{style:{height:"1px",background:e?"rgba(139, 92, 246, 0.3)":"#e2e8f0",margin:"0.25rem 0"}}),w.jsx("button",{onClick:P=>{P.stopPropagation(),qe(Ae,"txt"),D(null)},style:{width:"100%",padding:"0.875rem 1rem",border:"none",background:e?"transparent":"#ffffff",textAlign:"left",cursor:"pointer",fontSize:"0.875rem",color:e?"#cbd5e1":"#1e293b",display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.2s",fontWeight:"500"},onMouseEnter:P=>{P.currentTarget.style.background="linear-gradient(135deg, #6366f1 0%, #312e81 100%)",P.currentTarget.style.color="white"},onMouseLeave:P=>{P.currentTarget.style.background=e?"transparent":"#ffffff",P.currentTarget.style.color=e?"#cbd5e1":"#1e293b"},children:" TXT Olarak ndir"})]})]})]},Ae.id))}))]})})}function Nk({order:t,isMobile:e,formatDate:n,markAsPaid:a,isPaid:s}){const[o,u]=O.useState(!1),{isDark:d}=qo(),f=t.order_items?.slice(0,3)||[],h=t.order_items?.slice(3)||[],g=h.length>0,x=()=>d?"rgba(15, 23, 42, 0.85)":s?"#f5fef7":"#fffef7",S=()=>s?"#10b981":"#f59e0b",y=E=>{if(!E)return"";const T=new Date(E),k=String(T.getDate()).padStart(2,"0"),N=String(T.getMonth()+1).padStart(2,"0"),D=T.getFullYear(),U=String(T.getHours()).padStart(2,"0"),M=String(T.getMinutes()).padStart(2,"0");if(s)return`${k}/${N}/${D} ${U}.${M}`;const de=new Date-T,oe=Math.floor(de/6e4),Q=Math.floor(de/36e5),q=Math.floor(de/864e5);let ue="";return oe<1?ue="az nce":oe<60?ue=`${oe} dakika nce`:Q<24?ue=`${Q} saat nce`:q<7?ue=`${q} gn nce`:ue="",`${k}/${N}/${D} ${U}.${M}${ue?` (${ue})`:""}`};return w.jsxs("div",{style:{background:x(),padding:e?"1rem":"1.5rem",borderRadius:"8px",boxShadow:d?"0 25px 50px -12px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(139, 92, 246, 0.2)":"0 1px 3px rgba(0,0,0,0.1)",borderLeft:`4px solid ${S()}`,border:d?"1px solid rgba(139, 92, 246, 0.3)":"none"},children:[w.jsx("div",{style:{display:"flex",flexDirection:e?"column":"row",justifyContent:"space-between",alignItems:e?"flex-start":"center",marginBottom:"1rem",gap:e?"0.75rem":0},children:w.jsxs("div",{style:{flex:1},children:[w.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",flexWrap:"wrap"},children:w.jsxs("h3",{style:{margin:0,fontSize:e?"1.125rem":"1.25rem",color:d?"#ffffff":"#1e293b"},children:[" Sipari #",t.id.slice(0,8)]})}),w.jsxs("p",{style:{margin:"0.5rem 0 0 0",color:d?"#cbd5e1":"#64748b",fontSize:e?"0.75rem":"0.875rem"},children:[" ",y(t.completed_at||t.created_at)]}),t.table_number&&w.jsxs("div",{style:{marginTop:"0.5rem",display:"inline-block",padding:"0.25rem 0.75rem",background:"linear-gradient(135deg, #9333ea 0%, #7c3aed 100%)",color:"white",borderRadius:"6px",fontSize:e?"0.75rem":"0.8125rem",fontWeight:"600",boxShadow:"0 2px 6px rgba(147, 51, 234, 0.4)"},children:[" Masa ",t.table_number]}),w.jsxs("div",{style:{marginTop:"0.75rem"},children:[w.jsx("div",{style:{fontSize:e?"0.75rem":"0.8125rem",color:d?"#cbd5e1":"#1e293b",marginBottom:"0.25rem",fontWeight:"600"},children:"Toplam:"}),w.jsx("div",{style:{fontSize:e?"2rem":"2.5rem",fontWeight:"800",letterSpacing:"0.5px",display:"inline-block",padding:"0.5rem 1rem",borderRadius:"8px",boxShadow:d?"0 4px 12px rgba(0, 0, 0, 0.5), 0 0 20px rgba(139, 92, 246, 0.2)":"0 4px 12px rgba(30, 41, 59, 0.25), 0 0 20px rgba(30, 41, 59, 0.15)",border:d?"2px solid rgba(139, 92, 246, 0.3)":"2px solid rgba(30, 41, 59, 0.3)",background:d?"rgba(15, 23, 42, 0.6)":"linear-gradient(135deg, rgba(30, 41, 59, 0.1) 0%, rgba(15, 23, 42, 0.05) 100%)"},children:w.jsx(Pr,{price:parseFloat(t.total_amount),fontSize:e?"2rem":"2.5rem",fontWeight:"800",color:d?"#ffffff":"#1e293b",style:{textShadow:d?"0 2px 8px rgba(139, 92, 246, 0.3)":"0 2px 8px rgba(30, 41, 59, 0.3)"}})})]})]})}),t.order_items&&t.order_items.length>0&&w.jsxs("div",{style:{marginBottom:"1rem",padding:e?"1rem":"1.25rem",background:d?"rgba(30, 41, 59, 0.4)":"#f8fafc",borderRadius:"8px",border:d?"1px solid rgba(139, 92, 246, 0.2)":"1px solid #e2e8f0"},children:[f.map((E,T)=>w.jsxs("div",{style:{padding:T<f.length-1||g?"0.75rem 0":"0.75rem 0 0 0",borderBottom:T<f.length-1||g?"1px solid #cbd5e1":"none"},children:[w.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"1rem"},children:[w.jsxs("div",{style:{flex:1},children:[w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.25rem"},children:[w.jsxs("span",{style:{fontSize:e?"0.875rem":"0.9375rem",fontWeight:"600",color:d?"#cbd5e1":"#64748b",minWidth:"1.5rem",textAlign:"center"},children:[E.quantity,""]}),w.jsx("span",{style:{fontSize:e?"0.875rem":"0.9375rem",fontWeight:"500",color:d?"#cbd5e1":"#64748b",flex:1},children:E.product_name})]}),w.jsxs("div",{style:{marginLeft:e?"2rem":"2.25rem",fontSize:e?"0.6875rem":"0.75rem",color:"#94a3b8",display:"flex",alignItems:"center",gap:"0.25rem"},children:[w.jsx(Pr,{price:parseFloat(E.product_price),fontSize:e?"0.6875rem":"0.75rem",fontWeight:"400",color:"#94a3b8"}),w.jsxs("span",{children:[" ",E.quantity]})]})]}),w.jsx("div",{style:{textAlign:"right",minWidth:"5rem"},children:w.jsx(Pr,{price:parseFloat(E.subtotal),fontSize:e?"1rem":"1.125rem",fontWeight:"700",color:d?"#ffffff":"#1e293b",style:{letterSpacing:"0.3px"}})})]}),E.notes&&w.jsx("div",{style:{marginTop:"0.5rem",padding:"0.375rem 0.75rem",background:"#fef3c7",borderRadius:"4px",borderLeft:"3px solid #f59e0b"},children:w.jsxs("p",{style:{margin:0,color:"#92400e",fontSize:e?"0.75rem":"0.8125rem",fontStyle:"italic",fontWeight:"500"},children:[" ",E.notes]})})]},E.id)),g&&w.jsxs(w.Fragment,{children:[!o&&w.jsxs("div",{style:{marginTop:"0.75rem"},children:[w.jsxs("button",{onClick:()=>u(!0),className:"pulse-button",style:{width:"100%",padding:"0.375rem 0.75rem",background:d?"rgba(99, 102, 241, 0.2)":"#c7d2fe",color:d?"#cbd5e1":"#1e293b",border:"2px solid #6366f1",borderRadius:"6px",cursor:"pointer",fontSize:e?"0.75rem":"0.8125rem",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.375rem",transition:"all 0.3s ease",boxShadow:d?"0 1px 3px rgba(99, 102, 241, 0.3)":"0 1px 3px rgba(99, 102, 241, 0.2)",position:"relative",overflow:"hidden",minHeight:"1.875rem",height:"1.875rem"},onMouseEnter:E=>{E.currentTarget.style.background="#6366f1",E.currentTarget.style.color="white",E.currentTarget.style.boxShadow="0 4px 12px rgba(99, 102, 241, 0.4)",E.currentTarget.style.transform="translateY(-1px)";const T=E.currentTarget.querySelector("span:first-child"),k=E.currentTarget.querySelector("span:last-child");T&&(T.style.color="white"),k&&(k.style.color="white")},onMouseLeave:E=>{E.currentTarget.style.background=d?"rgba(99, 102, 241, 0.2)":"#c7d2fe",E.currentTarget.style.color=d?"#cbd5e1":"#1e293b",E.currentTarget.style.boxShadow=d?"0 1px 3px rgba(99, 102, 241, 0.3)":"0 1px 3px rgba(99, 102, 241, 0.2)",E.currentTarget.style.transform="translateY(0)";const T=E.currentTarget.querySelector("span:first-child"),k=E.currentTarget.querySelector("span:last-child");T&&(T.style.color=d?"#cbd5e1":"#1e293b"),k&&(k.style.color=d?"#cbd5e1":"#1e293b")},children:[w.jsx("span",{style:{fontSize:"1.125rem",transition:"all 0.3s ease",display:"inline-block",fontWeight:"bold",animation:"arrowPulse 1.5s ease-in-out infinite",color:"#1e293b"},children:""}),w.jsx("span",{style:{color:"#1e293b",transition:"color 0.3s ease"},children:`+ ${h.length} rn daha`})]}),w.jsx("style",{children:`
                    @keyframes arrowPulse {
                      0%, 100% {
                        opacity: 1;
                        transform: translateY(0) scale(1);
                      }
                      50% {
                        opacity: 0.6;
                        transform: translateY(4px) scale(1.1);
                      }
                    }
                    .pulse-button {
                      animation: backgroundPulse 2s ease-in-out infinite;
                    }
                    @keyframes backgroundPulse {
                      0%, 100% {
                        background-color: #c7d2fe;
                        border-color: #6366f1;
                      }
                      50% {
                        background-color: #a5b4fc;
                        border-color: #818cf8;
                        box-shadow: 0 2px 8px rgba(99, 102, 241, 0.3);
                      }
                    }
                  `})]}),o&&g&&w.jsxs("div",{style:{marginTop:"0.75rem",paddingTop:"0.75rem",borderTop:"2px solid #e2e8f0",animation:"slideDown 0.3s ease"},children:[h.map((E,T)=>w.jsxs("div",{style:{padding:T<h.length-1?"0.75rem 0":"0.75rem 0 0 0",borderBottom:T<h.length-1?"1px solid #cbd5e1":"none"},children:[w.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"1rem"},children:[w.jsxs("div",{style:{flex:1},children:[w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.25rem"},children:[w.jsxs("span",{style:{fontSize:e?"0.875rem":"0.9375rem",fontWeight:"600",color:"#64748b",minWidth:"1.5rem",textAlign:"center"},children:[E.quantity,""]}),w.jsx("span",{style:{fontSize:e?"0.875rem":"0.9375rem",fontWeight:"500",color:"#64748b",flex:1},children:E.product_name})]}),w.jsxs("div",{style:{marginLeft:e?"2rem":"2.25rem",fontSize:e?"0.6875rem":"0.75rem",color:"#94a3b8",display:"flex",alignItems:"center",gap:"0.25rem"},children:[w.jsx(Pr,{price:parseFloat(E.product_price),fontSize:e?"0.6875rem":"0.75rem",fontWeight:"400",color:"#94a3b8"}),w.jsxs("span",{children:[" ",E.quantity]})]})]}),w.jsx("div",{style:{textAlign:"right",minWidth:"5rem"},children:w.jsx(Pr,{price:parseFloat(E.subtotal),fontSize:e?"1rem":"1.125rem",fontWeight:"700",color:"#1e293b",style:{letterSpacing:"0.3px"}})})]}),E.notes&&w.jsx("div",{style:{marginTop:"0.5rem",padding:"0.375rem 0.75rem",background:"#fef3c7",borderRadius:"4px",borderLeft:"3px solid #f59e0b"},children:w.jsxs("p",{style:{margin:0,color:"#92400e",fontSize:e?"0.75rem":"0.8125rem",fontStyle:"italic",fontWeight:"500"},children:[" ",E.notes]})})]},E.id)),w.jsx("div",{style:{marginTop:"0.75rem",paddingTop:"0.75rem",borderTop:"1px solid #cbd5e1"},children:w.jsxs("button",{onClick:()=>u(!1),style:{width:"100%",padding:"0.375rem 0.75rem",background:"transparent",color:"#6366f1",border:"2px solid #6366f1",borderRadius:"6px",cursor:"pointer",fontSize:e?"0.75rem":"0.8125rem",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.375rem",transition:"all 0.3s ease",minHeight:"1.875rem",height:"1.875rem"},onMouseEnter:E=>{E.currentTarget.style.background="#6366f1",E.currentTarget.style.color="white"},onMouseLeave:E=>{E.currentTarget.style.background="transparent",E.currentTarget.style.color="#6366f1"},children:[w.jsx("span",{style:{fontSize:"0.875rem",transform:"rotate(180deg)",transition:"transform 0.2s ease",display:"inline-block"},children:""}),w.jsx("span",{children:"Daha Az Gster"})]})})]})]})]}),!s&&w.jsx("button",{onClick:()=>a(t.id,t.total_amount),style:{width:"100%",background:"#10b981",color:"white",border:"none",borderRadius:"8px",padding:"0.875rem",fontSize:e?"0.9375rem":"1rem",fontWeight:"600",cursor:"pointer",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",transition:"all 0.2s"},onMouseEnter:E=>{E.currentTarget.style.background="#059669",E.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:E=>{E.currentTarget.style.background="#10b981",E.currentTarget.style.transform="translateY(0)"},children:"deme Yapld"})]})}function Ac({children:t}){const{user:e,loading:n}=Uo();return n?w.jsx($a,{message:"Ykleniyor..."}):e?t:w.jsx(h4,{to:"/admin",replace:!0})}function Ck({slug:t}){return w.jsx(P6,{slug:t})}function Rk(){return w.jsx(P4,{basename:"/erzurumkafe",children:w.jsxs(g4,{children:[w.jsx(Xs,{path:"/admin",element:w.jsx(q6,{})}),w.jsx(Xs,{path:"/admin/dashboard",element:w.jsx(Ac,{children:w.jsx(H6,{})})}),w.jsx(Xs,{path:"/admin/products",element:w.jsx(Ac,{children:w.jsx(RA,{})})}),w.jsx(Xs,{path:"/admin/categories",element:w.jsx(Ac,{children:w.jsx(CA,{})})}),w.jsx(Xs,{path:"/admin/settings",element:w.jsx(Ac,{children:w.jsx(OA,{})})}),w.jsx(Xs,{path:"/admin/orders",element:w.jsx(Ac,{children:w.jsx(DA,{})})}),w.jsx(Xs,{path:"/admin/payments",element:w.jsx(Ac,{children:w.jsx(jk,{})})}),w.jsx(Xs,{path:"/",element:w.jsx(O6,{})}),w.jsx(Xs,{path:"/:table",element:w.jsx(Ck,{slug:"erzurumkafe"})})]})})}function Ok(){return w.jsx(F6,{children:w.jsx(z6,{children:w.jsx(C6,{children:w.jsx(Rk,{})})})})}Lx.createRoot(document.getElementById("root")).render(w.jsx(O.StrictMode,{children:w.jsxs(U6,{children:[w.jsx(Ok,{}),w.jsx(m3,{position:"top-right",reverseOrder:!0,toastOptions:{duration:4e3,closeButton:!1,style:{borderRadius:"8px",padding:"12px 16px",fontSize:"14px",fontWeight:"500",maxWidth:"400px",whiteSpace:"pre-line",position:"relative"}},containerStyle:{position:"fixed",top:"20px",right:"20px",zIndex:9999}})]})}));export{jn as _,Dk as c,vx as g};
