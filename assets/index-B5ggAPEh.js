(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(l){if(l.ep)return;l.ep=!0;const s=n(l);fetch(l.href,s)}})();var g7=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $w(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var op={exports:{}},vd={};var p2;function Ww(){if(p2)return vd;p2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,l,s){var c=null;if(s!==void 0&&(c=""+s),l.key!==void 0&&(c=""+l.key),"key"in l){s={};for(var d in l)d!=="key"&&(s[d]=l[d])}else s=l;return l=s.ref,{$$typeof:t,type:a,key:c,ref:l!==void 0?l:null,props:s}}return vd.Fragment=e,vd.jsx=n,vd.jsxs=n,vd}var g2;function Gw(){return g2||(g2=1,op.exports=Ww()),op.exports}var _=Gw(),lp={exports:{}},$t={};var m2;function Yw(){if(m2)return $t;m2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),A=Symbol.iterator;function m(I){return I===null||typeof I!="object"?null:(I=A&&I[A]||I["@@iterator"],typeof I=="function"?I:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,L={};function R(I,k,P){this.props=I,this.context=k,this.refs=L,this.updater=P||T}R.prototype.isReactComponent={},R.prototype.setState=function(I,k){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,k,"setState")},R.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function D(){}D.prototype=R.prototype;function M(I,k,P){this.props=I,this.context=k,this.refs=L,this.updater=P||T}var W=M.prototype=new D;W.constructor=M,E(W,R.prototype),W.isPureReactComponent=!0;var ue=Array.isArray;function ce(){}var Z={H:null,A:null,T:null,S:null},ee=Object.prototype.hasOwnProperty;function q(I,k,P){var K=P.ref;return{$$typeof:t,type:I,key:k,ref:K!==void 0?K:null,props:P}}function fe(I,k){return q(I.type,k,I.props)}function z(I){return typeof I=="object"&&I!==null&&I.$$typeof===t}function Y(I){var k={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(P){return k[P]})}var se=/\/+/g;function oe(I,k){return typeof I=="object"&&I!==null&&I.key!=null?Y(""+I.key):k.toString(36)}function Ee(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(ce,ce):(I.status="pending",I.then(function(k){I.status==="pending"&&(I.status="fulfilled",I.value=k)},function(k){I.status==="pending"&&(I.status="rejected",I.reason=k)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function X(I,k,P,K,ae){var V=typeof I;(V==="undefined"||V==="boolean")&&(I=null);var Q=!1;if(I===null)Q=!0;else switch(V){case"bigint":case"string":case"number":Q=!0;break;case"object":switch(I.$$typeof){case t:case e:Q=!0;break;case y:return Q=I._init,X(Q(I._payload),k,P,K,ae)}}if(Q)return ae=ae(I),Q=K===""?"."+oe(I,0):K,ue(ae)?(P="",Q!=null&&(P=Q.replace(se,"$&/")+"/"),X(ae,k,P,"",function(pe){return pe})):ae!=null&&(z(ae)&&(ae=fe(ae,P+(ae.key==null||I&&I.key===ae.key?"":(""+ae.key).replace(se,"$&/")+"/")+Q)),k.push(ae)),1;Q=0;var le=K===""?".":K+":";if(ue(I))for(var ye=0;ye<I.length;ye++)K=I[ye],V=le+oe(K,ye),Q+=X(K,k,P,V,ae);else if(ye=m(I),typeof ye=="function")for(I=ye.call(I),ye=0;!(K=I.next()).done;)K=K.value,V=le+oe(K,ye++),Q+=X(K,k,P,V,ae);else if(V==="object"){if(typeof I.then=="function")return X(Ee(I),k,P,K,ae);throw k=String(I),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.")}return Q}function de(I,k,P){if(I==null)return I;var K=[],ae=0;return X(I,K,"","",function(V){return k.call(P,V,ae++)}),K}function he(I){if(I._status===-1){var k=I._result;k=k(),k.then(function(P){(I._status===0||I._status===-1)&&(I._status=1,I._result=P)},function(P){(I._status===0||I._status===-1)&&(I._status=2,I._result=P)}),I._status===-1&&(I._status=0,I._result=k)}if(I._status===1)return I._result.default;throw I._result}var _e=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var k=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(k))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},ve={map:de,forEach:function(I,k,P){de(I,function(){k.apply(this,arguments)},P)},count:function(I){var k=0;return de(I,function(){k++}),k},toArray:function(I){return de(I,function(k){return k})||[]},only:function(I){if(!z(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return $t.Activity=w,$t.Children=ve,$t.Component=R,$t.Fragment=n,$t.Profiler=l,$t.PureComponent=M,$t.StrictMode=a,$t.Suspense=f,$t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,$t.__COMPILER_RUNTIME={__proto__:null,c:function(I){return Z.H.useMemoCache(I)}},$t.cache=function(I){return function(){return I.apply(null,arguments)}},$t.cacheSignal=function(){return null},$t.cloneElement=function(I,k,P){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var K=E({},I.props),ae=I.key;if(k!=null)for(V in k.key!==void 0&&(ae=""+k.key),k)!ee.call(k,V)||V==="key"||V==="__self"||V==="__source"||V==="ref"&&k.ref===void 0||(K[V]=k[V]);var V=arguments.length-2;if(V===1)K.children=P;else if(1<V){for(var Q=Array(V),le=0;le<V;le++)Q[le]=arguments[le+2];K.children=Q}return q(I.type,ae,K)},$t.createContext=function(I){return I={$$typeof:c,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:s,_context:I},I},$t.createElement=function(I,k,P){var K,ae={},V=null;if(k!=null)for(K in k.key!==void 0&&(V=""+k.key),k)ee.call(k,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(ae[K]=k[K]);var Q=arguments.length-2;if(Q===1)ae.children=P;else if(1<Q){for(var le=Array(Q),ye=0;ye<Q;ye++)le[ye]=arguments[ye+2];ae.children=le}if(I&&I.defaultProps)for(K in Q=I.defaultProps,Q)ae[K]===void 0&&(ae[K]=Q[K]);return q(I,V,ae)},$t.createRef=function(){return{current:null}},$t.forwardRef=function(I){return{$$typeof:d,render:I}},$t.isValidElement=z,$t.lazy=function(I){return{$$typeof:y,_payload:{_status:-1,_result:I},_init:he}},$t.memo=function(I,k){return{$$typeof:h,type:I,compare:k===void 0?null:k}},$t.startTransition=function(I){var k=Z.T,P={};Z.T=P;try{var K=I(),ae=Z.S;ae!==null&&ae(P,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(ce,_e)}catch(V){_e(V)}finally{k!==null&&P.types!==null&&(k.types=P.types),Z.T=k}},$t.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},$t.use=function(I){return Z.H.use(I)},$t.useActionState=function(I,k,P){return Z.H.useActionState(I,k,P)},$t.useCallback=function(I,k){return Z.H.useCallback(I,k)},$t.useContext=function(I){return Z.H.useContext(I)},$t.useDebugValue=function(){},$t.useDeferredValue=function(I,k){return Z.H.useDeferredValue(I,k)},$t.useEffect=function(I,k){return Z.H.useEffect(I,k)},$t.useEffectEvent=function(I){return Z.H.useEffectEvent(I)},$t.useId=function(){return Z.H.useId()},$t.useImperativeHandle=function(I,k,P){return Z.H.useImperativeHandle(I,k,P)},$t.useInsertionEffect=function(I,k){return Z.H.useInsertionEffect(I,k)},$t.useLayoutEffect=function(I,k){return Z.H.useLayoutEffect(I,k)},$t.useMemo=function(I,k){return Z.H.useMemo(I,k)},$t.useOptimistic=function(I,k){return Z.H.useOptimistic(I,k)},$t.useReducer=function(I,k,P){return Z.H.useReducer(I,k,P)},$t.useRef=function(I){return Z.H.useRef(I)},$t.useState=function(I){return Z.H.useState(I)},$t.useSyncExternalStore=function(I,k,P){return Z.H.useSyncExternalStore(I,k,P)},$t.useTransition=function(){return Z.H.useTransition()},$t.version="19.2.3",$t}var y2;function Tg(){return y2||(y2=1,lp.exports=Yw()),lp.exports}var B=Tg();const fr=$w(B);var up={exports:{}},bd={},cp={exports:{}},dp={};var v2;function Vw(){return v2||(v2=1,(function(t){function e(X,de){var he=X.length;X.push(de);e:for(;0<he;){var _e=he-1>>>1,ve=X[_e];if(0<l(ve,de))X[_e]=de,X[he]=ve,he=_e;else break e}}function n(X){return X.length===0?null:X[0]}function a(X){if(X.length===0)return null;var de=X[0],he=X.pop();if(he!==de){X[0]=he;e:for(var _e=0,ve=X.length,I=ve>>>1;_e<I;){var k=2*(_e+1)-1,P=X[k],K=k+1,ae=X[K];if(0>l(P,he))K<ve&&0>l(ae,P)?(X[_e]=ae,X[K]=he,_e=K):(X[_e]=P,X[k]=he,_e=k);else if(K<ve&&0>l(ae,he))X[_e]=ae,X[K]=he,_e=K;else break e}}return de}function l(X,de){var he=X.sortIndex-de.sortIndex;return he!==0?he:X.id-de.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var f=[],h=[],y=1,w=null,A=3,m=!1,T=!1,E=!1,L=!1,R=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function W(X){for(var de=n(h);de!==null;){if(de.callback===null)a(h);else if(de.startTime<=X)a(h),de.sortIndex=de.expirationTime,e(f,de);else break;de=n(h)}}function ue(X){if(E=!1,W(X),!T)if(n(f)!==null)T=!0,ce||(ce=!0,Y());else{var de=n(h);de!==null&&Ee(ue,de.startTime-X)}}var ce=!1,Z=-1,ee=5,q=-1;function fe(){return L?!0:!(t.unstable_now()-q<ee)}function z(){if(L=!1,ce){var X=t.unstable_now();q=X;var de=!0;try{e:{T=!1,E&&(E=!1,D(Z),Z=-1),m=!0;var he=A;try{t:{for(W(X),w=n(f);w!==null&&!(w.expirationTime>X&&fe());){var _e=w.callback;if(typeof _e=="function"){w.callback=null,A=w.priorityLevel;var ve=_e(w.expirationTime<=X);if(X=t.unstable_now(),typeof ve=="function"){w.callback=ve,W(X),de=!0;break t}w===n(f)&&a(f),W(X)}else a(f);w=n(f)}if(w!==null)de=!0;else{var I=n(h);I!==null&&Ee(ue,I.startTime-X),de=!1}}break e}finally{w=null,A=he,m=!1}de=void 0}}finally{de?Y():ce=!1}}}var Y;if(typeof M=="function")Y=function(){M(z)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,oe=se.port2;se.port1.onmessage=z,Y=function(){oe.postMessage(null)}}else Y=function(){R(z,0)};function Ee(X,de){Z=R(function(){X(t.unstable_now())},de)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_next=function(X){switch(A){case 1:case 2:case 3:var de=3;break;default:de=A}var he=A;A=de;try{return X()}finally{A=he}},t.unstable_requestPaint=function(){L=!0},t.unstable_runWithPriority=function(X,de){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var he=A;A=X;try{return de()}finally{A=he}},t.unstable_scheduleCallback=function(X,de,he){var _e=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?_e+he:_e):he=_e,X){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=he+ve,X={id:y++,callback:de,priorityLevel:X,startTime:he,expirationTime:ve,sortIndex:-1},he>_e?(X.sortIndex=he,e(h,X),n(f)===null&&X===n(h)&&(E?(D(Z),Z=-1):E=!0,Ee(ue,he-_e))):(X.sortIndex=ve,e(f,X),T||m||(T=!0,ce||(ce=!0,Y()))),X},t.unstable_shouldYield=fe,t.unstable_wrapCallback=function(X){var de=A;return function(){var he=A;A=de;try{return X.apply(this,arguments)}finally{A=he}}}})(dp)),dp}var b2;function Kw(){return b2||(b2=1,cp.exports=Vw()),cp.exports}var fp={exports:{}},wi={};var w2;function Xw(){if(w2)return wi;w2=1;var t=Tg();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)h+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function s(f,h,y){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:f,containerInfo:h,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return wi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,wi.createPortal=function(f,h){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(f,h,null,y)},wi.flushSync=function(f){var h=c.T,y=a.p;try{if(c.T=null,a.p=2,f)return f()}finally{c.T=h,a.p=y,a.d.f()}},wi.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,a.d.C(f,h))},wi.prefetchDNS=function(f){typeof f=="string"&&a.d.D(f)},wi.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var y=h.as,w=d(y,h.crossOrigin),A=typeof h.integrity=="string"?h.integrity:void 0,m=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;y==="style"?a.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:w,integrity:A,fetchPriority:m}):y==="script"&&a.d.X(f,{crossOrigin:w,integrity:A,fetchPriority:m,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},wi.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var y=d(h.as,h.crossOrigin);a.d.M(f,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&a.d.M(f)},wi.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var y=h.as,w=d(y,h.crossOrigin);a.d.L(f,y,{crossOrigin:w,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},wi.preloadModule=function(f,h){if(typeof f=="string")if(h){var y=d(h.as,h.crossOrigin);a.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else a.d.m(f)},wi.requestFormReset=function(f){a.d.r(f)},wi.unstable_batchedUpdates=function(f,h){return f(h)},wi.useFormState=function(f,h,y){return c.H.useFormState(f,h,y)},wi.useFormStatus=function(){return c.H.useHostTransitionStatus()},wi.version="19.2.3",wi}var x2;function Ty(){if(x2)return fp.exports;x2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),fp.exports=Xw(),fp.exports}var _2;function Jw(){if(_2)return bd;_2=1;var t=Kw(),e=Tg(),n=Ty();function a(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function s(r){var i=r,o=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(o=i.return),r=i.return;while(r)}return i.tag===3?o:null}function c(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function d(r){if(r.tag===31){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function f(r){if(s(r)!==r)throw Error(a(188))}function h(r){var i=r.alternate;if(!i){if(i=s(r),i===null)throw Error(a(188));return i!==r?null:r}for(var o=r,u=i;;){var g=o.return;if(g===null)break;var b=g.alternate;if(b===null){if(u=g.return,u!==null){o=u;continue}break}if(g.child===b.child){for(b=g.child;b;){if(b===o)return f(g),r;if(b===u)return f(g),i;b=b.sibling}throw Error(a(188))}if(o.return!==u.return)o=g,u=b;else{for(var C=!1,H=g.child;H;){if(H===o){C=!0,o=g,u=b;break}if(H===u){C=!0,u=g,o=b;break}H=H.sibling}if(!C){for(H=b.child;H;){if(H===o){C=!0,o=b,u=g;break}if(H===u){C=!0,u=b,o=g;break}H=H.sibling}if(!C)throw Error(a(189))}}if(o.alternate!==u)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?r:i}function y(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=y(r),i!==null)return i;r=r.sibling}return null}var w=Object.assign,A=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),M=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),fe=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function Y(r){return r===null||typeof r!="object"?null:(r=z&&r[z]||r["@@iterator"],typeof r=="function"?r:null)}var se=Symbol.for("react.client.reference");function oe(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===se?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case E:return"Fragment";case R:return"Profiler";case L:return"StrictMode";case ue:return"Suspense";case ce:return"SuspenseList";case q:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case T:return"Portal";case M:return r.displayName||"Context";case D:return(r._context.displayName||"Context")+".Consumer";case W:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Z:return i=r.displayName||null,i!==null?i:oe(r.type)||"Memo";case ee:i=r._payload,r=r._init;try{return oe(r(i))}catch{}}return null}var Ee=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},_e=[],ve=-1;function I(r){return{current:r}}function k(r){0>ve||(r.current=_e[ve],_e[ve]=null,ve--)}function P(r,i){ve++,_e[ve]=r.current,r.current=i}var K=I(null),ae=I(null),V=I(null),Q=I(null);function le(r,i){switch(P(V,i),P(ae,r),P(K,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?Mm(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=Mm(i),r=Im(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}k(K),P(K,r)}function ye(){k(K),k(ae),k(V)}function pe(r){r.memoizedState!==null&&P(Q,r);var i=K.current,o=Im(i,r.type);i!==o&&(P(ae,r),P(K,o))}function Le(r){ae.current===r&&(k(K),k(ae)),Q.current===r&&(k(Q),pd._currentValue=he)}var Me,ie;function ke(r){if(Me===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);Me=i&&i[1]||"",ie=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Me+r+ie}var $=!1;function ze(r,i){if(!r||$)return"";$=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var We=function(){throw Error()};if(Object.defineProperty(We.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(We,[])}catch(Be){var Oe=Be}Reflect.construct(r,[],We)}else{try{We.call()}catch(Be){Oe=Be}r.call(We.prototype)}}else{try{throw Error()}catch(Be){Oe=Be}(We=r())&&typeof We.catch=="function"&&We.catch(function(){})}}catch(Be){if(Be&&Oe&&typeof Be.stack=="string")return[Be.stack,Oe.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=u.DetermineComponentFrameRoot(),C=b[0],H=b[1];if(C&&H){var ge=C.split(`
`),je=H.split(`
`);for(g=u=0;u<ge.length&&!ge[u].includes("DetermineComponentFrameRoot");)u++;for(;g<je.length&&!je[g].includes("DetermineComponentFrameRoot");)g++;if(u===ge.length||g===je.length)for(u=ge.length-1,g=je.length-1;1<=u&&0<=g&&ge[u]!==je[g];)g--;for(;1<=u&&0<=g;u--,g--)if(ge[u]!==je[g]){if(u!==1||g!==1)do if(u--,g--,0>g||ge[u]!==je[g]){var Ue=`
`+ge[u].replace(" at new "," at ");return r.displayName&&Ue.includes("<anonymous>")&&(Ue=Ue.replace("<anonymous>",r.displayName)),Ue}while(1<=u&&0<=g);break}}}finally{$=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?ke(o):""}function et(r,i){switch(r.tag){case 26:case 27:case 5:return ke(r.type);case 16:return ke("Lazy");case 13:return r.child!==i&&i!==null?ke("Suspense Fallback"):ke("Suspense");case 19:return ke("SuspenseList");case 0:case 15:return ze(r.type,!1);case 11:return ze(r.type.render,!1);case 1:return ze(r.type,!0);case 31:return ke("Activity");default:return""}}function Je(r){try{var i="",o=null;do i+=et(r,o),o=r,r=r.return;while(r);return i}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var De=Object.prototype.hasOwnProperty,Ke=t.unstable_scheduleCallback,$e=t.unstable_cancelCallback,Ye=t.unstable_shouldYield,at=t.unstable_requestPaint,ot=t.unstable_now,Qe=t.unstable_getCurrentPriorityLevel,it=t.unstable_ImmediatePriority,tt=t.unstable_UserBlockingPriority,pt=t.unstable_NormalPriority,Ze=t.unstable_LowPriority,At=t.unstable_IdlePriority,nt=t.log,cn=t.unstable_setDisableYieldValue,xt=null,kt=null;function Rt(r){if(typeof nt=="function"&&cn(r),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode(xt,r)}catch{}}var Yt=Math.clz32?Math.clz32:Ct,Et=Math.log,yn=Math.LN2;function Ct(r){return r>>>=0,r===0?32:31-(Et(r)/yn|0)|0}var Bt=256,vn=262144,wt=4194304;function lt(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Pt(r,i,o){var u=r.pendingLanes;if(u===0)return 0;var g=0,b=r.suspendedLanes,C=r.pingedLanes;r=r.warmLanes;var H=u&134217727;return H!==0?(u=H&~b,u!==0?g=lt(u):(C&=H,C!==0?g=lt(C):o||(o=H&~r,o!==0&&(g=lt(o))))):(H=u&~b,H!==0?g=lt(H):C!==0?g=lt(C):o||(o=u&~r,o!==0&&(g=lt(o)))),g===0?0:i!==0&&i!==g&&(i&b)===0&&(b=g&-g,o=i&-i,b>=o||b===32&&(o&4194048)!==0)?i:g}function hr(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function bn(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qn(){var r=wt;return wt<<=1,(wt&62914560)===0&&(wt=4194304),r}function $n(r){for(var i=[],o=0;31>o;o++)i.push(r);return i}function yt(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Sn(r,i,o,u,g,b){var C=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var H=r.entanglements,ge=r.expirationTimes,je=r.hiddenUpdates;for(o=C&~o;0<o;){var Ue=31-Yt(o),We=1<<Ue;H[Ue]=0,ge[Ue]=-1;var Oe=je[Ue];if(Oe!==null)for(je[Ue]=null,Ue=0;Ue<Oe.length;Ue++){var Be=Oe[Ue];Be!==null&&(Be.lane&=-536870913)}o&=~We}u!==0&&Ar(r,u,0),b!==0&&g===0&&r.tag!==0&&(r.suspendedLanes|=b&~(C&~i))}function Ar(r,i,o){r.pendingLanes|=i,r.suspendedLanes&=~i;var u=31-Yt(i);r.entangledLanes|=i,r.entanglements[u]=r.entanglements[u]|1073741824|o&261930}function Fn(r,i){var o=r.entangledLanes|=i;for(r=r.entanglements;o;){var u=31-Yt(o),g=1<<u;g&i|r[u]&i&&(r[u]|=i),o&=~g}}function Wn(r,i){var o=i&-i;return o=(o&42)!==0?1:pn(o),(o&(r.suspendedLanes|i))!==0?0:o}function pn(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Cn(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function An(){var r=de.p;return r!==0?r:(r=window.event,r===void 0?32:o2(r.type))}function mi(r,i){var o=de.p;try{return de.p=r,i()}finally{de.p=o}}var Er=Math.random().toString(36).slice(2),En="__reactFiber$"+Er,Gn="__reactProps$"+Er,Jr="__reactContainer$"+Er,Ei="__reactEvents$"+Er,Bi="__reactListeners$"+Er,Qs="__reactHandles$"+Er,ea="__reactResources$"+Er,ta="__reactMarker$"+Er;function Ns(r){delete r[En],delete r[Gn],delete r[Ei],delete r[Bi],delete r[Qs]}function na(r){var i=r[En];if(i)return i;for(var o=r.parentNode;o;){if(i=o[Jr]||o[En]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(r=Wm(r);r!==null;){if(o=r[En])return o;r=Wm(r)}return i}r=o,o=r.parentNode}return null}function ra(r){if(r=r[En]||r[Jr]){var i=r.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return r}return null}function eo(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(a(33))}function Aa(r){var i=r[ea];return i||(i=r[ea]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ar(r){r[ta]=!0}var El=new Set,Ti={};function ia(r,i){Wa(r,i),Wa(r+"Capture",i)}function Wa(r,i){for(Ti[r]=i,r=0;r<i.length;r++)El.add(i[r])}var Tl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kl={},Nl={};function yu(r){return De.call(Nl,r)?!0:De.call(kl,r)?!1:Tl.test(r)?Nl[r]=!0:(kl[r]=!0,!1)}function ki(r,i,o){if(yu(i))if(o===null)r.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+o)}}function Ga(r,i,o){if(o===null)r.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+o)}}function aa(r,i,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(i,o,""+u)}}function dn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ll(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ea(r,i,o){var u=Object.getOwnPropertyDescriptor(r.constructor.prototype,i);if(!r.hasOwnProperty(i)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,b=u.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return g.call(this)},set:function(C){o=""+C,b.call(this,C)}}),Object.defineProperty(r,i,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(C){o=""+C},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Ls(r){if(!r._valueTracker){var i=Ll(r)?"checked":"value";r._valueTracker=Ea(r,i,""+r[i])}}function Cl(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var o=i.getValue(),u="";return r&&(u=Ll(r)?r.checked?"true":"false":r.value),r=u,r!==o?(i.setValue(r),!0):!1}function si(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Tr=/[\n"\\]/g;function pr(r){return r.replace(Tr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Mo(r,i,o,u,g,b,C,H){r.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?r.type=C:r.removeAttribute("type"),i!=null?C==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+dn(i)):r.value!==""+dn(i)&&(r.value=""+dn(i)):C!=="submit"&&C!=="reset"||r.removeAttribute("value"),i!=null?Rl(r,C,dn(i)):o!=null?Rl(r,C,dn(o)):u!=null&&r.removeAttribute("value"),g==null&&b!=null&&(r.defaultChecked=!!b),g!=null&&(r.checked=g&&typeof g!="function"&&typeof g!="symbol"),H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?r.name=""+dn(H):r.removeAttribute("name")}function vu(r,i,o,u,g,b,C,H){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(r.type=b),i!=null||o!=null){if(!(b!=="submit"&&b!=="reset"||i!=null)){Ls(r);return}o=o!=null?""+dn(o):"",i=i!=null?""+dn(i):o,H||i===r.value||(r.value=i),r.defaultValue=i}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=H?r.checked:!!u,r.defaultChecked=!!u,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(r.name=C),Ls(r)}function Rl(r,i,o){i==="number"&&si(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function oi(r,i,o,u){if(r=r.options,i){i={};for(var g=0;g<o.length;g++)i["$"+o[g]]=!0;for(o=0;o<r.length;o++)g=i.hasOwnProperty("$"+r[o].value),r[o].selected!==g&&(r[o].selected=g),g&&u&&(r[o].defaultSelected=!0)}else{for(o=""+dn(o),i=null,g=0;g<r.length;g++){if(r[g].value===o){r[g].selected=!0,u&&(r[g].defaultSelected=!0);return}i!==null||r[g].disabled||(i=r[g])}i!==null&&(i.selected=!0)}}function jl(r,i,o){if(i!=null&&(i=""+dn(i),i!==r.value&&(r.value=i),o==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=o!=null?""+dn(o):""}function Ol(r,i,o,u){if(i==null){if(u!=null){if(o!=null)throw Error(a(92));if(Ee(u)){if(1<u.length)throw Error(a(93));u=u[0]}o=u}o==null&&(o=""),i=o}o=dn(i),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u),Ls(r)}function sa(r,i){if(i){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=i;return}}r.textContent=i}var to=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bu(r,i,o){var u=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":u?r.setProperty(i,o):typeof o!="number"||o===0||to.has(i)?i==="float"?r.cssFloat=o:r[i]=(""+o).trim():r[i]=o+"px"}function wu(r,i,o){if(i!=null&&typeof i!="object")throw Error(a(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var g in i)u=i[g],i.hasOwnProperty(g)&&o[g]!==u&&bu(r,g,u)}else for(var b in i)i.hasOwnProperty(b)&&bu(r,b,i[b])}function Dl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yi(r){return xu.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function oa(){}var Ya=null;function no(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Cs=null,jt=null;function _u(r){var i=ra(r);if(i&&(r=i.stateNode)){var o=r[Gn]||null;e:switch(r=i.stateNode,i.type){case"input":if(Mo(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+pr(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var u=o[i];if(u!==r&&u.form===r.form){var g=u[Gn]||null;if(!g)throw Error(a(90));Mo(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(i=0;i<o.length;i++)u=o[i],u.form===r.form&&Cl(u)}break e;case"textarea":jl(r,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&oi(r,!!o.multiple,i,!1)}}}var zl=!1;function Su(r,i,o){if(zl)return r(i,o);zl=!0;try{var u=r(i);return u}finally{if(zl=!1,(Cs!==null||jt!==null)&&(Af(),Cs&&(i=Cs,r=jt,jt=Cs=null,_u(i),r)))for(i=0;i<r.length;i++)_u(r[i])}}function Ni(r,i){var o=r.stateNode;if(o===null)return null;var u=o[Gn]||null;if(u===null)return null;o=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(a(231,i,typeof o));return o}var Ur=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ml=!1;if(Ur)try{var ro={};Object.defineProperty(ro,"passive",{get:function(){Ml=!0}}),window.addEventListener("test",ro,ro),window.removeEventListener("test",ro,ro)}catch{Ml=!1}var Li=null,io=null,Ta=null;function Au(){if(Ta)return Ta;var r,i=io,o=i.length,u,g="value"in Li?Li.value:Li.textContent,b=g.length;for(r=0;r<o&&i[r]===g[r];r++);var C=o-r;for(u=1;u<=C&&i[o-u]===g[b-u];u++);return Ta=g.slice(r,1<u?1-u:void 0)}function zi(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Io(){return!0}function Po(){return!1}function Or(r){function i(o,u,g,b,C){this._reactName=o,this._targetInst=g,this.type=u,this.nativeEvent=b,this.target=C,this.currentTarget=null;for(var H in r)r.hasOwnProperty(H)&&(o=r[H],this[H]=o?o(b):b[H]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Io:Po,this.isPropagationStopped=Po,this}return w(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Io)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Io)},persist:function(){},isPersistent:Io}),i}var ka={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mi=Or(ka),Va=w({},ka,{view:0,detail:0}),Uo=Or(Va),ao,Ka,Xa,so=w({},Va,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zt,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Xa&&(Xa&&r.type==="mousemove"?(ao=r.screenX-Xa.screenX,Ka=r.screenY-Xa.screenY):Ka=ao=0,Xa=r),ao)},movementY:function(r){return"movementY"in r?r.movementY:Ka}}),Il=Or(so),Ja=w({},so,{dataTransfer:0}),Za=Or(Ja),Eu=w({},Va,{relatedTarget:0}),Qa=Or(Eu),Tu=w({},ka,{animationName:0,elapsedTime:0,pseudoElement:0}),x=Or(Tu),j=w({},ka,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),re=Or(j),me=w({},ka,{data:0}),Se=Or(me),qe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ve={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ft={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vt(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=ft[r])?!!i[r]:!1}function zt(){return vt}var Ft=w({},Va,{key:function(r){if(r.key){var i=qe[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=zi(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Ve[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zt,charCode:function(r){return r.type==="keypress"?zi(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?zi(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),nn=Or(Ft),Yn=w({},so,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sr=Or(Yn),Rn=w({},Va,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zt}),kr=Or(Rn),gr=w({},ka,{propertyName:0,elapsedTime:0,pseudoElement:0}),qr=Or(gr),es=w({},so,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),la=Or(es),ts=w({},ka,{newState:0,oldState:0}),Pl=Or(ts),qo=[9,13,27,32],Na=Ur&&"CompositionEvent"in window,ua=null;Ur&&"documentMode"in document&&(ua=document.documentMode);var oo=Ur&&"TextEvent"in window&&!ua,ns=Ur&&(!Na||ua&&8<ua&&11>=ua),Dr=" ",Rs=!1;function js(r,i){switch(r){case"keyup":return qo.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fo(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var La=!1;function li(r,i){switch(r){case"compositionend":return Fo(i);case"keypress":return i.which!==32?null:(Rs=!0,Dr);case"textInput":return r=i.data,r===Dr&&Rs?null:r;default:return null}}function rs(r,i){if(La)return r==="compositionend"||!Na&&js(r,i)?(r=Au(),Ta=io=Li=null,La=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return ns&&i.locale!=="ko"?null:i.data;default:return null}}var Ho={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ul(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!Ho[r.type]:i==="textarea"}function Ci(r,i,o,u){Cs?jt?jt.push(u):jt=[u]:Cs=u,i=Rf(i,"onChange"),0<i.length&&(o=new Mi("onChange","change",null,o,u),r.push({event:o,listeners:i}))}var ca=null,is=null;function ql(r){Rm(r,0)}function da(r){var i=eo(r);if(Cl(i))return r}function Os(r,i){if(r==="change")return i}var vi=!1;if(Ur){var ui;if(Ur){var Ca="oninput"in document;if(!Ca){var Ra=document.createElement("div");Ra.setAttribute("oninput","return;"),Ca=typeof Ra.oninput=="function"}ui=Ca}else ui=!1;vi=ui&&(!document.documentMode||9<document.documentMode)}function as(){ca&&(ca.detachEvent("onpropertychange",$o),is=ca=null)}function $o(r){if(r.propertyName==="value"&&da(is)){var i=[];Ci(i,is,r,no(r)),Su(ql,i)}}function Wo(r,i,o){r==="focusin"?(as(),ca=i,is=o,ca.attachEvent("onpropertychange",$o)):r==="focusout"&&as()}function or(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return da(is)}function ku(r,i){if(r==="click")return da(i)}function ja(r,i){if(r==="input"||r==="change")return da(i)}function Oa(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Fr=typeof Object.is=="function"?Object.is:Oa;function ss(r,i){if(Fr(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var o=Object.keys(r),u=Object.keys(i);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var g=o[u];if(!De.call(i,g)||!Fr(r[g],i[g]))return!1}return!0}function Go(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Yo(r,i){var o=Go(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=i&&u>=i)return{node:o,offset:i-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Go(o)}}function os(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?os(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function ls(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=si(r.document);i instanceof r.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)r=i.contentWindow;else break;i=si(r.document)}return i}function Da(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var lo=Ur&&"documentMode"in document&&11>=document.documentMode,Ri=null,us=null,Zr=null,Ii=!1;function fn(r,i,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ii||Ri==null||Ri!==si(u)||(u=Ri,"selectionStart"in u&&Da(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Zr&&ss(Zr,u)||(Zr=u,u=Rf(us,"onSelect"),0<u.length&&(i=new Mi("onSelect","select",null,i,o),r.push({event:i,listeners:u}),i.target=Ri)))}function rn(r,i){var o={};return o[r.toLowerCase()]=i.toLowerCase(),o["Webkit"+r]="webkit"+i,o["Moz"+r]="moz"+i,o}var jn={animationend:rn("Animation","AnimationEnd"),animationiteration:rn("Animation","AnimationIteration"),animationstart:rn("Animation","AnimationStart"),transitionrun:rn("Transition","TransitionRun"),transitionstart:rn("Transition","TransitionStart"),transitioncancel:rn("Transition","TransitionCancel"),transitionend:rn("Transition","TransitionEnd")},lr={},Ba={};Ur&&(Ba=document.createElement("div").style,"AnimationEvent"in window||(delete jn.animationend.animation,delete jn.animationiteration.animation,delete jn.animationstart.animation),"TransitionEvent"in window||delete jn.transitionend.transition);function fa(r){if(lr[r])return lr[r];if(!jn[r])return r;var i=jn[r],o;for(o in i)if(i.hasOwnProperty(o)&&o in Ba)return lr[r]=i[o];return r}var uo=fa("animationend"),Fl=fa("animationiteration"),Mc=fa("animationstart"),Qd=fa("transitionrun"),ef=fa("transitionstart"),tf=fa("transitioncancel"),Ic=fa("transitionend"),Pc=new Map,co="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");co.push("scrollEnd");function Pi(r,i){Pc.set(r,i),ia(i,[r])}var Hl=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},ji=[],fo=0,Nu=0;function $l(){for(var r=fo,i=Nu=fo=0;i<r;){var o=ji[i];ji[i++]=null;var u=ji[i];ji[i++]=null;var g=ji[i];ji[i++]=null;var b=ji[i];if(ji[i++]=null,u!==null&&g!==null){var C=u.pending;C===null?g.next=g:(g.next=C.next,C.next=g),u.pending=g}b!==0&&Gl(o,g,b)}}function Wl(r,i,o,u){ji[fo++]=r,ji[fo++]=i,ji[fo++]=o,ji[fo++]=u,Nu|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function Lu(r,i,o,u){return Wl(r,i,o,u),Qr(r)}function cs(r,i){return Wl(r,null,null,i),Qr(r)}function Gl(r,i,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var g=!1,b=r.return;b!==null;)b.childLanes|=o,u=b.alternate,u!==null&&(u.childLanes|=o),b.tag===22&&(r=b.stateNode,r===null||r._visibility&1||(g=!0)),r=b,b=b.return;return r.tag===3?(b=r.stateNode,g&&i!==null&&(g=31-Yt(o),r=b.hiddenUpdates,u=r[g],u===null?r[g]=[i]:u.push(i),i.lane=o|536870912),b):null}function Qr(r){if(50<od)throw od=0,R0=null,Error(a(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var Hr={};function Cu(r,i,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ei(r,i,o,u){return new Cu(r,i,o,u)}function Ru(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ui(r,i){var o=r.alternate;return o===null?(o=ei(r.tag,i,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=i,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,i=r.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function Yl(r,i){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,i=o.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function Vo(r,i,o,u,g,b){var C=0;if(u=r,typeof r=="function")Ru(r)&&(C=1);else if(typeof r=="string")C=jw(r,o,K.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case q:return r=ei(31,o,i,g),r.elementType=q,r.lanes=b,r;case E:return Ds(o.children,g,b,i);case L:C=8,g|=24;break;case R:return r=ei(12,o,i,g|2),r.elementType=R,r.lanes=b,r;case ue:return r=ei(13,o,i,g),r.elementType=ue,r.lanes=b,r;case ce:return r=ei(19,o,i,g),r.elementType=ce,r.lanes=b,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case M:C=10;break e;case D:C=9;break e;case W:C=11;break e;case Z:C=14;break e;case ee:C=16,u=null;break e}C=29,o=Error(a(130,r===null?"null":typeof r,"")),u=null}return i=ei(C,o,i,g),i.elementType=r,i.type=u,i.lanes=b,i}function Ds(r,i,o,u){return r=ei(7,r,u,i),r.lanes=o,r}function Vl(r,i,o){return r=ei(6,r,null,i),r.lanes=o,r}function ju(r){var i=ei(18,null,null,0);return i.stateNode=r,i}function Ko(r,i,o){return i=ei(4,r.children!==null?r.children:[],r.key,i),i.lanes=o,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var Ou=new WeakMap;function qi(r,i){if(typeof r=="object"&&r!==null){var o=Ou.get(r);return o!==void 0?o:(i={value:r,source:i,stack:Je(i)},Ou.set(r,i),i)}return{value:r,source:i,stack:Je(i)}}var Xo=[],ho=0,Du=null,Kl=0,Fi=[],Hi=0,Bs=null,$i=1,Wi="";function Oi(r,i){Xo[ho++]=Kl,Xo[ho++]=Du,Du=r,Kl=i}function nf(r,i,o){Fi[Hi++]=$i,Fi[Hi++]=Wi,Fi[Hi++]=Bs,Bs=r;var u=$i;r=Wi;var g=32-Yt(u)-1;u&=~(1<<g),o+=1;var b=32-Yt(i)+g;if(30<b){var C=g-g%5;b=(u&(1<<C)-1).toString(32),u>>=C,g-=C,$i=1<<32-Yt(i)+g|o<<g|u,Wi=b+r}else $i=1<<b|o<<g|u,Wi=r}function Uc(r){r.return!==null&&(Oi(r,1),nf(r,1,0))}function Bu(r){for(;r===Du;)Du=Xo[--ho],Xo[ho]=null,Kl=Xo[--ho],Xo[ho]=null;for(;r===Bs;)Bs=Fi[--Hi],Fi[Hi]=null,Wi=Fi[--Hi],Fi[Hi]=null,$i=Fi[--Hi],Fi[Hi]=null}function rf(r,i){Fi[Hi++]=$i,Fi[Hi++]=Wi,Fi[Hi++]=Bs,$i=i.id,Wi=i.overflow,Bs=r}var $r=null,Mn=null,Jt=!1,ci=null,Qn=!1,ha=Error(a(519));function zs(r){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Jo(qi(i,r)),ha}function qc(r){var i=r.stateNode,o=r.type,u=r.memoizedProps;switch(i[En]=r,i[Gn]=u,o){case"dialog":Qt("cancel",i),Qt("close",i);break;case"iframe":case"object":case"embed":Qt("load",i);break;case"video":case"audio":for(o=0;o<ud.length;o++)Qt(ud[o],i);break;case"source":Qt("error",i);break;case"img":case"image":case"link":Qt("error",i),Qt("load",i);break;case"details":Qt("toggle",i);break;case"input":Qt("invalid",i),vu(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Qt("invalid",i);break;case"textarea":Qt("invalid",i),Ol(i,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||u.suppressHydrationWarning===!0||Bm(i.textContent,o)?(u.popover!=null&&(Qt("beforetoggle",i),Qt("toggle",i)),u.onScroll!=null&&Qt("scroll",i),u.onScrollEnd!=null&&Qt("scrollend",i),u.onClick!=null&&(i.onclick=oa),i=!0):i=!1,i||zs(r,!0)}function ds(r){for($r=r.return;$r;)switch($r.tag){case 5:case 31:case 13:Qn=!1;return;case 27:case 3:Qn=!0;return;default:$r=$r.return}}function Wr(r){if(r!==$r)return!1;if(!Jt)return ds(r),Jt=!0,!1;var i=r.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||G0(r.type,r.memoizedProps)),o=!o),o&&Mn&&zs(r),ds(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(317));Mn=$m(r)}else if(i===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(317));Mn=$m(r)}else i===27?(i=Mn,dl(r.type)?(r=J0,J0=null,Mn=r):Mn=i):Mn=$r?Pa(r.stateNode.nextSibling):null;return!0}function po(){Mn=$r=null,Jt=!1}function Fc(){var r=ci;return r!==null&&(Ji===null?Ji=r:Ji.push.apply(Ji,r),ci=null),r}function Jo(r){ci===null?ci=[r]:ci.push(r)}var zu=I(null),Ms=null,za=null;function Is(r,i,o){P(zu,i._currentValue),i._currentValue=o}function Gi(r){r._currentValue=zu.current,k(zu)}function Zo(r,i,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),r===o)break;r=r.return}}function go(r,i,o,u){var g=r.child;for(g!==null&&(g.return=r);g!==null;){var b=g.dependencies;if(b!==null){var C=g.child;b=b.firstContext;e:for(;b!==null;){var H=b;b=g;for(var ge=0;ge<i.length;ge++)if(H.context===i[ge]){b.lanes|=o,H=b.alternate,H!==null&&(H.lanes|=o),Zo(b.return,o,r),u||(C=null);break e}b=H.next}}else if(g.tag===18){if(C=g.return,C===null)throw Error(a(341));C.lanes|=o,b=C.alternate,b!==null&&(b.lanes|=o),Zo(C,o,r),C=null}else C=g.child;if(C!==null)C.return=g;else for(C=g;C!==null;){if(C===r){C=null;break}if(g=C.sibling,g!==null){g.return=C.return,C=g;break}C=C.return}g=C}}function Ps(r,i,o,u){r=null;for(var g=i,b=!1;g!==null;){if(!b){if((g.flags&524288)!==0)b=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var C=g.alternate;if(C===null)throw Error(a(387));if(C=C.memoizedProps,C!==null){var H=g.type;Fr(g.pendingProps.value,C.value)||(r!==null?r.push(H):r=[H])}}else if(g===Q.current){if(C=g.alternate,C===null)throw Error(a(387));C.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(r!==null?r.push(pd):r=[pd])}g=g.return}r!==null&&go(i,r,o,u),i.flags|=262144}function Mu(r){for(r=r.firstContext;r!==null;){if(!Fr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Us(r){Ms=r,za=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Gr(r){return af(Ms,r)}function Iu(r,i){return Ms===null&&Us(r),af(r,i)}function af(r,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},za===null){if(r===null)throw Error(a(308));za=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else za=za.next=i;return o}var Xh=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){i.aborted=!0,r.forEach(function(o){return o()})}},Jh=t.unstable_scheduleCallback,Zh=t.unstable_NormalPriority,ur={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qo(){return{controller:new Xh,data:new Map,refCount:0}}function Xl(r){r.refCount--,r.refCount===0&&Jh(Zh,function(){r.controller.abort()})}var Jl=null,Pu=0,p=0,v=null;function S(r,i){if(Jl===null){var o=Jl=[];Pu=0,p=M0(),v={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Pu++,i.then(N,N),i}function N(){if(--Pu===0&&Jl!==null){v!==null&&(v.status="fulfilled");var r=Jl;Jl=null,p=0,v=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function O(r,i){var o=[],u={status:"pending",value:null,reason:null,then:function(g){o.push(g)}};return r.then(function(){u.status="fulfilled",u.value=i;for(var g=0;g<o.length;g++)(0,o[g])(i)},function(g){for(u.status="rejected",u.reason=g,g=0;g<o.length;g++)(0,o[g])(void 0)}),u}var U=X.S;X.S=function(r,i){am=ot(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&S(r,i),U!==null&&U(r,i)};var F=I(null);function G(){var r=F.current;return r!==null?r:Pn.pooledCache}function J(r,i){i===null?P(F,F.current):P(F,i.pool)}function ne(){var r=G();return r===null?null:{parent:ur._currentValue,pool:r}}var be=Error(a(460)),Ce=Error(a(474)),te=Error(a(542)),xe={then:function(){}};function Te(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Pe(r,i,o){switch(o=r[o],o===void 0?r.push(i):o!==i&&(i.then(oa,oa),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,Xe(r),r;default:if(typeof i.status=="string")i.then(oa,oa);else{if(r=Pn,r!==null&&100<r.shellSuspendCounter)throw Error(a(482));r=i,r.status="pending",r.then(function(u){if(i.status==="pending"){var g=i;g.status="fulfilled",g.value=u}},function(u){if(i.status==="pending"){var g=i;g.status="rejected",g.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,Xe(r),r}throw Ie=i,be}}function Ne(r){try{var i=r._init;return i(r._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Ie=o,be):o}}var Ie=null;function Fe(){if(Ie===null)throw Error(a(459));var r=Ie;return Ie=null,r}function Xe(r){if(r===be||r===te)throw Error(a(483))}var Ge=null,gt=0;function ut(r){var i=gt;return gt+=1,Ge===null&&(Ge=[]),Pe(Ge,r,i)}function Ut(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function dt(r,i){throw i.$$typeof===A?Error(a(525)):(r=Object.prototype.toString.call(i),Error(a(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function Xt(r){function i(Ae,we){if(r){var Re=Ae.deletions;Re===null?(Ae.deletions=[we],Ae.flags|=16):Re.push(we)}}function o(Ae,we){if(!r)return null;for(;we!==null;)i(Ae,we),we=we.sibling;return null}function u(Ae){for(var we=new Map;Ae!==null;)Ae.key!==null?we.set(Ae.key,Ae):we.set(Ae.index,Ae),Ae=Ae.sibling;return we}function g(Ae,we){return Ae=Ui(Ae,we),Ae.index=0,Ae.sibling=null,Ae}function b(Ae,we,Re){return Ae.index=Re,r?(Re=Ae.alternate,Re!==null?(Re=Re.index,Re<we?(Ae.flags|=67108866,we):Re):(Ae.flags|=67108866,we)):(Ae.flags|=1048576,we)}function C(Ae){return r&&Ae.alternate===null&&(Ae.flags|=67108866),Ae}function H(Ae,we,Re,He){return we===null||we.tag!==6?(we=Vl(Re,Ae.mode,He),we.return=Ae,we):(we=g(we,Re),we.return=Ae,we)}function ge(Ae,we,Re,He){var Lt=Re.type;return Lt===E?Ue(Ae,we,Re.props.children,He,Re.key):we!==null&&(we.elementType===Lt||typeof Lt=="object"&&Lt!==null&&Lt.$$typeof===ee&&Ne(Lt)===we.type)?(we=g(we,Re.props),Ut(we,Re),we.return=Ae,we):(we=Vo(Re.type,Re.key,Re.props,null,Ae.mode,He),Ut(we,Re),we.return=Ae,we)}function je(Ae,we,Re,He){return we===null||we.tag!==4||we.stateNode.containerInfo!==Re.containerInfo||we.stateNode.implementation!==Re.implementation?(we=Ko(Re,Ae.mode,He),we.return=Ae,we):(we=g(we,Re.children||[]),we.return=Ae,we)}function Ue(Ae,we,Re,He,Lt){return we===null||we.tag!==7?(we=Ds(Re,Ae.mode,He,Lt),we.return=Ae,we):(we=g(we,Re),we.return=Ae,we)}function We(Ae,we,Re){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return we=Vl(""+we,Ae.mode,Re),we.return=Ae,we;if(typeof we=="object"&&we!==null){switch(we.$$typeof){case m:return Re=Vo(we.type,we.key,we.props,null,Ae.mode,Re),Ut(Re,we),Re.return=Ae,Re;case T:return we=Ko(we,Ae.mode,Re),we.return=Ae,we;case ee:return we=Ne(we),We(Ae,we,Re)}if(Ee(we)||Y(we))return we=Ds(we,Ae.mode,Re,null),we.return=Ae,we;if(typeof we.then=="function")return We(Ae,ut(we),Re);if(we.$$typeof===M)return We(Ae,Iu(Ae,we),Re);dt(Ae,we)}return null}function Oe(Ae,we,Re,He){var Lt=we!==null?we.key:null;if(typeof Re=="string"&&Re!==""||typeof Re=="number"||typeof Re=="bigint")return Lt!==null?null:H(Ae,we,""+Re,He);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case m:return Re.key===Lt?ge(Ae,we,Re,He):null;case T:return Re.key===Lt?je(Ae,we,Re,He):null;case ee:return Re=Ne(Re),Oe(Ae,we,Re,He)}if(Ee(Re)||Y(Re))return Lt!==null?null:Ue(Ae,we,Re,He,null);if(typeof Re.then=="function")return Oe(Ae,we,ut(Re),He);if(Re.$$typeof===M)return Oe(Ae,we,Iu(Ae,Re),He);dt(Ae,Re)}return null}function Be(Ae,we,Re,He,Lt){if(typeof He=="string"&&He!==""||typeof He=="number"||typeof He=="bigint")return Ae=Ae.get(Re)||null,H(we,Ae,""+He,Lt);if(typeof He=="object"&&He!==null){switch(He.$$typeof){case m:return Ae=Ae.get(He.key===null?Re:He.key)||null,ge(we,Ae,He,Lt);case T:return Ae=Ae.get(He.key===null?Re:He.key)||null,je(we,Ae,He,Lt);case ee:return He=Ne(He),Be(Ae,we,Re,He,Lt)}if(Ee(He)||Y(He))return Ae=Ae.get(Re)||null,Ue(we,Ae,He,Lt,null);if(typeof He.then=="function")return Be(Ae,we,Re,ut(He),Lt);if(He.$$typeof===M)return Be(Ae,we,Re,Iu(we,He),Lt);dt(we,He)}return null}function ht(Ae,we,Re,He){for(var Lt=null,gn=null,bt=we,Vt=we=0,tn=null;bt!==null&&Vt<Re.length;Vt++){bt.index>Vt?(tn=bt,bt=null):tn=bt.sibling;var mn=Oe(Ae,bt,Re[Vt],He);if(mn===null){bt===null&&(bt=tn);break}r&&bt&&mn.alternate===null&&i(Ae,bt),we=b(mn,we,Vt),gn===null?Lt=mn:gn.sibling=mn,gn=mn,bt=tn}if(Vt===Re.length)return o(Ae,bt),Jt&&Oi(Ae,Vt),Lt;if(bt===null){for(;Vt<Re.length;Vt++)bt=We(Ae,Re[Vt],He),bt!==null&&(we=b(bt,we,Vt),gn===null?Lt=bt:gn.sibling=bt,gn=bt);return Jt&&Oi(Ae,Vt),Lt}for(bt=u(bt);Vt<Re.length;Vt++)tn=Be(bt,Ae,Vt,Re[Vt],He),tn!==null&&(r&&tn.alternate!==null&&bt.delete(tn.key===null?Vt:tn.key),we=b(tn,we,Vt),gn===null?Lt=tn:gn.sibling=tn,gn=tn);return r&&bt.forEach(function(ml){return i(Ae,ml)}),Jt&&Oi(Ae,Vt),Lt}function Dt(Ae,we,Re,He){if(Re==null)throw Error(a(151));for(var Lt=null,gn=null,bt=we,Vt=we=0,tn=null,mn=Re.next();bt!==null&&!mn.done;Vt++,mn=Re.next()){bt.index>Vt?(tn=bt,bt=null):tn=bt.sibling;var ml=Oe(Ae,bt,mn.value,He);if(ml===null){bt===null&&(bt=tn);break}r&&bt&&ml.alternate===null&&i(Ae,bt),we=b(ml,we,Vt),gn===null?Lt=ml:gn.sibling=ml,gn=ml,bt=tn}if(mn.done)return o(Ae,bt),Jt&&Oi(Ae,Vt),Lt;if(bt===null){for(;!mn.done;Vt++,mn=Re.next())mn=We(Ae,mn.value,He),mn!==null&&(we=b(mn,we,Vt),gn===null?Lt=mn:gn.sibling=mn,gn=mn);return Jt&&Oi(Ae,Vt),Lt}for(bt=u(bt);!mn.done;Vt++,mn=Re.next())mn=Be(bt,Ae,Vt,mn.value,He),mn!==null&&(r&&mn.alternate!==null&&bt.delete(mn.key===null?Vt:mn.key),we=b(mn,we,Vt),gn===null?Lt=mn:gn.sibling=mn,gn=mn);return r&&bt.forEach(function(Hw){return i(Ae,Hw)}),Jt&&Oi(Ae,Vt),Lt}function zn(Ae,we,Re,He){if(typeof Re=="object"&&Re!==null&&Re.type===E&&Re.key===null&&(Re=Re.props.children),typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case m:e:{for(var Lt=Re.key;we!==null;){if(we.key===Lt){if(Lt=Re.type,Lt===E){if(we.tag===7){o(Ae,we.sibling),He=g(we,Re.props.children),He.return=Ae,Ae=He;break e}}else if(we.elementType===Lt||typeof Lt=="object"&&Lt!==null&&Lt.$$typeof===ee&&Ne(Lt)===we.type){o(Ae,we.sibling),He=g(we,Re.props),Ut(He,Re),He.return=Ae,Ae=He;break e}o(Ae,we);break}else i(Ae,we);we=we.sibling}Re.type===E?(He=Ds(Re.props.children,Ae.mode,He,Re.key),He.return=Ae,Ae=He):(He=Vo(Re.type,Re.key,Re.props,null,Ae.mode,He),Ut(He,Re),He.return=Ae,Ae=He)}return C(Ae);case T:e:{for(Lt=Re.key;we!==null;){if(we.key===Lt)if(we.tag===4&&we.stateNode.containerInfo===Re.containerInfo&&we.stateNode.implementation===Re.implementation){o(Ae,we.sibling),He=g(we,Re.children||[]),He.return=Ae,Ae=He;break e}else{o(Ae,we);break}else i(Ae,we);we=we.sibling}He=Ko(Re,Ae.mode,He),He.return=Ae,Ae=He}return C(Ae);case ee:return Re=Ne(Re),zn(Ae,we,Re,He)}if(Ee(Re))return ht(Ae,we,Re,He);if(Y(Re)){if(Lt=Y(Re),typeof Lt!="function")throw Error(a(150));return Re=Lt.call(Re),Dt(Ae,we,Re,He)}if(typeof Re.then=="function")return zn(Ae,we,ut(Re),He);if(Re.$$typeof===M)return zn(Ae,we,Iu(Ae,Re),He);dt(Ae,Re)}return typeof Re=="string"&&Re!==""||typeof Re=="number"||typeof Re=="bigint"?(Re=""+Re,we!==null&&we.tag===6?(o(Ae,we.sibling),He=g(we,Re),He.return=Ae,Ae=He):(o(Ae,we),He=Vl(Re,Ae.mode,He),He.return=Ae,Ae=He),C(Ae)):o(Ae,we)}return function(Ae,we,Re,He){try{gt=0;var Lt=zn(Ae,we,Re,He);return Ge=null,Lt}catch(bt){if(bt===be||bt===te)throw bt;var gn=ei(29,bt,null,Ae.mode);return gn.lanes=He,gn.return=Ae,gn}}}var In=Xt(!0),Ht=Xt(!1),ct=!1;function rt(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vn(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Ot(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Gt(r,i,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(_n&2)!==0){var g=u.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),u.pending=i,i=Qr(r),Gl(r,null,o),i}return Wl(r,u,i,o),Qr(r)}function wn(r,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var u=i.lanes;u&=r.pendingLanes,o|=u,i.lanes=o,Fn(r,o)}}function Nr(r,i){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var g=null,b=null;if(o=o.firstBaseUpdate,o!==null){do{var C={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};b===null?g=b=C:b=b.next=C,o=o.next}while(o!==null);b===null?g=b=i:b=b.next=i}else g=b=i;o={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:b,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=i:r.next=i,o.lastBaseUpdate=i}var Yr=!1;function On(){if(Yr){var r=v;if(r!==null)throw r}}function mr(r,i,o,u){Yr=!1;var g=r.updateQueue;ct=!1;var b=g.firstBaseUpdate,C=g.lastBaseUpdate,H=g.shared.pending;if(H!==null){g.shared.pending=null;var ge=H,je=ge.next;ge.next=null,C===null?b=je:C.next=je,C=ge;var Ue=r.alternate;Ue!==null&&(Ue=Ue.updateQueue,H=Ue.lastBaseUpdate,H!==C&&(H===null?Ue.firstBaseUpdate=je:H.next=je,Ue.lastBaseUpdate=ge))}if(b!==null){var We=g.baseState;C=0,Ue=je=ge=null,H=b;do{var Oe=H.lane&-536870913,Be=Oe!==H.lane;if(Be?(en&Oe)===Oe:(u&Oe)===Oe){Oe!==0&&Oe===p&&(Yr=!0),Ue!==null&&(Ue=Ue.next={lane:0,tag:H.tag,payload:H.payload,callback:null,next:null});e:{var ht=r,Dt=H;Oe=i;var zn=o;switch(Dt.tag){case 1:if(ht=Dt.payload,typeof ht=="function"){We=ht.call(zn,We,Oe);break e}We=ht;break e;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=Dt.payload,Oe=typeof ht=="function"?ht.call(zn,We,Oe):ht,Oe==null)break e;We=w({},We,Oe);break e;case 2:ct=!0}}Oe=H.callback,Oe!==null&&(r.flags|=64,Be&&(r.flags|=8192),Be=g.callbacks,Be===null?g.callbacks=[Oe]:Be.push(Oe))}else Be={lane:Oe,tag:H.tag,payload:H.payload,callback:H.callback,next:null},Ue===null?(je=Ue=Be,ge=We):Ue=Ue.next=Be,C|=Oe;if(H=H.next,H===null){if(H=g.shared.pending,H===null)break;Be=H,H=Be.next,Be.next=null,g.lastBaseUpdate=Be,g.shared.pending=null}}while(!0);Ue===null&&(ge=We),g.baseState=ge,g.firstBaseUpdate=je,g.lastBaseUpdate=Ue,b===null&&(g.shared.lanes=0),sl|=C,r.lanes=C,r.memoizedState=We}}function ti(r,i){if(typeof r!="function")throw Error(a(191,r));r.call(i)}function yr(r,i){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)ti(o[r],i)}var Kt=I(null),on=I(0);function Kn(r,i){r=Eo,P(on,r),P(Kt,i),Eo=r|i.baseLanes}function hn(){P(on,Eo),P(Kt,Kt.current)}function Lr(){Eo=on.current,k(Kt),k(on)}var Xn=I(null),ln=null;function cr(r){var i=r.alternate;P(an,an.current&1),P(Xn,r),ln===null&&(i===null||Kt.current!==null||i.memoizedState!==null)&&(ln=r)}function xn(r){P(an,an.current),P(Xn,r),ln===null&&(ln=r)}function vr(r){r.tag===22?(P(an,an.current),P(Xn,r),ln===null&&(ln=r)):br()}function br(){P(an,an.current),P(Xn,Xn.current)}function Tn(r){k(Xn),ln===r&&(ln=null),k(an)}var an=I(0);function ni(r){for(var i=r;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||K0(o)||X0(o)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var er=0,Tt=null,Nt=null,un=null,bi=!1,Yi=!1,di=!1,wr=0,qs=0,Fs=null,Uu=0;function Dn(){throw Error(a(321))}function Hc(r,i){if(i===null)return!1;for(var o=0;o<i.length&&o<r.length;o++)if(!Fr(r[o],i[o]))return!1;return!0}function $c(r,i,o,u,g,b){return er=b,Tt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,X.H=r===null||r.memoizedState===null?m1:s0,di=!1,b=o(u,g),di=!1,Yi&&(b=fs(i,o,u,g)),qu(r),b}function qu(r){X.H=Zc;var i=Nt!==null&&Nt.next!==null;if(er=0,un=Nt=Tt=null,bi=!1,qs=0,Fs=null,i)throw Error(a(300));r===null||zr||(r=r.dependencies,r!==null&&Mu(r)&&(zr=!0))}function fs(r,i,o,u){Tt=r;var g=0;do{if(Yi&&(Fs=null),qs=0,Yi=!1,25<=g)throw Error(a(301));if(g+=1,un=Nt=null,r.updateQueue!=null){var b=r.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}X.H=y1,b=i(o,u)}while(Yi);return b}function Qh(){var r=X.H,i=r.useState()[0];return i=typeof i.then=="function"?Hs(i):i,r=r.useState()[0],(Nt!==null?Nt.memoizedState:null)!==r&&(Tt.flags|=1024),i}function Wc(){var r=wr!==0;return wr=0,r}function Gc(r,i,o){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~o}function Fu(r){if(bi){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}bi=!1}er=0,un=Nt=Tt=null,Yi=!1,qs=wr=0,Fs=null}function Br(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return un===null?Tt.memoizedState=un=r:un=un.next=r,un}function tr(){if(Nt===null){var r=Tt.alternate;r=r!==null?r.memoizedState:null}else r=Nt.next;var i=un===null?Tt.memoizedState:un.next;if(i!==null)un=i,Nt=r;else{if(r===null)throw Tt.alternate===null?Error(a(467)):Error(a(310));Nt=r,r={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},un===null?Tt.memoizedState=un=r:un=un.next=r}return un}function Zl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hs(r){var i=qs;return qs+=1,Fs===null&&(Fs=[]),r=Pe(Fs,r,i),i=Tt,(un===null?i.memoizedState:un.next)===null&&(i=i.alternate,X.H=i===null||i.memoizedState===null?m1:s0),r}function el(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Hs(r);if(r.$$typeof===M)return Gr(r)}throw Error(a(438,String(r)))}function mo(r){var i=null,o=Tt.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var u=Tt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(g){return g.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=Zl(),Tt.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(r),u=0;u<r;u++)o[u]=fe;return i.index++,o}function Ma(r,i){return typeof i=="function"?i(r):i}function Hu(r){var i=tr();return tl(i,Nt,r)}function tl(r,i,o){var u=r.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=o;var g=r.baseQueue,b=u.pending;if(b!==null){if(g!==null){var C=g.next;g.next=b.next,b.next=C}i.baseQueue=g=b,u.pending=null}if(b=r.baseState,g===null)r.memoizedState=b;else{i=g.next;var H=C=null,ge=null,je=i,Ue=!1;do{var We=je.lane&-536870913;if(We!==je.lane?(en&We)===We:(er&We)===We){var Oe=je.revertLane;if(Oe===0)ge!==null&&(ge=ge.next={lane:0,revertLane:0,gesture:null,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null}),We===p&&(Ue=!0);else if((er&Oe)===Oe){je=je.next,Oe===p&&(Ue=!0);continue}else We={lane:0,revertLane:je.revertLane,gesture:null,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null},ge===null?(H=ge=We,C=b):ge=ge.next=We,Tt.lanes|=Oe,sl|=Oe;We=je.action,di&&o(b,We),b=je.hasEagerState?je.eagerState:o(b,We)}else Oe={lane:We,revertLane:je.revertLane,gesture:je.gesture,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null},ge===null?(H=ge=Oe,C=b):ge=ge.next=Oe,Tt.lanes|=We,sl|=We;je=je.next}while(je!==null&&je!==i);if(ge===null?C=b:ge.next=H,!Fr(b,r.memoizedState)&&(zr=!0,Ue&&(o=v,o!==null)))throw o;r.memoizedState=b,r.baseState=C,r.baseQueue=ge,u.lastRenderedState=b}return g===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function $u(r){var i=tr(),o=i.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var u=o.dispatch,g=o.pending,b=i.memoizedState;if(g!==null){o.pending=null;var C=g=g.next;do b=r(b,C.action),C=C.next;while(C!==g);Fr(b,i.memoizedState)||(zr=!0),i.memoizedState=b,i.baseQueue===null&&(i.baseState=b),o.lastRenderedState=b}return[b,u]}function Wu(r,i,o){var u=Tt,g=tr(),b=Jt;if(b){if(o===void 0)throw Error(a(407));o=o()}else o=i();var C=!Fr((Nt||g).memoizedState,o);if(C&&(g.memoizedState=o,zr=!0),g=g.queue,e0(Vc.bind(null,u,g,r),[r]),g.getSnapshot!==i||C||un!==null&&un.memoizedState.tag&1){if(u.flags|=2048,vo(9,{destroy:void 0},Yc.bind(null,u,g,o,i),null),Pn===null)throw Error(a(349));b||(er&127)!==0||hs(u,i,o)}return o}function hs(r,i,o){r.flags|=16384,r={getSnapshot:i,value:o},i=Tt.updateQueue,i===null?(i=Zl(),Tt.updateQueue=i,i.stores=[r]):(o=i.stores,o===null?i.stores=[r]:o.push(r))}function Yc(r,i,o,u){i.value=o,i.getSnapshot=u,sf(i)&&Kc(r)}function Vc(r,i,o){return o(function(){sf(i)&&Kc(r)})}function sf(r){var i=r.getSnapshot;r=r.value;try{var o=i();return!Fr(r,o)}catch{return!0}}function Kc(r){var i=cs(r,2);i!==null&&Zi(i,r,2)}function $s(r){var i=Br();if(typeof r=="function"){var o=r;if(r=o(),di){Rt(!0);try{o()}finally{Rt(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ma,lastRenderedState:r},i}function of(r,i,o,u){return r.baseState=o,tl(r,Nt,typeof u=="function"?u:Ma)}function lf(r,i,o,u,g){if(ff(r))throw Error(a(485));if(r=i.action,r!==null){var b={payload:g,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){b.listeners.push(C)}};X.T!==null?o(!0):b.isTransition=!1,u(b),o=i.pending,o===null?(b.next=i.pending=b,uf(i,b)):(b.next=o.next,i.pending=o.next=b)}}function uf(r,i){var o=i.action,u=i.payload,g=r.state;if(i.isTransition){var b=X.T,C={};X.T=C;try{var H=o(g,u),ge=X.S;ge!==null&&ge(C,H),Xc(r,i,H)}catch(je){yo(r,i,je)}finally{b!==null&&C.types!==null&&(b.types=C.types),X.T=b}}else try{b=o(g,u),Xc(r,i,b)}catch(je){yo(r,i,je)}}function Xc(r,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){cf(r,i,u)},function(u){return yo(r,i,u)}):cf(r,i,o)}function cf(r,i,o){i.status="fulfilled",i.value=o,Gu(i),r.state=o,i=r.pending,i!==null&&(o=i.next,o===i?r.pending=null:(o=o.next,i.next=o,uf(r,o)))}function yo(r,i,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=o,Gu(i),i=i.next;while(i!==u)}r.action=null}function Gu(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function Ql(r,i){return i}function Ia(r,i){if(Jt){var o=Pn.formState;if(o!==null){e:{var u=Tt;if(Jt){if(Mn){t:{for(var g=Mn,b=Qn;g.nodeType!==8;){if(!b){g=null;break t}if(g=Pa(g.nextSibling),g===null){g=null;break t}}b=g.data,g=b==="F!"||b==="F"?g:null}if(g){Mn=Pa(g.nextSibling),u=g.data==="F!";break e}}zs(u)}u=!1}u&&(i=o[0])}}return o=Br(),o.memoizedState=o.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ql,lastRenderedState:i},o.queue=u,o=h1.bind(null,Tt,u),u.dispatch=o,u=$s(!1),b=a0.bind(null,Tt,!1,u.queue),u=Br(),g={state:i,dispatch:null,action:r,pending:null},u.queue=g,o=lf.bind(null,Tt,g,b,o),g.dispatch=o,u.memoizedState=r,[i,o,!1]}function ps(r){var i=tr();return gs(i,Nt,r)}function gs(r,i,o){if(i=tl(r,i,Ql)[0],r=Hu(Ma)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=Hs(i)}catch(C){throw C===be?te:C}else u=i;i=tr();var g=i.queue,b=g.dispatch;return o!==i.memoizedState&&(Tt.flags|=2048,vo(9,{destroy:void 0},Yu.bind(null,g,o),null)),[u,b,r]}function Yu(r,i){r.action=i}function Vu(r){var i=tr(),o=Nt;if(o!==null)return gs(i,o,r);tr(),i=i.memoizedState,o=tr();var u=o.queue.dispatch;return o.memoizedState=r,[i,u,!1]}function vo(r,i,o,u){return r={tag:r,create:o,deps:u,inst:i,next:null},i=Tt.updateQueue,i===null&&(i=Zl(),Tt.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,i.lastEffect=r),r}function df(){return tr().memoizedState}function nl(r,i,o,u){var g=Br();Tt.flags|=r,g.memoizedState=vo(1|i,{destroy:void 0},o,u===void 0?null:u)}function rl(r,i,o,u){var g=tr();u=u===void 0?null:u;var b=g.memoizedState.inst;Nt!==null&&u!==null&&Hc(u,Nt.memoizedState.deps)?g.memoizedState=vo(i,b,o,u):(Tt.flags|=r,g.memoizedState=vo(1|i,b,o,u))}function Qg(r,i){nl(8390656,8,r,i)}function e0(r,i){rl(2048,8,r,i)}function Mb(r){Tt.flags|=4;var i=Tt.updateQueue;if(i===null)i=Zl(),Tt.updateQueue=i,i.events=[r];else{var o=i.events;o===null?i.events=[r]:o.push(r)}}function e1(r){var i=tr().memoizedState;return Mb({ref:i,nextImpl:r}),function(){if((_n&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function t1(r,i){return rl(4,2,r,i)}function n1(r,i){return rl(4,4,r,i)}function r1(r,i){if(typeof i=="function"){r=r();var o=i(r);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function i1(r,i,o){o=o!=null?o.concat([r]):null,rl(4,4,r1.bind(null,i,r),o)}function t0(){}function a1(r,i){var o=tr();i=i===void 0?null:i;var u=o.memoizedState;return i!==null&&Hc(i,u[1])?u[0]:(o.memoizedState=[r,i],r)}function s1(r,i){var o=tr();i=i===void 0?null:i;var u=o.memoizedState;if(i!==null&&Hc(i,u[1]))return u[0];if(u=r(),di){Rt(!0);try{r()}finally{Rt(!1)}}return o.memoizedState=[u,i],u}function n0(r,i,o){return o===void 0||(er&1073741824)!==0&&(en&261930)===0?r.memoizedState=i:(r.memoizedState=o,r=om(),Tt.lanes|=r,sl|=r,o)}function o1(r,i,o,u){return Fr(o,i)?o:Kt.current!==null?(r=n0(r,o,u),Fr(r,i)||(zr=!0),r):(er&42)===0||(er&1073741824)!==0&&(en&261930)===0?(zr=!0,r.memoizedState=o):(r=om(),Tt.lanes|=r,sl|=r,i)}function l1(r,i,o,u,g){var b=de.p;de.p=b!==0&&8>b?b:8;var C=X.T,H={};X.T=H,a0(r,!1,i,o);try{var ge=g(),je=X.S;if(je!==null&&je(H,ge),ge!==null&&typeof ge=="object"&&typeof ge.then=="function"){var Ue=O(ge,u);Jc(r,i,Ue,ma(r))}else Jc(r,i,u,ma(r))}catch(We){Jc(r,i,{then:function(){},status:"rejected",reason:We},ma())}finally{de.p=b,C!==null&&H.types!==null&&(C.types=H.types),X.T=C}}function Ib(){}function r0(r,i,o,u){if(r.tag!==5)throw Error(a(476));var g=u1(r).queue;l1(r,g,i,he,o===null?Ib:function(){return c1(r),o(u)})}function u1(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ma,lastRenderedState:he},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ma,lastRenderedState:o},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function c1(r){var i=u1(r);i.next===null&&(i=r.alternate.memoizedState),Jc(r,i.next.queue,{},ma())}function i0(){return Gr(pd)}function d1(){return tr().memoizedState}function f1(){return tr().memoizedState}function Pb(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var o=ma();r=Ot(o);var u=Gt(i,r,o);u!==null&&(Zi(u,i,o),wn(u,i,o)),i={cache:Qo()},r.payload=i;return}i=i.return}}function Ub(r,i,o){var u=ma();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ff(r)?p1(i,o):(o=Lu(r,i,o,u),o!==null&&(Zi(o,r,u),g1(o,i,u)))}function h1(r,i,o){var u=ma();Jc(r,i,o,u)}function Jc(r,i,o,u){var g={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(ff(r))p1(i,g);else{var b=r.alternate;if(r.lanes===0&&(b===null||b.lanes===0)&&(b=i.lastRenderedReducer,b!==null))try{var C=i.lastRenderedState,H=b(C,o);if(g.hasEagerState=!0,g.eagerState=H,Fr(H,C))return Wl(r,i,g,0),Pn===null&&$l(),!1}catch{}if(o=Lu(r,i,g,u),o!==null)return Zi(o,r,u),g1(o,i,u),!0}return!1}function a0(r,i,o,u){if(u={lane:2,revertLane:M0(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},ff(r)){if(i)throw Error(a(479))}else i=Lu(r,o,u,2),i!==null&&Zi(i,r,2)}function ff(r){var i=r.alternate;return r===Tt||i!==null&&i===Tt}function p1(r,i){Yi=bi=!0;var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}function g1(r,i,o){if((o&4194048)!==0){var u=i.lanes;u&=r.pendingLanes,o|=u,i.lanes=o,Fn(r,o)}}var Zc={readContext:Gr,use:el,useCallback:Dn,useContext:Dn,useEffect:Dn,useImperativeHandle:Dn,useLayoutEffect:Dn,useInsertionEffect:Dn,useMemo:Dn,useReducer:Dn,useRef:Dn,useState:Dn,useDebugValue:Dn,useDeferredValue:Dn,useTransition:Dn,useSyncExternalStore:Dn,useId:Dn,useHostTransitionStatus:Dn,useFormState:Dn,useActionState:Dn,useOptimistic:Dn,useMemoCache:Dn,useCacheRefresh:Dn};Zc.useEffectEvent=Dn;var m1={readContext:Gr,use:el,useCallback:function(r,i){return Br().memoizedState=[r,i===void 0?null:i],r},useContext:Gr,useEffect:Qg,useImperativeHandle:function(r,i,o){o=o!=null?o.concat([r]):null,nl(4194308,4,r1.bind(null,i,r),o)},useLayoutEffect:function(r,i){return nl(4194308,4,r,i)},useInsertionEffect:function(r,i){nl(4,2,r,i)},useMemo:function(r,i){var o=Br();i=i===void 0?null:i;var u=r();if(di){Rt(!0);try{r()}finally{Rt(!1)}}return o.memoizedState=[u,i],u},useReducer:function(r,i,o){var u=Br();if(o!==void 0){var g=o(i);if(di){Rt(!0);try{o(i)}finally{Rt(!1)}}}else g=i;return u.memoizedState=u.baseState=g,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:g},u.queue=r,r=r.dispatch=Ub.bind(null,Tt,r),[u.memoizedState,r]},useRef:function(r){var i=Br();return r={current:r},i.memoizedState=r},useState:function(r){r=$s(r);var i=r.queue,o=h1.bind(null,Tt,i);return i.dispatch=o,[r.memoizedState,o]},useDebugValue:t0,useDeferredValue:function(r,i){var o=Br();return n0(o,r,i)},useTransition:function(){var r=$s(!1);return r=l1.bind(null,Tt,r.queue,!0,!1),Br().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,o){var u=Tt,g=Br();if(Jt){if(o===void 0)throw Error(a(407));o=o()}else{if(o=i(),Pn===null)throw Error(a(349));(en&127)!==0||hs(u,i,o)}g.memoizedState=o;var b={value:o,getSnapshot:i};return g.queue=b,Qg(Vc.bind(null,u,b,r),[r]),u.flags|=2048,vo(9,{destroy:void 0},Yc.bind(null,u,b,o,i),null),o},useId:function(){var r=Br(),i=Pn.identifierPrefix;if(Jt){var o=Wi,u=$i;o=(u&~(1<<32-Yt(u)-1)).toString(32)+o,i="_"+i+"R_"+o,o=wr++,0<o&&(i+="H"+o.toString(32)),i+="_"}else o=Uu++,i="_"+i+"r_"+o.toString(32)+"_";return r.memoizedState=i},useHostTransitionStatus:i0,useFormState:Ia,useActionState:Ia,useOptimistic:function(r){var i=Br();i.memoizedState=i.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=a0.bind(null,Tt,!0,o),o.dispatch=i,[r,i]},useMemoCache:mo,useCacheRefresh:function(){return Br().memoizedState=Pb.bind(null,Tt)},useEffectEvent:function(r){var i=Br(),o={impl:r};return i.memoizedState=o,function(){if((_n&2)!==0)throw Error(a(440));return o.impl.apply(void 0,arguments)}}},s0={readContext:Gr,use:el,useCallback:a1,useContext:Gr,useEffect:e0,useImperativeHandle:i1,useInsertionEffect:t1,useLayoutEffect:n1,useMemo:s1,useReducer:Hu,useRef:df,useState:function(){return Hu(Ma)},useDebugValue:t0,useDeferredValue:function(r,i){var o=tr();return o1(o,Nt.memoizedState,r,i)},useTransition:function(){var r=Hu(Ma)[0],i=tr().memoizedState;return[typeof r=="boolean"?r:Hs(r),i]},useSyncExternalStore:Wu,useId:d1,useHostTransitionStatus:i0,useFormState:ps,useActionState:ps,useOptimistic:function(r,i){var o=tr();return of(o,Nt,r,i)},useMemoCache:mo,useCacheRefresh:f1};s0.useEffectEvent=e1;var y1={readContext:Gr,use:el,useCallback:a1,useContext:Gr,useEffect:e0,useImperativeHandle:i1,useInsertionEffect:t1,useLayoutEffect:n1,useMemo:s1,useReducer:$u,useRef:df,useState:function(){return $u(Ma)},useDebugValue:t0,useDeferredValue:function(r,i){var o=tr();return Nt===null?n0(o,r,i):o1(o,Nt.memoizedState,r,i)},useTransition:function(){var r=$u(Ma)[0],i=tr().memoizedState;return[typeof r=="boolean"?r:Hs(r),i]},useSyncExternalStore:Wu,useId:d1,useHostTransitionStatus:i0,useFormState:Vu,useActionState:Vu,useOptimistic:function(r,i){var o=tr();return Nt!==null?of(o,Nt,r,i):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:mo,useCacheRefresh:f1};y1.useEffectEvent=e1;function o0(r,i,o,u){i=r.memoizedState,o=o(u,i),o=o==null?i:w({},i,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var l0={enqueueSetState:function(r,i,o){r=r._reactInternals;var u=ma(),g=Ot(u);g.payload=i,o!=null&&(g.callback=o),i=Gt(r,g,u),i!==null&&(Zi(i,r,u),wn(i,r,u))},enqueueReplaceState:function(r,i,o){r=r._reactInternals;var u=ma(),g=Ot(u);g.tag=1,g.payload=i,o!=null&&(g.callback=o),i=Gt(r,g,u),i!==null&&(Zi(i,r,u),wn(i,r,u))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var o=ma(),u=Ot(o);u.tag=2,i!=null&&(u.callback=i),i=Gt(r,u,o),i!==null&&(Zi(i,r,o),wn(i,r,o))}};function v1(r,i,o,u,g,b,C){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,b,C):i.prototype&&i.prototype.isPureReactComponent?!ss(o,u)||!ss(g,b):!0}function b1(r,i,o,u){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,u),i.state!==r&&l0.enqueueReplaceState(i,i.state,null)}function eu(r,i){var o=i;if("ref"in i){o={};for(var u in i)u!=="ref"&&(o[u]=i[u])}if(r=r.defaultProps){o===i&&(o=w({},o));for(var g in r)o[g]===void 0&&(o[g]=r[g])}return o}function w1(r){Hl(r)}function x1(r){console.error(r)}function _1(r){Hl(r)}function hf(r,i){try{var o=r.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function S1(r,i,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function u0(r,i,o){return o=Ot(o),o.tag=3,o.payload={element:null},o.callback=function(){hf(r,i)},o}function A1(r){return r=Ot(r),r.tag=3,r}function E1(r,i,o,u){var g=o.type.getDerivedStateFromError;if(typeof g=="function"){var b=u.value;r.payload=function(){return g(b)},r.callback=function(){S1(i,o,u)}}var C=o.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(r.callback=function(){S1(i,o,u),typeof g!="function"&&(ol===null?ol=new Set([this]):ol.add(this));var H=u.stack;this.componentDidCatch(u.value,{componentStack:H!==null?H:""})})}function qb(r,i,o,u,g){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=o.alternate,i!==null&&Ps(i,o,g,!0),o=Xn.current,o!==null){switch(o.tag){case 31:case 13:return ln===null?Ef():o.alternate===null&&xr===0&&(xr=3),o.flags&=-257,o.flags|=65536,o.lanes=g,u===xe?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([u]):i.add(u),D0(r,u,g)),!1;case 22:return o.flags|=65536,u===xe?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([u]):o.add(u)),D0(r,u,g)),!1}throw Error(a(435,o.tag))}return D0(r,u,g),Ef(),!1}if(Jt)return i=Xn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=g,u!==ha&&(r=Error(a(422),{cause:u}),Jo(qi(r,o)))):(u!==ha&&(i=Error(a(423),{cause:u}),Jo(qi(i,o))),r=r.current.alternate,r.flags|=65536,g&=-g,r.lanes|=g,u=qi(u,o),g=u0(r.stateNode,u,g),Nr(r,g),xr!==4&&(xr=2)),!1;var b=Error(a(520),{cause:u});if(b=qi(b,o),sd===null?sd=[b]:sd.push(b),xr!==4&&(xr=2),i===null)return!0;u=qi(u,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,r=g&-g,o.lanes|=r,r=u0(o.stateNode,u,r),Nr(o,r),!1;case 1:if(i=o.type,b=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ol===null||!ol.has(b))))return o.flags|=65536,g&=-g,o.lanes|=g,g=A1(g),E1(g,r,o,u),Nr(o,g),!1}o=o.return}while(o!==null);return!1}var c0=Error(a(461)),zr=!1;function fi(r,i,o,u){i.child=r===null?Ht(i,null,o,u):In(i,r.child,o,u)}function T1(r,i,o,u,g){o=o.render;var b=i.ref;if("ref"in u){var C={};for(var H in u)H!=="ref"&&(C[H]=u[H])}else C=u;return Us(i),u=$c(r,i,o,C,b,g),H=Wc(),r!==null&&!zr?(Gc(r,i,g),bo(r,i,g)):(Jt&&H&&Uc(i),i.flags|=1,fi(r,i,u,g),i.child)}function k1(r,i,o,u,g){if(r===null){var b=o.type;return typeof b=="function"&&!Ru(b)&&b.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=b,N1(r,i,b,u,g)):(r=Vo(o.type,null,u,i,i.mode,g),r.ref=i.ref,r.return=i,i.child=r)}if(b=r.child,!v0(r,g)){var C=b.memoizedProps;if(o=o.compare,o=o!==null?o:ss,o(C,u)&&r.ref===i.ref)return bo(r,i,g)}return i.flags|=1,r=Ui(b,u),r.ref=i.ref,r.return=i,i.child=r}function N1(r,i,o,u,g){if(r!==null){var b=r.memoizedProps;if(ss(b,u)&&r.ref===i.ref)if(zr=!1,i.pendingProps=u=b,v0(r,g))(r.flags&131072)!==0&&(zr=!0);else return i.lanes=r.lanes,bo(r,i,g)}return d0(r,i,o,u,g)}function L1(r,i,o,u){var g=u.children,b=r!==null?r.memoizedState:null;if(r===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((i.flags&128)!==0){if(b=b!==null?b.baseLanes|o:o,r!==null){for(u=i.child=r.child,g=0;u!==null;)g=g|u.lanes|u.childLanes,u=u.sibling;u=g&~b}else u=0,i.child=null;return C1(r,i,b,o,u)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&J(i,b!==null?b.cachePool:null),b!==null?Kn(i,b):hn(),vr(i);else return u=i.lanes=536870912,C1(r,i,b!==null?b.baseLanes|o:o,o,u)}else b!==null?(J(i,b.cachePool),Kn(i,b),br(),i.memoizedState=null):(r!==null&&J(i,null),hn(),br());return fi(r,i,g,o),i.child}function Qc(r,i){return r!==null&&r.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function C1(r,i,o,u,g){var b=G();return b=b===null?null:{parent:ur._currentValue,pool:b},i.memoizedState={baseLanes:o,cachePool:b},r!==null&&J(i,null),hn(),vr(i),r!==null&&Ps(r,i,u,!0),i.childLanes=g,null}function pf(r,i){return i=mf({mode:i.mode,children:i.children},r.mode),i.ref=r.ref,r.child=i,i.return=r,i}function R1(r,i,o){return In(i,r.child,null,o),r=pf(i,i.pendingProps),r.flags|=2,Tn(i),i.memoizedState=null,r}function Fb(r,i,o){var u=i.pendingProps,g=(i.flags&128)!==0;if(i.flags&=-129,r===null){if(Jt){if(u.mode==="hidden")return r=pf(i,u),i.lanes=536870912,Qc(null,r);if(xn(i),(r=Mn)?(r=Hm(r,Qn),r=r!==null&&r.data==="&"?r:null,r!==null&&(i.memoizedState={dehydrated:r,treeContext:Bs!==null?{id:$i,overflow:Wi}:null,retryLane:536870912,hydrationErrors:null},o=ju(r),o.return=i,i.child=o,$r=i,Mn=null)):r=null,r===null)throw zs(i);return i.lanes=536870912,null}return pf(i,u)}var b=r.memoizedState;if(b!==null){var C=b.dehydrated;if(xn(i),g)if(i.flags&256)i.flags&=-257,i=R1(r,i,o);else if(i.memoizedState!==null)i.child=r.child,i.flags|=128,i=null;else throw Error(a(558));else if(zr||Ps(r,i,o,!1),g=(o&r.childLanes)!==0,zr||g){if(u=Pn,u!==null&&(C=Wn(u,o),C!==0&&C!==b.retryLane))throw b.retryLane=C,cs(r,C),Zi(u,r,C),c0;Ef(),i=R1(r,i,o)}else r=b.treeContext,Mn=Pa(C.nextSibling),$r=i,Jt=!0,ci=null,Qn=!1,r!==null&&rf(i,r),i=pf(i,u),i.flags|=4096;return i}return r=Ui(r.child,{mode:u.mode,children:u.children}),r.ref=i.ref,i.child=r,r.return=i,r}function gf(r,i){var o=i.ref;if(o===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(r===null||r.ref!==o)&&(i.flags|=4194816)}}function d0(r,i,o,u,g){return Us(i),o=$c(r,i,o,u,void 0,g),u=Wc(),r!==null&&!zr?(Gc(r,i,g),bo(r,i,g)):(Jt&&u&&Uc(i),i.flags|=1,fi(r,i,o,g),i.child)}function j1(r,i,o,u,g,b){return Us(i),i.updateQueue=null,o=fs(i,u,o,g),qu(r),u=Wc(),r!==null&&!zr?(Gc(r,i,b),bo(r,i,b)):(Jt&&u&&Uc(i),i.flags|=1,fi(r,i,o,b),i.child)}function O1(r,i,o,u,g){if(Us(i),i.stateNode===null){var b=Hr,C=o.contextType;typeof C=="object"&&C!==null&&(b=Gr(C)),b=new o(u,b),i.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=l0,i.stateNode=b,b._reactInternals=i,b=i.stateNode,b.props=u,b.state=i.memoizedState,b.refs={},rt(i),C=o.contextType,b.context=typeof C=="object"&&C!==null?Gr(C):Hr,b.state=i.memoizedState,C=o.getDerivedStateFromProps,typeof C=="function"&&(o0(i,o,C,u),b.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(C=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),C!==b.state&&l0.enqueueReplaceState(b,b.state,null),mr(i,u,b,g),On(),b.state=i.memoizedState),typeof b.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(r===null){b=i.stateNode;var H=i.memoizedProps,ge=eu(o,H);b.props=ge;var je=b.context,Ue=o.contextType;C=Hr,typeof Ue=="object"&&Ue!==null&&(C=Gr(Ue));var We=o.getDerivedStateFromProps;Ue=typeof We=="function"||typeof b.getSnapshotBeforeUpdate=="function",H=i.pendingProps!==H,Ue||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(H||je!==C)&&b1(i,b,u,C),ct=!1;var Oe=i.memoizedState;b.state=Oe,mr(i,u,b,g),On(),je=i.memoizedState,H||Oe!==je||ct?(typeof We=="function"&&(o0(i,o,We,u),je=i.memoizedState),(ge=ct||v1(i,o,ge,u,Oe,je,C))?(Ue||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(i.flags|=4194308)):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=je),b.props=u,b.state=je,b.context=C,u=ge):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{b=i.stateNode,Vn(r,i),C=i.memoizedProps,Ue=eu(o,C),b.props=Ue,We=i.pendingProps,Oe=b.context,je=o.contextType,ge=Hr,typeof je=="object"&&je!==null&&(ge=Gr(je)),H=o.getDerivedStateFromProps,(je=typeof H=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(C!==We||Oe!==ge)&&b1(i,b,u,ge),ct=!1,Oe=i.memoizedState,b.state=Oe,mr(i,u,b,g),On();var Be=i.memoizedState;C!==We||Oe!==Be||ct||r!==null&&r.dependencies!==null&&Mu(r.dependencies)?(typeof H=="function"&&(o0(i,o,H,u),Be=i.memoizedState),(Ue=ct||v1(i,o,Ue,u,Oe,Be,ge)||r!==null&&r.dependencies!==null&&Mu(r.dependencies))?(je||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(u,Be,ge),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(u,Be,ge)),typeof b.componentDidUpdate=="function"&&(i.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof b.componentDidUpdate!="function"||C===r.memoizedProps&&Oe===r.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&Oe===r.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=Be),b.props=u,b.state=Be,b.context=ge,u=Ue):(typeof b.componentDidUpdate!="function"||C===r.memoizedProps&&Oe===r.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&Oe===r.memoizedState||(i.flags|=1024),u=!1)}return b=u,gf(r,i),u=(i.flags&128)!==0,b||u?(b=i.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:b.render(),i.flags|=1,r!==null&&u?(i.child=In(i,r.child,null,g),i.child=In(i,null,o,g)):fi(r,i,o,g),i.memoizedState=b.state,r=i.child):r=bo(r,i,g),r}function D1(r,i,o,u){return po(),i.flags|=256,fi(r,i,o,u),i.child}var f0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function h0(r){return{baseLanes:r,cachePool:ne()}}function p0(r,i,o){return r=r!==null?r.childLanes&~o:0,i&&(r|=ga),r}function B1(r,i,o){var u=i.pendingProps,g=!1,b=(i.flags&128)!==0,C;if((C=b)||(C=r!==null&&r.memoizedState===null?!1:(an.current&2)!==0),C&&(g=!0,i.flags&=-129),C=(i.flags&32)!==0,i.flags&=-33,r===null){if(Jt){if(g?cr(i):br(),(r=Mn)?(r=Hm(r,Qn),r=r!==null&&r.data!=="&"?r:null,r!==null&&(i.memoizedState={dehydrated:r,treeContext:Bs!==null?{id:$i,overflow:Wi}:null,retryLane:536870912,hydrationErrors:null},o=ju(r),o.return=i,i.child=o,$r=i,Mn=null)):r=null,r===null)throw zs(i);return X0(r)?i.lanes=32:i.lanes=536870912,null}var H=u.children;return u=u.fallback,g?(br(),g=i.mode,H=mf({mode:"hidden",children:H},g),u=Ds(u,g,o,null),H.return=i,u.return=i,H.sibling=u,i.child=H,u=i.child,u.memoizedState=h0(o),u.childLanes=p0(r,C,o),i.memoizedState=f0,Qc(null,u)):(cr(i),g0(i,H))}var ge=r.memoizedState;if(ge!==null&&(H=ge.dehydrated,H!==null)){if(b)i.flags&256?(cr(i),i.flags&=-257,i=m0(r,i,o)):i.memoizedState!==null?(br(),i.child=r.child,i.flags|=128,i=null):(br(),H=u.fallback,g=i.mode,u=mf({mode:"visible",children:u.children},g),H=Ds(H,g,o,null),H.flags|=2,u.return=i,H.return=i,u.sibling=H,i.child=u,In(i,r.child,null,o),u=i.child,u.memoizedState=h0(o),u.childLanes=p0(r,C,o),i.memoizedState=f0,i=Qc(null,u));else if(cr(i),X0(H)){if(C=H.nextSibling&&H.nextSibling.dataset,C)var je=C.dgst;C=je,u=Error(a(419)),u.stack="",u.digest=C,Jo({value:u,source:null,stack:null}),i=m0(r,i,o)}else if(zr||Ps(r,i,o,!1),C=(o&r.childLanes)!==0,zr||C){if(C=Pn,C!==null&&(u=Wn(C,o),u!==0&&u!==ge.retryLane))throw ge.retryLane=u,cs(r,u),Zi(C,r,u),c0;K0(H)||Ef(),i=m0(r,i,o)}else K0(H)?(i.flags|=192,i.child=r.child,i=null):(r=ge.treeContext,Mn=Pa(H.nextSibling),$r=i,Jt=!0,ci=null,Qn=!1,r!==null&&rf(i,r),i=g0(i,u.children),i.flags|=4096);return i}return g?(br(),H=u.fallback,g=i.mode,ge=r.child,je=ge.sibling,u=Ui(ge,{mode:"hidden",children:u.children}),u.subtreeFlags=ge.subtreeFlags&65011712,je!==null?H=Ui(je,H):(H=Ds(H,g,o,null),H.flags|=2),H.return=i,u.return=i,u.sibling=H,i.child=u,Qc(null,u),u=i.child,H=r.child.memoizedState,H===null?H=h0(o):(g=H.cachePool,g!==null?(ge=ur._currentValue,g=g.parent!==ge?{parent:ge,pool:ge}:g):g=ne(),H={baseLanes:H.baseLanes|o,cachePool:g}),u.memoizedState=H,u.childLanes=p0(r,C,o),i.memoizedState=f0,Qc(r.child,u)):(cr(i),o=r.child,r=o.sibling,o=Ui(o,{mode:"visible",children:u.children}),o.return=i,o.sibling=null,r!==null&&(C=i.deletions,C===null?(i.deletions=[r],i.flags|=16):C.push(r)),i.child=o,i.memoizedState=null,o)}function g0(r,i){return i=mf({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function mf(r,i){return r=ei(22,r,null,i),r.lanes=0,r}function m0(r,i,o){return In(i,r.child,null,o),r=g0(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function z1(r,i,o){r.lanes|=i;var u=r.alternate;u!==null&&(u.lanes|=i),Zo(r.return,i,o)}function y0(r,i,o,u,g,b){var C=r.memoizedState;C===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:g,treeForkCount:b}:(C.isBackwards=i,C.rendering=null,C.renderingStartTime=0,C.last=u,C.tail=o,C.tailMode=g,C.treeForkCount=b)}function M1(r,i,o){var u=i.pendingProps,g=u.revealOrder,b=u.tail;u=u.children;var C=an.current,H=(C&2)!==0;if(H?(C=C&1|2,i.flags|=128):C&=1,P(an,C),fi(r,i,u,o),u=Jt?Kl:0,!H&&r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&z1(r,o,i);else if(r.tag===19)z1(r,o,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(g){case"forwards":for(o=i.child,g=null;o!==null;)r=o.alternate,r!==null&&ni(r)===null&&(g=o),o=o.sibling;o=g,o===null?(g=i.child,i.child=null):(g=o.sibling,o.sibling=null),y0(i,!1,g,o,b,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,g=i.child,i.child=null;g!==null;){if(r=g.alternate,r!==null&&ni(r)===null){i.child=g;break}r=g.sibling,g.sibling=o,o=g,g=r}y0(i,!0,o,null,b,u);break;case"together":y0(i,!1,null,null,void 0,u);break;default:i.memoizedState=null}return i.child}function bo(r,i,o){if(r!==null&&(i.dependencies=r.dependencies),sl|=i.lanes,(o&i.childLanes)===0)if(r!==null){if(Ps(r,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(a(153));if(i.child!==null){for(r=i.child,o=Ui(r,r.pendingProps),i.child=o,o.return=i;r.sibling!==null;)r=r.sibling,o=o.sibling=Ui(r,r.pendingProps),o.return=i;o.sibling=null}return i.child}function v0(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&Mu(r)))}function Hb(r,i,o){switch(i.tag){case 3:le(i,i.stateNode.containerInfo),Is(i,ur,r.memoizedState.cache),po();break;case 27:case 5:pe(i);break;case 4:le(i,i.stateNode.containerInfo);break;case 10:Is(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,xn(i),null;break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(cr(i),i.flags|=128,null):(o&i.child.childLanes)!==0?B1(r,i,o):(cr(i),r=bo(r,i,o),r!==null?r.sibling:null);cr(i);break;case 19:var g=(r.flags&128)!==0;if(u=(o&i.childLanes)!==0,u||(Ps(r,i,o,!1),u=(o&i.childLanes)!==0),g){if(u)return M1(r,i,o);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),P(an,an.current),u)break;return null;case 22:return i.lanes=0,L1(r,i,o,i.pendingProps);case 24:Is(i,ur,r.memoizedState.cache)}return bo(r,i,o)}function I1(r,i,o){if(r!==null)if(r.memoizedProps!==i.pendingProps)zr=!0;else{if(!v0(r,o)&&(i.flags&128)===0)return zr=!1,Hb(r,i,o);zr=(r.flags&131072)!==0}else zr=!1,Jt&&(i.flags&1048576)!==0&&nf(i,Kl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var u=i.pendingProps;if(r=Ne(i.elementType),i.type=r,typeof r=="function")Ru(r)?(u=eu(r,u),i.tag=1,i=O1(null,i,r,u,o)):(i.tag=0,i=d0(null,i,r,u,o));else{if(r!=null){var g=r.$$typeof;if(g===W){i.tag=11,i=T1(null,i,r,u,o);break e}else if(g===Z){i.tag=14,i=k1(null,i,r,u,o);break e}}throw i=oe(r)||r,Error(a(306,i,""))}}return i;case 0:return d0(r,i,i.type,i.pendingProps,o);case 1:return u=i.type,g=eu(u,i.pendingProps),O1(r,i,u,g,o);case 3:e:{if(le(i,i.stateNode.containerInfo),r===null)throw Error(a(387));u=i.pendingProps;var b=i.memoizedState;g=b.element,Vn(r,i),mr(i,u,null,o);var C=i.memoizedState;if(u=C.cache,Is(i,ur,u),u!==b.cache&&go(i,[ur],o,!0),On(),u=C.element,b.isDehydrated)if(b={element:u,isDehydrated:!1,cache:C.cache},i.updateQueue.baseState=b,i.memoizedState=b,i.flags&256){i=D1(r,i,u,o);break e}else if(u!==g){g=qi(Error(a(424)),i),Jo(g),i=D1(r,i,u,o);break e}else for(r=i.stateNode.containerInfo,r.nodeType===9?r=r.body:r=r.nodeName==="HTML"?r.ownerDocument.body:r,Mn=Pa(r.firstChild),$r=i,Jt=!0,ci=null,Qn=!0,o=Ht(i,null,u,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(po(),u===g){i=bo(r,i,o);break e}fi(r,i,u,o)}i=i.child}return i;case 26:return gf(r,i),r===null?(o=Km(i.type,null,i.pendingProps,null))?i.memoizedState=o:Jt||(o=i.type,r=i.pendingProps,u=jf(V.current).createElement(o),u[En]=i,u[Gn]=r,hi(u,o,r),ar(u),i.stateNode=u):i.memoizedState=Km(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return pe(i),r===null&&Jt&&(u=i.stateNode=Gm(i.type,i.pendingProps,V.current),$r=i,Qn=!0,g=Mn,dl(i.type)?(J0=g,Mn=Pa(u.firstChild)):Mn=g),fi(r,i,i.pendingProps.children,o),gf(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&Jt&&((g=u=Mn)&&(u=bw(u,i.type,i.pendingProps,Qn),u!==null?(i.stateNode=u,$r=i,Mn=Pa(u.firstChild),Qn=!1,g=!0):g=!1),g||zs(i)),pe(i),g=i.type,b=i.pendingProps,C=r!==null?r.memoizedProps:null,u=b.children,G0(g,b)?u=null:C!==null&&G0(g,C)&&(i.flags|=32),i.memoizedState!==null&&(g=$c(r,i,Qh,null,null,o),pd._currentValue=g),gf(r,i),fi(r,i,u,o),i.child;case 6:return r===null&&Jt&&((r=o=Mn)&&(o=ww(o,i.pendingProps,Qn),o!==null?(i.stateNode=o,$r=i,Mn=null,r=!0):r=!1),r||zs(i)),null;case 13:return B1(r,i,o);case 4:return le(i,i.stateNode.containerInfo),u=i.pendingProps,r===null?i.child=In(i,null,u,o):fi(r,i,u,o),i.child;case 11:return T1(r,i,i.type,i.pendingProps,o);case 7:return fi(r,i,i.pendingProps,o),i.child;case 8:return fi(r,i,i.pendingProps.children,o),i.child;case 12:return fi(r,i,i.pendingProps.children,o),i.child;case 10:return u=i.pendingProps,Is(i,i.type,u.value),fi(r,i,u.children,o),i.child;case 9:return g=i.type._context,u=i.pendingProps.children,Us(i),g=Gr(g),u=u(g),i.flags|=1,fi(r,i,u,o),i.child;case 14:return k1(r,i,i.type,i.pendingProps,o);case 15:return N1(r,i,i.type,i.pendingProps,o);case 19:return M1(r,i,o);case 31:return Fb(r,i,o);case 22:return L1(r,i,o,i.pendingProps);case 24:return Us(i),u=Gr(ur),r===null?(g=G(),g===null&&(g=Pn,b=Qo(),g.pooledCache=b,b.refCount++,b!==null&&(g.pooledCacheLanes|=o),g=b),i.memoizedState={parent:u,cache:g},rt(i),Is(i,ur,g)):((r.lanes&o)!==0&&(Vn(r,i),mr(i,null,null,o),On()),g=r.memoizedState,b=i.memoizedState,g.parent!==u?(g={parent:u,cache:u},i.memoizedState=g,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=g),Is(i,ur,u)):(u=b.cache,Is(i,ur,u),u!==g.cache&&go(i,[ur],o,!0))),fi(r,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function wo(r){r.flags|=4}function b0(r,i,o,u,g){if((i=(r.mode&32)!==0)&&(i=!1),i){if(r.flags|=16777216,(g&335544128)===g)if(r.stateNode.complete)r.flags|=8192;else if(dm())r.flags|=8192;else throw Ie=xe,Ce}else r.flags&=-16777217}function P1(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!e2(i))if(dm())r.flags|=8192;else throw Ie=xe,Ce}function yf(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?qn():536870912,r.lanes|=i,Zu|=i)}function ed(r,i){if(!Jt)switch(r.tailMode){case"hidden":i=r.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function Jn(r){var i=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(i)for(var g=r.child;g!==null;)o|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=r,g=g.sibling;else for(g=r.child;g!==null;)o|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=r,g=g.sibling;return r.subtreeFlags|=u,r.childLanes=o,i}function $b(r,i,o){var u=i.pendingProps;switch(Bu(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jn(i),null;case 1:return Jn(i),null;case 3:return o=i.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),Gi(ur),ye(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Wr(i)?wo(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Fc())),Jn(i),null;case 26:var g=i.type,b=i.memoizedState;return r===null?(wo(i),b!==null?(Jn(i),P1(i,b)):(Jn(i),b0(i,g,null,u,o))):b?b!==r.memoizedState?(wo(i),Jn(i),P1(i,b)):(Jn(i),i.flags&=-16777217):(r=r.memoizedProps,r!==u&&wo(i),Jn(i),b0(i,g,r,u,o)),null;case 27:if(Le(i),o=V.current,g=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==u&&wo(i);else{if(!u){if(i.stateNode===null)throw Error(a(166));return Jn(i),null}r=K.current,Wr(i)?qc(i):(r=Gm(g,u,o),i.stateNode=r,wo(i))}return Jn(i),null;case 5:if(Le(i),g=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==u&&wo(i);else{if(!u){if(i.stateNode===null)throw Error(a(166));return Jn(i),null}if(b=K.current,Wr(i))qc(i);else{var C=jf(V.current);switch(b){case 1:b=C.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:b=C.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":b=C.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":b=C.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":b=C.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof u.is=="string"?C.createElement("select",{is:u.is}):C.createElement("select"),u.multiple?b.multiple=!0:u.size&&(b.size=u.size);break;default:b=typeof u.is=="string"?C.createElement(g,{is:u.is}):C.createElement(g)}}b[En]=i,b[Gn]=u;e:for(C=i.child;C!==null;){if(C.tag===5||C.tag===6)b.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===i)break e;for(;C.sibling===null;){if(C.return===null||C.return===i)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}i.stateNode=b;e:switch(hi(b,g,u),g){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&wo(i)}}return Jn(i),b0(i,i.type,r===null?null:r.memoizedProps,i.pendingProps,o),null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==u&&wo(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(a(166));if(r=V.current,Wr(i)){if(r=i.stateNode,o=i.memoizedProps,u=null,g=$r,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}r[En]=i,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Bm(r.nodeValue,o)),r||zs(i,!0)}else r=jf(r).createTextNode(u),r[En]=i,i.stateNode=r}return Jn(i),null;case 31:if(o=i.memoizedState,r===null||r.memoizedState!==null){if(u=Wr(i),o!==null){if(r===null){if(!u)throw Error(a(318));if(r=i.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(557));r[En]=i}else po(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Jn(i),r=!1}else o=Fc(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=o),r=!0;if(!r)return i.flags&256?(Tn(i),i):(Tn(i),null);if((i.flags&128)!==0)throw Error(a(558))}return Jn(i),null;case 13:if(u=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(g=Wr(i),u!==null&&u.dehydrated!==null){if(r===null){if(!g)throw Error(a(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(a(317));g[En]=i}else po(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Jn(i),g=!1}else g=Fc(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=g),g=!0;if(!g)return i.flags&256?(Tn(i),i):(Tn(i),null)}return Tn(i),(i.flags&128)!==0?(i.lanes=o,i):(o=u!==null,r=r!==null&&r.memoizedState!==null,o&&(u=i.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool),b=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(b=u.memoizedState.cachePool.pool),b!==g&&(u.flags|=2048)),o!==r&&o&&(i.child.flags|=8192),yf(i,i.updateQueue),Jn(i),null);case 4:return ye(),r===null&&q0(i.stateNode.containerInfo),Jn(i),null;case 10:return Gi(i.type),Jn(i),null;case 19:if(k(an),u=i.memoizedState,u===null)return Jn(i),null;if(g=(i.flags&128)!==0,b=u.rendering,b===null)if(g)ed(u,!1);else{if(xr!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(b=ni(r),b!==null){for(i.flags|=128,ed(u,!1),r=b.updateQueue,i.updateQueue=r,yf(i,r),i.subtreeFlags=0,r=o,o=i.child;o!==null;)Yl(o,r),o=o.sibling;return P(an,an.current&1|2),Jt&&Oi(i,u.treeForkCount),i.child}r=r.sibling}u.tail!==null&&ot()>_f&&(i.flags|=128,g=!0,ed(u,!1),i.lanes=4194304)}else{if(!g)if(r=ni(b),r!==null){if(i.flags|=128,g=!0,r=r.updateQueue,i.updateQueue=r,yf(i,r),ed(u,!0),u.tail===null&&u.tailMode==="hidden"&&!b.alternate&&!Jt)return Jn(i),null}else 2*ot()-u.renderingStartTime>_f&&o!==536870912&&(i.flags|=128,g=!0,ed(u,!1),i.lanes=4194304);u.isBackwards?(b.sibling=i.child,i.child=b):(r=u.last,r!==null?r.sibling=b:i.child=b,u.last=b)}return u.tail!==null?(r=u.tail,u.rendering=r,u.tail=r.sibling,u.renderingStartTime=ot(),r.sibling=null,o=an.current,P(an,g?o&1|2:o&1),Jt&&Oi(i,u.treeForkCount),r):(Jn(i),null);case 22:case 23:return Tn(i),Lr(),u=i.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(o&536870912)!==0&&(i.flags&128)===0&&(Jn(i),i.subtreeFlags&6&&(i.flags|=8192)):Jn(i),o=i.updateQueue,o!==null&&yf(i,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==o&&(i.flags|=2048),r!==null&&k(F),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Gi(ur),Jn(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function Wb(r,i){switch(Bu(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Gi(ur),ye(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return Le(i),null;case 31:if(i.memoizedState!==null){if(Tn(i),i.alternate===null)throw Error(a(340));po()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 13:if(Tn(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(a(340));po()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return k(an),null;case 4:return ye(),null;case 10:return Gi(i.type),null;case 22:case 23:return Tn(i),Lr(),r!==null&&k(F),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return Gi(ur),null;case 25:return null;default:return null}}function U1(r,i){switch(Bu(i),i.tag){case 3:Gi(ur),ye();break;case 26:case 27:case 5:Le(i);break;case 4:ye();break;case 31:i.memoizedState!==null&&Tn(i);break;case 13:Tn(i);break;case 19:k(an);break;case 10:Gi(i.type);break;case 22:case 23:Tn(i),Lr(),r!==null&&k(F);break;case 24:Gi(ur)}}function td(r,i){try{var o=i.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var g=u.next;o=g;do{if((o.tag&r)===r){u=void 0;var b=o.create,C=o.inst;u=b(),C.destroy=u}o=o.next}while(o!==g)}}catch(H){Nn(i,i.return,H)}}function il(r,i,o){try{var u=i.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var b=g.next;u=b;do{if((u.tag&r)===r){var C=u.inst,H=C.destroy;if(H!==void 0){C.destroy=void 0,g=i;var ge=o,je=H;try{je()}catch(Ue){Nn(g,ge,Ue)}}}u=u.next}while(u!==b)}}catch(Ue){Nn(i,i.return,Ue)}}function q1(r){var i=r.updateQueue;if(i!==null){var o=r.stateNode;try{yr(i,o)}catch(u){Nn(r,r.return,u)}}}function F1(r,i,o){o.props=eu(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){Nn(r,i,u)}}function nd(r,i){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof o=="function"?r.refCleanup=o(u):o.current=u}}catch(g){Nn(r,i,g)}}function Ws(r,i){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(g){Nn(r,i,g)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(g){Nn(r,i,g)}else o.current=null}function H1(r){var i=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(g){Nn(r,r.return,g)}}function w0(r,i,o){try{var u=r.stateNode;hw(u,r.type,o,i),u[Gn]=i}catch(g){Nn(r,r.return,g)}}function $1(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&dl(r.type)||r.tag===4}function x0(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||$1(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&dl(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function _0(r,i,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(r),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=oa));else if(u!==4&&(u===27&&dl(r.type)&&(o=r.stateNode,i=null),r=r.child,r!==null))for(_0(r,i,o),r=r.sibling;r!==null;)_0(r,i,o),r=r.sibling}function vf(r,i,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?o.insertBefore(r,i):o.appendChild(r);else if(u!==4&&(u===27&&dl(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(vf(r,i,o),r=r.sibling;r!==null;)vf(r,i,o),r=r.sibling}function W1(r){var i=r.stateNode,o=r.memoizedProps;try{for(var u=r.type,g=i.attributes;g.length;)i.removeAttributeNode(g[0]);hi(i,u,o),i[En]=r,i[Gn]=o}catch(b){Nn(r,r.return,b)}}var xo=!1,Mr=!1,S0=!1,G1=typeof WeakSet=="function"?WeakSet:Set,ri=null;function Gb(r,i){if(r=r.containerInfo,$0=Pf,r=ls(r),Da(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var g=u.anchorOffset,b=u.focusNode;u=u.focusOffset;try{o.nodeType,b.nodeType}catch{o=null;break e}var C=0,H=-1,ge=-1,je=0,Ue=0,We=r,Oe=null;t:for(;;){for(var Be;We!==o||g!==0&&We.nodeType!==3||(H=C+g),We!==b||u!==0&&We.nodeType!==3||(ge=C+u),We.nodeType===3&&(C+=We.nodeValue.length),(Be=We.firstChild)!==null;)Oe=We,We=Be;for(;;){if(We===r)break t;if(Oe===o&&++je===g&&(H=C),Oe===b&&++Ue===u&&(ge=C),(Be=We.nextSibling)!==null)break;We=Oe,Oe=We.parentNode}We=Be}o=H===-1||ge===-1?null:{start:H,end:ge}}else o=null}o=o||{start:0,end:0}}else o=null;for(W0={focusedElem:r,selectionRange:o},Pf=!1,ri=i;ri!==null;)if(i=ri,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,ri=r;else for(;ri!==null;){switch(i=ri,b=i.alternate,r=i.flags,i.tag){case 0:if((r&4)!==0&&(r=i.updateQueue,r=r!==null?r.events:null,r!==null))for(o=0;o<r.length;o++)g=r[o],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&b!==null){r=void 0,o=i,g=b.memoizedProps,b=b.memoizedState,u=o.stateNode;try{var ht=eu(o.type,g);r=u.getSnapshotBeforeUpdate(ht,b),u.__reactInternalSnapshotBeforeUpdate=r}catch(Dt){Nn(o,o.return,Dt)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,o=r.nodeType,o===9)V0(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":V0(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(a(163))}if(r=i.sibling,r!==null){r.return=i.return,ri=r;break}ri=i.return}}function Y1(r,i,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:So(r,o),u&4&&td(5,o);break;case 1:if(So(r,o),u&4)if(r=o.stateNode,i===null)try{r.componentDidMount()}catch(C){Nn(o,o.return,C)}else{var g=eu(o.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(g,i,r.__reactInternalSnapshotBeforeUpdate)}catch(C){Nn(o,o.return,C)}}u&64&&q1(o),u&512&&nd(o,o.return);break;case 3:if(So(r,o),u&64&&(r=o.updateQueue,r!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{yr(r,i)}catch(C){Nn(o,o.return,C)}}break;case 27:i===null&&u&4&&W1(o);case 26:case 5:So(r,o),i===null&&u&4&&H1(o),u&512&&nd(o,o.return);break;case 12:So(r,o);break;case 31:So(r,o),u&4&&X1(r,o);break;case 13:So(r,o),u&4&&J1(r,o),u&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=tw.bind(null,o),xw(r,o))));break;case 22:if(u=o.memoizedState!==null||xo,!u){i=i!==null&&i.memoizedState!==null||Mr,g=xo;var b=Mr;xo=u,(Mr=i)&&!b?Ao(r,o,(o.subtreeFlags&8772)!==0):So(r,o),xo=g,Mr=b}break;case 30:break;default:So(r,o)}}function V1(r){var i=r.alternate;i!==null&&(r.alternate=null,V1(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&Ns(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var nr=null,Vi=!1;function _o(r,i,o){for(o=o.child;o!==null;)K1(r,i,o),o=o.sibling}function K1(r,i,o){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(xt,o)}catch{}switch(o.tag){case 26:Mr||Ws(o,i),_o(r,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Mr||Ws(o,i);var u=nr,g=Vi;dl(o.type)&&(nr=o.stateNode,Vi=!1),_o(r,i,o),dd(o.stateNode),nr=u,Vi=g;break;case 5:Mr||Ws(o,i);case 6:if(u=nr,g=Vi,nr=null,_o(r,i,o),nr=u,Vi=g,nr!==null)if(Vi)try{(nr.nodeType===9?nr.body:nr.nodeName==="HTML"?nr.ownerDocument.body:nr).removeChild(o.stateNode)}catch(b){Nn(o,i,b)}else try{nr.removeChild(o.stateNode)}catch(b){Nn(o,i,b)}break;case 18:nr!==null&&(Vi?(r=nr,qm(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),sc(r)):qm(nr,o.stateNode));break;case 4:u=nr,g=Vi,nr=o.stateNode.containerInfo,Vi=!0,_o(r,i,o),nr=u,Vi=g;break;case 0:case 11:case 14:case 15:il(2,o,i),Mr||il(4,o,i),_o(r,i,o);break;case 1:Mr||(Ws(o,i),u=o.stateNode,typeof u.componentWillUnmount=="function"&&F1(o,i,u)),_o(r,i,o);break;case 21:_o(r,i,o);break;case 22:Mr=(u=Mr)||o.memoizedState!==null,_o(r,i,o),Mr=u;break;default:_o(r,i,o)}}function X1(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{sc(r)}catch(o){Nn(i,i.return,o)}}}function J1(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{sc(r)}catch(o){Nn(i,i.return,o)}}function Yb(r){switch(r.tag){case 31:case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new G1),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new G1),i;default:throw Error(a(435,r.tag))}}function bf(r,i){var o=Yb(r);i.forEach(function(u){if(!o.has(u)){o.add(u);var g=nw.bind(null,r,u);u.then(g,g)}})}function Ki(r,i){var o=i.deletions;if(o!==null)for(var u=0;u<o.length;u++){var g=o[u],b=r,C=i,H=C;e:for(;H!==null;){switch(H.tag){case 27:if(dl(H.type)){nr=H.stateNode,Vi=!1;break e}break;case 5:nr=H.stateNode,Vi=!1;break e;case 3:case 4:nr=H.stateNode.containerInfo,Vi=!0;break e}H=H.return}if(nr===null)throw Error(a(160));K1(b,C,g),nr=null,Vi=!1,b=g.alternate,b!==null&&(b.return=null),g.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Z1(i,r),i=i.sibling}var ms=null;function Z1(r,i){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Ki(i,r),Xi(r),u&4&&(il(3,r,r.return),td(3,r),il(5,r,r.return));break;case 1:Ki(i,r),Xi(r),u&512&&(Mr||o===null||Ws(o,o.return)),u&64&&xo&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var g=ms;if(Ki(i,r),Xi(r),u&512&&(Mr||o===null||Ws(o,o.return)),u&4){var b=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,g=g.ownerDocument||g;t:switch(u){case"title":b=g.getElementsByTagName("title")[0],(!b||b[ta]||b[En]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=g.createElement(u),g.head.insertBefore(b,g.querySelector("head > title"))),hi(b,u,o),b[En]=r,ar(b),u=b;break e;case"link":var C=Zm("link","href",g).get(u+(o.href||""));if(C){for(var H=0;H<C.length;H++)if(b=C[H],b.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&b.getAttribute("rel")===(o.rel==null?null:o.rel)&&b.getAttribute("title")===(o.title==null?null:o.title)&&b.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){C.splice(H,1);break t}}b=g.createElement(u),hi(b,u,o),g.head.appendChild(b);break;case"meta":if(C=Zm("meta","content",g).get(u+(o.content||""))){for(H=0;H<C.length;H++)if(b=C[H],b.getAttribute("content")===(o.content==null?null:""+o.content)&&b.getAttribute("name")===(o.name==null?null:o.name)&&b.getAttribute("property")===(o.property==null?null:o.property)&&b.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&b.getAttribute("charset")===(o.charSet==null?null:o.charSet)){C.splice(H,1);break t}}b=g.createElement(u),hi(b,u,o),g.head.appendChild(b);break;default:throw Error(a(468,u))}b[En]=r,ar(b),u=b}r.stateNode=u}else Qm(g,r.type,r.stateNode);else r.stateNode=Jm(g,u,r.memoizedProps);else b!==u?(b===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):b.count--,u===null?Qm(g,r.type,r.stateNode):Jm(g,u,r.memoizedProps)):u===null&&r.stateNode!==null&&w0(r,r.memoizedProps,o.memoizedProps)}break;case 27:Ki(i,r),Xi(r),u&512&&(Mr||o===null||Ws(o,o.return)),o!==null&&u&4&&w0(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Ki(i,r),Xi(r),u&512&&(Mr||o===null||Ws(o,o.return)),r.flags&32){g=r.stateNode;try{sa(g,"")}catch(ht){Nn(r,r.return,ht)}}u&4&&r.stateNode!=null&&(g=r.memoizedProps,w0(r,g,o!==null?o.memoizedProps:g)),u&1024&&(S0=!0);break;case 6:if(Ki(i,r),Xi(r),u&4){if(r.stateNode===null)throw Error(a(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(ht){Nn(r,r.return,ht)}}break;case 3:if(Bf=null,g=ms,ms=Of(i.containerInfo),Ki(i,r),ms=g,Xi(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{sc(i.containerInfo)}catch(ht){Nn(r,r.return,ht)}S0&&(S0=!1,Q1(r));break;case 4:u=ms,ms=Of(r.stateNode.containerInfo),Ki(i,r),Xi(r),ms=u;break;case 12:Ki(i,r),Xi(r);break;case 31:Ki(i,r),Xi(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,bf(r,u)));break;case 13:Ki(i,r),Xi(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(xf=ot()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,bf(r,u)));break;case 22:g=r.memoizedState!==null;var ge=o!==null&&o.memoizedState!==null,je=xo,Ue=Mr;if(xo=je||g,Mr=Ue||ge,Ki(i,r),Mr=Ue,xo=je,Xi(r),u&8192)e:for(i=r.stateNode,i._visibility=g?i._visibility&-2:i._visibility|1,g&&(o===null||ge||xo||Mr||tu(r)),o=null,i=r;;){if(i.tag===5||i.tag===26){if(o===null){ge=o=i;try{if(b=ge.stateNode,g)C=b.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{H=ge.stateNode;var We=ge.memoizedProps.style,Oe=We!=null&&We.hasOwnProperty("display")?We.display:null;H.style.display=Oe==null||typeof Oe=="boolean"?"":(""+Oe).trim()}}catch(ht){Nn(ge,ge.return,ht)}}}else if(i.tag===6){if(o===null){ge=i;try{ge.stateNode.nodeValue=g?"":ge.memoizedProps}catch(ht){Nn(ge,ge.return,ht)}}}else if(i.tag===18){if(o===null){ge=i;try{var Be=ge.stateNode;g?Fm(Be,!0):Fm(ge.stateNode,!1)}catch(ht){Nn(ge,ge.return,ht)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,bf(r,o))));break;case 19:Ki(i,r),Xi(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,bf(r,u)));break;case 30:break;case 21:break;default:Ki(i,r),Xi(r)}}function Xi(r){var i=r.flags;if(i&2){try{for(var o,u=r.return;u!==null;){if($1(u)){o=u;break}u=u.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var g=o.stateNode,b=x0(r);vf(r,b,g);break;case 5:var C=o.stateNode;o.flags&32&&(sa(C,""),o.flags&=-33);var H=x0(r);vf(r,H,C);break;case 3:case 4:var ge=o.stateNode.containerInfo,je=x0(r);_0(r,je,ge);break;default:throw Error(a(161))}}catch(Ue){Nn(r,r.return,Ue)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function Q1(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;Q1(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function So(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Y1(r,i.alternate,i),i=i.sibling}function tu(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:il(4,i,i.return),tu(i);break;case 1:Ws(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&F1(i,i.return,o),tu(i);break;case 27:dd(i.stateNode);case 26:case 5:Ws(i,i.return),tu(i);break;case 22:i.memoizedState===null&&tu(i);break;case 30:tu(i);break;default:tu(i)}r=r.sibling}}function Ao(r,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,g=r,b=i,C=b.flags;switch(b.tag){case 0:case 11:case 15:Ao(g,b,o),td(4,b);break;case 1:if(Ao(g,b,o),u=b,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(je){Nn(u,u.return,je)}if(u=b,g=u.updateQueue,g!==null){var H=u.stateNode;try{var ge=g.shared.hiddenCallbacks;if(ge!==null)for(g.shared.hiddenCallbacks=null,g=0;g<ge.length;g++)ti(ge[g],H)}catch(je){Nn(u,u.return,je)}}o&&C&64&&q1(b),nd(b,b.return);break;case 27:W1(b);case 26:case 5:Ao(g,b,o),o&&u===null&&C&4&&H1(b),nd(b,b.return);break;case 12:Ao(g,b,o);break;case 31:Ao(g,b,o),o&&C&4&&X1(g,b);break;case 13:Ao(g,b,o),o&&C&4&&J1(g,b);break;case 22:b.memoizedState===null&&Ao(g,b,o),nd(b,b.return);break;case 30:break;default:Ao(g,b,o)}i=i.sibling}}function A0(r,i){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Xl(o))}function E0(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Xl(r))}function ys(r,i,o,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)em(r,i,o,u),i=i.sibling}function em(r,i,o,u){var g=i.flags;switch(i.tag){case 0:case 11:case 15:ys(r,i,o,u),g&2048&&td(9,i);break;case 1:ys(r,i,o,u);break;case 3:ys(r,i,o,u),g&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Xl(r)));break;case 12:if(g&2048){ys(r,i,o,u),r=i.stateNode;try{var b=i.memoizedProps,C=b.id,H=b.onPostCommit;typeof H=="function"&&H(C,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(ge){Nn(i,i.return,ge)}}else ys(r,i,o,u);break;case 31:ys(r,i,o,u);break;case 13:ys(r,i,o,u);break;case 23:break;case 22:b=i.stateNode,C=i.alternate,i.memoizedState!==null?b._visibility&2?ys(r,i,o,u):rd(r,i):b._visibility&2?ys(r,i,o,u):(b._visibility|=2,Ku(r,i,o,u,(i.subtreeFlags&10256)!==0||!1)),g&2048&&A0(C,i);break;case 24:ys(r,i,o,u),g&2048&&E0(i.alternate,i);break;default:ys(r,i,o,u)}}function Ku(r,i,o,u,g){for(g=g&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var b=r,C=i,H=o,ge=u,je=C.flags;switch(C.tag){case 0:case 11:case 15:Ku(b,C,H,ge,g),td(8,C);break;case 23:break;case 22:var Ue=C.stateNode;C.memoizedState!==null?Ue._visibility&2?Ku(b,C,H,ge,g):rd(b,C):(Ue._visibility|=2,Ku(b,C,H,ge,g)),g&&je&2048&&A0(C.alternate,C);break;case 24:Ku(b,C,H,ge,g),g&&je&2048&&E0(C.alternate,C);break;default:Ku(b,C,H,ge,g)}i=i.sibling}}function rd(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=r,u=i,g=u.flags;switch(u.tag){case 22:rd(o,u),g&2048&&A0(u.alternate,u);break;case 24:rd(o,u),g&2048&&E0(u.alternate,u);break;default:rd(o,u)}i=i.sibling}}var id=8192;function Xu(r,i,o){if(r.subtreeFlags&id)for(r=r.child;r!==null;)tm(r,i,o),r=r.sibling}function tm(r,i,o){switch(r.tag){case 26:Xu(r,i,o),r.flags&id&&r.memoizedState!==null&&Ow(o,ms,r.memoizedState,r.memoizedProps);break;case 5:Xu(r,i,o);break;case 3:case 4:var u=ms;ms=Of(r.stateNode.containerInfo),Xu(r,i,o),ms=u;break;case 22:r.memoizedState===null&&(u=r.alternate,u!==null&&u.memoizedState!==null?(u=id,id=16777216,Xu(r,i,o),id=u):Xu(r,i,o));break;default:Xu(r,i,o)}}function nm(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function ad(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];ri=u,im(u,r)}nm(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)rm(r),r=r.sibling}function rm(r){switch(r.tag){case 0:case 11:case 15:ad(r),r.flags&2048&&il(9,r,r.return);break;case 3:ad(r);break;case 12:ad(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,wf(r)):ad(r);break;default:ad(r)}}function wf(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];ri=u,im(u,r)}nm(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:il(8,i,i.return),wf(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,wf(i));break;default:wf(i)}r=r.sibling}}function im(r,i){for(;ri!==null;){var o=ri;switch(o.tag){case 0:case 11:case 15:il(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Xl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,ri=u;else e:for(o=r;ri!==null;){u=ri;var g=u.sibling,b=u.return;if(V1(u),u===o){ri=null;break e}if(g!==null){g.return=b,ri=g;break e}ri=b}}}var Vb={getCacheForType:function(r){var i=Gr(ur),o=i.data.get(r);return o===void 0&&(o=r(),i.data.set(r,o)),o},cacheSignal:function(){return Gr(ur).controller.signal}},Kb=typeof WeakMap=="function"?WeakMap:Map,_n=0,Pn=null,Zt=null,en=0,kn=0,pa=null,al=!1,Ju=!1,T0=!1,Eo=0,xr=0,sl=0,nu=0,k0=0,ga=0,Zu=0,sd=null,Ji=null,N0=!1,xf=0,am=0,_f=1/0,Sf=null,ol=null,Vr=0,ll=null,Qu=null,To=0,L0=0,C0=null,sm=null,od=0,R0=null;function ma(){return(_n&2)!==0&&en!==0?en&-en:X.T!==null?M0():An()}function om(){if(ga===0)if((en&536870912)===0||Jt){var r=vn;vn<<=1,(vn&3932160)===0&&(vn=262144),ga=r}else ga=536870912;return r=Xn.current,r!==null&&(r.flags|=32),ga}function Zi(r,i,o){(r===Pn&&(kn===2||kn===9)||r.cancelPendingCommit!==null)&&(ec(r,0),ul(r,en,ga,!1)),yt(r,o),((_n&2)===0||r!==Pn)&&(r===Pn&&((_n&2)===0&&(nu|=o),xr===4&&ul(r,en,ga,!1)),Gs(r))}function lm(r,i,o){if((_n&6)!==0)throw Error(a(327));var u=!o&&(i&127)===0&&(i&r.expiredLanes)===0||hr(r,i),g=u?Zb(r,i):O0(r,i,!0),b=u;do{if(g===0){Ju&&!u&&ul(r,i,0,!1);break}else{if(o=r.current.alternate,b&&!Xb(o)){g=O0(r,i,!1),b=!1;continue}if(g===2){if(b=i,r.errorRecoveryDisabledLanes&b)var C=0;else C=r.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){i=C;e:{var H=r;g=sd;var ge=H.current.memoizedState.isDehydrated;if(ge&&(ec(H,C).flags|=256),C=O0(H,C,!1),C!==2){if(T0&&!ge){H.errorRecoveryDisabledLanes|=b,nu|=b,g=4;break e}b=Ji,Ji=g,b!==null&&(Ji===null?Ji=b:Ji.push.apply(Ji,b))}g=C}if(b=!1,g!==2)continue}}if(g===1){ec(r,0),ul(r,i,0,!0);break}e:{switch(u=r,b=g,b){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:ul(u,i,ga,!al);break e;case 2:Ji=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(g=xf+300-ot(),10<g)){if(ul(u,i,ga,!al),Pt(u,0,!0)!==0)break e;To=i,u.timeoutHandle=Pm(um.bind(null,u,o,Ji,Sf,N0,i,ga,nu,Zu,al,b,"Throttled",-0,0),g);break e}um(u,o,Ji,Sf,N0,i,ga,nu,Zu,al,b,null,-0,0)}}break}while(!0);Gs(r)}function um(r,i,o,u,g,b,C,H,ge,je,Ue,We,Oe,Be){if(r.timeoutHandle=-1,We=i.subtreeFlags,We&8192||(We&16785408)===16785408){We={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:oa},tm(i,b,We);var ht=(b&62914560)===b?xf-ot():(b&4194048)===b?am-ot():0;if(ht=Dw(We,ht),ht!==null){To=b,r.cancelPendingCommit=ht(ym.bind(null,r,i,b,o,u,g,C,H,ge,Ue,We,null,Oe,Be)),ul(r,b,C,!je);return}}ym(r,i,b,o,u,g,C,H,ge)}function Xb(r){for(var i=r;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var g=o[u],b=g.getSnapshot;g=g.value;try{if(!Fr(b(),g))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ul(r,i,o,u){i&=~k0,i&=~nu,r.suspendedLanes|=i,r.pingedLanes&=~i,u&&(r.warmLanes|=i),u=r.expirationTimes;for(var g=i;0<g;){var b=31-Yt(g),C=1<<b;u[b]=-1,g&=~C}o!==0&&Ar(r,o,i)}function Af(){return(_n&6)===0?(ld(0),!1):!0}function j0(){if(Zt!==null){if(kn===0)var r=Zt.return;else r=Zt,za=Ms=null,Fu(r),Ge=null,gt=0,r=Zt;for(;r!==null;)U1(r.alternate,r),r=r.return;Zt=null}}function ec(r,i){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,mw(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),To=0,j0(),Pn=r,Zt=o=Ui(r.current,null),en=i,kn=0,pa=null,al=!1,Ju=hr(r,i),T0=!1,Zu=ga=k0=nu=sl=xr=0,Ji=sd=null,N0=!1,(i&8)!==0&&(i|=i&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=i;0<u;){var g=31-Yt(u),b=1<<g;i|=r[g],u&=~b}return Eo=i,$l(),o}function cm(r,i){Tt=null,X.H=Zc,i===be||i===te?(i=Fe(),kn=3):i===Ce?(i=Fe(),kn=4):kn=i===c0?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,pa=i,Zt===null&&(xr=1,hf(r,qi(i,r.current)))}function dm(){var r=Xn.current;return r===null?!0:(en&4194048)===en?ln===null:(en&62914560)===en||(en&536870912)!==0?r===ln:!1}function fm(){var r=X.H;return X.H=Zc,r===null?Zc:r}function hm(){var r=X.A;return X.A=Vb,r}function Ef(){xr=4,al||(en&4194048)!==en&&Xn.current!==null||(Ju=!0),(sl&134217727)===0&&(nu&134217727)===0||Pn===null||ul(Pn,en,ga,!1)}function O0(r,i,o){var u=_n;_n|=2;var g=fm(),b=hm();(Pn!==r||en!==i)&&(Sf=null,ec(r,i)),i=!1;var C=xr;e:do try{if(kn!==0&&Zt!==null){var H=Zt,ge=pa;switch(kn){case 8:j0(),C=6;break e;case 3:case 2:case 9:case 6:Xn.current===null&&(i=!0);var je=kn;if(kn=0,pa=null,tc(r,H,ge,je),o&&Ju){C=0;break e}break;default:je=kn,kn=0,pa=null,tc(r,H,ge,je)}}Jb(),C=xr;break}catch(Ue){cm(r,Ue)}while(!0);return i&&r.shellSuspendCounter++,za=Ms=null,_n=u,X.H=g,X.A=b,Zt===null&&(Pn=null,en=0,$l()),C}function Jb(){for(;Zt!==null;)pm(Zt)}function Zb(r,i){var o=_n;_n|=2;var u=fm(),g=hm();Pn!==r||en!==i?(Sf=null,_f=ot()+500,ec(r,i)):Ju=hr(r,i);e:do try{if(kn!==0&&Zt!==null){i=Zt;var b=pa;t:switch(kn){case 1:kn=0,pa=null,tc(r,i,b,1);break;case 2:case 9:if(Te(b)){kn=0,pa=null,gm(i);break}i=function(){kn!==2&&kn!==9||Pn!==r||(kn=7),Gs(r)},b.then(i,i);break e;case 3:kn=7;break e;case 4:kn=5;break e;case 7:Te(b)?(kn=0,pa=null,gm(i)):(kn=0,pa=null,tc(r,i,b,7));break;case 5:var C=null;switch(Zt.tag){case 26:C=Zt.memoizedState;case 5:case 27:var H=Zt;if(C?e2(C):H.stateNode.complete){kn=0,pa=null;var ge=H.sibling;if(ge!==null)Zt=ge;else{var je=H.return;je!==null?(Zt=je,Tf(je)):Zt=null}break t}}kn=0,pa=null,tc(r,i,b,5);break;case 6:kn=0,pa=null,tc(r,i,b,6);break;case 8:j0(),xr=6;break e;default:throw Error(a(462))}}Qb();break}catch(Ue){cm(r,Ue)}while(!0);return za=Ms=null,X.H=u,X.A=g,_n=o,Zt!==null?0:(Pn=null,en=0,$l(),xr)}function Qb(){for(;Zt!==null&&!Ye();)pm(Zt)}function pm(r){var i=I1(r.alternate,r,Eo);r.memoizedProps=r.pendingProps,i===null?Tf(r):Zt=i}function gm(r){var i=r,o=i.alternate;switch(i.tag){case 15:case 0:i=j1(o,i,i.pendingProps,i.type,void 0,en);break;case 11:i=j1(o,i,i.pendingProps,i.type.render,i.ref,en);break;case 5:Fu(i);default:U1(o,i),i=Zt=Yl(i,Eo),i=I1(o,i,Eo)}r.memoizedProps=r.pendingProps,i===null?Tf(r):Zt=i}function tc(r,i,o,u){za=Ms=null,Fu(i),Ge=null,gt=0;var g=i.return;try{if(qb(r,g,i,o,en)){xr=1,hf(r,qi(o,r.current)),Zt=null;return}}catch(b){if(g!==null)throw Zt=g,b;xr=1,hf(r,qi(o,r.current)),Zt=null;return}i.flags&32768?(Jt||u===1?r=!0:Ju||(en&536870912)!==0?r=!1:(al=r=!0,(u===2||u===9||u===3||u===6)&&(u=Xn.current,u!==null&&u.tag===13&&(u.flags|=16384))),mm(i,r)):Tf(i)}function Tf(r){var i=r;do{if((i.flags&32768)!==0){mm(i,al);return}r=i.return;var o=$b(i.alternate,i,Eo);if(o!==null){Zt=o;return}if(i=i.sibling,i!==null){Zt=i;return}Zt=i=r}while(i!==null);xr===0&&(xr=5)}function mm(r,i){do{var o=Wb(r.alternate,r);if(o!==null){o.flags&=32767,Zt=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(r=r.sibling,r!==null)){Zt=r;return}Zt=r=o}while(r!==null);xr=6,Zt=null}function ym(r,i,o,u,g,b,C,H,ge){r.cancelPendingCommit=null;do kf();while(Vr!==0);if((_n&6)!==0)throw Error(a(327));if(i!==null){if(i===r.current)throw Error(a(177));if(b=i.lanes|i.childLanes,b|=Nu,Sn(r,o,b,C,H,ge),r===Pn&&(Zt=Pn=null,en=0),Qu=i,ll=r,To=o,L0=b,C0=g,sm=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,rw(pt,function(){return _m(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=X.T,X.T=null,g=de.p,de.p=2,C=_n,_n|=4;try{Gb(r,i,o)}finally{_n=C,de.p=g,X.T=u}}Vr=1,vm(),bm(),wm()}}function vm(){if(Vr===1){Vr=0;var r=ll,i=Qu,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=X.T,X.T=null;var u=de.p;de.p=2;var g=_n;_n|=4;try{Z1(i,r);var b=W0,C=ls(r.containerInfo),H=b.focusedElem,ge=b.selectionRange;if(C!==H&&H&&H.ownerDocument&&os(H.ownerDocument.documentElement,H)){if(ge!==null&&Da(H)){var je=ge.start,Ue=ge.end;if(Ue===void 0&&(Ue=je),"selectionStart"in H)H.selectionStart=je,H.selectionEnd=Math.min(Ue,H.value.length);else{var We=H.ownerDocument||document,Oe=We&&We.defaultView||window;if(Oe.getSelection){var Be=Oe.getSelection(),ht=H.textContent.length,Dt=Math.min(ge.start,ht),zn=ge.end===void 0?Dt:Math.min(ge.end,ht);!Be.extend&&Dt>zn&&(C=zn,zn=Dt,Dt=C);var Ae=Yo(H,Dt),we=Yo(H,zn);if(Ae&&we&&(Be.rangeCount!==1||Be.anchorNode!==Ae.node||Be.anchorOffset!==Ae.offset||Be.focusNode!==we.node||Be.focusOffset!==we.offset)){var Re=We.createRange();Re.setStart(Ae.node,Ae.offset),Be.removeAllRanges(),Dt>zn?(Be.addRange(Re),Be.extend(we.node,we.offset)):(Re.setEnd(we.node,we.offset),Be.addRange(Re))}}}}for(We=[],Be=H;Be=Be.parentNode;)Be.nodeType===1&&We.push({element:Be,left:Be.scrollLeft,top:Be.scrollTop});for(typeof H.focus=="function"&&H.focus(),H=0;H<We.length;H++){var He=We[H];He.element.scrollLeft=He.left,He.element.scrollTop=He.top}}Pf=!!$0,W0=$0=null}finally{_n=g,de.p=u,X.T=o}}r.current=i,Vr=2}}function bm(){if(Vr===2){Vr=0;var r=ll,i=Qu,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=X.T,X.T=null;var u=de.p;de.p=2;var g=_n;_n|=4;try{Y1(r,i.alternate,i)}finally{_n=g,de.p=u,X.T=o}}Vr=3}}function wm(){if(Vr===4||Vr===3){Vr=0,at();var r=ll,i=Qu,o=To,u=sm;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Vr=5:(Vr=0,Qu=ll=null,xm(r,r.pendingLanes));var g=r.pendingLanes;if(g===0&&(ol=null),Cn(o),i=i.stateNode,kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(xt,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=X.T,g=de.p,de.p=2,X.T=null;try{for(var b=r.onRecoverableError,C=0;C<u.length;C++){var H=u[C];b(H.value,{componentStack:H.stack})}}finally{X.T=i,de.p=g}}(To&3)!==0&&kf(),Gs(r),g=r.pendingLanes,(o&261930)!==0&&(g&42)!==0?r===R0?od++:(od=0,R0=r):od=0,ld(0)}}function xm(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,Xl(i)))}function kf(){return vm(),bm(),wm(),_m()}function _m(){if(Vr!==5)return!1;var r=ll,i=L0;L0=0;var o=Cn(To),u=X.T,g=de.p;try{de.p=32>o?32:o,X.T=null,o=C0,C0=null;var b=ll,C=To;if(Vr=0,Qu=ll=null,To=0,(_n&6)!==0)throw Error(a(331));var H=_n;if(_n|=4,rm(b.current),em(b,b.current,C,o),_n=H,ld(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(xt,b)}catch{}return!0}finally{de.p=g,X.T=u,xm(r,i)}}function Sm(r,i,o){i=qi(o,i),i=u0(r.stateNode,i,2),r=Gt(r,i,2),r!==null&&(yt(r,2),Gs(r))}function Nn(r,i,o){if(r.tag===3)Sm(r,r,o);else for(;i!==null;){if(i.tag===3){Sm(i,r,o);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ol===null||!ol.has(u))){r=qi(o,r),o=A1(2),u=Gt(i,o,2),u!==null&&(E1(o,u,i,r),yt(u,2),Gs(u));break}}i=i.return}}function D0(r,i,o){var u=r.pingCache;if(u===null){u=r.pingCache=new Kb;var g=new Set;u.set(i,g)}else g=u.get(i),g===void 0&&(g=new Set,u.set(i,g));g.has(o)||(T0=!0,g.add(o),r=ew.bind(null,r,i,o),i.then(r,r))}function ew(r,i,o){var u=r.pingCache;u!==null&&u.delete(i),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,Pn===r&&(en&o)===o&&(xr===4||xr===3&&(en&62914560)===en&&300>ot()-xf?(_n&2)===0&&ec(r,0):k0|=o,Zu===en&&(Zu=0)),Gs(r)}function Am(r,i){i===0&&(i=qn()),r=cs(r,i),r!==null&&(yt(r,i),Gs(r))}function tw(r){var i=r.memoizedState,o=0;i!==null&&(o=i.retryLane),Am(r,o)}function nw(r,i){var o=0;switch(r.tag){case 31:case 13:var u=r.stateNode,g=r.memoizedState;g!==null&&(o=g.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(a(314))}u!==null&&u.delete(i),Am(r,o)}function rw(r,i){return Ke(r,i)}var Nf=null,nc=null,B0=!1,Lf=!1,z0=!1,cl=0;function Gs(r){r!==nc&&r.next===null&&(nc===null?Nf=nc=r:nc=nc.next=r),Lf=!0,B0||(B0=!0,aw())}function ld(r,i){if(!z0&&Lf){z0=!0;do for(var o=!1,u=Nf;u!==null;){if(r!==0){var g=u.pendingLanes;if(g===0)var b=0;else{var C=u.suspendedLanes,H=u.pingedLanes;b=(1<<31-Yt(42|r)+1)-1,b&=g&~(C&~H),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(o=!0,Nm(u,b))}else b=en,b=Pt(u,u===Pn?b:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(b&3)===0||hr(u,b)||(o=!0,Nm(u,b));u=u.next}while(o);z0=!1}}function iw(){Em()}function Em(){Lf=B0=!1;var r=0;cl!==0&&gw()&&(r=cl);for(var i=ot(),o=null,u=Nf;u!==null;){var g=u.next,b=Tm(u,i);b===0?(u.next=null,o===null?Nf=g:o.next=g,g===null&&(nc=o)):(o=u,(r!==0||(b&3)!==0)&&(Lf=!0)),u=g}Vr!==0&&Vr!==5||ld(r),cl!==0&&(cl=0)}function Tm(r,i){for(var o=r.suspendedLanes,u=r.pingedLanes,g=r.expirationTimes,b=r.pendingLanes&-62914561;0<b;){var C=31-Yt(b),H=1<<C,ge=g[C];ge===-1?((H&o)===0||(H&u)!==0)&&(g[C]=bn(H,i)):ge<=i&&(r.expiredLanes|=H),b&=~H}if(i=Pn,o=en,o=Pt(r,r===i?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,o===0||r===i&&(kn===2||kn===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&$e(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||hr(r,o)){if(i=o&-o,i===r.callbackPriority)return i;switch(u!==null&&$e(u),Cn(o)){case 2:case 8:o=tt;break;case 32:o=pt;break;case 268435456:o=At;break;default:o=pt}return u=km.bind(null,r),o=Ke(o,u),r.callbackPriority=i,r.callbackNode=o,i}return u!==null&&u!==null&&$e(u),r.callbackPriority=2,r.callbackNode=null,2}function km(r,i){if(Vr!==0&&Vr!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(kf()&&r.callbackNode!==o)return null;var u=en;return u=Pt(r,r===Pn?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(lm(r,u,i),Tm(r,ot()),r.callbackNode!=null&&r.callbackNode===o?km.bind(null,r):null)}function Nm(r,i){if(kf())return null;lm(r,i,!0)}function aw(){yw(function(){(_n&6)!==0?Ke(it,iw):Em()})}function M0(){if(cl===0){var r=p;r===0&&(r=Bt,Bt<<=1,(Bt&261888)===0&&(Bt=256)),cl=r}return cl}function Lm(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:yi(""+r)}function Cm(r,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,r.id&&o.setAttribute("form",r.id),i.parentNode.insertBefore(o,i),r=new FormData(r),o.parentNode.removeChild(o),r}function sw(r,i,o,u,g){if(i==="submit"&&o&&o.stateNode===g){var b=Lm((g[Gn]||null).action),C=u.submitter;C&&(i=(i=C[Gn]||null)?Lm(i.formAction):C.getAttribute("formAction"),i!==null&&(b=i,C=null));var H=new Mi("action","action",null,u,g);r.push({event:H,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(cl!==0){var ge=C?Cm(g,C):new FormData(g);r0(o,{pending:!0,data:ge,method:g.method,action:b},null,ge)}}else typeof b=="function"&&(H.preventDefault(),ge=C?Cm(g,C):new FormData(g),r0(o,{pending:!0,data:ge,method:g.method,action:b},b,ge))},currentTarget:g}]})}}for(var I0=0;I0<co.length;I0++){var P0=co[I0],ow=P0.toLowerCase(),lw=P0[0].toUpperCase()+P0.slice(1);Pi(ow,"on"+lw)}Pi(uo,"onAnimationEnd"),Pi(Fl,"onAnimationIteration"),Pi(Mc,"onAnimationStart"),Pi("dblclick","onDoubleClick"),Pi("focusin","onFocus"),Pi("focusout","onBlur"),Pi(Qd,"onTransitionRun"),Pi(ef,"onTransitionStart"),Pi(tf,"onTransitionCancel"),Pi(Ic,"onTransitionEnd"),Wa("onMouseEnter",["mouseout","mouseover"]),Wa("onMouseLeave",["mouseout","mouseover"]),Wa("onPointerEnter",["pointerout","pointerover"]),Wa("onPointerLeave",["pointerout","pointerover"]),ia("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ia("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ia("onBeforeInput",["compositionend","keypress","textInput","paste"]),ia("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ia("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ia("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ud="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ud));function Rm(r,i){i=(i&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],g=u.event;u=u.listeners;e:{var b=void 0;if(i)for(var C=u.length-1;0<=C;C--){var H=u[C],ge=H.instance,je=H.currentTarget;if(H=H.listener,ge!==b&&g.isPropagationStopped())break e;b=H,g.currentTarget=je;try{b(g)}catch(Ue){Hl(Ue)}g.currentTarget=null,b=ge}else for(C=0;C<u.length;C++){if(H=u[C],ge=H.instance,je=H.currentTarget,H=H.listener,ge!==b&&g.isPropagationStopped())break e;b=H,g.currentTarget=je;try{b(g)}catch(Ue){Hl(Ue)}g.currentTarget=null,b=ge}}}}function Qt(r,i){var o=i[Ei];o===void 0&&(o=i[Ei]=new Set);var u=r+"__bubble";o.has(u)||(jm(i,r,2,!1),o.add(u))}function U0(r,i,o){var u=0;i&&(u|=4),jm(o,r,u,i)}var Cf="_reactListening"+Math.random().toString(36).slice(2);function q0(r){if(!r[Cf]){r[Cf]=!0,El.forEach(function(o){o!=="selectionchange"&&(uw.has(o)||U0(o,!1,r),U0(o,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Cf]||(i[Cf]=!0,U0("selectionchange",!1,i))}}function jm(r,i,o,u){switch(o2(i)){case 2:var g=Mw;break;case 8:g=Iw;break;default:g=np}o=g.bind(null,i,o,r),g=void 0,!Ml||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),u?g!==void 0?r.addEventListener(i,o,{capture:!0,passive:g}):r.addEventListener(i,o,!0):g!==void 0?r.addEventListener(i,o,{passive:g}):r.addEventListener(i,o,!1)}function F0(r,i,o,u,g){var b=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var C=u.tag;if(C===3||C===4){var H=u.stateNode.containerInfo;if(H===g)break;if(C===4)for(C=u.return;C!==null;){var ge=C.tag;if((ge===3||ge===4)&&C.stateNode.containerInfo===g)return;C=C.return}for(;H!==null;){if(C=na(H),C===null)return;if(ge=C.tag,ge===5||ge===6||ge===26||ge===27){u=b=C;continue e}H=H.parentNode}}u=u.return}Su(function(){var je=b,Ue=no(o),We=[];e:{var Oe=Pc.get(r);if(Oe!==void 0){var Be=Mi,ht=r;switch(r){case"keypress":if(zi(o)===0)break e;case"keydown":case"keyup":Be=nn;break;case"focusin":ht="focus",Be=Qa;break;case"focusout":ht="blur",Be=Qa;break;case"beforeblur":case"afterblur":Be=Qa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Be=Il;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Be=Za;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Be=kr;break;case uo:case Fl:case Mc:Be=x;break;case Ic:Be=qr;break;case"scroll":case"scrollend":Be=Uo;break;case"wheel":Be=la;break;case"copy":case"cut":case"paste":Be=re;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Be=sr;break;case"toggle":case"beforetoggle":Be=Pl}var Dt=(i&4)!==0,zn=!Dt&&(r==="scroll"||r==="scrollend"),Ae=Dt?Oe!==null?Oe+"Capture":null:Oe;Dt=[];for(var we=je,Re;we!==null;){var He=we;if(Re=He.stateNode,He=He.tag,He!==5&&He!==26&&He!==27||Re===null||Ae===null||(He=Ni(we,Ae),He!=null&&Dt.push(cd(we,He,Re))),zn)break;we=we.return}0<Dt.length&&(Oe=new Be(Oe,ht,null,o,Ue),We.push({event:Oe,listeners:Dt}))}}if((i&7)===0){e:{if(Oe=r==="mouseover"||r==="pointerover",Be=r==="mouseout"||r==="pointerout",Oe&&o!==Ya&&(ht=o.relatedTarget||o.fromElement)&&(na(ht)||ht[Jr]))break e;if((Be||Oe)&&(Oe=Ue.window===Ue?Ue:(Oe=Ue.ownerDocument)?Oe.defaultView||Oe.parentWindow:window,Be?(ht=o.relatedTarget||o.toElement,Be=je,ht=ht?na(ht):null,ht!==null&&(zn=s(ht),Dt=ht.tag,ht!==zn||Dt!==5&&Dt!==27&&Dt!==6)&&(ht=null)):(Be=null,ht=je),Be!==ht)){if(Dt=Il,He="onMouseLeave",Ae="onMouseEnter",we="mouse",(r==="pointerout"||r==="pointerover")&&(Dt=sr,He="onPointerLeave",Ae="onPointerEnter",we="pointer"),zn=Be==null?Oe:eo(Be),Re=ht==null?Oe:eo(ht),Oe=new Dt(He,we+"leave",Be,o,Ue),Oe.target=zn,Oe.relatedTarget=Re,He=null,na(Ue)===je&&(Dt=new Dt(Ae,we+"enter",ht,o,Ue),Dt.target=Re,Dt.relatedTarget=zn,He=Dt),zn=He,Be&&ht)t:{for(Dt=cw,Ae=Be,we=ht,Re=0,He=Ae;He;He=Dt(He))Re++;He=0;for(var Lt=we;Lt;Lt=Dt(Lt))He++;for(;0<Re-He;)Ae=Dt(Ae),Re--;for(;0<He-Re;)we=Dt(we),He--;for(;Re--;){if(Ae===we||we!==null&&Ae===we.alternate){Dt=Ae;break t}Ae=Dt(Ae),we=Dt(we)}Dt=null}else Dt=null;Be!==null&&Om(We,Oe,Be,Dt,!1),ht!==null&&zn!==null&&Om(We,zn,ht,Dt,!0)}}e:{if(Oe=je?eo(je):window,Be=Oe.nodeName&&Oe.nodeName.toLowerCase(),Be==="select"||Be==="input"&&Oe.type==="file")var gn=Os;else if(Ul(Oe))if(vi)gn=ja;else{gn=or;var bt=Wo}else Be=Oe.nodeName,!Be||Be.toLowerCase()!=="input"||Oe.type!=="checkbox"&&Oe.type!=="radio"?je&&Dl(je.elementType)&&(gn=Os):gn=ku;if(gn&&(gn=gn(r,je))){Ci(We,gn,o,Ue);break e}bt&&bt(r,Oe,je),r==="focusout"&&je&&Oe.type==="number"&&je.memoizedProps.value!=null&&Rl(Oe,"number",Oe.value)}switch(bt=je?eo(je):window,r){case"focusin":(Ul(bt)||bt.contentEditable==="true")&&(Ri=bt,us=je,Zr=null);break;case"focusout":Zr=us=Ri=null;break;case"mousedown":Ii=!0;break;case"contextmenu":case"mouseup":case"dragend":Ii=!1,fn(We,o,Ue);break;case"selectionchange":if(lo)break;case"keydown":case"keyup":fn(We,o,Ue)}var Vt;if(Na)e:{switch(r){case"compositionstart":var tn="onCompositionStart";break e;case"compositionend":tn="onCompositionEnd";break e;case"compositionupdate":tn="onCompositionUpdate";break e}tn=void 0}else La?js(r,o)&&(tn="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(tn="onCompositionStart");tn&&(ns&&o.locale!=="ko"&&(La||tn!=="onCompositionStart"?tn==="onCompositionEnd"&&La&&(Vt=Au()):(Li=Ue,io="value"in Li?Li.value:Li.textContent,La=!0)),bt=Rf(je,tn),0<bt.length&&(tn=new Se(tn,r,null,o,Ue),We.push({event:tn,listeners:bt}),Vt?tn.data=Vt:(Vt=Fo(o),Vt!==null&&(tn.data=Vt)))),(Vt=oo?li(r,o):rs(r,o))&&(tn=Rf(je,"onBeforeInput"),0<tn.length&&(bt=new Se("onBeforeInput","beforeinput",null,o,Ue),We.push({event:bt,listeners:tn}),bt.data=Vt)),sw(We,r,je,o,Ue)}Rm(We,i)})}function cd(r,i,o){return{instance:r,listener:i,currentTarget:o}}function Rf(r,i){for(var o=i+"Capture",u=[];r!==null;){var g=r,b=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||b===null||(g=Ni(r,o),g!=null&&u.unshift(cd(r,g,b)),g=Ni(r,i),g!=null&&u.push(cd(r,g,b))),r.tag===3)return u;r=r.return}return[]}function cw(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Om(r,i,o,u,g){for(var b=i._reactName,C=[];o!==null&&o!==u;){var H=o,ge=H.alternate,je=H.stateNode;if(H=H.tag,ge!==null&&ge===u)break;H!==5&&H!==26&&H!==27||je===null||(ge=je,g?(je=Ni(o,b),je!=null&&C.unshift(cd(o,je,ge))):g||(je=Ni(o,b),je!=null&&C.push(cd(o,je,ge)))),o=o.return}C.length!==0&&r.push({event:i,listeners:C})}var dw=/\r\n?/g,fw=/\u0000|\uFFFD/g;function Dm(r){return(typeof r=="string"?r:""+r).replace(dw,`
`).replace(fw,"")}function Bm(r,i){return i=Dm(i),Dm(r)===i}function Bn(r,i,o,u,g,b){switch(o){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||sa(r,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&sa(r,""+u);break;case"className":Ga(r,"class",u);break;case"tabIndex":Ga(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ga(r,o,u);break;case"style":wu(r,u,b);break;case"data":if(i!=="object"){Ga(r,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=yi(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(o==="formAction"?(i!=="input"&&Bn(r,i,"name",g.name,g,null),Bn(r,i,"formEncType",g.formEncType,g,null),Bn(r,i,"formMethod",g.formMethod,g,null),Bn(r,i,"formTarget",g.formTarget,g,null)):(Bn(r,i,"encType",g.encType,g,null),Bn(r,i,"method",g.method,g,null),Bn(r,i,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=yi(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=oa);break;case"onScroll":u!=null&&Qt("scroll",r);break;case"onScrollEnd":u!=null&&Qt("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(o=u.__html,o!=null){if(g.children!=null)throw Error(a(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=yi(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":Qt("beforetoggle",r),Qt("toggle",r),ki(r,"popover",u);break;case"xlinkActuate":aa(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":aa(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":aa(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":aa(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":aa(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":aa(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":aa(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":aa(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":aa(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ki(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Bl.get(o)||o,ki(r,o,u))}}function H0(r,i,o,u,g,b){switch(o){case"style":wu(r,u,b);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(o=u.__html,o!=null){if(g.children!=null)throw Error(a(60));r.innerHTML=o}}break;case"children":typeof u=="string"?sa(r,u):(typeof u=="number"||typeof u=="bigint")&&sa(r,""+u);break;case"onScroll":u!=null&&Qt("scroll",r);break;case"onScrollEnd":u!=null&&Qt("scrollend",r);break;case"onClick":u!=null&&(r.onclick=oa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ti.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(g=o.endsWith("Capture"),i=o.slice(2,g?o.length-7:void 0),b=r[Gn]||null,b=b!=null?b[o]:null,typeof b=="function"&&r.removeEventListener(i,b,g),typeof u=="function")){typeof b!="function"&&b!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(i,u,g);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):ki(r,o,u)}}}function hi(r,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qt("error",r),Qt("load",r);var u=!1,g=!1,b;for(b in o)if(o.hasOwnProperty(b)){var C=o[b];if(C!=null)switch(b){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Bn(r,i,b,C,o,null)}}g&&Bn(r,i,"srcSet",o.srcSet,o,null),u&&Bn(r,i,"src",o.src,o,null);return;case"input":Qt("invalid",r);var H=b=C=g=null,ge=null,je=null;for(u in o)if(o.hasOwnProperty(u)){var Ue=o[u];if(Ue!=null)switch(u){case"name":g=Ue;break;case"type":C=Ue;break;case"checked":ge=Ue;break;case"defaultChecked":je=Ue;break;case"value":b=Ue;break;case"defaultValue":H=Ue;break;case"children":case"dangerouslySetInnerHTML":if(Ue!=null)throw Error(a(137,i));break;default:Bn(r,i,u,Ue,o,null)}}vu(r,b,H,ge,je,C,g,!1);return;case"select":Qt("invalid",r),u=C=b=null;for(g in o)if(o.hasOwnProperty(g)&&(H=o[g],H!=null))switch(g){case"value":b=H;break;case"defaultValue":C=H;break;case"multiple":u=H;default:Bn(r,i,g,H,o,null)}i=b,o=C,r.multiple=!!u,i!=null?oi(r,!!u,i,!1):o!=null&&oi(r,!!u,o,!0);return;case"textarea":Qt("invalid",r),b=g=u=null;for(C in o)if(o.hasOwnProperty(C)&&(H=o[C],H!=null))switch(C){case"value":u=H;break;case"defaultValue":g=H;break;case"children":b=H;break;case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(91));break;default:Bn(r,i,C,H,o,null)}Ol(r,u,g,b);return;case"option":for(ge in o)o.hasOwnProperty(ge)&&(u=o[ge],u!=null)&&(ge==="selected"?r.selected=u&&typeof u!="function"&&typeof u!="symbol":Bn(r,i,ge,u,o,null));return;case"dialog":Qt("beforetoggle",r),Qt("toggle",r),Qt("cancel",r),Qt("close",r);break;case"iframe":case"object":Qt("load",r);break;case"video":case"audio":for(u=0;u<ud.length;u++)Qt(ud[u],r);break;case"image":Qt("error",r),Qt("load",r);break;case"details":Qt("toggle",r);break;case"embed":case"source":case"link":Qt("error",r),Qt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(je in o)if(o.hasOwnProperty(je)&&(u=o[je],u!=null))switch(je){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Bn(r,i,je,u,o,null)}return;default:if(Dl(i)){for(Ue in o)o.hasOwnProperty(Ue)&&(u=o[Ue],u!==void 0&&H0(r,i,Ue,u,o,void 0));return}}for(H in o)o.hasOwnProperty(H)&&(u=o[H],u!=null&&Bn(r,i,H,u,o,null))}function hw(r,i,o,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,b=null,C=null,H=null,ge=null,je=null,Ue=null;for(Be in o){var We=o[Be];if(o.hasOwnProperty(Be)&&We!=null)switch(Be){case"checked":break;case"value":break;case"defaultValue":ge=We;default:u.hasOwnProperty(Be)||Bn(r,i,Be,null,u,We)}}for(var Oe in u){var Be=u[Oe];if(We=o[Oe],u.hasOwnProperty(Oe)&&(Be!=null||We!=null))switch(Oe){case"type":b=Be;break;case"name":g=Be;break;case"checked":je=Be;break;case"defaultChecked":Ue=Be;break;case"value":C=Be;break;case"defaultValue":H=Be;break;case"children":case"dangerouslySetInnerHTML":if(Be!=null)throw Error(a(137,i));break;default:Be!==We&&Bn(r,i,Oe,Be,u,We)}}Mo(r,C,H,ge,je,Ue,b,g);return;case"select":Be=C=H=Oe=null;for(b in o)if(ge=o[b],o.hasOwnProperty(b)&&ge!=null)switch(b){case"value":break;case"multiple":Be=ge;default:u.hasOwnProperty(b)||Bn(r,i,b,null,u,ge)}for(g in u)if(b=u[g],ge=o[g],u.hasOwnProperty(g)&&(b!=null||ge!=null))switch(g){case"value":Oe=b;break;case"defaultValue":H=b;break;case"multiple":C=b;default:b!==ge&&Bn(r,i,g,b,u,ge)}i=H,o=C,u=Be,Oe!=null?oi(r,!!o,Oe,!1):!!u!=!!o&&(i!=null?oi(r,!!o,i,!0):oi(r,!!o,o?[]:"",!1));return;case"textarea":Be=Oe=null;for(H in o)if(g=o[H],o.hasOwnProperty(H)&&g!=null&&!u.hasOwnProperty(H))switch(H){case"value":break;case"children":break;default:Bn(r,i,H,null,u,g)}for(C in u)if(g=u[C],b=o[C],u.hasOwnProperty(C)&&(g!=null||b!=null))switch(C){case"value":Oe=g;break;case"defaultValue":Be=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(a(91));break;default:g!==b&&Bn(r,i,C,g,u,b)}jl(r,Oe,Be);return;case"option":for(var ht in o)Oe=o[ht],o.hasOwnProperty(ht)&&Oe!=null&&!u.hasOwnProperty(ht)&&(ht==="selected"?r.selected=!1:Bn(r,i,ht,null,u,Oe));for(ge in u)Oe=u[ge],Be=o[ge],u.hasOwnProperty(ge)&&Oe!==Be&&(Oe!=null||Be!=null)&&(ge==="selected"?r.selected=Oe&&typeof Oe!="function"&&typeof Oe!="symbol":Bn(r,i,ge,Oe,u,Be));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Dt in o)Oe=o[Dt],o.hasOwnProperty(Dt)&&Oe!=null&&!u.hasOwnProperty(Dt)&&Bn(r,i,Dt,null,u,Oe);for(je in u)if(Oe=u[je],Be=o[je],u.hasOwnProperty(je)&&Oe!==Be&&(Oe!=null||Be!=null))switch(je){case"children":case"dangerouslySetInnerHTML":if(Oe!=null)throw Error(a(137,i));break;default:Bn(r,i,je,Oe,u,Be)}return;default:if(Dl(i)){for(var zn in o)Oe=o[zn],o.hasOwnProperty(zn)&&Oe!==void 0&&!u.hasOwnProperty(zn)&&H0(r,i,zn,void 0,u,Oe);for(Ue in u)Oe=u[Ue],Be=o[Ue],!u.hasOwnProperty(Ue)||Oe===Be||Oe===void 0&&Be===void 0||H0(r,i,Ue,Oe,u,Be);return}}for(var Ae in o)Oe=o[Ae],o.hasOwnProperty(Ae)&&Oe!=null&&!u.hasOwnProperty(Ae)&&Bn(r,i,Ae,null,u,Oe);for(We in u)Oe=u[We],Be=o[We],!u.hasOwnProperty(We)||Oe===Be||Oe==null&&Be==null||Bn(r,i,We,Oe,u,Be)}function zm(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function pw(){if(typeof performance.getEntriesByType=="function"){for(var r=0,i=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var g=o[u],b=g.transferSize,C=g.initiatorType,H=g.duration;if(b&&H&&zm(C)){for(C=0,H=g.responseEnd,u+=1;u<o.length;u++){var ge=o[u],je=ge.startTime;if(je>H)break;var Ue=ge.transferSize,We=ge.initiatorType;Ue&&zm(We)&&(ge=ge.responseEnd,C+=Ue*(ge<H?1:(H-je)/(ge-je)))}if(--u,i+=8*(b+C)/(g.duration/1e3),r++,10<r)break}}if(0<r)return i/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var $0=null,W0=null;function jf(r){return r.nodeType===9?r:r.ownerDocument}function Mm(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Im(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function G0(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Y0=null;function gw(){var r=window.event;return r&&r.type==="popstate"?r===Y0?!1:(Y0=r,!0):(Y0=null,!1)}var Pm=typeof setTimeout=="function"?setTimeout:void 0,mw=typeof clearTimeout=="function"?clearTimeout:void 0,Um=typeof Promise=="function"?Promise:void 0,yw=typeof queueMicrotask=="function"?queueMicrotask:typeof Um<"u"?function(r){return Um.resolve(null).then(r).catch(vw)}:Pm;function vw(r){setTimeout(function(){throw r})}function dl(r){return r==="head"}function qm(r,i){var o=i,u=0;do{var g=o.nextSibling;if(r.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"||o==="/&"){if(u===0){r.removeChild(g),sc(i);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")dd(r.ownerDocument.documentElement);else if(o==="head"){o=r.ownerDocument.head,dd(o);for(var b=o.firstChild;b;){var C=b.nextSibling,H=b.nodeName;b[ta]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&b.rel.toLowerCase()==="stylesheet"||o.removeChild(b),b=C}}else o==="body"&&dd(r.ownerDocument.body);o=g}while(o);sc(i)}function Fm(r,i){var o=r;r=0;do{var u=o.nextSibling;if(o.nodeType===1?i?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(i?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(r===0)break;r--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||r++;o=u}while(o)}function V0(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":V0(o),Ns(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function bw(r,i,o,u){for(;r.nodeType===1;){var g=o;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[ta])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(b=r.getAttribute("rel"),b==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(b!==g.rel||r.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||r.getAttribute("title")!==(g.title==null?null:g.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(b=r.getAttribute("src"),(b!==(g.src==null?null:g.src)||r.getAttribute("type")!==(g.type==null?null:g.type)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&b&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var b=g.name==null?null:""+g.name;if(g.type==="hidden"&&r.getAttribute("name")===b)return r}else return r;if(r=Pa(r.nextSibling),r===null)break}return null}function ww(r,i,o){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Pa(r.nextSibling),r===null))return null;return r}function Hm(r,i){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!i||(r=Pa(r.nextSibling),r===null))return null;return r}function K0(r){return r.data==="$?"||r.data==="$~"}function X0(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function xw(r,i){var o=r.ownerDocument;if(r.data==="$~")r._reactRetry=i;else if(r.data!=="$?"||o.readyState!=="loading")i();else{var u=function(){i(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function Pa(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return r}var J0=null;function $m(r){r=r.nextSibling;for(var i=0;r;){if(r.nodeType===8){var o=r.data;if(o==="/$"||o==="/&"){if(i===0)return Pa(r.nextSibling);i--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||i++}r=r.nextSibling}return null}function Wm(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(i===0)return r;i--}else o!=="/$"&&o!=="/&"||i++}r=r.previousSibling}return null}function Gm(r,i,o){switch(i=jf(o),r){case"html":if(r=i.documentElement,!r)throw Error(a(452));return r;case"head":if(r=i.head,!r)throw Error(a(453));return r;case"body":if(r=i.body,!r)throw Error(a(454));return r;default:throw Error(a(451))}}function dd(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);Ns(r)}var Ua=new Map,Ym=new Set;function Of(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var ko=de.d;de.d={f:_w,r:Sw,D:Aw,C:Ew,L:Tw,m:kw,X:Lw,S:Nw,M:Cw};function _w(){var r=ko.f(),i=Af();return r||i}function Sw(r){var i=ra(r);i!==null&&i.tag===5&&i.type==="form"?c1(i):ko.r(r)}var rc=typeof document>"u"?null:document;function Vm(r,i,o){var u=rc;if(u&&typeof i=="string"&&i){var g=pr(i);g='link[rel="'+r+'"][href="'+g+'"]',typeof o=="string"&&(g+='[crossorigin="'+o+'"]'),Ym.has(g)||(Ym.add(g),r={rel:r,crossOrigin:o,href:i},u.querySelector(g)===null&&(i=u.createElement("link"),hi(i,"link",r),ar(i),u.head.appendChild(i)))}}function Aw(r){ko.D(r),Vm("dns-prefetch",r,null)}function Ew(r,i){ko.C(r,i),Vm("preconnect",r,i)}function Tw(r,i,o){ko.L(r,i,o);var u=rc;if(u&&r&&i){var g='link[rel="preload"][as="'+pr(i)+'"]';i==="image"&&o&&o.imageSrcSet?(g+='[imagesrcset="'+pr(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(g+='[imagesizes="'+pr(o.imageSizes)+'"]')):g+='[href="'+pr(r)+'"]';var b=g;switch(i){case"style":b=ic(r);break;case"script":b=ac(r)}Ua.has(b)||(r=w({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:r,as:i},o),Ua.set(b,r),u.querySelector(g)!==null||i==="style"&&u.querySelector(fd(b))||i==="script"&&u.querySelector(hd(b))||(i=u.createElement("link"),hi(i,"link",r),ar(i),u.head.appendChild(i)))}}function kw(r,i){ko.m(r,i);var o=rc;if(o&&r){var u=i&&typeof i.as=="string"?i.as:"script",g='link[rel="modulepreload"][as="'+pr(u)+'"][href="'+pr(r)+'"]',b=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=ac(r)}if(!Ua.has(b)&&(r=w({rel:"modulepreload",href:r},i),Ua.set(b,r),o.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(hd(b)))return}u=o.createElement("link"),hi(u,"link",r),ar(u),o.head.appendChild(u)}}}function Nw(r,i,o){ko.S(r,i,o);var u=rc;if(u&&r){var g=Aa(u).hoistableStyles,b=ic(r);i=i||"default";var C=g.get(b);if(!C){var H={loading:0,preload:null};if(C=u.querySelector(fd(b)))H.loading=5;else{r=w({rel:"stylesheet",href:r,"data-precedence":i},o),(o=Ua.get(b))&&Z0(r,o);var ge=C=u.createElement("link");ar(ge),hi(ge,"link",r),ge._p=new Promise(function(je,Ue){ge.onload=je,ge.onerror=Ue}),ge.addEventListener("load",function(){H.loading|=1}),ge.addEventListener("error",function(){H.loading|=2}),H.loading|=4,Df(C,i,u)}C={type:"stylesheet",instance:C,count:1,state:H},g.set(b,C)}}}function Lw(r,i){ko.X(r,i);var o=rc;if(o&&r){var u=Aa(o).hoistableScripts,g=ac(r),b=u.get(g);b||(b=o.querySelector(hd(g)),b||(r=w({src:r,async:!0},i),(i=Ua.get(g))&&Q0(r,i),b=o.createElement("script"),ar(b),hi(b,"link",r),o.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},u.set(g,b))}}function Cw(r,i){ko.M(r,i);var o=rc;if(o&&r){var u=Aa(o).hoistableScripts,g=ac(r),b=u.get(g);b||(b=o.querySelector(hd(g)),b||(r=w({src:r,async:!0,type:"module"},i),(i=Ua.get(g))&&Q0(r,i),b=o.createElement("script"),ar(b),hi(b,"link",r),o.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},u.set(g,b))}}function Km(r,i,o,u){var g=(g=V.current)?Of(g):null;if(!g)throw Error(a(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=ic(o.href),o=Aa(g).hoistableStyles,u=o.get(i),u||(u={type:"style",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=ic(o.href);var b=Aa(g).hoistableStyles,C=b.get(r);if(C||(g=g.ownerDocument||g,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(r,C),(b=g.querySelector(fd(r)))&&!b._p&&(C.instance=b,C.state.loading=5),Ua.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Ua.set(r,o),b||Rw(g,r,o,C.state))),i&&u===null)throw Error(a(528,""));return C}if(i&&u!==null)throw Error(a(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ac(o),o=Aa(g).hoistableScripts,u=o.get(i),u||(u={type:"script",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,r))}}function ic(r){return'href="'+pr(r)+'"'}function fd(r){return'link[rel="stylesheet"]['+r+"]"}function Xm(r){return w({},r,{"data-precedence":r.precedence,precedence:null})}function Rw(r,i,o,u){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=r.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),hi(i,"link",o),ar(i),r.head.appendChild(i))}function ac(r){return'[src="'+pr(r)+'"]'}function hd(r){return"script[async]"+r}function Jm(r,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var u=r.querySelector('style[data-href~="'+pr(o.href)+'"]');if(u)return i.instance=u,ar(u),u;var g=w({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),ar(u),hi(u,"style",g),Df(u,o.precedence,r),i.instance=u;case"stylesheet":g=ic(o.href);var b=r.querySelector(fd(g));if(b)return i.state.loading|=4,i.instance=b,ar(b),b;u=Xm(o),(g=Ua.get(g))&&Z0(u,g),b=(r.ownerDocument||r).createElement("link"),ar(b);var C=b;return C._p=new Promise(function(H,ge){C.onload=H,C.onerror=ge}),hi(b,"link",u),i.state.loading|=4,Df(b,o.precedence,r),i.instance=b;case"script":return b=ac(o.src),(g=r.querySelector(hd(b)))?(i.instance=g,ar(g),g):(u=o,(g=Ua.get(b))&&(u=w({},o),Q0(u,g)),r=r.ownerDocument||r,g=r.createElement("script"),ar(g),hi(g,"link",u),r.head.appendChild(g),i.instance=g);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,Df(u,o.precedence,r));return i.instance}function Df(r,i,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,b=g,C=0;C<u.length;C++){var H=u[C];if(H.dataset.precedence===i)b=H;else if(b!==g)break}b?b.parentNode.insertBefore(r,b.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(r,i.firstChild))}function Z0(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function Q0(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var Bf=null;function Zm(r,i,o){if(Bf===null){var u=new Map,g=Bf=new Map;g.set(o,u)}else g=Bf,u=g.get(o),u||(u=new Map,g.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),g=0;g<o.length;g++){var b=o[g];if(!(b[ta]||b[En]||r==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var C=b.getAttribute(i)||"";C=r+C;var H=u.get(C);H?H.push(b):u.set(C,[b])}}return u}function Qm(r,i,o){r=r.ownerDocument||r,r.head.insertBefore(o,i==="title"?r.querySelector("head > title"):null)}function jw(r,i,o){if(o===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(r=i.disabled,typeof i.precedence=="string"&&r==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function e2(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function Ow(r,i,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var g=ic(u.href),b=i.querySelector(fd(g));if(b){i=b._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(r.count++,r=zf.bind(r),i.then(r,r)),o.state.loading|=4,o.instance=b,ar(b);return}b=i.ownerDocument||i,u=Xm(u),(g=Ua.get(g))&&Z0(u,g),b=b.createElement("link"),ar(b);var C=b;C._p=new Promise(function(H,ge){C.onload=H,C.onerror=ge}),hi(b,"link",u),o.instance=b}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(r.count++,o=zf.bind(r),i.addEventListener("load",o),i.addEventListener("error",o))}}var ep=0;function Dw(r,i){return r.stylesheets&&r.count===0&&If(r,r.stylesheets),0<r.count||0<r.imgCount?function(o){var u=setTimeout(function(){if(r.stylesheets&&If(r,r.stylesheets),r.unsuspend){var b=r.unsuspend;r.unsuspend=null,b()}},6e4+i);0<r.imgBytes&&ep===0&&(ep=62500*pw());var g=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&If(r,r.stylesheets),r.unsuspend)){var b=r.unsuspend;r.unsuspend=null,b()}},(r.imgBytes>ep?50:800)+i);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(u),clearTimeout(g)}}:null}function zf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)If(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Mf=null;function If(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Mf=new Map,i.forEach(Bw,r),Mf=null,zf.call(r))}function Bw(r,i){if(!(i.state.loading&4)){var o=Mf.get(r);if(o)var u=o.get(null);else{o=new Map,Mf.set(r,o);for(var g=r.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<g.length;b++){var C=g[b];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(o.set(C.dataset.precedence,C),u=C)}u&&o.set(null,u)}g=i.instance,C=g.getAttribute("data-precedence"),b=o.get(C)||u,b===u&&o.set(null,g),o.set(C,g),this.count++,u=zf.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),b?b.parentNode.insertBefore(g,b.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(g,r.firstChild)),i.state.loading|=4}}var pd={$$typeof:M,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function zw(r,i,o,u,g,b,C,H,ge){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$n(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$n(0),this.hiddenUpdates=$n(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=b,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ge,this.incompleteTransitions=new Map}function t2(r,i,o,u,g,b,C,H,ge,je,Ue,We){return r=new zw(r,i,o,C,ge,je,Ue,We,H),i=1,b===!0&&(i|=24),b=ei(3,null,null,i),r.current=b,b.stateNode=r,i=Qo(),i.refCount++,r.pooledCache=i,i.refCount++,b.memoizedState={element:u,isDehydrated:o,cache:i},rt(b),r}function n2(r){return r?(r=Hr,r):Hr}function r2(r,i,o,u,g,b){g=n2(g),u.context===null?u.context=g:u.pendingContext=g,u=Ot(i),u.payload={element:o},b=b===void 0?null:b,b!==null&&(u.callback=b),o=Gt(r,u,i),o!==null&&(Zi(o,r,i),wn(o,r,i))}function i2(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<i?o:i}}function tp(r,i){i2(r,i),(r=r.alternate)&&i2(r,i)}function a2(r){if(r.tag===13||r.tag===31){var i=cs(r,67108864);i!==null&&Zi(i,r,67108864),tp(r,67108864)}}function s2(r){if(r.tag===13||r.tag===31){var i=ma();i=pn(i);var o=cs(r,i);o!==null&&Zi(o,r,i),tp(r,i)}}var Pf=!0;function Mw(r,i,o,u){var g=X.T;X.T=null;var b=de.p;try{de.p=2,np(r,i,o,u)}finally{de.p=b,X.T=g}}function Iw(r,i,o,u){var g=X.T;X.T=null;var b=de.p;try{de.p=8,np(r,i,o,u)}finally{de.p=b,X.T=g}}function np(r,i,o,u){if(Pf){var g=rp(u);if(g===null)F0(r,i,u,Uf,o),l2(r,u);else if(Uw(g,r,i,o,u))u.stopPropagation();else if(l2(r,u),i&4&&-1<Pw.indexOf(r)){for(;g!==null;){var b=ra(g);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var C=lt(b.pendingLanes);if(C!==0){var H=b;for(H.pendingLanes|=2,H.entangledLanes|=2;C;){var ge=1<<31-Yt(C);H.entanglements[1]|=ge,C&=~ge}Gs(b),(_n&6)===0&&(_f=ot()+500,ld(0))}}break;case 31:case 13:H=cs(b,2),H!==null&&Zi(H,b,2),Af(),tp(b,2)}if(b=rp(u),b===null&&F0(r,i,u,Uf,o),b===g)break;g=b}g!==null&&u.stopPropagation()}else F0(r,i,u,null,o)}}function rp(r){return r=no(r),ip(r)}var Uf=null;function ip(r){if(Uf=null,r=na(r),r!==null){var i=s(r);if(i===null)r=null;else{var o=i.tag;if(o===13){if(r=c(i),r!==null)return r;r=null}else if(o===31){if(r=d(i),r!==null)return r;r=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return Uf=r,null}function o2(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qe()){case it:return 2;case tt:return 8;case pt:case Ze:return 32;case At:return 268435456;default:return 32}default:return 32}}var ap=!1,fl=null,hl=null,pl=null,gd=new Map,md=new Map,gl=[],Pw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function l2(r,i){switch(r){case"focusin":case"focusout":fl=null;break;case"dragenter":case"dragleave":hl=null;break;case"mouseover":case"mouseout":pl=null;break;case"pointerover":case"pointerout":gd.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":md.delete(i.pointerId)}}function yd(r,i,o,u,g,b){return r===null||r.nativeEvent!==b?(r={blockedOn:i,domEventName:o,eventSystemFlags:u,nativeEvent:b,targetContainers:[g]},i!==null&&(i=ra(i),i!==null&&a2(i)),r):(r.eventSystemFlags|=u,i=r.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),r)}function Uw(r,i,o,u,g){switch(i){case"focusin":return fl=yd(fl,r,i,o,u,g),!0;case"dragenter":return hl=yd(hl,r,i,o,u,g),!0;case"mouseover":return pl=yd(pl,r,i,o,u,g),!0;case"pointerover":var b=g.pointerId;return gd.set(b,yd(gd.get(b)||null,r,i,o,u,g)),!0;case"gotpointercapture":return b=g.pointerId,md.set(b,yd(md.get(b)||null,r,i,o,u,g)),!0}return!1}function u2(r){var i=na(r.target);if(i!==null){var o=s(i);if(o!==null){if(i=o.tag,i===13){if(i=c(o),i!==null){r.blockedOn=i,mi(r.priority,function(){s2(o)});return}}else if(i===31){if(i=d(o),i!==null){r.blockedOn=i,mi(r.priority,function(){s2(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function qf(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var o=rp(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);Ya=u,o.target.dispatchEvent(u),Ya=null}else return i=ra(o),i!==null&&a2(i),r.blockedOn=o,!1;i.shift()}return!0}function c2(r,i,o){qf(r)&&o.delete(i)}function qw(){ap=!1,fl!==null&&qf(fl)&&(fl=null),hl!==null&&qf(hl)&&(hl=null),pl!==null&&qf(pl)&&(pl=null),gd.forEach(c2),md.forEach(c2)}function Ff(r,i){r.blockedOn===i&&(r.blockedOn=null,ap||(ap=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,qw)))}var Hf=null;function d2(r){Hf!==r&&(Hf=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Hf===r&&(Hf=null);for(var i=0;i<r.length;i+=3){var o=r[i],u=r[i+1],g=r[i+2];if(typeof u!="function"){if(ip(u||o)===null)continue;break}var b=ra(o);b!==null&&(r.splice(i,3),i-=3,r0(b,{pending:!0,data:g,method:o.method,action:u},u,g))}}))}function sc(r){function i(ge){return Ff(ge,r)}fl!==null&&Ff(fl,r),hl!==null&&Ff(hl,r),pl!==null&&Ff(pl,r),gd.forEach(i),md.forEach(i);for(var o=0;o<gl.length;o++){var u=gl[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<gl.length&&(o=gl[0],o.blockedOn===null);)u2(o),o.blockedOn===null&&gl.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var g=o[u],b=o[u+1],C=g[Gn]||null;if(typeof b=="function")C||d2(o);else if(C){var H=null;if(b&&b.hasAttribute("formAction")){if(g=b,C=b[Gn]||null)H=C.formAction;else if(ip(g)!==null)continue}else H=C.action;typeof H=="function"?o[u+1]=H:(o.splice(u,3),u-=3),d2(o)}}}function f2(){function r(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(C){return g=C})},focusReset:"manual",scroll:"manual"})}function i(){g!==null&&(g(),g=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,g=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),g!==null&&(g(),g=null)}}}function sp(r){this._internalRoot=r}$f.prototype.render=sp.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(a(409));var o=i.current,u=ma();r2(o,u,r,i,null,null)},$f.prototype.unmount=sp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;r2(r.current,2,null,r,null,null),Af(),i[Jr]=null}};function $f(r){this._internalRoot=r}$f.prototype.unstable_scheduleHydration=function(r){if(r){var i=An();r={blockedOn:null,target:r,priority:i};for(var o=0;o<gl.length&&i!==0&&i<gl[o].priority;o++);gl.splice(o,0,r),o===0&&u2(r)}};var h2=e.version;if(h2!=="19.2.3")throw Error(a(527,h2,"19.2.3"));de.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(a(188)):(r=Object.keys(r).join(","),Error(a(268,r)));return r=h(i),r=r!==null?y(r):null,r=r===null?null:r.stateNode,r};var Fw={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wf.isDisabled&&Wf.supportsFiber)try{xt=Wf.inject(Fw),kt=Wf}catch{}}return bd.createRoot=function(r,i){if(!l(r))throw Error(a(299));var o=!1,u="",g=w1,b=x1,C=_1;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(g=i.onUncaughtError),i.onCaughtError!==void 0&&(b=i.onCaughtError),i.onRecoverableError!==void 0&&(C=i.onRecoverableError)),i=t2(r,1,!1,null,null,o,u,null,g,b,C,f2),r[Jr]=i.current,q0(r),new sp(i)},bd.hydrateRoot=function(r,i,o){if(!l(r))throw Error(a(299));var u=!1,g="",b=w1,C=x1,H=_1,ge=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(g=o.identifierPrefix),o.onUncaughtError!==void 0&&(b=o.onUncaughtError),o.onCaughtError!==void 0&&(C=o.onCaughtError),o.onRecoverableError!==void 0&&(H=o.onRecoverableError),o.formState!==void 0&&(ge=o.formState)),i=t2(r,1,!0,i,o??null,u,g,ge,b,C,H,f2),i.context=n2(null),o=i.current,u=ma(),u=pn(u),g=Ot(u),g.callback=null,Gt(o,g,u),o=u,i.current.lanes=o,yt(i,o),Gs(i),r[Jr]=i.current,q0(r),new $f(i)},bd.version="19.2.3",bd}var S2;function Zw(){if(S2)return up.exports;S2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),up.exports=Jw(),up.exports}var Qw=Zw();var A2="popstate";function ex(t={}){function e(a,l){let{pathname:s,search:c,hash:d}=a.location;return Jp("",{pathname:s,search:c,hash:d},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){return typeof l=="string"?l:Od(l)}return nx(e,n,null,t)}function ir(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ha(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function tx(){return Math.random().toString(36).substring(2,10)}function E2(t,e){return{usr:t.state,key:t.key,idx:e}}function Jp(t,e,n=null,a){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Cc(e):e,state:n,key:e&&e.key||a||tx()}}function Od({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Cc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let a=t.indexOf("?");a>=0&&(e.search=t.substring(a),t=t.substring(0,a)),t&&(e.pathname=t)}return e}function nx(t,e,n,a={}){let{window:l=document.defaultView,v5Compat:s=!1}=a,c=l.history,d="POP",f=null,h=y();h==null&&(h=0,c.replaceState({...c.state,idx:h},""));function y(){return(c.state||{idx:null}).idx}function w(){d="POP";let L=y(),R=L==null?null:L-h;h=L,f&&f({action:d,location:E.location,delta:R})}function A(L,R){d="PUSH";let D=Jp(E.location,L,R);h=y()+1;let M=E2(D,h),W=E.createHref(D);try{c.pushState(M,"",W)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;l.location.assign(W)}s&&f&&f({action:d,location:E.location,delta:1})}function m(L,R){d="REPLACE";let D=Jp(E.location,L,R);h=y();let M=E2(D,h),W=E.createHref(D);c.replaceState(M,"",W),s&&f&&f({action:d,location:E.location,delta:0})}function T(L){return rx(L)}let E={get action(){return d},get location(){return t(l,c)},listen(L){if(f)throw new Error("A history only accepts one active listener");return l.addEventListener(A2,w),f=L,()=>{l.removeEventListener(A2,w),f=null}},createHref(L){return e(l,L)},createURL:T,encodeLocation(L){let R=T(L);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:A,replace:m,go(L){return c.go(L)}};return E}function rx(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ir(n,"No window.location.(origin|href) available to create URL");let a=typeof t=="string"?t:Od(t);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function ky(t,e,n="/"){return ix(t,e,n,!1)}function ix(t,e,n,a){let l=typeof e=="string"?Cc(e):e,s=Oo(l.pathname||"/",n);if(s==null)return null;let c=Ny(t);ax(c);let d=null;for(let f=0;d==null&&f<c.length;++f){let h=mx(s);d=px(c[f],h,a)}return d}function Ny(t,e=[],n=[],a="",l=!1){let s=(c,d,f=l,h)=>{let y={relativePath:h===void 0?c.path||"":h,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(a)&&f)return;ir(y.relativePath.startsWith(a),`Absolute route path "${y.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(a.length)}let w=jo([a,y.relativePath]),A=n.concat(y);c.children&&c.children.length>0&&(ir(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),Ny(c.children,e,A,w,f)),!(c.path==null&&!c.index)&&e.push({path:w,score:fx(w,c.index),routesMeta:A})};return t.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))s(c,d);else for(let f of Ly(c.path))s(c,d,!0,f)}),e}function Ly(t){let e=t.split("/");if(e.length===0)return[];let[n,...a]=e,l=n.endsWith("?"),s=n.replace(/\?$/,"");if(a.length===0)return l?[s,""]:[s];let c=Ly(a.join("/")),d=[];return d.push(...c.map(f=>f===""?s:[s,f].join("/"))),l&&d.push(...c),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function ax(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:hx(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var sx=/^:[\w-]+$/,ox=3,lx=2,ux=1,cx=10,dx=-2,T2=t=>t==="*";function fx(t,e){let n=t.split("/"),a=n.length;return n.some(T2)&&(a+=dx),e&&(a+=lx),n.filter(l=>!T2(l)).reduce((l,s)=>l+(sx.test(s)?ox:s===""?ux:cx),a)}function hx(t,e){return t.length===e.length&&t.slice(0,-1).every((a,l)=>a===e[l])?t[t.length-1]-e[e.length-1]:0}function px(t,e,n=!1){let{routesMeta:a}=t,l={},s="/",c=[];for(let d=0;d<a.length;++d){let f=a[d],h=d===a.length-1,y=s==="/"?e:e.slice(s.length)||"/",w=vh({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},y),A=f.route;if(!w&&h&&n&&!a[a.length-1].route.index&&(w=vh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!w)return null;Object.assign(l,w.params),c.push({params:l,pathname:jo([s,w.pathname]),pathnameBase:wx(jo([s,w.pathnameBase])),route:A}),w.pathnameBase!=="/"&&(s=jo([s,w.pathnameBase]))}return c}function vh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,a]=gx(t.path,t.caseSensitive,t.end),l=e.match(n);if(!l)return null;let s=l[0],c=s.replace(/(.)\/+$/,"$1"),d=l.slice(1);return{params:a.reduce((h,{paramName:y,isOptional:w},A)=>{if(y==="*"){let T=d[A]||"";c=s.slice(0,s.length-T.length).replace(/(.)\/+$/,"$1")}const m=d[A];return w&&!m?h[y]=void 0:h[y]=(m||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:c,pattern:t}}function gx(t,e=!1,n=!0){Ha(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let a=[],l="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,f)=>(a.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(a.push({paramName:"*"}),l+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":t!==""&&t!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),a]}function mx(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ha(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Oo(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=t.charAt(n);return a&&a!=="/"?null:t.slice(n)||"/"}var Cy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yx=t=>Cy.test(t);function vx(t,e="/"){let{pathname:n,search:a="",hash:l=""}=typeof t=="string"?Cc(t):t,s;if(n)if(yx(n))s=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),Ha(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?s=k2(n.substring(1),"/"):s=k2(n,e)}else s=e;return{pathname:s,search:xx(a),hash:_x(l)}}function k2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function hp(t,e,n,a){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function bx(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function kg(t){let e=bx(t);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function Ng(t,e,n,a=!1){let l;typeof t=="string"?l=Cc(t):(l={...t},ir(!l.pathname||!l.pathname.includes("?"),hp("?","pathname","search",l)),ir(!l.pathname||!l.pathname.includes("#"),hp("#","pathname","hash",l)),ir(!l.search||!l.search.includes("#"),hp("#","search","hash",l)));let s=t===""||l.pathname==="",c=s?"/":l.pathname,d;if(c==null)d=n;else{let w=e.length-1;if(!a&&c.startsWith("..")){let A=c.split("/");for(;A[0]==="..";)A.shift(),w-=1;l.pathname=A.join("/")}d=w>=0?e[w]:"/"}let f=vx(l,d),h=c&&c!=="/"&&c.endsWith("/"),y=(s||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||y)&&(f.pathname+="/"),f}var jo=t=>t.join("/").replace(/\/\/+/g,"/"),wx=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),xx=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,_x=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Sx=class{constructor(t,e,n,a=!1){this.status=t,this.statusText=e||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Ax(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function Ex(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Ry=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function jy(t,e){let n=t;if(typeof n!="string"||!Cy.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let a=n,l=!1;if(Ry)try{let s=new URL(window.location.href),c=n.startsWith("//")?new URL(s.protocol+n):new URL(n),d=Oo(c.pathname,e);c.origin===s.origin&&d!=null?n=d+c.search+c.hash:l=!0}catch{Ha(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:a,isExternal:l,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Oy=["POST","PUT","PATCH","DELETE"];new Set(Oy);var Tx=["GET",...Oy];new Set(Tx);var Rc=B.createContext(null);Rc.displayName="DataRouter";var Dh=B.createContext(null);Dh.displayName="DataRouterState";var kx=B.createContext(!1),Dy=B.createContext({isTransitioning:!1});Dy.displayName="ViewTransition";var Nx=B.createContext(new Map);Nx.displayName="Fetchers";var Lx=B.createContext(null);Lx.displayName="Await";var Sa=B.createContext(null);Sa.displayName="Navigation";var Wd=B.createContext(null);Wd.displayName="Location";var Es=B.createContext({outlet:null,matches:[],isDataRoute:!1});Es.displayName="Route";var Lg=B.createContext(null);Lg.displayName="RouteError";var By="REACT_ROUTER_ERROR",Cx="REDIRECT",Rx="ROUTE_ERROR_RESPONSE";function jx(t){if(t.startsWith(`${By}:${Cx}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function Ox(t){if(t.startsWith(`${By}:${Rx}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Sx(e.status,e.statusText,e.data)}catch{}}function Dx(t,{relative:e}={}){ir(jc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=B.useContext(Sa),{hash:l,pathname:s,search:c}=Gd(t,{relative:e}),d=s;return n!=="/"&&(d=s==="/"?n:jo([n,s])),a.createHref({pathname:d,search:c,hash:l})}function jc(){return B.useContext(Wd)!=null}function Do(){return ir(jc(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(Wd).location}var zy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function My(t){B.useContext(Sa).static||B.useLayoutEffect(t)}function Bh(){let{isDataRoute:t}=B.useContext(Es);return t?Vx():Bx()}function Bx(){ir(jc(),"useNavigate() may be used only in the context of a <Router> component.");let t=B.useContext(Rc),{basename:e,navigator:n}=B.useContext(Sa),{matches:a}=B.useContext(Es),{pathname:l}=Do(),s=JSON.stringify(kg(a)),c=B.useRef(!1);return My(()=>{c.current=!0}),B.useCallback((f,h={})=>{if(Ha(c.current,zy),!c.current)return;if(typeof f=="number"){n.go(f);return}let y=Ng(f,JSON.parse(s),l,h.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:jo([e,y.pathname])),(h.replace?n.replace:n.push)(y,h.state,h)},[e,n,s,l,t])}B.createContext(null);function zx(){let{matches:t}=B.useContext(Es),e=t[t.length-1];return e?e.params:{}}function Gd(t,{relative:e}={}){let{matches:n}=B.useContext(Es),{pathname:a}=Do(),l=JSON.stringify(kg(n));return B.useMemo(()=>Ng(t,JSON.parse(l),a,e==="path"),[t,l,a,e])}function Mx(t,e){return Iy(t,e)}function Iy(t,e,n,a,l){ir(jc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=B.useContext(Sa),{matches:c}=B.useContext(Es),d=c[c.length-1],f=d?d.params:{},h=d?d.pathname:"/",y=d?d.pathnameBase:"/",w=d&&d.route;{let D=w&&w.path||"";Uy(h,!w||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let A=Do(),m;if(e){let D=typeof e=="string"?Cc(e):e;ir(y==="/"||D.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${D.pathname}" was given in the \`location\` prop.`),m=D}else m=A;let T=m.pathname||"/",E=T;if(y!=="/"){let D=y.replace(/^\//,"").split("/");E="/"+T.replace(/^\//,"").split("/").slice(D.length).join("/")}let L=ky(t,{pathname:E});Ha(w||L!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Ha(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=Fx(L&&L.map(D=>Object.assign({},D,{params:Object.assign({},f,D.params),pathname:jo([y,s.encodeLocation?s.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?y:jo([y,s.encodeLocation?s.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),c,n,a,l);return e&&R?B.createElement(Wd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},R):R}function Ix(){let t=Yx(),e=Ax(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,a="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:a},s={padding:"2px 4px",backgroundColor:a},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:s},"ErrorBoundary")," or"," ",B.createElement("code",{style:s},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),n?B.createElement("pre",{style:l},n):null,c)}var Px=B.createElement(Ix,null),Py=class extends B.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=Ox(t.digest);n&&(t=n)}let e=t!==void 0?B.createElement(Es.Provider,{value:this.props.routeContext},B.createElement(Lg.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?B.createElement(Ux,{error:t},e):e}};Py.contextType=kx;var pp=new WeakMap;function Ux({children:t,error:e}){let{basename:n}=B.useContext(Sa);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let a=jx(e.digest);if(a){let l=pp.get(e);if(l)throw l;let s=jy(a.location,n);if(Ry&&!pp.get(e))if(s.isExternal||a.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:a.replace}));throw pp.set(e,c),c}return B.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return t}function qx({routeContext:t,match:e,children:n}){let a=B.useContext(Rc);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(Es.Provider,{value:t},n)}function Fx(t,e=[],n=null,a=null,l=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,c=n?.errors;if(c!=null){let y=s.findIndex(w=>w.route.id&&c?.[w.route.id]!==void 0);ir(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),s=s.slice(0,Math.min(s.length,y+1))}let d=!1,f=-1;if(n)for(let y=0;y<s.length;y++){let w=s[y];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(f=y),w.route.id){let{loaderData:A,errors:m}=n,T=w.route.loader&&!A.hasOwnProperty(w.route.id)&&(!m||m[w.route.id]===void 0);if(w.route.lazy||T){d=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}let h=n&&a?(y,w)=>{a(y,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Ex(n.matches),errorInfo:w})}:void 0;return s.reduceRight((y,w,A)=>{let m,T=!1,E=null,L=null;n&&(m=c&&w.route.id?c[w.route.id]:void 0,E=w.route.errorElement||Px,d&&(f<0&&A===0?(Uy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,L=null):f===A&&(T=!0,L=w.route.hydrateFallbackElement||null)));let R=e.concat(s.slice(0,A+1)),D=()=>{let M;return m?M=E:T?M=L:w.route.Component?M=B.createElement(w.route.Component,null):w.route.element?M=w.route.element:M=y,B.createElement(qx,{match:w,routeContext:{outlet:y,matches:R,isDataRoute:n!=null},children:M})};return n&&(w.route.ErrorBoundary||w.route.errorElement||A===0)?B.createElement(Py,{location:n.location,revalidation:n.revalidation,component:E,error:m,children:D(),routeContext:{outlet:null,matches:R,isDataRoute:!0},onError:h}):D()},null)}function Cg(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Hx(t){let e=B.useContext(Rc);return ir(e,Cg(t)),e}function $x(t){let e=B.useContext(Dh);return ir(e,Cg(t)),e}function Wx(t){let e=B.useContext(Es);return ir(e,Cg(t)),e}function Rg(t){let e=Wx(t),n=e.matches[e.matches.length-1];return ir(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Gx(){return Rg("useRouteId")}function Yx(){let t=B.useContext(Lg),e=$x("useRouteError"),n=Rg("useRouteError");return t!==void 0?t:e.errors?.[n]}function Vx(){let{router:t}=Hx("useNavigate"),e=Rg("useNavigate"),n=B.useRef(!1);return My(()=>{n.current=!0}),B.useCallback(async(l,s={})=>{Ha(n.current,zy),n.current&&(typeof l=="number"?await t.navigate(l):await t.navigate(l,{fromRouteId:e,...s}))},[t,e])}var N2={};function Uy(t,e,n){!e&&!N2[t]&&(N2[t]=!0,Ha(!1,n))}B.memo(Kx);function Kx({routes:t,future:e,state:n,onError:a}){return Iy(t,void 0,n,a,e)}function Xx({to:t,replace:e,state:n,relative:a}){ir(jc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=B.useContext(Sa);Ha(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=B.useContext(Es),{pathname:c}=Do(),d=Bh(),f=Ng(t,kg(s),c,a==="path"),h=JSON.stringify(f);return B.useEffect(()=>{d(JSON.parse(h),{replace:e,state:n,relative:a})},[d,h,a,e,n]),null}function Vs(t){ir(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Jx({basename:t="/",children:e=null,location:n,navigationType:a="POP",navigator:l,static:s=!1,unstable_useTransitions:c}){ir(!jc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),f=B.useMemo(()=>({basename:d,navigator:l,static:s,unstable_useTransitions:c,future:{}}),[d,l,s,c]);typeof n=="string"&&(n=Cc(n));let{pathname:h="/",search:y="",hash:w="",state:A=null,key:m="default"}=n,T=B.useMemo(()=>{let E=Oo(h,d);return E==null?null:{location:{pathname:E,search:y,hash:w,state:A,key:m},navigationType:a}},[d,h,y,w,A,m,a]);return Ha(T!=null,`<Router basename="${d}"> is not able to match the URL "${h}${y}${w}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:B.createElement(Sa.Provider,{value:f},B.createElement(Wd.Provider,{children:e,value:T}))}function Zx({children:t,location:e}){return Mx(Zp(t),e)}function Zp(t,e=[]){let n=[];return B.Children.forEach(t,(a,l)=>{if(!B.isValidElement(a))return;let s=[...e,l];if(a.type===B.Fragment){n.push.apply(n,Zp(a.props.children,s));return}ir(a.type===Vs,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ir(!a.props.index||!a.props.children,"An index route cannot have child routes.");let c={id:a.props.id||s.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(c.children=Zp(a.props.children,s)),n.push(c)}),n}var uh="get",ch="application/x-www-form-urlencoded";function zh(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function Qx(t){return zh(t)&&t.tagName.toLowerCase()==="button"}function e3(t){return zh(t)&&t.tagName.toLowerCase()==="form"}function t3(t){return zh(t)&&t.tagName.toLowerCase()==="input"}function n3(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function r3(t,e){return t.button===0&&(!e||e==="_self")&&!n3(t)}var Gf=null;function i3(){if(Gf===null)try{new FormData(document.createElement("form"),0),Gf=!1}catch{Gf=!0}return Gf}var a3=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gp(t){return t!=null&&!a3.has(t)?(Ha(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ch}"`),null):t}function s3(t,e){let n,a,l,s,c;if(e3(t)){let d=t.getAttribute("action");a=d?Oo(d,e):null,n=t.getAttribute("method")||uh,l=gp(t.getAttribute("enctype"))||ch,s=new FormData(t)}else if(Qx(t)||t3(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||d.getAttribute("action");if(a=f?Oo(f,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||uh,l=gp(t.getAttribute("formenctype"))||gp(d.getAttribute("enctype"))||ch,s=new FormData(d,t),!i3()){let{name:h,type:y,value:w}=t;if(y==="image"){let A=h?`${h}.`:"";s.append(`${A}x`,"0"),s.append(`${A}y`,"0")}else h&&s.append(h,w)}}else{if(zh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=uh,a=null,l=ch,c=t}return s&&l==="text/plain"&&(c=s,s=void 0),{action:a,method:n.toLowerCase(),encType:l,formData:s,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function jg(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function o3(t,e,n,a){let l=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?l.pathname.endsWith("/")?l.pathname=`${l.pathname}_.${a}`:l.pathname=`${l.pathname}.${a}`:l.pathname==="/"?l.pathname=`_root.${a}`:e&&Oo(l.pathname,e)==="/"?l.pathname=`${e.replace(/\/$/,"")}/_root.${a}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${a}`,l}async function l3(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function u3(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function c3(t,e,n){let a=await Promise.all(t.map(async l=>{let s=e.routes[l.route.id];if(s){let c=await l3(s,n);return c.links?c.links():[]}return[]}));return p3(a.flat(1).filter(u3).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function L2(t,e,n,a,l,s){let c=(f,h)=>n[h]?f.route.id!==n[h].route.id:!0,d=(f,h)=>n[h].pathname!==f.pathname||n[h].route.path?.endsWith("*")&&n[h].params["*"]!==f.params["*"];return s==="assets"?e.filter((f,h)=>c(f,h)||d(f,h)):s==="data"?e.filter((f,h)=>{let y=a.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(c(f,h)||d(f,h))return!0;if(f.route.shouldRevalidate){let w=f.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function d3(t,e,{includeHydrateFallback:n}={}){return f3(t.map(a=>{let l=e.routes[a.route.id];if(!l)return[];let s=[l.module];return l.clientActionModule&&(s=s.concat(l.clientActionModule)),l.clientLoaderModule&&(s=s.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(s=s.concat(l.hydrateFallbackModule)),l.imports&&(s=s.concat(l.imports)),s}).flat(1))}function f3(t){return[...new Set(t)]}function h3(t){let e={},n=Object.keys(t).sort();for(let a of n)e[a]=t[a];return e}function p3(t,e){let n=new Set;return new Set(e),t.reduce((a,l)=>{let s=JSON.stringify(h3(l));return n.has(s)||(n.add(s),a.push({key:s,link:l})),a},[])}function qy(){let t=B.useContext(Rc);return jg(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function g3(){let t=B.useContext(Dh);return jg(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Og=B.createContext(void 0);Og.displayName="FrameworkContext";function Fy(){let t=B.useContext(Og);return jg(t,"You must render this element inside a <HydratedRouter> element"),t}function m3(t,e){let n=B.useContext(Og),[a,l]=B.useState(!1),[s,c]=B.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:h,onMouseLeave:y,onTouchStart:w}=e,A=B.useRef(null);B.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let E=R=>{R.forEach(D=>{c(D.isIntersecting)})},L=new IntersectionObserver(E,{threshold:.5});return A.current&&L.observe(A.current),()=>{L.disconnect()}}},[t]),B.useEffect(()=>{if(a){let E=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(E)}}},[a]);let m=()=>{l(!0)},T=()=>{l(!1),c(!1)};return n?t!=="intent"?[s,A,{}]:[s,A,{onFocus:wd(d,m),onBlur:wd(f,T),onMouseEnter:wd(h,m),onMouseLeave:wd(y,T),onTouchStart:wd(w,m)}]:[!1,A,{}]}function wd(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function y3({page:t,...e}){let{router:n}=qy(),a=B.useMemo(()=>ky(n.routes,t,n.basename),[n.routes,t,n.basename]);return a?B.createElement(b3,{page:t,matches:a,...e}):null}function v3(t){let{manifest:e,routeModules:n}=Fy(),[a,l]=B.useState([]);return B.useEffect(()=>{let s=!1;return c3(t,e,n).then(c=>{s||l(c)}),()=>{s=!0}},[t,e,n]),a}function b3({page:t,matches:e,...n}){let a=Do(),{future:l,manifest:s,routeModules:c}=Fy(),{basename:d}=qy(),{loaderData:f,matches:h}=g3(),y=B.useMemo(()=>L2(t,e,h,s,a,"data"),[t,e,h,s,a]),w=B.useMemo(()=>L2(t,e,h,s,a,"assets"),[t,e,h,s,a]),A=B.useMemo(()=>{if(t===a.pathname+a.search+a.hash)return[];let E=new Set,L=!1;if(e.forEach(D=>{let M=s.routes[D.route.id];!M||!M.hasLoader||(!y.some(W=>W.route.id===D.route.id)&&D.route.id in f&&c[D.route.id]?.shouldRevalidate||M.hasClientLoader?L=!0:E.add(D.route.id))}),E.size===0)return[];let R=o3(t,d,l.unstable_trailingSlashAwareDataRequests,"data");return L&&E.size>0&&R.searchParams.set("_routes",e.filter(D=>E.has(D.route.id)).map(D=>D.route.id).join(",")),[R.pathname+R.search]},[d,l.unstable_trailingSlashAwareDataRequests,f,a,s,y,e,t,c]),m=B.useMemo(()=>d3(w,s),[w,s]),T=v3(w);return B.createElement(B.Fragment,null,A.map(E=>B.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),m.map(E=>B.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),T.map(({key:E,link:L})=>B.createElement("link",{key:E,nonce:n.nonce,...L})))}function w3(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var x3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{x3&&(window.__reactRouterVersion="7.12.0")}catch{}function _3({basename:t,children:e,unstable_useTransitions:n,window:a}){let l=B.useRef();l.current==null&&(l.current=ex({window:a,v5Compat:!0}));let s=l.current,[c,d]=B.useState({action:s.action,location:s.location}),f=B.useCallback(h=>{n===!1?d(h):B.startTransition(()=>d(h))},[n]);return B.useLayoutEffect(()=>s.listen(f),[s,f]),B.createElement(Jx,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:s,unstable_useTransitions:n})}var Hy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dg=B.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:l,reloadDocument:s,replace:c,state:d,target:f,to:h,preventScrollReset:y,viewTransition:w,unstable_defaultShouldRevalidate:A,...m},T){let{basename:E,unstable_useTransitions:L}=B.useContext(Sa),R=typeof h=="string"&&Hy.test(h),D=jy(h,E);h=D.to;let M=Dx(h,{relative:l}),[W,ue,ce]=m3(a,m),Z=T3(h,{replace:c,state:d,target:f,preventScrollReset:y,relative:l,viewTransition:w,unstable_defaultShouldRevalidate:A,unstable_useTransitions:L});function ee(fe){e&&e(fe),fe.defaultPrevented||Z(fe)}let q=B.createElement("a",{...m,...ce,href:D.absoluteURL||M,onClick:D.isExternal||s?e:ee,ref:w3(T,ue),target:f,"data-discover":!R&&n==="render"?"true":void 0});return W&&!R?B.createElement(B.Fragment,null,q,B.createElement(y3,{page:M})):q});Dg.displayName="Link";var S3=B.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:l=!1,style:s,to:c,viewTransition:d,children:f,...h},y){let w=Gd(c,{relative:h.relative}),A=Do(),m=B.useContext(Dh),{navigator:T,basename:E}=B.useContext(Sa),L=m!=null&&R3(w)&&d===!0,R=T.encodeLocation?T.encodeLocation(w).pathname:w.pathname,D=A.pathname,M=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(D=D.toLowerCase(),M=M?M.toLowerCase():null,R=R.toLowerCase()),M&&E&&(M=Oo(M,E)||M);const W=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let ue=D===R||!l&&D.startsWith(R)&&D.charAt(W)==="/",ce=M!=null&&(M===R||!l&&M.startsWith(R)&&M.charAt(R.length)==="/"),Z={isActive:ue,isPending:ce,isTransitioning:L},ee=ue?e:void 0,q;typeof a=="function"?q=a(Z):q=[a,ue?"active":null,ce?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let fe=typeof s=="function"?s(Z):s;return B.createElement(Dg,{...h,"aria-current":ee,className:q,ref:y,style:fe,to:c,viewTransition:d},typeof f=="function"?f(Z):f)});S3.displayName="NavLink";var A3=B.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:l,state:s,method:c=uh,action:d,onSubmit:f,relative:h,preventScrollReset:y,viewTransition:w,unstable_defaultShouldRevalidate:A,...m},T)=>{let{unstable_useTransitions:E}=B.useContext(Sa),L=L3(),R=C3(d,{relative:h}),D=c.toLowerCase()==="get"?"get":"post",M=typeof d=="string"&&Hy.test(d),W=ue=>{if(f&&f(ue),ue.defaultPrevented)return;ue.preventDefault();let ce=ue.nativeEvent.submitter,Z=ce?.getAttribute("formmethod")||c,ee=()=>L(ce||ue.currentTarget,{fetcherKey:e,method:Z,navigate:n,replace:l,state:s,relative:h,preventScrollReset:y,viewTransition:w,unstable_defaultShouldRevalidate:A});E&&n!==!1?B.startTransition(()=>ee()):ee()};return B.createElement("form",{ref:T,method:D,action:R,onSubmit:a?f:W,...m,"data-discover":!M&&t==="render"?"true":void 0})});A3.displayName="Form";function E3(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $y(t){let e=B.useContext(Rc);return ir(e,E3(t)),e}function T3(t,{target:e,replace:n,state:a,preventScrollReset:l,relative:s,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:f}={}){let h=Bh(),y=Do(),w=Gd(t,{relative:s});return B.useCallback(A=>{if(r3(A,e)){A.preventDefault();let m=n!==void 0?n:Od(y)===Od(w),T=()=>h(t,{replace:m,state:a,preventScrollReset:l,relative:s,viewTransition:c,unstable_defaultShouldRevalidate:d});f?B.startTransition(()=>T()):T()}},[y,h,w,n,a,e,t,l,s,c,d,f])}var k3=0,N3=()=>`__${String(++k3)}__`;function L3(){let{router:t}=$y("useSubmit"),{basename:e}=B.useContext(Sa),n=Gx(),a=t.fetch,l=t.navigate;return B.useCallback(async(s,c={})=>{let{action:d,method:f,encType:h,formData:y,body:w}=s3(s,e);if(c.navigate===!1){let A=c.fetcherKey||N3();await a(A,n,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:w,formMethod:c.method||f,formEncType:c.encType||h,flushSync:c.flushSync})}else await l(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:w,formMethod:c.method||f,formEncType:c.encType||h,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[a,l,e,n])}function C3(t,{relative:e}={}){let{basename:n}=B.useContext(Sa),a=B.useContext(Es);ir(a,"useFormAction must be used inside a RouteContext");let[l]=a.matches.slice(-1),s={...Gd(t||".",{relative:e})},c=Do();if(t==null){s.search=c.search;let d=new URLSearchParams(s.search),f=d.getAll("index");if(f.some(y=>y==="")){d.delete("index"),f.filter(w=>w).forEach(w=>d.append("index",w));let y=d.toString();s.search=y?`?${y}`:""}}return(!t||t===".")&&l.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:jo([n,s.pathname])),Od(s)}function R3(t,{relative:e}={}){let n=B.useContext(Dy);ir(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=$y("useViewTransitionState"),l=Gd(t,{relative:e});if(!n.isTransitioning)return!1;let s=Oo(n.currentLocation.pathname,a)||n.currentLocation.pathname,c=Oo(n.nextLocation.pathname,a)||n.nextLocation.pathname;return vh(l.pathname,c)!=null||vh(l.pathname,s)!=null}var Ad=Ty();function Mh(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(t);l<a.length;l++)e.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(t,a[l])&&(n[a[l]]=t[a[l]]);return n}function j3(t,e,n,a){function l(s){return s instanceof n?s:new n(function(c){c(s)})}return new(n||(n=Promise))(function(s,c){function d(y){try{h(a.next(y))}catch(w){c(w)}}function f(y){try{h(a.throw(y))}catch(w){c(w)}}function h(y){y.done?s(y.value):l(y.value).then(d,f)}h((a=a.apply(t,e||[])).next())})}const O3=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Bg extends Error{constructor(e,n="FunctionsError",a){super(e),this.name=n,this.context=a}}class D3 extends Bg{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class C2 extends Bg{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class R2 extends Bg{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Qp;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Qp||(Qp={}));class B3{constructor(e,{headers:n={},customFetch:a,region:l=Qp.Any}={}){this.url=e,this.headers=n,this.region=l,this.fetch=O3(a)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return j3(this,arguments,void 0,function*(n,a={}){var l;let s,c;try{const{headers:d,method:f,body:h,signal:y,timeout:w}=a;let A={},{region:m}=a;m||(m=this.region);const T=new URL(`${this.url}/${n}`);m&&m!=="any"&&(A["x-region"]=m,T.searchParams.set("forceFunctionRegion",m));let E;h&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(A["Content-Type"]="application/octet-stream",E=h):typeof h=="string"?(A["Content-Type"]="text/plain",E=h):typeof FormData<"u"&&h instanceof FormData?E=h:(A["Content-Type"]="application/json",E=JSON.stringify(h)):h&&typeof h!="string"&&!(typeof Blob<"u"&&h instanceof Blob)&&!(h instanceof ArrayBuffer)&&!(typeof FormData<"u"&&h instanceof FormData)?E=JSON.stringify(h):E=h;let L=y;w&&(c=new AbortController,s=setTimeout(()=>c.abort(),w),y?(L=c.signal,y.addEventListener("abort",()=>c.abort())):L=c.signal);const R=yield this.fetch(T.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},A),this.headers),d),body:E,signal:L}).catch(ue=>{throw new D3(ue)}),D=R.headers.get("x-relay-error");if(D&&D==="true")throw new C2(R);if(!R.ok)throw new R2(R);let M=((l=R.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),W;return M==="application/json"?W=yield R.json():M==="application/octet-stream"||M==="application/pdf"?W=yield R.blob():M==="text/event-stream"?W=R:M==="multipart/form-data"?W=yield R.formData():W=yield R.text(),{data:W,error:null,response:R}}catch(d){return{data:null,error:d,response:d instanceof R2||d instanceof C2?d.context:void 0}}finally{s&&clearTimeout(s)}})}}var z3=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},M3=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let c=null,d=null,f=null,h=s.status,y=s.statusText;if(s.ok){var w,A;if(n.method!=="HEAD"){var m;const R=await s.text();R===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((m=n.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?d=R:d=JSON.parse(R))}const E=(w=n.headers.get("Prefer"))===null||w===void 0?void 0:w.match(/count=(exact|planned|estimated)/),L=(A=s.headers.get("content-range"))===null||A===void 0?void 0:A.split("/");E&&L&&L.length>1&&(f=parseInt(L[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,y="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{var T;const E=await s.text();try{c=JSON.parse(E),Array.isArray(c)&&s.status===404&&(d=[],c=null,h=200,y="OK")}catch{s.status===404&&E===""?(h=204,y="No Content"):c={message:E}}if(c&&n.isMaybeSingle&&(!(c==null||(T=c.details)===null||T===void 0)&&T.includes("0 rows"))&&(c=null,h=200,y="OK"),c&&n.shouldThrowOnError)throw new z3(c)}return{error:c,data:d,count:f,status:h,statusText:y}});return this.shouldThrowOnError||(l=l.catch(s=>{var c;let d="";const f=s?.cause;if(f){var h,y,w,A;const T=(h=f?.message)!==null&&h!==void 0?h:"",E=(y=f?.code)!==null&&y!==void 0?y:"";d=`${(w=s?.name)!==null&&w!==void 0?w:"FetchError"}: ${s?.message}`,d+=`

Caused by: ${(A=f?.name)!==null&&A!==void 0?A:"Error"}: ${T}`,E&&(d+=` (${E})`),f?.stack&&(d+=`
${f.stack}`)}else{var m;d=(m=s?.stack)!==null&&m!==void 0?m:""}return{error:{message:`${(c=s?.name)!==null&&c!==void 0?c:"FetchError"}: ${s?.message}`,details:d,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),l.then(t,e)}returns(){return this}overrideTypes(){return this}},I3=class extends M3{select(t){let e=!1;const n=(t??"*").split("").map(a=>/\s/.test(a)&&!e?"":(a==='"'&&(e=!e),a)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:a,referencedTable:l=a}={}){const s=l?`${l}.order`:"order",c=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${c?`${c},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:a=n}={}){const l=typeof a>"u"?"offset":`${a}.offset`,s=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${t}`),this.url.searchParams.set(s,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:a=!1,wal:l=!1,format:s="text"}={}){var c;const d=[t?"analyze":null,e?"verbose":null,n?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),f=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${f}"; options=${d};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const j2=new RegExp("[,()]");var yc=class extends I3{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(a=>typeof a=="string"&&j2.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(a=>typeof a=="string"&&j2.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${l}fts${s}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},P3=class{constructor(t,{headers:e={},schema:n,fetch:a}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=a}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:n=!1,count:a}=e??{},l=n?"HEAD":"GET";let s=!1;const c=(t??"*").split("").map(h=>/\s/.test(h)&&!s?"":(h==='"'&&(s=!s),h)).join(""),{url:d,headers:f}=this.cloneRequestState();return d.searchParams.set("select",c),a&&f.append("Prefer",`count=${a}`),new yc({method:l,url:d,headers:f,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var a;const l="POST",{url:s,headers:c}=this.cloneRequestState();if(e&&c.append("Prefer",`count=${e}`),n||c.append("Prefer","missing=default"),Array.isArray(t)){const d=t.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(d.length>0){const f=[...new Set(d)].map(h=>`"${h}"`);s.searchParams.set("columns",f.join(","))}}return new yc({method:l,url:s,headers:c,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:a,defaultToNull:l=!0}={}){var s;const c="POST",{url:d,headers:f}=this.cloneRequestState();if(f.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&d.searchParams.set("on_conflict",e),a&&f.append("Prefer",`count=${a}`),l||f.append("Prefer","missing=default"),Array.isArray(t)){const h=t.reduce((y,w)=>y.concat(Object.keys(w)),[]);if(h.length>0){const y=[...new Set(h)].map(w=>`"${w}"`);d.searchParams.set("columns",y.join(","))}}return new yc({method:c,url:d,headers:f,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(t,{count:e}={}){var n;const a="PATCH",{url:l,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new yc({method:a,url:l,headers:s,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE",{url:a,headers:l}=this.cloneRequestState();return t&&l.append("Prefer",`count=${t}`),new yc({method:n,url:a,headers:l,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},U3=class Wy{constructor(e,{headers:n={},schema:a,fetch:l}={}){this.url=e,this.headers=new Headers(n),this.schemaName=a,this.fetch=l}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new P3(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Wy(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:a=!1,get:l=!1,count:s}={}){var c;let d;const f=new URL(`${this.url}/rpc/${e}`);let h;const y=m=>m!==null&&typeof m=="object"&&(!Array.isArray(m)||m.some(y)),w=a&&Object.values(n).some(y);w?(d="POST",h=n):a||l?(d=a?"HEAD":"GET",Object.entries(n).filter(([m,T])=>T!==void 0).map(([m,T])=>[m,Array.isArray(T)?`{${T.join(",")}}`:`${T}`]).forEach(([m,T])=>{f.searchParams.append(m,T)})):(d="POST",h=n);const A=new Headers(this.headers);return w?A.set("Prefer",s?`count=${s},return=minimal`:"return=minimal"):s&&A.set("Prefer",`count=${s}`),new yc({method:d,url:f,headers:A,schema:this.schemaName,body:h,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}};class q3{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const a=n.versions;if(a&&a.node){const l=a.node,s=parseInt(l.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const a=this.getWebSocketConstructor();return new a(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const F3="2.91.0",H3=`realtime-js/${F3}`,$3="1.0.0",Gy="2.0.0",O2=Gy,eg=1e4,W3=1e3,G3=100;var bl;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(bl||(bl={}));var Kr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Kr||(Kr={}));var xs;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(xs||(xs={}));var tg;(function(t){t.websocket="websocket"})(tg||(tg={}));var ou;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ou||(ou={}));class Y3{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let a=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(a))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,a;const l=(a=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&a!==void 0?a:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,l)}_encodeJsonUserBroadcastPush(e){var n,a;const l=(a=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&a!==void 0?a:{},c=new TextEncoder().encode(JSON.stringify(l)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(e,n,a){var l,s;const c=e.topic,d=(l=e.ref)!==null&&l!==void 0?l:"",f=(s=e.join_ref)!==null&&s!==void 0?s:"",h=e.payload.event,y=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},w=Object.keys(y).length===0?"":JSON.stringify(y);if(f.length>255)throw new Error(`joinRef length ${f.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`ref length ${d.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`userEvent length ${h.length} exceeds maximum of 255`);if(w.length>255)throw new Error(`metadata length ${w.length} exceeds maximum of 255`);const A=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+d.length+c.length+h.length+w.length,m=new ArrayBuffer(this.HEADER_LENGTH+A);let T=new DataView(m),E=0;T.setUint8(E++,this.KINDS.userBroadcastPush),T.setUint8(E++,f.length),T.setUint8(E++,d.length),T.setUint8(E++,c.length),T.setUint8(E++,h.length),T.setUint8(E++,w.length),T.setUint8(E++,n),Array.from(f,R=>T.setUint8(E++,R.charCodeAt(0))),Array.from(d,R=>T.setUint8(E++,R.charCodeAt(0))),Array.from(c,R=>T.setUint8(E++,R.charCodeAt(0))),Array.from(h,R=>T.setUint8(E++,R.charCodeAt(0))),Array.from(w,R=>T.setUint8(E++,R.charCodeAt(0)));var L=new Uint8Array(m.byteLength+a.byteLength);return L.set(new Uint8Array(m),0),L.set(new Uint8Array(a),m.byteLength),L.buffer}decode(e,n){if(this._isArrayBuffer(e)){let a=this._binaryDecode(e);return n(a)}if(typeof e=="string"){const a=JSON.parse(e),[l,s,c,d,f]=a;return n({join_ref:l,ref:s,topic:c,event:d,payload:f})}return n({})}_binaryDecode(e){const n=new DataView(e),a=n.getUint8(0),l=new TextDecoder;if(a===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,n,l)}_decodeUserBroadcast(e,n,a){const l=n.getUint8(1),s=n.getUint8(2),c=n.getUint8(3),d=n.getUint8(4);let f=this.HEADER_LENGTH+4;const h=a.decode(e.slice(f,f+l));f=f+l;const y=a.decode(e.slice(f,f+s));f=f+s;const w=a.decode(e.slice(f,f+c));f=f+c;const A=e.slice(f,e.byteLength),m=d===this.JSON_ENCODING?JSON.parse(a.decode(A)):A,T={type:this.BROADCAST_EVENT,event:y,payload:m};return c>0&&(T.meta=JSON.parse(w)),{join_ref:null,ref:null,topic:h,event:this.BROADCAST_EVENT,payload:T}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([a])=>n.includes(a)))}}class Yy{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Hn;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Hn||(Hn={}));const D2=(t,e,n={})=>{var a;const l=(a=n.skipTypes)!==null&&a!==void 0?a:[];return e?Object.keys(e).reduce((s,c)=>(s[c]=V3(c,t,e,l),s),{}):{}},V3=(t,e,n,a)=>{const l=e.find(d=>d.name===t),s=l?.type,c=n[t];return s&&!a.includes(s)?Vy(s,c):ng(c)},Vy=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Z3(e,n)}switch(t){case Hn.bool:return K3(e);case Hn.float4:case Hn.float8:case Hn.int2:case Hn.int4:case Hn.int8:case Hn.numeric:case Hn.oid:return X3(e);case Hn.json:case Hn.jsonb:return J3(e);case Hn.timestamp:return Q3(e);case Hn.abstime:case Hn.date:case Hn.daterange:case Hn.int4range:case Hn.int8range:case Hn.money:case Hn.reltime:case Hn.text:case Hn.time:case Hn.timestamptz:case Hn.timetz:case Hn.tsrange:case Hn.tstzrange:return ng(e);default:return ng(e)}},ng=t=>t,K3=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},X3=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},J3=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},Z3=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,a=t[n];if(t[0]==="{"&&a==="}"){let s;const c=t.slice(1,n);try{s=JSON.parse("["+c+"]")}catch{s=c?c.split(","):[]}return s.map(d=>Vy(e,d))}return t},Q3=t=>typeof t=="string"?t.replace(" ","T"):t,Ky=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class mp{constructor(e,n,a={},l=eg){this.channel=e,this.event=n,this.payload=a,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var a;return this._hasReceived(e)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(a=>a.status===e).forEach(a=>a.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var B2;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(B2||(B2={}));class Td{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},l=>{const{onJoin:s,onLeave:c,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Td.syncState(this.state,l,s,c),this.pendingDiffs.forEach(f=>{this.state=Td.syncDiff(this.state,f,s,c)}),this.pendingDiffs=[],d()}),this.channel._on(a.diff,{},l=>{const{onJoin:s,onLeave:c,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=Td.syncDiff(this.state,l,s,c),d())}),this.onJoin((l,s,c)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:s,newPresences:c})}),this.onLeave((l,s,c)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:s,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,a,l){const s=this.cloneDeep(e),c=this.transformState(n),d={},f={};return this.map(s,(h,y)=>{c[h]||(f[h]=y)}),this.map(c,(h,y)=>{const w=s[h];if(w){const A=y.map(L=>L.presence_ref),m=w.map(L=>L.presence_ref),T=y.filter(L=>m.indexOf(L.presence_ref)<0),E=w.filter(L=>A.indexOf(L.presence_ref)<0);T.length>0&&(d[h]=T),E.length>0&&(f[h]=E)}else d[h]=y}),this.syncDiff(s,{joins:d,leaves:f},a,l)}static syncDiff(e,n,a,l){const{joins:s,leaves:c}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),l||(l=()=>{}),this.map(s,(d,f)=>{var h;const y=(h=e[d])!==null&&h!==void 0?h:[];if(e[d]=this.cloneDeep(f),y.length>0){const w=e[d].map(m=>m.presence_ref),A=y.filter(m=>w.indexOf(m.presence_ref)<0);e[d].unshift(...A)}a(d,y,f)}),this.map(c,(d,f)=>{let h=e[d];if(!h)return;const y=f.map(w=>w.presence_ref);h=h.filter(w=>y.indexOf(w.presence_ref)<0),e[d]=h,l(d,h,f),h.length===0&&delete e[d]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(a=>n(a,e[a]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,a)=>{const l=e[a];return"metas"in l?n[a]=l.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[a]=l,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var z2;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(z2||(z2={}));var kd;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(kd||(kd={}));var Co;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Co||(Co={}));class _c{constructor(e,n={config:{}},a){var l,s;if(this.topic=e,this.params=n,this.socket=a,this.bindings={},this.state=Kr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new mp(this,xs.join,this.params,this.timeout),this.rejoinTimer=new Yy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Kr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Kr.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Kr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Kr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Kr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(xs.reply,{},(c,d)=>{this._trigger(this._replyEventName(d),c)}),this.presence=new Td(this),this.broadcastEndpointURL=Ky(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(l=this.params.config)===null||l===void 0?void 0:l.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var a,l,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Kr.closed){const{config:{broadcast:c,presence:d,private:f}}=this.params,h=(l=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(m=>m.filter))!==null&&l!==void 0?l:[],y=!!this.bindings[kd.PRESENCE]&&this.bindings[kd.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,w={},A={broadcast:c,presence:Object.assign(Object.assign({},d),{enabled:y}),postgres_changes:h,private:f};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(m=>e?.(Co.CHANNEL_ERROR,m)),this._onClose(()=>e?.(Co.CLOSED)),this.updateJoinPayload(Object.assign({config:A},w)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var T;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){e?.(Co.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,L=(T=E?.length)!==null&&T!==void 0?T:0,R=[];for(let D=0;D<L;D++){const M=E[D],{filter:{event:W,schema:ue,table:ce,filter:Z}}=M,ee=m&&m[D];if(ee&&ee.event===W&&_c.isFilterValueEqual(ee.schema,ue)&&_c.isFilterValueEqual(ee.table,ce)&&_c.isFilterValueEqual(ee.filter,Z))R.push(Object.assign(Object.assign({},M),{id:ee.id}));else{this.unsubscribe(),this.state=Kr.errored,e?.(Co.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=R,e&&e(Co.SUBSCRIBED);return}}).receive("error",m=>{this.state=Kr.errored,e?.(Co.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e?.(Co.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,a){return this.state===Kr.joined&&e===kd.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,a)}async httpSend(e,n,a={}){var l;if(n==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(l=a.timeout)!==null&&l!==void 0?l:this.timeout);if(d.status===202)return{success:!0};let f=d.statusText;try{const h=await d.json();f=h.error||h.message||f}catch{}return Promise.reject(new Error(f))}async send(e,n={}){var a,l;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:c}=e,d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:c,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((l=h.body)===null||l===void 0?void 0:l.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var c,d,f;const h=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(d=(c=this.params)===null||c===void 0?void 0:c.config)===null||d===void 0?void 0:d.broadcast)===null||f===void 0)&&f.ack)&&s("ok"),h.receive("ok",()=>s("ok")),h.receive("error",()=>s("error")),h.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Kr.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(xs.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(l=>{a=new mp(this,xs.leave,{},e),a.receive("ok",()=>{n(),l("ok")}).receive("timeout",()=>{n(),l("timed out")}).receive("error",()=>{l("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Kr.closed,this.bindings={}}async _fetchWithTimeout(e,n,a){const l=new AbortController,s=setTimeout(()=>l.abort(),a),c=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:l.signal}));return clearTimeout(s),c}_push(e,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new mp(this,e,n,a);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>G3){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,a){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,a){var l,s;const c=e.toLocaleLowerCase(),{close:d,error:f,leave:h,join:y}=xs;if(a&&[d,f,h,y].indexOf(c)>=0&&a!==this._joinRef())return;let A=this._onMessage(c,n,a);if(n&&!A)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(m=>{var T,E,L;return((T=m.filter)===null||T===void 0?void 0:T.event)==="*"||((L=(E=m.filter)===null||E===void 0?void 0:E.event)===null||L===void 0?void 0:L.toLocaleLowerCase())===c}).map(m=>m.callback(A,a)):(s=this.bindings[c])===null||s===void 0||s.filter(m=>{var T,E,L,R,D,M,W,ue;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in m){const ce=m.id,Z=(T=m.filter)===null||T===void 0?void 0:T.event;return ce&&((E=n.ids)===null||E===void 0?void 0:E.includes(ce))&&(Z==="*"||Z?.toLocaleLowerCase()===((L=n.data)===null||L===void 0?void 0:L.type.toLocaleLowerCase()))&&(!(!((R=m.filter)===null||R===void 0)&&R.table)||m.filter.table===((D=n.data)===null||D===void 0?void 0:D.table))}else{const ce=(W=(M=m?.filter)===null||M===void 0?void 0:M.event)===null||W===void 0?void 0:W.toLocaleLowerCase();return ce==="*"||ce===((ue=n?.event)===null||ue===void 0?void 0:ue.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===c}).map(m=>{if(typeof A=="object"&&"ids"in A){const T=A.data,{schema:E,table:L,commit_timestamp:R,type:D,errors:M}=T;A=Object.assign(Object.assign({},{schema:E,table:L,commit_timestamp:R,eventType:D,new:{},old:{},errors:M}),this._getPayloadRecords(T))}m.callback(A,a)})}_isClosed(){return this.state===Kr.closed}_isJoined(){return this.state===Kr.joined}_isJoining(){return this.state===Kr.joining}_isLeaving(){return this.state===Kr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,a){const l=e.toLocaleLowerCase(),s={type:l,filter:n,callback:a};return this.bindings[l]?this.bindings[l].push(s):this.bindings[l]=[s],this}_off(e,n){const a=e.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(l=>{var s;return!(((s=l.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===a&&_c.isEqual(l.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const a in e)if(e[a]!==n[a])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(xs.close,{},e)}_onError(e){this._on(xs.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Kr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=D2(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=D2(e.columns,e.old_record)),n}}const yp=()=>{},Yf={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},e_=[1e3,2e3,5e3,1e4],t_=1e4,n_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class r_{constructor(e,n){var a;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=eg,this.transport=null,this.heartbeatIntervalMs=Yf.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=yp,this.ref=0,this.reconnectTimer=null,this.vsn=O2,this.logger=yp,this.conn=null,this.sendBuffer=[],this.serializer=new Y3,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=l=>l?(...s)=>l(...s):(...s)=>fetch(...s),!(!((a=n?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${tg.websocket}`,this.httpEndpoint=Ky(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=q3.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,a){this.logger(e,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case bl.connecting:return ou.Connecting;case bl.open:return ou.Open;case bl.closing:return ou.Closing;default:return ou.Closed}}isConnected(){return this.connectionState()===ou.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const a=`realtime:${e}`,l=this.getChannels().find(s=>s.topic===a);if(l)return l;{const s=new _c(`realtime:${e}`,n,this);return this.channels.push(s),s}}push(e){const{topic:n,event:a,payload:l,ref:s}=e,c=()=>{this.encode(e,d=>{var f;(f=this.conn)===null||f===void 0||f.send(d)})};this.log("push",`${n} ${a} (${s})`,l),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(W3,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Yf.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(a=>a.topic===e&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const h=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",h)}catch(y){this.log("error","error in heartbeat callback",y)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:a,event:l,payload:s,ref:c}=n,d=c?`(${c})`:"",f=s.status||"";this.log("receive",`${f} ${a} ${l} ${d}`.trim(),s),this.channels.filter(h=>h._isMember(a)).forEach(h=>h._trigger(l,s,c)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===bl.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===bl.open||this.conn.readyState===bl.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(xs.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const a=e.match(/\?/)?"&":"?",l=new URLSearchParams(n);return`${e}${a}${l}`}_workerObjectUrl(e){let n;if(e)n=e;else{const a=new Blob([n_],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,a=!1;if(e)n=e,a=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(l){this.log("error","Error fetching access token from callback",l),n=this.accessTokenValue}else n=this.accessTokenValue;a?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(l=>{const s={access_token:n,version:H3};n&&l.updateJoinPayload(s),l.joinedOnce&&l._isJoined()&&l._push(xs.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(a=>{try{a(n)}catch(l){this.log("error",`error in ${e} callback`,l)}})}catch(a){this.log("error",`error triggering ${e} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new Yy(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Yf.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,a,l,s,c,d,f,h,y,w,A,m;switch(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(a=e?.timeout)!==null&&a!==void 0?a:eg,this.heartbeatIntervalMs=(l=e?.heartbeatIntervalMs)!==null&&l!==void 0?l:Yf.HEARTBEAT_INTERVAL,this.worker=(s=e?.worker)!==null&&s!==void 0?s:!1,this.accessToken=(c=e?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(d=e?.heartbeatCallback)!==null&&d!==void 0?d:yp,this.vsn=(f=e?.vsn)!==null&&f!==void 0?f:O2,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=e?.reconnectAfterMs)!==null&&h!==void 0?h:(T=>e_[T-1]||t_),this.vsn){case $3:this.encode=(y=e?.encode)!==null&&y!==void 0?y:((T,E)=>E(JSON.stringify(T))),this.decode=(w=e?.decode)!==null&&w!==void 0?w:((T,E)=>E(JSON.parse(T)));break;case Gy:this.encode=(A=e?.encode)!==null&&A!==void 0?A:this.serializer.encode.bind(this.serializer),this.decode=(m=e?.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var Dd=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function i_(t,e,n){const a=new URL(e,t);if(n)for(const[l,s]of Object.entries(n))s!==void 0&&a.searchParams.set(l,s);return a.toString()}async function a_(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function s_(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:a,query:l,body:s,headers:c}){const d=i_(t.baseUrl,a,l),f=await a_(t.auth),h=await e(d,{method:n,headers:{...s?{"Content-Type":"application/json"}:{},...f,...c},body:s?JSON.stringify(s):void 0}),y=await h.text(),w=(h.headers.get("content-type")||"").includes("application/json"),A=w&&y?JSON.parse(y):y;if(!h.ok){const m=w?A:void 0,T=m?.error;throw new Dd(T?.message??`Request failed with status ${h.status}`,{status:h.status,icebergType:T?.type,icebergCode:T?.code,details:m})}return{status:h.status,headers:h.headers,data:A}}}}function Vf(t){return t.join("")}var o_=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Vf(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(a=>({namespace:a}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Vf(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Vf(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Vf(t.namespace)}`}),!0}catch(e){if(e instanceof Dd&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof Dd&&n.status===409)return;throw n}}};function oc(t){return t.join("")}var l_=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${oc(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${oc(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${oc(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${oc(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${oc(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${oc(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof Dd&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof Dd&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},u_=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=s_({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new o_(this.client,e),this.tableOps=new l_(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Ih=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function dr(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var c_=class extends Ih{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},rg=class extends Ih{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const zg=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),d_=()=>Response,ig=t=>{if(Array.isArray(t))return t.map(n=>ig(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,a])=>{const l=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[l]=ig(a)}),e},f_=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},h_=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Bd(t){"@babel/helpers - typeof";return Bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bd(t)}function p_(t,e){if(Bd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(Bd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function g_(t){var e=p_(t,"string");return Bd(e)=="symbol"?e:e+""}function m_(t,e,n){return(e=g_(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,a)}return n}function It(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M2(Object(n),!0).forEach(function(a){m_(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M2(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}const vp=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},y_=async(t,e,n)=>{t instanceof await d_()&&!n?.noResolveJson?t.json().then(a=>{const l=t.status||500,s=a?.statusCode||l+"";e(new c_(vp(a),l,s))}).catch(a=>{e(new rg(vp(a),a))}):e(new rg(vp(t),t))},v_=(t,e,n,a)=>{const l={method:t,headers:e?.headers||{}};return t==="GET"||!a?l:(f_(a)?(l.headers=It({"Content-Type":"application/json"},e?.headers),l.body=JSON.stringify(a)):l.body=a,e?.duplex&&(l.duplex=e.duplex),It(It({},l),n))};async function Yd(t,e,n,a,l,s){return new Promise((c,d)=>{t(n,v_(e,a,l,s)).then(f=>{if(!f.ok)throw f;return a?.noResolveJson?f:f.json()}).then(f=>c(f)).catch(f=>y_(f,d,a))})}async function zd(t,e,n,a){return Yd(t,"GET",e,n,a)}async function ws(t,e,n,a,l){return Yd(t,"POST",e,a,l,n)}async function ag(t,e,n,a,l){return Yd(t,"PUT",e,a,l,n)}async function b_(t,e,n,a){return Yd(t,"HEAD",e,It(It({},n),{},{noResolveJson:!0}),a)}async function Mg(t,e,n,a,l){return Yd(t,"DELETE",e,a,l,n)}var w_=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(dr(e))return{data:null,error:e};throw e}}};let Xy;Xy=Symbol.toStringTag;var x_=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[Xy]="BlobDownloadBuilder",this.promise=null}asStream(){return new w_(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(dr(e))return{data:null,error:e};throw e}}};const __={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},I2={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var S_=class{constructor(t,e={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=zg(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,a){var l=this;try{let s;const c=It(It({},I2),a);let d=It(It({},l.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const f=c.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",c.cacheControl),f&&s.append("metadata",l.encodeMetadata(f)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.has("cacheControl")||s.append("cacheControl",c.cacheControl),f&&!s.has("metadata")&&s.append("metadata",l.encodeMetadata(f))):(s=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType,f&&(d["x-metadata"]=l.toBase64(l.encodeMetadata(f))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!c.duplex&&(c.duplex="half")),a?.headers&&(d=It(It({},d),a.headers));const h=l._removeEmptyFolders(e),y=l._getFinalPath(h),w=await(t=="PUT"?ag:ws)(l.fetch,`${l.url}/object/${y}`,s,It({headers:d},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:h,id:w.Id,fullPath:w.Key},error:null}}catch(s){if(l.shouldThrowOnError)throw s;if(dr(s))return{data:null,error:s};throw s}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,a){var l=this;const s=l._removeEmptyFolders(t),c=l._getFinalPath(s),d=new URL(l.url+`/object/upload/sign/${c}`);d.searchParams.set("token",e);try{let f;const h=It({upsert:I2.upsert},a),y=It(It({},l.headers),{"x-upsert":String(h.upsert)});return typeof Blob<"u"&&n instanceof Blob?(f=new FormData,f.append("cacheControl",h.cacheControl),f.append("",n)):typeof FormData<"u"&&n instanceof FormData?(f=n,f.append("cacheControl",h.cacheControl)):(f=n,y["cache-control"]=`max-age=${h.cacheControl}`,y["content-type"]=h.contentType),{data:{path:s,fullPath:(await ag(l.fetch,d.toString(),f,{headers:y})).Key},error:null}}catch(f){if(l.shouldThrowOnError)throw f;if(dr(f))return{data:null,error:f};throw f}}async createSignedUploadUrl(t,e){var n=this;try{let a=n._getFinalPath(t);const l=It({},n.headers);e?.upsert&&(l["x-upsert"]="true");const s=await ws(n.fetch,`${n.url}/object/upload/sign/${a}`,{},{headers:l}),c=new URL(n.url+s.url),d=c.searchParams.get("token");if(!d)throw new Ih("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:d},error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(dr(a))return{data:null,error:a};throw a}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var a=this;try{return{data:await ws(a.fetch,`${a.url}/object/move`,{bucketId:a.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:a.headers}),error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(dr(l))return{data:null,error:l};throw l}}async copy(t,e,n){var a=this;try{return{data:{path:(await ws(a.fetch,`${a.url}/object/copy`,{bucketId:a.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:a.headers})).Key},error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(dr(l))return{data:null,error:l};throw l}}async createSignedUrl(t,e,n){var a=this;try{let l=a._getFinalPath(t),s=await ws(a.fetch,`${a.url}/object/sign/${l}`,It({expiresIn:e},n?.transform?{transform:n.transform}:{}),{headers:a.headers});const c=n?.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${a.url}${s.signedURL}${c}`)},{data:s,error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(dr(l))return{data:null,error:l};throw l}}async createSignedUrls(t,e,n){var a=this;try{const l=await ws(a.fetch,`${a.url}/object/sign/${a.bucketId}`,{expiresIn:e,paths:t},{headers:a.headers}),s=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:l.map(c=>It(It({},c),{},{signedUrl:c.signedURL?encodeURI(`${a.url}${c.signedURL}${s}`):null})),error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(dr(l))return{data:null,error:l};throw l}}download(t,e){const n=typeof e?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(e?.transform||{}),l=a?`?${a}`:"",s=this._getFinalPath(t),c=()=>zd(this.fetch,`${this.url}/${n}/${s}${l}`,{headers:this.headers,noResolveJson:!0});return new x_(c,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:ig(await zd(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(a){if(e.shouldThrowOnError)throw a;if(dr(a))return{data:null,error:a};throw a}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await b_(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(a){if(e.shouldThrowOnError)throw a;if(dr(a)&&a instanceof rg){const l=a.originalError;if([400,404].includes(l?.status))return{data:!1,error:a}}throw a}}getPublicUrl(t,e){const n=this._getFinalPath(t),a=[],l=e?.download?`download=${e.download===!0?"":e.download}`:"";l!==""&&a.push(l);const s=typeof e?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(e?.transform||{});c!==""&&a.push(c);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${d}`)}}}async remove(t){var e=this;try{return{data:await Mg(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(dr(n))return{data:null,error:n};throw n}}async list(t,e,n){var a=this;try{const l=It(It(It({},__),e),{},{prefix:t||""});return{data:await ws(a.fetch,`${a.url}/object/list/${a.bucketId}`,l,{headers:a.headers},n),error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(dr(l))return{data:null,error:l};throw l}}async listV2(t,e){var n=this;try{const a=It({},t);return{data:await ws(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,a,{headers:n.headers},e),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(dr(a))return{data:null,error:a};throw a}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const Jy="2.91.0",Zy={"X-Client-Info":`storage-js/${Jy}`};var A_=class{constructor(t,e={},n,a){this.shouldThrowOnError=!1;const l=new URL(t);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=It(It({},Zy),e),this.fetch=zg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await zd(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(dr(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await zd(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(dr(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await ws(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(dr(a))return{data:null,error:a};throw a}}async updateBucket(t,e){var n=this;try{return{data:await ag(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(dr(a))return{data:null,error:a};throw a}}async emptyBucket(t){var e=this;try{return{data:await ws(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(dr(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Mg(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(dr(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},E_=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=It(It({},Zy),e),this.fetch=zg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await ws(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(dr(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const a=n.toString(),l=a?`${e.url}/bucket?${a}`:`${e.url}/bucket`;return{data:await zd(e.fetch,l,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(dr(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Mg(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(dr(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!h_(t))throw new Ih("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new u_({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),a=this.shouldThrowOnError;return new Proxy(n,{get(l,s){const c=l[s];return typeof c!="function"?c:async(...d)=>{try{return{data:await c.apply(l,d),error:null}}catch(f){if(a)throw f;return{data:null,error:f}}}}})}};const Ig={"X-Client-Info":`storage-js/${Jy}`,"Content-Type":"application/json"};var Qy=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function ba(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var bp=class extends Qy{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},T_=class extends Qy{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const Pg=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),k_=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},P2=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),N_=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!n?.noResolveJson){const a=t.status||500,l=t;if(typeof l.json=="function")l.json().then(s=>{const c=s?.statusCode||s?.code||a+"";e(new bp(P2(s),a,c))}).catch(()=>{const s=a+"";e(new bp(l.statusText||`HTTP ${a} error`,a,s))});else{const s=a+"";e(new bp(l.statusText||`HTTP ${a} error`,a,s))}}else e(new T_(P2(t),t))},L_=(t,e,n,a)=>{const l={method:t,headers:e?.headers||{}};return a?(k_(a)?(l.headers=It({"Content-Type":"application/json"},e?.headers),l.body=JSON.stringify(a)):l.body=a,It(It({},l),n)):l};async function C_(t,e,n,a,l,s){return new Promise((c,d)=>{t(n,L_(e,a,l,s)).then(f=>{if(!f.ok)throw f;if(a?.noResolveJson)return f;const h=f.headers.get("content-type");return!h||!h.includes("application/json")?{}:f.json()}).then(f=>c(f)).catch(f=>N_(f,d,a))})}async function wa(t,e,n,a,l){return C_(t,"POST",e,a,l,n)}var R_=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=It(It({},Ig),e),this.fetch=Pg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await wa(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ba(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await wa(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(ba(a))return{data:null,error:a};throw a}}async listIndexes(t){var e=this;try{return{data:await wa(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ba(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await wa(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(ba(a))return{data:null,error:a};throw a}}},j_=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=It(It({},Ig),e),this.fetch=Pg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await wa(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ba(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await wa(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ba(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await wa(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ba(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await wa(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ba(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await wa(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ba(n))return{data:null,error:n};throw n}}},O_=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=It(It({},Ig),e),this.fetch=Pg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await wa(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ba(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await wa(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ba(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await wa(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ba(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await wa(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ba(n))return{data:null,error:n};throw n}}},D_=class extends O_{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new B_(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},B_=class extends R_{constructor(t,e,n,a){super(t,e,a),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,It(It({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,It(It({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new z_(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},z_=class extends j_{constructor(t,e,n,a,l){super(t,e,l),this.vectorBucketName=n,this.indexName=a}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,It(It({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,It(It({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,It(It({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,It(It({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,It(It({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},M_=class extends A_{constructor(t,e={},n,a){super(t,e,n,a)}from(t){return new S_(this.url,this.headers,t,this.fetch)}get vectors(){return new D_(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new E_(this.url+"/iceberg",this.headers,this.fetch)}};const ev="2.91.0",vc=30*1e3,sg=3,wp=sg*vc,I_="http://localhost:9999",P_="supabase.auth.token",U_={"X-Client-Info":`gotrue-js/${ev}`},og="X-Supabase-Api-Version",tv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},q_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,F_=600*1e3;class Md extends Error{constructor(e,n,a){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function _t(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class H_ extends Md{constructor(e,n,a){super(e,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function $_(t){return _t(t)&&t.name==="AuthApiError"}class lu extends Md{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Bo extends Md{constructor(e,n,a,l){super(e,a,l),this.name=n,this.status=a}}class va extends Bo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function W_(t){return _t(t)&&t.name==="AuthSessionMissingError"}class lc extends Bo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Kf extends Bo{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Xf extends Bo{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function G_(t){return _t(t)&&t.name==="AuthImplicitGrantRedirectError"}class U2 extends Bo{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Y_ extends Bo{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class lg extends Bo{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function xp(t){return _t(t)&&t.name==="AuthRetryableFetchError"}class q2 extends Bo{constructor(e,n,a){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class ug extends Bo{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const bh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),F2=` 	
\r=`.split(""),V_=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<F2.length;e+=1)t[F2[e].charCodeAt(0)]=-2;for(let e=0;e<bh.length;e+=1)t[bh[e].charCodeAt(0)]=e;return t})();function H2(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;n(bh[a]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;n(bh[a]),e.queuedBits-=6}}function nv(t,e,n){const a=V_[t];if(a>-1)for(e.queue=e.queue<<6|a,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function $2(t){const e=[],n=c=>{e.push(String.fromCodePoint(c))},a={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},s=c=>{J_(c,a,n)};for(let c=0;c<t.length;c+=1)nv(t.charCodeAt(c),l,s);return e.join("")}function K_(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function X_(t,e){for(let n=0;n<t.length;n+=1){let a=t.charCodeAt(n);if(a>55295&&a<=56319){const l=(a-55296)*1024&65535;a=(t.charCodeAt(n+1)-56320&65535|l)+65536,n+=1}K_(a,e)}}function J_(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let a=1;a<6;a+=1)if((t>>7-a&1)===0){e.utf8seq=a;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Ac(t){const e=[],n={queue:0,queuedBits:0},a=l=>{e.push(l)};for(let l=0;l<t.length;l+=1)nv(t.charCodeAt(l),n,a);return new Uint8Array(e)}function Z_(t){const e=[];return X_(t,n=>e.push(n)),new Uint8Array(e)}function cu(t){const e=[],n={queue:0,queuedBits:0},a=l=>{e.push(l)};return t.forEach(l=>H2(l,n,a)),H2(null,n,a),e.join("")}function Q_(t){return Math.round(Date.now()/1e3)+t}function e4(){return Symbol("auth-callback")}const gi=()=>typeof window<"u"&&typeof document<"u",ru={tested:!1,writable:!1},rv=()=>{if(!gi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ru.tested)return ru.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ru.tested=!0,ru.writable=!0}catch{ru.tested=!0,ru.writable=!1}return ru.writable};function t4(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((l,s)=>{e[s]=l})}catch{}return n.searchParams.forEach((a,l)=>{e[l]=a}),e}const iv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),n4=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",bc=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},iu=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},pi=async(t,e)=>{await t.removeItem(e)};class Ph{constructor(){this.promise=new Ph.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Ph.promiseConstructor=Promise;function _p(t){const e=t.split(".");if(e.length!==3)throw new ug("Invalid JWT structure");for(let a=0;a<e.length;a++)if(!q_.test(e[a]))throw new ug("JWT not in base64url format");return{header:JSON.parse($2(e[0])),payload:JSON.parse($2(e[1])),signature:Ac(e[2]),raw:{header:e[0],payload:e[1]}}}async function r4(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function i4(t,e){return new Promise((a,l)=>{(async()=>{for(let s=0;s<1/0;s++)try{const c=await t(s);if(!e(s,null,c)){a(c);return}}catch(c){if(!e(s,c)){l(c);return}}})()})}function a4(t){return("0"+t.toString(16)).substr(-2)}function s4(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let l="";for(let s=0;s<56;s++)l+=n.charAt(Math.floor(Math.random()*a));return l}return crypto.getRandomValues(e),Array.from(e,a4).join("")}async function o4(t){const n=new TextEncoder().encode(t),a=await crypto.subtle.digest("SHA-256",n),l=new Uint8Array(a);return Array.from(l).map(s=>String.fromCharCode(s)).join("")}async function l4(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await o4(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function uc(t,e,n=!1){const a=s4();let l=a;n&&(l+="/PASSWORD_RECOVERY"),await bc(t,`${e}-code-verifier`,l);const s=await l4(a);return[s,a===s?"plain":"s256"]}const u4=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function c4(t){const e=t.headers.get(og);if(!e||!e.match(u4))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function d4(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function f4(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const h4=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function cc(t){if(!h4.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Sp(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function p4(t,e){return new Proxy(t,{get:(n,a,l)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const s=a.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,a,l)}return!e.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,a,l)}})}function W2(t){return JSON.parse(JSON.stringify(t))}const au=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),g4=[502,503,504];async function G2(t){var e;if(!n4(t))throw new lg(au(t),0);if(g4.includes(t.status))throw new lg(au(t),t.status);let n;try{n=await t.json()}catch(s){throw new lu(au(s),s)}let a;const l=c4(t);if(l&&l.getTime()>=tv["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new q2(au(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(a==="session_not_found")throw new va}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,c)=>s&&typeof c=="string",!0))throw new q2(au(n),t.status,n.weak_password.reasons);throw new H_(au(n),t.status||500,a)}const m4=(t,e,n,a)=>{const l={method:t,headers:e?.headers||{}};return t==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),l.body=JSON.stringify(a),Object.assign(Object.assign({},l),n))};async function Mt(t,e,n,a){var l;const s=Object.assign({},a?.headers);s[og]||(s[og]=tv["2024-01-01"].name),a?.jwt&&(s.Authorization=`Bearer ${a.jwt}`);const c=(l=a?.query)!==null&&l!==void 0?l:{};a?.redirectTo&&(c.redirect_to=a.redirectTo);const d=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",f=await y4(t,e,n+d,{headers:s,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(f):{data:Object.assign({},f),error:null}}async function y4(t,e,n,a,l,s){const c=m4(e,a,l,s);let d;try{d=await t(n,Object.assign({},c))}catch(f){throw console.error(f),new lg(au(f),0)}if(d.ok||await G2(d),a?.noResolveJson)return d;try{return await d.json()}catch(f){await G2(f)}}function bs(t){var e;let n=null;w4(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Q_(t.expires_in)));const a=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:a},error:null}}function Y2(t){const e=bs(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(e.data.weak_password=t.weak_password),e}function xl(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function v4(t){return{data:t,error:null}}function b4(t){const{action_link:e,email_otp:n,hashed_token:a,redirect_to:l,verification_type:s}=t,c=Mh(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:n,hashed_token:a,redirect_to:l,verification_type:s},f=Object.assign({},c);return{data:{properties:d,user:f},error:null}}function V2(t){return t}function w4(t){return t.access_token&&t.refresh_token&&t.expires_in}const Ap=["global","local","others"];class x4{constructor({url:e="",headers:n={},fetch:a}){this.url=e,this.headers=n,this.fetch=iv(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Ap[0]){if(Ap.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ap.join(", ")}`);try{return await Mt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(a){if(_t(a))return{data:null,error:a};throw a}}async inviteUserByEmail(e,n={}){try{return await Mt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:xl})}catch(a){if(_t(a))return{data:{user:null},error:a};throw a}}async generateLink(e){try{const{options:n}=e,a=Mh(e,["options"]),l=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(l.new_email=a?.newEmail,delete l.newEmail),await Mt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:b4,redirectTo:n?.redirectTo})}catch(n){if(_t(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Mt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:xl})}catch(n){if(_t(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,a,l,s,c,d,f;try{const h={nextPage:null,lastPage:0,total:0},y=await Mt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(s=(l=e?.perPage)===null||l===void 0?void 0:l.toString())!==null&&s!==void 0?s:""},xform:V2});if(y.error)throw y.error;const w=await y.json(),A=(c=y.headers.get("x-total-count"))!==null&&c!==void 0?c:0,m=(f=(d=y.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return m.length>0&&(m.forEach(T=>{const E=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),L=JSON.parse(T.split(";")[1].split("=")[1]);h[`${L}Page`]=E}),h.total=parseInt(A)),{data:Object.assign(Object.assign({},w),h),error:null}}catch(h){if(_t(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){cc(e);try{return await Mt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:xl})}catch(n){if(_t(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){cc(e);try{return await Mt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:xl})}catch(a){if(_t(a))return{data:{user:null},error:a};throw a}}async deleteUser(e,n=!1){cc(e);try{return await Mt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:xl})}catch(a){if(_t(a))return{data:{user:null},error:a};throw a}}async _listFactors(e){cc(e.userId);try{const{data:n,error:a}=await Mt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:n,error:a}}catch(n){if(_t(n))return{data:null,error:n};throw n}}async _deleteFactor(e){cc(e.userId),cc(e.id);try{return{data:await Mt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(_t(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,a,l,s,c,d,f;try{const h={nextPage:null,lastPage:0,total:0},y=await Mt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(s=(l=e?.perPage)===null||l===void 0?void 0:l.toString())!==null&&s!==void 0?s:""},xform:V2});if(y.error)throw y.error;const w=await y.json(),A=(c=y.headers.get("x-total-count"))!==null&&c!==void 0?c:0,m=(f=(d=y.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return m.length>0&&(m.forEach(T=>{const E=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),L=JSON.parse(T.split(";")[1].split("=")[1]);h[`${L}Page`]=E}),h.total=parseInt(A)),{data:Object.assign(Object.assign({},w),h),error:null}}catch(h){if(_t(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(e){try{return await Mt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(_t(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Mt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(_t(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await Mt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(_t(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(e){try{return await Mt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(_t(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Mt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(_t(n))return{data:null,error:n};throw n}}}function K2(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const dc={debug:!!(globalThis&&rv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class av extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class _4 extends av{}async function S4(t,e,n){dc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const a=new globalThis.AbortController;return e>0&&setTimeout(()=>{a.abort(),dc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async l=>{if(l){dc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,l.name);try{return await n()}finally{dc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,l.name)}}else{if(e===0)throw dc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new _4(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(dc.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function A4(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function sv(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function E4(t){return parseInt(t,16)}function T4(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,a=>a.toString(16).padStart(2,"0")).join("")}function k4(t){var e;const{chainId:n,domain:a,expirationTime:l,issuedAt:s=new Date,nonce:c,notBefore:d,requestId:f,resources:h,scheme:y,uri:w,version:A}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(A!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${A}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const m=sv(t.address),T=y?`${y}://${a}`:a,E=t.statement?`${t.statement}
`:"",L=`${T} wants you to sign in with your Ethereum account:
${m}

${E}`;let R=`URI: ${w}
Version: ${A}
Chain ID: ${n}${c?`
Nonce: ${c}`:""}
Issued At: ${s.toISOString()}`;if(l&&(R+=`
Expiration Time: ${l.toISOString()}`),d&&(R+=`
Not Before: ${d.toISOString()}`),f&&(R+=`
Request ID: ${f}`),h){let D=`
Resources:`;for(const M of h){if(!M||typeof M!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${M}`);D+=`
- ${M}`}R+=D}return`${L}
${R}`}class Ir extends Error{constructor({message:e,code:n,cause:a,name:l}){var s;super(e,{cause:a}),this.__isWebAuthnError=!0,this.name=(s=l??(a instanceof Error?a.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=n}}class wh extends Ir{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function N4({error:t,options:e}){var n,a,l;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ir({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Ir({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((a=s.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Ir({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((l=s.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new Ir({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Ir({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Ir({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new Ir({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Ir({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const c=window.location.hostname;if(ov(c)){if(s.rp.id!==c)return new Ir({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ir({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Ir({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Ir({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ir({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function L4({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ir({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Ir({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(ov(a)){if(n.rpId!==a)return new Ir({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ir({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Ir({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ir({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class C4{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const R4=new C4;function j4(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:a}=t,l=Mh(t,["challenge","user","excludeCredentials"]),s=Ac(e).buffer,c=Object.assign(Object.assign({},n),{id:Ac(n.id).buffer}),d=Object.assign(Object.assign({},l),{challenge:s,user:c});if(a&&a.length>0){d.excludeCredentials=new Array(a.length);for(let f=0;f<a.length;f++){const h=a[f];d.excludeCredentials[f]=Object.assign(Object.assign({},h),{id:Ac(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return d}function O4(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,a=Mh(t,["challenge","allowCredentials"]),l=Ac(e).buffer,s=Object.assign(Object.assign({},a),{challenge:l});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const d=n[c];s.allowCredentials[c]=Object.assign(Object.assign({},d),{id:Ac(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return s}function D4(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:cu(new Uint8Array(t.response.attestationObject)),clientDataJSON:cu(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function B4(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,a=t.getClientExtensionResults(),l=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:cu(new Uint8Array(l.authenticatorData)),clientDataJSON:cu(new Uint8Array(l.clientDataJSON)),signature:cu(new Uint8Array(l.signature)),userHandle:l.userHandle?cu(new Uint8Array(l.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function ov(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function X2(){var t,e;return!!(gi()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function z4(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new wh("Browser returned unexpected credential type",e)}:{data:null,error:new wh("Empty credential response",e)}}catch(e){return{data:null,error:N4({error:e,options:t})}}}async function M4(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new wh("Browser returned unexpected credential type",e)}:{data:null,error:new wh("Empty credential response",e)}}catch(e){return{data:null,error:L4({error:e,options:t})}}}const I4={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},P4={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function xh(...t){const e=l=>l!==null&&typeof l=="object"&&!Array.isArray(l),n=l=>l instanceof ArrayBuffer||ArrayBuffer.isView(l),a={};for(const l of t)if(l)for(const s in l){const c=l[s];if(c!==void 0)if(Array.isArray(c))a[s]=c;else if(n(c))a[s]=c;else if(e(c)){const d=a[s];e(d)?a[s]=xh(d,c):a[s]=xh(c)}else a[s]=c}return a}function U4(t,e){return xh(I4,t,e||{})}function q4(t,e){return xh(P4,t,e||{})}class F4{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:a,signal:l},s){try{const{data:c,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!c)return{data:null,error:d};const f=l??R4.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:h}=c.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${a}`),h.displayName||(h.displayName=h.name)}switch(c.webauthn.type){case"create":{const h=U4(c.webauthn.credential_options.publicKey,s?.create),{data:y,error:w}=await z4({publicKey:h,signal:f});return y?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:y}},error:null}:{data:null,error:w}}case"request":{const h=q4(c.webauthn.credential_options.publicKey,s?.request),{data:y,error:w}=await M4(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:h,signal:f}));return y?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:y}},error:null}:{data:null,error:w}}}}catch(c){return _t(c)?{data:null,error:c}:{data:null,error:new lu("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:n,webauthn:a}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:a})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},s){if(!n)return{data:null,error:new Md("rpId is required for WebAuthn authentication")};try{if(!X2())return{data:null,error:new lu("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:a},signal:l},{request:s});if(!c)return{data:null,error:d};const{webauthn:f}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:f.type,rpId:n,rpOrigins:a,credential_response:f.credential_response}})}catch(c){return _t(c)?{data:null,error:c}:{data:null,error:new lu("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},s){if(!n)return{data:null,error:new Md("rpId is required for WebAuthn registration")};try{if(!X2())return{data:null,error:new lu("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(y=>{var w;return(w=y.data)===null||w===void 0?void 0:w.all.find(A=>A.factor_type==="webauthn"&&A.friendly_name===e&&A.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y?.id}):void 0),{data:null,error:d};const{data:f,error:h}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:l},{create:s});return f?this._verify({factorId:c.id,challengeId:f.challengeId,webauthn:{rpId:n,rpOrigins:a,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:h}}catch(c){return _t(c)?{data:null,error:c}:{data:null,error:new lu("Unexpected error in register",c)}}}}A4();const H4={url:I_,storageKey:P_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:U_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function J2(t,e,n){return await n()}const fc={};class Id{get jwks(){var e,n;return(n=(e=fc[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){fc[this.storageKey]=Object.assign(Object.assign({},fc[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=fc[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){fc[this.storageKey]=Object.assign(Object.assign({},fc[this.storageKey]),{cachedAt:e})}constructor(e){var n,a,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},H4),e);if(this.storageKey=s.storageKey,this.instanceID=(n=Id.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Id.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&gi()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new x4({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=iv(s.fetch),this.lock=s.lock||J2,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&gi()&&(!((a=globalThis?.navigator)===null||a===void 0)&&a.locks)?this.lock=S4:this.lock=J2,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new F4(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:rv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=K2(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=K2(this.memoryStorage)),gi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${ev}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},a="none";if(gi()&&(n=t4(window.location.href),this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce")),gi()&&this.detectSessionInUrl&&a!=="none"){const{data:l,error:s}=await this._getSessionFromURL(n,a);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),G_(s)){const f=(e=s.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:s}}return{error:s}}const{session:c,redirectType:d}=l;return this._debug("#_initialize()","detected session in URL",c,"redirect type",d),await this._saveSession(c),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return _t(n)?this._returnResult({error:n}):this._returnResult({error:new lu("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,a,l;try{const s=await Mt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(l=e?.options)===null||l===void 0?void 0:l.captchaToken}},xform:bs}),{data:c,error:d}=s;if(d||!c)return this._returnResult({data:{user:null,session:null},error:d});const f=c.session,h=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(s){if(_t(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(e){var n,a,l;try{let s;if("email"in e){const{email:y,password:w,options:A}=e;let m=null,T=null;this.flowType==="pkce"&&([m,T]=await uc(this.storage,this.storageKey)),s=await Mt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:A?.emailRedirectTo,body:{email:y,password:w,data:(n=A?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:A?.captchaToken},code_challenge:m,code_challenge_method:T},xform:bs})}else if("phone"in e){const{phone:y,password:w,options:A}=e;s=await Mt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:w,data:(a=A?.data)!==null&&a!==void 0?a:{},channel:(l=A?.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:A?.captchaToken}},xform:bs})}else throw new Kf("You must provide either an email or phone number and a password");const{data:c,error:d}=s;if(d||!c)return await pi(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:d});const f=c.session,h=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(s){if(await pi(this.storage,`${this.storageKey}-code-verifier`),_t(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:c,options:d}=e;n=await Mt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Y2})}else if("phone"in e){const{phone:s,password:c,options:d}=e;n=await Mt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Y2})}else throw new Kf("You must provide either an email or phone number and a password");const{data:a,error:l}=n;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a||!a.session||!a.user){const s=new lc;return this._returnResult({data:{user:null,session:null},error:s})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:l})}catch(n){if(_t(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,a,l,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,a,l,s,c,d,f,h,y,w,A;let m,T;if("message"in e)m=e.message,T=e.signature;else{const{chain:E,wallet:L,statement:R,options:D}=e;let M;if(gi())if(typeof L=="object")M=L;else{const q=window;if("ethereum"in q&&typeof q.ethereum=="object"&&"request"in q.ethereum&&typeof q.ethereum.request=="function")M=q.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof L!="object"||!D?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=L}const W=new URL((n=D?.url)!==null&&n!==void 0?n:window.location.href),ue=await M.request({method:"eth_requestAccounts"}).then(q=>q).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ue||ue.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ce=sv(ue[0]);let Z=(a=D?.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!Z){const q=await M.request({method:"eth_chainId"});Z=E4(q)}const ee={domain:W.host,address:ce,statement:R,uri:W.href,version:"1",chainId:Z,nonce:(l=D?.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(c=(s=D?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(d=D?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(f=D?.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(h=D?.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(y=D?.signInWithEthereum)===null||y===void 0?void 0:y.resources};m=k4(ee),T=await M.request({method:"personal_sign",params:[T4(m),ce]})}try{const{data:E,error:L}=await Mt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:T},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(A=e.options)===null||A===void 0?void 0:A.captchaToken}}:null),xform:bs});if(L)throw L;if(!E||!E.session||!E.user){const R=new lc;return this._returnResult({data:{user:null,session:null},error:R})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:L})}catch(E){if(_t(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(e){var n,a,l,s,c,d,f,h,y,w,A,m;let T,E;if("message"in e)T=e.message,E=e.signature;else{const{chain:L,wallet:R,statement:D,options:M}=e;let W;if(gi())if(typeof R=="object")W=R;else{const ce=window;if("solana"in ce&&typeof ce.solana=="object"&&("signIn"in ce.solana&&typeof ce.solana.signIn=="function"||"signMessage"in ce.solana&&typeof ce.solana.signMessage=="function"))W=ce.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!M?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");W=R}const ue=new URL((n=M?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in W&&W.signIn){const ce=await W.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},M?.signInWithSolana),{version:"1",domain:ue.host,uri:ue.href}),D?{statement:D}:null));let Z;if(Array.isArray(ce)&&ce[0]&&typeof ce[0]=="object")Z=ce[0];else if(ce&&typeof ce=="object"&&"signedMessage"in ce&&"signature"in ce)Z=ce;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Z&&"signature"in Z&&(typeof Z.signedMessage=="string"||Z.signedMessage instanceof Uint8Array)&&Z.signature instanceof Uint8Array)T=typeof Z.signedMessage=="string"?Z.signedMessage:new TextDecoder().decode(Z.signedMessage),E=Z.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in W)||typeof W.signMessage!="function"||!("publicKey"in W)||typeof W!="object"||!W.publicKey||!("toBase58"in W.publicKey)||typeof W.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");T=[`${ue.host} wants you to sign in with your Solana account:`,W.publicKey.toBase58(),...D?["",D,""]:[""],"Version: 1",`URI: ${ue.href}`,`Issued At: ${(l=(a=M?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((s=M?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${M.signInWithSolana.notBefore}`]:[],...!((c=M?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${M.signInWithSolana.expirationTime}`]:[],...!((d=M?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${M.signInWithSolana.chainId}`]:[],...!((f=M?.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${M.signInWithSolana.nonce}`]:[],...!((h=M?.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${M.signInWithSolana.requestId}`]:[],...!((w=(y=M?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||w===void 0)&&w.length?["Resources",...M.signInWithSolana.resources.map(Z=>`- ${Z}`)]:[]].join(`
`);const ce=await W.signMessage(new TextEncoder().encode(T),"utf8");if(!ce||!(ce instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=ce}}try{const{data:L,error:R}=await Mt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:T,signature:cu(E)},!((A=e.options)===null||A===void 0)&&A.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:bs});if(R)throw R;if(!L||!L.session||!L.user){const D=new lc;return this._returnResult({data:{user:null,session:null},error:D})}return L.session&&(await this._saveSession(L.session),await this._notifyAllSubscribers("SIGNED_IN",L.session)),this._returnResult({data:Object.assign({},L),error:R})}catch(L){if(_t(L))return this._returnResult({data:{user:null,session:null},error:L});throw L}}async _exchangeCodeForSession(e){const n=await iu(this.storage,`${this.storageKey}-code-verifier`),[a,l]=(n??"").split("/");try{if(!a&&this.flowType==="pkce")throw new Y_;const{data:s,error:c}=await Mt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:a},xform:bs});if(await pi(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!s||!s.session||!s.user){const d=new lc;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return s.session&&(await this._saveSession(s.session),setTimeout(async()=>{await this._notifyAllSubscribers("SIGNED_IN",s.session)},0)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:l??null}),error:c})}catch(s){if(await pi(this.storage,`${this.storageKey}-code-verifier`),_t(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(e){try{const{options:n,provider:a,token:l,access_token:s,nonce:c}=e,d=await Mt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:l,access_token:s,nonce:c,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:bs}),{data:f,error:h}=d;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!f||!f.session||!f.user){const y=new lc;return this._returnResult({data:{user:null,session:null},error:y})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:h})}catch(n){if(_t(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,a,l,s,c;try{if("email"in e){const{email:d,options:f}=e;let h=null,y=null;this.flowType==="pkce"&&([h,y]=await uc(this.storage,this.storageKey));const{error:w}=await Mt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(n=f?.data)!==null&&n!==void 0?n:{},create_user:(a=f?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:h,code_challenge_method:y},redirectTo:f?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:w})}if("phone"in e){const{phone:d,options:f}=e,{data:h,error:y}=await Mt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(l=f?.data)!==null&&l!==void 0?l:{},create_user:(s=f?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},channel:(c=f?.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:y})}throw new Kf("You must provide either an email or phone number.")}catch(d){if(await pi(this.storage,`${this.storageKey}-code-verifier`),_t(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(e){var n,a;try{let l,s;"options"in e&&(l=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(a=e.options)===null||a===void 0?void 0:a.captchaToken);const{data:c,error:d}=await Mt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:l,xform:bs});if(d)throw d;if(!c)throw new Error("An error occurred on token verification.");const f=c.session,h=c.user;return f?.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(l){if(_t(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithSSO(e){var n,a,l,s,c;try{let d=null,f=null;this.flowType==="pkce"&&([d,f]=await uc(this.storage,this.storageKey));const h=await Mt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(a=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((l=e?.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:f}),headers:this.headers,xform:v4});return!((s=h.data)===null||s===void 0)&&s.url&&gi()&&!(!((c=e.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(h.data.url),this._returnResult(h)}catch(d){if(await pi(this.storage,`${this.storageKey}-code-verifier`),_t(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:a}=e;if(a)throw a;if(!n)throw new va;const{error:l}=await Mt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:l})})}catch(e){if(_t(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:a,type:l,options:s}=e,{error:c}=await Mt(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:l,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in e){const{phone:a,type:l,options:s}=e,{data:c,error:d}=await Mt(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:l,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:d})}throw new Kf("You must provide either an email or phone number and a type")}catch(n){if(_t(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await iu(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const a=e.expires_at?e.expires_at*1e3-Date.now()<wp:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",e.expires_at),!a){if(this.userStorage){const c=await iu(this.userStorage,this.storageKey+"-user");c?.user?e.user=c.user:e.user=Sp()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=p4(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:l,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:l},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await Mt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:xl}):await this._useSession(async n=>{var a,l,s;const{data:c,error:d}=n;if(d)throw d;return!(!((a=c.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new va}:await Mt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(l=c.session)===null||l===void 0?void 0:l.access_token)!==null&&s!==void 0?s:void 0,xform:xl})})}catch(n){if(_t(n))return W_(n)&&(await this._removeSession(),await pi(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async a=>{const{data:l,error:s}=a;if(s)throw s;if(!l.session)throw new va;const c=l.session;let d=null,f=null;this.flowType==="pkce"&&e.email!=null&&([d,f]=await uc(this.storage,this.storageKey));const{data:h,error:y}=await Mt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:f}),jwt:c.access_token,xform:xl});if(y)throw y;return c.user=h.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(a){if(await pi(this.storage,`${this.storageKey}-code-verifier`),_t(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new va;const n=Date.now()/1e3;let a=n,l=!0,s=null;const{payload:c}=_p(e.access_token);if(c.exp&&(a=c.exp,l=a<=n),l){const{data:d,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d)return{data:{user:null,session:null},error:null};s=d}else{const{data:d,error:f}=await this._getUser(e.access_token);if(f)throw f;s={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(n){if(_t(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var a;if(!e){const{data:c,error:d}=n;if(d)throw d;e=(a=c.session)!==null&&a!==void 0?a:void 0}if(!e?.refresh_token)throw new va;const{data:l,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):l?this._returnResult({data:{user:l.user,session:l},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(_t(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!gi())throw new Xf("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Xf(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new U2("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Xf("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new U2("No code detected.");const{data:D,error:M}=await this._exchangeCodeForSession(e.code);if(M)throw M;const W=new URL(window.location.href);return W.searchParams.delete("code"),window.history.replaceState(window.history.state,"",W.toString()),{data:{session:D.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:l,access_token:s,refresh_token:c,expires_in:d,expires_at:f,token_type:h}=e;if(!s||!d||!c||!h)throw new Xf("No session defined in URL");const y=Math.round(Date.now()/1e3),w=parseInt(d);let A=y+w;f&&(A=parseInt(f));const m=A-y;m*1e3<=vc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${w}s`);const T=A-w;y-T>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",T,A,y):y-T<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",T,A,y);const{data:E,error:L}=await this._getUser(s);if(L)throw L;const R={provider_token:a,provider_refresh_token:l,access_token:s,expires_in:w,expires_at:A,refresh_token:c,token_type:h,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:R,redirectType:e.type},error:null})}catch(a){if(_t(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await iu(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:l,error:s}=n;if(s)return this._returnResult({error:s});const c=(a=l.session)===null||a===void 0?void 0:a.access_token;if(c){const{error:d}=await this.admin.signOut(c,e);if(d&&!($_(d)&&(d.status===404||d.status===401||d.status===403)))return this._returnResult({error:d})}return e!=="others"&&(await this._removeSession(),await pi(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=e4(),a={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(e){return await this._useSession(async n=>{var a,l;try{const{data:{session:s},error:c}=n;if(c)throw c;await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((l=this.stateChangeEmitters.get(e))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let a=null,l=null;this.flowType==="pkce"&&([a,l]=await uc(this.storage,this.storageKey,!0));try{return await Mt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:a,code_challenge_method:l,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(await pi(this.storage,`${this.storageKey}-code-verifier`),_t(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var e;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(_t(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:a,error:l}=await this._useSession(async s=>{var c,d,f,h,y;const{data:w,error:A}=s;if(A)throw A;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Mt(this.fetch,"GET",m,{headers:this.headers,jwt:(y=(h=w.session)===null||h===void 0?void 0:h.access_token)!==null&&y!==void 0?y:void 0})});if(l)throw l;return gi()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a?.url),this._returnResult({data:{provider:e.provider,url:a?.url},error:null})}catch(a){if(_t(a))return this._returnResult({data:{provider:e.provider,url:null},error:a});throw a}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var a;try{const{error:l,data:{session:s}}=n;if(l)throw l;const{options:c,provider:d,token:f,access_token:h,nonce:y}=e,w=await Mt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=s?.access_token)!==null&&a!==void 0?a:void 0,body:{provider:d,id_token:f,access_token:h,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:bs}),{data:A,error:m}=w;return m?this._returnResult({data:{user:null,session:null},error:m}):!A||!A.session||!A.user?this._returnResult({data:{user:null,session:null},error:new lc}):(A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("USER_UPDATED",A.session)),this._returnResult({data:A,error:m}))}catch(l){if(await pi(this.storage,`${this.storageKey}-code-verifier`),_t(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var a,l;const{data:s,error:c}=n;if(c)throw c;return await Mt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(l=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0})})}catch(n){if(_t(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await i4(async l=>(l>0&&await r4(200*Math.pow(2,l-1)),this._debug(n,"refreshing attempt",l),await Mt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:bs})),(l,s)=>{const c=200*Math.pow(2,l);return s&&xp(s)&&Date.now()+c-a<vc})}catch(a){if(this._debug(n,"error",a),_t(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",a),gi()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:e,url:a},error:null}}async _recoverAndRefresh(){var e,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const l=await iu(this.storage,this.storageKey);if(l&&this.userStorage){let c=await iu(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:l.user},await bc(this.userStorage,this.storageKey+"-user",c)),l.user=(e=c?.user)!==null&&e!==void 0?e:Sp()}else if(l&&!l.user&&!l.user){const c=await iu(this.storage,this.storageKey+"-user");c&&c?.user?(l.user=c.user,await pi(this.storage,this.storageKey+"-user"),await bc(this.storage,this.storageKey,l)):l.user=Sp()}if(this._debug(a,"session from storage",l),!this._isValidSession(l)){this._debug(a,"session is not valid"),l!==null&&await this._removeSession();return}const s=((n=l.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<wp;if(this._debug(a,`session has${s?"":" not"} expired with margin of ${wp}s`),s){if(this.autoRefreshToken&&l.refresh_token){const{error:c}=await this._callRefreshToken(l.refresh_token);c&&(console.error(c),xp(c)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:d}=await this._getUser(l.access_token);!d&&c?.user?(l.user=c.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(a,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(a,"error",l),console.error(l);return}finally{this._debug(a,"end")}}async _callRefreshToken(e){var n,a;if(!e)throw new va;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new Ph;const{data:s,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!s.session)throw new va;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const d={data:s.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(s){if(this._debug(l,"error",s),_t(s)){const c={data:null,error:s};return xp(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(c),c}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(s),s}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(e,n,a=!0){const l=`#_notifyAllSubscribers(${e})`;this._debug(l,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],c=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,n)}catch(f){s.push(f)}});if(await Promise.all(c),s.length>0){for(let d=0;d<s.length;d+=1)console.error(s[d]);throw s[0]}}finally{this._debug(l,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await pi(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await bc(this.userStorage,this.storageKey+"-user",{user:n.user});const l=Object.assign({},n);delete l.user;const s=W2(l);await bc(this.storage,this.storageKey,s)}else{const l=W2(n);await bc(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await pi(this.storage,this.storageKey),await pi(this.storage,this.storageKey+"-code-verifier"),await pi(this.storage,this.storageKey+"-user"),this.userStorage&&await pi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&gi()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),vc);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((a.expires_at*1e3-e)/vc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${vc}ms, refresh threshold is ${sg} ticks`),l<=sg&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof av)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!gi()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,a){const l=[`provider=${encodeURIComponent(n)}`];if(a?.redirectTo&&l.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&l.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[s,c]=await uc(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(c)}`});l.push(d.toString())}if(a?.queryParams){const s=new URLSearchParams(a.queryParams);l.push(s.toString())}return a?.skipBrowserRedirect&&l.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${e}?${l.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var a;const{data:l,error:s}=n;return s?this._returnResult({data:null,error:s}):await Mt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(_t(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var a,l;const{data:s,error:c}=n;if(c)return this._returnResult({data:null,error:c});const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:f,error:h}=await Mt(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(a=s?.session)===null||a===void 0?void 0:a.access_token});return h?this._returnResult({data:null,error:h}):(e.factorType==="totp"&&f.type==="totp"&&(!((l=f?.totp)===null||l===void 0)&&l.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(n){if(_t(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var a;const{data:l,error:s}=n;if(s)return this._returnResult({data:null,error:s});const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?D4(e.webauthn.credential_response):B4(e.webauthn.credential_response)})}:{code:e.code}),{data:d,error:f}=await Mt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:f}))})}catch(n){if(_t(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var a;const{data:l,error:s}=n;if(s)return this._returnResult({data:null,error:s});const c=await Mt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token});if(c.error)return c;const{data:d}=c;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:j4(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:O4(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(_t(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:a}=await this._challenge({factorId:e.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const l={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=n?.factors)!==null&&e!==void 0?e:[])l.all.push(s),s.status==="verified"&&l[s.factor_type].push(s);return{data:l,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:a},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=_p(a.access_token);let c=null;s.aal&&(c=s.aal);let d=c;((n=(e=a.user.factors)===null||e===void 0?void 0:e.filter(y=>y.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(d="aal2");const h=s.amr||[];return{data:{currentLevel:c,nextLevel:d,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:a},error:l}=n;return l?this._returnResult({data:null,error:l}):a?await Mt(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:a.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new va})})}catch(n){if(_t(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async a=>{const{data:{session:l},error:s}=a;if(s)return this._returnResult({data:null,error:s});if(!l)return this._returnResult({data:null,error:new va});const c=await Mt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return c.data&&c.data.redirect_url&&gi()&&!n?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(a){if(_t(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(e,n){try{return await this._useSession(async a=>{const{data:{session:l},error:s}=a;if(s)return this._returnResult({data:null,error:s});if(!l)return this._returnResult({data:null,error:new va});const c=await Mt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return c.data&&c.data.redirect_url&&gi()&&!n?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(a){if(_t(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:a}=e;return a?this._returnResult({data:null,error:a}):n?await Mt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new va})})}catch(e){if(_t(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:a},error:l}=n;return l?this._returnResult({data:null,error:l}):a?(await Mt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new va})})}catch(n){if(_t(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let a=n.keys.find(d=>d.kid===e);if(a)return a;const l=Date.now();if(a=this.jwks.keys.find(d=>d.kid===e),a&&this.jwks_cached_at+F_>l)return a;const{data:s,error:c}=await Mt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=l,a=s.keys.find(d=>d.kid===e),!a)?null:a}async getClaims(e,n={}){try{let a=e;if(!a){const{data:m,error:T}=await this.getSession();if(T||!m.session)return this._returnResult({data:null,error:T});a=m.session.access_token}const{header:l,payload:s,signature:c,raw:{header:d,payload:f}}=_p(a);n?.allowExpired||d4(s.exp);const h=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!h){const{error:m}=await this.getUser(a);if(m)throw m;return{data:{claims:s,header:l,signature:c},error:null}}const y=f4(l.alg),w=await crypto.subtle.importKey("jwk",h,y,!0,["verify"]);if(!await crypto.subtle.verify(y,w,c,Z_(`${d}.${f}`)))throw new ug("Invalid JWT signature");return{data:{claims:s,header:l,signature:c},error:null}}catch(a){if(_t(a))return this._returnResult({data:null,error:a});throw a}}}Id.nextInstanceID={};const $4=Id,W4="2.91.0";let Ed="";typeof Deno<"u"?Ed="deno":typeof document<"u"?Ed="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ed="react-native":Ed="node";const G4={"X-Client-Info":`supabase-js-${Ed}/${W4}`},Y4={headers:G4},V4={schema:"public"},K4={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},X4={};function Pd(t){"@babel/helpers - typeof";return Pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pd(t)}function J4(t,e){if(Pd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(Pd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Z4(t){var e=J4(t,"string");return Pd(e)=="symbol"?e:e+""}function Q4(t,e,n){return(e=Z4(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,a)}return n}function Sr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z2(Object(n),!0).forEach(function(a){Q4(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z2(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}const eS=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),tS=()=>Headers,nS=(t,e,n)=>{const a=eS(n),l=tS();return async(s,c)=>{var d;const f=(d=await e())!==null&&d!==void 0?d:t;let h=new l(c?.headers);return h.has("apikey")||h.set("apikey",t),h.has("Authorization")||h.set("Authorization",`Bearer ${f}`),a(s,Sr(Sr({},c),{},{headers:h}))}};function rS(t){return t.endsWith("/")?t:t+"/"}function iS(t,e){var n,a;const{db:l,auth:s,realtime:c,global:d}=t,{db:f,auth:h,realtime:y,global:w}=e,A={db:Sr(Sr({},f),l),auth:Sr(Sr({},h),s),realtime:Sr(Sr({},y),c),storage:{},global:Sr(Sr(Sr({},w),d),{},{headers:Sr(Sr({},(n=w?.headers)!==null&&n!==void 0?n:{}),(a=d?.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return t.accessToken?A.accessToken=t.accessToken:delete A.accessToken,A}function aS(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(rS(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var sS=class extends $4{constructor(t){super(t)}},oS=class{constructor(t,e,n){var a,l;this.supabaseUrl=t,this.supabaseKey=e;const s=aS(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const c=`sb-${s.hostname.split(".")[0]}-auth-token`,d={db:V4,realtime:X4,auth:Sr(Sr({},K4),{},{storageKey:c}),global:Y4},f=iS(n??{},d);if(this.storageKey=(a=f.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(l=f.global.headers)!==null&&l!==void 0?l:{},f.accessToken)this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(y,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}});else{var h;this.auth=this._initSupabaseAuthClient((h=f.auth)!==null&&h!==void 0?h:{},this.headers,f.global.fetch)}this.fetch=nS(e,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Sr({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new U3(new URL("rest/v1",s).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new M_(this.storageUrl.href,this.headers,this.fetch,n?.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new B3(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:a}=await t.auth.getSession();return(e=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:a,userStorage:l,storageKey:s,flowType:c,lock:d,debug:f,throwOnError:h},y,w){const A={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new sS({url:this.authUrl.href,headers:Sr(Sr({},A),y),storageKey:s,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:a,userStorage:l,flowType:c,lock:d,debug:f,throwOnError:h,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new r_(this.realtimeUrl.href,Sr(Sr({},t),{},{params:Sr(Sr({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const lS=(t,e,n)=>new oS(t,e,n);function uS(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}uS()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const cS="https://kdfjtgbxxbuowbrvirwb.supabase.co",dS="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtkZmp0Z2J4eGJ1b3dicnZpcndiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjgyNDkyOTUsImV4cCI6MjA4MzgyNTI5NX0.__Dpbm0TewjsOdCHVCn0ncnLNNHNN2O-G4hf91Nmzd4",st=lS(cS,dS);function fS(t){const[e,n]=B.useState(null),[a,l]=B.useState(!0),[s,c]=B.useState(null);return B.useEffect(()=>{(async()=>{try{l(!0),c(null);const{data:f,error:h}=await st.from("businesses").select("*").eq("id",t).single();if(h)throw h;n(f)}catch(f){c(f.message),console.error("Business fetch error:",f)}finally{l(!1)}})()},[t]),{business:e,loading:a,error:s}}function Ug(t){const[e,n]=B.useState([]),[a,l]=B.useState(!0),[s,c]=B.useState(null);return B.useEffect(()=>{if(!t){l(!1);return}(async()=>{try{l(!0),c(null);const{data:f,error:h}=await st.from("categories").select("*").eq("business_id",t).eq("is_active",!0).order("order_index",{ascending:!0});if(h)throw h;n(f||[])}catch(f){c(f.message),console.error("Categories fetch error:",f)}finally{l(!1)}})()},[t]),{categories:e,loading:a,error:s}}function qg(t,e=null){const[n,a]=B.useState([]),[l,s]=B.useState(!0),[c,d]=B.useState(null);return B.useEffect(()=>{if(!t){s(!1);return}(async()=>{try{s(!0),d(null);let h=st.from("products").select("*, categories(name)").eq("business_id",t);e&&(h=h.eq("category_id",e));const{data:y,error:w}=await h.order("order_index",{ascending:!0}).order("created_at",{ascending:!0});if(w)throw w;const A=(y||[]).sort((m,T)=>m.is_active!==T.is_active?m.is_active?-1:1:(m.order_index||0)-(T.order_index||0));a(A)}catch(h){d(h.message),console.error("Products fetch error:",h)}finally{s(!1)}})()},[t,e]),{products:n,loading:l,error:c}}function Fa({message:t="Ykleniyor..."}){return _.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2rem",gap:"1rem"},children:[_.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid #f3f3f3",borderTop:"4px solid #007bff",borderRadius:"50%",animation:"spin 1s linear infinite"}}),_.jsx("p",{style:{color:"#666",margin:0},children:t}),_.jsx("style",{children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `})]})}function lv({categories:t,isMobile:e}){const[n,a]=B.useState(!1),l=s=>{a(!1),setTimeout(()=>{const c=document.getElementById(`category-${s}`);c?(c.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"}),setTimeout(()=>{const d=c.getBoundingClientRect(),f=window.pageYOffset||document.documentElement.scrollTop,w=d.top+f-120;Math.abs(window.pageYOffset-w)>10&&window.scrollTo({top:w,behavior:"smooth"})},100)):console.warn(`Category element not found: category-${s}`)},150)};return _.jsxs(_.Fragment,{children:[_.jsx("button",{onClick:()=>a(!n),style:{position:"fixed",top:"1rem",right:"1rem",zIndex:1001,background:"#ffffff",color:"#1a1a1a",border:"1px solid #e5e7eb",borderRadius:"10px",padding:"0.75rem",cursor:"pointer",fontSize:"1.5rem",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",transition:"all 0.2s ease",width:"48px",height:"48px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"600"},onMouseEnter:s=>{s.currentTarget.style.background="#f9fafb",s.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.15)"},onMouseLeave:s=>{s.currentTarget.style.background="#ffffff",s.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.1)"},children:n?"":""}),n&&_.jsx("div",{onClick:()=>a(!1),style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",zIndex:999,transition:"opacity 0.3s"}}),_.jsxs("div",{style:{position:"fixed",top:0,right:n?0:"-320px",width:e?"280px":"320px",height:"100vh",background:"#ffffff",zIndex:1e3,boxShadow:"-2px 0 16px rgba(0,0,0,0.1)",transition:"right 0.3s ease",overflowY:"auto",padding:"1.5rem"},children:[_.jsx("div",{style:{padding:"1rem 0",borderBottom:"2px solid #e5e7eb",marginBottom:"1.5rem"},children:_.jsx("h3",{style:{margin:0,fontSize:"1.25rem",color:"#1a1a1a",fontWeight:"700",letterSpacing:"-0.01em"},children:" Kategoriler"})}),_.jsx("nav",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:t.map(s=>_.jsx("button",{onClick:()=>l(s.id),style:{width:"100%",padding:"1rem 1.25rem",background:"#f9fafb",border:"1px solid #e5e7eb",textAlign:"left",cursor:"pointer",fontSize:"1rem",color:"#1a1a1a",transition:"all 0.2s ease",borderRadius:"8px",fontWeight:"500"},onMouseEnter:c=>{c.currentTarget.style.background="#d4a574",c.currentTarget.style.color="white",c.currentTarget.style.borderColor="#d4a574",c.currentTarget.style.transform="translateX(4px)"},onMouseLeave:c=>{c.currentTarget.style.background="#f9fafb",c.currentTarget.style.color="#1a1a1a",c.currentTarget.style.borderColor="#e5e7eb",c.currentTarget.style.transform="translateX(0)"},children:s.name},s.id))})]})]})}const Sl=t=>new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY",minimumFractionDigits:2}).format(t),hS=(t,e="/placeholder-image.png")=>t||e,uv=B.createContext();function pS({children:t}){const[e,n]=B.useState([]);B.useEffect(()=>{const y=localStorage.getItem("cart");if(y)try{n(JSON.parse(y))}catch(w){console.error("Cart parse error:",w)}},[]);const a=y=>{n(w=>{const A=w.find(T=>T.product_id===y.id);let m;return A?m=w.map(T=>T.product_id===y.id?{...T,quantity:T.quantity+1}:T):m=[...w,{product_id:y.id,product_name:y.name,product_price:parseFloat(y.price),quantity:1,notes:""}],localStorage.setItem("cart",JSON.stringify(m)),m})},l=y=>{n(w=>{const A=w.find(T=>T.product_id===y);let m;return A&&A.quantity>1?m=w.map(T=>T.product_id===y?{...T,quantity:T.quantity-1}:T):m=w.filter(T=>T.product_id!==y),localStorage.setItem("cart",JSON.stringify(m)),m})},s=y=>{n(w=>{const A=w.filter(m=>m.product_id!==y);return localStorage.setItem("cart",JSON.stringify(A)),A})},c=()=>{n([]),localStorage.removeItem("cart")},d=()=>e.reduce((y,w)=>y+w.product_price*w.quantity,0),f=()=>e.reduce((y,w)=>y+w.quantity,0),h=y=>{const w=e.find(A=>A.product_id===y);return w?w.quantity:0};return _.jsx(uv.Provider,{value:{cart:e,addToCart:a,removeFromCart:l,removeItemFromCart:s,clearCart:c,getTotalPrice:d,getTotalItems:f,getItemQuantity:h},children:t})}function Fg(){const t=B.useContext(uv);if(!t)throw new Error("useCart must be used within CartProvider");return t}function gS({product:t,isMobile:e,showCartButtons:n=!0}){const{addToCart:a,removeFromCart:l,getItemQuantity:s}=Fg(),c=s(t.id),d=!t.is_active;return _.jsxs("div",{style:{background:d?"#e5e7eb":"#ffffff",borderRadius:"8px",overflow:"hidden",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",transition:"all 0.3s ease",border:"2px solid #d4a574",borderTopWidth:"4px",position:"relative",height:"100%",display:"flex",flexDirection:"column",opacity:d?.5:1,filter:d?"grayscale(0.8)":"none"},onMouseEnter:f=>{!e&&!d&&(f.currentTarget.style.transform="translateY(-4px)",f.currentTarget.style.boxShadow="0 8px 24px rgba(0,0,0,0.12)")},onMouseLeave:f=>{f.currentTarget.style.transform="translateY(0)",f.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.08)"},children:[d&&_.jsx("div",{style:{position:"absolute",top:"0.75rem",right:"0.75rem",background:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",color:"white",padding:"0.5rem 1rem",borderRadius:"20px",fontSize:e?"0.75rem":"0.875rem",fontWeight:"700",zIndex:10,boxShadow:"0 2px 8px rgba(239, 68, 68, 0.4)",letterSpacing:"0.05em"},children:"TKEND"}),t.image_url&&_.jsx("div",{style:{width:"100%",height:e?"200px":"240px",background:"#f3f4f6",overflow:"hidden",position:"relative"},children:_.jsx("img",{src:hS(t.image_url),alt:t.name,style:{width:"100%",height:"100%",objectFit:"cover",transition:"transform 0.4s ease",opacity:d?.5:1},onError:f=>{f.target.style.display="none"},onMouseEnter:f=>{!e&&!d&&(f.currentTarget.style.transform="scale(1.05)")},onMouseLeave:f=>{f.currentTarget.style.transform="scale(1)"}})}),_.jsxs("div",{style:{padding:e?"1.25rem":"1.5rem",display:"flex",flexDirection:"column",flex:1},children:[_.jsx("h3",{style:{margin:"0 0 0.5rem 0",fontSize:e?"1.25rem":"1.375rem",color:"#1a1a1a",fontWeight:"700",lineHeight:"1.3",letterSpacing:"-0.01em"},children:t.name}),t.description&&_.jsx("p",{style:{margin:"0 0 1rem 0",fontSize:e?"0.9375rem":"1rem",color:"#6b7280",lineHeight:"1.6",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",flex:1},children:t.description}),_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"auto",paddingTop:"1rem",borderTop:"2px solid #f3f4f6",gap:"0.75rem"},children:[_.jsx("span",{style:{fontSize:e?"1.5rem":"1.75rem",fontWeight:"700",color:"#2d2d2d",letterSpacing:"-0.02em"},children:Sl(t.price)}),n&&!d&&c>0?_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",background:"linear-gradient(135deg, #d4a574 0%, #c49564 100%)",borderRadius:"12px",padding:e?"0.5rem 0.75rem":"0.625rem 1rem",boxShadow:"0 4px 12px rgba(212, 165, 116, 0.4)",border:"2px solid rgba(255,255,255,0.2)"},children:[_.jsx("button",{onClick:()=>l(t.id),style:{background:"rgba(255,255,255,0.25)",border:"2px solid rgba(255,255,255,0.3)",borderRadius:"8px",width:e?"36px":"40px",height:e?"36px":"40px",color:"white",fontSize:e?"1.375rem":"1.5rem",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease",lineHeight:1},onMouseEnter:f=>{f.currentTarget.style.background="rgba(255,255,255,0.35)",f.currentTarget.style.transform="scale(1.1)"},onMouseLeave:f=>{f.currentTarget.style.background="rgba(255,255,255,0.25)",f.currentTarget.style.transform="scale(1)"},onMouseDown:f=>{f.currentTarget.style.transform="scale(0.95)"},onMouseUp:f=>{f.currentTarget.style.transform="scale(1.1)"},children:""}),_.jsx("span",{style:{color:"white",fontWeight:"bold",fontSize:e?"1.125rem":"1.25rem",minWidth:"32px",textAlign:"center",textShadow:"0 1px 2px rgba(0,0,0,0.2)"},children:c}),_.jsx("button",{onClick:()=>a(t),style:{background:"rgba(255,255,255,0.25)",border:"2px solid rgba(255,255,255,0.3)",borderRadius:"8px",width:e?"36px":"40px",height:e?"36px":"40px",color:"white",fontSize:e?"1.375rem":"1.5rem",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease",lineHeight:1},onMouseEnter:f=>{f.currentTarget.style.background="rgba(255,255,255,0.35)",f.currentTarget.style.transform="scale(1.1)"},onMouseLeave:f=>{f.currentTarget.style.background="rgba(255,255,255,0.25)",f.currentTarget.style.transform="scale(1)"},onMouseDown:f=>{f.currentTarget.style.transform="scale(0.95)"},onMouseUp:f=>{f.currentTarget.style.transform="scale(1.1)"},children:"+"})]}):n&&!d?_.jsxs("button",{onClick:()=>a(t),style:{background:"linear-gradient(135deg, #d4a574 0%, #c49564 100%)",border:"2px solid rgba(255,255,255,0.3)",borderRadius:"10px",padding:e?"0.75rem 1.25rem":"0.875rem 1.5rem",color:"white",fontSize:e?"0.875rem":"0.9375rem",fontWeight:"700",cursor:"pointer",transition:"all 0.3s ease",whiteSpace:"nowrap",boxShadow:"0 4px 12px rgba(212, 165, 116, 0.4)",letterSpacing:"0.01em",display:"flex",alignItems:"center",gap:"0.5rem"},onMouseEnter:f=>{f.currentTarget.style.background="linear-gradient(135deg, #c49564 0%, #b88554 100%)",f.currentTarget.style.transform="translateY(-2px) scale(1.02)",f.currentTarget.style.boxShadow="0 6px 16px rgba(212, 165, 116, 0.5)"},onMouseLeave:f=>{f.currentTarget.style.background="linear-gradient(135deg, #d4a574 0%, #c49564 100%)",f.currentTarget.style.transform="translateY(0) scale(1)",f.currentTarget.style.boxShadow="0 4px 12px rgba(212, 165, 116, 0.4)"},onMouseDown:f=>{f.currentTarget.style.transform="translateY(0) scale(0.98)"},onMouseUp:f=>{f.currentTarget.style.transform="translateY(-2px) scale(1.02)"},children:[_.jsx("span",{style:{fontSize:"1.125rem"},children:""}),_.jsx("span",{children:"Sepete Ekle"})]}):d?_.jsx("div",{style:{background:"linear-gradient(135deg, #9ca3af 0%, #6b7280 100%)",border:"2px solid rgba(255,255,255,0.3)",borderRadius:"10px",padding:e?"0.75rem 1.25rem":"0.875rem 1.5rem",color:"white",fontSize:e?"0.875rem":"0.9375rem",fontWeight:"700",textAlign:"center",opacity:.7,cursor:"not-allowed",userSelect:"none"},children:"u An Mevcut Deil"}):null]})]})]})}function cv({category:t,products:e,isMobile:n,isFirst:a=!1,showCartButtons:l=!0}){const s=e.filter(c=>c.category_id===t.id);return s.length===0?null:_.jsxs("section",{id:`category-${t.id}`,style:{marginBottom:n?"3rem":"4rem",scrollMarginTop:"140px",scrollBehavior:"smooth",position:"relative"},children:[!a&&_.jsx("div",{style:{height:"1px",background:"linear-gradient(90deg, transparent 0%, #d4a574 20%, #d4a574 80%, transparent 100%)",marginBottom:"2rem",position:"relative"},children:_.jsx("div",{style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",width:"60px",height:"60px",background:"#ffffff",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:_.jsx("div",{style:{width:"12px",height:"12px",background:"#d4a574",borderRadius:"50%"}})})}),_.jsx("div",{style:{marginBottom:"2.5rem",position:"relative"},children:_.jsx("h2",{style:{margin:0,fontSize:n?"1.875rem":"2.5rem",color:"#1a1a1a",fontWeight:"700",letterSpacing:"-0.02em",display:"inline-block",paddingBottom:"0.75rem",borderBottom:"4px solid #d4a574",position:"relative"},children:t.name})}),_.jsx("div",{style:{display:"grid",gridTemplateColumns:n?"1fr":"repeat(auto-fill, minmax(300px, 1fr))",gap:n?"1.25rem":"1.75rem"},children:s.map(c=>_.jsx(gS,{product:c,isMobile:n,showCartButtons:l},c.id))})]})}function mS(){const t="e99d3327-5d3f-4e0f-aa87-c037fa554d2f",{business:e,loading:n,error:a}=fS(t),{categories:l,loading:s}=Ug(e?.id),{products:c,loading:d}=qg(e?.id),[f,h]=B.useState(!1),[y,w]=B.useState(!1);B.useEffect(()=>{const m=()=>{h(window.innerWidth<768)};return m(),window.addEventListener("resize",m),()=>window.removeEventListener("resize",m)},[]),B.useEffect(()=>{let m=!1;const T=()=>{m||(window.requestAnimationFrame(()=>{const M=(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0)>100;w(M),m=!1}),m=!0)},E=()=>{setTimeout(()=>{T()},100)};T(),window.addEventListener("scroll",T,{passive:!0}),document.readyState==="complete"?E():window.addEventListener("load",E),window.addEventListener("resize",T);const L=setInterval(T,100);return()=>{window.removeEventListener("scroll",T),window.removeEventListener("load",E),window.removeEventListener("resize",T),clearInterval(L)}},[]);const A=()=>{const m=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,T=performance.now(),E=800,L=D=>D<.5?4*D*D*D:1-Math.pow(-2*D+2,3)/2,R=D=>{const M=D-T,W=Math.min(M/E,1),ue=L(W),ce=m*(1-ue);window.scrollTo(0,ce),document.documentElement.scrollTop=ce,document.body.scrollTop=ce,W<1&&requestAnimationFrame(R)};requestAnimationFrame(R)};return n||s||d?_.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#f5f5f5"},children:_.jsx(Fa,{message:"Men ykleniyor..."})}):a||!e?_.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#f5f5f5",padding:"2rem"},children:_.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"12px",textAlign:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",maxWidth:"500px"},children:[_.jsx("h2",{style:{color:"#dc2626",marginBottom:"1rem"},children:" letme Bulunamad"}),_.jsx("p",{style:{color:"#64748b"},children:a||"Bu men bulunamad. Ltfen QR kodu kontrol edin."})]})}):l.length===0||c.length===0?_.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#f5f5f5",padding:"2rem"},children:_.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"12px",textAlign:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",maxWidth:"500px"},children:[_.jsx("h2",{style:{color:"#1e293b",marginBottom:"1rem"},children:" Men Hazrlanyor"}),_.jsxs("p",{style:{color:"#64748b"},children:[e.name," mens henz hazrlanmam."]})]})}):_.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(180deg, #f8f9fa 0%, #f1f3f5 100%)",paddingTop:"0"},children:[_.jsx("header",{style:{background:"linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 50%, #1a1a1a 100%)",padding:f?"1rem 0.75rem":"0.60rem 2.5rem",marginBottom:"2rem",boxShadow:"0 4px 16px rgba(0,0,0,0.2)",borderBottom:"3px solid #d4a574"},children:_.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",gap:f?"0.75rem":"2rem",maxWidth:"1200px",margin:"0 auto",textAlign:"center"},children:[e?.logo_url&&_.jsx("div",{style:{flexShrink:0,display:"flex",alignItems:"center",justifyContent:"center"},children:_.jsx("img",{src:e.logo_url,alt:e.name||"Logo",style:{maxWidth:f?"70px":"120px",maxHeight:f?"70px":"120px",width:"auto",height:"auto",objectFit:"contain",display:"block"},onError:m=>{m.target.style.display="none"}})}),_.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:f?"flex-start":"center",gap:f?"0.25rem":"0.75rem",textAlign:f?"left":"center",flex:f?1:"none"},children:_.jsx("h1",{style:{margin:0,fontSize:f?"1.25rem":"2.25rem",color:"#ffffff",fontWeight:"800",letterSpacing:"0.02em",lineHeight:"1.2",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:f?"100%":"none",textShadow:"0 2px 8px rgba(0,0,0,0.3), 0 0 20px rgba(212, 165, 116, 0.2)",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif'},children:e.name})})]})}),_.jsx(lv,{categories:l,isMobile:f}),_.jsx("main",{style:{maxWidth:"1200px",margin:"0 auto",padding:f?"0 1rem 2rem":"0 2rem 3rem"},children:l.map((m,T)=>_.jsx(cv,{category:m,products:c,isMobile:f,isFirst:T===0,showCartButtons:!1},m.id))}),_.jsxs("footer",{style:{background:"#1a1a1a",color:"#ffffff",padding:f?"2rem 1rem":"2.5rem 2rem",textAlign:"center",marginTop:"4rem"},children:[_.jsxs("p",{style:{margin:0,fontSize:f?"0.875rem":"0.9375rem",color:"#9ca3af",fontWeight:"400",marginBottom:e.phone?"0.75rem":"0"},children:[" ",new Date().getFullYear()," ",e.name]}),e.phone&&_.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",color:"#d4a574",fontSize:f?"0.9375rem":"1.0625rem",fontWeight:"500"},children:_.jsx("span",{children:e.phone})})]}),_.jsx("button",{onClick:A,style:{position:"fixed",bottom:f?"1.5rem":"2rem",right:f?"1.5rem":"2rem",zIndex:99999,width:f?"44px":"48px",height:f?"44px":"48px",minWidth:f?"44px":"48px",minHeight:f?"44px":"48px",maxWidth:f?"44px":"48px",maxHeight:f?"44px":"48px",borderRadius:"50%",background:"linear-gradient(135deg, rgba(212, 165, 116, 0.85) 0%, rgba(184, 134, 11, 0.85) 100%)",border:"3px solid rgba(255, 255, 255, 0.9)",color:"#ffffff",fontSize:f?"1.5rem":"1.75rem",cursor:"pointer",boxShadow:"0 4px 20px rgba(212, 165, 116, 0.3), 0 0 0 4px rgba(212, 165, 116, 0.1)",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 0.8s ease-out, transform 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55), boxShadow 0.4s ease, background 0.3s ease, visibility 0.8s ease-out",fontWeight:"bold",padding:0,margin:0,lineHeight:1,outline:"none",WebkitTapHighlightColor:"transparent",userSelect:"none",opacity:y?.8:0,visibility:y?"visible":"hidden",pointerEvents:y?"auto":"none",transform:"scale(1) translateY(0)"},onMouseEnter:m=>{m.currentTarget.style.transform="scale(1.05) translateY(-3px)",m.currentTarget.style.background="linear-gradient(135deg, rgba(212, 165, 116, 1) 0%, rgba(184, 134, 11, 1) 100%)",m.currentTarget.style.boxShadow="0 6px 25px rgba(212, 165, 116, 0.5), 0 0 0 6px rgba(212, 165, 116, 0.15)",m.currentTarget.style.opacity="1",m.currentTarget.style.border="3px solid rgba(255, 255, 255, 1)"},onMouseLeave:m=>{m.currentTarget.style.transform="scale(1) translateY(0)",m.currentTarget.style.background="linear-gradient(135deg, rgba(212, 165, 116, 0.85) 0%, rgba(184, 134, 11, 0.85) 100%)",m.currentTarget.style.boxShadow="0 4px 20px rgba(212, 165, 116, 0.3), 0 0 0 4px rgba(212, 165, 116, 0.1)",m.currentTarget.style.opacity=y?"0.8":"0",m.currentTarget.style.border="3px solid rgba(255, 255, 255, 0.9)"},"aria-label":"Yukar kaydr",children:""})]})}function yS(t){const[e,n]=B.useState(null),[a,l]=B.useState(!0),[s,c]=B.useState(null);return B.useEffect(()=>{if(!t){l(!1);return}(async()=>{try{l(!0),c(null);const{data:f,error:h}=await st.from("businesses").select("*").eq("slug",t).single();if(h)throw h;n(f)}catch(f){c(f.message),console.error("Business fetch error:",f)}finally{l(!1)}})()},[t]),{business:e,loading:a,error:s}}function vS(t){const[e,n]=B.useState([]),[a,l]=B.useState(!0),[s,c]=B.useState(null);return B.useEffect(()=>{if(!t){l(!1);return}(async()=>{try{l(!0),c(null);const{data:f,error:h}=await st.from("tables").select("*").eq("business_id",t).eq("is_active",!0).order("table_number",{ascending:!0});if(h)throw h;n(f||[])}catch(f){c(f.message),console.error("Tables fetch error:",f)}finally{l(!1)}})()},[t]),{tables:e,loading:a,error:s}}function bS({isOpen:t,onClose:e,onCheckout:n,isMobile:a}){const{cart:l,addToCart:s,removeFromCart:c,removeItemFromCart:d,getTotalPrice:f,getTotalItems:h}=Fg();return t?_.jsxs(_.Fragment,{children:[_.jsx("div",{onClick:e,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",zIndex:9998,animation:"fadeIn 0.2s"}}),_.jsxs("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"white",borderRadius:"16px",width:a?"90%":"500px",maxWidth:"90vw",maxHeight:"90vh",zIndex:9999,display:"flex",flexDirection:"column",boxShadow:"0 20px 60px rgba(0,0,0,0.3)",animation:"slideUp 0.3s"},children:[_.jsxs("div",{style:{padding:a?"1.25rem":"1.5rem",borderBottom:"2px solid #f3f4f6",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[_.jsxs("h2",{style:{margin:0,fontSize:a?"1.25rem":"1.5rem",color:"#1e293b",fontWeight:"700"},children:[" Sepet (",h(),")"]}),_.jsx("button",{onClick:e,style:{background:"transparent",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#64748b",padding:"0.5rem",borderRadius:"8px",transition:"all 0.2s"},onMouseEnter:y=>{y.currentTarget.style.background="#f3f4f6",y.currentTarget.style.color="#1e293b"},onMouseLeave:y=>{y.currentTarget.style.background="transparent",y.currentTarget.style.color="#64748b"},children:""})]}),_.jsx("div",{style:{flex:1,overflowY:"auto",padding:a?"1rem":"1.5rem"},children:l.length===0?_.jsxs("div",{style:{textAlign:"center",padding:"3rem 1rem",color:"#64748b"},children:[_.jsx("p",{style:{fontSize:"3rem",margin:"0 0 1rem 0"},children:""}),_.jsx("p",{children:"Sepetiniz bo"})]}):_.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:l.map(y=>_.jsxs("div",{style:{display:"flex",gap:"1rem",padding:"1rem",background:"#f8fafc",borderRadius:"12px",border:"1px solid #e2e8f0"},children:[_.jsxs("div",{style:{flex:1},children:[_.jsx("h3",{style:{margin:"0 0 0.5rem 0",fontSize:a?"1rem":"1.125rem",color:"#1e293b",fontWeight:"600"},children:y.product_name}),_.jsxs("p",{style:{margin:0,fontSize:a?"1rem":"1.125rem",color:"#2d2d2d",fontWeight:"700"},children:[Sl(y.product_price),"  ",y.quantity," = ",Sl(y.product_price*y.quantity)]})]}),_.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem"},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",background:"#d4a574",borderRadius:"8px",padding:"0.5rem"},children:[_.jsx("button",{onClick:()=>c(y.product_id),style:{background:"rgba(255,255,255,0.2)",border:"none",borderRadius:"6px",width:"32px",height:"32px",color:"white",fontSize:"1.25rem",fontWeight:"bold",cursor:"pointer"},children:""}),_.jsx("span",{style:{color:"white",fontWeight:"bold",fontSize:"1rem",minWidth:"24px",textAlign:"center"},children:y.quantity}),_.jsx("button",{onClick:()=>s({id:y.product_id,name:y.product_name,price:y.product_price}),style:{background:"rgba(255,255,255,0.2)",border:"none",borderRadius:"6px",width:"32px",height:"32px",color:"white",fontSize:"1.25rem",fontWeight:"bold",cursor:"pointer"},children:"+"})]}),_.jsx("button",{onClick:()=>d(y.product_id),style:{background:"transparent",border:"none",color:"#ef4444",fontSize:"0.875rem",cursor:"pointer",padding:"0.25rem 0.5rem"},children:"Kaldr"})]})]},y.product_id))})}),l.length>0&&_.jsxs("div",{style:{padding:a?"1.25rem":"1.5rem",borderTop:"2px solid #f3f4f6",background:"#f8fafc"},children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[_.jsx("span",{style:{fontSize:a?"1.125rem":"1.25rem",fontWeight:"600",color:"#1e293b"},children:"Toplam:"}),_.jsx("span",{style:{fontSize:a?"1.5rem":"1.75rem",fontWeight:"700",color:"#2d2d2d"},children:Sl(f())})]}),_.jsx("button",{onClick:n,style:{width:"100%",padding:a?"1rem":"1.25rem",background:"#d4a574",border:"none",borderRadius:"12px",color:"white",fontSize:a?"1rem":"1.125rem",fontWeight:"700",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:y=>{y.currentTarget.style.background="#c49564",y.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:y=>{y.currentTarget.style.background="#d4a574",y.currentTarget.style.transform="translateY(0)"},children:" Siparii Onayla"})]})]})]}):null}function wS({orderId:t,isMobile:e,onClose:n,isExpanded:a=!1,onToggle:l}){const[s,c]=B.useState(null),[d,f]=B.useState(!0),[h,y]=B.useState(a);B.useEffect(()=>{if(!t)return;(async()=>{try{const{data:E,error:L}=await st.from("orders").select(`
            *,
            order_items (
              id,
              product_name,
              product_price,
              quantity,
              subtotal
            )
          `).eq("id",t).single();if(L)throw L;c(E)}catch(E){console.error("Order fetch error:",E)}finally{f(!1)}})();const T=st.channel(`order:${t}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"orders",filter:`id=eq.${t}`},E=>{c(E.new),E.new.status==="completed"&&setTimeout(()=>{n()},6e5)}).subscribe();return()=>{st.removeChannel(T)}},[t,n]);const w=m=>({pending:" Beklemede",preparing:" Hazrlanyor",ready:" Hazr",delivering:" Sipari Geliyor",completed:" Tamamland",cancelled:" ptal Edildi"})[m]||m,A=m=>({pending:"#f59e0b",preparing:"#8b5cf6",ready:"#10b981",delivering:"#3b82f6",completed:"#64748b",cancelled:"#ef4444"})[m]||"#64748b";return B.useEffect(()=>{y(a)},[a]),d?_.jsx("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"white",borderRadius:"16px",padding:"3rem",zIndex:9999,textAlign:"center"},children:_.jsx("p",{children:"Ykleniyor..."})}):s?h?_.jsxs(_.Fragment,{children:[_.jsx("div",{onClick:()=>{y(!1),l&&l()},style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",zIndex:9998,animation:"fadeIn 0.2s"}}),_.jsxs("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"white",borderRadius:"16px",width:e?"90%":"500px",maxWidth:"90vw",maxHeight:"90vh",zIndex:9999,display:"flex",flexDirection:"column",boxShadow:"0 20px 60px rgba(0,0,0,0.3)",overflow:"hidden",animation:"slideUp 0.3s"},children:[_.jsxs("div",{style:{padding:e?"1.25rem":"1.5rem",borderBottom:"2px solid #f3f4f6",background:`${A(s.status)}20`},children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[_.jsx("h2",{style:{margin:0,fontSize:e?"1.25rem":"1.5rem",color:"#1e293b",fontWeight:"700"},children:" Sipari Takibi"}),_.jsx("button",{onClick:n,style:{background:"transparent",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#64748b",padding:"0.5rem",borderRadius:"8px"},children:""})]}),_.jsx("div",{style:{padding:"0.75rem 1rem",background:A(s.status),color:"white",borderRadius:"8px",fontWeight:"600",fontSize:e?"0.9375rem":"1rem",textAlign:"center"},children:w(s.status)})]}),_.jsxs("div",{style:{flex:1,overflowY:"auto",padding:e?"1rem":"1.5rem"},children:[s.order_items&&s.order_items.length>0&&_.jsxs("div",{style:{marginBottom:"1.5rem"},children:[_.jsx("h3",{style:{margin:"0 0 1rem 0",fontSize:e?"1rem":"1.125rem",color:"#1e293b",fontWeight:"600"},children:"Sipari Detaylar:"}),s.order_items.map(m=>_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"0.75rem 0",borderBottom:"1px solid #e2e8f0"},children:[_.jsxs("span",{style:{color:"#64748b"},children:[m.product_name,"  ",m.quantity]}),_.jsx("span",{style:{fontWeight:"600",color:"#1e293b"},children:Sl(m.subtotal)})]},m.id))]}),_.jsx("div",{style:{padding:"1rem",background:"#f8fafc",borderRadius:"8px",marginTop:"1rem"},children:_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[_.jsx("span",{style:{fontSize:e?"1.125rem":"1.25rem",fontWeight:"600",color:"#1e293b"},children:"Toplam:"}),_.jsx("span",{style:{fontSize:e?"1.5rem":"1.75rem",fontWeight:"700",color:"#2d2d2d"},children:Sl(s.total_amount)})]})})]})]})]}):_.jsxs("div",{onClick:()=>{y(!0),l&&l()},style:{position:"fixed",bottom:e?"5rem":"6rem",right:e?"1rem":"2rem",background:"white",borderRadius:"12px",padding:e?"0.875rem 1rem":"1rem 1.25rem",boxShadow:"0 4px 20px rgba(0,0,0,0.25)",zIndex:9998,cursor:"pointer",border:`3px solid ${A(s.status)}`,minWidth:e?"140px":"180px",maxWidth:e?"180px":"220px",transition:"all 0.3s ease"},onMouseEnter:m=>{m.currentTarget.style.transform="translateY(-4px) scale(1.05)",m.currentTarget.style.boxShadow="0 8px 30px rgba(0,0,0,0.35)"},onMouseLeave:m=>{m.currentTarget.style.transform="translateY(0) scale(1)",m.currentTarget.style.boxShadow="0 4px 20px rgba(0,0,0,0.25)"},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.5rem"},children:[_.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",background:A(s.status),flexShrink:0}}),_.jsxs("span",{style:{fontSize:e?"0.75rem":"0.875rem",fontWeight:"600",color:"#1e293b"},children:["Sipari #",s.id.slice(0,8)]})]}),_.jsxs("div",{style:{padding:"0.5rem 0.75rem",background:`${A(s.status)}20`,borderRadius:"8px",textAlign:"center"},children:[_.jsx("div",{style:{fontSize:e?"0.75rem":"0.875rem",fontWeight:"600",color:A(s.status),marginBottom:"0.25rem"},children:w(s.status)}),_.jsxs("div",{style:{fontSize:e?"0.875rem":"1rem",fontWeight:"700",color:"#1e293b"},children:["",parseFloat(s.total_amount).toFixed(2)]})]}),_.jsx("div",{style:{fontSize:e?"0.625rem":"0.75rem",color:"#64748b",textAlign:"center",marginTop:"0.5rem"},children:"Tklayarak detaylar gr"})]}):null}function xS({slug:t}){console.log(" MenuPage render edildi!",{slugProp:t});const e=zx(),n=t||e.slug,a=e.table,l=a?parseInt(a,10):null;console.log(" MenuPage params:",{slug:n,table:a,tableNumber:l});const{business:s,loading:c,error:d}=yS(n),{tables:f,loading:h}=vS(s?.id),{categories:y,loading:w}=Ug(s?.id),{products:A,loading:m}=qg(s?.id),[T,E]=B.useState(!1);B.useEffect(()=>{l&&s&&!h&&f.length>0?f.map(P=>P.table_number).includes(l)?E(!1):E(!0):l&&s&&!h&&f.length===0&&E(!0)},[l,s,f,h]),B.useEffect(()=>{l&&s&&f.length>0?f.map(P=>P.table_number).includes(l)&&(localStorage.setItem("currentTableNumber",l.toString()),localStorage.setItem("currentBusinessSlug",n||"")):localStorage.removeItem("currentTableNumber")},[l,n,s,f]);const[L,R]=B.useState(!1),[D,M]=B.useState(!1),[W,ue]=B.useState(!1),[ce,Z]=B.useState(!1),[ee,q]=B.useState(null),[fe,z]=B.useState(null),Y=Fg(),se=Y?.cart||[],oe=Y?.getTotalPrice||(()=>0),Ee=Y?.getTotalItems||(()=>0),X=Y?.clearCart||(()=>{}),de=Ee(),he=oe(),_e=async()=>{if(!(!s||se.length===0))try{const{data:k,error:P}=await st.from("orders").insert({business_id:s.id,table_number:l,status:"pending",total_amount:oe(),notes:""}).select().single();if(P)throw P;const K=se.map(V=>({order_id:k.id,product_id:V.product_id,product_name:V.product_name,product_price:V.product_price,quantity:V.quantity,notes:V.notes||"",subtotal:V.product_price*V.quantity})),{error:ae}=await st.from("order_items").insert(K);if(ae)throw ae;X(),q(k.id),z("pending"),ue(!1),Z(!0)}catch(k){console.error("Order creation error:",k),alert(" Sipari oluturulurken hata olutu!")}};B.useEffect(()=>{if(!ee)return;const k=st.channel(`order:${ee}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"orders",filter:`id=eq.${ee}`},P=>{z(P.new.status),P.new.status==="completed"&&setTimeout(()=>{Z(!1),q(null),z(null)},6e5)}).subscribe();return()=>{st.removeChannel(k)}},[ee]),B.useEffect(()=>{const k=()=>{R(window.innerWidth<768)};return k(),window.addEventListener("resize",k),()=>window.removeEventListener("resize",k)},[]),B.useEffect(()=>{let k=!1;const P=()=>{k||(window.requestAnimationFrame(()=>{const Q=(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0)>100;M(Q),k=!1}),k=!0)};P(),window.addEventListener("scroll",P,{passive:!0}),window.addEventListener("resize",P);const K=setInterval(P,100);return()=>{window.removeEventListener("scroll",P),window.removeEventListener("resize",P),clearInterval(K)}},[]);const ve=()=>{const k=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,P=performance.now(),K=800,ae=Q=>Q<.5?4*Q*Q*Q:1-Math.pow(-2*Q+2,3)/2,V=Q=>{const le=Q-P,ye=Math.min(le/K,1),pe=ae(ye),Le=k*(1-pe);window.scrollTo(0,Le),document.documentElement.scrollTop=Le,document.body.scrollTop=Le,ye<1&&requestAnimationFrame(V)};requestAnimationFrame(V)},I=()=>_.jsxs("button",{onClick:()=>{console.log(" Sepet butonu tkland!",{showCart:W,totalItems:de,totalPrice:he,cart:se}),ue(!0)},style:{position:"fixed",top:L?"4.5rem":"5rem",right:"1rem",background:"#d4a574",border:"3px solid rgba(255,255,255,0.9)",borderRadius:"16px",padding:L?"0.75rem 1rem":"1rem 1.25rem",color:"white",fontSize:L?"0.875rem":"1rem",fontWeight:"700",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.75rem",boxShadow:"0 6px 20px rgba(212, 165, 116, 0.6)",transition:"all 0.3s",zIndex:10002,opacity:1,minWidth:L?"90px":"120px",whiteSpace:"nowrap",visibility:"visible",pointerEvents:"auto",lineHeight:1},onMouseEnter:k=>{k.currentTarget.style.background="#c49564",k.currentTarget.style.transform="translateY(-3px) scale(1.08)",k.currentTarget.style.boxShadow="0 8px 24px rgba(212, 165, 116, 0.7)"},onMouseLeave:k=>{k.currentTarget.style.background="#d4a574",k.currentTarget.style.transform="translateY(0) scale(1)",k.currentTarget.style.boxShadow="0 6px 20px rgba(212, 165, 116, 0.6)"},children:[_.jsx("span",{style:{fontSize:L?"1.5rem":"1.75rem",lineHeight:1},children:""}),(de||0)>0?_.jsxs(_.Fragment,{children:[_.jsxs("span",{style:{fontSize:L?"0.875rem":"1rem",fontWeight:"700"},children:["(",de||0,")"]}),_.jsxs("span",{style:{background:"rgba(255,255,255,0.35)",padding:"0.25rem 0.5rem",borderRadius:"6px",fontSize:L?"0.75rem":"0.875rem",fontWeight:"700"},children:["",(he||0).toFixed(2)]})]}):_.jsx("span",{style:{fontSize:L?"0.875rem":"1rem"},children:"Sepet"})]});return c||w||m?_.jsxs(_.Fragment,{children:[_.jsx(I,{}),_.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#f5f5f5"},children:_.jsx(Fa,{message:"Men ykleniyor..."})})]}):n==="admin"?_.jsxs(_.Fragment,{children:[_.jsx(I,{}),_.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#f5f5f5",padding:"2rem"},children:_.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"12px",textAlign:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",maxWidth:"500px"},children:[_.jsx("h2",{style:{color:"#dc2626",marginBottom:"1rem"},children:" Geersiz URL"}),_.jsx("p",{style:{color:"#64748b"},children:"Admin paneline erimek iin doru URL'yi kullann."})]})})]}):n?d||!c&&!s?_.jsxs(_.Fragment,{children:[_.jsx(I,{}),_.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#f5f5f5",padding:"2rem"},children:_.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"12px",textAlign:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",maxWidth:"500px"},children:[_.jsx("h2",{style:{color:"#dc2626",marginBottom:"1rem"},children:" letme Bulunamad"}),_.jsx("p",{style:{color:"#64748b"},children:d||`"${n}" adl iletme bulunamad.`})]})})]}):s?y.length===0||A.length===0?_.jsxs(_.Fragment,{children:[_.jsx(I,{}),_.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#f5f5f5",padding:"2rem"},children:_.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"12px",textAlign:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",maxWidth:"500px"},children:[_.jsx("h2",{style:{color:"#1e293b",marginBottom:"1rem"},children:" Men Hazrlanyor"}),_.jsxs("p",{style:{color:"#64748b"},children:[s.name," mens henz hazrlanmam."]})]})})]}):_.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(180deg, #f8f9fa 0%, #f1f3f5 100%)",paddingTop:"0",position:"relative"},children:[_.jsx(I,{}),_.jsx("header",{style:{position:"relative",background:"linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 50%, #1a1a1a 100%)",padding:L?"1rem 0.75rem":"0.60rem 2.5rem",marginBottom:"2rem",boxShadow:"0 4px 16px rgba(0,0,0,0.2)",borderBottom:"3px solid #d4a574"},children:_.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",gap:L?"0.75rem":"2rem",maxWidth:"1200px",margin:"0 auto",textAlign:"center"},children:[s?.logo_url&&_.jsx("div",{style:{flexShrink:0,display:"flex",alignItems:"center",justifyContent:"center"},children:_.jsx("img",{src:s.logo_url,alt:s.name||"Logo",style:{maxWidth:L?"70px":"120px",maxHeight:L?"70px":"120px",width:"auto",height:"auto",objectFit:"contain",display:"block"},onError:k=>{k.target.style.display="none"}})}),_.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:L?"flex-start":"center",gap:L?"0.25rem":"0.75rem",textAlign:L?"left":"center",flex:L?1:"none"},children:[_.jsx("h1",{style:{margin:0,fontSize:L?"1.25rem":"2.25rem",color:"#ffffff",fontWeight:"800",letterSpacing:"0.02em",lineHeight:"1.2",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:L?"100%":"none",textShadow:"0 2px 8px rgba(0,0,0,0.3), 0 0 20px rgba(212, 165, 116, 0.2)",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif'},children:s.name}),l&&_.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",marginTop:"0.5rem",padding:"0.5rem 1rem",background:"rgba(212, 165, 116, 0.2)",borderRadius:"8px",border:"2px solid #d4a574"},children:[_.jsx("span",{style:{fontSize:L?"1rem":"1.25rem",color:"#d4a574",fontWeight:"700"},children:""}),_.jsxs("p",{style:{margin:0,fontSize:L?"0.9375rem":"1.125rem",color:"#d4a574",fontWeight:"700",letterSpacing:"0.05em"},children:["Masa ",l]})]})]})]})}),_.jsx(lv,{categories:y,isMobile:L}),_.jsx("main",{style:{maxWidth:"1200px",margin:"0 auto",padding:L?"0 1rem 2rem":"0 2rem 3rem"},children:y.map((k,P)=>_.jsx(cv,{category:k,products:A,isMobile:L,isFirst:P===0},k.id))}),_.jsxs("footer",{style:{background:"#1a1a1a",color:"#ffffff",padding:L?"2rem 1rem":"2.5rem 2rem",textAlign:"center",marginTop:"4rem"},children:[_.jsxs("p",{style:{margin:0,fontSize:L?"0.875rem":"0.9375rem",color:"#9ca3af",fontWeight:"400",marginBottom:s.phone?"0.75rem":"0"},children:[" ",new Date().getFullYear()," ",s.name]}),s.phone&&_.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",color:"#d4a574",fontSize:L?"0.9375rem":"1.0625rem",fontWeight:"500"},children:_.jsx("span",{children:s.phone})})]}),_.jsx("button",{onClick:ve,style:{position:"fixed",bottom:L?"1.5rem":"2rem",right:L?"1.5rem":"2rem",zIndex:99999,width:L?"44px":"48px",height:L?"44px":"48px",minWidth:L?"44px":"48px",minHeight:L?"44px":"48px",maxWidth:L?"44px":"48px",maxHeight:L?"44px":"48px",borderRadius:"50%",background:"linear-gradient(135deg, rgba(212, 165, 116, 0.85) 0%, rgba(184, 134, 11, 0.85) 100%)",border:"3px solid rgba(255, 255, 255, 0.9)",color:"#ffffff",fontSize:L?"1.5rem":"1.75rem",cursor:"pointer",boxShadow:"0 4px 20px rgba(212, 165, 116, 0.3), 0 0 0 4px rgba(212, 165, 116, 0.1)",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 0.8s ease-out, transform 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55), boxShadow 0.4s ease, background 0.3s ease, visibility 0.8s ease-out",fontWeight:"bold",padding:0,margin:0,lineHeight:1,outline:"none",WebkitTapHighlightColor:"transparent",userSelect:"none",opacity:D?.8:0,visibility:D?"visible":"hidden",pointerEvents:D?"auto":"none",transform:"scale(1) translateY(0)"},onMouseEnter:k=>{k.currentTarget.style.transform="scale(1.05) translateY(-3px)",k.currentTarget.style.background="linear-gradient(135deg, rgba(212, 165, 116, 1) 0%, rgba(184, 134, 11, 1) 100%)",k.currentTarget.style.boxShadow="0 6px 25px rgba(212, 165, 116, 0.5), 0 0 0 6px rgba(212, 165, 116, 0.15)",k.currentTarget.style.opacity="1",k.currentTarget.style.border="3px solid rgba(255, 255, 255, 1)"},onMouseLeave:k=>{k.currentTarget.style.transform="scale(1) translateY(0)",k.currentTarget.style.background="linear-gradient(135deg, rgba(212, 165, 116, 0.85) 0%, rgba(184, 134, 11, 0.85) 100%)",k.currentTarget.style.boxShadow="0 4px 20px rgba(212, 165, 116, 0.3), 0 0 0 4px rgba(212, 165, 116, 0.1)",k.currentTarget.style.opacity=D?"0.8":"0",k.currentTarget.style.border="3px solid rgba(255, 255, 255, 0.9)"},"aria-label":"Yukar kaydr",children:""}),_.jsx(bS,{isOpen:W,onClose:()=>ue(!1),onCheckout:_e,isMobile:L}),ee&&_.jsx(wS,{orderId:ee,isMobile:L,isExpanded:ce,onToggle:()=>Z(!ce),onClose:()=>{Z(!1),q(null),z(null)}})]}):_.jsxs(_.Fragment,{children:[_.jsx(I,{}),_.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#f5f5f5"},children:_.jsx(Fa,{message:"Men ykleniyor..."})})]}):_.jsxs(_.Fragment,{children:[_.jsx(I,{}),_.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#f5f5f5",padding:"2rem"},children:_.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"12px",textAlign:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",maxWidth:"500px"},children:[_.jsx("h2",{style:{color:"#dc2626",marginBottom:"1rem"},children:" letme Bulunamad"}),_.jsx("p",{style:{color:"#64748b"},children:"letme slug' bulunamad."})]})})]})}const dv=B.createContext(null);function _S({children:t}){const[e,n]=B.useState(null),[a,l]=B.useState(null),[s,c]=B.useState(!0);B.useEffect(()=>{st.auth.getSession().then(({data:{session:A}})=>{n(A?.user??null),A?.user?d(A.user.id):c(!1)});const{data:{subscription:w}}=st.auth.onAuthStateChange((A,m)=>{n(m?.user??null),m?.user?d(m.user.id):(l(null),c(!1))});return()=>w.unsubscribe()},[]);const d=async w=>{try{const{data:A,error:m}=await st.from("user_business").select("business_id, businesses(*)").eq("user_id",w).single();if(m)throw m;A?.businesses&&l(A.businesses)}catch(A){console.error("Business fetch error:",A)}finally{c(!1)}},y={user:e,business:a,loading:s,signIn:async(w,A)=>{try{c(!0);const{data:m,error:T}=await st.auth.signInWithPassword({email:w,password:A});if(T)throw T;return m.user&&await d(m.user.id),{success:!0,user:m.user}}catch(m){return{success:!1,error:m.message}}finally{c(!1)}},signOut:async()=>{try{const{error:w}=await st.auth.signOut();if(w)throw w;return n(null),l(null),{success:!0}}catch(w){return{success:!1,error:w.message}}}};return _.jsx(dv.Provider,{value:y,children:t})}function zo(){const t=B.useContext(dv);if(!t)throw new Error("useAuth must be used within AuthProvider");return t}function Pr({children:t,onClick:e,variant:n="primary",disabled:a=!1,type:l="button",style:s={}}){const c={padding:"0.75rem 1.5rem",fontSize:"1rem",border:"none",borderRadius:"6px",cursor:a?"not-allowed":"pointer",fontWeight:"500",transition:"all 0.2s",...s},d={primary:{background:a?"#ccc":"#007bff",color:"white"},secondary:{background:a?"#ccc":"#6c757d",color:"white"},danger:{background:a?"#ccc":"#dc3545",color:"white"},success:{background:a?"#ccc":"#28a745",color:"white"}};return _.jsx("button",{type:l,onClick:e,disabled:a,style:{...c,...d[n]},onMouseEnter:f=>{a||(f.target.style.opacity="0.9")},onMouseLeave:f=>{f.target.style.opacity="1"},children:t})}function Xs({label:t,type:e="text",value:n,onChange:a,placeholder:l="",required:s=!1,error:c=null,style:d={}}){return _.jsxs("div",{style:{marginBottom:"1rem",...d},children:[t&&_.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#333"},children:[t,s&&_.jsx("span",{style:{color:"red"},children:" *"})]}),_.jsx("input",{type:e,value:n,onChange:a,placeholder:l,required:s,style:{width:"100%",padding:"0.75rem",fontSize:"1rem",border:c?"2px solid #dc3545":"1px solid #ddd",borderRadius:"6px",boxSizing:"border-box",fontFamily:"inherit"}}),c&&_.jsx("p",{style:{color:"#dc3545",fontSize:"0.875rem",margin:"0.25rem 0 0 0"},children:c})]})}function SS(){const[t,e]=B.useState(""),[n,a]=B.useState(""),[l,s]=B.useState(""),[c,d]=B.useState(!1),[f,h]=B.useState(!1),{signIn:y}=zo(),w=Bh();B.useEffect(()=>{const m=()=>{h(window.innerWidth<768)};return m(),window.addEventListener("resize",m),()=>window.removeEventListener("resize",m)},[]);const A=async m=>{if(m.preventDefault(),s(""),d(!0),!t||!n){s("Ltfen e-posta ve ifre girin"),d(!1);return}const T=await y(t,n);T.success?w("/admin/dashboard"):s(T.error||"Giri baarsz"),d(!1)};return _.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:f?"1rem":"2rem"},children:_.jsxs("div",{style:{background:"white",borderRadius:f?"12px":"16px",padding:f?"1.5rem":"2.5rem",width:"100%",maxWidth:f?"100%":"450px",boxShadow:f?"0 10px 25px rgba(0,0,0,0.2)":"0 20px 40px rgba(0,0,0,0.15)"},children:[_.jsxs("div",{style:{textAlign:"center",marginBottom:f?"1.5rem":"2rem"},children:[_.jsx("h1",{style:{margin:0,color:"#333",fontSize:f?"1.5rem":"2rem",fontWeight:"bold"},children:" Admin Girii"}),_.jsx("p",{style:{color:"#666",marginTop:"0.5rem",fontSize:f?"0.875rem":"1rem"},children:"letme paneline giri yapn"})]}),_.jsxs("form",{onSubmit:A,children:[_.jsx(Xs,{label:"E-posta",type:"email",value:t,onChange:m=>e(m.target.value),placeholder:"ornek@email.com",required:!0,error:l&&!t?"E-posta gerekli":null,style:{marginBottom:"1.25rem"}}),_.jsx(Xs,{label:"ifre",type:"password",value:n,onChange:m=>a(m.target.value),placeholder:"",required:!0,error:l&&!n?"ifre gerekli":null,style:{marginBottom:"1.25rem"}}),l&&_.jsx("div",{style:{padding:f?"0.75rem":"1rem",background:"#fee",border:"1px solid #fcc",borderRadius:"6px",color:"#c33",marginBottom:"1rem",fontSize:f?"0.875rem":"0.9375rem"},children:l}),_.jsx(Pr,{type:"submit",variant:"primary",disabled:c,style:{width:"100%",marginTop:"0.5rem",padding:f?"0.75rem 1.5rem":"0.875rem 1.75rem",fontSize:f?"0.9375rem":"1rem"},children:c?" Giri yaplyor...":" Giri Yap"})]}),_.jsx("div",{style:{marginTop:f?"1.5rem":"2rem",padding:f?"1rem":"1.25rem",background:"#f5f5f5",borderRadius:"8px",fontSize:f?"0.8125rem":"0.875rem",color:"#666"},children:_.jsxs("p",{style:{margin:0,textAlign:"center",lineHeight:"1.5"},children:[_.jsx("strong",{children:"Not:"})," Hesap oluturma iin ltfen ynetici ile iletiime gein."]})})]})})}function _a({children:t}){const[e,n]=B.useState(!0),[a,l]=B.useState(!1),{business:s,signOut:c}=zo(),d=Do(),f=Bh();B.useEffect(()=>{const E=()=>{l(window.innerWidth<768),window.innerWidth<768?n(!1):n(!0)};return E(),window.addEventListener("resize",E),()=>window.removeEventListener("resize",E)},[]);const h=async()=>{(await c()).success&&f("/admin")},y=()=>{n(!e)},w=[{path:"/admin/dashboard",label:" Dashboard",icon:""},{path:"/admin/orders",label:" Sipariler",icon:""},{path:"/admin/payments",label:" demeler",icon:""},{path:"/admin/products",label:" rnler",icon:""},{path:"/admin/categories",label:" Kategoriler",icon:""},{path:"/admin/settings",label:" Ayarlar",icon:""}],A=E=>d.pathname===E,m=()=>{a&&n(!1)},T=a?0:70;return _.jsxs("div",{style:{display:"flex",minHeight:"100vh",background:"#f5f5f5",position:"relative"},children:[a&&_.jsx("button",{onClick:y,style:{position:"fixed",top:"1rem",left:"1rem",zIndex:1001,background:"#1e293b",color:"white",border:"none",borderRadius:"8px",padding:"0.625rem 0.75rem",cursor:"pointer",fontSize:"1.25rem",boxShadow:"0 2px 8px rgba(0,0,0,0.2)",transition:"all 0.2s"},onMouseEnter:E=>{E.currentTarget.style.background="#334155"},onMouseLeave:E=>{E.currentTarget.style.background="#1e293b"},children:e?"":""}),a&&e&&_.jsx("div",{onClick:m,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",zIndex:999,transition:"opacity 0.3s"}}),_.jsxs("aside",{style:{width:e?"280px":T,background:"#1e293b",color:"white",transition:"width 0.3s, transform 0.3s",display:"flex",flexDirection:"column",position:"fixed",height:"100vh",overflowY:"auto",zIndex:1e3,transform:a&&!e?"translateX(-100%)":"translateX(0)",boxShadow:a?"2px 0 8px rgba(0,0,0,0.2)":"2px 0 4px rgba(0,0,0,0.1)"},children:[_.jsxs("div",{style:{padding:a?"1rem":"1.25rem 1.5rem",borderBottom:"1px solid #334155",display:"flex",alignItems:"flex-start",justifyContent:"space-between",gap:"0.75rem"},children:[e&&_.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem",flex:1,minWidth:0},children:[s?.logo_url&&_.jsx("img",{src:s.logo_url,alt:s.name||"Logo",style:{width:"56px",height:"56px",minWidth:"56px",minHeight:"56px",maxWidth:"56px",maxHeight:"56px",objectFit:"contain",flexShrink:0,display:"block"}}),_.jsx("h2",{style:{margin:0,fontSize:a?"1rem":"1.125rem",fontWeight:"bold",whiteSpace:"normal",overflow:"hidden",textOverflow:"ellipsis",letterSpacing:"-0.025em",textAlign:"center",wordBreak:"break-word",lineHeight:"1.3",maxHeight:"2.6em",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:s?.name||"QR Menu"})]}),!a&&_.jsx("button",{onClick:y,style:{background:"transparent",border:"none",color:"white",cursor:"pointer",fontSize:"1.125rem",padding:"0.375rem",borderRadius:"4px",transition:"background 0.2s",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},onMouseEnter:E=>{E.currentTarget.style.background="#334155"},onMouseLeave:E=>{E.currentTarget.style.background="transparent"},children:e?"":""})]}),_.jsx("nav",{style:{flex:1,padding:a?"1rem 0":"1.25rem 0"},children:w.map(E=>_.jsxs(Dg,{to:E.path,onClick:()=>{a&&n(!1)},style:{display:"flex",alignItems:"center",padding:a?"1rem 1.5rem":"0.875rem 1.5rem",color:A(E.path)?"#fff":"#cbd5e1",background:A(E.path)?"#3b82f6":"transparent",textDecoration:"none",transition:"all 0.2s",margin:"0.25rem 0.75rem",borderRadius:"8px",fontSize:a?"1rem":"0.96875rem",fontWeight:A(E.path)?"500":"400"},onMouseEnter:L=>{!A(E.path)&&!a&&(L.currentTarget.style.background="#334155",L.currentTarget.style.color="#fff")},onMouseLeave:L=>{!A(E.path)&&!a&&(L.currentTarget.style.background="transparent",L.currentTarget.style.color="#cbd5e1")},children:[_.jsx("span",{style:{marginRight:e?"0.875rem":0,fontSize:a?"1.5rem":"1.375rem",minWidth:e?"1.5rem":"1.75rem",textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center"},children:E.icon}),e&&_.jsx("span",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:E.label})]},E.path))}),_.jsx("div",{style:{padding:a?"1rem":"1.25rem",borderTop:"1px solid #334155"},children:_.jsx(Pr,{onClick:h,variant:"danger",style:{width:"100%",background:"#dc2626",padding:a?"1rem":"0.875rem",fontSize:a?"1rem":"0.96875rem",fontWeight:"500",borderRadius:"8px"},children:e?" k Yap":""})})]}),_.jsx("main",{style:{marginLeft:a?0:e?"280px":"70px",flex:1,transition:"margin-left 0.3s",paddingTop:a?"4rem":"2.5rem",paddingRight:a?"1rem":"3rem",paddingBottom:a?"1rem":"2.5rem",paddingLeft:a?"1rem":"3rem",width:a?"100%":`calc(100% - ${e?"280px":"70px"})`,maxWidth:a?"100%":"1400px"},children:t})]})}function AS(){const{business:t}=zo(),{products:e,loading:n}=qg(t?.id),{categories:a,loading:l}=Ug(t?.id),[s,c]=B.useState(!1),[d,f]=B.useState({totalProducts:0,activeProducts:0,totalCategories:0,totalViews:0});if(B.useEffect(()=>{const w=()=>{c(window.innerWidth<768)};return w(),window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)},[]),B.useEffect(()=>{e&&a&&f({totalProducts:e.length,activeProducts:e.filter(w=>w.is_active).length,totalCategories:a.length,totalViews:0})},[e,a]),n||l)return _.jsx(_a,{children:_.jsx(Fa,{message:"Ykleniyor..."})});const h=t?.id?`${window.location.origin}`:"",y=()=>{h&&(navigator.clipboard.writeText(h),alert(" Link kopyaland!"))};return _.jsx(_a,{children:_.jsxs("div",{children:[_.jsx("h1",{style:{margin:0,marginBottom:s?"1.5rem":"2rem",fontSize:s?"1.5rem":"2rem",color:"#1e293b"},children:" Dashboard"}),_.jsxs("div",{style:{display:"grid",gridTemplateColumns:s?"repeat(2, 1fr)":"repeat(auto-fit, minmax(200px, 1fr))",gap:s?"1rem":"1.5rem",marginBottom:s?"1.5rem":"2rem"},children:[_.jsx(Jf,{title:"Toplam rn",value:d.totalProducts,icon:"",color:"#3b82f6",isMobile:s}),_.jsx(Jf,{title:"Aktif rn",value:d.activeProducts,icon:"",color:"#10b981",isMobile:s}),_.jsx(Jf,{title:"Kategori",value:d.totalCategories,icon:"",color:"#f59e0b",isMobile:s}),_.jsx(Jf,{title:"Menu Linki",value:h?"Hazr":"Hazrlanyor",icon:"",color:"#8b5cf6",onClick:h?y:null,isMobile:s})]}),h&&_.jsxs("div",{style:{background:"white",padding:s?"1rem":"1.5rem",borderRadius:"8px",marginBottom:s?"1.5rem":"2rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[_.jsx("h3",{style:{margin:"0 0 1rem 0",color:"#1e293b",fontSize:s?"1rem":"1.25rem"},children:" Men Linki"}),_.jsxs("div",{style:{display:"flex",flexDirection:s?"column":"row",gap:"0.75rem",alignItems:s?"stretch":"center"},children:[_.jsx("input",{type:"text",value:h,readOnly:!0,style:{flex:1,padding:s?"0.625rem":"0.75rem",border:"1px solid #e2e8f0",borderRadius:"6px",fontSize:s?"0.875rem":"0.9375rem",fontFamily:"monospace",wordBreak:"break-all"}}),_.jsxs("button",{onClick:y,style:{padding:s?"0.625rem 1rem":"0.75rem 1.5rem",background:"#3b82f6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"500",whiteSpace:"nowrap"},children:[" ","Kopyala"]})]}),_.jsx("p",{style:{margin:"0.75rem 0 0 0",color:"#64748b",fontSize:s?"0.75rem":"0.875rem"},children:"Bu linki QR kod olarak basabilirsiniz"})]}),_.jsxs("div",{style:{background:"white",padding:s?"1rem":"1.5rem",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[_.jsx("h3",{style:{margin:"0 0 1rem 0",color:"#1e293b",fontSize:s?"1rem":"1.25rem"},children:" Hzl Eriim"}),_.jsxs("div",{style:{display:"grid",gridTemplateColumns:s?"1fr":"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[_.jsx(Zf,{href:"/admin/orders",label:" Sipariler",icon:"",isMobile:s}),_.jsx(Zf,{href:"/admin/products",label:" rn Ekle",icon:"",isMobile:s}),_.jsx(Zf,{href:"/admin/categories",label:" Kategori Ekle",icon:"",isMobile:s}),_.jsx(Zf,{href:"/admin/settings",label:" Ayarlar",icon:"",isMobile:s})]})]})]})})}function Jf({title:t,value:e,icon:n,color:a,onClick:l,isMobile:s}){return _.jsx("div",{onClick:l,style:{background:"white",padding:s?"1rem":"1.5rem",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",cursor:l?"pointer":"default",transition:"transform 0.2s"},onMouseEnter:c=>{l&&!s&&(c.currentTarget.style.transform="translateY(-2px)")},onMouseLeave:c=>{c.currentTarget.style.transform="translateY(0)"},children:_.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",flexDirection:s?"column":"row",gap:s?"0.5rem":0},children:[_.jsxs("div",{style:{flex:1,textAlign:s?"center":"left"},children:[_.jsx("p",{style:{margin:0,color:"#64748b",fontSize:s?"0.75rem":"0.875rem"},children:t}),_.jsx("p",{style:{margin:"0.5rem 0 0 0",fontSize:s?"1.5rem":"2rem",fontWeight:"bold",color:"#1e293b"},children:e})]}),_.jsx("div",{style:{fontSize:s?"2rem":"2.5rem",opacity:.8},children:n})]})})}function Zf({href:t,label:e,icon:n,isMobile:a}){return _.jsxs("a",{href:t,style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:a?"0.875rem":"1rem",background:"#f8fafc",borderRadius:"6px",textDecoration:"none",color:"#1e293b",border:"1px solid #e2e8f0",transition:"all 0.2s"},onMouseEnter:l=>{a||(l.currentTarget.style.background="#f1f5f9",l.currentTarget.style.borderColor="#cbd5e1")},onMouseLeave:l=>{l.currentTarget.style.background="#f8fafc",l.currentTarget.style.borderColor="#e2e8f0"},children:[_.jsx("span",{style:{fontSize:a?"1.25rem":"1.5rem"},children:n}),_.jsx("span",{style:{fontWeight:"500",fontSize:a?"0.9375rem":"1rem"},children:e})]})}function ES(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return B.useMemo(()=>a=>{e.forEach(l=>l(a))},e)}const Uh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Oc(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function Hg(t){return"nodeType"in t}function Di(t){var e,n;return t?Oc(t)?t:Hg(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function $g(t){const{Document:e}=Di(t);return t instanceof e}function Vd(t){return Oc(t)?!1:t instanceof Di(t).HTMLElement}function fv(t){return t instanceof Di(t).SVGElement}function Dc(t){return t?Oc(t)?t.document:Hg(t)?$g(t)?t:Vd(t)||fv(t)?t.ownerDocument:document:document:document}const _s=Uh?B.useLayoutEffect:B.useEffect;function qh(t){const e=B.useRef(t);return _s(()=>{e.current=t}),B.useCallback(function(){for(var n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return e.current==null?void 0:e.current(...a)},[])}function TS(){const t=B.useRef(null),e=B.useCallback((a,l)=>{t.current=setInterval(a,l)},[]),n=B.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function Ud(t,e){e===void 0&&(e=[t]);const n=B.useRef(t);return _s(()=>{n.current!==t&&(n.current=t)},e),n}function Kd(t,e){const n=B.useRef();return B.useMemo(()=>{const a=t(n.current);return n.current=a,a},[...e])}function _h(t){const e=qh(t),n=B.useRef(null),a=B.useCallback(l=>{l!==n.current&&e?.(l,n.current),n.current=l},[]);return[n,a]}function Sh(t){const e=B.useRef();return B.useEffect(()=>{e.current=t},[t]),e.current}let Ep={};function Xd(t,e){return B.useMemo(()=>{if(e)return e;const n=Ep[t]==null?0:Ep[t]+1;return Ep[t]=n,t+"-"+n},[t,e])}function hv(t){return function(e){for(var n=arguments.length,a=new Array(n>1?n-1:0),l=1;l<n;l++)a[l-1]=arguments[l];return a.reduce((s,c)=>{const d=Object.entries(c);for(const[f,h]of d){const y=s[f];y!=null&&(s[f]=y+t*h)}return s},{...e})}}const Ec=hv(1),qd=hv(-1);function kS(t){return"clientX"in t&&"clientY"in t}function Fh(t){if(!t)return!1;const{KeyboardEvent:e}=Di(t.target);return e&&t instanceof e}function NS(t){if(!t)return!1;const{TouchEvent:e}=Di(t.target);return e&&t instanceof e}function Ah(t){if(NS(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return kS(t)?{x:t.clientX,y:t.clientY}:null}const fu=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[fu.Translate.toString(t),fu.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:a}=t;return e+" "+n+"ms "+a}}}),Q2="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function LS(t){return t.matches(Q2)?t:t.querySelector(Q2)}const CS={display:"none"};function RS(t){let{id:e,value:n}=t;return fr.createElement("div",{id:e,style:CS},n)}function jS(t){let{id:e,announcement:n,ariaLiveType:a="assertive"}=t;const l={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return fr.createElement("div",{id:e,style:l,role:"status","aria-live":a,"aria-atomic":!0},n)}function OS(){const[t,e]=B.useState("");return{announce:B.useCallback(a=>{a!=null&&e(a)},[]),announcement:t}}const pv=B.createContext(null);function DS(t){const e=B.useContext(pv);B.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function BS(){const[t]=B.useState(()=>new Set),e=B.useCallback(a=>(t.add(a),()=>t.delete(a)),[t]);return[B.useCallback(a=>{let{type:l,event:s}=a;t.forEach(c=>{var d;return(d=c[l])==null?void 0:d.call(c,s)})},[t]),e]}const zS={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},MS={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function IS(t){let{announcements:e=MS,container:n,hiddenTextDescribedById:a,screenReaderInstructions:l=zS}=t;const{announce:s,announcement:c}=OS(),d=Xd("DndLiveRegion"),[f,h]=B.useState(!1);if(B.useEffect(()=>{h(!0)},[]),DS(B.useMemo(()=>({onDragStart(w){let{active:A}=w;s(e.onDragStart({active:A}))},onDragMove(w){let{active:A,over:m}=w;e.onDragMove&&s(e.onDragMove({active:A,over:m}))},onDragOver(w){let{active:A,over:m}=w;s(e.onDragOver({active:A,over:m}))},onDragEnd(w){let{active:A,over:m}=w;s(e.onDragEnd({active:A,over:m}))},onDragCancel(w){let{active:A,over:m}=w;s(e.onDragCancel({active:A,over:m}))}}),[s,e])),!f)return null;const y=fr.createElement(fr.Fragment,null,fr.createElement(RS,{id:a,value:l.draggable}),fr.createElement(jS,{id:d,announcement:c}));return n?Ad.createPortal(y,n):y}var Xr;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(Xr||(Xr={}));function Eh(){}function Th(t,e){return B.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function gv(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return B.useMemo(()=>[...e].filter(a=>a!=null),[...e])}const Ss=Object.freeze({x:0,y:0});function mv(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function PS(t,e){const n=Ah(t);if(!n)return"0 0";const a={x:(n.x-e.left)/e.width*100,y:(n.y-e.top)/e.height*100};return a.x+"% "+a.y+"%"}function yv(t,e){let{data:{value:n}}=t,{data:{value:a}}=e;return n-a}function US(t,e){let{data:{value:n}}=t,{data:{value:a}}=e;return a-n}function e5(t){let{left:e,top:n,height:a,width:l}=t;return[{x:e,y:n},{x:e+l,y:n},{x:e,y:n+a},{x:e+l,y:n+a}]}function vv(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function t5(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const bv=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:a}=t;const l=t5(e,e.left,e.top),s=[];for(const c of a){const{id:d}=c,f=n.get(d);if(f){const h=mv(t5(f),l);s.push({id:d,data:{droppableContainer:c,value:h}})}}return s.sort(yv)},qS=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:a}=t;const l=e5(e),s=[];for(const c of a){const{id:d}=c,f=n.get(d);if(f){const h=e5(f),y=l.reduce((A,m,T)=>A+mv(h[T],m),0),w=Number((y/4).toFixed(4));s.push({id:d,data:{droppableContainer:c,value:w}})}}return s.sort(yv)};function FS(t,e){const n=Math.max(e.top,t.top),a=Math.max(e.left,t.left),l=Math.min(e.left+e.width,t.left+t.width),s=Math.min(e.top+e.height,t.top+t.height),c=l-a,d=s-n;if(a<l&&n<s){const f=e.width*e.height,h=t.width*t.height,y=c*d,w=y/(f+h-y);return Number(w.toFixed(4))}return 0}const HS=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:a}=t;const l=[];for(const s of a){const{id:c}=s,d=n.get(c);if(d){const f=FS(d,e);f>0&&l.push({id:c,data:{droppableContainer:s,value:f}})}}return l.sort(US)};function $S(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function wv(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:Ss}function WS(t){return function(n){for(var a=arguments.length,l=new Array(a>1?a-1:0),s=1;s<a;s++)l[s-1]=arguments[s];return l.reduce((c,d)=>({...c,top:c.top+t*d.y,bottom:c.bottom+t*d.y,left:c.left+t*d.x,right:c.right+t*d.x}),{...n})}}const GS=WS(1);function xv(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function YS(t,e,n){const a=xv(e);if(!a)return t;const{scaleX:l,scaleY:s,x:c,y:d}=a,f=t.left-c-(1-l)*parseFloat(n),h=t.top-d-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),y=l?t.width/l:t.width,w=s?t.height/s:t.height;return{width:y,height:w,top:h,right:f+y,bottom:h+w,left:f}}const VS={ignoreTransform:!1};function Bc(t,e){e===void 0&&(e=VS);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:h,transformOrigin:y}=Di(t).getComputedStyle(t);h&&(n=YS(n,h,y))}const{top:a,left:l,width:s,height:c,bottom:d,right:f}=n;return{top:a,left:l,width:s,height:c,bottom:d,right:f}}function n5(t){return Bc(t,{ignoreTransform:!0})}function KS(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function XS(t,e){return e===void 0&&(e=Di(t).getComputedStyle(t)),e.position==="fixed"}function JS(t,e){e===void 0&&(e=Di(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(l=>{const s=e[l];return typeof s=="string"?n.test(s):!1})}function Hh(t,e){const n=[];function a(l){if(e!=null&&n.length>=e||!l)return n;if($g(l)&&l.scrollingElement!=null&&!n.includes(l.scrollingElement))return n.push(l.scrollingElement),n;if(!Vd(l)||fv(l)||n.includes(l))return n;const s=Di(t).getComputedStyle(l);return l!==t&&JS(l,s)&&n.push(l),XS(l,s)?n:a(l.parentNode)}return t?a(t):n}function _v(t){const[e]=Hh(t,1);return e??null}function Tp(t){return!Uh||!t?null:Oc(t)?t:Hg(t)?$g(t)||t===Dc(t).scrollingElement?window:Vd(t)?t:null:null}function Sv(t){return Oc(t)?t.scrollX:t.scrollLeft}function Av(t){return Oc(t)?t.scrollY:t.scrollTop}function cg(t){return{x:Sv(t),y:Av(t)}}var ii;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(ii||(ii={}));function Ev(t){return!Uh||!t?!1:t===document.scrollingElement}function Tv(t){const e={x:0,y:0},n=Ev(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},a={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},l=t.scrollTop<=e.y,s=t.scrollLeft<=e.x,c=t.scrollTop>=a.y,d=t.scrollLeft>=a.x;return{isTop:l,isLeft:s,isBottom:c,isRight:d,maxScroll:a,minScroll:e}}const ZS={x:.2,y:.2};function QS(t,e,n,a,l){let{top:s,left:c,right:d,bottom:f}=n;a===void 0&&(a=10),l===void 0&&(l=ZS);const{isTop:h,isBottom:y,isLeft:w,isRight:A}=Tv(t),m={x:0,y:0},T={x:0,y:0},E={height:e.height*l.y,width:e.width*l.x};return!h&&s<=e.top+E.height?(m.y=ii.Backward,T.y=a*Math.abs((e.top+E.height-s)/E.height)):!y&&f>=e.bottom-E.height&&(m.y=ii.Forward,T.y=a*Math.abs((e.bottom-E.height-f)/E.height)),!A&&d>=e.right-E.width?(m.x=ii.Forward,T.x=a*Math.abs((e.right-E.width-d)/E.width)):!w&&c<=e.left+E.width&&(m.x=ii.Backward,T.x=a*Math.abs((e.left+E.width-c)/E.width)),{direction:m,speed:T}}function e6(t){if(t===document.scrollingElement){const{innerWidth:s,innerHeight:c}=window;return{top:0,left:0,right:s,bottom:c,width:s,height:c}}const{top:e,left:n,right:a,bottom:l}=t.getBoundingClientRect();return{top:e,left:n,right:a,bottom:l,width:t.clientWidth,height:t.clientHeight}}function kv(t){return t.reduce((e,n)=>Ec(e,cg(n)),Ss)}function t6(t){return t.reduce((e,n)=>e+Sv(n),0)}function n6(t){return t.reduce((e,n)=>e+Av(n),0)}function Nv(t,e){if(e===void 0&&(e=Bc),!t)return;const{top:n,left:a,bottom:l,right:s}=e(t);_v(t)&&(l<=0||s<=0||n>=window.innerHeight||a>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const r6=[["x",["left","right"],t6],["y",["top","bottom"],n6]];class Wg{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const a=Hh(n),l=kv(a);this.rect={...e},this.width=e.width,this.height=e.height;for(const[s,c,d]of r6)for(const f of c)Object.defineProperty(this,f,{get:()=>{const h=d(a),y=l[s]-h;return this.rect[f]+y},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Nd{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var a;return(a=this.target)==null?void 0:a.removeEventListener(...n)})},this.target=e}add(e,n,a){var l;(l=this.target)==null||l.addEventListener(e,n,a),this.listeners.push([e,n,a])}}function i6(t){const{EventTarget:e}=Di(t);return t instanceof e?t:Dc(t)}function kp(t,e){const n=Math.abs(t.x),a=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+a**2)>e:"x"in e&&"y"in e?n>e.x&&a>e.y:"x"in e?n>e.x:"y"in e?a>e.y:!1}var qa;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(qa||(qa={}));function r5(t){t.preventDefault()}function a6(t){t.stopPropagation()}var sn;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(sn||(sn={}));const Lv={start:[sn.Space,sn.Enter],cancel:[sn.Esc],end:[sn.Space,sn.Enter,sn.Tab]},s6=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case sn.Right:return{...n,x:n.x+25};case sn.Left:return{...n,x:n.x-25};case sn.Down:return{...n,y:n.y+25};case sn.Up:return{...n,y:n.y-25}}};class $h{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new Nd(Dc(n)),this.windowListeners=new Nd(Di(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(qa.Resize,this.handleCancel),this.windowListeners.add(qa.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(qa.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,a=e.node.current;a&&Nv(a),n(Ss)}handleKeyDown(e){if(Fh(e)){const{active:n,context:a,options:l}=this.props,{keyboardCodes:s=Lv,coordinateGetter:c=s6,scrollBehavior:d="smooth"}=l,{code:f}=e;if(s.end.includes(f)){this.handleEnd(e);return}if(s.cancel.includes(f)){this.handleCancel(e);return}const{collisionRect:h}=a.current,y=h?{x:h.left,y:h.top}:Ss;this.referenceCoordinates||(this.referenceCoordinates=y);const w=c(e,{active:n,context:a.current,currentCoordinates:y});if(w){const A=qd(w,y),m={x:0,y:0},{scrollableAncestors:T}=a.current;for(const E of T){const L=e.code,{isTop:R,isRight:D,isLeft:M,isBottom:W,maxScroll:ue,minScroll:ce}=Tv(E),Z=e6(E),ee={x:Math.min(L===sn.Right?Z.right-Z.width/2:Z.right,Math.max(L===sn.Right?Z.left:Z.left+Z.width/2,w.x)),y:Math.min(L===sn.Down?Z.bottom-Z.height/2:Z.bottom,Math.max(L===sn.Down?Z.top:Z.top+Z.height/2,w.y))},q=L===sn.Right&&!D||L===sn.Left&&!M,fe=L===sn.Down&&!W||L===sn.Up&&!R;if(q&&ee.x!==w.x){const z=E.scrollLeft+A.x,Y=L===sn.Right&&z<=ue.x||L===sn.Left&&z>=ce.x;if(Y&&!A.y){E.scrollTo({left:z,behavior:d});return}Y?m.x=E.scrollLeft-z:m.x=L===sn.Right?E.scrollLeft-ue.x:E.scrollLeft-ce.x,m.x&&E.scrollBy({left:-m.x,behavior:d});break}else if(fe&&ee.y!==w.y){const z=E.scrollTop+A.y,Y=L===sn.Down&&z<=ue.y||L===sn.Up&&z>=ce.y;if(Y&&!A.x){E.scrollTo({top:z,behavior:d});return}Y?m.y=E.scrollTop-z:m.y=L===sn.Down?E.scrollTop-ue.y:E.scrollTop-ce.y,m.y&&E.scrollBy({top:-m.y,behavior:d});break}}this.handleMove(e,Ec(qd(w,this.referenceCoordinates),m))}}}handleMove(e,n){const{onMove:a}=this.props;e.preventDefault(),a(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}$h.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:a=Lv,onActivation:l}=e,{active:s}=n;const{code:c}=t.nativeEvent;if(a.start.includes(c)){const d=s.activatorNode.current;return d&&t.target!==d?!1:(t.preventDefault(),l?.({event:t.nativeEvent}),!0)}return!1}}];function i5(t){return!!(t&&"distance"in t)}function a5(t){return!!(t&&"delay"in t)}class Gg{constructor(e,n,a){var l;a===void 0&&(a=i6(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:s}=e,{target:c}=s;this.props=e,this.events=n,this.document=Dc(c),this.documentListeners=new Nd(this.document),this.listeners=new Nd(a),this.windowListeners=new Nd(Di(c)),this.initialCoordinates=(l=Ah(s))!=null?l:Ss,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:a}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(qa.Resize,this.handleCancel),this.windowListeners.add(qa.DragStart,r5),this.windowListeners.add(qa.VisibilityChange,this.handleCancel),this.windowListeners.add(qa.ContextMenu,r5),this.documentListeners.add(qa.Keydown,this.handleKeydown),n){if(a!=null&&a({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(a5(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(i5(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:a,onPending:l}=this.props;l(a,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(qa.Click,a6,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(qa.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:a,initialCoordinates:l,props:s}=this,{onMove:c,options:{activationConstraint:d}}=s;if(!l)return;const f=(n=Ah(e))!=null?n:Ss,h=qd(l,f);if(!a&&d){if(i5(d)){if(d.tolerance!=null&&kp(h,d.tolerance))return this.handleCancel();if(kp(h,d.distance))return this.handleStart()}if(a5(d)&&kp(h,d.tolerance))return this.handleCancel();this.handlePending(d,h);return}e.cancelable&&e.preventDefault(),c(f)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===sn.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const o6={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Wh extends Gg{constructor(e){const{event:n}=e,a=Dc(n.target);super(e,o6,a)}}Wh.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:a}=e;return!n.isPrimary||n.button!==0?!1:(a?.({event:n}),!0)}}];const l6={move:{name:"mousemove"},end:{name:"mouseup"}};var dg;(function(t){t[t.RightClick=2]="RightClick"})(dg||(dg={}));class u6 extends Gg{constructor(e){super(e,l6,Dc(e.event.target))}}u6.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:a}=e;return n.button===dg.RightClick?!1:(a?.({event:n}),!0)}}];const Np={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class c6 extends Gg{constructor(e){super(e,Np)}static setup(){return window.addEventListener(Np.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Np.move.name,e)};function e(){}}}c6.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:a}=e;const{touches:l}=n;return l.length>1?!1:(a?.({event:n}),!0)}}];var Ld;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(Ld||(Ld={}));var kh;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(kh||(kh={}));function d6(t){let{acceleration:e,activator:n=Ld.Pointer,canScroll:a,draggingRect:l,enabled:s,interval:c=5,order:d=kh.TreeOrder,pointerCoordinates:f,scrollableAncestors:h,scrollableAncestorRects:y,delta:w,threshold:A}=t;const m=h6({delta:w,disabled:!s}),[T,E]=TS(),L=B.useRef({x:0,y:0}),R=B.useRef({x:0,y:0}),D=B.useMemo(()=>{switch(n){case Ld.Pointer:return f?{top:f.y,bottom:f.y,left:f.x,right:f.x}:null;case Ld.DraggableRect:return l}},[n,l,f]),M=B.useRef(null),W=B.useCallback(()=>{const ce=M.current;if(!ce)return;const Z=L.current.x*R.current.x,ee=L.current.y*R.current.y;ce.scrollBy(Z,ee)},[]),ue=B.useMemo(()=>d===kh.TreeOrder?[...h].reverse():h,[d,h]);B.useEffect(()=>{if(!s||!h.length||!D){E();return}for(const ce of ue){if(a?.(ce)===!1)continue;const Z=h.indexOf(ce),ee=y[Z];if(!ee)continue;const{direction:q,speed:fe}=QS(ce,ee,D,e,A);for(const z of["x","y"])m[z][q[z]]||(fe[z]=0,q[z]=0);if(fe.x>0||fe.y>0){E(),M.current=ce,T(W,c),L.current=fe,R.current=q;return}}L.current={x:0,y:0},R.current={x:0,y:0},E()},[e,W,a,E,s,c,JSON.stringify(D),JSON.stringify(m),T,h,ue,y,JSON.stringify(A)])}const f6={x:{[ii.Backward]:!1,[ii.Forward]:!1},y:{[ii.Backward]:!1,[ii.Forward]:!1}};function h6(t){let{delta:e,disabled:n}=t;const a=Sh(e);return Kd(l=>{if(n||!a||!l)return f6;const s={x:Math.sign(e.x-a.x),y:Math.sign(e.y-a.y)};return{x:{[ii.Backward]:l.x[ii.Backward]||s.x===-1,[ii.Forward]:l.x[ii.Forward]||s.x===1},y:{[ii.Backward]:l.y[ii.Backward]||s.y===-1,[ii.Forward]:l.y[ii.Forward]||s.y===1}}},[n,e,a])}function p6(t,e){const n=e!=null?t.get(e):void 0,a=n?n.node.current:null;return Kd(l=>{var s;return e==null?null:(s=a??l)!=null?s:null},[a,e])}function g6(t,e){return B.useMemo(()=>t.reduce((n,a)=>{const{sensor:l}=a,s=l.activators.map(c=>({eventName:c.eventName,handler:e(c.handler,a)}));return[...n,...s]},[]),[t,e])}var Fd;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(Fd||(Fd={}));var fg;(function(t){t.Optimized="optimized"})(fg||(fg={}));const s5=new Map;function m6(t,e){let{dragging:n,dependencies:a,config:l}=e;const[s,c]=B.useState(null),{frequency:d,measure:f,strategy:h}=l,y=B.useRef(t),w=L(),A=Ud(w),m=B.useCallback(function(R){R===void 0&&(R=[]),!A.current&&c(D=>D===null?R:D.concat(R.filter(M=>!D.includes(M))))},[A]),T=B.useRef(null),E=Kd(R=>{if(w&&!n)return s5;if(!R||R===s5||y.current!==t||s!=null){const D=new Map;for(let M of t){if(!M)continue;if(s&&s.length>0&&!s.includes(M.id)&&M.rect.current){D.set(M.id,M.rect.current);continue}const W=M.node.current,ue=W?new Wg(f(W),W):null;M.rect.current=ue,ue&&D.set(M.id,ue)}return D}return R},[t,s,n,w,f]);return B.useEffect(()=>{y.current=t},[t]),B.useEffect(()=>{w||m()},[n,w]),B.useEffect(()=>{s&&s.length>0&&c(null)},[JSON.stringify(s)]),B.useEffect(()=>{w||typeof d!="number"||T.current!==null||(T.current=setTimeout(()=>{m(),T.current=null},d))},[d,w,m,...a]),{droppableRects:E,measureDroppableContainers:m,measuringScheduled:s!=null};function L(){switch(h){case Fd.Always:return!1;case Fd.BeforeDragging:return n;default:return!n}}}function Yg(t,e){return Kd(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function y6(t,e){return Yg(t,e)}function v6(t){let{callback:e,disabled:n}=t;const a=qh(e),l=B.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(a)},[a,n]);return B.useEffect(()=>()=>l?.disconnect(),[l]),l}function Gh(t){let{callback:e,disabled:n}=t;const a=qh(e),l=B.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(a)},[n]);return B.useEffect(()=>()=>l?.disconnect(),[l]),l}function b6(t){return new Wg(Bc(t),t)}function o5(t,e,n){e===void 0&&(e=b6);const[a,l]=B.useState(null);function s(){l(f=>{if(!t)return null;if(t.isConnected===!1){var h;return(h=f??n)!=null?h:null}const y=e(t);return JSON.stringify(f)===JSON.stringify(y)?f:y})}const c=v6({callback(f){if(t)for(const h of f){const{type:y,target:w}=h;if(y==="childList"&&w instanceof HTMLElement&&w.contains(t)){s();break}}}}),d=Gh({callback:s});return _s(()=>{s(),t?(d?.observe(t),c?.observe(document.body,{childList:!0,subtree:!0})):(d?.disconnect(),c?.disconnect())},[t]),a}function w6(t){const e=Yg(t);return wv(t,e)}const l5=[];function x6(t){const e=B.useRef(t),n=Kd(a=>t?a&&a!==l5&&t&&e.current&&t.parentNode===e.current.parentNode?a:Hh(t):l5,[t]);return B.useEffect(()=>{e.current=t},[t]),n}function _6(t){const[e,n]=B.useState(null),a=B.useRef(t),l=B.useCallback(s=>{const c=Tp(s.target);c&&n(d=>d?(d.set(c,cg(c)),new Map(d)):null)},[]);return B.useEffect(()=>{const s=a.current;if(t!==s){c(s);const d=t.map(f=>{const h=Tp(f);return h?(h.addEventListener("scroll",l,{passive:!0}),[h,cg(h)]):null}).filter(f=>f!=null);n(d.length?new Map(d):null),a.current=t}return()=>{c(t),c(s)};function c(d){d.forEach(f=>{const h=Tp(f);h?.removeEventListener("scroll",l)})}},[l,t]),B.useMemo(()=>t.length?e?Array.from(e.values()).reduce((s,c)=>Ec(s,c),Ss):kv(t):Ss,[t,e])}function u5(t,e){e===void 0&&(e=[]);const n=B.useRef(null);return B.useEffect(()=>{n.current=null},e),B.useEffect(()=>{const a=t!==Ss;a&&!n.current&&(n.current=t),!a&&n.current&&(n.current=null)},[t]),n.current?qd(t,n.current):Ss}function S6(t){B.useEffect(()=>{if(!Uh)return;const e=t.map(n=>{let{sensor:a}=n;return a.setup==null?void 0:a.setup()});return()=>{for(const n of e)n?.()}},t.map(e=>{let{sensor:n}=e;return n}))}function A6(t,e){return B.useMemo(()=>t.reduce((n,a)=>{let{eventName:l,handler:s}=a;return n[l]=c=>{s(c,e)},n},{}),[t,e])}function Cv(t){return B.useMemo(()=>t?KS(t):null,[t])}const c5=[];function E6(t,e){e===void 0&&(e=Bc);const[n]=t,a=Cv(n?Di(n):null),[l,s]=B.useState(c5);function c(){s(()=>t.length?t.map(f=>Ev(f)?a:new Wg(e(f),f)):c5)}const d=Gh({callback:c});return _s(()=>{d?.disconnect(),c(),t.forEach(f=>d?.observe(f))},[t]),l}function Rv(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return Vd(e)?e:t}function T6(t){let{measure:e}=t;const[n,a]=B.useState(null),l=B.useCallback(h=>{for(const{target:y}of h)if(Vd(y)){a(w=>{const A=e(y);return w?{...w,width:A.width,height:A.height}:A});break}},[e]),s=Gh({callback:l}),c=B.useCallback(h=>{const y=Rv(h);s?.disconnect(),y&&s?.observe(y),a(y?e(y):null)},[e,s]),[d,f]=_h(c);return B.useMemo(()=>({nodeRef:d,rect:n,setRef:f}),[n,d,f])}const k6=[{sensor:Wh,options:{}},{sensor:$h,options:{}}],N6={current:{}},dh={draggable:{measure:n5},droppable:{measure:n5,strategy:Fd.WhileDragging,frequency:fg.Optimized},dragOverlay:{measure:Bc}};class Cd extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,a;return(n=(a=this.get(e))==null?void 0:a.node.current)!=null?n:void 0}}const L6={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Cd,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Eh},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:dh,measureDroppableContainers:Eh,windowRect:null,measuringScheduled:!1},jv={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Eh,draggableNodes:new Map,over:null,measureDroppableContainers:Eh},Jd=B.createContext(jv),Ov=B.createContext(L6);function C6(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Cd}}}function R6(t,e){switch(e.type){case Xr.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Xr.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case Xr.DragEnd:case Xr.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Xr.RegisterDroppable:{const{element:n}=e,{id:a}=n,l=new Cd(t.droppable.containers);return l.set(a,n),{...t,droppable:{...t.droppable,containers:l}}}case Xr.SetDroppableDisabled:{const{id:n,key:a,disabled:l}=e,s=t.droppable.containers.get(n);if(!s||a!==s.key)return t;const c=new Cd(t.droppable.containers);return c.set(n,{...s,disabled:l}),{...t,droppable:{...t.droppable,containers:c}}}case Xr.UnregisterDroppable:{const{id:n,key:a}=e,l=t.droppable.containers.get(n);if(!l||a!==l.key)return t;const s=new Cd(t.droppable.containers);return s.delete(n),{...t,droppable:{...t.droppable,containers:s}}}default:return t}}function j6(t){let{disabled:e}=t;const{active:n,activatorEvent:a,draggableNodes:l}=B.useContext(Jd),s=Sh(a),c=Sh(n?.id);return B.useEffect(()=>{if(!e&&!a&&s&&c!=null){if(!Fh(s)||document.activeElement===s.target)return;const d=l.get(c);if(!d)return;const{activatorNode:f,node:h}=d;if(!f.current&&!h.current)return;requestAnimationFrame(()=>{for(const y of[f.current,h.current]){if(!y)continue;const w=LS(y);if(w){w.focus();break}}})}},[a,e,l,c,s]),null}function Dv(t,e){let{transform:n,...a}=e;return t!=null&&t.length?t.reduce((l,s)=>s({transform:l,...a}),n):n}function O6(t){return B.useMemo(()=>({draggable:{...dh.draggable,...t?.draggable},droppable:{...dh.droppable,...t?.droppable},dragOverlay:{...dh.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function D6(t){let{activeNode:e,measure:n,initialRect:a,config:l=!0}=t;const s=B.useRef(!1),{x:c,y:d}=typeof l=="boolean"?{x:l,y:l}:l;_s(()=>{if(!c&&!d||!e){s.current=!1;return}if(s.current||!a)return;const h=e?.node.current;if(!h||h.isConnected===!1)return;const y=n(h),w=wv(y,a);if(c||(w.x=0),d||(w.y=0),s.current=!0,Math.abs(w.x)>0||Math.abs(w.y)>0){const A=_v(h);A&&A.scrollBy({top:w.y,left:w.x})}},[e,c,d,a,n])}const Yh=B.createContext({...Ss,scaleX:1,scaleY:1});var wl;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(wl||(wl={}));const Bv=B.memo(function(e){var n,a,l,s;let{id:c,accessibility:d,autoScroll:f=!0,children:h,sensors:y=k6,collisionDetection:w=HS,measuring:A,modifiers:m,...T}=e;const E=B.useReducer(R6,void 0,C6),[L,R]=E,[D,M]=BS(),[W,ue]=B.useState(wl.Uninitialized),ce=W===wl.Initialized,{draggable:{active:Z,nodes:ee,translate:q},droppable:{containers:fe}}=L,z=Z!=null?ee.get(Z):null,Y=B.useRef({initial:null,translated:null}),se=B.useMemo(()=>{var wt;return Z!=null?{id:Z,data:(wt=z?.data)!=null?wt:N6,rect:Y}:null},[Z,z]),oe=B.useRef(null),[Ee,X]=B.useState(null),[de,he]=B.useState(null),_e=Ud(T,Object.values(T)),ve=Xd("DndDescribedBy",c),I=B.useMemo(()=>fe.getEnabled(),[fe]),k=O6(A),{droppableRects:P,measureDroppableContainers:K,measuringScheduled:ae}=m6(I,{dragging:ce,dependencies:[q.x,q.y],config:k.droppable}),V=p6(ee,Z),Q=B.useMemo(()=>de?Ah(de):null,[de]),le=vn(),ye=y6(V,k.draggable.measure);D6({activeNode:Z!=null?ee.get(Z):null,config:le.layoutShiftCompensation,initialRect:ye,measure:k.draggable.measure});const pe=o5(V,k.draggable.measure,ye),Le=o5(V?V.parentElement:null),Me=B.useRef({activatorEvent:null,active:null,activeNode:V,collisionRect:null,collisions:null,droppableRects:P,draggableNodes:ee,draggingNode:null,draggingNodeRect:null,droppableContainers:fe,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ie=fe.getNodeFor((n=Me.current.over)==null?void 0:n.id),ke=T6({measure:k.dragOverlay.measure}),$=(a=ke.nodeRef.current)!=null?a:V,ze=ce?(l=ke.rect)!=null?l:pe:null,et=!!(ke.nodeRef.current&&ke.rect),Je=w6(et?null:pe),De=Cv($?Di($):null),Ke=x6(ce?ie??V:null),$e=E6(Ke),Ye=Dv(m,{transform:{x:q.x-Je.x,y:q.y-Je.y,scaleX:1,scaleY:1},activatorEvent:de,active:se,activeNodeRect:pe,containerNodeRect:Le,draggingNodeRect:ze,over:Me.current.over,overlayNodeRect:ke.rect,scrollableAncestors:Ke,scrollableAncestorRects:$e,windowRect:De}),at=Q?Ec(Q,q):null,ot=_6(Ke),Qe=u5(ot),it=u5(ot,[pe]),tt=Ec(Ye,Qe),pt=ze?GS(ze,Ye):null,Ze=se&&pt?w({active:se,collisionRect:pt,droppableRects:P,droppableContainers:I,pointerCoordinates:at}):null,At=vv(Ze,"id"),[nt,cn]=B.useState(null),xt=et?Ye:Ec(Ye,it),kt=$S(xt,(s=nt?.rect)!=null?s:null,pe),Rt=B.useRef(null),Yt=B.useCallback((wt,lt)=>{let{sensor:Pt,options:hr}=lt;if(oe.current==null)return;const bn=ee.get(oe.current);if(!bn)return;const qn=wt.nativeEvent,$n=new Pt({active:oe.current,activeNode:bn,event:qn,options:hr,context:Me,onAbort(Sn){if(!ee.get(Sn))return;const{onDragAbort:Fn}=_e.current,Wn={id:Sn};Fn?.(Wn),D({type:"onDragAbort",event:Wn})},onPending(Sn,Ar,Fn,Wn){if(!ee.get(Sn))return;const{onDragPending:Cn}=_e.current,An={id:Sn,constraint:Ar,initialCoordinates:Fn,offset:Wn};Cn?.(An),D({type:"onDragPending",event:An})},onStart(Sn){const Ar=oe.current;if(Ar==null)return;const Fn=ee.get(Ar);if(!Fn)return;const{onDragStart:Wn}=_e.current,pn={activatorEvent:qn,active:{id:Ar,data:Fn.data,rect:Y}};Ad.unstable_batchedUpdates(()=>{Wn?.(pn),ue(wl.Initializing),R({type:Xr.DragStart,initialCoordinates:Sn,active:Ar}),D({type:"onDragStart",event:pn}),X(Rt.current),he(qn)})},onMove(Sn){R({type:Xr.DragMove,coordinates:Sn})},onEnd:yt(Xr.DragEnd),onCancel:yt(Xr.DragCancel)});Rt.current=$n;function yt(Sn){return async function(){const{active:Fn,collisions:Wn,over:pn,scrollAdjustedTranslate:Cn}=Me.current;let An=null;if(Fn&&Cn){const{cancelDrop:mi}=_e.current;An={activatorEvent:qn,active:Fn,collisions:Wn,delta:Cn,over:pn},Sn===Xr.DragEnd&&typeof mi=="function"&&await Promise.resolve(mi(An))&&(Sn=Xr.DragCancel)}oe.current=null,Ad.unstable_batchedUpdates(()=>{R({type:Sn}),ue(wl.Uninitialized),cn(null),X(null),he(null),Rt.current=null;const mi=Sn===Xr.DragEnd?"onDragEnd":"onDragCancel";if(An){const Er=_e.current[mi];Er?.(An),D({type:mi,event:An})}})}}},[ee]),Et=B.useCallback((wt,lt)=>(Pt,hr)=>{const bn=Pt.nativeEvent,qn=ee.get(hr);if(oe.current!==null||!qn||bn.dndKit||bn.defaultPrevented)return;const $n={active:qn};wt(Pt,lt.options,$n)===!0&&(bn.dndKit={capturedBy:lt.sensor},oe.current=hr,Yt(Pt,lt))},[ee,Yt]),yn=g6(y,Et);S6(y),_s(()=>{pe&&W===wl.Initializing&&ue(wl.Initialized)},[pe,W]),B.useEffect(()=>{const{onDragMove:wt}=_e.current,{active:lt,activatorEvent:Pt,collisions:hr,over:bn}=Me.current;if(!lt||!Pt)return;const qn={active:lt,activatorEvent:Pt,collisions:hr,delta:{x:tt.x,y:tt.y},over:bn};Ad.unstable_batchedUpdates(()=>{wt?.(qn),D({type:"onDragMove",event:qn})})},[tt.x,tt.y]),B.useEffect(()=>{const{active:wt,activatorEvent:lt,collisions:Pt,droppableContainers:hr,scrollAdjustedTranslate:bn}=Me.current;if(!wt||oe.current==null||!lt||!bn)return;const{onDragOver:qn}=_e.current,$n=hr.get(At),yt=$n&&$n.rect.current?{id:$n.id,rect:$n.rect.current,data:$n.data,disabled:$n.disabled}:null,Sn={active:wt,activatorEvent:lt,collisions:Pt,delta:{x:bn.x,y:bn.y},over:yt};Ad.unstable_batchedUpdates(()=>{cn(yt),qn?.(Sn),D({type:"onDragOver",event:Sn})})},[At]),_s(()=>{Me.current={activatorEvent:de,active:se,activeNode:V,collisionRect:pt,collisions:Ze,droppableRects:P,draggableNodes:ee,draggingNode:$,draggingNodeRect:ze,droppableContainers:fe,over:nt,scrollableAncestors:Ke,scrollAdjustedTranslate:tt},Y.current={initial:ze,translated:pt}},[se,V,Ze,pt,ee,$,ze,P,fe,nt,Ke,tt]),d6({...le,delta:q,draggingRect:pt,pointerCoordinates:at,scrollableAncestors:Ke,scrollableAncestorRects:$e});const Ct=B.useMemo(()=>({active:se,activeNode:V,activeNodeRect:pe,activatorEvent:de,collisions:Ze,containerNodeRect:Le,dragOverlay:ke,draggableNodes:ee,droppableContainers:fe,droppableRects:P,over:nt,measureDroppableContainers:K,scrollableAncestors:Ke,scrollableAncestorRects:$e,measuringConfiguration:k,measuringScheduled:ae,windowRect:De}),[se,V,pe,de,Ze,Le,ke,ee,fe,P,nt,K,Ke,$e,k,ae,De]),Bt=B.useMemo(()=>({activatorEvent:de,activators:yn,active:se,activeNodeRect:pe,ariaDescribedById:{draggable:ve},dispatch:R,draggableNodes:ee,over:nt,measureDroppableContainers:K}),[de,yn,se,pe,R,ve,ee,nt,K]);return fr.createElement(pv.Provider,{value:M},fr.createElement(Jd.Provider,{value:Bt},fr.createElement(Ov.Provider,{value:Ct},fr.createElement(Yh.Provider,{value:kt},h)),fr.createElement(j6,{disabled:d?.restoreFocus===!1})),fr.createElement(IS,{...d,hiddenTextDescribedById:ve}));function vn(){const wt=Ee?.autoScrollEnabled===!1,lt=typeof f=="object"?f.enabled===!1:f===!1,Pt=ce&&!wt&&!lt;return typeof f=="object"?{...f,enabled:Pt}:{enabled:Pt}}}),B6=B.createContext(null),d5="button",z6="Draggable";function M6(t){let{id:e,data:n,disabled:a=!1,attributes:l}=t;const s=Xd(z6),{activators:c,activatorEvent:d,active:f,activeNodeRect:h,ariaDescribedById:y,draggableNodes:w,over:A}=B.useContext(Jd),{role:m=d5,roleDescription:T="draggable",tabIndex:E=0}=l??{},L=f?.id===e,R=B.useContext(L?Yh:B6),[D,M]=_h(),[W,ue]=_h(),ce=A6(c,e),Z=Ud(n);_s(()=>(w.set(e,{id:e,key:s,node:D,activatorNode:W,data:Z}),()=>{const q=w.get(e);q&&q.key===s&&w.delete(e)}),[w,e]);const ee=B.useMemo(()=>({role:m,tabIndex:E,"aria-disabled":a,"aria-pressed":L&&m===d5?!0:void 0,"aria-roledescription":T,"aria-describedby":y.draggable}),[a,m,E,L,T,y.draggable]);return{active:f,activatorEvent:d,activeNodeRect:h,attributes:ee,isDragging:L,listeners:a?void 0:ce,node:D,over:A,setNodeRef:M,setActivatorNodeRef:ue,transform:R}}function zv(){return B.useContext(Ov)}const I6="Droppable",P6={timeout:25};function U6(t){let{data:e,disabled:n=!1,id:a,resizeObserverConfig:l}=t;const s=Xd(I6),{active:c,dispatch:d,over:f,measureDroppableContainers:h}=B.useContext(Jd),y=B.useRef({disabled:n}),w=B.useRef(!1),A=B.useRef(null),m=B.useRef(null),{disabled:T,updateMeasurementsFor:E,timeout:L}={...P6,...l},R=Ud(E??a),D=B.useCallback(()=>{if(!w.current){w.current=!0;return}m.current!=null&&clearTimeout(m.current),m.current=setTimeout(()=>{h(Array.isArray(R.current)?R.current:[R.current]),m.current=null},L)},[L]),M=Gh({callback:D,disabled:T||!c}),W=B.useCallback((ee,q)=>{M&&(q&&(M.unobserve(q),w.current=!1),ee&&M.observe(ee))},[M]),[ue,ce]=_h(W),Z=Ud(e);return B.useEffect(()=>{!M||!ue.current||(M.disconnect(),w.current=!1,M.observe(ue.current))},[ue,M]),B.useEffect(()=>(d({type:Xr.RegisterDroppable,element:{id:a,key:s,disabled:n,node:ue,rect:A,data:Z}}),()=>d({type:Xr.UnregisterDroppable,key:s,id:a})),[a]),B.useEffect(()=>{n!==y.current.disabled&&(d({type:Xr.SetDroppableDisabled,id:a,key:s,disabled:n}),y.current.disabled=n)},[a,s,n,d]),{active:c,rect:A,isOver:f?.id===a,node:ue,over:f,setNodeRef:ce}}function q6(t){let{animation:e,children:n}=t;const[a,l]=B.useState(null),[s,c]=B.useState(null),d=Sh(n);return!n&&!a&&d&&l(d),_s(()=>{if(!s)return;const f=a?.key,h=a?.props.id;if(f==null||h==null){l(null);return}Promise.resolve(e(h,s)).then(()=>{l(null)})},[e,a,s]),fr.createElement(fr.Fragment,null,n,a?B.cloneElement(a,{ref:c}):null)}const F6={x:0,y:0,scaleX:1,scaleY:1};function H6(t){let{children:e}=t;return fr.createElement(Jd.Provider,{value:jv},fr.createElement(Yh.Provider,{value:F6},e))}const $6={position:"fixed",touchAction:"none"},W6=t=>Fh(t)?"transform 250ms ease":void 0,G6=B.forwardRef((t,e)=>{let{as:n,activatorEvent:a,adjustScale:l,children:s,className:c,rect:d,style:f,transform:h,transition:y=W6}=t;if(!d)return null;const w=l?h:{...h,scaleX:1,scaleY:1},A={...$6,width:d.width,height:d.height,top:d.top,left:d.left,transform:fu.Transform.toString(w),transformOrigin:l&&a?PS(a,d):void 0,transition:typeof y=="function"?y(a):y,...f};return fr.createElement(n,{className:c,style:A,ref:e},s)}),Y6=t=>e=>{let{active:n,dragOverlay:a}=e;const l={},{styles:s,className:c}=t;if(s!=null&&s.active)for(const[d,f]of Object.entries(s.active))f!==void 0&&(l[d]=n.node.style.getPropertyValue(d),n.node.style.setProperty(d,f));if(s!=null&&s.dragOverlay)for(const[d,f]of Object.entries(s.dragOverlay))f!==void 0&&a.node.style.setProperty(d,f);return c!=null&&c.active&&n.node.classList.add(c.active),c!=null&&c.dragOverlay&&a.node.classList.add(c.dragOverlay),function(){for(const[f,h]of Object.entries(l))n.node.style.setProperty(f,h);c!=null&&c.active&&n.node.classList.remove(c.active)}},V6=t=>{let{transform:{initial:e,final:n}}=t;return[{transform:fu.Transform.toString(e)},{transform:fu.Transform.toString(n)}]},K6={duration:250,easing:"ease",keyframes:V6,sideEffects:Y6({styles:{active:{opacity:"0"}}})};function X6(t){let{config:e,draggableNodes:n,droppableContainers:a,measuringConfiguration:l}=t;return qh((s,c)=>{if(e===null)return;const d=n.get(s);if(!d)return;const f=d.node.current;if(!f)return;const h=Rv(c);if(!h)return;const{transform:y}=Di(c).getComputedStyle(c),w=xv(y);if(!w)return;const A=typeof e=="function"?e:J6(e);return Nv(f,l.draggable.measure),A({active:{id:s,data:d.data,node:f,rect:l.draggable.measure(f)},draggableNodes:n,dragOverlay:{node:c,rect:l.dragOverlay.measure(h)},droppableContainers:a,measuringConfiguration:l,transform:w})})}function J6(t){const{duration:e,easing:n,sideEffects:a,keyframes:l}={...K6,...t};return s=>{let{active:c,dragOverlay:d,transform:f,...h}=s;if(!e)return;const y={x:d.rect.left-c.rect.left,y:d.rect.top-c.rect.top},w={scaleX:f.scaleX!==1?c.rect.width*f.scaleX/d.rect.width:1,scaleY:f.scaleY!==1?c.rect.height*f.scaleY/d.rect.height:1},A={x:f.x-y.x,y:f.y-y.y,...w},m=l({...h,active:c,dragOverlay:d,transform:{initial:f,final:A}}),[T]=m,E=m[m.length-1];if(JSON.stringify(T)===JSON.stringify(E))return;const L=a?.({active:c,dragOverlay:d,...h}),R=d.node.animate(m,{duration:e,easing:n,fill:"forwards"});return new Promise(D=>{R.onfinish=()=>{L?.(),D()}})}}let f5=0;function Z6(t){return B.useMemo(()=>{if(t!=null)return f5++,f5},[t])}const Mv=fr.memo(t=>{let{adjustScale:e=!1,children:n,dropAnimation:a,style:l,transition:s,modifiers:c,wrapperElement:d="div",className:f,zIndex:h=999}=t;const{activatorEvent:y,active:w,activeNodeRect:A,containerNodeRect:m,draggableNodes:T,droppableContainers:E,dragOverlay:L,over:R,measuringConfiguration:D,scrollableAncestors:M,scrollableAncestorRects:W,windowRect:ue}=zv(),ce=B.useContext(Yh),Z=Z6(w?.id),ee=Dv(c,{activatorEvent:y,active:w,activeNodeRect:A,containerNodeRect:m,draggingNodeRect:L.rect,over:R,overlayNodeRect:L.rect,scrollableAncestors:M,scrollableAncestorRects:W,transform:ce,windowRect:ue}),q=Yg(A),fe=X6({config:a,draggableNodes:T,droppableContainers:E,measuringConfiguration:D}),z=q?L.setRef:void 0;return fr.createElement(H6,null,fr.createElement(q6,{animation:fe},w&&Z?fr.createElement(G6,{key:Z,id:w.id,ref:z,as:d,activatorEvent:y,adjustScale:e,className:f,transition:s,rect:q,style:{zIndex:h,...l},transform:ee},n):null))});function Iv(t,e,n){const a=t.slice();return a.splice(n<0?a.length+n:n,0,a.splice(e,1)[0]),a}function Q6(t,e){return t.reduce((n,a,l)=>{const s=e.get(a);return s&&(n[l]=s),n},Array(t.length))}function Qf(t){return t!==null&&t>=0}function e8(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function t8(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const Pv=t=>{let{rects:e,activeIndex:n,overIndex:a,index:l}=t;const s=Iv(e,a,n),c=e[l],d=s[l];return!d||!c?null:{x:d.left-c.left,y:d.top-c.top,scaleX:d.width/c.width,scaleY:d.height/c.height}},eh={scaleX:1,scaleY:1},hg=t=>{var e;let{activeIndex:n,activeNodeRect:a,index:l,rects:s,overIndex:c}=t;const d=(e=s[n])!=null?e:a;if(!d)return null;if(l===n){const h=s[c];return h?{x:0,y:n<c?h.top+h.height-(d.top+d.height):h.top-d.top,...eh}:null}const f=n8(s,l,n);return l>n&&l<=c?{x:0,y:-d.height-f,...eh}:l<n&&l>=c?{x:0,y:d.height+f,...eh}:{x:0,y:0,...eh}};function n8(t,e,n){const a=t[e],l=t[e-1],s=t[e+1];return a?n<e?l?a.top-(l.top+l.height):s?s.top-(a.top+a.height):0:s?s.top-(a.top+a.height):l?a.top-(l.top+l.height):0:0}const Uv="Sortable",qv=fr.createContext({activeIndex:-1,containerId:Uv,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Pv,disabled:{draggable:!1,droppable:!1}});function pg(t){let{children:e,id:n,items:a,strategy:l=Pv,disabled:s=!1}=t;const{active:c,dragOverlay:d,droppableRects:f,over:h,measureDroppableContainers:y}=zv(),w=Xd(Uv,n),A=d.rect!==null,m=B.useMemo(()=>a.map(ce=>typeof ce=="object"&&"id"in ce?ce.id:ce),[a]),T=c!=null,E=c?m.indexOf(c.id):-1,L=h?m.indexOf(h.id):-1,R=B.useRef(m),D=!e8(m,R.current),M=L!==-1&&E===-1||D,W=t8(s);_s(()=>{D&&T&&y(m)},[D,m,T,y]),B.useEffect(()=>{R.current=m},[m]);const ue=B.useMemo(()=>({activeIndex:E,containerId:w,disabled:W,disableTransforms:M,items:m,overIndex:L,useDragOverlay:A,sortedRects:Q6(m,f),strategy:l}),[E,w,W.draggable,W.droppable,M,m,L,f,A,l]);return fr.createElement(qv.Provider,{value:ue},e)}const r8=t=>{let{id:e,items:n,activeIndex:a,overIndex:l}=t;return Iv(n,a,l).indexOf(e)},i8=t=>{let{containerId:e,isSorting:n,wasDragging:a,index:l,items:s,newIndex:c,previousItems:d,previousContainerId:f,transition:h}=t;return!h||!a||d!==s&&l===c?!1:n?!0:c!==l&&e===f},a8={duration:200,easing:"ease"},Fv="transform",s8=fu.Transition.toString({property:Fv,duration:0,easing:"linear"}),o8={roleDescription:"sortable"};function l8(t){let{disabled:e,index:n,node:a,rect:l}=t;const[s,c]=B.useState(null),d=B.useRef(n);return _s(()=>{if(!e&&n!==d.current&&a.current){const f=l.current;if(f){const h=Bc(a.current,{ignoreTransform:!0}),y={x:f.left-h.left,y:f.top-h.top,scaleX:f.width/h.width,scaleY:f.height/h.height};(y.x||y.y)&&c(y)}}n!==d.current&&(d.current=n)},[e,n,a,l]),B.useEffect(()=>{s&&c(null)},[s]),s}function Hv(t){let{animateLayoutChanges:e=i8,attributes:n,disabled:a,data:l,getNewIndex:s=r8,id:c,strategy:d,resizeObserverConfig:f,transition:h=a8}=t;const{items:y,containerId:w,activeIndex:A,disabled:m,disableTransforms:T,sortedRects:E,overIndex:L,useDragOverlay:R,strategy:D}=B.useContext(qv),M=u8(a,m),W=y.indexOf(c),ue=B.useMemo(()=>({sortable:{containerId:w,index:W,items:y},...l}),[w,l,W,y]),ce=B.useMemo(()=>y.slice(y.indexOf(c)),[y,c]),{rect:Z,node:ee,isOver:q,setNodeRef:fe}=U6({id:c,data:ue,disabled:M.droppable,resizeObserverConfig:{updateMeasurementsFor:ce,...f}}),{active:z,activatorEvent:Y,activeNodeRect:se,attributes:oe,setNodeRef:Ee,listeners:X,isDragging:de,over:he,setActivatorNodeRef:_e,transform:ve}=M6({id:c,data:ue,attributes:{...o8,...n},disabled:M.draggable}),I=ES(fe,Ee),k=!!z,P=k&&!T&&Qf(A)&&Qf(L),K=!R&&de,ae=K&&P?ve:null,Q=P?ae??(d??D)({rects:E,activeNodeRect:se,activeIndex:A,overIndex:L,index:W}):null,le=Qf(A)&&Qf(L)?s({id:c,items:y,activeIndex:A,overIndex:L}):W,ye=z?.id,pe=B.useRef({activeId:ye,items:y,newIndex:le,containerId:w}),Le=y!==pe.current.items,Me=e({active:z,containerId:w,isDragging:de,isSorting:k,id:c,index:W,items:y,newIndex:pe.current.newIndex,previousItems:pe.current.items,previousContainerId:pe.current.containerId,transition:h,wasDragging:pe.current.activeId!=null}),ie=l8({disabled:!Me,index:W,node:ee,rect:Z});return B.useEffect(()=>{k&&pe.current.newIndex!==le&&(pe.current.newIndex=le),w!==pe.current.containerId&&(pe.current.containerId=w),y!==pe.current.items&&(pe.current.items=y)},[k,le,w,y]),B.useEffect(()=>{if(ye===pe.current.activeId)return;if(ye!=null&&pe.current.activeId==null){pe.current.activeId=ye;return}const $=setTimeout(()=>{pe.current.activeId=ye},50);return()=>clearTimeout($)},[ye]),{active:z,activeIndex:A,attributes:oe,data:ue,rect:Z,index:W,newIndex:le,items:y,isOver:q,isSorting:k,isDragging:de,listeners:X,node:ee,overIndex:L,over:he,setNodeRef:I,setActivatorNodeRef:_e,setDroppableNodeRef:fe,setDraggableNodeRef:Ee,transform:ie??Q,transition:ke()};function ke(){if(ie||Le&&pe.current.newIndex===W)return s8;if(!(K&&!Fh(Y)||!h)&&(k||Me))return fu.Transition.toString({...h,property:Fv})}}function u8(t,e){var n,a;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t?.draggable)!=null?n:e.draggable,droppable:(a=t?.droppable)!=null?a:e.droppable}}function Nh(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const c8=[sn.Down,sn.Right,sn.Up,sn.Left],$v=(t,e)=>{let{context:{active:n,collisionRect:a,droppableRects:l,droppableContainers:s,over:c,scrollableAncestors:d}}=e;if(c8.includes(t.code)){if(t.preventDefault(),!n||!a)return;const f=[];s.getEnabled().forEach(w=>{if(!w||w!=null&&w.disabled)return;const A=l.get(w.id);if(A)switch(t.code){case sn.Down:a.top<A.top&&f.push(w);break;case sn.Up:a.top>A.top&&f.push(w);break;case sn.Left:a.left>A.left&&f.push(w);break;case sn.Right:a.left<A.left&&f.push(w);break}});const h=qS({collisionRect:a,droppableRects:l,droppableContainers:f});let y=vv(h,"id");if(y===c?.id&&h.length>1&&(y=h[1].id),y!=null){const w=s.get(n.id),A=s.get(y),m=A?l.get(A.id):null,T=A?.node.current;if(T&&m&&w&&A){const L=Hh(T).some((ce,Z)=>d[Z]!==ce),R=Wv(w,A),D=d8(w,A),M=L||!R?{x:0,y:0}:{x:D?a.width-m.width:0,y:D?a.height-m.height:0},W={x:m.left,y:m.top};return M.x&&M.y?W:qd(W,M)}}}};function Wv(t,e){return!Nh(t)||!Nh(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function d8(t,e){return!Nh(t)||!Nh(e)||!Wv(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}function f8(){const{business:t}=zo(),[e,n]=B.useState([]),[a,l]=B.useState(!0),[s,c]=B.useState(!1),[d,f]=B.useState(!1),[h,y]=B.useState(null),[w,A]=B.useState({name:"",order_index:0}),[m,T]=B.useState(""),[E,L]=B.useState(null),[R,D]=B.useState(null),[M,W]=B.useState({up:!1,down:!1}),ue=B.useRef(null),ce=B.useRef(null),Z=B.useRef(null),ee=gv(Th(Wh,{activationConstraint:{distance:5}}),Th($h,{coordinateGetter:$v}));B.useEffect(()=>{const ve=()=>{c(window.innerWidth<768)};return ve(),window.addEventListener("resize",ve),()=>window.removeEventListener("resize",ve)},[]),B.useEffect(()=>{t?.id&&q()},[t]);const q=async()=>{try{l(!0);const{data:ve,error:I}=await st.from("categories").select("*").eq("business_id",t.id).order("order_index",{ascending:!0});if(I)throw I;n(ve||[])}catch(ve){console.error("Categories fetch error:",ve),alert("Kategoriler yklenirken hata olutu: "+ve.message)}finally{l(!1)}};B.useEffect(()=>{if(!t?.id)return;const ve=st.channel(`categories:${t.id}`).on("postgres_changes",{event:"*",schema:"public",table:"categories",filter:`business_id=eq.${t.id}`},async I=>{console.log(" Category changed (Realtime):",I.eventType,I.new?.id||I.old?.id),(I.eventType==="UPDATE"&&I.new?.order_index!==void 0||I.eventType==="INSERT"||I.eventType==="DELETE")&&q()}).subscribe();return()=>{st.removeChannel(ve)}},[t?.id]);const fe=(ve=null)=>{ve?(y(ve),A({name:ve.name,order_index:ve.order_index})):(y(null),A({name:"",order_index:e.length})),f(!0),T("")},z=()=>{f(!1),y(null),A({name:"",order_index:0}),T("")},Y=async ve=>{if(ve.preventDefault(),T(""),!w.name.trim()){T("Kategori ad gerekli");return}try{if(h){const{error:I}=await st.from("categories").update({name:w.name.trim(),order_index:w.order_index}).eq("id",h.id);if(I)throw I}else{const{error:I}=await st.from("categories").insert({business_id:t.id,name:w.name.trim(),order_index:w.order_index,is_active:!0});if(I)throw I}z(),q()}catch(I){T(I.message||"Bir hata olutu"),console.error("Category save error:",I)}},se=async ve=>{if(confirm("Bu kategoriyi silmek istediinize emin misiniz? Kategoriye ait rnler kategorisiz kalacaktr."))try{const{error:I}=await st.from("categories").delete().eq("id",ve);if(I)throw I;q()}catch(I){alert("Kategori silinirken hata olutu: "+I.message),console.error("Category delete error:",I)}},oe=ve=>{L(ve.active.id),D(null),ue.current=null,setTimeout(()=>{const I=document.querySelector(`[data-category-id="${ve.active.id}"]`);I&&(Z.current=I.offsetWidth)},0)},Ee=ve=>{if(!ve.over||!E){ce.current=null;return}const I=ve.over.id;ce.current=I};B.useEffect(()=>{if(!E)return;let ve=null;const k=setInterval(()=>{ve=requestAnimationFrame(()=>{ce.current!==ue.current&&(ue.current=ce.current,D(ce.current)),ve=null})},100);return()=>{ve&&cancelAnimationFrame(ve),clearInterval(k)}},[E]);const X=B.useRef({up:!1,down:!1});B.useEffect(()=>{if(!E){W({up:!1,down:!1}),X.current={up:!1,down:!1};return}let ve=null,I=0;const k=150,P=Q=>{Date.now()-I<k||ve||(ve=requestAnimationFrame(()=>{const ye=window.innerHeight||document.documentElement.clientHeight,pe=Math.max(80,ye*.12),Le=Q<pe?{up:!0,down:!1}:Q>ye-pe?{up:!1,down:!0}:{up:!1,down:!1};(Le.up!==X.current.up||Le.down!==X.current.down)&&(X.current=Le,W(Le)),I=Date.now(),ve=null}))},K=Q=>{const le=Q.clientY||(Q.touches&&Q.touches[0]?Q.touches[0].clientY:window.innerHeight/2);P(le)},ae=Q=>{const le=Q.clientY||window.innerHeight/2;P(le)};window.addEventListener("mousemove",K,{capture:!0,passive:!0}),window.addEventListener("wheel",ae,{capture:!0,passive:!0});const V=Q=>{Q.touches&&Q.touches[0]&&P(Q.touches[0].clientY)};return window.addEventListener("touchmove",V,{passive:!0,capture:!0}),()=>{ve&&cancelAnimationFrame(ve),window.removeEventListener("mousemove",K,{capture:!0}),window.removeEventListener("wheel",ae,{capture:!0}),window.removeEventListener("touchmove",V,{capture:!0}),W({up:!1,down:!1}),X.current={up:!1,down:!1}}},[E]);const de=()=>{L(null),D(null),W({up:!1,down:!1}),ue.current=null,window.dragUpdateTimeout&&clearTimeout(window.dragUpdateTimeout)},he=async ve=>{const{active:I,over:k}=ve;if(W({up:!1,down:!1}),D(null),ue.current=null,window.dragUpdateTimeout&&clearTimeout(window.dragUpdateTimeout),!k||I.id===k.id){L(null),D(null);return}const P=e.find(le=>le.id===I.id),K=e.find(le=>le.id===k.id);if(!P||!K){L(null),D(null);return}const ae=e.findIndex(le=>le.id===I.id),V=e.findIndex(le=>le.id===k.id);if(ae===-1||V===-1){L(null),D(null);return}const Q=[{id:P.id,order_index:V},{id:K.id,order_index:ae}];try{const le=Q.map(Le=>st.from("categories").update({order_index:Le.order_index}).eq("id",Le.id));await Promise.all(le);const pe=[...e.map(Le=>{const Me=Q.find(ie=>ie.id===Le.id);return Me?{...Le,order_index:Me.order_index}:Le})].sort((Le,Me)=>{const ie=Le.order_index??0,ke=Me.order_index??0;return ie-ke});n(pe),L(null),D(null),ue.current=null,ce.current=null}catch(le){console.error("Sralama gncelleme hatas:",le),alert("Sralama gncellenirken hata olutu: "+le.message),q(),L(null),D(null),ue.current=null}};function _e({category:ve,categoryIndex:I,isMobile:k,onEdit:P,onDelete:K}){const{attributes:ae,listeners:V,setNodeRef:Q,transform:le,transition:ye,isDragging:pe}=Hv({id:ve.id,disabled:!1}),Le=E===ve.id&&E!==null,Me=R===ve.id&&R!==null&&!Le,ie={transform:"none",transition:"none",opacity:pe?.3:1,cursor:"default",willChange:"auto"};return _.jsx("div",{ref:Q,style:{...ie,background:Le?"rgba(59, 130, 246, 0.05)":Me?"#e0f2fe":"white",borderRadius:"12px",boxShadow:Le?"0 2px 8px rgba(59, 130, 246, 0.15)":Me?"0 4px 12px rgba(0,0,0,0.15)":"0 1px 3px rgba(0,0,0,0.1)",border:Le?"1px solid rgba(59, 130, 246, 0.3)":Me?"2px dashed #3b82f6":"1px solid #e2e8f0",overflow:"hidden",transition:"none",transform:"none",position:"relative",zIndex:pe?1:Le?2:1,pointerEvents:pe?"none":"auto",animation:"none",width:"100%",height:"auto"},"data-category-id":ve.id,children:_.jsxs("div",{style:{padding:k?"1.25rem":"1.5rem",display:"flex",alignItems:"center",gap:"1rem"},children:[_.jsx("div",{...ae,...V,style:{fontSize:"1.5rem",cursor:pe?"grabbing":"grab",userSelect:"none",zIndex:15,background:"rgba(255,255,255,0.9)",borderRadius:"4px",padding:"0.25rem 0.5rem",touchAction:"none"},children:""}),_.jsxs("div",{style:{flex:1},children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"1rem"},children:[_.jsx("div",{children:_.jsx("h3",{style:{margin:"0",fontSize:k?"1.125rem":"1.25rem",color:"#1e293b",fontWeight:"600"},children:ve.name})}),!ve.is_active&&_.jsx("span",{style:{padding:"0.25rem 0.75rem",background:"#fee2e2",color:"#dc2626",borderRadius:"6px",fontSize:"0.75rem",fontWeight:"500"},children:"Pasif"})]}),_.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[_.jsx(Pr,{onClick:()=>P(ve),variant:"secondary",style:{flex:1,minWidth:"100px",fontSize:k?"0.875rem":"0.9375rem",padding:k?"0.625rem":"0.75rem"},children:" Dzenle"}),_.jsx(Pr,{onClick:()=>K(ve.id),variant:"danger",style:{flex:1,minWidth:"100px",fontSize:k?"0.875rem":"0.9375rem",padding:k?"0.625rem":"0.75rem"},children:" Sil"})]})]})]})})}return a&&e.length===0?_.jsx(_a,{children:_.jsx(Fa,{message:"Kategoriler ykleniyor..."})}):_.jsx(_a,{children:_.jsx(Bv,{sensors:ee,collisionDetection:bv,onDragStart:oe,onDragOver:Ee,onDragEnd:he,onDragCancel:de,autoScroll:{threshold:{x:.12,y:.12},acceleration:13,interval:9,enabled:!0},children:_.jsxs("div",{children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:s?"1.5rem":"2rem",flexWrap:"wrap",gap:"1rem"},children:[_.jsx("h1",{style:{margin:0,fontSize:s?"1.5rem":"2rem",color:"#1e293b"},children:" Kategoriler"}),_.jsx(Pr,{onClick:()=>fe(),variant:"primary",style:{fontSize:s?"0.9375rem":"1rem",padding:s?"0.75rem 1.25rem":"0.875rem 1.5rem"},children:" Kategori Ekle"})]}),e.length===0?_.jsxs("div",{style:{background:"white",padding:s?"2rem 1rem":"3rem 2rem",borderRadius:"12px",textAlign:"center",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[_.jsx("p",{style:{fontSize:s?"1.125rem":"1.25rem",color:"#64748b",marginBottom:"1rem"},children:"Henz kategori eklenmemi"}),_.jsx(Pr,{onClick:()=>fe(),variant:"primary",children:" lk Kategoriyi Ekle"})]}):_.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[_.jsx("div",{style:{padding:"0.75rem 1rem",background:"#f8fafc",borderRadius:"8px",fontSize:"0.875rem",color:"#64748b",marginBottom:"0.5rem"},children:" pucu: Buraya bu sembole () basarak yer deitirebilirsiniz"}),_.jsx(pg,{items:e.map(ve=>ve.id),strategy:hg,children:[...e].sort((ve,I)=>{const k=ve.order_index??0,P=I.order_index??0;return k-P}).map((ve,I)=>_.jsx(_e,{category:ve,categoryIndex:I,isMobile:s,onEdit:fe,onDelete:se},ve.id))}),_.jsx(Mv,{children:E?(()=>{const ve=e.find(k=>k.id===E);if(!ve)return null;const I=Z.current||"100%";return _.jsx("div",{className:"drag-overlay-card",style:{background:"white",borderRadius:"12px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.25)",border:"1px solid #e2e8f0",opacity:.9,width:typeof I=="number"?`${I}px`:I,minWidth:typeof I=="number"?`${I}px`:I,maxWidth:typeof I=="number"?`${I}px`:I,pointerEvents:"none",zIndex:2e3,transform:"none !important",transformOrigin:"center center",boxSizing:"border-box",scale:"1 !important",rotate:"0deg !important",flexShrink:0,flexGrow:0},children:_.jsxs("div",{style:{padding:s?"1.25rem":"1.5rem",display:"flex",alignItems:"center",gap:"1rem"},children:[_.jsx("div",{style:{fontSize:"1.5rem",cursor:"grabbing",userSelect:"none"},children:""}),_.jsx("div",{style:{flex:1},children:_.jsx("h3",{style:{margin:"0",fontSize:s?"1.125rem":"1.25rem",color:"#1e293b",fontWeight:"600"},children:ve.name})})]})})})():null}),E&&_.jsxs(_.Fragment,{children:[M.up&&_.jsx("div",{style:{position:"fixed",top:"10px",left:"50%",transform:"translateX(-50%)",zIndex:1e4,pointerEvents:"none",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"0.4rem"},children:[0,1,2].map(ve=>_.jsx("div",{style:{width:"0",height:"0",borderLeft:"14px solid transparent",borderRight:"14px solid transparent",borderBottom:"20px solid",borderBottomColor:ve===1?"#059669":"#10b981",animation:`arrowPulse 0.6s ease-in-out infinite ${ve*.1}s`,filter:"drop-shadow(0 2px 6px rgba(16, 185, 129, 0.6))"}},ve))}),M.down&&_.jsx("div",{style:{position:"fixed",bottom:"10px",left:"50%",transform:"translateX(-50%)",zIndex:1e4,pointerEvents:"none",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"0.4rem"},children:[0,1,2].map(ve=>_.jsx("div",{style:{width:"0",height:"0",borderLeft:"14px solid transparent",borderRight:"14px solid transparent",borderTop:"20px solid",borderTopColor:ve===1?"#059669":"#10b981",animation:`arrowPulse 0.6s ease-in-out infinite ${ve*.1}s`,filter:"drop-shadow(0 2px 6px rgba(16, 185, 129, 0.6))"}},ve))})]})]}),d&&_.jsx("div",{onClick:z,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",padding:s?"1rem":"2rem"},children:_.jsxs("div",{onClick:ve=>ve.stopPropagation(),style:{background:"white",borderRadius:"12px",padding:s?"1.5rem":"2rem",width:"100%",maxWidth:"500px",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 20px 40px rgba(0,0,0,0.2)"},children:[_.jsx("h2",{style:{margin:"0 0 1.5rem 0",fontSize:s?"1.25rem":"1.5rem",color:"#1e293b"},children:h?" Kategori Dzenle":" Kategori Ekle"}),_.jsxs("form",{onSubmit:Y,children:[_.jsx(Xs,{label:"Kategori Ad",type:"text",value:w.name,onChange:ve=>A({...w,name:ve.target.value}),placeholder:"rn: Kahveler, ecekler",required:!0,error:m&&!w.name.trim()?m:null,style:{marginBottom:"1.25rem"}}),_.jsx(Xs,{label:"Sra (Order Index)",type:"number",value:w.order_index,onChange:ve=>A({...w,order_index:parseInt(ve.target.value)||0}),placeholder:"0",required:!0,style:{marginBottom:"1.25rem"}}),m&&_.jsx("div",{style:{padding:"0.75rem",background:"#fee",border:"1px solid #fcc",borderRadius:"6px",color:"#c33",marginBottom:"1rem",fontSize:"0.875rem"},children:m}),_.jsxs("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end"},children:[_.jsx(Pr,{type:"button",variant:"secondary",onClick:z,style:{fontSize:s?"0.9375rem":"1rem"},children:"ptal"}),_.jsx(Pr,{type:"submit",variant:"primary",style:{fontSize:s?"0.9375rem":"1rem"},children:h?" Kaydet":" Ekle"})]})]})]})})]})})})}function h8(){const{business:t}=zo(),[e,n]=B.useState([]),[a,l]=B.useState([]),[s,c]=B.useState(!0),[d,f]=B.useState(!1),[h,y]=B.useState(!1),[w,A]=B.useState(null),[m,T]=B.useState({name:"",price:"",description:"",category_id:"",image:null,imagePreview:null}),[E,L]=B.useState(!1),[R,D]=B.useState(""),[M,W]=B.useState(null),[ue,ce]=B.useState(null),[Z,ee]=B.useState({up:!1,down:!1}),[q,fe]=B.useState(null),z=B.useRef(null),Y=B.useRef(null),se=B.useRef(null),oe=B.useRef(null),Ee=B.useRef(null),X=gv(Th(Wh,{activationConstraint:{distance:5}}),Th($h,{coordinateGetter:$v}));B.useEffect(()=>{const ie=()=>{f(window.innerWidth<768)};return ie(),window.addEventListener("resize",ie),()=>window.removeEventListener("resize",ie)},[]),B.useEffect(()=>{t?.id&&(de(),he())},[t]);const de=async()=>{try{const{data:ie,error:ke}=await st.from("categories").select("*").eq("business_id",t.id).order("order_index",{ascending:!0});if(ke)throw ke;l(ie||[])}catch(ie){console.error("Categories fetch error:",ie)}},he=async()=>{try{c(!0);const{data:ie,error:ke}=await st.from("products").select("*, categories(name)").eq("business_id",t.id).order("order_index",{ascending:!0}).order("created_at",{ascending:!1});if(ke)throw ke;const $=(ie||[]).sort((ze,et)=>ze.is_active!==et.is_active?ze.is_active?-1:1:(ze.order_index||0)-(et.order_index||0));n($)}catch(ie){console.error("Products fetch error:",ie),alert("rnler yklenirken hata olutu: "+ie.message)}finally{c(!1)}};B.useEffect(()=>{if(!t?.id)return;const ie=st.channel(`products:${t.id}`).on("postgres_changes",{event:"*",schema:"public",table:"products",filter:`business_id=eq.${t.id}`},async ke=>{console.log(" Product changed (Realtime):",ke.eventType,ke.new?.id||ke.old?.id),(ke.eventType==="UPDATE"||ke.eventType==="INSERT"||ke.eventType==="DELETE")&&he()}).subscribe();return()=>{st.removeChannel(ie)}},[t?.id]);const _e=(ie=null)=>{ie?(A(ie),T({name:ie.name||"",price:ie.price||"",description:ie.description||"",category_id:ie.category_id||"",image:null,imagePreview:ie.image_url||null})):(A(null),T({name:"",price:"",description:"",category_id:a[0]?.id||"",image:null,imagePreview:null})),y(!0),D("")},ve=()=>{y(!1),A(null),T({name:"",price:"",description:"",category_id:"",image:null,imagePreview:null}),D("")},I=ie=>{const ke=ie.target.files[0];if(ke){if(ke.size>2*1024*1024){D("Grsel boyutu 2MB'dan kk olmaldr");return}if(!ke.type.startsWith("image/")){D("Ltfen bir grsel dosyas sein");return}T({...m,image:ke,imagePreview:URL.createObjectURL(ke)}),D("")}},k=async ie=>{if(!m.image)return null;try{const ke=m.image.name.split(".").pop(),$=`${ie}.${ke}`,ze=`${t.id}/products/${$}`,{error:et}=await st.storage.from("product-images").upload(ze,m.image,{cacheControl:"3600",upsert:!0});if(et)throw et;const{data:{publicUrl:Je}}=st.storage.from("product-images").getPublicUrl(ze);return Je}catch(ke){throw console.error("Image upload error:",ke),new Error("Grsel yklenirken hata olutu: "+ke.message)}},P=async ie=>{if(ie.preventDefault(),D(""),L(!0),!m.name.trim()){D("rn ad gerekli"),L(!1);return}if(!m.price||parseFloat(m.price)<=0){D("Geerli bir fiyat girin"),L(!1);return}try{let ke=m.imagePreview;if(w){m.image&&(ke=await k(w.id));const{error:$}=await st.from("products").update({name:m.name.trim(),price:parseFloat(m.price),description:m.description.trim()||null,category_id:m.category_id||null,image_url:ke||null}).eq("id",w.id);if($)throw $}else{const $=e.length>0?Math.max(...e.map(Je=>Je.order_index||0)):-1,{data:ze,error:et}=await st.from("products").insert({business_id:t.id,name:m.name.trim(),price:parseFloat(m.price),description:m.description.trim()||null,category_id:m.category_id||null,is_active:!0,order_index:$+1}).select().single();if(et)throw et;if(m.image&&ze){ke=await k(ze.id);const{error:Je}=await st.from("products").update({image_url:ke}).eq("id",ze.id);if(Je)throw Je}}ve(),he()}catch(ke){D(ke.message||"Bir hata olutu"),console.error("Product save error:",ke)}finally{L(!1)}},K=async ie=>{if(confirm("Bu rn silmek istediinize emin misiniz?"))try{const{error:ke}=await st.from("products").delete().eq("id",ie);if(ke)throw ke;he()}catch(ke){alert("rn silinirken hata olutu: "+ke.message),console.error("Product delete error:",ke)}},ae=async(ie,ke)=>{try{const $=e.find(De=>De.id===ie);if(!$)return;const ze=!ke,et=$.order_index||0;let Je={is_active:ze};if(ze===!1)Je.saved_order_index=et;else{const De=$.saved_order_index;if(De!=null){const Ke=e.filter(Ye=>Ye.category_id===$.category_id&&Ye.is_active===!0&&Ye.id!==ie).sort((Ye,at)=>(Ye.order_index||0)-(at.order_index||0));if(Ke.find(Ye=>Ye.order_index===De)){Je.order_index=De,Je.saved_order_index=null;const Ye=Ke.filter(tt=>(tt.order_index||0)>=De),at=[],ot=new Set([De]);Ye.forEach(tt=>{let pt=(tt.order_index||0)+1;for(;ot.has(pt);)pt++;ot.add(pt),at.push({id:tt.id,order_index:pt})});const it=[{id:ie,is_active:ze,order_index:De,saved_order_index:null},...at].map(tt=>tt.id===ie?st.from("products").update({is_active:tt.is_active,order_index:tt.order_index,saved_order_index:null}).eq("id",tt.id):st.from("products").update({order_index:tt.order_index}).eq("id",tt.id));await Promise.all(it)}else{Je.order_index=De,Je.saved_order_index=null;const{error:Ye}=await st.from("products").update(Je).eq("id",ie);if(Ye)throw Ye}}else{const{error:Ke}=await st.from("products").update(Je).eq("id",ie);if(Ke)throw Ke}}if(ze===!1){const{error:De}=await st.from("products").update(Je).eq("id",ie);if(De)throw De}n(De=>{const Ke=De.map($e=>{if($e.id===ie){const Ye={...$e,is_active:ze};return ze===!1?Ye.saved_order_index=et:$e.saved_order_index!==null&&$e.saved_order_index!==void 0&&(Ye.order_index=$e.saved_order_index,Ye.saved_order_index=null),Ye}return $e});if(ze===!0){const $e=Ke.find(Ye=>Ye.id===ie);if($e&&$e.saved_order_index===null&&$e.order_index!==void 0){const Ye=Ke.filter(ot=>ot.category_id===$e.category_id&&ot.is_active===!0&&ot.id!==ie).sort((ot,Qe)=>(ot.order_index||0)-(Qe.order_index||0));if(Ye.find(ot=>ot.order_index===$e.order_index)){const ot=Ye.filter(it=>(it.order_index||0)>=$e.order_index),Qe=new Set([$e.order_index]);ot.forEach(it=>{let tt=(it.order_index||0)+1;for(;Qe.has(tt);)tt++;Qe.add(tt),it.order_index=tt})}}}return Ke.sort(($e,Ye)=>$e.is_active!==Ye.is_active?$e.is_active?-1:1:($e.order_index||0)-(Ye.order_index||0))})}catch($){alert("rn durumu gncellenirken hata olutu: "+$.message),console.error("Product toggle active error:",$),he()}},V=ie=>{W(ie.active.id),ce(null),fe(null),z.current=null,Y.current=null,setTimeout(()=>{const ke=document.querySelector(`[data-product-id="${ie.active.id}"]`);if(ke)Ee.current=ke.offsetWidth;else{const $=(window.innerWidth>768,window.innerWidth);Ee.current=d?null:($-48)/3}},0)},Q=ie=>{if(!ie.over||!M){se.current=null,oe.current=null;return}const ke=ie.over.id,$=e.find(Ye=>Ye.id===M),ze=e.find(Ye=>Ye.id===ke);if(!$||!ze){se.current=ke,oe.current=null;return}const et=$.category_id||null,Je=ze.category_id||null;if(et!==Je){se.current=ke,oe.current=null;return}const Ke=e.filter(Ye=>(Ye.category_id||null)===et).sort((Ye,at)=>Ye.is_active!==at.is_active?Ye.is_active?-1:1:(Ye.order_index||0)-(at.order_index||0)).findIndex(Ye=>Ye.id===ke),$e=Ke!==-1?{categoryId:et,index:Ke}:null;se.current=ke,oe.current=$e};B.useEffect(()=>{if(!M)return;let ie=null;const $=setInterval(()=>{ie=requestAnimationFrame(()=>{se.current!==z.current&&(z.current=se.current,ce(se.current));const ze=oe.current?`${oe.current.categoryId}-${oe.current.index}`:null,et=Y.current?`${Y.current.categoryId}-${Y.current.index}`:null;ze!==et&&(Y.current=oe.current,fe(oe.current)),ie=null})},100);return()=>{ie&&cancelAnimationFrame(ie),clearInterval($)}},[M]);const le=B.useRef({up:!1,down:!1});B.useEffect(()=>{if(!M){ee({up:!1,down:!1}),le.current={up:!1,down:!1};return}let ie=null,ke=0;const $=150,ze=Ke=>{Date.now()-ke<$||ie||(ie=requestAnimationFrame(()=>{const Ye=window.innerHeight||document.documentElement.clientHeight,at=Math.max(80,Ye*.12),ot=Ke<at?{up:!0,down:!1}:Ke>Ye-at?{up:!1,down:!0}:{up:!1,down:!1};(ot.up!==le.current.up||ot.down!==le.current.down)&&(le.current=ot,ee(ot)),ke=Date.now(),ie=null}))},et=Ke=>{const $e=Ke.clientY||(Ke.touches&&Ke.touches[0]?Ke.touches[0].clientY:window.innerHeight/2);ze($e)},Je=Ke=>{const $e=Ke.clientY||window.innerHeight/2;ze($e)};window.addEventListener("mousemove",et,{capture:!0,passive:!0}),window.addEventListener("wheel",Je,{capture:!0,passive:!0});const De=Ke=>{Ke.touches&&Ke.touches[0]&&ze(Ke.touches[0].clientY)};return window.addEventListener("touchmove",De,{passive:!0,capture:!0}),()=>{ie&&cancelAnimationFrame(ie),window.removeEventListener("mousemove",et,{capture:!0}),window.removeEventListener("wheel",Je,{capture:!0}),window.removeEventListener("touchmove",De,{capture:!0}),ee({up:!1,down:!1}),le.current={up:!1,down:!1}}},[M]);const ye=async ie=>{const{active:ke,over:$}=ie;if(ee({up:!1,down:!1}),ce(null),window.dragUpdateTimeout&&clearTimeout(window.dragUpdateTimeout),!$||ke.id===$.id){setTimeout(()=>{fe(null),W(null)},400);return}const ze=e.find(Ze=>Ze.id===ke.id),et=e.find(Ze=>Ze.id===$.id);if(!ze||!et){setTimeout(()=>{fe(null),W(null)},400);return}if(!ze.is_active||!et.is_active){setTimeout(()=>{fe(null),W(null)},400);return}const Je=ze.category_id||null,De=et.category_id||null;if(Je!==De){setTimeout(()=>{fe(null),W(null)},400);return}const Ke=e.filter(Ze=>(Ze.category_id||null)===Je&&Ze.is_active===!0).sort((Ze,At)=>(Ze.order_index||0)-(At.order_index||0)),$e=Ke.findIndex(Ze=>Ze.id===ke.id),Ye=Ke.findIndex(Ze=>Ze.id===$.id);if($e===-1||Ye===-1){fe(null),W(null);return}const ot=e.filter(Ze=>(Ze.category_id||null)===Je).find(Ze=>!Ze.is_active&&Ze.saved_order_index!==null&&Ze.saved_order_index!==void 0&&Ze.saved_order_index===et.order_index);let Qe=ze.order_index||$e,it=et.order_index||Ye;ot&&(it=ot.saved_order_index);const tt=[{id:ze.id,order_index:it},{id:et.id,order_index:Qe}],pt={categoryId:Je,index:Ye};try{const Ze=tt.map(nt=>st.from("products").update({order_index:nt.order_index}).eq("id",nt.id));await Promise.all(Ze);const At=e.map(nt=>{const cn=tt.find(xt=>xt.id===nt.id);return cn?{...nt,order_index:cn.order_index}:nt});n(At),W(null),fe(pt),setTimeout(()=>{fe(null),z.current=null,Y.current=null},2e3)}catch(Ze){console.error("Sralama gncelleme hatas:",Ze),alert("Sralama gncellenirken hata olutu: "+Ze.message),he(),fe(null),W(null)}};function pe({product:ie,categoryId:ke,productIndex:$,isMobile:ze,onEdit:et,onDelete:Je,onToggleActive:De}){const{attributes:Ke,listeners:$e,setNodeRef:Ye,transform:at,transition:ot,isDragging:Qe}=Hv({id:ie.id,disabled:!1}),it=M?e.find(xt=>xt.id===M):null,tt=M===ie.id,pt=ue===ie.id,Ze=it&&it.category_id||null,nt=M&&Ze!==(ke||null)&&pt&&!tt,cn={transform:"none",transition:"none",opacity:Qe?.3:nt?.6:ie.is_active?1:.5,cursor:"default",willChange:"auto"};return _.jsxs("div",{ref:xt=>{Ye(xt),xt&&Qe&&!Ee.current&&(Ee.current=xt.offsetWidth)},style:{...cn,background:tt?"rgba(59, 130, 246, 0.05)":nt?"linear-gradient(135deg, #fee2e2 0%, #fecaca 100%)":"white",borderRadius:"12px",boxShadow:tt?"0 2px 8px rgba(59, 130, 246, 0.15)":nt?"0 2px 8px rgba(239, 68, 68, 0.3)":"0 1px 3px rgba(0,0,0,0.1)",border:tt?"1px solid rgba(59, 130, 246, 0.3)":nt?"2px solid #ef4444":"1px solid #e2e8f0",overflow:"hidden",transition:"none",position:"relative",transform:"none",zIndex:Qe?1:nt?5:2,pointerEvents:Qe?"none":"auto",animation:"none",filter:nt?"blur(1px)":"none",opacity:Qe?.3:nt?.6:1,width:"100%",height:"auto"},"data-product-id":ie.id,"data-category-id":ke||null,children:[!ie.is_active&&_.jsx("div",{style:{position:"absolute",top:"0.75rem",right:"0.75rem",background:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",color:"white",padding:"0.5rem 1rem",borderRadius:"20px",fontSize:ze?"0.75rem":"0.875rem",fontWeight:"700",zIndex:10,boxShadow:"0 2px 8px rgba(239, 68, 68, 0.4)",letterSpacing:"0.05em"},children:"TKEND"}),nt&&_.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:20,fontSize:"4rem",color:"#ef4444",fontWeight:"bold",textShadow:"0 2px 8px rgba(0,0,0,0.3)",pointerEvents:"none"},children:""}),_.jsx("div",{...Ke,...$e,style:{position:"absolute",top:"0.5rem",right:"0.5rem",fontSize:"1.25rem",cursor:Qe?"grabbing":"grab",userSelect:"none",zIndex:15,background:"rgba(255,255,255,0.9)",borderRadius:"4px",padding:"0.25rem 0.5rem",touchAction:"none"},children:""}),ie.image_url&&_.jsx("div",{style:{width:"100%",height:"200px",background:"#f5f5f5",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:_.jsx("img",{src:ie.image_url,alt:ie.name,style:{width:"100%",height:"100%",objectFit:"cover",opacity:ie.is_active?1:.5,filter:ie.is_active?"none":"grayscale(0.8)"},onError:xt=>{xt.target.style.display="none"}})}),_.jsxs("div",{style:{padding:ze?"1rem":"1.25rem"},children:[_.jsxs("div",{style:{marginBottom:"0.75rem",opacity:ie.is_active?1:.5,filter:ie.is_active?"none":"grayscale(0.8)"},children:[_.jsx("h3",{style:{margin:"0 0 0.5rem 0",fontSize:ze?"1.125rem":"1.25rem",color:ie.is_active?"#1e293b":"#9ca3af",fontWeight:"600",lineHeight:"1.4"},children:ie.name}),ie.description&&_.jsx("p",{style:{margin:0,fontSize:ze?"0.8125rem":"0.875rem",color:ie.is_active?"#64748b":"#9ca3af",lineHeight:"1.5",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:ie.description})]}),_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"1rem",paddingTop:"1rem",borderTop:"1px solid #e2e8f0"},children:[_.jsx("div",{style:{fontSize:ze?"1.125rem":"1.25rem",fontWeight:"700",color:"#3b82f6"},children:Sl(ie.price)}),_.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[_.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.25rem",padding:"0.5rem",borderRadius:"6px",background:ie.is_active?"#f0f9ff":"#fef2f2"},children:[_.jsx("label",{style:{fontSize:"0.75rem",color:ie.is_active?"#3b82f6":"#ef4444",fontWeight:"600",cursor:"pointer",userSelect:"none"},children:ie.is_active?"Aktif":"Tkendi"}),_.jsx("button",{onClick:()=>De(ie.id,ie.is_active),style:{width:"44px",height:"24px",borderRadius:"12px",border:"none",background:ie.is_active?"#3b82f6":"#9ca3af",cursor:"pointer",position:"relative",transition:"background 0.3s ease",outline:"none"},onMouseEnter:xt=>{xt.currentTarget.style.opacity="0.8"},onMouseLeave:xt=>{xt.currentTarget.style.opacity="1"},children:_.jsx("div",{style:{position:"absolute",top:"2px",left:ie.is_active?"22px":"2px",width:"20px",height:"20px",borderRadius:"50%",background:"white",transition:"left 0.3s ease",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"}})})]}),_.jsx(Pr,{variant:"secondary",onClick:()=>et(ie),style:{fontSize:ze?"0.8125rem":"0.875rem",padding:ze?"0.5rem 0.75rem":"0.625rem 1rem"},children:""}),_.jsx(Pr,{variant:"danger",onClick:()=>Je(ie.id),style:{fontSize:ze?"0.8125rem":"0.875rem",padding:ze?"0.5rem 0.75rem":"0.625rem 1rem"},children:""})]})]})]})]})}const Le=a.sort((ie,ke)=>(ie.order_index||0)-(ke.order_index||0)).map(ie=>({category:ie,products:e.filter(ke=>ke.category_id===ie.id).sort((ke,$)=>ke.is_active!==$.is_active?ke.is_active?-1:1:(ke.order_index||0)-($.order_index||0))})).filter(ie=>ie.products.length>0),Me=e.filter(ie=>!ie.category_id).sort((ie,ke)=>ie.is_active!==ke.is_active?ie.is_active?-1:1:(ie.order_index||0)-(ke.order_index||0));return s&&e.length===0?_.jsx(_a,{children:_.jsx(Fa,{message:"rnler ykleniyor..."})}):_.jsx(_a,{children:_.jsx(Bv,{sensors:X,collisionDetection:bv,onDragStart:V,onDragOver:Q,onDragEnd:ye,onDragCancel:()=>{W(null),ce(null),ee({up:!1,down:!1})},autoScroll:{threshold:{x:.12,y:.12},acceleration:13,interval:9,enabled:!0},children:_.jsxs("div",{children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:d?"1.5rem":"2rem",flexWrap:"wrap",gap:"1rem"},children:[_.jsx("h1",{style:{margin:0,fontSize:d?"1.5rem":"2rem",color:"#1e293b"},children:" rnler"}),_.jsx(Pr,{onClick:()=>_e(),variant:"primary",disabled:a.length===0,style:{fontSize:d?"0.9375rem":"1rem",padding:d?"0.75rem 1.25rem":"0.875rem 1.5rem"},children:" rn Ekle"})]}),a.length===0&&_.jsxs("div",{style:{background:"#fef3c7",border:"1px solid #fbbf24",borderRadius:"8px",padding:"1rem",marginBottom:"1.5rem",color:"#92400e"},children:[_.jsx("strong",{children:" Uyar:"})," nce kategori eklemeniz gerekiyor. rn eklemek iin"," ",_.jsx("a",{href:"/admin/categories",style:{color:"#92400e",textDecoration:"underline"},children:"Kategoriler"})," ","sayfasna gidin."]}),e.length===0?_.jsxs("div",{style:{background:"white",padding:d?"2rem 1rem":"3rem 2rem",borderRadius:"12px",textAlign:"center",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[_.jsx("p",{style:{fontSize:d?"1.125rem":"1.25rem",color:"#64748b",marginBottom:"1rem"},children:"Henz rn eklenmemi"}),_.jsx(Pr,{onClick:()=>_e(),variant:"primary",disabled:a.length===0,children:" lk rn Ekle"})]}):_.jsxs("div",{children:[_.jsx("div",{style:{padding:"0.75rem 1rem",background:"#f8fafc",borderRadius:"8px",fontSize:"0.875rem",color:"#64748b",marginBottom:"1.5rem"},children:" pucu: Buraya bu sembole () basarak yer deitirebilirsiniz"}),_.jsx(Mv,{children:M?(()=>{const ie=e.find($=>$.id===M);if(!ie)return null;const ke=Ee.current||(d?"100%":"calc((100% - 2 * 1.5rem) / 3)");return _.jsxs("div",{className:"drag-overlay-card",style:{background:"white",borderRadius:"12px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.25)",border:"1px solid #e2e8f0",opacity:.9,width:typeof ke=="number"?`${ke}px`:ke,minWidth:typeof ke=="number"?`${ke}px`:ke,maxWidth:typeof ke=="number"?`${ke}px`:ke,pointerEvents:"none",zIndex:2e3,transform:"none !important",transformOrigin:"center center",boxSizing:"border-box",scale:"1 !important",rotate:"0deg !important",flexShrink:0,flexGrow:0},children:[ie.image_url&&_.jsx("div",{style:{width:"100%",height:"200px",background:"#f5f5f5",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"12px 12px 0 0"},children:_.jsx("img",{src:ie.image_url,alt:ie.name,style:{width:"100%",height:"100%",objectFit:"cover"},onError:$=>{$.target.style.display="none"}})}),_.jsxs("div",{style:{padding:"1.25rem"},children:[_.jsx("h3",{style:{margin:"0 0 0.5rem 0",fontSize:"1.25rem",color:"#1e293b",fontWeight:"600",lineHeight:"1.4"},children:ie.name}),ie.description&&_.jsx("p",{style:{margin:0,fontSize:"0.875rem",color:"#64748b",lineHeight:"1.5",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:ie.description}),_.jsx("div",{style:{marginTop:"1rem",paddingTop:"1rem",borderTop:"1px solid #e2e8f0",fontSize:"1.25rem",fontWeight:"700",color:"#3b82f6"},children:Sl(ie.price)})]})]})})():null}),M&&_.jsxs(_.Fragment,{children:[Z.up&&_.jsx("div",{style:{position:"fixed",top:"10px",left:"50%",transform:"translateX(-50%)",zIndex:1e4,pointerEvents:"none",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"0.4rem"},children:[0,1,2].map(ie=>_.jsx("div",{style:{width:"0",height:"0",borderLeft:"14px solid transparent",borderRight:"14px solid transparent",borderBottom:"20px solid",borderBottomColor:ie===1?"#059669":"#10b981",animation:`arrowPulse 0.6s ease-in-out infinite ${ie*.1}s`,filter:"drop-shadow(0 2px 6px rgba(16, 185, 129, 0.6))"}},ie))}),Z.down&&_.jsx("div",{style:{position:"fixed",bottom:"10px",left:"50%",transform:"translateX(-50%)",zIndex:1e4,pointerEvents:"none",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"0.4rem"},children:[0,1,2].map(ie=>_.jsx("div",{style:{width:"0",height:"0",borderLeft:"14px solid transparent",borderRight:"14px solid transparent",borderTop:"20px solid",borderTopColor:ie===1?"#059669":"#10b981",animation:`arrowPulse 0.6s ease-in-out infinite ${ie*.1}s`,filter:"drop-shadow(0 2px 6px rgba(16, 185, 129, 0.6))"}},ie))})]}),Le.map((ie,ke)=>_.jsxs("div",{style:{marginBottom:d?"3rem":"4rem"},children:[_.jsxs("div",{style:{marginBottom:"1.5rem",paddingBottom:"0.75rem",borderBottom:"3px solid #3b82f6"},children:[_.jsxs("h2",{style:{margin:0,fontSize:d?"1.5rem":"2rem",color:"#1e293b",fontWeight:"700"},children:[" ",ie.category.name]}),_.jsxs("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.875rem",color:"#64748b"},children:[ie.products.length," rn"]})]}),_.jsx(pg,{items:ie.products.map($=>$.id),strategy:hg,children:_.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:d?"1rem":"1.5rem",position:"relative",width:"100%",alignItems:"flex-start",alignContent:"flex-start"},children:ie.products.map(($,ze)=>{const et=M?e.find(Ke=>Ke.id===M):null,De=et&&(et.category_id||null)===ie.category.id&&q&&q.categoryId===ie.category.id&&q.index===ze;return _.jsxs("div",{style:{position:"relative",width:d?"100%":"calc((100% - 2 * 1.5rem) / 3)",flexShrink:0,flexGrow:0,transition:"none",transform:"none",zIndex:De?1:2},children:[De&&_.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,width:"100%",height:"100%",background:"rgba(16, 185, 129, 0.15)",borderRadius:"12px",border:"2px dashed #10b981",display:"flex",alignItems:"center",justifyContent:"center",transition:"none",animation:"none",zIndex:10,pointerEvents:"none"},children:_.jsx("div",{style:{color:"#10b981",fontSize:"0.875rem",fontWeight:"600",background:"rgba(255, 255, 255, 0.95)",padding:"0.5rem 1rem",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:" Buraya koyabilirsiniz"})}),_.jsx(pe,{product:$,categoryId:ie.category.id,productIndex:ze,isMobile:d,onEdit:_e,onDelete:K,onToggleActive:ae})]},$.id)})})})]},ie.category.id)),Me.length>0&&_.jsxs("div",{style:{marginTop:d?"3rem":"4rem",paddingTop:d?"2rem":"3rem",borderTop:"2px solid #e2e8f0"},children:[_.jsxs("div",{style:{marginBottom:"1.5rem",paddingBottom:"0.75rem",borderBottom:"3px solid #f59e0b"},children:[_.jsx("h2",{style:{margin:0,fontSize:d?"1.5rem":"2rem",color:"#1e293b",fontWeight:"700"},children:" Kategorisiz rnler"}),_.jsxs("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.875rem",color:"#64748b"},children:[Me.length," rn - Ltfen bu rnlere kategori atayn"]})]}),_.jsx(pg,{items:Me.map(ie=>ie.id),strategy:hg,children:_.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:d?"1rem":"1.5rem",position:"relative",width:"100%",alignItems:"flex-start",alignContent:"flex-start"},children:Me.map((ie,ke)=>{const $=M?e.find(Je=>Je.id===M):null,et=$&&($.category_id||null)===null&&q&&q.categoryId===null&&q.index===ke;return _.jsxs("div",{style:{position:"relative",width:d?"100%":"calc((100% - 2 * 1.5rem) / 3)",flexShrink:0,flexGrow:0,transition:"none",transform:"none",zIndex:et?1:2},children:[et&&_.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,width:"100%",height:"100%",background:"rgba(16, 185, 129, 0.15)",borderRadius:"12px",border:"2px dashed #10b981",display:"flex",alignItems:"center",justifyContent:"center",transition:"none",animation:"none",zIndex:10,pointerEvents:"none"},children:_.jsx("div",{style:{color:"#10b981",fontSize:"0.875rem",fontWeight:"600",background:"rgba(255, 255, 255, 0.95)",padding:"0.5rem 1rem",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:" Buraya koyabilirsiniz"})}),_.jsx(pe,{product:ie,categoryId:null,productIndex:ke,isMobile:d,onEdit:_e,onDelete:K,onToggleActive:ae})]},ie.id)})})})]})]}),h&&_.jsx("div",{onClick:ve,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",padding:d?"1rem":"2rem"},children:_.jsxs("div",{onClick:ie=>ie.stopPropagation(),style:{background:"white",borderRadius:"12px",padding:d?"1.5rem":"2rem",width:"100%",maxWidth:"600px",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 20px 40px rgba(0,0,0,0.2)"},children:[_.jsx("h2",{style:{margin:"0 0 1.5rem 0",fontSize:d?"1.25rem":"1.5rem",color:"#1e293b"},children:w?" rn Dzenle":" rn Ekle"}),_.jsxs("form",{onSubmit:P,children:[_.jsx(Xs,{label:"rn Ad",type:"text",value:m.name,onChange:ie=>T({...m,name:ie.target.value}),placeholder:"rn: Trk Kahvesi",required:!0,style:{marginBottom:"1.25rem"}}),_.jsxs("div",{style:{marginBottom:"1.25rem"},children:[_.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#333"},children:["Kategori ",_.jsx("span",{style:{color:"red"},children:"*"})]}),_.jsxs("select",{value:m.category_id,onChange:ie=>T({...m,category_id:ie.target.value}),required:!0,style:{width:"100%",padding:"0.75rem",fontSize:"1rem",border:"1px solid #ddd",borderRadius:"6px",boxSizing:"border-box",fontFamily:"inherit",background:"white"},children:[_.jsx("option",{value:"",children:"Kategori Sein"}),a.map(ie=>_.jsx("option",{value:ie.id,children:ie.name},ie.id))]})]}),_.jsx(Xs,{label:"Fiyat ()",type:"number",step:"0.01",min:"0",value:m.price,onChange:ie=>T({...m,price:ie.target.value}),placeholder:"0.00",required:!0,style:{marginBottom:"1.25rem"}}),_.jsxs("div",{style:{marginBottom:"1.25rem"},children:[_.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#333"},children:"Aklama (Opsiyonel)"}),_.jsx("textarea",{value:m.description,onChange:ie=>T({...m,description:ie.target.value}),placeholder:"Ksa aklama (mende gsterilir)",rows:"3",style:{width:"100%",padding:"0.75rem",fontSize:"1rem",border:"1px solid #ddd",borderRadius:"6px",boxSizing:"border-box",fontFamily:"inherit",resize:"vertical"}})]}),_.jsxs("div",{style:{marginBottom:"1.25rem"},children:[_.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#333"},children:["Grsel ",!w&&"(Opsiyonel)"]}),_.jsx("input",{type:"file",accept:"image/*",onChange:I,style:{width:"100%",padding:"0.5rem",fontSize:"0.9375rem",border:"1px solid #ddd",borderRadius:"6px",boxSizing:"border-box"}}),m.imagePreview&&_.jsx("div",{style:{marginTop:"0.75rem",width:"100%",maxWidth:"200px",borderRadius:"8px",overflow:"hidden",border:"1px solid #e2e8f0"},children:_.jsx("img",{src:m.imagePreview,alt:"nizleme",style:{width:"100%",height:"auto",display:"block"}})}),_.jsx("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.8125rem",color:"#64748b"},children:"Maksimum 2MB, JPG, PNG veya WebP formatnda"})]}),R&&_.jsx("div",{style:{padding:"0.75rem",background:"#fee",border:"1px solid #fcc",borderRadius:"6px",color:"#c33",marginBottom:"1rem",fontSize:"0.875rem"},children:R}),_.jsxs("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end"},children:[_.jsx(Pr,{type:"button",variant:"secondary",onClick:ve,disabled:E,style:{fontSize:d?"0.9375rem":"1rem"},children:"ptal"}),_.jsx(Pr,{type:"submit",variant:"primary",disabled:E,style:{fontSize:d?"0.9375rem":"1rem"},children:E?" Kaydediliyor...":w?" Kaydet":" Ekle"})]})]})]})})]})})})}function p8(){const{business:t}=zo(),[e,n]=B.useState(!0),[a,l]=B.useState(!1),[s,c]=B.useState(!1),[d,f]=B.useState({name:"",phone:"",email:"",slug:""}),[h,y]=B.useState(null),[w,A]=B.useState(null),[m,T]=B.useState(!1),[E,L]=B.useState(""),[R,D]=B.useState("");B.useEffect(()=>{const X=()=>{c(window.innerWidth<768)};return X(),window.addEventListener("resize",X),()=>window.removeEventListener("resize",X)},[]),B.useEffect(()=>{t&&(f({name:t.name||"",phone:t.phone||"",email:t.email||"",slug:t.slug||""}),t.logo_url&&A(t.logo_url),n(!1))},[t]);const M=X=>{const de=X.target.files?.[0];if(de){if(de.size>2*1024*1024){L("Logo boyutu 2MB'dan kk olmaldr");return}if(!de.type.startsWith("image/")){L("Ltfen bir grsel dosyas sein");return}y(de),A(URL.createObjectURL(de)),L("")}},W=async()=>{if(!h||!t)return null;try{const de=`logo.${h.name.split(".").pop()}`,he=`${t.id}/${de}`,{error:_e}=await st.storage.from("product-images").upload(he,h,{cacheControl:"3600",upsert:!0});if(_e)throw _e;const{data:{publicUrl:ve}}=st.storage.from("product-images").getPublicUrl(he);return ve}catch(X){throw console.error("Logo upload error:",X),new Error("Logo yklenirken hata olutu: "+X.message)}},ue=async()=>{if(t?.logo_url)try{if(l(!0),L(""),D(""),t.logo_url){const de=t.logo_url.split("/"),he=de[de.length-1],_e=`${t.id}/${he}`,{error:ve}=await st.storage.from("product-images").remove([_e]);ve&&console.warn("Logo storage silme hatas (devam ediliyor):",ve)}const{error:X}=await st.from("businesses").update({logo_url:null}).eq("id",t.id);if(X)throw X;D("Logo baaryla silindi!"),A(null),y(null),setTimeout(()=>{window.location.reload()},1e3)}catch(X){L(X.message||"Logo silinirken hata olutu"),console.error("Logo delete error:",X)}finally{l(!1)}},ce=async X=>{if(X.preventDefault(),L(""),D(""),l(!0),T(!1),!d.name.trim()){L("letme ad gerekli"),l(!1);return}if(!d.slug.trim()){L("URL slug gerekli"),l(!1);return}if(!/^[a-z0-9-]+$/.test(d.slug.trim())){L("URL slug sadece kk harf, say ve tire ierebilir"),l(!1);return}try{let he=t?.logo_url||null;if(h){if(T(!0),t?.logo_url)try{const I=t.logo_url.split("/"),k=I[I.length-1],P=`${t.id}/${k}`;await st.storage.from("product-images").remove([P])}catch(I){console.warn("Eski logo silme hatas (devam ediliyor):",I)}he=await W(),T(!1)}const _e={name:d.name.trim(),phone:d.phone.trim()||null,email:d.email.trim()||null,slug:d.slug.trim().toLowerCase()};he&&(_e.logo_url=he);const{error:ve}=await st.from("businesses").update(_e).eq("id",t.id);if(ve)throw ve;D("Ayarlar baaryla kaydedildi!"),y(null),window.location.reload()}catch(he){L(he.message||"Ayarlar kaydedilirken hata olutu"),console.error("Settings save error:",he),T(!1)}finally{l(!1)}},Z=()=>t?.slug?`https://www.osman25dem2.workers.dev/${t.slug}`:null,ee=()=>t?.slug?`https://qr-menum.github.io/${t.slug}`:null,q=Z(),fe=ee();B.useEffect(()=>{if(t?.id&&t?.slug&&(t.qr_url!==q||t.main_url!==fe)){const X={};q&&t.qr_url!==q&&(X.qr_url=q),fe&&t.main_url!==fe&&(X.main_url=fe),Object.keys(X).length>0&&st.from("businesses").update(X).eq("id",t.id).then(({error:de})=>{de?console.error("URL kaydetme hatas:",de):console.log("URL'ler gncellendi:",X)})}},[t?.id,t?.slug,q,fe]);const z=q?`https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=${encodeURIComponent(q)}`:null,Y=()=>{fe&&(navigator.clipboard.writeText(fe),D(" Link kopyaland!"),setTimeout(()=>D(""),3e3))},se=()=>{q&&(navigator.clipboard.writeText(q),D(" QR URL kopyaland!"),setTimeout(()=>D(""),3e3))},oe=()=>{fe&&(navigator.clipboard.writeText(fe),D(" Ana URL kopyaland!"),setTimeout(()=>D(""),3e3))},Ee=()=>{if(z){const X=document.createElement("a");X.href=z,X.download=`qr-menu-${t?.slug||"menu"}.png`,document.body.appendChild(X),X.click(),document.body.removeChild(X)}};return e?_.jsx(_a,{children:_.jsx(Fa,{message:"Ayarlar ykleniyor..."})}):_.jsx(_a,{children:_.jsxs("div",{children:[_.jsx("h1",{style:{margin:0,marginBottom:s?"1.5rem":"2rem",fontSize:s?"1.5rem":"2rem",color:"#1e293b"},children:" Ayarlar"}),_.jsxs("div",{style:{display:"grid",gridTemplateColumns:s?"1fr":"2fr 1fr",gap:s?"1.5rem":"2rem"},children:[_.jsx("div",{children:_.jsxs("div",{style:{background:"white",padding:s?"1.5rem":"2rem",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",marginBottom:s?"1.5rem":"2rem"},children:[_.jsx("h2",{style:{margin:"0 0 1.5rem 0",fontSize:s?"1.25rem":"1.5rem",color:"#1e293b"},children:" letme Bilgileri"}),_.jsxs("form",{onSubmit:ce,children:[_.jsx(Xs,{label:"letme Ad",type:"text",value:d.name,onChange:X=>f({...d,name:X.target.value}),placeholder:"rn: Can Erzurum",required:!0,style:{marginBottom:"1.25rem"}}),_.jsx(Xs,{label:"Telefon",type:"tel",value:d.phone,onChange:X=>f({...d,phone:X.target.value}),placeholder:"0442 123 45 67",style:{marginBottom:"1.25rem"}}),_.jsx(Xs,{label:"E-posta",type:"email",value:d.email,onChange:X=>f({...d,email:X.target.value}),placeholder:"info@isletme.com",style:{marginBottom:"1.25rem"}}),_.jsx(Xs,{label:"URL Slug",type:"text",value:d.slug,onChange:X=>f({...d,slug:X.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"")}),placeholder:"can-erzurum",required:!0,style:{marginBottom:"1.25rem"}}),_.jsxs("p",{style:{margin:"-1rem 0 1.25rem 0",fontSize:"0.8125rem",color:"#64748b"},children:["Men URL'i: /menu/",d.slug||"slug"]}),_.jsxs("div",{style:{marginBottom:"1.25rem"},children:[_.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#333",fontSize:"0.9375rem"},children:" letme Logosu"}),w&&_.jsxs("div",{style:{marginBottom:"1rem",display:"flex",alignItems:"center",gap:"1rem",flexWrap:"wrap"},children:[_.jsx("img",{src:w,alt:"Logo Preview",style:{maxWidth:"120px",maxHeight:"120px",width:"auto",height:"auto",objectFit:"contain",display:"block"}}),_.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[h&&_.jsx("button",{type:"button",onClick:()=>{y(null),A(t?.logo_url||null)},style:{padding:"0.5rem 1rem",background:"#fee",border:"1px solid #fcc",borderRadius:"6px",color:"#c33",cursor:"pointer",fontSize:"0.875rem"},children:" ptal"}),!h&&t?.logo_url&&_.jsx("button",{type:"button",onClick:ue,disabled:a,style:{padding:"0.5rem 1rem",background:"#fee",border:"1px solid #fcc",borderRadius:"6px",color:"#c33",cursor:a?"not-allowed":"pointer",fontSize:"0.875rem",opacity:a?.6:1},children:" Logoyu Sil"})]})]}),_.jsxs("label",{style:{display:"inline-block",padding:"0.75rem 1.5rem",background:"#f8fafc",border:"2px dashed #cbd5e1",borderRadius:"8px",cursor:"pointer",fontSize:"0.9375rem",color:"#475569",transition:"all 0.2s",textAlign:"center",width:"100%"},onMouseEnter:X=>{X.currentTarget.style.background="#f1f5f9",X.currentTarget.style.borderColor="#94a3b8"},onMouseLeave:X=>{X.currentTarget.style.background="#f8fafc",X.currentTarget.style.borderColor="#cbd5e1"},children:[w?" Logoyu Deitir":" Logo Ykle",_.jsx("input",{type:"file",accept:"image/*",onChange:M,style:{display:"none"}})]}),_.jsx("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.8125rem",color:"#64748b"},children:"Maksimum 2MB, PNG, JPG veya WebP formatnda"})]}),_.jsxs("div",{style:{marginBottom:"1.25rem"},children:[_.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#333",fontSize:"0.9375rem"},children:"QR URL (Kalc Domain)"}),_.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"stretch"},children:[_.jsx("input",{type:"text",value:q,readOnly:!0,style:{flex:1,padding:"0.75rem",border:"1px solid #e2e8f0",borderRadius:"6px",fontSize:"0.875rem",fontFamily:"monospace",background:"#f8fafc",wordBreak:"break-all",cursor:"not-allowed"}}),_.jsx(Pr,{onClick:se,variant:"primary",style:{padding:"0.75rem 1rem",fontSize:"0.875rem",whiteSpace:"nowrap"},children:""})]}),_.jsx("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.8125rem",color:"#64748b"},children:"QR kod iin kullanlacak kalc domain (sistemden otomatik gelir)"})]}),_.jsxs("div",{style:{marginBottom:"1.25rem"},children:[_.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#333",fontSize:"0.9375rem"},children:"Ana URL"}),_.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"stretch"},children:[_.jsx("input",{type:"text",value:fe,readOnly:!0,style:{flex:1,padding:"0.75rem",border:"1px solid #e2e8f0",borderRadius:"6px",fontSize:"0.875rem",fontFamily:"monospace",background:"#f8fafc",wordBreak:"break-all",cursor:"not-allowed"}}),_.jsx(Pr,{onClick:oe,variant:"primary",style:{padding:"0.75rem 1rem",fontSize:"0.875rem",whiteSpace:"nowrap"},children:""})]}),_.jsx("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.8125rem",color:"#64748b"},children:"QR URL'den ynlendirilecek ana domain (sistemden otomatik gelir)"})]}),E&&_.jsx("div",{style:{padding:"0.75rem",background:"#fee",border:"1px solid #fcc",borderRadius:"6px",color:"#c33",marginBottom:"1rem",fontSize:"0.875rem"},children:E}),R&&_.jsx("div",{style:{padding:"0.75rem",background:"#d4edda",border:"1px solid #c3e6cb",borderRadius:"6px",color:"#155724",marginBottom:"1rem",fontSize:"0.875rem"},children:R}),_.jsx(Pr,{type:"submit",variant:"primary",disabled:a||m,style:{fontSize:s?"0.9375rem":"1rem",padding:s?"0.75rem 1.5rem":"0.875rem 2rem"},children:m?" Logo ykleniyor...":a?" Kaydediliyor...":" Kaydet"})]})]})}),_.jsx("div",{children:_.jsxs("div",{style:{background:"white",padding:s?"1.5rem":"2rem",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",position:s?"relative":"sticky",top:s?"auto":"2rem"},children:[_.jsx("h2",{style:{margin:"0 0 1.5rem 0",fontSize:s?"1.25rem":"1.5rem",color:"#1e293b"},children:" QR Kod"}),q&&z?_.jsxs(_.Fragment,{children:[_.jsx("div",{style:{background:"#f8fafc",padding:"1.5rem",borderRadius:"12px",textAlign:"center",marginBottom:"1.5rem",border:"2px dashed #e2e8f0"},children:z&&_.jsx("img",{src:z,alt:"QR Code",style:{width:"100%",maxWidth:"250px",height:"auto",margin:"0 auto",display:"block"}})}),fe&&_.jsxs("div",{style:{marginBottom:"1.5rem"},children:[_.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#333",fontSize:"0.9375rem"},children:"Men Linki"}),_.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"stretch"},children:[_.jsx("input",{type:"text",value:fe,readOnly:!0,style:{flex:1,padding:"0.75rem",border:"1px solid #e2e8f0",borderRadius:"6px",fontSize:"0.875rem",fontFamily:"monospace",background:"#f8fafc",wordBreak:"break-all"}}),_.jsx(Pr,{onClick:Y,variant:"primary",style:{padding:"0.75rem 1rem",fontSize:"0.875rem",whiteSpace:"nowrap"},children:""})]})]}),_.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[_.jsx(Pr,{onClick:Ee,variant:"secondary",style:{width:"100%",fontSize:s?"0.9375rem":"1rem"},children:" QR Kodu ndir"}),fe&&_.jsx("a",{href:fe,target:"_blank",rel:"noopener noreferrer",style:{display:"block",width:"100%",textDecoration:"none"},children:_.jsx(Pr,{variant:"primary",style:{width:"100%",fontSize:s?"0.9375rem":"1rem"},children:" Meny Grntle"})})]}),_.jsxs("div",{style:{marginTop:"1.5rem",padding:"1rem",background:"#e7f3ff",borderRadius:"8px",fontSize:"0.875rem",color:"#1e40af",lineHeight:"1.6"},children:[_.jsx("strong",{children:" pucu:"})," Bu QR kodu masalara yerletirebilirsiniz. Mteriler QR kodu okutarak menye eriebilir."]})]}):_.jsx("div",{style:{padding:"2rem",textAlign:"center",color:"#64748b"},children:_.jsx("p",{children:"QR URL ayarlanmad. Ltfen sol taraftan QR URL'i kaydedin."})})]})})]})]})})}function g8(){const{business:t}=zo(),[e,n]=B.useState("new"),[a,l]=B.useState(!1),[s,c]=B.useState(""),[d,f]=B.useState([]),[h,y]=B.useState(!1),[w,A]=B.useState(!0),[m,T]=B.useState(null);B.useEffect(()=>{if(!t?.id){y(!1),A(!1);return}if(!w)return;(async()=>{try{y(!0),console.log(" Fetching ALL orders from Supabase...");const{data:ee,error:q}=await st.from("orders").select(`
            *,
            order_items (
              id,
              product_name,
              product_price,
              quantity,
              notes,
              subtotal
            )
          `).eq("business_id",t.id).order("created_at",{ascending:!1});if(q)throw q;console.log(" ALL Orders fetched from Supabase:",ee?.length||0,"orders"),f(ee||[]),T(null)}catch(ee){console.error(" Fetch ALL orders error:",ee),f([]),T(ee.message)}finally{y(!1),A(!1)}})()},[t?.id,w]),B.useEffect(()=>{if(!t?.id)return;const Z=st.channel(`orders-all:${t.id}`).on("postgres_changes",{event:"*",schema:"public",table:"orders",filter:`business_id=eq.${t.id}`},async ee=>{if(console.log(" Order changed (Realtime):",ee.eventType,ee.new?.id||ee.old?.id),ee.eventType==="INSERT"){const{data:q,error:fe}=await st.from("orders").select(`
                *,
                order_items (
                  id,
                  product_name,
                  product_price,
                  quantity,
                  notes,
                  subtotal
                )
              `).eq("id",ee.new.id).single();q&&!fe&&f(z=>z.find(se=>se.id===q.id)?z.map(se=>se.id===q.id?q:se):[q,...z])}else if(ee.eventType==="UPDATE"){const{data:q,error:fe}=await st.from("orders").select(`
                *,
                order_items (
                  id,
                  product_name,
                  product_price,
                  quantity,
                  notes,
                  subtotal
                )
              `).eq("id",ee.new.id).single();q&&!fe&&f(z=>z.find(se=>se.id===q.id)?z.map(se=>se.id===q.id?q:se):[q,...z])}else ee.eventType==="DELETE"&&f(q=>q.filter(fe=>fe.id!==ee.old.id))}).subscribe();return()=>{st.removeChannel(Z)}},[t?.id]),B.useEffect(()=>{const Z=()=>{l(window.innerWidth<768)};return Z(),window.addEventListener("resize",Z),()=>window.removeEventListener("resize",Z)},[]);const E=(Z=new Date)=>new Date(Z.toLocaleString("en-US",{timeZone:"Europe/Istanbul"}));B.useEffect(()=>{const Z=()=>{const q=E();c(q.toLocaleString("tr-TR",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}))};Z();const ee=setInterval(Z,1e3);return()=>clearInterval(ee)},[]);const L=async(Z,ee)=>{try{let q=null;if(ee==="accept"?q="preparing":ee==="ready"?q="delivering":ee==="delivered"?q="completed":ee==="cancel"&&(q="cancelled"),!q)return;const fe={status:q,updated_at:new Date().toISOString()};q==="completed"&&(fe.completed_at=new Date().toISOString(),fe.payment_status="pending");const{error:z}=await st.from("orders").update(fe).eq("id",Z);if(z)throw z;q==="delivering"&&setTimeout(async()=>{const{data:Y}=await st.from("orders").select("status").eq("id",Z).single();Y&&Y.status==="delivering"&&await st.from("orders").update({status:"completed",completed_at:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",Z)},180*1e3)}catch(q){console.error("Order status update error:",q),alert(" Sipari durumu gncellenirken hata olutu!")}},R=Z=>({pending:"#f59e0b",preparing:"#8b5cf6",delivering:"#3b82f6",completed:"#10b981",cancelled:"#ef4444"})[Z]||"#64748b",D=Z=>({pending:"Beklemede",preparing:"Hazrlanyor",delivering:"Sipari Geliyor",completed:"Tamamland",cancelled:"ptal Edildi"})[Z]||Z,M=Z=>{const ee=[];return Z.status==="pending"?ee.push({label:"Kabul Et",action:"accept",color:"#10b981",icon:""},{label:"ptal Et",action:"cancel",color:"#ef4444",icon:""}):Z.status==="preparing"?ee.push({label:"Sipari Hazr",action:"ready",color:"#10b981",icon:""},{label:"ptal Et",action:"cancel",color:"#ef4444",icon:""}):Z.status==="delivering"?ee.push({label:"Sipari Tamamland",action:"delivered",color:"#10b981",icon:""}):Z.status==="completed"||Z.status,ee},W=Z=>{const ee=new Date(Z),q=new Date(ee.toLocaleString("en-US",{timeZone:"Europe/Istanbul"})),fe=String(q.getDate()).padStart(2,"0"),z=String(q.getMonth()+1).padStart(2,"0"),Y=q.getFullYear(),se=String(q.getHours()).padStart(2,"0"),oe=String(q.getMinutes()).padStart(2,"0");return`${fe}/${z}/${Y} ${se}.${oe}`},ue=e==="new"?d.filter(Z=>Z.status==="pending"||Z.status==="preparing"||Z.status==="delivering"):e==="preparing"?d.filter(Z=>Z.status==="preparing"):e==="delivering"?d.filter(Z=>Z.status==="delivering"):e==="completed"?d.filter(Z=>Z.status==="completed"):e==="cancelled"?d.filter(Z=>Z.status==="cancelled"):[];if(m&&w)return _.jsx(_a,{children:_.jsx("div",{style:{background:"white",padding:"2rem",borderRadius:"8px",textAlign:"center",color:"#ef4444"},children:_.jsxs("p",{children:[" Hata: ",m]})})});const ce={new:d.filter(Z=>Z.status==="pending"||Z.status==="preparing"||Z.status==="delivering").length,preparing:d.filter(Z=>Z.status==="preparing").length,delivering:d.filter(Z=>Z.status==="delivering").length,completed:d.filter(Z=>Z.status==="completed").length,cancelled:d.filter(Z=>Z.status==="cancelled").length};return _.jsx(_a,{children:_.jsxs("div",{children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:a?"1.5rem":"2rem",flexWrap:"wrap",gap:"1rem"},children:[_.jsx("h1",{style:{margin:0,fontSize:a?"1.5rem":"2rem",color:"#1e293b"},children:" Sipariler"}),s&&_.jsxs("div",{style:{padding:"0.5rem 1rem",background:"linear-gradient(135deg, #0f172a 0%, #1e293b 100%)",borderRadius:"8px",color:"white",fontSize:a?"0.75rem":"0.875rem",fontWeight:"500",boxShadow:"0 2px 4px rgba(15, 23, 42, 0.3)",border:"1px solid #334155"},children:[" ",s]})]}),_.jsxs("div",{style:{display:"grid",gridTemplateColumns:a?"repeat(2, 1fr)":"repeat(auto-fit, minmax(150px, 1fr))",gap:a?"1rem":"1.5rem",marginBottom:a?"1.5rem":"2rem"},children:[_.jsx(xd,{title:"Sipariler",value:ce.new,color:"#f59e0b",isMobile:a}),_.jsx(xd,{title:"Hazrlanyor",value:ce.preparing,color:"#8b5cf6",isMobile:a}),_.jsx(xd,{title:"Sipari Geliyor",value:ce.delivering,color:"#3b82f6",isMobile:a}),_.jsx(xd,{title:"Tamamland",value:ce.completed,color:"#10b981",isMobile:a}),_.jsx(xd,{title:"ptal Edildi",value:ce.cancelled,color:"#ef4444",isMobile:a})]}),_.jsxs("div",{style:{background:"white",padding:a?"0.75rem":"1rem",borderRadius:"8px",marginBottom:a?"1.5rem":"2rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[_.jsxs("button",{onClick:()=>n("new"),style:{padding:a?"0.625rem 1rem":"0.75rem 1.5rem",background:e==="new"?"#f59e0b":"#f1f5f9",color:e==="new"?"white":"#1e293b",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:a?"0.875rem":"0.9375rem",fontWeight:"600",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"0.5rem"},children:[" Sipariler",ce.new>0&&_.jsx("span",{style:{background:e==="new"?"rgba(255,255,255,0.3)":"#f59e0b",color:"white",padding:"0.125rem 0.5rem",borderRadius:"12px",fontSize:"0.75rem",fontWeight:"600"},children:ce.new})]}),_.jsxs("button",{onClick:()=>n("preparing"),style:{padding:a?"0.625rem 1rem":"0.75rem 1.5rem",background:e==="preparing"?"#8b5cf6":"#f1f5f9",color:e==="preparing"?"white":"#1e293b",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:a?"0.875rem":"0.9375rem",fontWeight:"600",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"0.5rem"},children:[" Hazrlanyor",ce.preparing>0&&_.jsx("span",{style:{background:e==="preparing"?"rgba(255,255,255,0.3)":"#8b5cf6",color:"white",padding:"0.125rem 0.5rem",borderRadius:"12px",fontSize:"0.75rem",fontWeight:"600"},children:ce.preparing})]}),_.jsxs("button",{onClick:()=>n("delivering"),style:{padding:a?"0.625rem 1rem":"0.75rem 1.5rem",background:e==="delivering"?"#3b82f6":"#f1f5f9",color:e==="delivering"?"white":"#1e293b",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:a?"0.875rem":"0.9375rem",fontWeight:"600",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"0.5rem"},children:[" Sipari Geliyor",ce.delivering>0&&_.jsx("span",{style:{background:e==="delivering"?"rgba(255,255,255,0.3)":"#3b82f6",color:"white",padding:"0.125rem 0.5rem",borderRadius:"12px",fontSize:"0.75rem",fontWeight:"600"},children:ce.delivering})]}),_.jsxs("button",{onClick:()=>n("completed"),style:{padding:a?"0.625rem 1rem":"0.75rem 1.5rem",background:e==="completed"?"#10b981":"#f1f5f9",color:e==="completed"?"white":"#1e293b",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:a?"0.875rem":"0.9375rem",fontWeight:"600",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"0.5rem"},children:[" Tamamland",ce.completed>0&&_.jsx("span",{style:{background:e==="completed"?"rgba(255,255,255,0.3)":"#10b981",color:"white",padding:"0.125rem 0.5rem",borderRadius:"12px",fontSize:"0.75rem",fontWeight:"600"},children:ce.completed})]}),_.jsxs("button",{onClick:()=>n("cancelled"),style:{padding:a?"0.625rem 1rem":"0.75rem 1.5rem",background:e==="cancelled"?"#ef4444":"#f1f5f9",color:e==="cancelled"?"white":"#1e293b",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:a?"0.875rem":"0.9375rem",fontWeight:"600",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"0.5rem"},children:[" ptal Edildi",ce.cancelled>0&&_.jsx("span",{style:{background:e==="cancelled"?"rgba(255,255,255,0.3)":"#ef4444",color:"white",padding:"0.125rem 0.5rem",borderRadius:"12px",fontSize:"0.75rem",fontWeight:"600"},children:ce.cancelled})]})]}),h&&w?_.jsx(Fa,{message:"Sipariler ykleniyor..."}):ue.length===0?_.jsx("div",{style:{background:"white",padding:"3rem",borderRadius:"8px",textAlign:"center",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:_.jsxs("p",{style:{color:"#64748b",fontSize:a?"1rem":"1.125rem"},children:[e==="new"&&" Henz sipari yok",e==="preparing"&&" Henz hazrlanan sipari yok",e==="delivering"&&" Henz gelmekte olan sipari yok",e==="completed"&&" Henz tamamlanan sipari yok",e==="cancelled"&&" Henz iptal edilen sipari yok"]})}):_.jsx("div",{style:{display:"grid",gridTemplateColumns:a?"1fr":"repeat(auto-fill, minmax(350px, 1fr))",gap:a?"1rem":"1.5rem"},children:ue.map(Z=>_.jsx(m8,{order:Z,isMobile:a,selectedTab:e,getStatusColor:R,getStatusLabel:D,getStatusButtons:M,updateOrderStatus:L,formatDate:W},Z.id))})]})})}function m8({order:t,isMobile:e,selectedTab:n,getStatusColor:a,getStatusLabel:l,getStatusButtons:s,updateOrderStatus:c,formatDate:d}){const f=s(t),[h,y]=B.useState(!1),w=t.order_items?.slice(0,3)||[],A=t.order_items?.slice(3)||[],m=A.length>0,T=()=>{const E=t.status;return E==="pending"?"#fffef7":E==="preparing"?"#fefaff":E==="delivering"?"#f8fbff":E==="completed"?"#f5fef7":E==="cancelled"?"#fff8f8":"white"};return _.jsxs("div",{style:{background:T(),padding:e?"1rem":"1.5rem",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",borderLeft:`4px solid ${a(t.status)}`},children:[_.jsxs("div",{style:{display:"flex",flexDirection:e?"column":"row",justifyContent:"space-between",alignItems:e?"flex-start":"center",marginBottom:"1rem",gap:e?"0.75rem":0},children:[_.jsxs("div",{style:{flex:1},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",flexWrap:"wrap"},children:[_.jsxs("h3",{style:{margin:0,fontSize:e?"1.125rem":"1.25rem",color:"#1e293b"},children:[" Sipari #",t.id.slice(0,8)]}),_.jsx("span",{style:{padding:"0.25rem 0.75rem",background:`${a(t.status)}20`,color:a(t.status),borderRadius:"6px",fontSize:e?"0.75rem":"0.875rem",fontWeight:"600"},children:l(t.status)})]}),_.jsxs("p",{style:{margin:"0.5rem 0 0 0",color:"#64748b",fontSize:e?"0.75rem":"0.875rem"},children:[" ",d(t.created_at)]}),t.table_number&&_.jsxs("div",{style:{marginTop:"0.5rem",display:"inline-block",padding:"0.25rem 0.75rem",background:"linear-gradient(135deg, #9333ea 0%, #7c3aed 100%)",color:"white",borderRadius:"6px",fontSize:e?"0.75rem":"0.8125rem",fontWeight:"600",boxShadow:"0 2px 6px rgba(147, 51, 234, 0.4)"},children:[" Masa ",t.table_number]})]}),_.jsxs("div",{style:{fontSize:e?"0.875rem":"1rem",fontWeight:"500",color:"#64748b",textAlign:"right"},children:[_.jsx("div",{style:{fontSize:e?"0.75rem":"0.8125rem",color:"#94a3b8"},children:"Toplam"}),_.jsxs("div",{style:{marginTop:"0.25rem"},children:["",parseFloat(t.total_amount).toFixed(2)]})]})]}),t.order_items&&t.order_items.length>0&&_.jsxs("div",{style:{marginBottom:"1rem",padding:e?"1rem":"1.25rem",background:"#f8fafc",borderRadius:"8px",border:"1px solid #e2e8f0"},children:[w.map((E,L)=>_.jsxs("div",{style:{padding:L<w.length-1||m?"0.75rem 0":"0.75rem 0 0 0",borderBottom:L<w.length-1||m?"1px solid #cbd5e1":"none"},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[_.jsxs("span",{style:{fontSize:e?"1.25rem":"1.5rem",fontWeight:"bold",color:"#1e293b",minWidth:"2rem",textAlign:"center"},children:[E.quantity,""]}),_.jsx("span",{style:{fontSize:e?"1.125rem":"1.25rem",fontWeight:"700",color:"#1e293b",flex:1},children:E.product_name})]}),_.jsxs("div",{style:{marginLeft:e?"2.5rem":"3rem",marginTop:"0.25rem"},children:[_.jsxs("span",{style:{color:"#94a3b8",fontSize:e?"0.75rem":"0.8125rem",fontWeight:"400"},children:["",parseFloat(E.product_price).toFixed(2),"  ",E.quantity," ="]}),_.jsxs("span",{style:{color:"#64748b",fontSize:e?"0.8125rem":"0.875rem",fontWeight:"500",marginLeft:"0.25rem"},children:["",parseFloat(E.subtotal).toFixed(2)]})]}),E.notes&&_.jsx("div",{style:{marginLeft:e?"2.5rem":"3rem",marginTop:"0.5rem",padding:"0.375rem 0.75rem",background:"#fef3c7",borderRadius:"4px",borderLeft:"3px solid #f59e0b"},children:_.jsxs("p",{style:{margin:0,color:"#92400e",fontSize:e?"0.75rem":"0.8125rem",fontStyle:"italic",fontWeight:"500"},children:[" ",E.notes]})})]},E.id)),m&&_.jsxs(_.Fragment,{children:[!h&&_.jsxs("div",{style:{marginTop:"0.75rem"},children:[_.jsxs("button",{onClick:()=>y(!0),className:"pulse-button",style:{width:"100%",padding:"0.375rem 0.75rem",background:"#c7d2fe",color:"#1e293b",border:"2px solid #6366f1",borderRadius:"6px",cursor:"pointer",fontSize:e?"0.75rem":"0.8125rem",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.375rem",transition:"all 0.3s ease",boxShadow:"0 1px 3px rgba(99, 102, 241, 0.2)",position:"relative",overflow:"hidden",minHeight:"1.875rem",height:"1.875rem"},onMouseEnter:E=>{E.currentTarget.style.background="#6366f1",E.currentTarget.style.color="white",E.currentTarget.style.boxShadow="0 4px 12px rgba(99, 102, 241, 0.4)",E.currentTarget.style.transform="translateY(-1px)";const L=E.currentTarget.querySelector("span:first-child"),R=E.currentTarget.querySelector("span:last-child");L&&(L.style.color="white"),R&&(R.style.color="white")},onMouseLeave:E=>{E.currentTarget.style.background="#c7d2fe",E.currentTarget.style.color="#1e293b",E.currentTarget.style.boxShadow="0 1px 3px rgba(99, 102, 241, 0.2)",E.currentTarget.style.transform="translateY(0)";const L=E.currentTarget.querySelector("span:first-child"),R=E.currentTarget.querySelector("span:last-child");L&&(L.style.color="#1e293b"),R&&(R.style.color="#1e293b")},children:[_.jsx("span",{style:{fontSize:"1.125rem",transition:"all 0.3s ease",display:"inline-block",fontWeight:"bold",animation:"arrowPulse 1.5s ease-in-out infinite",color:"#1e293b"},children:""}),_.jsx("span",{style:{color:"#1e293b",transition:"color 0.3s ease"},children:`+ ${A.length} rn daha`})]}),_.jsx("style",{children:`
                    @keyframes arrowPulse {
                      0%, 100% {
                        opacity: 1;
                        transform: translateY(0) scale(1);
                      }
                      50% {
                        opacity: 0.6;
                        transform: translateY(4px) scale(1.1);
                      }
                    }
                    .pulse-button {
                      animation: backgroundPulse 2s ease-in-out infinite;
                    }
                    @keyframes backgroundPulse {
                      0%, 100% {
                        background-color: #c7d2fe;
                        border-color: #6366f1;
                      }
                      50% {
                        background-color: #a5b4fc;
                        border-color: #818cf8;
                        box-shadow: 0 2px 8px rgba(99, 102, 241, 0.3);
                      }
                    }
                  `})]}),h&&_.jsxs("div",{style:{marginTop:"0.75rem",paddingTop:"0.75rem",borderTop:"2px solid #e2e8f0",animation:"slideDown 0.3s ease"},children:[A.map((E,L)=>_.jsxs("div",{style:{padding:L<A.length-1?"0.75rem 0":"0.75rem 0 0 0",borderBottom:L<A.length-1?"1px solid #cbd5e1":"none"},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[_.jsxs("span",{style:{fontSize:e?"1.25rem":"1.5rem",fontWeight:"bold",color:"#1e293b",minWidth:"2rem",textAlign:"center"},children:[E.quantity,""]}),_.jsx("span",{style:{fontSize:e?"1.125rem":"1.25rem",fontWeight:"700",color:"#1e293b",flex:1},children:E.product_name})]}),_.jsxs("div",{style:{marginLeft:e?"2.5rem":"3rem",marginTop:"0.25rem"},children:[_.jsxs("span",{style:{color:"#94a3b8",fontSize:e?"0.75rem":"0.8125rem",fontWeight:"400"},children:["",parseFloat(E.product_price).toFixed(2),"  ",E.quantity," ="]}),_.jsxs("span",{style:{color:"#64748b",fontSize:e?"0.8125rem":"0.875rem",fontWeight:"500",marginLeft:"0.25rem"},children:["",parseFloat(E.subtotal).toFixed(2)]})]}),E.notes&&_.jsx("div",{style:{marginLeft:e?"2.5rem":"3rem",marginTop:"0.5rem",padding:"0.375rem 0.75rem",background:"#fef3c7",borderRadius:"4px",borderLeft:"3px solid #f59e0b"},children:_.jsxs("p",{style:{margin:0,color:"#92400e",fontSize:e?"0.75rem":"0.8125rem",fontStyle:"italic",fontWeight:"500"},children:[" ",E.notes]})})]},E.id)),_.jsx("div",{style:{marginTop:"0.75rem",paddingTop:"0.75rem",borderTop:"1px solid #cbd5e1"},children:_.jsxs("button",{onClick:()=>y(!1),style:{width:"100%",padding:"0.375rem 0.75rem",background:"transparent",color:"#6366f1",border:"2px solid #6366f1",borderRadius:"6px",cursor:"pointer",fontSize:e?"0.75rem":"0.8125rem",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.375rem",transition:"all 0.3s ease",minHeight:"1.875rem",height:"1.875rem"},onMouseEnter:E=>{E.currentTarget.style.background="#6366f1",E.currentTarget.style.color="white"},onMouseLeave:E=>{E.currentTarget.style.background="transparent",E.currentTarget.style.color="#6366f1"},children:[_.jsx("span",{style:{fontSize:"0.875rem",transform:"rotate(180deg)",transition:"transform 0.2s ease",display:"inline-block"},children:""}),_.jsx("span",{children:"Daha Az Gster"})]})})]})]})]}),t.notes&&_.jsx("div",{style:{marginBottom:"1rem",padding:e?"0.75rem":"1rem",background:"#fef3c7",borderRadius:"6px",borderLeft:"3px solid #f59e0b"},children:_.jsxs("p",{style:{margin:0,color:"#92400e",fontSize:e?"0.875rem":"0.9375rem"},children:[_.jsx("strong",{children:" Not:"})," ",t.notes]})}),f.length>0&&_.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.75rem",marginTop:"1rem"},children:f.map((E,L)=>_.jsxs("button",{onClick:()=>c(t.id,E.action),style:{padding:e?"0.75rem 1.25rem":"0.875rem 1.75rem",background:E.color,color:"white",border:"none",borderRadius:"8px",fontSize:e?"0.875rem":"0.9375rem",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",boxShadow:"0 2px 8px rgba(0,0,0,0.15)",transition:"all 0.2s ease",minWidth:e?"120px":"140px",justifyContent:"center",letterSpacing:"0.01em"},onMouseEnter:R=>{R.currentTarget.style.transform="translateY(-2px)",R.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.25)",R.currentTarget.style.opacity="0.95"},onMouseLeave:R=>{R.currentTarget.style.transform="translateY(0)",R.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.15)",R.currentTarget.style.opacity="1"},onMouseDown:R=>{R.currentTarget.style.transform="translateY(0) scale(0.98)"},onMouseUp:R=>{R.currentTarget.style.transform="translateY(-2px) scale(1)"},children:[E.icon&&_.jsx("span",{style:{fontSize:"1.125rem",lineHeight:1},children:E.icon}),_.jsx("span",{children:E.label})]},`${E.action}-${L}`))})]})}function xd({title:t,value:e,color:n,isMobile:a}){return _.jsxs("div",{style:{background:"white",padding:a?"1rem":"1.5rem",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",borderTop:`3px solid ${n}`},children:[_.jsx("p",{style:{margin:0,color:"#64748b",fontSize:a?"0.75rem":"0.875rem",marginBottom:"0.5rem"},children:t}),_.jsx("p",{style:{margin:0,fontSize:a?"1.5rem":"2rem",fontWeight:"bold",color:"#1e293b"},children:e})]})}function y8(t,e={}){const[n,a]=B.useState([]),[l,s]=B.useState(!0),[c,d]=B.useState(null),{status:f=null,limit:h=null,orderBy:y="created_at",ascending:w=!1}=e;return B.useEffect(()=>{if(!t){s(!1);return}(async()=>{console.log("Fetching orders from Supabase...",{businessId:t,status:f,orderBy:y,ascending:w});try{s(!0),d(null);let T=st.from("orders").select(`
            *,
            order_items (
              id,
              product_name,
              product_price,
              quantity,
              notes,
              subtotal
            )
          `).eq("business_id",t);f&&(T=T.eq("status",f)),T=T.order(y,{ascending:w}),h&&(T=T.limit(h));const{data:E,error:L}=await T;if(L)throw L;a(E||[])}catch(T){d(T.message),console.error("Orders fetch error:",T)}finally{s(!1)}})();const m=st.channel(`orders:${t}`).on("postgres_changes",{event:"*",schema:"public",table:"orders",filter:`business_id=eq.${t}`},T=>{console.log("Realtime order change:",T.eventType,T),T.eventType==="INSERT"&&st.from("orders").select(`
                *,
                order_items (
                  id,
                  product_name,
                  product_price,
                  quantity,
                  notes,
                  subtotal
                )
              `).eq("id",T.new.id).single().then(({data:E,error:L})=>{E&&!L&&a(R=>R.find(M=>M.id===E.id)?R.map(M=>M.id===E.id?E:M):[E,...R])}),T.eventType==="UPDATE"&&st.from("orders").select(`
                *,
                order_items (
                  id,
                  product_name,
                  product_price,
                  quantity,
                  notes,
                  subtotal
                )
              `).eq("id",T.new.id).single().then(({data:E,error:L})=>{E&&!L&&a(R=>R.map(D=>D.id===E.id?E:D))}),T.eventType==="DELETE"&&(console.log("Order deleted from Supabase:",T.old.id),a(E=>{const L=E.filter(R=>R.id!==T.old.id);return console.log("Orders after delete:",L.length,"remaining"),L}))}).subscribe();return()=>{st.removeChannel(m)}},[t,f,h,y,w]),{orders:n,loading:l,error:c}}const v8="modulepreload",b8=function(t){return"/erzurumkafe/"+t},h5={},Lp=function(e,n,a){let l=Promise.resolve();if(n&&n.length>0){let f=function(h){return Promise.all(h.map(y=>Promise.resolve(y).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=c?.nonce||c?.getAttribute("nonce");l=f(n.map(h=>{if(h=b8(h),h in h5)return;h5[h]=!0;const y=h.endsWith(".css"),w=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${w}`))return;const A=document.createElement("link");if(A.rel=y?"stylesheet":v8,y||(A.as="script"),A.crossOrigin="",A.href=h,d&&A.setAttribute("nonce",d),document.head.appendChild(A),y)return new Promise((m,T)=>{A.addEventListener("load",m),A.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return l.then(c=>{for(const d of c||[])d.status==="rejected"&&s(d.reason);return e().catch(s)})};function Ln(t){"@babel/helpers - typeof";return Ln=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ln(t)}var As=Uint8Array,xa=Uint16Array,Vg=Int32Array,Kg=new As([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Xg=new As([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),p5=new As([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Gv=function(t,e){for(var n=new xa(31),a=0;a<31;++a)n[a]=e+=1<<t[a-1];for(var l=new Vg(n[30]),a=1;a<30;++a)for(var s=n[a];s<n[a+1];++s)l[s]=s-n[a]<<5|a;return{b:n,r:l}},Yv=Gv(Kg,2),w8=Yv.b,gg=Yv.r;w8[28]=258,gg[258]=28;var x8=Gv(Xg,0),g5=x8.r,mg=new xa(32768);for(var Zn=0;Zn<32768;++Zn){var yl=(Zn&43690)>>1|(Zn&21845)<<1;yl=(yl&52428)>>2|(yl&13107)<<2,yl=(yl&61680)>>4|(yl&3855)<<4,mg[Zn]=((yl&65280)>>8|(yl&255)<<8)>>1}var Rd=(function(t,e,n){for(var a=t.length,l=0,s=new xa(e);l<a;++l)t[l]&&++s[t[l]-1];var c=new xa(e);for(l=1;l<e;++l)c[l]=c[l-1]+s[l-1]<<1;var d;if(n){d=new xa(1<<e);var f=15-e;for(l=0;l<a;++l)if(t[l])for(var h=l<<4|t[l],y=e-t[l],w=c[t[l]-1]++<<y,A=w|(1<<y)-1;w<=A;++w)d[mg[w]>>f]=h}else for(d=new xa(a),l=0;l<a;++l)t[l]&&(d[l]=mg[c[t[l]-1]++]>>15-t[l]);return d}),hu=new As(288);for(var Zn=0;Zn<144;++Zn)hu[Zn]=8;for(var Zn=144;Zn<256;++Zn)hu[Zn]=9;for(var Zn=256;Zn<280;++Zn)hu[Zn]=7;for(var Zn=280;Zn<288;++Zn)hu[Zn]=8;var Lh=new As(32);for(var Zn=0;Zn<32;++Zn)Lh[Zn]=5;var _8=Rd(hu,9,0),S8=Rd(Lh,5,0),Vv=function(t){return(t+7)/8|0},A8=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new As(t.subarray(e,n))},No=function(t,e,n){n<<=e&7;var a=e/8|0;t[a]|=n,t[a+1]|=n>>8},_d=function(t,e,n){n<<=e&7;var a=e/8|0;t[a]|=n,t[a+1]|=n>>8,t[a+2]|=n>>16},Cp=function(t,e){for(var n=[],a=0;a<t.length;++a)t[a]&&n.push({s:a,f:t[a]});var l=n.length,s=n.slice();if(!l)return{t:Xv,l:0};if(l==1){var c=new As(n[0].s+1);return c[n[0].s]=1,{t:c,l:1}}n.sort(function(ue,ce){return ue.f-ce.f}),n.push({s:-1,f:25001});var d=n[0],f=n[1],h=0,y=1,w=2;for(n[0]={s:-1,f:d.f+f.f,l:d,r:f};y!=l-1;)d=n[n[h].f<n[w].f?h++:w++],f=n[h!=y&&n[h].f<n[w].f?h++:w++],n[y++]={s:-1,f:d.f+f.f,l:d,r:f};for(var A=s[0].s,a=1;a<l;++a)s[a].s>A&&(A=s[a].s);var m=new xa(A+1),T=yg(n[y-1],m,0);if(T>e){var a=0,E=0,L=T-e,R=1<<L;for(s.sort(function(ce,Z){return m[Z.s]-m[ce.s]||ce.f-Z.f});a<l;++a){var D=s[a].s;if(m[D]>e)E+=R-(1<<T-m[D]),m[D]=e;else break}for(E>>=L;E>0;){var M=s[a].s;m[M]<e?E-=1<<e-m[M]++-1:++a}for(;a>=0&&E;--a){var W=s[a].s;m[W]==e&&(--m[W],++E)}T=e}return{t:new As(m),l:T}},yg=function(t,e,n){return t.s==-1?Math.max(yg(t.l,e,n+1),yg(t.r,e,n+1)):e[t.s]=n},m5=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new xa(++e),a=0,l=t[0],s=1,c=function(f){n[a++]=f},d=1;d<=e;++d)if(t[d]==l&&d!=e)++s;else{if(!l&&s>2){for(;s>138;s-=138)c(32754);s>2&&(c(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(c(l),--s;s>6;s-=6)c(8304);s>2&&(c(s-3<<5|8208),s=0)}for(;s--;)c(l);s=1,l=t[d]}return{c:n.subarray(0,a),n:e}},Sd=function(t,e){for(var n=0,a=0;a<e.length;++a)n+=t[a]*e[a];return n},Kv=function(t,e,n){var a=n.length,l=Vv(e+2);t[l]=a&255,t[l+1]=a>>8,t[l+2]=t[l]^255,t[l+3]=t[l+1]^255;for(var s=0;s<a;++s)t[l+s+4]=n[s];return(l+4+a)*8},y5=function(t,e,n,a,l,s,c,d,f,h,y){No(e,y++,n),++l[256];for(var w=Cp(l,15),A=w.t,m=w.l,T=Cp(s,15),E=T.t,L=T.l,R=m5(A),D=R.c,M=R.n,W=m5(E),ue=W.c,ce=W.n,Z=new xa(19),ee=0;ee<D.length;++ee)++Z[D[ee]&31];for(var ee=0;ee<ue.length;++ee)++Z[ue[ee]&31];for(var q=Cp(Z,7),fe=q.t,z=q.l,Y=19;Y>4&&!fe[p5[Y-1]];--Y);var se=h+5<<3,oe=Sd(l,hu)+Sd(s,Lh)+c,Ee=Sd(l,A)+Sd(s,E)+c+14+3*Y+Sd(Z,fe)+2*Z[16]+3*Z[17]+7*Z[18];if(f>=0&&se<=oe&&se<=Ee)return Kv(e,y,t.subarray(f,f+h));var X,de,he,_e;if(No(e,y,1+(Ee<oe)),y+=2,Ee<oe){X=Rd(A,m,0),de=A,he=Rd(E,L,0),_e=E;var ve=Rd(fe,z,0);No(e,y,M-257),No(e,y+5,ce-1),No(e,y+10,Y-4),y+=14;for(var ee=0;ee<Y;++ee)No(e,y+3*ee,fe[p5[ee]]);y+=3*Y;for(var I=[D,ue],k=0;k<2;++k)for(var P=I[k],ee=0;ee<P.length;++ee){var K=P[ee]&31;No(e,y,ve[K]),y+=fe[K],K>15&&(No(e,y,P[ee]>>5&127),y+=P[ee]>>12)}}else X=_8,de=hu,he=S8,_e=Lh;for(var ee=0;ee<d;++ee){var ae=a[ee];if(ae>255){var K=ae>>18&31;_d(e,y,X[K+257]),y+=de[K+257],K>7&&(No(e,y,ae>>23&31),y+=Kg[K]);var V=ae&31;_d(e,y,he[V]),y+=_e[V],V>3&&(_d(e,y,ae>>5&8191),y+=Xg[V])}else _d(e,y,X[ae]),y+=de[ae]}return _d(e,y,X[256]),y+de[256]},E8=new Vg([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Xv=new As(0),T8=function(t,e,n,a,l,s){var c=s.z||t.length,d=new As(a+c+5*(1+Math.ceil(c/7e3))+l),f=d.subarray(a,d.length-l),h=s.l,y=(s.r||0)&7;if(e){y&&(f[0]=s.r>>3);for(var w=E8[e-1],A=w>>13,m=w&8191,T=(1<<n)-1,E=s.p||new xa(32768),L=s.h||new xa(T+1),R=Math.ceil(n/3),D=2*R,M=function(ke){return(t[ke]^t[ke+1]<<R^t[ke+2]<<D)&T},W=new Vg(25e3),ue=new xa(288),ce=new xa(32),Z=0,ee=0,q=s.i||0,fe=0,z=s.w||0,Y=0;q+2<c;++q){var se=M(q),oe=q&32767,Ee=L[se];if(E[oe]=Ee,L[se]=oe,z<=q){var X=c-q;if((Z>7e3||fe>24576)&&(X>423||!h)){y=y5(t,f,0,W,ue,ce,ee,fe,Y,q-Y,y),fe=Z=ee=0,Y=q;for(var de=0;de<286;++de)ue[de]=0;for(var de=0;de<30;++de)ce[de]=0}var he=2,_e=0,ve=m,I=oe-Ee&32767;if(X>2&&se==M(q-I))for(var k=Math.min(A,X)-1,P=Math.min(32767,q),K=Math.min(258,X);I<=P&&--ve&&oe!=Ee;){if(t[q+he]==t[q+he-I]){for(var ae=0;ae<K&&t[q+ae]==t[q+ae-I];++ae);if(ae>he){if(he=ae,_e=I,ae>k)break;for(var V=Math.min(I,ae-2),Q=0,de=0;de<V;++de){var le=q-I+de&32767,ye=E[le],pe=le-ye&32767;pe>Q&&(Q=pe,Ee=le)}}}oe=Ee,Ee=E[oe],I+=oe-Ee&32767}if(_e){W[fe++]=268435456|gg[he]<<18|g5[_e];var Le=gg[he]&31,Me=g5[_e]&31;ee+=Kg[Le]+Xg[Me],++ue[257+Le],++ce[Me],z=q+he,++Z}else W[fe++]=t[q],++ue[t[q]]}}for(q=Math.max(q,z);q<c;++q)W[fe++]=t[q],++ue[t[q]];y=y5(t,f,h,W,ue,ce,ee,fe,Y,q-Y,y),h||(s.r=y&7|f[y/8|0]<<3,y-=7,s.h=L,s.p=E,s.i=q,s.w=z)}else{for(var q=s.w||0;q<c+h;q+=65535){var ie=q+65535;ie>=c&&(f[y/8|0]=h,ie=c),y=Kv(f,y+1,t.subarray(q,ie))}s.i=c}return A8(d,0,a+Vv(y)+l)},Jv=function(){var t=1,e=0;return{p:function(n){for(var a=t,l=e,s=n.length|0,c=0;c!=s;){for(var d=Math.min(c+2655,s);c<d;++c)l+=a+=n[c];a=(a&65535)+15*(a>>16),l=(l&65535)+15*(l>>16)}t=a,e=l},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},k8=function(t,e,n,a,l){if(!l&&(l={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),c=new As(s.length+t.length);c.set(s),c.set(t,s.length),t=c,l.w=s.length}return T8(t,e.level==null?6:e.level,e.mem==null?l.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,a,l)},Zv=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},N8=function(t,e){var n=e.level,a=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=a<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var l=Jv();l.p(e.dictionary),Zv(t,2,l.d())}};function vg(t,e){e||(e={});var n=Jv();n.p(t);var a=k8(t,e,e.dictionary?6:2,4);return N8(a,e),Zv(a,a.length-4,n.d()),a}var L8=typeof TextDecoder<"u"&&new TextDecoder,C8=0;try{L8.decode(Xv,{stream:!0}),C8=1}catch{}function R8(t){if(Array.isArray(t))return t}function j8(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var a,l,s,c,d=[],f=!0,h=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(f=(a=s.call(n)).done)&&(d.push(a.value),d.length!==e);f=!0);}catch(y){h=!0,l=y}finally{try{if(!f&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(h)throw l}}return d}}function v5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,a=Array(e);n<e;n++)a[n]=t[n];return a}function O8(t,e){if(t){if(typeof t=="string")return v5(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v5(t,e):void 0}}function D8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b5(t,e){return R8(t)||j8(t,e)||O8(t,e)||D8()}function w5(t,e="utf8"){return new TextDecoder(e).decode(t)}const B8=new TextEncoder;function z8(t){return B8.encode(t)}const M8=1024*8,I8=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),Rp={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Jg{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=M8,n={}){let a=!1;typeof e=="number"?e=new ArrayBuffer(e):(a=!0,this.lastWrittenByte=e.byteLength);const l=n.offset?n.offset>>>0:0,s=e.byteLength-l;let c=l;(ArrayBuffer.isView(e)||e instanceof Jg)&&(e.byteLength!==e.buffer.byteLength&&(c=e.byteOffset+l),e=e.buffer),a?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=c,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,c,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const a=(this.offset+e)*2,l=new Uint8Array(a);l.set(new Uint8Array(this.buffer)),this.buffer=l.buffer,this.length=a,this.byteLength=a,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const a=Rp[n].BYTES_PER_ELEMENT*e,l=this.byteOffset+this.offset,s=this.buffer.slice(l,l+a);if(this.littleEndian===I8&&n!=="uint8"&&n!=="int8"){const d=new Uint8Array(this.buffer.slice(l,l+a));d.reverse();const f=new Rp[n](d.buffer);return this.offset+=a,f.reverse(),f}const c=new Rp[n](s);return this.offset+=a,c}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let a=0;a<e;a++)n+=this.readChar();return n}readUtf8(e=1){return w5(this.readBytes(e))}decodeText(e=1,n="utf8"){return w5(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(z8(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function zc(t){let e=t.length;for(;--e>=0;)t[e]=0}const P8=3,U8=258,Qv=29,q8=256,F8=q8+1+Qv,eb=30,H8=512,$8=new Array((F8+2)*2);zc($8);const W8=new Array(eb*2);zc(W8);const G8=new Array(H8);zc(G8);const Y8=new Array(U8-P8+1);zc(Y8);const V8=new Array(Qv);zc(V8);const K8=new Array(eb);zc(K8);const X8=(t,e,n,a)=>{let l=t&65535|0,s=t>>>16&65535|0,c=0;for(;n!==0;){c=n>2e3?2e3:n,n-=c;do l=l+e[a++]|0,s=s+l|0;while(--c);l%=65521,s%=65521}return l|s<<16|0};var bg=X8;const J8=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var a=0;a<8;a++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},Z8=new Uint32Array(J8()),Q8=(t,e,n,a)=>{const l=Z8,s=a+n;t^=-1;for(let c=a;c<s;c++)t=t>>>8^l[(t^e[c])&255];return t^-1};var Ys=Q8,wg={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},tb={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const eA=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var tA=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const a in n)eA(n,a)&&(t[a]=n[a])}}return t},nA=t=>{let e=0;for(let a=0,l=t.length;a<l;a++)e+=t[a].length;const n=new Uint8Array(e);for(let a=0,l=0,s=t.length;a<s;a++){let c=t[a];n.set(c,l),l+=c.length}return n},nb={assign:tA,flattenChunks:nA};let rb=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{rb=!1}const Hd=new Uint8Array(256);for(let t=0;t<256;t++)Hd[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Hd[254]=Hd[254]=1;var rA=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,a,l,s,c=t.length,d=0;for(l=0;l<c;l++)n=t.charCodeAt(l),(n&64512)===55296&&l+1<c&&(a=t.charCodeAt(l+1),(a&64512)===56320&&(n=65536+(n-55296<<10)+(a-56320),l++)),d+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(d),s=0,l=0;s<d;l++)n=t.charCodeAt(l),(n&64512)===55296&&l+1<c&&(a=t.charCodeAt(l+1),(a&64512)===56320&&(n=65536+(n-55296<<10)+(a-56320),l++)),n<128?e[s++]=n:n<2048?(e[s++]=192|n>>>6,e[s++]=128|n&63):n<65536?(e[s++]=224|n>>>12,e[s++]=128|n>>>6&63,e[s++]=128|n&63):(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63,e[s++]=128|n>>>6&63,e[s++]=128|n&63);return e};const iA=(t,e)=>{if(e<65534&&t.subarray&&rb)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let a=0;a<e;a++)n+=String.fromCharCode(t[a]);return n};var aA=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let a,l;const s=new Array(n*2);for(l=0,a=0;a<n;){let c=t[a++];if(c<128){s[l++]=c;continue}let d=Hd[c];if(d>4){s[l++]=65533,a+=d-1;continue}for(c&=d===2?31:d===3?15:7;d>1&&a<n;)c=c<<6|t[a++]&63,d--;if(d>1){s[l++]=65533;continue}c<65536?s[l++]=c:(c-=65536,s[l++]=55296|c>>10&1023,s[l++]=56320|c&1023)}return iA(s,l)},sA=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+Hd[t[n]]>e?n:e},xg={string2buf:rA,buf2string:aA,utf8border:sA};function oA(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var lA=oA;const th=16209,uA=16191;var cA=function(e,n){let a,l,s,c,d,f,h,y,w,A,m,T,E,L,R,D,M,W,ue,ce,Z,ee,q,fe;const z=e.state;a=e.next_in,q=e.input,l=a+(e.avail_in-5),s=e.next_out,fe=e.output,c=s-(n-e.avail_out),d=s+(e.avail_out-257),f=z.dmax,h=z.wsize,y=z.whave,w=z.wnext,A=z.window,m=z.hold,T=z.bits,E=z.lencode,L=z.distcode,R=(1<<z.lenbits)-1,D=(1<<z.distbits)-1;e:do{T<15&&(m+=q[a++]<<T,T+=8,m+=q[a++]<<T,T+=8),M=E[m&R];t:for(;;){if(W=M>>>24,m>>>=W,T-=W,W=M>>>16&255,W===0)fe[s++]=M&65535;else if(W&16){ue=M&65535,W&=15,W&&(T<W&&(m+=q[a++]<<T,T+=8),ue+=m&(1<<W)-1,m>>>=W,T-=W),T<15&&(m+=q[a++]<<T,T+=8,m+=q[a++]<<T,T+=8),M=L[m&D];n:for(;;){if(W=M>>>24,m>>>=W,T-=W,W=M>>>16&255,W&16){if(ce=M&65535,W&=15,T<W&&(m+=q[a++]<<T,T+=8,T<W&&(m+=q[a++]<<T,T+=8)),ce+=m&(1<<W)-1,ce>f){e.msg="invalid distance too far back",z.mode=th;break e}if(m>>>=W,T-=W,W=s-c,ce>W){if(W=ce-W,W>y&&z.sane){e.msg="invalid distance too far back",z.mode=th;break e}if(Z=0,ee=A,w===0){if(Z+=h-W,W<ue){ue-=W;do fe[s++]=A[Z++];while(--W);Z=s-ce,ee=fe}}else if(w<W){if(Z+=h+w-W,W-=w,W<ue){ue-=W;do fe[s++]=A[Z++];while(--W);if(Z=0,w<ue){W=w,ue-=W;do fe[s++]=A[Z++];while(--W);Z=s-ce,ee=fe}}}else if(Z+=w-W,W<ue){ue-=W;do fe[s++]=A[Z++];while(--W);Z=s-ce,ee=fe}for(;ue>2;)fe[s++]=ee[Z++],fe[s++]=ee[Z++],fe[s++]=ee[Z++],ue-=3;ue&&(fe[s++]=ee[Z++],ue>1&&(fe[s++]=ee[Z++]))}else{Z=s-ce;do fe[s++]=fe[Z++],fe[s++]=fe[Z++],fe[s++]=fe[Z++],ue-=3;while(ue>2);ue&&(fe[s++]=fe[Z++],ue>1&&(fe[s++]=fe[Z++]))}}else if((W&64)===0){M=L[(M&65535)+(m&(1<<W)-1)];continue n}else{e.msg="invalid distance code",z.mode=th;break e}break}}else if((W&64)===0){M=E[(M&65535)+(m&(1<<W)-1)];continue t}else if(W&32){z.mode=uA;break e}else{e.msg="invalid literal/length code",z.mode=th;break e}break}}while(a<l&&s<d);ue=T>>3,a-=ue,T-=ue<<3,m&=(1<<T)-1,e.next_in=a,e.next_out=s,e.avail_in=a<l?5+(l-a):5-(a-l),e.avail_out=s<d?257+(d-s):257-(s-d),z.hold=m,z.bits=T};const hc=15,x5=852,_5=592,S5=0,jp=1,A5=2,dA=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),fA=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),hA=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),pA=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),gA=(t,e,n,a,l,s,c,d)=>{const f=d.bits;let h=0,y=0,w=0,A=0,m=0,T=0,E=0,L=0,R=0,D=0,M,W,ue,ce,Z,ee=null,q;const fe=new Uint16Array(hc+1),z=new Uint16Array(hc+1);let Y=null,se,oe,Ee;for(h=0;h<=hc;h++)fe[h]=0;for(y=0;y<a;y++)fe[e[n+y]]++;for(m=f,A=hc;A>=1&&fe[A]===0;A--);if(m>A&&(m=A),A===0)return l[s++]=1<<24|64<<16|0,l[s++]=1<<24|64<<16|0,d.bits=1,0;for(w=1;w<A&&fe[w]===0;w++);for(m<w&&(m=w),L=1,h=1;h<=hc;h++)if(L<<=1,L-=fe[h],L<0)return-1;if(L>0&&(t===S5||A!==1))return-1;for(z[1]=0,h=1;h<hc;h++)z[h+1]=z[h]+fe[h];for(y=0;y<a;y++)e[n+y]!==0&&(c[z[e[n+y]]++]=y);if(t===S5?(ee=Y=c,q=20):t===jp?(ee=dA,Y=fA,q=257):(ee=hA,Y=pA,q=0),D=0,y=0,h=w,Z=s,T=m,E=0,ue=-1,R=1<<m,ce=R-1,t===jp&&R>x5||t===A5&&R>_5)return 1;for(;;){se=h-E,c[y]+1<q?(oe=0,Ee=c[y]):c[y]>=q?(oe=Y[c[y]-q],Ee=ee[c[y]-q]):(oe=96,Ee=0),M=1<<h-E,W=1<<T,w=W;do W-=M,l[Z+(D>>E)+W]=se<<24|oe<<16|Ee|0;while(W!==0);for(M=1<<h-1;D&M;)M>>=1;if(M!==0?(D&=M-1,D+=M):D=0,y++,--fe[h]===0){if(h===A)break;h=e[n+c[y]]}if(h>m&&(D&ce)!==ue){for(E===0&&(E=m),Z+=w,T=h-E,L=1<<T;T+E<A&&(L-=fe[T+E],!(L<=0));)T++,L<<=1;if(R+=1<<T,t===jp&&R>x5||t===A5&&R>_5)return 1;ue=D&ce,l[ue]=m<<24|T<<16|Z-s|0}}return D!==0&&(l[Z+D]=h-E<<24|64<<16|0),d.bits=m,0};var jd=gA;const mA=0,ib=1,ab=2,{Z_FINISH:E5,Z_BLOCK:yA,Z_TREES:nh,Z_OK:pu,Z_STREAM_END:vA,Z_NEED_DICT:bA,Z_STREAM_ERROR:$a,Z_DATA_ERROR:sb,Z_MEM_ERROR:ob,Z_BUF_ERROR:wA,Z_DEFLATED:T5}=tb,Vh=16180,k5=16181,N5=16182,L5=16183,C5=16184,R5=16185,j5=16186,O5=16187,D5=16188,B5=16189,Ch=16190,Lo=16191,Op=16192,z5=16193,Dp=16194,M5=16195,I5=16196,P5=16197,U5=16198,rh=16199,ih=16200,q5=16201,F5=16202,H5=16203,$5=16204,W5=16205,Bp=16206,G5=16207,Y5=16208,rr=16209,lb=16210,ub=16211,xA=852,_A=592,SA=15,AA=SA,V5=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function EA(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const gu=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Vh||e.mode>ub?1:0},cb=t=>{if(gu(t))return $a;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Vh,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(xA),e.distcode=e.distdyn=new Int32Array(_A),e.sane=1,e.back=-1,pu},db=t=>{if(gu(t))return $a;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,cb(t)},fb=(t,e)=>{let n;if(gu(t))return $a;const a=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?$a:(a.window!==null&&a.wbits!==e&&(a.window=null),a.wrap=n,a.wbits=e,db(t))},hb=(t,e)=>{if(!t)return $a;const n=new EA;t.state=n,n.strm=t,n.window=null,n.mode=Vh;const a=fb(t,e);return a!==pu&&(t.state=null),a},TA=t=>hb(t,AA);let K5=!0,zp,Mp;const kA=t=>{if(K5){zp=new Int32Array(512),Mp=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(jd(ib,t.lens,0,288,zp,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;jd(ab,t.lens,0,32,Mp,0,t.work,{bits:5}),K5=!1}t.lencode=zp,t.lenbits=9,t.distcode=Mp,t.distbits=5},pb=(t,e,n,a)=>{let l;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),a>=s.wsize?(s.window.set(e.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(l=s.wsize-s.wnext,l>a&&(l=a),s.window.set(e.subarray(n-a,n-a+l),s.wnext),a-=l,a?(s.window.set(e.subarray(n-a,n),0),s.wnext=a,s.whave=s.wsize):(s.wnext+=l,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=l))),0},NA=(t,e)=>{let n,a,l,s,c,d,f,h,y,w,A,m,T,E,L=0,R,D,M,W,ue,ce,Z,ee;const q=new Uint8Array(4);let fe,z;const Y=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(gu(t)||!t.output||!t.input&&t.avail_in!==0)return $a;n=t.state,n.mode===Lo&&(n.mode=Op),c=t.next_out,l=t.output,f=t.avail_out,s=t.next_in,a=t.input,d=t.avail_in,h=n.hold,y=n.bits,w=d,A=f,ee=pu;e:for(;;)switch(n.mode){case Vh:if(n.wrap===0){n.mode=Op;break}for(;y<16;){if(d===0)break e;d--,h+=a[s++]<<y,y+=8}if(n.wrap&2&&h===35615){n.wbits===0&&(n.wbits=15),n.check=0,q[0]=h&255,q[1]=h>>>8&255,n.check=Ys(n.check,q,2,0),h=0,y=0,n.mode=k5;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((h&255)<<8)+(h>>8))%31){t.msg="incorrect header check",n.mode=rr;break}if((h&15)!==T5){t.msg="unknown compression method",n.mode=rr;break}if(h>>>=4,y-=4,Z=(h&15)+8,n.wbits===0&&(n.wbits=Z),Z>15||Z>n.wbits){t.msg="invalid window size",n.mode=rr;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=h&512?B5:Lo,h=0,y=0;break;case k5:for(;y<16;){if(d===0)break e;d--,h+=a[s++]<<y,y+=8}if(n.flags=h,(n.flags&255)!==T5){t.msg="unknown compression method",n.mode=rr;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=rr;break}n.head&&(n.head.text=h>>8&1),n.flags&512&&n.wrap&4&&(q[0]=h&255,q[1]=h>>>8&255,n.check=Ys(n.check,q,2,0)),h=0,y=0,n.mode=N5;case N5:for(;y<32;){if(d===0)break e;d--,h+=a[s++]<<y,y+=8}n.head&&(n.head.time=h),n.flags&512&&n.wrap&4&&(q[0]=h&255,q[1]=h>>>8&255,q[2]=h>>>16&255,q[3]=h>>>24&255,n.check=Ys(n.check,q,4,0)),h=0,y=0,n.mode=L5;case L5:for(;y<16;){if(d===0)break e;d--,h+=a[s++]<<y,y+=8}n.head&&(n.head.xflags=h&255,n.head.os=h>>8),n.flags&512&&n.wrap&4&&(q[0]=h&255,q[1]=h>>>8&255,n.check=Ys(n.check,q,2,0)),h=0,y=0,n.mode=C5;case C5:if(n.flags&1024){for(;y<16;){if(d===0)break e;d--,h+=a[s++]<<y,y+=8}n.length=h,n.head&&(n.head.extra_len=h),n.flags&512&&n.wrap&4&&(q[0]=h&255,q[1]=h>>>8&255,n.check=Ys(n.check,q,2,0)),h=0,y=0}else n.head&&(n.head.extra=null);n.mode=R5;case R5:if(n.flags&1024&&(m=n.length,m>d&&(m=d),m&&(n.head&&(Z=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(a.subarray(s,s+m),Z)),n.flags&512&&n.wrap&4&&(n.check=Ys(n.check,a,m,s)),d-=m,s+=m,n.length-=m),n.length))break e;n.length=0,n.mode=j5;case j5:if(n.flags&2048){if(d===0)break e;m=0;do Z=a[s+m++],n.head&&Z&&n.length<65536&&(n.head.name+=String.fromCharCode(Z));while(Z&&m<d);if(n.flags&512&&n.wrap&4&&(n.check=Ys(n.check,a,m,s)),d-=m,s+=m,Z)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=O5;case O5:if(n.flags&4096){if(d===0)break e;m=0;do Z=a[s+m++],n.head&&Z&&n.length<65536&&(n.head.comment+=String.fromCharCode(Z));while(Z&&m<d);if(n.flags&512&&n.wrap&4&&(n.check=Ys(n.check,a,m,s)),d-=m,s+=m,Z)break e}else n.head&&(n.head.comment=null);n.mode=D5;case D5:if(n.flags&512){for(;y<16;){if(d===0)break e;d--,h+=a[s++]<<y,y+=8}if(n.wrap&4&&h!==(n.check&65535)){t.msg="header crc mismatch",n.mode=rr;break}h=0,y=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Lo;break;case B5:for(;y<32;){if(d===0)break e;d--,h+=a[s++]<<y,y+=8}t.adler=n.check=V5(h),h=0,y=0,n.mode=Ch;case Ch:if(n.havedict===0)return t.next_out=c,t.avail_out=f,t.next_in=s,t.avail_in=d,n.hold=h,n.bits=y,bA;t.adler=n.check=1,n.mode=Lo;case Lo:if(e===yA||e===nh)break e;case Op:if(n.last){h>>>=y&7,y-=y&7,n.mode=Bp;break}for(;y<3;){if(d===0)break e;d--,h+=a[s++]<<y,y+=8}switch(n.last=h&1,h>>>=1,y-=1,h&3){case 0:n.mode=z5;break;case 1:if(kA(n),n.mode=rh,e===nh){h>>>=2,y-=2;break e}break;case 2:n.mode=I5;break;case 3:t.msg="invalid block type",n.mode=rr}h>>>=2,y-=2;break;case z5:for(h>>>=y&7,y-=y&7;y<32;){if(d===0)break e;d--,h+=a[s++]<<y,y+=8}if((h&65535)!==(h>>>16^65535)){t.msg="invalid stored block lengths",n.mode=rr;break}if(n.length=h&65535,h=0,y=0,n.mode=Dp,e===nh)break e;case Dp:n.mode=M5;case M5:if(m=n.length,m){if(m>d&&(m=d),m>f&&(m=f),m===0)break e;l.set(a.subarray(s,s+m),c),d-=m,s+=m,f-=m,c+=m,n.length-=m;break}n.mode=Lo;break;case I5:for(;y<14;){if(d===0)break e;d--,h+=a[s++]<<y,y+=8}if(n.nlen=(h&31)+257,h>>>=5,y-=5,n.ndist=(h&31)+1,h>>>=5,y-=5,n.ncode=(h&15)+4,h>>>=4,y-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=rr;break}n.have=0,n.mode=P5;case P5:for(;n.have<n.ncode;){for(;y<3;){if(d===0)break e;d--,h+=a[s++]<<y,y+=8}n.lens[Y[n.have++]]=h&7,h>>>=3,y-=3}for(;n.have<19;)n.lens[Y[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,fe={bits:n.lenbits},ee=jd(mA,n.lens,0,19,n.lencode,0,n.work,fe),n.lenbits=fe.bits,ee){t.msg="invalid code lengths set",n.mode=rr;break}n.have=0,n.mode=U5;case U5:for(;n.have<n.nlen+n.ndist;){for(;L=n.lencode[h&(1<<n.lenbits)-1],R=L>>>24,D=L>>>16&255,M=L&65535,!(R<=y);){if(d===0)break e;d--,h+=a[s++]<<y,y+=8}if(M<16)h>>>=R,y-=R,n.lens[n.have++]=M;else{if(M===16){for(z=R+2;y<z;){if(d===0)break e;d--,h+=a[s++]<<y,y+=8}if(h>>>=R,y-=R,n.have===0){t.msg="invalid bit length repeat",n.mode=rr;break}Z=n.lens[n.have-1],m=3+(h&3),h>>>=2,y-=2}else if(M===17){for(z=R+3;y<z;){if(d===0)break e;d--,h+=a[s++]<<y,y+=8}h>>>=R,y-=R,Z=0,m=3+(h&7),h>>>=3,y-=3}else{for(z=R+7;y<z;){if(d===0)break e;d--,h+=a[s++]<<y,y+=8}h>>>=R,y-=R,Z=0,m=11+(h&127),h>>>=7,y-=7}if(n.have+m>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=rr;break}for(;m--;)n.lens[n.have++]=Z}}if(n.mode===rr)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=rr;break}if(n.lenbits=9,fe={bits:n.lenbits},ee=jd(ib,n.lens,0,n.nlen,n.lencode,0,n.work,fe),n.lenbits=fe.bits,ee){t.msg="invalid literal/lengths set",n.mode=rr;break}if(n.distbits=6,n.distcode=n.distdyn,fe={bits:n.distbits},ee=jd(ab,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,fe),n.distbits=fe.bits,ee){t.msg="invalid distances set",n.mode=rr;break}if(n.mode=rh,e===nh)break e;case rh:n.mode=ih;case ih:if(d>=6&&f>=258){t.next_out=c,t.avail_out=f,t.next_in=s,t.avail_in=d,n.hold=h,n.bits=y,cA(t,A),c=t.next_out,l=t.output,f=t.avail_out,s=t.next_in,a=t.input,d=t.avail_in,h=n.hold,y=n.bits,n.mode===Lo&&(n.back=-1);break}for(n.back=0;L=n.lencode[h&(1<<n.lenbits)-1],R=L>>>24,D=L>>>16&255,M=L&65535,!(R<=y);){if(d===0)break e;d--,h+=a[s++]<<y,y+=8}if(D&&(D&240)===0){for(W=R,ue=D,ce=M;L=n.lencode[ce+((h&(1<<W+ue)-1)>>W)],R=L>>>24,D=L>>>16&255,M=L&65535,!(W+R<=y);){if(d===0)break e;d--,h+=a[s++]<<y,y+=8}h>>>=W,y-=W,n.back+=W}if(h>>>=R,y-=R,n.back+=R,n.length=M,D===0){n.mode=W5;break}if(D&32){n.back=-1,n.mode=Lo;break}if(D&64){t.msg="invalid literal/length code",n.mode=rr;break}n.extra=D&15,n.mode=q5;case q5:if(n.extra){for(z=n.extra;y<z;){if(d===0)break e;d--,h+=a[s++]<<y,y+=8}n.length+=h&(1<<n.extra)-1,h>>>=n.extra,y-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=F5;case F5:for(;L=n.distcode[h&(1<<n.distbits)-1],R=L>>>24,D=L>>>16&255,M=L&65535,!(R<=y);){if(d===0)break e;d--,h+=a[s++]<<y,y+=8}if((D&240)===0){for(W=R,ue=D,ce=M;L=n.distcode[ce+((h&(1<<W+ue)-1)>>W)],R=L>>>24,D=L>>>16&255,M=L&65535,!(W+R<=y);){if(d===0)break e;d--,h+=a[s++]<<y,y+=8}h>>>=W,y-=W,n.back+=W}if(h>>>=R,y-=R,n.back+=R,D&64){t.msg="invalid distance code",n.mode=rr;break}n.offset=M,n.extra=D&15,n.mode=H5;case H5:if(n.extra){for(z=n.extra;y<z;){if(d===0)break e;d--,h+=a[s++]<<y,y+=8}n.offset+=h&(1<<n.extra)-1,h>>>=n.extra,y-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=rr;break}n.mode=$5;case $5:if(f===0)break e;if(m=A-f,n.offset>m){if(m=n.offset-m,m>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=rr;break}m>n.wnext?(m-=n.wnext,T=n.wsize-m):T=n.wnext-m,m>n.length&&(m=n.length),E=n.window}else E=l,T=c-n.offset,m=n.length;m>f&&(m=f),f-=m,n.length-=m;do l[c++]=E[T++];while(--m);n.length===0&&(n.mode=ih);break;case W5:if(f===0)break e;l[c++]=n.length,f--,n.mode=ih;break;case Bp:if(n.wrap){for(;y<32;){if(d===0)break e;d--,h|=a[s++]<<y,y+=8}if(A-=f,t.total_out+=A,n.total+=A,n.wrap&4&&A&&(t.adler=n.check=n.flags?Ys(n.check,l,A,c-A):bg(n.check,l,A,c-A)),A=f,n.wrap&4&&(n.flags?h:V5(h))!==n.check){t.msg="incorrect data check",n.mode=rr;break}h=0,y=0}n.mode=G5;case G5:if(n.wrap&&n.flags){for(;y<32;){if(d===0)break e;d--,h+=a[s++]<<y,y+=8}if(n.wrap&4&&h!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=rr;break}h=0,y=0}n.mode=Y5;case Y5:ee=vA;break e;case rr:ee=sb;break e;case lb:return ob;case ub:default:return $a}return t.next_out=c,t.avail_out=f,t.next_in=s,t.avail_in=d,n.hold=h,n.bits=y,(n.wsize||A!==t.avail_out&&n.mode<rr&&(n.mode<Bp||e!==E5))&&pb(t,t.output,t.next_out,A-t.avail_out),w-=t.avail_in,A-=t.avail_out,t.total_in+=w,t.total_out+=A,n.total+=A,n.wrap&4&&A&&(t.adler=n.check=n.flags?Ys(n.check,l,A,t.next_out-A):bg(n.check,l,A,t.next_out-A)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Lo?128:0)+(n.mode===rh||n.mode===Dp?256:0),(w===0&&A===0||e===E5)&&ee===pu&&(ee=wA),ee},LA=t=>{if(gu(t))return $a;let e=t.state;return e.window&&(e.window=null),t.state=null,pu},CA=(t,e)=>{if(gu(t))return $a;const n=t.state;return(n.wrap&2)===0?$a:(n.head=e,e.done=!1,pu)},RA=(t,e)=>{const n=e.length;let a,l,s;return gu(t)||(a=t.state,a.wrap!==0&&a.mode!==Ch)?$a:a.mode===Ch&&(l=1,l=bg(l,e,n,0),l!==a.check)?sb:(s=pb(t,e,n,n),s?(a.mode=lb,ob):(a.havedict=1,pu))};var jA=db,OA=fb,DA=cb,BA=TA,zA=hb,MA=NA,IA=LA,PA=CA,UA=RA,qA="pako inflate (from Nodeca project)",Ro={inflateReset:jA,inflateReset2:OA,inflateResetKeep:DA,inflateInit:BA,inflateInit2:zA,inflate:MA,inflateEnd:IA,inflateGetHeader:PA,inflateSetDictionary:UA,inflateInfo:qA};function FA(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var HA=FA;const gb=Object.prototype.toString,{Z_NO_FLUSH:$A,Z_FINISH:WA,Z_OK:$d,Z_STREAM_END:Ip,Z_NEED_DICT:Pp,Z_STREAM_ERROR:GA,Z_DATA_ERROR:X5,Z_MEM_ERROR:YA}=tb;function Zd(t){this.options=nb.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new lA,this.strm.avail_out=0;let n=Ro.inflateInit2(this.strm,e.windowBits);if(n!==$d)throw new Error(wg[n]);if(this.header=new HA,Ro.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=xg.string2buf(e.dictionary):gb.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=Ro.inflateSetDictionary(this.strm,e.dictionary),n!==$d)))throw new Error(wg[n])}Zd.prototype.push=function(t,e){const n=this.strm,a=this.options.chunkSize,l=this.options.dictionary;let s,c,d;if(this.ended)return!1;for(e===~~e?c=e:c=e===!0?WA:$A,gb.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(a),n.next_out=0,n.avail_out=a),s=Ro.inflate(n,c),s===Pp&&l&&(s=Ro.inflateSetDictionary(n,l),s===$d?s=Ro.inflate(n,c):s===X5&&(s=Pp));n.avail_in>0&&s===Ip&&n.state.wrap>0&&t[n.next_in]!==0;)Ro.inflateReset(n),s=Ro.inflate(n,c);switch(s){case GA:case X5:case Pp:case YA:return this.onEnd(s),this.ended=!0,!1}if(d=n.avail_out,n.next_out&&(n.avail_out===0||s===Ip))if(this.options.to==="string"){let f=xg.utf8border(n.output,n.next_out),h=n.next_out-f,y=xg.buf2string(n.output,f);n.next_out=h,n.avail_out=a-h,h&&n.output.set(n.output.subarray(f,f+h),0),this.onData(y)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(s===$d&&d===0)){if(s===Ip)return s=Ro.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};Zd.prototype.onData=function(t){this.chunks.push(t)};Zd.prototype.onEnd=function(t){t===$d&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=nb.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function VA(t,e){const n=new Zd(e);if(n.push(t),n.err)throw n.msg||wg[n.err];return n.result}var KA=Zd,XA=VA,JA={Inflate:KA,inflate:XA};const{Inflate:ZA,inflate:QA}=JA;var J5=ZA,eE=QA;const mb=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;mb[t]=e}const Z5=4294967295;function tE(t,e,n){let a=t;for(let l=0;l<n;l++)a=mb[(a^e[l])&255]^a>>>8;return a}function nE(t,e){return(tE(Z5,t,e)^Z5)>>>0}function Q5(t,e,n){const a=t.readUint32(),l=nE(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(l!==a)throw new Error(`CRC mismatch for chunk ${n}. Expected ${a}, found ${l}`)}function yb(t,e,n){for(let a=0;a<n;a++)e[a]=t[a]}function vb(t,e,n,a){let l=0;for(;l<a;l++)e[l]=t[l];for(;l<n;l++)e[l]=t[l]+e[l-a]&255}function bb(t,e,n,a){let l=0;if(n.length===0)for(;l<a;l++)e[l]=t[l];else for(;l<a;l++)e[l]=t[l]+n[l]&255}function wb(t,e,n,a,l){let s=0;if(n.length===0){for(;s<l;s++)e[s]=t[s];for(;s<a;s++)e[s]=t[s]+(e[s-l]>>1)&255}else{for(;s<l;s++)e[s]=t[s]+(n[s]>>1)&255;for(;s<a;s++)e[s]=t[s]+(e[s-l]+n[s]>>1)&255}}function xb(t,e,n,a,l){let s=0;if(n.length===0){for(;s<l;s++)e[s]=t[s];for(;s<a;s++)e[s]=t[s]+e[s-l]&255}else{for(;s<l;s++)e[s]=t[s]+n[s]&255;for(;s<a;s++)e[s]=t[s]+rE(e[s-l],n[s],n[s-l])&255}}function rE(t,e,n){const a=t+e-n,l=Math.abs(a-t),s=Math.abs(a-e),c=Math.abs(a-n);return l<=s&&l<=c?t:s<=c?e:n}function iE(t,e,n,a,l,s){switch(t){case 0:yb(e,n,l);break;case 1:vb(e,n,l,s);break;case 2:bb(e,n,a,l);break;case 3:wb(e,n,a,l,s);break;case 4:xb(e,n,a,l,s);break;default:throw new Error(`Unsupported filter: ${t}`)}}const aE=new Uint16Array([255]),sE=new Uint8Array(aE.buffer),oE=sE[0]===255;function lE(t){const{data:e,width:n,height:a,channels:l,depth:s}=t,c=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],d=Math.ceil(s/8)*l,f=new Uint8Array(a*n*d);let h=0;for(let y=0;y<7;y++){const w=c[y],A=Math.ceil((n-w.x)/w.xStep),m=Math.ceil((a-w.y)/w.yStep);if(A<=0||m<=0)continue;const T=A*d,E=new Uint8Array(T);for(let L=0;L<m;L++){const R=e[h++],D=e.subarray(h,h+T);h+=T;const M=new Uint8Array(T);iE(R,D,M,E,T,d),E.set(M);for(let W=0;W<A;W++){const ue=w.x+W*w.xStep,ce=w.y+L*w.yStep;if(!(ue>=n||ce>=a))for(let Z=0;Z<d;Z++)f[(ce*n+ue)*d+Z]=M[W*d+Z]}}}if(s===16){const y=new Uint16Array(f.buffer);if(oE)for(let w=0;w<y.length;w++)y[w]=uE(y[w]);return y}else return f}function uE(t){return(t&255)<<8|t>>8&255}const cE=new Uint16Array([255]),dE=new Uint8Array(cE.buffer),fE=dE[0]===255,hE=new Uint8Array(0);function ey(t){const{data:e,width:n,height:a,channels:l,depth:s}=t,c=Math.ceil(s/8)*l,d=Math.ceil(s/8*l*n),f=new Uint8Array(a*d);let h=hE,y=0,w,A;for(let m=0;m<a;m++){switch(w=e.subarray(y+1,y+1+d),A=f.subarray(m*d,(m+1)*d),e[y]){case 0:yb(w,A,d);break;case 1:vb(w,A,d,c);break;case 2:bb(w,A,h,d);break;case 3:wb(w,A,h,d,c);break;case 4:xb(w,A,h,d,c);break;default:throw new Error(`Unsupported filter: ${e[y]}`)}h=A,y+=d+1}if(s===16){const m=new Uint16Array(f.buffer);if(fE)for(let T=0;T<m.length;T++)m[T]=pE(m[T]);return m}else return f}function pE(t){return(t&255)<<8|t>>8&255}const fh=Uint8Array.of(137,80,78,71,13,10,26,10);function ty(t){if(!gE(t.readBytes(fh.length)))throw new Error("wrong PNG signature")}function gE(t){if(t.length<fh.length)return!1;for(let e=0;e<fh.length;e++)if(t[e]!==fh[e])return!1;return!0}const mE="tEXt",yE=0,_b=new TextDecoder("latin1");function vE(t){if(wE(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const bE=/^[\u0000-\u00FF]*$/;function wE(t){if(!bE.test(t))throw new Error("invalid latin1 text")}function xE(t,e,n){const a=Sb(e);t[a]=_E(e,n-a.length-1)}function Sb(t){for(t.mark();t.readByte()!==yE;);const e=t.offset;t.reset();const n=_b.decode(t.readBytes(e-t.offset-1));return t.skip(1),vE(n),n}function _E(t,e){return _b.decode(t.readBytes(e))}const ya={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Up={UNKNOWN:-1,DEFLATE:0},ny={UNKNOWN:-1,ADAPTIVE:0},qp={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},ah={NONE:0,BACKGROUND:1,PREVIOUS:2},Fp={SOURCE:0,OVER:1};class SE extends Jg{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,n={}){super(e);const{checkCrc:a=!1}=n;this._checkCrc=a,this._inflator=new J5,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Up.UNKNOWN,this._filterMethod=ny.UNKNOWN,this._interlaceMethod=qp.UNKNOWN,this._colorType=ya.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(ty(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeChunk(e,n)}return this.decodeImage(),this._png}decodeApng(){for(ty(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(e,n)}return this.decodeApngImage(),this._apng}decodeChunk(e,n){const a=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case mE:xE(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-a!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?Q5(this,e+4,n):this.skip(4)}decodeApngChunk(e,n){const a=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,n),this.offset=a+e;break}if(this.offset-a!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?Q5(this,e+4,n):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=AE(this.readUint8());const n=this.readUint8();this._colorType=n;let a;switch(n){case ya.GREYSCALE:a=1;break;case ya.TRUECOLOUR:a=3;break;case ya.INDEXED_COLOUR:a=1;break;case ya.GREYSCALE_ALPHA:a=2;break;case ya.TRUECOLOUR_ALPHA:a=4;break;case ya.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==Up.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const n=e/3;this._hasPalette=!0;const a=[];this._palette=a;for(let l=0;l<n;l++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const n=e,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let n=e,a=this.offset+this.byteOffset;if(a+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case ya.GREYSCALE:case ya.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let n=0;n<e/2;n++)this._transparency[n]=this.readUint16();break}case ya.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let n=0;for(;n<e;n++){const a=this.readByte();this._palette[n].push(a)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case ya.UNKNOWN:case ya.GREYSCALE_ALPHA:case ya.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const n=Sb(this),a=this.readUint8();if(a!==Up.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const l=this.readBytes(e-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:eE(l)}}decodepHYs(){const e=this.readUint32(),n=this.readUint32(),a=this.readByte();this._png.resolution={x:e,y:n,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const n={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(e);if(a){if(a.data=ey({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)n.data=a.data;else{const l=this._apng.frames.at(e-1);this.disposeFrame(a,l,n),this.addFrameDataToCanvas(n,a)}this._apng.frames.push(n)}}return this._apng}disposeFrame(e,n,a){switch(e.disposeOp){case ah.NONE:break;case ah.BACKGROUND:for(let l=0;l<this._png.height;l++)for(let s=0;s<this._png.width;s++){const c=(l*e.width+s)*this._png.channels;for(let d=0;d<this._png.channels;d++)a.data[c+d]=0}break;case ah.PREVIOUS:a.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,n){const a=1<<this._png.depth,l=(s,c)=>{const d=((s+n.yOffset)*this._png.width+n.xOffset+c)*this._png.channels,f=(s*n.width+c)*this._png.channels;return{index:d,frameIndex:f}};switch(n.blendOp){case Fp.SOURCE:for(let s=0;s<n.height;s++)for(let c=0;c<n.width;c++){const{index:d,frameIndex:f}=l(s,c);for(let h=0;h<this._png.channels;h++)e.data[d+h]=n.data[f+h]}break;case Fp.OVER:for(let s=0;s<n.height;s++)for(let c=0;c<n.width;c++){const{index:d,frameIndex:f}=l(s,c);for(let h=0;h<this._png.channels;h++){const y=n.data[f+this._png.channels-1]/a,w=h%(this._png.channels-1)===0?1:n.data[f+h],A=Math.floor(y*w+(1-y)*e.data[d+h]);e.data[d+h]+=A}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==ny.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===qp.NO_INTERLACE)this._png.data=ey({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===qp.ADAM7)this._png.data=lE({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,n=this._frames.at(-1);n?n.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:ah.NONE,blendOp:Fp.SOURCE,data:e}),this._inflator=new J5,this._writingDataChunks=!1}}function AE(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var ry;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(ry||(ry={}));function EE(t,e){return new SE(t,e).decode()}var qt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function Hp(){qt.console&&typeof qt.console.log=="function"&&qt.console.log.apply(qt.console,arguments)}var Un={log:Hp,warn:function(t){qt.console&&(typeof qt.console.warn=="function"?qt.console.warn.apply(qt.console,arguments):Hp.call(null,arguments))},error:function(t){qt.console&&(typeof qt.console.error=="function"?qt.console.error.apply(qt.console,arguments):Hp(t))}};function $p(t,e,n){var a=new XMLHttpRequest;a.open("GET",t),a.responseType="blob",a.onload=function(){su(a.response,e,n)},a.onerror=function(){Un.error("could not download file")},a.send()}function iy(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function sh(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var su=qt.saveAs||((typeof window>"u"?"undefined":Ln(window))!=="object"||window!==qt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var a=qt.URL||qt.webkitURL,l=document.createElement("a");e=e||t.name||"download",l.download=e,l.rel="noopener",typeof t=="string"?(l.href=t,l.origin!==location.origin?iy(l.href)?$p(t,e,n):sh(l,l.target="_blank"):sh(l)):(l.href=a.createObjectURL(t),setTimeout(function(){a.revokeObjectURL(l.href)},4e4),setTimeout(function(){sh(l)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(iy(t))$p(t,e,n);else{var a=document.createElement("a");a.href=t,a.target="_blank",setTimeout(function(){sh(a)})}else navigator.msSaveOrOpenBlob((function(l,s){return s===void 0?s={autoBom:!1}:Ln(s)!=="object"&&(Un.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(l.type)?new Blob(["\uFEFF",l],{type:l.type}):l})(t,n),e)}:function(t,e,n,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),typeof t=="string")return $p(t,e,n);var l=t.type==="application/octet-stream",s=/constructor/i.test(qt.HTMLElement)||qt.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||l&&s)&&(typeof FileReader>"u"?"undefined":Ln(FileReader))==="object"){var d=new FileReader;d.onloadend=function(){var y=d.result;y=c?y:y.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=y:location=y,a=null},d.readAsDataURL(t)}else{var f=qt.URL||qt.webkitURL,h=f.createObjectURL(t);a?a.location=h:location.href=h,a=null,setTimeout(function(){f.revokeObjectURL(h)},4e4)}});function Ab(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(d){return[parseInt(d[1]),parseInt(d[2]),parseInt(d[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(d){return[parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(d){return[parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16)]}}],a=0;a<n.length;a++){var l=n[a].re,s=n[a].process,c=l.exec(t);c&&(e=s(c),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var d=this.r.toString(16),f=this.g.toString(16),h=this.b.toString(16);return d.length==1&&(d="0"+d),f.length==1&&(f="0"+f),h.length==1&&(h="0"+h),"#"+d+f+h}}var hh=qt.atob.bind(qt),ay=qt.btoa.bind(qt);function Wp(t,e){var n=t[0],a=t[1],l=t[2],s=t[3];n=xi(n,a,l,s,e[0],7,-680876936),s=xi(s,n,a,l,e[1],12,-389564586),l=xi(l,s,n,a,e[2],17,606105819),a=xi(a,l,s,n,e[3],22,-1044525330),n=xi(n,a,l,s,e[4],7,-176418897),s=xi(s,n,a,l,e[5],12,1200080426),l=xi(l,s,n,a,e[6],17,-1473231341),a=xi(a,l,s,n,e[7],22,-45705983),n=xi(n,a,l,s,e[8],7,1770035416),s=xi(s,n,a,l,e[9],12,-1958414417),l=xi(l,s,n,a,e[10],17,-42063),a=xi(a,l,s,n,e[11],22,-1990404162),n=xi(n,a,l,s,e[12],7,1804603682),s=xi(s,n,a,l,e[13],12,-40341101),l=xi(l,s,n,a,e[14],17,-1502002290),n=_i(n,a=xi(a,l,s,n,e[15],22,1236535329),l,s,e[1],5,-165796510),s=_i(s,n,a,l,e[6],9,-1069501632),l=_i(l,s,n,a,e[11],14,643717713),a=_i(a,l,s,n,e[0],20,-373897302),n=_i(n,a,l,s,e[5],5,-701558691),s=_i(s,n,a,l,e[10],9,38016083),l=_i(l,s,n,a,e[15],14,-660478335),a=_i(a,l,s,n,e[4],20,-405537848),n=_i(n,a,l,s,e[9],5,568446438),s=_i(s,n,a,l,e[14],9,-1019803690),l=_i(l,s,n,a,e[3],14,-187363961),a=_i(a,l,s,n,e[8],20,1163531501),n=_i(n,a,l,s,e[13],5,-1444681467),s=_i(s,n,a,l,e[2],9,-51403784),l=_i(l,s,n,a,e[7],14,1735328473),n=Si(n,a=_i(a,l,s,n,e[12],20,-1926607734),l,s,e[5],4,-378558),s=Si(s,n,a,l,e[8],11,-2022574463),l=Si(l,s,n,a,e[11],16,1839030562),a=Si(a,l,s,n,e[14],23,-35309556),n=Si(n,a,l,s,e[1],4,-1530992060),s=Si(s,n,a,l,e[4],11,1272893353),l=Si(l,s,n,a,e[7],16,-155497632),a=Si(a,l,s,n,e[10],23,-1094730640),n=Si(n,a,l,s,e[13],4,681279174),s=Si(s,n,a,l,e[0],11,-358537222),l=Si(l,s,n,a,e[3],16,-722521979),a=Si(a,l,s,n,e[6],23,76029189),n=Si(n,a,l,s,e[9],4,-640364487),s=Si(s,n,a,l,e[12],11,-421815835),l=Si(l,s,n,a,e[15],16,530742520),n=Ai(n,a=Si(a,l,s,n,e[2],23,-995338651),l,s,e[0],6,-198630844),s=Ai(s,n,a,l,e[7],10,1126891415),l=Ai(l,s,n,a,e[14],15,-1416354905),a=Ai(a,l,s,n,e[5],21,-57434055),n=Ai(n,a,l,s,e[12],6,1700485571),s=Ai(s,n,a,l,e[3],10,-1894986606),l=Ai(l,s,n,a,e[10],15,-1051523),a=Ai(a,l,s,n,e[1],21,-2054922799),n=Ai(n,a,l,s,e[8],6,1873313359),s=Ai(s,n,a,l,e[15],10,-30611744),l=Ai(l,s,n,a,e[6],15,-1560198380),a=Ai(a,l,s,n,e[13],21,1309151649),n=Ai(n,a,l,s,e[4],6,-145523070),s=Ai(s,n,a,l,e[11],10,-1120210379),l=Ai(l,s,n,a,e[2],15,718787259),a=Ai(a,l,s,n,e[9],21,-343485551),t[0]=_l(n,t[0]),t[1]=_l(a,t[1]),t[2]=_l(l,t[2]),t[3]=_l(s,t[3])}function Kh(t,e,n,a,l,s){return e=_l(_l(e,t),_l(a,s)),_l(e<<l|e>>>32-l,n)}function xi(t,e,n,a,l,s,c){return Kh(e&n|~e&a,t,e,l,s,c)}function _i(t,e,n,a,l,s,c){return Kh(e&a|n&~a,t,e,l,s,c)}function Si(t,e,n,a,l,s,c){return Kh(e^n^a,t,e,l,s,c)}function Ai(t,e,n,a,l,s,c){return Kh(n^(e|~a),t,e,l,s,c)}function Eb(t){var e,n=t.length,a=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Wp(a,TE(t.substring(e-64,e)));t=t.substring(e-64);var l=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)l[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(l[e>>2]|=128<<(e%4<<3),e>55)for(Wp(a,l),e=0;e<16;e++)l[e]=0;return l[14]=8*n,Wp(a,l),a}function TE(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var sy="0123456789abcdef".split("");function kE(t){for(var e="",n=0;n<4;n++)e+=sy[t>>8*n+4&15]+sy[t>>8*n&15];return e}function NE(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function _g(t){return Eb(t).map(NE).join("")}var LE=(function(t){for(var e=0;e<t.length;e++)t[e]=kE(t[e]);return t.join("")})(Eb("hello"))!="5d41402abc4b2a76b9719d911017c592";function _l(t,e){if(LE){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}function Sg(t,e){var n,a,l,s;if(t!==n){for(var c=(l=t,s=1+(256/t.length|0),new Array(s+1).join(l)),d=[],f=0;f<256;f++)d[f]=f;var h=0;for(f=0;f<256;f++){var y=d[f];h=(h+y+c.charCodeAt(f))%256,d[f]=d[h],d[h]=y}n=t,a=d}else d=a;var w=e.length,A=0,m=0,T="";for(f=0;f<w;f++)m=(m+(y=d[A=(A+1)%256]))%256,d[A]=d[m],d[m]=y,c=d[(d[A]+d[m])%256],T+=String.fromCharCode(e.charCodeAt(f)^c);return T}var oy={print:4,modify:8,copy:16,"annot-forms":32};function wc(t,e,n,a){this.v=1,this.r=2;var l=192;t.forEach(function(d){if(oy.perm!==void 0)throw new Error("Invalid permission: "+d);l+=oy[d]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),c=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,c),this.P=-(1+(255^l)),this.encryptionKey=_g(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(a)).substr(0,5),this.U=Sg(this.encryptionKey,this.padding)}function xc(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,a=0;a<n;a++){var l=t.charCodeAt(a);e+=l<33||l===35||l===37||l===40||l===41||l===47||l===60||l===62||l===91||l===93||l===123||l===125||l>126?"#"+("0"+l.toString(16)).slice(-2):t[a]}return e}function ly(t){if(Ln(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,a,l){if(l=l||!1,typeof n!="string"||typeof a!="function"||typeof l!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[a,!!l],s},this.unsubscribe=function(n){for(var a in e)if(e[a][n])return delete e[a][n],Object.keys(e[a]).length===0&&delete e[a],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var a=Array.prototype.slice.call(arguments,1),l=[];for(var s in e[n]){var c=e[n][s];try{c[0].apply(t,a)}catch(d){qt.console&&Un.error("jsPDF PubSub Error",d.message,d)}c[1]&&l.push(s)}l.length&&l.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Rh(t){if(!(this instanceof Rh))return new Rh(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function Tb(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function uu(t,e,n,a,l){if(!(this instanceof uu))return new uu(t,e,n,a,l);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,Tb.call(this,a,l)}function Sc(t,e,n,a,l){if(!(this instanceof Sc))return new Sc(t,e,n,a,l);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,Tb.call(this,a,l)}function St(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",a=arguments[1],l=arguments[2],s=arguments[3],c=[],d=1,f=16,h="S",y=null;Ln(t=t||{})==="object"&&(n=t.orientation,a=t.unit||a,l=t.format||l,s=t.compress||t.compressPdf||s,(y=t.encryption||null)!==null&&(y.userPassword=y.userPassword||"",y.ownerPassword=y.ownerPassword||"",y.userPermissions=y.userPermissions||[]),d=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(f=t.floatPrecision),h=t.defaultPathOperation||"S"),c=t.filters||(s===!0?["FlateEncode"]:c),a=a||"mm",n=(""+(n||"P")).toLowerCase();var w=t.putOnlyUsedFonts||!1,A={},m={internal:{},__private__:{}};m.__private__.PubSub=ly;var T="1.3",E=m.__private__.getPdfVersion=function(){return T};m.__private__.setPdfVersion=function(x){T=x};var L={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return L};var R=m.__private__.getPageFormat=function(x){return L[x]};l=l||"a4";var D="compat",M="advanced",W=D;function ue(){this.saveGraphicsState(),$(new yt(At,0,0,-At,0,Qa()*At).toString()+" cm"),this.setFontSize(this.getFontSize()/At),h="n",W=M}function ce(){this.restoreGraphicsState(),h="S",W=D}var Z=m.__private__.combineFontStyleAndFontWeight=function(x,j){if(x=="bold"&&j=="normal"||x=="bold"&&j==400||x=="normal"&&j=="italic"||x=="bold"&&j=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return j&&(x=j==400||j==="normal"?x==="italic"?"italic":"normal":j!=700&&j!=="bold"||x!=="normal"?(j==700?"bold":j)+""+x:"bold"),x};m.advancedAPI=function(x){var j=W===D;return j&&ue.call(this),typeof x!="function"||(x(this),j&&ce.call(this)),this},m.compatAPI=function(x){var j=W===M;return j&&ce.call(this),typeof x!="function"||(x(this),j&&ue.call(this)),this},m.isAdvancedAPI=function(){return W===M};var ee,q=function(x){if(W!==M)throw new Error(x+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},fe=m.roundToPrecision=m.__private__.roundToPrecision=function(x,j){var re=e||j;if(isNaN(x)||isNaN(re))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return x.toFixed(re).replace(/0+$/,"")};ee=m.hpf=m.__private__.hpf=typeof f=="number"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return fe(x,f)}:f==="smart"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return fe(x,x>-1&&x<1?16:5)}:function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return fe(x,16)};var z=m.f2=m.__private__.f2=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f2");return fe(x,2)},Y=m.__private__.f3=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f3");return fe(x,3)},se=m.scale=m.__private__.scale=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.scale");return W===D?x*At:W===M?x:void 0},oe=function(x){return se((function(j){return W===D?Qa()-j:W===M?j:void 0})(x))};m.__private__.setPrecision=m.setPrecision=function(x){typeof parseInt(x,10)=="number"&&(e=parseInt(x,10))};var Ee,X="00000000000000000000000000000000",de=m.__private__.getFileId=function(){return X},he=m.__private__.setFileId=function(x){return X=x!==void 0&&/^[a-fA-F0-9]{32}$/.test(x)?x.toUpperCase():X.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),y!==null&&(Tr=new wc(y.userPermissions,y.userPassword,y.ownerPassword,X)),X};m.setFileId=function(x){return he(x),this},m.getFileId=function(){return de()};var _e=m.__private__.convertDateToPDFDate=function(x){var j=x.getTimezoneOffset(),re=j<0?"+":"-",me=Math.floor(Math.abs(j/60)),Se=Math.abs(j%60),qe=[re,K(me),"'",K(Se),"'"].join("");return["D:",x.getFullYear(),K(x.getMonth()+1),K(x.getDate()),K(x.getHours()),K(x.getMinutes()),K(x.getSeconds()),qe].join("")},ve=m.__private__.convertPDFDateToDate=function(x){var j=parseInt(x.substr(2,4),10),re=parseInt(x.substr(6,2),10)-1,me=parseInt(x.substr(8,2),10),Se=parseInt(x.substr(10,2),10),qe=parseInt(x.substr(12,2),10),Ve=parseInt(x.substr(14,2),10);return new Date(j,re,me,Se,qe,Ve,0)},I=m.__private__.setCreationDate=function(x){var j;if(x===void 0&&(x=new Date),x instanceof Date)j=_e(x);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(x))throw new Error("Invalid argument passed to jsPDF.setCreationDate");j=x}return Ee=j},k=m.__private__.getCreationDate=function(x){var j=Ee;return x==="jsDate"&&(j=ve(Ee)),j};m.setCreationDate=function(x){return I(x),this},m.getCreationDate=function(x){return k(x)};var P,K=m.__private__.padd2=function(x){return("0"+parseInt(x)).slice(-2)},ae=m.__private__.padd2Hex=function(x){return("00"+(x=x.toString())).substr(x.length)},V=0,Q=[],le=[],ye=0,pe=[],Le=[],Me=!1,ie=le;m.__private__.setCustomOutputDestination=function(x){Me=!0,ie=x};var ke=function(x){Me||(ie=x)};m.__private__.resetCustomOutputDestination=function(){Me=!1,ie=le};var $=m.__private__.out=function(x){return x=x.toString(),ye+=x.length+1,ie.push(x),ie},ze=m.__private__.write=function(x){return $(arguments.length===1?x.toString():Array.prototype.join.call(arguments," "))},et=m.__private__.getArrayBuffer=function(x){for(var j=x.length,re=new ArrayBuffer(j),me=new Uint8Array(re);j--;)me[j]=x.charCodeAt(j);return re},Je=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return Je};var De=t.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(x){return De=W===M?x/At:x,this};var Ke,$e=m.__private__.getFontSize=m.getFontSize=function(){return W===D?De:De*At},Ye=t.R2L||!1;m.__private__.setR2L=m.setR2L=function(x){return Ye=x,this},m.__private__.getR2L=m.getR2L=function(){return Ye};var at,ot=m.__private__.setZoomMode=function(x){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(x))Ke=x;else if(isNaN(x)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(x)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+x+'" is not recognized.');Ke=x}else Ke=parseInt(x,10)};m.__private__.getZoomMode=function(){return Ke};var Qe,it=m.__private__.setPageMode=function(x){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(x)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+x+'" is not recognized.');at=x};m.__private__.getPageMode=function(){return at};var tt=m.__private__.setLayoutMode=function(x){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(x)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+x+'" is not recognized.');Qe=x};m.__private__.getLayoutMode=function(){return Qe},m.__private__.setDisplayMode=m.setDisplayMode=function(x,j,re){return ot(x),tt(j),it(re),this};var pt={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(x){if(Object.keys(pt).indexOf(x)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return pt[x]},m.__private__.getDocumentProperties=function(){return pt},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(x){for(var j in pt)pt.hasOwnProperty(j)&&x[j]&&(pt[j]=x[j]);return this},m.__private__.setDocumentProperty=function(x,j){if(Object.keys(pt).indexOf(x)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return pt[x]=j};var Ze,At,nt,cn,xt,kt={},Rt={},Yt=[],Et={},yn={},Ct={},Bt={},vn=null,wt=0,lt=[],Pt=new ly(m),hr=t.hotfixes||[],bn={},qn={},$n=[],yt=function x(j,re,me,Se,qe,Ve){if(!(this instanceof x))return new x(j,re,me,Se,qe,Ve);isNaN(j)&&(j=1),isNaN(re)&&(re=0),isNaN(me)&&(me=0),isNaN(Se)&&(Se=1),isNaN(qe)&&(qe=0),isNaN(Ve)&&(Ve=0),this._matrix=[j,re,me,Se,qe,Ve]};Object.defineProperty(yt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(yt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(yt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(yt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(yt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(yt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(yt.prototype,"a",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(yt.prototype,"b",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(yt.prototype,"c",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(yt.prototype,"d",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(yt.prototype,"e",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(yt.prototype,"f",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(yt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(yt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(yt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(yt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),yt.prototype.join=function(x){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(ee).join(x)},yt.prototype.multiply=function(x){var j=x.sx*this.sx+x.shy*this.shx,re=x.sx*this.shy+x.shy*this.sy,me=x.shx*this.sx+x.sy*this.shx,Se=x.shx*this.shy+x.sy*this.sy,qe=x.tx*this.sx+x.ty*this.shx+this.tx,Ve=x.tx*this.shy+x.ty*this.sy+this.ty;return new yt(j,re,me,Se,qe,Ve)},yt.prototype.decompose=function(){var x=this.sx,j=this.shy,re=this.shx,me=this.sy,Se=this.tx,qe=this.ty,Ve=Math.sqrt(x*x+j*j),ft=(x/=Ve)*re+(j/=Ve)*me;re-=x*ft,me-=j*ft;var vt=Math.sqrt(re*re+me*me);return ft/=vt,x*(me/=vt)<j*(re/=vt)&&(x=-x,j=-j,ft=-ft,Ve=-Ve),{scale:new yt(Ve,0,0,vt,0,0),translate:new yt(1,0,0,1,Se,qe),rotate:new yt(x,j,-j,x,0,0),skew:new yt(1,0,ft,1,0,0)}},yt.prototype.toString=function(x){return this.join(" ")},yt.prototype.inversed=function(){var x=this.sx,j=this.shy,re=this.shx,me=this.sy,Se=this.tx,qe=this.ty,Ve=1/(x*me-j*re),ft=me*Ve,vt=-j*Ve,zt=-re*Ve,Ft=x*Ve;return new yt(ft,vt,zt,Ft,-ft*Se-zt*qe,-vt*Se-Ft*qe)},yt.prototype.applyToPoint=function(x){var j=x.x*this.sx+x.y*this.shx+this.tx,re=x.x*this.shy+x.y*this.sy+this.ty;return new Mi(j,re)},yt.prototype.applyToRectangle=function(x){var j=this.applyToPoint(x),re=this.applyToPoint(new Mi(x.x+x.w,x.y+x.h));return new Va(j.x,j.y,re.x-j.x,re.y-j.y)},yt.prototype.clone=function(){var x=this.sx,j=this.shy,re=this.shx,me=this.sy,Se=this.tx,qe=this.ty;return new yt(x,j,re,me,Se,qe)},m.Matrix=yt;var Sn=m.matrixMult=function(x,j){return j.multiply(x)},Ar=new yt(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=Ar;var Fn=function(x,j){if(!yn[x]){var re=(j instanceof uu?"Sh":"P")+(Object.keys(Et).length+1).toString(10);j.id=re,yn[x]=re,Et[re]=j,Pt.publish("addPattern",j)}};m.ShadingPattern=uu,m.TilingPattern=Sc,m.addShadingPattern=function(x,j){return q("addShadingPattern()"),Fn(x,j),this},m.beginTilingPattern=function(x){q("beginTilingPattern()"),ao(x.boundingBox[0],x.boundingBox[1],x.boundingBox[2]-x.boundingBox[0],x.boundingBox[3]-x.boundingBox[1],x.matrix)},m.endTilingPattern=function(x,j){q("endTilingPattern()"),j.stream=Le[P].join(`
`),Fn(x,j),Pt.publish("endTilingPattern",j),$n.pop().restore()};var Wn,pn=m.__private__.newObject=function(){var x=Cn();return An(x,!0),x},Cn=m.__private__.newObjectDeferred=function(){return V++,Q[V]=function(){return ye},V},An=function(x,j){return j=typeof j=="boolean"&&j,Q[x]=ye,j&&$(x+" 0 obj"),x},mi=m.__private__.newAdditionalObject=function(){var x={objId:Cn(),content:""};return pe.push(x),x},Er=Cn(),En=Cn(),Gn=m.__private__.decodeColorString=function(x){var j=x.split(" ");if(j.length!==2||j[1]!=="g"&&j[1]!=="G")j.length!==5||j[4]!=="k"&&j[4]!=="K"||(j=[(1-j[0])*(1-j[3]),(1-j[1])*(1-j[3]),(1-j[2])*(1-j[3]),"r"]);else{var re=parseFloat(j[0]);j=[re,re,re,"r"]}for(var me="#",Se=0;Se<3;Se++)me+=("0"+Math.floor(255*parseFloat(j[Se])).toString(16)).slice(-2);return me},Jr=m.__private__.encodeColorString=function(x){var j;typeof x=="string"&&(x={ch1:x});var re=x.ch1,me=x.ch2,Se=x.ch3,qe=x.ch4,Ve=x.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof re=="string"&&re.charAt(0)!=="#"){var ft=new Ab(re);if(ft.ok)re=ft.toHex();else if(!/^\d*\.?\d*$/.test(re))throw new Error('Invalid color "'+re+'" passed to jsPDF.encodeColorString.')}if(typeof re=="string"&&/^#[0-9A-Fa-f]{3}$/.test(re)&&(re="#"+re[1]+re[1]+re[2]+re[2]+re[3]+re[3]),typeof re=="string"&&/^#[0-9A-Fa-f]{6}$/.test(re)){var vt=parseInt(re.substr(1),16);re=vt>>16&255,me=vt>>8&255,Se=255&vt}if(me===void 0||qe===void 0&&re===me&&me===Se)j=typeof re=="string"?re+" "+Ve[0]:x.precision===2?z(re/255)+" "+Ve[0]:Y(re/255)+" "+Ve[0];else if(qe===void 0||Ln(qe)==="object"){if(qe&&!isNaN(qe.a)&&qe.a===0)return["1.","1.","1.",Ve[1]].join(" ");j=typeof re=="string"?[re,me,Se,Ve[1]].join(" "):x.precision===2?[z(re/255),z(me/255),z(Se/255),Ve[1]].join(" "):[Y(re/255),Y(me/255),Y(Se/255),Ve[1]].join(" ")}else j=typeof re=="string"?[re,me,Se,qe,Ve[2]].join(" "):x.precision===2?[z(re),z(me),z(Se),z(qe),Ve[2]].join(" "):[Y(re),Y(me),Y(Se),Y(qe),Ve[2]].join(" ");return j},Ei=m.__private__.getFilters=function(){return c},Bi=m.__private__.putStream=function(x){var j=(x=x||{}).data||"",re=x.filters||Ei(),me=x.alreadyAppliedFilters||[],Se=x.addLength1||!1,qe=j.length,Ve=x.objectId,ft=function(kr){return kr};if(y!==null&&Ve===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");y!==null&&(ft=Tr.encryptor(Ve,0));var vt={};re===!0&&(re=["FlateEncode"]);var zt=x.additionalKeyValues||[],Ft=(vt=St.API.processDataByFilters!==void 0?St.API.processDataByFilters(j,re):{data:j,reverseChain:[]}).reverseChain+(Array.isArray(me)?me.join(" "):me.toString());if(vt.data.length!==0&&(zt.push({key:"Length",value:vt.data.length}),Se===!0&&zt.push({key:"Length1",value:qe})),Ft.length!=0)if(Ft.split("/").length-1==1)zt.push({key:"Filter",value:Ft});else{zt.push({key:"Filter",value:"["+Ft+"]"});for(var nn=0;nn<zt.length;nn+=1)if(zt[nn].key==="DecodeParms"){for(var Yn=[],sr=0;sr<vt.reverseChain.split("/").length-1;sr+=1)Yn.push("null");Yn.push(zt[nn].value),zt[nn].value="["+Yn.join(" ")+"]"}}$("<<");for(var Rn=0;Rn<zt.length;Rn++)$("/"+zt[Rn].key+" "+zt[Rn].value);$(">>"),vt.data.length!==0&&($("stream"),$(ft(vt.data)),$("endstream"))},Qs=m.__private__.putPage=function(x){var j=x.number,re=x.data,me=x.objId,Se=x.contentsObjId;An(me,!0),$("<</Type /Page"),$("/Parent "+x.rootDictionaryObjId+" 0 R"),$("/Resources "+x.resourceDictionaryObjId+" 0 R"),$("/MediaBox ["+parseFloat(ee(x.mediaBox.bottomLeftX))+" "+parseFloat(ee(x.mediaBox.bottomLeftY))+" "+ee(x.mediaBox.topRightX)+" "+ee(x.mediaBox.topRightY)+"]"),x.cropBox!==null&&$("/CropBox ["+ee(x.cropBox.bottomLeftX)+" "+ee(x.cropBox.bottomLeftY)+" "+ee(x.cropBox.topRightX)+" "+ee(x.cropBox.topRightY)+"]"),x.bleedBox!==null&&$("/BleedBox ["+ee(x.bleedBox.bottomLeftX)+" "+ee(x.bleedBox.bottomLeftY)+" "+ee(x.bleedBox.topRightX)+" "+ee(x.bleedBox.topRightY)+"]"),x.trimBox!==null&&$("/TrimBox ["+ee(x.trimBox.bottomLeftX)+" "+ee(x.trimBox.bottomLeftY)+" "+ee(x.trimBox.topRightX)+" "+ee(x.trimBox.topRightY)+"]"),x.artBox!==null&&$("/ArtBox ["+ee(x.artBox.bottomLeftX)+" "+ee(x.artBox.bottomLeftY)+" "+ee(x.artBox.topRightX)+" "+ee(x.artBox.topRightY)+"]"),typeof x.userUnit=="number"&&x.userUnit!==1&&$("/UserUnit "+x.userUnit),Pt.publish("putPage",{objId:me,pageContext:lt[j],pageNumber:j,page:re}),$("/Contents "+Se+" 0 R"),$(">>"),$("endobj");var qe=re.join(`
`);return W===M&&(qe+=`
Q`),An(Se,!0),Bi({data:qe,filters:Ei(),objectId:Se}),$("endobj"),me},ea=m.__private__.putPages=function(){var x,j,re=[];for(x=1;x<=wt;x++)lt[x].objId=Cn(),lt[x].contentsObjId=Cn();for(x=1;x<=wt;x++)re.push(Qs({number:x,data:Le[x],objId:lt[x].objId,contentsObjId:lt[x].contentsObjId,mediaBox:lt[x].mediaBox,cropBox:lt[x].cropBox,bleedBox:lt[x].bleedBox,trimBox:lt[x].trimBox,artBox:lt[x].artBox,userUnit:lt[x].userUnit,rootDictionaryObjId:Er,resourceDictionaryObjId:En}));An(Er,!0),$("<</Type /Pages");var me="/Kids [";for(j=0;j<wt;j++)me+=re[j]+" 0 R ";$(me+"]"),$("/Count "+wt),$(">>"),$("endobj"),Pt.publish("postPutPages")},ta=function(x){Pt.publish("putFont",{font:x,out:$,newObject:pn,putStream:Bi}),x.isAlreadyPutted!==!0&&(x.objectNumber=pn(),$("<<"),$("/Type /Font"),$("/BaseFont /"+xc(x.postScriptName)),$("/Subtype /Type1"),typeof x.encoding=="string"&&$("/Encoding /"+x.encoding),$("/FirstChar 32"),$("/LastChar 255"),$(">>"),$("endobj"))},Ns=function(x){x.objectNumber=pn();var j=[];j.push({key:"Type",value:"/XObject"}),j.push({key:"Subtype",value:"/Form"}),j.push({key:"BBox",value:"["+[ee(x.x),ee(x.y),ee(x.x+x.width),ee(x.y+x.height)].join(" ")+"]"}),j.push({key:"Matrix",value:"["+x.matrix.toString()+"]"});var re=x.pages[1].join(`
`);Bi({data:re,additionalKeyValues:j,objectId:x.objectNumber}),$("endobj")},na=function(x,j){j||(j=21);var re=pn(),me=(function(Ve,ft){var vt,zt=[],Ft=1/(ft-1);for(vt=0;vt<1;vt+=Ft)zt.push(vt);if(zt.push(1),Ve[0].offset!=0){var nn={offset:0,color:Ve[0].color};Ve.unshift(nn)}if(Ve[Ve.length-1].offset!=1){var Yn={offset:1,color:Ve[Ve.length-1].color};Ve.push(Yn)}for(var sr="",Rn=0,kr=0;kr<zt.length;kr++){for(vt=zt[kr];vt>Ve[Rn+1].offset;)Rn++;var gr=Ve[Rn].offset,qr=(vt-gr)/(Ve[Rn+1].offset-gr),es=Ve[Rn].color,la=Ve[Rn+1].color;sr+=ae(Math.round((1-qr)*es[0]+qr*la[0]).toString(16))+ae(Math.round((1-qr)*es[1]+qr*la[1]).toString(16))+ae(Math.round((1-qr)*es[2]+qr*la[2]).toString(16))}return sr.trim()})(x.colors,j),Se=[];Se.push({key:"FunctionType",value:"0"}),Se.push({key:"Domain",value:"[0.0 1.0]"}),Se.push({key:"Size",value:"["+j+"]"}),Se.push({key:"BitsPerSample",value:"8"}),Se.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Se.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Bi({data:me,additionalKeyValues:Se,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:re}),$("endobj"),x.objectNumber=pn(),$("<< /ShadingType "+x.type),$("/ColorSpace /DeviceRGB");var qe="/Coords ["+ee(parseFloat(x.coords[0]))+" "+ee(parseFloat(x.coords[1]))+" ";x.type===2?qe+=ee(parseFloat(x.coords[2]))+" "+ee(parseFloat(x.coords[3])):qe+=ee(parseFloat(x.coords[2]))+" "+ee(parseFloat(x.coords[3]))+" "+ee(parseFloat(x.coords[4]))+" "+ee(parseFloat(x.coords[5])),$(qe+="]"),x.matrix&&$("/Matrix ["+x.matrix.toString()+"]"),$("/Function "+re+" 0 R"),$("/Extend [true true]"),$(">>"),$("endobj")},ra=function(x,j){var re=Cn(),me=pn();j.push({resourcesOid:re,objectOid:me}),x.objectNumber=me;var Se=[];Se.push({key:"Type",value:"/Pattern"}),Se.push({key:"PatternType",value:"1"}),Se.push({key:"PaintType",value:"1"}),Se.push({key:"TilingType",value:"1"}),Se.push({key:"BBox",value:"["+x.boundingBox.map(ee).join(" ")+"]"}),Se.push({key:"XStep",value:ee(x.xStep)}),Se.push({key:"YStep",value:ee(x.yStep)}),Se.push({key:"Resources",value:re+" 0 R"}),x.matrix&&Se.push({key:"Matrix",value:"["+x.matrix.toString()+"]"}),Bi({data:x.stream,additionalKeyValues:Se,objectId:x.objectNumber}),$("endobj")},eo=function(x){for(var j in x.objectNumber=pn(),$("<<"),x)switch(j){case"opacity":$("/ca "+z(x[j]));break;case"stroke-opacity":$("/CA "+z(x[j]))}$(">>"),$("endobj")},Aa=function(x){An(x.resourcesOid,!0),$("<<"),$("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var j in $("/Font <<"),kt)kt.hasOwnProperty(j)&&(w===!1||w===!0&&A.hasOwnProperty(j))&&$("/"+j+" "+kt[j].objectNumber+" 0 R");$(">>")})(),(function(){if(Object.keys(Et).length>0){for(var j in $("/Shading <<"),Et)Et.hasOwnProperty(j)&&Et[j]instanceof uu&&Et[j].objectNumber>=0&&$("/"+j+" "+Et[j].objectNumber+" 0 R");Pt.publish("putShadingPatternDict"),$(">>")}})(),(function(j){if(Object.keys(Et).length>0){for(var re in $("/Pattern <<"),Et)Et.hasOwnProperty(re)&&Et[re]instanceof m.TilingPattern&&Et[re].objectNumber>=0&&Et[re].objectNumber<j&&$("/"+re+" "+Et[re].objectNumber+" 0 R");Pt.publish("putTilingPatternDict"),$(">>")}})(x.objectOid),(function(){if(Object.keys(Ct).length>0){var j;for(j in $("/ExtGState <<"),Ct)Ct.hasOwnProperty(j)&&Ct[j].objectNumber>=0&&$("/"+j+" "+Ct[j].objectNumber+" 0 R");Pt.publish("putGStateDict"),$(">>")}})(),(function(){for(var j in $("/XObject <<"),bn)bn.hasOwnProperty(j)&&bn[j].objectNumber>=0&&$("/"+j+" "+bn[j].objectNumber+" 0 R");Pt.publish("putXobjectDict"),$(">>")})(),$(">>"),$("endobj")},ar=function(x){Rt[x.fontName]=Rt[x.fontName]||{},Rt[x.fontName][x.fontStyle]=x.id},El=function(x,j,re,me,Se){var qe={id:"F"+(Object.keys(kt).length+1).toString(10),postScriptName:x,fontName:j,fontStyle:re,encoding:me,isStandardFont:Se||!1,metadata:{}};return Pt.publish("addFont",{font:qe,instance:this}),kt[qe.id]=qe,ar(qe),qe.id},Ti=m.__private__.pdfEscape=m.pdfEscape=function(x,j){return(function(re,me){var Se,qe,Ve,ft,vt,zt,Ft,nn,Yn;if(Ve=(me=me||{}).sourceEncoding||"Unicode",vt=me.outputEncoding,(me.autoencode||vt)&&kt[Ze].metadata&&kt[Ze].metadata[Ve]&&kt[Ze].metadata[Ve].encoding&&(ft=kt[Ze].metadata[Ve].encoding,!vt&&kt[Ze].encoding&&(vt=kt[Ze].encoding),!vt&&ft.codePages&&(vt=ft.codePages[0]),typeof vt=="string"&&(vt=ft[vt]),vt)){for(Ft=!1,zt=[],Se=0,qe=re.length;Se<qe;Se++)(nn=vt[re.charCodeAt(Se)])?zt.push(String.fromCharCode(nn)):zt.push(re[Se]),zt[Se].charCodeAt(0)>>8&&(Ft=!0);re=zt.join("")}for(Se=re.length;Ft===void 0&&Se!==0;)re.charCodeAt(Se-1)>>8&&(Ft=!0),Se--;if(!Ft)return re;for(zt=me.noBOM?[]:[254,255],Se=0,qe=re.length;Se<qe;Se++){if((Yn=(nn=re.charCodeAt(Se))>>8)>>8)throw new Error("Character at position "+Se+" of string '"+re+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");zt.push(Yn),zt.push(nn-(Yn<<8))}return String.fromCharCode.apply(void 0,zt)})(x,j).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ia=m.__private__.beginPage=function(x){Le[++wt]=[],lt[wt]={objId:0,contentsObjId:0,userUnit:Number(d),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(x[0]),topRightY:Number(x[1])}},kl(wt),ke(Le[P])},Wa=function(x,j){var re,me,Se;switch(n=j||n,typeof x=="string"&&(re=R(x.toLowerCase()),Array.isArray(re)&&(me=re[0],Se=re[1])),Array.isArray(x)&&(me=x[0]*At,Se=x[1]*At),isNaN(me)&&(me=l[0],Se=l[1]),(me>14400||Se>14400)&&(Un.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),me=Math.min(14400,me),Se=Math.min(14400,Se)),l=[me,Se],n.substr(0,1)){case"l":Se>me&&(l=[Se,me]);break;case"p":me>Se&&(l=[Se,me])}ia(l),jt(no),$(Li),Po!==0&&$(Po+" J"),Or!==0&&$(Or+" j"),Pt.publish("addPage",{pageNumber:wt})},Tl=function(x){x>0&&x<=wt&&(Le.splice(x,1),lt.splice(x,1),wt--,P>wt&&(P=wt),this.setPage(P))},kl=function(x){x>0&&x<=wt&&(P=x)},Nl=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return Le.length-1},yu=function(x,j,re){var me,Se=void 0;return re=re||{},x=x!==void 0?x:kt[Ze].fontName,j=j!==void 0?j:kt[Ze].fontStyle,me=x.toLowerCase(),Rt[me]!==void 0&&Rt[me][j]!==void 0?Se=Rt[me][j]:Rt[x]!==void 0&&Rt[x][j]!==void 0?Se=Rt[x][j]:re.disableWarning===!1&&Un.warn("Unable to look up font label for font '"+x+"', '"+j+"'. Refer to getFontList() for available fonts."),Se||re.noFallback||(Se=Rt.times[j])==null&&(Se=Rt.times.normal),Se},ki=m.__private__.putInfo=function(){var x=pn(),j=function(me){return me};for(var re in y!==null&&(j=Tr.encryptor(x,0)),$("<<"),$("/Producer ("+Ti(j("jsPDF "+St.version))+")"),pt)pt.hasOwnProperty(re)&&pt[re]&&$("/"+re.substr(0,1).toUpperCase()+re.substr(1)+" ("+Ti(j(pt[re]))+")");$("/CreationDate ("+Ti(j(Ee))+")"),$(">>"),$("endobj")},Ga=m.__private__.putCatalog=function(x){var j=(x=x||{}).rootDictionaryObjId||Er;switch(pn(),$("<<"),$("/Type /Catalog"),$("/Pages "+j+" 0 R"),Ke||(Ke="fullwidth"),Ke){case"fullwidth":$("/OpenAction [3 0 R /FitH null]");break;case"fullheight":$("/OpenAction [3 0 R /FitV null]");break;case"fullpage":$("/OpenAction [3 0 R /Fit]");break;case"original":$("/OpenAction [3 0 R /XYZ null null 1]");break;default:var re=""+Ke;re.substr(re.length-1)==="%"&&(Ke=parseInt(Ke)/100),typeof Ke=="number"&&$("/OpenAction [3 0 R /XYZ null null "+z(Ke)+"]")}switch(Qe||(Qe="continuous"),Qe){case"continuous":$("/PageLayout /OneColumn");break;case"single":$("/PageLayout /SinglePage");break;case"two":case"twoleft":$("/PageLayout /TwoColumnLeft");break;case"tworight":$("/PageLayout /TwoColumnRight")}at&&$("/PageMode /"+at),Pt.publish("putCatalog"),$(">>"),$("endobj")},aa=m.__private__.putTrailer=function(){$("trailer"),$("<<"),$("/Size "+(V+1)),$("/Root "+V+" 0 R"),$("/Info "+(V-1)+" 0 R"),y!==null&&$("/Encrypt "+Tr.oid+" 0 R"),$("/ID [ <"+X+"> <"+X+"> ]"),$(">>")},dn=m.__private__.putHeader=function(){$("%PDF-"+T),$("%")},Ll=m.__private__.putXRef=function(){var x="0000000000";$("xref"),$("0 "+(V+1)),$("0000000000 65535 f ");for(var j=1;j<=V;j++)typeof Q[j]=="function"?$((x+Q[j]()).slice(-10)+" 00000 n "):Q[j]!==void 0?$((x+Q[j]).slice(-10)+" 00000 n "):$("0000000000 00000 n ")},Ea=m.__private__.buildDocument=function(){var x;V=0,ye=0,le=[],Q=[],pe=[],Er=Cn(),En=Cn(),ke(le),Pt.publish("buildDocument"),dn(),ea(),(function(){Pt.publish("putAdditionalObjects");for(var re=0;re<pe.length;re++){var me=pe[re];An(me.objId,!0),$(me.content),$("endobj")}Pt.publish("postPutAdditionalObjects")})(),x=[],(function(){for(var re in kt)kt.hasOwnProperty(re)&&(w===!1||w===!0&&A.hasOwnProperty(re))&&ta(kt[re])})(),(function(){var re;for(re in Ct)Ct.hasOwnProperty(re)&&eo(Ct[re])})(),(function(){for(var re in bn)bn.hasOwnProperty(re)&&Ns(bn[re])})(),(function(re){var me;for(me in Et)Et.hasOwnProperty(me)&&(Et[me]instanceof uu?na(Et[me]):Et[me]instanceof Sc&&ra(Et[me],re))})(x),Pt.publish("putResources"),x.forEach(Aa),Aa({resourcesOid:En,objectOid:Number.MAX_SAFE_INTEGER}),Pt.publish("postPutResources"),y!==null&&(Tr.oid=pn(),$("<<"),$("/Filter /Standard"),$("/V "+Tr.v),$("/R "+Tr.r),$("/U <"+Tr.toHexString(Tr.U)+">"),$("/O <"+Tr.toHexString(Tr.O)+">"),$("/P "+Tr.P),$(">>"),$("endobj")),ki(),Ga();var j=ye;return Ll(),aa(),$("startxref"),$(""+j),$("%%EOF"),ke(Le[P]),le.join(`
`)},Ls=m.__private__.getBlob=function(x){return new Blob([et(x)],{type:"application/pdf"})},Cl=m.output=m.__private__.output=(Wn=function(x,j){switch(typeof(j=j||{})=="string"?j={filename:j}:j.filename=j.filename||"generated.pdf",x){case void 0:return Ea();case"save":m.save(j.filename);break;case"arraybuffer":return et(Ea());case"blob":return Ls(Ea());case"bloburi":case"bloburl":if(qt.URL!==void 0&&typeof qt.URL.createObjectURL=="function")return qt.URL&&qt.URL.createObjectURL(Ls(Ea()))||void 0;Un.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var re="",me=Ea();try{re=ay(me)}catch{re=ay(unescape(encodeURIComponent(me)))}return"data:application/pdf;filename="+j.filename+";base64,"+re;case"pdfobjectnewwindow":if(Object.prototype.toString.call(qt)==="[object Window]"){var Se="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",qe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';j.pdfObjectUrl&&(Se=j.pdfObjectUrl,qe="");var Ve='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Se+'"'+qe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(j)+");<\/script></body></html>",ft=qt.open();return ft!==null&&ft.document.write(Ve),ft}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(qt)==="[object Window]"){var vt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(j.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+j.filename+'" width="500px" height="400px" /></body></html>',zt=qt.open();if(zt!==null){zt.document.write(vt);var Ft=this;zt.document.documentElement.querySelector("#pdfViewer").onload=function(){zt.document.title=j.filename,zt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ft.output("bloburl"))}}return zt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(qt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var nn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",j)+'"></iframe></body></html>',Yn=qt.open();if(Yn!==null&&(Yn.document.write(nn),Yn.document.title=j.filename),Yn||typeof safari>"u")return Yn;break;case"datauri":case"dataurl":return qt.document.location.href=this.output("datauristring",j);default:return null}},Wn.foo=function(){try{return Wn.apply(this,arguments)}catch(re){var x=re.stack||"";~x.indexOf(" at ")&&(x=x.split(" at ")[1]);var j="Error in function "+x.split(`
`)[0].split("<")[0]+": "+re.message;if(!qt.console)throw new Error(j);qt.console.error(j,re),qt.alert&&alert(j)}},Wn.foo.bar=Wn,Wn.foo),si=function(x){return Array.isArray(hr)===!0&&hr.indexOf(x)>-1};switch(a){case"pt":At=1;break;case"mm":At=72/25.4;break;case"cm":At=72/2.54;break;case"in":At=72;break;case"px":At=si("px_scaling")==1?.75:96/72;break;case"pc":case"em":At=12;break;case"ex":At=6;break;default:if(typeof a!="number")throw new Error("Invalid unit: "+a);At=a}var Tr=null;I(),he();var pr=m.__private__.getPageInfo=m.getPageInfo=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:lt[x].objId,pageNumber:x,pageContext:lt[x]}},Mo=m.__private__.getPageInfoByObjId=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var j in lt)if(lt[j].objId===x)break;return pr(j)},vu=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:lt[P].objId,pageNumber:P,pageContext:lt[P]}};m.addPage=function(){return Wa.apply(this,arguments),this},m.setPage=function(){return kl.apply(this,arguments),ke.call(this,Le[P]),this},m.insertPage=function(x){return this.addPage(),this.movePage(P,x),this},m.movePage=function(x,j){var re,me;if(x>j){re=Le[x],me=lt[x];for(var Se=x;Se>j;Se--)Le[Se]=Le[Se-1],lt[Se]=lt[Se-1];Le[j]=re,lt[j]=me,this.setPage(j)}else if(x<j){re=Le[x],me=lt[x];for(var qe=x;qe<j;qe++)Le[qe]=Le[qe+1],lt[qe]=lt[qe+1];Le[j]=re,lt[j]=me,this.setPage(j)}return this},m.deletePage=function(){return Tl.apply(this,arguments),this},m.__private__.text=m.text=function(x,j,re,me,Se){var qe,Ve,ft,vt,zt,Ft,nn,Yn,sr,Rn=(me=me||{}).scope||this;if(typeof x=="number"&&typeof j=="number"&&(typeof re=="string"||Array.isArray(re))){var kr=re;re=j,j=x,x=kr}if(arguments[3]instanceof yt==0?(ft=arguments[4],vt=arguments[5],Ln(nn=arguments[3])==="object"&&nn!==null||(typeof ft=="string"&&(vt=ft,ft=null),typeof nn=="string"&&(vt=nn,nn=null),typeof nn=="number"&&(ft=nn,nn=null),me={flags:nn,angle:ft,align:vt})):(q("The transform parameter of text() with a Matrix value"),sr=Se),isNaN(j)||isNaN(re)||x==null)throw new Error("Invalid arguments passed to jsPDF.text");if(x.length===0)return Rn;var gr,qr="",es=typeof me.lineHeightFactor=="number"?me.lineHeightFactor:Ya,la=Rn.internal.scaleFactor;function ts(fn){return fn=fn.split("	").join(Array(me.TabLen||9).join(" ")),Ti(fn,nn)}function Pl(fn){for(var rn,jn=fn.concat(),lr=[],Ba=jn.length;Ba--;)typeof(rn=jn.shift())=="string"?lr.push(rn):Array.isArray(fn)&&(rn.length===1||rn[1]===void 0&&rn[2]===void 0)?lr.push(rn[0]):lr.push([rn[0],rn[1],rn[2]]);return lr}function qo(fn,rn){var jn;if(typeof fn=="string")jn=rn(fn)[0];else if(Array.isArray(fn)){for(var lr,Ba,fa=fn.concat(),uo=[],Fl=fa.length;Fl--;)typeof(lr=fa.shift())=="string"?uo.push(rn(lr)[0]):Array.isArray(lr)&&typeof lr[0]=="string"&&(Ba=rn(lr[0],lr[1],lr[2]),uo.push([Ba[0],Ba[1],Ba[2]]));jn=uo}return jn}var Na=!1,ua=!0;if(typeof x=="string")Na=!0;else if(Array.isArray(x)){var oo=x.concat();Ve=[];for(var ns,Dr=oo.length;Dr--;)(typeof(ns=oo.shift())!="string"||Array.isArray(ns)&&typeof ns[0]!="string")&&(ua=!1);Na=ua}if(Na===!1)throw new Error('Type of text must be string or Array. "'+x+'" is not recognized.');typeof x=="string"&&(x=x.match(/[\r?\n]/)?x.split(/\r\n|\r|\n/g):[x]);var Rs=De/Rn.internal.scaleFactor,js=Rs*(es-1);switch(me.baseline){case"bottom":re-=js;break;case"top":re+=Rs-js;break;case"hanging":re+=Rs-2*js;break;case"middle":re+=Rs/2-js}if((Ft=me.maxWidth||0)>0&&(typeof x=="string"?x=Rn.splitTextToSize(x,Ft):Object.prototype.toString.call(x)==="[object Array]"&&(x=x.reduce(function(fn,rn){return fn.concat(Rn.splitTextToSize(rn,Ft))},[]))),qe={text:x,x:j,y:re,options:me,mutex:{pdfEscape:Ti,activeFontKey:Ze,fonts:kt,activeFontSize:De}},Pt.publish("preProcessText",qe),x=qe.text,ft=(me=qe.options).angle,sr instanceof yt==0&&ft&&typeof ft=="number"){ft*=Math.PI/180,me.rotationDirection===0&&(ft=-ft),W===M&&(ft=-ft);var Fo=Math.cos(ft),La=Math.sin(ft);sr=new yt(Fo,La,-La,Fo,0,0)}else ft&&ft instanceof yt&&(sr=ft);W!==M||sr||(sr=Ar),(zt=me.charSpace||zi)!==void 0&&(qr+=ee(se(zt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Yn=me.horizontalScale)!==void 0&&(qr+=ee(100*Yn)+` Tz
`),me.lang;var li=-1,rs=me.renderingMode!==void 0?me.renderingMode:me.stroke,Ho=Rn.internal.getCurrentPageInfo().pageContext;switch(rs){case 0:case!1:case"fill":li=0;break;case 1:case!0:case"stroke":li=1;break;case 2:case"fillThenStroke":li=2;break;case 3:case"invisible":li=3;break;case 4:case"fillAndAddForClipping":li=4;break;case 5:case"strokeAndAddPathForClipping":li=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":li=6;break;case 7:case"addToPathForClipping":li=7}var Ul=Ho.usedRenderingMode!==void 0?Ho.usedRenderingMode:-1;li!==-1?qr+=li+` Tr
`:Ul!==-1&&(qr+=`0 Tr
`),li!==-1&&(Ho.usedRenderingMode=li),vt=me.align||"left";var Ci,ca=De*es,is=Rn.internal.pageSize.getWidth(),ql=kt[Ze];zt=me.charSpace||zi,Ft=me.maxWidth||0,nn=Object.assign({autoencode:!0,noBOM:!0},me.flags);var da=[],Os=function(fn){return Rn.getStringUnitWidth(fn,{font:ql,charSpace:zt,fontSize:De,doKerning:!1})*De/la};if(Object.prototype.toString.call(x)==="[object Array]"){var vi;Ve=Pl(x),vt!=="left"&&(Ci=Ve.map(Os));var ui,Ca=0;if(vt==="right"){j-=Ci[0],x=[],Dr=Ve.length;for(var Ra=0;Ra<Dr;Ra++)Ra===0?(ui=Ni(j),vi=Ur(re)):(ui=se(Ca-Ci[Ra]),vi=-ca),x.push([Ve[Ra],ui,vi]),Ca=Ci[Ra]}else if(vt==="center"){j-=Ci[0]/2,x=[],Dr=Ve.length;for(var as=0;as<Dr;as++)as===0?(ui=Ni(j),vi=Ur(re)):(ui=se((Ca-Ci[as])/2),vi=-ca),x.push([Ve[as],ui,vi]),Ca=Ci[as]}else if(vt==="left"){x=[],Dr=Ve.length;for(var $o=0;$o<Dr;$o++)x.push(Ve[$o])}else if(vt==="justify"&&ql.encoding==="Identity-H"){x=[],Dr=Ve.length,Ft=Ft!==0?Ft:is;for(var Wo=0,or=0;or<Dr;or++)if(vi=or===0?Ur(re):-ca,ui=or===0?Ni(j):Wo,or<Dr-1){var ku=se((Ft-Ci[or])/(Ve[or].split(" ").length-1)),ja=Ve[or].split(" ");x.push([ja[0]+" ",ui,vi]),Wo=0;for(var Oa=1;Oa<ja.length;Oa++){var Fr=(Os(ja[Oa-1]+" "+ja[Oa])-Os(ja[Oa]))*la+ku;Oa==ja.length-1?x.push([ja[Oa],Fr,0]):x.push([ja[Oa]+" ",Fr,0]),Wo-=Fr}}else x.push([Ve[or],ui,vi]);x.push(["",Wo,0])}else{if(vt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(x=[],Dr=Ve.length,Ft=Ft!==0?Ft:is,or=0;or<Dr;or++){vi=or===0?Ur(re):-ca,ui=or===0?Ni(j):0;var ss=Ve[or].split(" ").length-1,Go=ss>0?(Ft-Ci[or])/ss:0;or<Dr-1?da.push(ee(se(Go))):da.push(0),x.push([Ve[or],ui,vi])}}}(typeof me.R2L=="boolean"?me.R2L:Ye)===!0&&(x=qo(x,function(fn,rn,jn){return[fn.split("").reverse().join(""),rn,jn]})),qe={text:x,x:j,y:re,options:me,mutex:{pdfEscape:Ti,activeFontKey:Ze,fonts:kt,activeFontSize:De}},Pt.publish("postProcessText",qe),x=qe.text,gr=qe.mutex.isHex||!1;var Yo=kt[Ze].encoding;Yo!=="WinAnsiEncoding"&&Yo!=="StandardEncoding"||(x=qo(x,function(fn,rn,jn){return[ts(fn),rn,jn]})),Ve=Pl(x),x=[];for(var os,ls,Da,lo=Array.isArray(Ve[0])?1:0,Ri="",us=function(fn,rn,jn){var lr="";return jn instanceof yt?(jn=typeof me.angle=="number"?Sn(jn,new yt(1,0,0,1,fn,rn)):Sn(new yt(1,0,0,1,fn,rn),jn),W===M&&(jn=Sn(new yt(1,0,0,-1,0,0),jn)),lr=jn.join(" ")+` Tm
`):lr=ee(fn)+" "+ee(rn)+` Td
`,lr},Zr=0;Zr<Ve.length;Zr++){switch(Ri="",lo){case 1:Da=(gr?"<":"(")+Ve[Zr][0]+(gr?">":")"),os=parseFloat(Ve[Zr][1]),ls=parseFloat(Ve[Zr][2]);break;case 0:Da=(gr?"<":"(")+Ve[Zr]+(gr?">":")"),os=Ni(j),ls=Ur(re)}da!==void 0&&da[Zr]!==void 0&&(Ri=da[Zr]+` Tw
`),Zr===0?x.push(Ri+us(os,ls,sr)+Da):lo===0?x.push(Ri+Da):lo===1&&x.push(Ri+us(os,ls,sr)+Da)}x=lo===0?x.join(` Tj
T* `):x.join(` Tj
`),x+=` Tj
`;var Ii=`BT
/`;return Ii+=Ze+" "+De+` Tf
`,Ii+=ee(De*es)+` TL
`,Ii+=Ta+`
`,Ii+=qr,Ii+=x,$(Ii+="ET"),A[Ze]=!0,Rn};var Rl=m.__private__.clip=m.clip=function(x){return $(x==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return Rl("evenodd")},m.__private__.discardPath=m.discardPath=function(){return $("n"),this};var oi=m.__private__.isValidStyle=function(x){var j=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(x)!==-1&&(j=!0),j};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(x){return oi(x)&&(h=x),this};var jl=m.__private__.getStyle=m.getStyle=function(x){var j=h;switch(x){case"D":case"S":j="S";break;case"F":j="f";break;case"FD":case"DF":j="B";break;case"f":case"f*":case"B":case"B*":j=x}return j},Ol=m.close=function(){return $("h"),this};m.stroke=function(){return $("S"),this},m.fill=function(x){return sa("f",x),this},m.fillEvenOdd=function(x){return sa("f*",x),this},m.fillStroke=function(x){return sa("B",x),this},m.fillStrokeEvenOdd=function(x){return sa("B*",x),this};var sa=function(x,j){Ln(j)==="object"?wu(j,x):$(x)},to=function(x){x===null||W===M&&x===void 0||(x=jl(x),$(x))};function bu(x,j,re,me,Se){var qe=new Sc(j||this.boundingBox,re||this.xStep,me||this.yStep,this.gState,Se||this.matrix);qe.stream=this.stream;var Ve=x+"$$"+this.cloneIndex+++"$$";return Fn(Ve,qe),qe}var wu=function(x,j){var re=yn[x.key],me=Et[re];if(me instanceof uu)$("q"),$(Dl(j)),me.gState&&m.setGState(me.gState),$(x.matrix.toString()+" cm"),$("/"+re+" sh"),$("Q");else if(me instanceof Sc){var Se=new yt(1,0,0,-1,0,Qa());x.matrix&&(Se=Se.multiply(x.matrix||Ar),re=bu.call(me,x.key,x.boundingBox,x.xStep,x.yStep,Se).id),$("q"),$("/Pattern cs"),$("/"+re+" scn"),me.gState&&m.setGState(me.gState),$(j),$("Q")}},Dl=function(x){switch(x){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Bl=m.moveTo=function(x,j){return $(ee(se(x))+" "+ee(oe(j))+" m"),this},xu=m.lineTo=function(x,j){return $(ee(se(x))+" "+ee(oe(j))+" l"),this},yi=m.curveTo=function(x,j,re,me,Se,qe){return $([ee(se(x)),ee(oe(j)),ee(se(re)),ee(oe(me)),ee(se(Se)),ee(oe(qe)),"c"].join(" ")),this};m.__private__.line=m.line=function(x,j,re,me,Se){if(isNaN(x)||isNaN(j)||isNaN(re)||isNaN(me)||!oi(Se))throw new Error("Invalid arguments passed to jsPDF.line");return W===D?this.lines([[re-x,me-j]],x,j,[1,1],Se||"S"):this.lines([[re-x,me-j]],x,j,[1,1]).stroke()},m.__private__.lines=m.lines=function(x,j,re,me,Se,qe){var Ve,ft,vt,zt,Ft,nn,Yn,sr,Rn,kr,gr,qr;if(typeof x=="number"&&(qr=re,re=j,j=x,x=qr),me=me||[1,1],qe=qe||!1,isNaN(j)||isNaN(re)||!Array.isArray(x)||!Array.isArray(me)||!oi(Se)||typeof qe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Bl(j,re),Ve=me[0],ft=me[1],zt=x.length,kr=j,gr=re,vt=0;vt<zt;vt++)(Ft=x[vt]).length===2?(kr=Ft[0]*Ve+kr,gr=Ft[1]*ft+gr,xu(kr,gr)):(nn=Ft[0]*Ve+kr,Yn=Ft[1]*ft+gr,sr=Ft[2]*Ve+kr,Rn=Ft[3]*ft+gr,kr=Ft[4]*Ve+kr,gr=Ft[5]*ft+gr,yi(nn,Yn,sr,Rn,kr,gr));return qe&&Ol(),to(Se),this},m.path=function(x){for(var j=0;j<x.length;j++){var re=x[j],me=re.c;switch(re.op){case"m":Bl(me[0],me[1]);break;case"l":xu(me[0],me[1]);break;case"c":yi.apply(this,me);break;case"h":Ol()}}return this},m.__private__.rect=m.rect=function(x,j,re,me,Se){if(isNaN(x)||isNaN(j)||isNaN(re)||isNaN(me)||!oi(Se))throw new Error("Invalid arguments passed to jsPDF.rect");return W===D&&(me=-me),$([ee(se(x)),ee(oe(j)),ee(se(re)),ee(se(me)),"re"].join(" ")),to(Se),this},m.__private__.triangle=m.triangle=function(x,j,re,me,Se,qe,Ve){if(isNaN(x)||isNaN(j)||isNaN(re)||isNaN(me)||isNaN(Se)||isNaN(qe)||!oi(Ve))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[re-x,me-j],[Se-re,qe-me],[x-Se,j-qe]],x,j,[1,1],Ve,!0),this},m.__private__.roundedRect=m.roundedRect=function(x,j,re,me,Se,qe,Ve){if(isNaN(x)||isNaN(j)||isNaN(re)||isNaN(me)||isNaN(Se)||isNaN(qe)||!oi(Ve))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ft=4/3*(Math.SQRT2-1);return Se=Math.min(Se,.5*re),qe=Math.min(qe,.5*me),this.lines([[re-2*Se,0],[Se*ft,0,Se,qe-qe*ft,Se,qe],[0,me-2*qe],[0,qe*ft,-Se*ft,qe,-Se,qe],[2*Se-re,0],[-Se*ft,0,-Se,-qe*ft,-Se,-qe],[0,2*qe-me],[0,-qe*ft,Se*ft,-qe,Se,-qe]],x+Se,j,[1,1],Ve,!0),this},m.__private__.ellipse=m.ellipse=function(x,j,re,me,Se){if(isNaN(x)||isNaN(j)||isNaN(re)||isNaN(me)||!oi(Se))throw new Error("Invalid arguments passed to jsPDF.ellipse");var qe=4/3*(Math.SQRT2-1)*re,Ve=4/3*(Math.SQRT2-1)*me;return Bl(x+re,j),yi(x+re,j-Ve,x+qe,j-me,x,j-me),yi(x-qe,j-me,x-re,j-Ve,x-re,j),yi(x-re,j+Ve,x-qe,j+me,x,j+me),yi(x+qe,j+me,x+re,j+Ve,x+re,j),to(Se),this},m.__private__.circle=m.circle=function(x,j,re,me){if(isNaN(x)||isNaN(j)||isNaN(re)||!oi(me))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(x,j,re,re,me)},m.setFont=function(x,j,re){return re&&(j=Z(j,re)),Ze=yu(x,j,{disableWarning:!1}),this};var oa=m.__private__.getFont=m.getFont=function(){return kt[yu.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var x,j,re={};for(x in Rt)if(Rt.hasOwnProperty(x))for(j in re[x]=[],Rt[x])Rt[x].hasOwnProperty(j)&&re[x].push(j);return re},m.addFont=function(x,j,re,me,Se){var qe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&qe.indexOf(arguments[3])!==-1?Se=arguments[3]:arguments[3]&&qe.indexOf(arguments[3])==-1&&(re=Z(re,me)),El.call(this,x,j,re,Se=Se||"Identity-H")};var Ya,no=t.lineWidth||.200025,Cs=m.__private__.getLineWidth=m.getLineWidth=function(){return no},jt=m.__private__.setLineWidth=m.setLineWidth=function(x){return no=x,$(ee(se(x))+" w"),this};m.__private__.setLineDash=St.API.setLineDash=St.API.setLineDashPattern=function(x,j){if(x=x||[],j=j||0,isNaN(j)||!Array.isArray(x))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return x=x.map(function(re){return ee(se(re))}).join(" "),j=ee(se(j)),$("["+x+"] "+j+" d"),this};var _u=m.__private__.getLineHeight=m.getLineHeight=function(){return De*Ya};m.__private__.getLineHeight=m.getLineHeight=function(){return De*Ya};var zl=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(x){return typeof(x=x||1.15)=="number"&&(Ya=x),this},Su=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return Ya};zl(t.lineHeight);var Ni=m.__private__.getHorizontalCoordinate=function(x){return se(x)},Ur=m.__private__.getVerticalCoordinate=function(x){return W===M?x:lt[P].mediaBox.topRightY-lt[P].mediaBox.bottomLeftY-se(x)},Ml=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(x){return ee(Ni(x))},ro=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(x){return ee(Ur(x))},Li=t.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return Gn(Li)},m.__private__.setStrokeColor=m.setDrawColor=function(x,j,re,me){return Li=Jr({ch1:x,ch2:j,ch3:re,ch4:me,pdfColorType:"draw",precision:2}),$(Li),this};var io=t.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return Gn(io)},m.__private__.setFillColor=m.setFillColor=function(x,j,re,me){return io=Jr({ch1:x,ch2:j,ch3:re,ch4:me,pdfColorType:"fill",precision:2}),$(io),this};var Ta=t.textColor||"0 g",Au=m.__private__.getTextColor=m.getTextColor=function(){return Gn(Ta)};m.__private__.setTextColor=m.setTextColor=function(x,j,re,me){return Ta=Jr({ch1:x,ch2:j,ch3:re,ch4:me,pdfColorType:"text",precision:3}),this};var zi=t.charSpace,Io=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(zi||0)};m.__private__.setCharSpace=m.setCharSpace=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return zi=x,this};var Po=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(x){var j=m.CapJoinStyles[x];if(j===void 0)throw new Error("Line cap style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Po=j,$(j+" J"),this};var Or=0;m.__private__.setLineJoin=m.setLineJoin=function(x){var j=m.CapJoinStyles[x];if(j===void 0)throw new Error("Line join style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Or=j,$(j+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(x){if(x=x||0,isNaN(x))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return $(ee(se(x))+" M"),this},m.GState=Rh,m.setGState=function(x){(x=typeof x=="string"?Ct[Bt[x]]:ka(null,x)).equals(vn)||($("/"+x.id+" gs"),vn=x)};var ka=function(x,j){if(!x||!Bt[x]){var re=!1;for(var me in Ct)if(Ct.hasOwnProperty(me)&&Ct[me].equals(j)){re=!0;break}if(re)j=Ct[me];else{var Se="GS"+(Object.keys(Ct).length+1).toString(10);Ct[Se]=j,j.id=Se}return x&&(Bt[x]=j.id),Pt.publish("addGState",j),j}};m.addGState=function(x,j){return ka(x,j),this},m.saveGraphicsState=function(){return $("q"),Yt.push({key:Ze,size:De,color:Ta}),this},m.restoreGraphicsState=function(){$("Q");var x=Yt.pop();return Ze=x.key,De=x.size,Ta=x.color,vn=null,this},m.setCurrentTransformationMatrix=function(x){return $(x.toString()+" cm"),this},m.comment=function(x){return $("#"+x),this};var Mi=function(x,j){var re=x||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return re},set:function(qe){isNaN(qe)||(re=parseFloat(qe))}});var me=j||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return me},set:function(qe){isNaN(qe)||(me=parseFloat(qe))}});var Se="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Se},set:function(qe){Se=qe.toString()}}),this},Va=function(x,j,re,me){Mi.call(this,x,j),this.type="rect";var Se=re||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Se},set:function(Ve){isNaN(Ve)||(Se=parseFloat(Ve))}});var qe=me||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return qe},set:function(Ve){isNaN(Ve)||(qe=parseFloat(Ve))}}),this},Uo=function(){this.page=wt,this.currentPage=P,this.pages=Le.slice(0),this.pagesContext=lt.slice(0),this.x=nt,this.y=cn,this.matrix=xt,this.width=Xa(P),this.height=Il(P),this.outputDestination=ie,this.id="",this.objectNumber=-1};Uo.prototype.restore=function(){wt=this.page,P=this.currentPage,lt=this.pagesContext,Le=this.pages,nt=this.x,cn=this.y,xt=this.matrix,so(P,this.width),Ja(P,this.height),ie=this.outputDestination};var ao=function(x,j,re,me,Se){$n.push(new Uo),wt=P=0,Le=[],nt=x,cn=j,xt=Se,ia([re,me])};for(var Ka in m.beginFormObject=function(x,j,re,me,Se){return ao(x,j,re,me,Se),this},m.endFormObject=function(x){return(function(j){if(qn[j])$n.pop().restore();else{var re=new Uo,me="Xo"+(Object.keys(bn).length+1).toString(10);re.id=me,qn[j]=me,bn[me]=re,Pt.publish("addFormObject",re),$n.pop().restore()}})(x),this},m.doFormObject=function(x,j){var re=bn[qn[x]];return $("q"),$(j.toString()+" cm"),$("/"+re.id+" Do"),$("Q"),this},m.getFormObject=function(x){var j=bn[qn[x]];return{x:j.x,y:j.y,width:j.width,height:j.height,matrix:j.matrix}},m.save=function(x,j){return x=x||"generated.pdf",(j=j||{}).returnPromise=j.returnPromise||!1,j.returnPromise===!1?(su(Ls(Ea()),x),typeof su.unload=="function"&&qt.setTimeout&&setTimeout(su.unload,911),this):new Promise(function(re,me){try{var Se=su(Ls(Ea()),x);typeof su.unload=="function"&&qt.setTimeout&&setTimeout(su.unload,911),re(Se)}catch(qe){me(qe.message)}})},St.API)St.API.hasOwnProperty(Ka)&&(Ka==="events"&&St.API.events.length?(function(x,j){var re,me,Se;for(Se=j.length-1;Se!==-1;Se--)re=j[Se][0],me=j[Se][1],x.subscribe.apply(x,[re].concat(typeof me=="function"?[me]:me))})(Pt,St.API.events):m[Ka]=St.API[Ka]);function Xa(x){return lt[x].mediaBox.topRightX-lt[x].mediaBox.bottomLeftX}function so(x,j){lt[x].mediaBox.topRightX=j+lt[x].mediaBox.bottomLeftX}function Il(x){return lt[x].mediaBox.topRightY-lt[x].mediaBox.bottomLeftY}function Ja(x,j){lt[x].mediaBox.topRightY=j+lt[x].mediaBox.bottomLeftY}var Za=m.getPageWidth=function(x){return Xa(x=x||P)/At},Eu=m.setPageWidth=function(x,j){so(x,j*At)},Qa=m.getPageHeight=function(x){return Il(x=x||P)/At},Tu=m.setPageHeight=function(x,j){Ja(x,j*At)};return m.internal={pdfEscape:Ti,getStyle:jl,getFont:oa,getFontSize:$e,getCharSpace:Io,getTextColor:Au,getLineHeight:_u,getLineHeightFactor:Su,getLineWidth:Cs,write:ze,getHorizontalCoordinate:Ni,getVerticalCoordinate:Ur,getCoordinateString:Ml,getVerticalCoordinateString:ro,collections:{},newObject:pn,newAdditionalObject:mi,newObjectDeferred:Cn,newObjectDeferredBegin:An,getFilters:Ei,putStream:Bi,events:Pt,scaleFactor:At,pageSize:{getWidth:function(){return Za(P)},setWidth:function(x){Eu(P,x)},getHeight:function(){return Qa(P)},setHeight:function(x){Tu(P,x)}},encryptionOptions:y,encryption:Tr,getEncryptor:function(x){return y!==null?Tr.encryptor(x,0):function(j){return j}},output:Cl,getNumberOfPages:Nl,get pages(){return Le},out:$,f2:z,f3:Y,getPageInfo:pr,getPageInfoByObjId:Mo,getCurrentPageInfo:vu,getPDFVersion:E,Point:Mi,Rectangle:Va,Matrix:yt,hasHotfix:si},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return Za(P)},set:function(x){Eu(P,x)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return Qa(P)},set:function(x){Tu(P,x)},enumerable:!0,configurable:!0}),(function(x){for(var j=0,re=Je.length;j<re;j++){var me=El.call(this,x[j][0],x[j][1],x[j][2],Je[j][3],!0);w===!1&&(A[me]=!0);var Se=x[j][0].split("-");ar({id:me,fontName:Se[0],fontStyle:Se[1]||""})}Pt.publish("addFonts",{fonts:kt,dictionary:Rt})}).call(m,Je),Ze="F1",Wa(l,n),Pt.publish("initialized"),m}wc.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},wc.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},wc.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},wc.prototype.processOwnerPassword=function(t,e){return Sg(_g(e).substr(0,5),t)},wc.prototype.encryptor=function(t,e){var n=_g(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(a){return Sg(n,a)}},Rh.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||Ln(t)!==Ln(this))return!1;var a=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;a++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&a--;return a===0},St.API={events:[]},St.version="4.1.0";var _r=St.API,Zg=1,mu=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},pc=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},jh=function(t){return t.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(e){var n=e.charCodeAt(0).toString(16).toUpperCase();return"#"+(n.length===1?"0"+n:n)})},Wt=function(t){return t.toFixed(2)},vl=function(t){return t.toFixed(5)};_r.__acroform__={};var Qi=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},uy=function(t){return t*Zg},Ks=function(t){var e=new Nb,n=mt.internal.getHeight(t)||0,a=mt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Wt(a)),Number(Wt(n))],e},CE=_r.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},RE=_r.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},jE=_r.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Cr=_r.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return jE(t,e-1)},Rr=_r.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return CE(t,e-1)},jr=_r.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return RE(t,e-1)},OE=_r.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,a=e.internal.getVerticalCoordinate,l=t[0],s=t[1],c=t[2],d=t[3],f={};return f.lowerLeft_X=n(l)||0,f.lowerLeft_Y=a(s+d)||0,f.upperRight_X=n(l+c)||0,f.upperRight_Y=a(s)||0,[Number(Wt(f.lowerLeft_X)),Number(Wt(f.lowerLeft_Y)),Number(Wt(f.upperRight_X)),Number(Wt(f.upperRight_Y))]},DE=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,a=Ag(t,n),l=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+l+" "+Wt(a.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(a.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Ks(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},Ag=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,a={text:"",fontSize:""},l=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");l=t.multiline?l.map(function(z){return z.split(`
`)}):l.map(function(z){return[z]});var s=n,c=mt.internal.getHeight(t)||0;c=c<0?-c:c;var d=mt.internal.getWidth(t)||0;d=d<0?-d:d;var f=function(z,Y,se){if(z+1<l.length){var oe=Y+" "+l[z+1][0];return oh(oe,t,se).width<=d-4}return!1};s++;e:for(;s>0;){e="",s--;var h,y,w=oh("3",t,s).height,A=t.multiline?c-s:(c-w)/2,m=A+=2,T=0,E=0,L=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+oh(e,t,s=12).width+", FieldWidth:"+d+`
`;break}for(var R="",D=0,M=0;M<l.length;M++)if(l.hasOwnProperty(M)){var W=!1;if(l[M].length!==1&&L!==l[M].length-1){if((w+2)*(D+2)+2>c)continue e;R+=l[M][L],W=!0,E=M,M--}else{R=(R+=l[M][L]+" ").substr(R.length-1)==" "?R.substr(0,R.length-1):R;var ue=parseInt(M),ce=f(ue,R,s),Z=M>=l.length-1;if(ce&&!Z){R+=" ",L=0;continue}if(ce||Z){if(Z)E=ue;else if(t.multiline&&(w+2)*(D+2)+2>c)continue e}else{if(!t.multiline||(w+2)*(D+2)+2>c)continue e;E=ue}}for(var ee="",q=T;q<=E;q++){var fe=l[q];if(t.multiline){if(q===E){ee+=fe[L]+" ",L=(L+1)%fe.length;continue}if(q===T){ee+=fe[fe.length-1]+" ";continue}}ee+=fe[0]+" "}switch(ee=ee.substr(ee.length-1)==" "?ee.substr(0,ee.length-1):ee,y=oh(ee,t,s).width,t.textAlign){case"right":h=d-y-2;break;case"center":h=(d-y)/2;break;default:h=2}e+=Wt(h)+" "+Wt(m)+` Td
`,e+="("+mu(ee)+`) Tj
`,e+=-Wt(h)+` 0 Td
`,m=-(s+2),y=0,T=W?E:E+1,D++,R=""}break}return a.text=e,a.fontSize=s,a},oh=function(t,e,n){var a=e.scope.internal.getFont(e.fontName,e.fontStyle),l=e.scope.getStringUnitWidth(t,{font:a,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:a,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:l}},BE={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},zE=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(a){return a.type===n.type&&a.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},ME=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Ts.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(BE)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Zg=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new Lb,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var a=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var l in a)if(a.hasOwnProperty(l)){var s=a[l];s.objId=void 0,s.hasAnnotation&&zE(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(a,l){var s=!a;for(var c in a||(l.internal.newObjectDeferredBegin(l.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),l.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),a=a||l.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(a.hasOwnProperty(c)){var d=a[c],f=[],h=d.Rect;if(d.Rect&&(d.Rect=OE(d.Rect,l)),l.internal.newObjectDeferredBegin(d.objId,!0),d.DA=mt.createDefaultAppearanceStream(d),Ln(d)==="object"&&typeof d.getKeyValueListForStream=="function"&&(f=d.getKeyValueListForStream()),d.Rect=h,d.hasAppearanceStream&&!d.appearanceStreamContent){var y=DE(d);f.push({key:"AP",value:"<</N "+y+">>"}),l.internal.acroformPlugin.xForms.push(y)}if(d.appearanceStreamContent){var w="";for(var A in d.appearanceStreamContent)if(d.appearanceStreamContent.hasOwnProperty(A)){var m=d.appearanceStreamContent[A];if(w+="/"+A+" ",w+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var c in m)if(m.hasOwnProperty(c)){var T=m[c];typeof T=="function"&&(T=T.call(l,d)),w+="/"+c+" "+T+" ",l.internal.acroformPlugin.xForms.indexOf(T)>=0||l.internal.acroformPlugin.xForms.push(T)}}else typeof(T=m)=="function"&&(T=T.call(l,d)),w+="/"+c+" "+T,l.internal.acroformPlugin.xForms.indexOf(T)>=0||l.internal.acroformPlugin.xForms.push(T);w+=">>"}f.push({key:"AP",value:`<<
`+w+">>"})}l.internal.putStream({additionalKeyValues:f,objectId:d.objId}),l.internal.out("endobj")}s&&(function(E,L){for(var R in E)if(E.hasOwnProperty(R)){var D=R,M=E[R];L.internal.newObjectDeferredBegin(M.objId,!0),Ln(M)==="object"&&typeof M.putStream=="function"&&M.putStream(),delete E[D]}})(l.internal.acroformPlugin.xForms,l)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},kb=_r.__acroform__.arrayToPdfArray=function(t,e,n){var a=function(c){return c};if(Array.isArray(t)){for(var l="[",s=0;s<t.length;s++)switch(s!==0&&(l+=" "),Ln(t[s])){case"boolean":case"number":case"object":l+=t[s].toString();break;case"string":t[s].substr(0,1)==="/"?l+="/"+jh(t[s].substr(1)):(e!==void 0&&n&&(a=n.internal.getEncryptor(e)),l+="("+mu(a(t[s].toString()))+")")}return l+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Gp=function(t,e,n){var a=function(l){return l};return e!==void 0&&n&&(a=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+mu(a(t))+")"},Js=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Js.prototype.toString=function(){return this.objId+" 0 R"},Js.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Js.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var a=e[n],l=this[a];l&&(Array.isArray(l)?t.push({key:a,value:kb(l,this.objId,this.scope)}):l instanceof Js?(l.scope=this.scope,t.push({key:a,value:l.objId+" 0 R"})):typeof l!="function"&&t.push({key:a,value:l}))}return t};var Nb=function(){Js.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Qi(Nb,Js);var Lb=function(){Js.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(a){return a};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+mu(n(t))+")"}},set:function(n){t=n}})};Qi(Lb,Js);var Ts=function t(){Js.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(R){if(isNaN(R))throw new Error('Invalid value "'+R+'" for attribute F supplied.');e=R}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Cr(e,3)},set:function(R){R?this.F=Rr(e,3):this.F=jr(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(R){if(isNaN(R))throw new Error('Invalid value "'+R+'" for attribute Ff supplied.');n=R}});var a=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(a.length!==0)return a},set:function(R){a=R!==void 0?R:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[0])?0:a[0]},set:function(R){a[0]=R}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[1])?0:a[1]},set:function(R){a[1]=R}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[2])?0:a[2]},set:function(R){a[2]=R}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[3])?0:a[3]},set:function(R){a[3]=R}});var l="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return l},set:function(R){switch(R){case"/Btn":case"/Tx":case"/Ch":case"/Sig":l=R;break;default:throw new Error('Invalid value "'+R+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Oh)return;s="FieldObject"+t.FieldNum++}var R=function(D){return D};return this.scope&&(R=this.scope.internal.getEncryptor(this.objId)),"("+mu(R(s))+")"},set:function(R){s=R.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(R){s=R}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(R){c=R}});var d="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return d},set:function(R){d=R}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(R){f=R}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/Zg:h},set:function(R){h=R}});var y="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return y},set:function(R){y=R}});var w="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!w||this instanceof Oh||this instanceof du))return Gp(w,this.objId,this.scope)},set:function(R){R=R.toString(),w=R}});var A=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(A)return this instanceof ai==0?Gp(A,this.objId,this.scope):A},set:function(R){R=R.toString(),A=this instanceof ai==0?R.substr(0,1)==="("?pc(R.substr(1,R.length-2)):pc(R):R}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ai==1?pc(A.substr(1,A.length-1)):A},set:function(R){R=R.toString(),A=this instanceof ai==1?"/"+jh(R):R}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(R){this.V=R}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof ai==0?Gp(m,this.objId,this.scope):m},set:function(R){R=R.toString(),m=this instanceof ai==0?R.substr(0,1)==="("?pc(R.substr(1,R.length-2)):pc(R):R}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ai==1?pc(m.substr(1,m.length-1)):m},set:function(R){R=R.toString(),m=this instanceof ai==1?"/"+jh(R):R}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var T,E=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return E},set:function(R){R=!!R,E=R}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(T)return T},set:function(R){T=R}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,1)},set:function(R){R?this.Ff=Rr(this.Ff,1):this.Ff=jr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,2)},set:function(R){R?this.Ff=Rr(this.Ff,2):this.Ff=jr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,3)},set:function(R){R?this.Ff=Rr(this.Ff,3):this.Ff=jr(this.Ff,3)}});var L=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(L!==null)return L},set:function(R){if([0,1,2].indexOf(R)===-1)throw new Error('Invalid value "'+R+'" for attribute Q supplied.');L=R}}),Object.defineProperty(this,"textAlign",{get:function(){var R;switch(L){case 0:default:R="left";break;case 1:R="center";break;case 2:R="right"}return R},configurable:!0,enumerable:!0,set:function(R){switch(R){case"right":case 2:L=2;break;case"center":case 1:L=1;break;default:L=0}}})};Qi(Ts,Js);var Tc=function(){Ts.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return kb(e,this.objId,this.scope)},set:function(n){var a,l;l=[],typeof(a=n)=="string"&&(l=(function(s,c,d){d||(d=1);for(var f,h=[];f=c.exec(s);)h.push(f[d]);return h})(a,/\((.*?)\)/g)),e=l}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,a){for(a=a||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),a!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,18)},set:function(n){n?this.Ff=Rr(this.Ff,18):this.Ff=jr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Rr(this.Ff,19):this.Ff=jr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,20)},set:function(n){n?(this.Ff=Rr(this.Ff,20),e.sort()):this.Ff=jr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,22)},set:function(n){n?this.Ff=Rr(this.Ff,22):this.Ff=jr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,23)},set:function(n){n?this.Ff=Rr(this.Ff,23):this.Ff=jr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,27)},set:function(n){n?this.Ff=Rr(this.Ff,27):this.Ff=jr(this.Ff,27)}}),this.hasAppearanceStream=!1};Qi(Tc,Ts);var kc=function(){Tc.call(this),this.fontName="helvetica",this.combo=!1};Qi(kc,Tc);var Nc=function(){kc.call(this),this.combo=!0};Qi(Nc,kc);var ph=function(){Nc.call(this),this.edit=!0};Qi(ph,Nc);var ai=function(){Ts.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,15)},set:function(n){n?this.Ff=Rr(this.Ff,15):this.Ff=jr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,16)},set:function(n){n?this.Ff=Rr(this.Ff,16):this.Ff=jr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,17)},set:function(n){n?this.Ff=Rr(this.Ff,17):this.Ff=jr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,26)},set:function(n){n?this.Ff=Rr(this.Ff,26):this.Ff=jr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var a,l=[];for(a in l.push("<<"),e)l.push("/"+a+" ("+mu(n(e[a]))+")");return l.push(">>"),l.join(`
`)}},set:function(n){Ln(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+jh(n)}})};Qi(ai,Ts);var gh=function(){ai.call(this),this.pushButton=!0};Qi(gh,ai);var Lc=function(){ai.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Qi(Lc,ai);var Oh=function(){var t,e;Ts.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(l){t=l}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(l){e=l}});var n,a={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var l=function(d){return d};this.scope&&(l=this.scope.internal.getEncryptor(this.objId));var s,c=[];for(s in c.push("<<"),a)c.push("/"+s+" ("+mu(l(a[s]))+")");return c.push(">>"),c.join(`
`)},set:function(l){Ln(l)==="object"&&(a=l)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return a.CA||""},set:function(l){typeof l=="string"&&(a.CA=l)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(l){n=l}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(l){n="/"+l}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=mt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Qi(Oh,Ts),Lc.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Lc.prototype.createOption=function(t){var e=new Oh;return e.Parent=this,e.optionName=t,this.Kids.push(e),IE.call(this.scope,e),e};var mh=function(){ai.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=mt.CheckBox.createAppearanceStream()};Qi(mh,ai);var du=function(){Ts.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,13)},set:function(e){e?this.Ff=Rr(this.Ff,13):this.Ff=jr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,21)},set:function(e){e?this.Ff=Rr(this.Ff,21):this.Ff=jr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,23)},set:function(e){e?this.Ff=Rr(this.Ff,23):this.Ff=jr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,24)},set:function(e){e?this.Ff=Rr(this.Ff,24):this.Ff=jr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,25)},set:function(e){e?this.Ff=Rr(this.Ff,25):this.Ff=jr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,26)},set:function(e){e?this.Ff=Rr(this.Ff,26):this.Ff=jr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Qi(du,Ts);var yh=function(){du.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,14)},set:function(t){t?this.Ff=Rr(this.Ff,14):this.Ff=jr(this.Ff,14)}}),this.password=!0};Qi(yh,du);var mt={CheckBox:{createAppearanceStream:function(){return{N:{On:mt.CheckBox.YesNormal},D:{On:mt.CheckBox.YesPushDown,Off:mt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Ks(t);e.scope=t.scope;var n=[],a=t.scope.internal.getFont(t.fontName,t.fontStyle).id,l=t.scope.__private__.encodeColorString(t.color),s=Ag(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Wt(mt.internal.getWidth(t))+" "+Wt(mt.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+a+" "+Wt(s.fontSize)+" Tf "+l),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Ks(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),l=[],s=mt.internal.getHeight(t),c=mt.internal.getWidth(t),d=Ag(t,t.caption);return l.push("1 g"),l.push("0 0 "+Wt(c)+" "+Wt(s)+" re"),l.push("f"),l.push("q"),l.push("0 0 1 rg"),l.push("0 0 "+Wt(c-1)+" "+Wt(s-1)+" re"),l.push("W"),l.push("n"),l.push("0 g"),l.push("BT"),l.push("/"+n+" "+Wt(d.fontSize)+" Tf "+a),l.push(d.text),l.push("ET"),l.push("Q"),e.stream=l.join(`
`),e},OffPushDown:function(t){var e=Ks(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Wt(mt.internal.getWidth(t))+" "+Wt(mt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:mt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=mt.RadioButton.Circle.YesNormal,e.D[t]=mt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Ks(t);e.scope=t.scope;var n=[],a=mt.internal.getWidth(t)<=mt.internal.getHeight(t)?mt.internal.getWidth(t)/4:mt.internal.getHeight(t)/4;a=Number((.9*a).toFixed(5));var l=mt.internal.Bezier_C,s=Number((a*l).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+vl(mt.internal.getWidth(t)/2)+" "+vl(mt.internal.getHeight(t)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),n.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),n.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),n.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Ks(t);e.scope=t.scope;var n=[],a=mt.internal.getWidth(t)<=mt.internal.getHeight(t)?mt.internal.getWidth(t)/4:mt.internal.getHeight(t)/4;a=Number((.9*a).toFixed(5));var l=Number((2*a).toFixed(5)),s=Number((l*mt.internal.Bezier_C).toFixed(5)),c=Number((a*mt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+vl(mt.internal.getWidth(t)/2)+" "+vl(mt.internal.getHeight(t)/2)+" cm"),n.push(l+" 0 m"),n.push(l+" "+s+" "+s+" "+l+" 0 "+l+" c"),n.push("-"+s+" "+l+" -"+l+" "+s+" -"+l+" 0 c"),n.push("-"+l+" -"+s+" -"+s+" -"+l+" 0 -"+l+" c"),n.push(s+" -"+l+" "+l+" -"+s+" "+l+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+vl(mt.internal.getWidth(t)/2)+" "+vl(mt.internal.getHeight(t)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+c+" "+c+" "+a+" 0 "+a+" c"),n.push("-"+c+" "+a+" -"+a+" "+c+" -"+a+" 0 c"),n.push("-"+a+" -"+c+" -"+c+" -"+a+" 0 -"+a+" c"),n.push(c+" -"+a+" "+a+" -"+c+" "+a+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Ks(t);e.scope=t.scope;var n=[],a=mt.internal.getWidth(t)<=mt.internal.getHeight(t)?mt.internal.getWidth(t)/4:mt.internal.getHeight(t)/4;a=Number((.9*a).toFixed(5));var l=Number((2*a).toFixed(5)),s=Number((l*mt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+vl(mt.internal.getWidth(t)/2)+" "+vl(mt.internal.getHeight(t)/2)+" cm"),n.push(l+" 0 m"),n.push(l+" "+s+" "+s+" "+l+" 0 "+l+" c"),n.push("-"+s+" "+l+" -"+l+" "+s+" -"+l+" 0 c"),n.push("-"+l+" -"+s+" -"+s+" -"+l+" 0 -"+l+" c"),n.push(s+" -"+l+" "+l+" -"+s+" "+l+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:mt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=mt.RadioButton.Cross.YesNormal,e.D[t]=mt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Ks(t);e.scope=t.scope;var n=[],a=mt.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Wt(mt.internal.getWidth(t)-2)+" "+Wt(mt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Wt(a.x1.x)+" "+Wt(a.x1.y)+" m"),n.push(Wt(a.x2.x)+" "+Wt(a.x2.y)+" l"),n.push(Wt(a.x4.x)+" "+Wt(a.x4.y)+" m"),n.push(Wt(a.x3.x)+" "+Wt(a.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Ks(t);e.scope=t.scope;var n=mt.internal.calculateCross(t),a=[];return a.push("0.749023 g"),a.push("0 0 "+Wt(mt.internal.getWidth(t))+" "+Wt(mt.internal.getHeight(t))+" re"),a.push("f"),a.push("q"),a.push("1 1 "+Wt(mt.internal.getWidth(t)-2)+" "+Wt(mt.internal.getHeight(t)-2)+" re"),a.push("W"),a.push("n"),a.push(Wt(n.x1.x)+" "+Wt(n.x1.y)+" m"),a.push(Wt(n.x2.x)+" "+Wt(n.x2.y)+" l"),a.push(Wt(n.x4.x)+" "+Wt(n.x4.y)+" m"),a.push(Wt(n.x3.x)+" "+Wt(n.x3.y)+" l"),a.push("s"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(t){var e=Ks(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Wt(mt.internal.getWidth(t))+" "+Wt(mt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};mt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=mt.internal.getWidth(t),n=mt.internal.getHeight(t),a=Math.min(e,n);return{x1:{x:(e-a)/2,y:(n-a)/2+a},x2:{x:(e-a)/2+a,y:(n-a)/2},x3:{x:(e-a)/2,y:(n-a)/2},x4:{x:(e-a)/2+a,y:(n-a)/2+a}}}},mt.internal.getWidth=function(t){var e=0;return Ln(t)==="object"&&(e=uy(t.Rect[2])),e},mt.internal.getHeight=function(t){var e=0;return Ln(t)==="object"&&(e=uy(t.Rect[3])),e};var IE=_r.addField=function(t){if(ME(this,t),!(t instanceof Ts))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};_r.AcroFormChoiceField=Tc,_r.AcroFormListBox=kc,_r.AcroFormComboBox=Nc,_r.AcroFormEditBox=ph,_r.AcroFormButton=ai,_r.AcroFormPushButton=gh,_r.AcroFormRadioButton=Lc,_r.AcroFormCheckBox=mh,_r.AcroFormTextField=du,_r.AcroFormPasswordField=yh,_r.AcroFormAppearance=mt,_r.AcroForm={ChoiceField:Tc,ListBox:kc,ComboBox:Nc,EditBox:ph,Button:ai,PushButton:gh,RadioButton:Lc,CheckBox:mh,TextField:du,PasswordField:yh,Appearance:mt},St.AcroForm={ChoiceField:Tc,ListBox:kc,ComboBox:Nc,EditBox:ph,Button:ai,PushButton:gh,RadioButton:Lc,CheckBox:mh,TextField:du,PasswordField:yh,Appearance:mt};St.AcroForm;function Cb(t){return t.reduce(function(e,n,a){return e[n]=a,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",a={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},l=t.__addimage__.getImageFileTypeByImageData=function(z,Y){var se,oe,Ee,X,de,he=n;if((Y=Y||n)==="RGBA"||z.data!==void 0&&z.data instanceof Uint8ClampedArray&&"height"in z&&"width"in z)return"RGBA";if(ce(z))for(de in a)for(Ee=a[de],se=0;se<Ee.length;se+=1){for(X=!0,oe=0;oe<Ee[se].length;oe+=1)if(Ee[se][oe]!==void 0&&Ee[se][oe]!==z[oe]){X=!1;break}if(X===!0){he=de;break}}else for(de in a)for(Ee=a[de],se=0;se<Ee.length;se+=1){for(X=!0,oe=0;oe<Ee[se].length;oe+=1)if(Ee[se][oe]!==void 0&&Ee[se][oe]!==z.charCodeAt(oe)){X=!1;break}if(X===!0){he=de;break}}return he===n&&Y!==n&&(he=Y),he},s=function z(Y){for(var se=this.internal.write,oe=this.internal.putStream,Ee=(0,this.internal.getFilters)();Ee.indexOf("FlateEncode")!==-1;)Ee.splice(Ee.indexOf("FlateEncode"),1);Y.objectId=this.internal.newObject();var X=[];if(X.push({key:"Type",value:"/XObject"}),X.push({key:"Subtype",value:"/Image"}),X.push({key:"Width",value:Y.width}),X.push({key:"Height",value:Y.height}),Y.colorSpace===R.INDEXED?X.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(Y.palette.length/3-1)+" "+("sMask"in Y&&Y.sMask!==void 0?Y.objectId+2:Y.objectId+1)+" 0 R]"}):(X.push({key:"ColorSpace",value:"/"+Y.colorSpace}),Y.colorSpace===R.DEVICE_CMYK&&X.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),X.push({key:"BitsPerComponent",value:Y.bitsPerComponent}),"decodeParameters"in Y&&Y.decodeParameters!==void 0&&X.push({key:"DecodeParms",value:"<<"+Y.decodeParameters+">>"}),"transparency"in Y&&Array.isArray(Y.transparency)&&Y.transparency.length>0){for(var de="",he=0,_e=Y.transparency.length;he<_e;he++)de+=Y.transparency[he]+" "+Y.transparency[he]+" ";X.push({key:"Mask",value:"["+de+"]"})}Y.sMask!==void 0&&X.push({key:"SMask",value:Y.objectId+1+" 0 R"});var ve=Y.filter!==void 0?["/"+Y.filter]:void 0;if(oe({data:Y.data,additionalKeyValues:X,alreadyAppliedFilters:ve,objectId:Y.objectId}),se("endobj"),"sMask"in Y&&Y.sMask!==void 0){var I,k=(I=Y.sMaskBitsPerComponent)!==null&&I!==void 0?I:Y.bitsPerComponent,P={width:Y.width,height:Y.height,colorSpace:"DeviceGray",bitsPerComponent:k,data:Y.sMask};"filter"in Y&&(P.decodeParameters="/Predictor ".concat(Y.predictor," /Colors 1 /BitsPerComponent ").concat(k," /Columns ").concat(Y.width),P.filter=Y.filter),z.call(this,P)}if(Y.colorSpace===R.INDEXED){var K=this.internal.newObject();oe({data:ee(new Uint8Array(Y.palette)),objectId:K}),se("endobj")}},c=function(){var z=this.internal.collections[e+"images"];for(var Y in z)s.call(this,z[Y])},d=function(){var z,Y=this.internal.collections[e+"images"],se=this.internal.write;for(var oe in Y)se("/I"+(z=Y[oe]).index,z.objectId,"0","R")},f=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",c),this.internal.events.subscribe("putXobjectDict",d))},h=function(){var z=this.internal.collections[e+"images"];return f.call(this),z},y=function(){return Object.keys(this.internal.collections[e+"images"]).length},w=function(z){return typeof t["process"+z.toUpperCase()]=="function"},A=function(z){return Ln(z)==="object"&&z.nodeType===1},m=function(z,Y){if(z.nodeName==="IMG"&&z.hasAttribute("src")){var se=""+z.getAttribute("src");if(se.indexOf("data:image/")===0)return hh(unescape(se).split("base64,").pop());var oe=t.loadFile(se,!0);if(oe!==void 0)return oe}if(z.nodeName==="CANVAS"){if(z.width===0||z.height===0)throw new Error("Given canvas must have data. Canvas width: "+z.width+", height: "+z.height);var Ee;switch(Y){case"PNG":Ee="image/png";break;case"WEBP":Ee="image/webp";break;default:Ee="image/jpeg"}return hh(z.toDataURL(Ee,1).split("base64,").pop())}},T=function(z){var Y=this.internal.collections[e+"images"];if(Y){for(var se in Y)if(z===Y[se].alias)return Y[se]}},E=function(z,Y,se){return z||Y||(z=-96,Y=-96),z<0&&(z=-1*se.width*72/z/this.internal.scaleFactor),Y<0&&(Y=-1*se.height*72/Y/this.internal.scaleFactor),z===0&&(z=Y*se.width/se.height),Y===0&&(Y=z*se.height/se.width),[z,Y]},L=function(z,Y,se,oe,Ee,X){var de=E.call(this,se,oe,Ee),he=this.internal.getCoordinateString,_e=this.internal.getVerticalCoordinateString,ve=h.call(this);if(se=de[0],oe=de[1],ve[Ee.index]=Ee,X){X*=Math.PI/180;var I=Math.cos(X),k=Math.sin(X),P=function(ae){return ae.toFixed(4)},K=[P(I),P(k),P(-1*k),P(I),0,0,"cm"]}this.internal.write("q"),X?(this.internal.write([1,"0","0",1,he(z),_e(Y+oe),"cm"].join(" ")),this.internal.write(K.join(" ")),this.internal.write([he(se),"0","0",he(oe),"0","0","cm"].join(" "))):this.internal.write([he(se),"0","0",he(oe),he(z),_e(Y+oe),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Ee.index+" Do"),this.internal.write("Q")},R=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var D=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},M=t.__addimage__.sHashCode=function(z){var Y,se,oe=0;if(typeof z=="string")for(se=z.length,Y=0;Y<se;Y++)oe=(oe<<5)-oe+z.charCodeAt(Y),oe|=0;else if(ce(z))for(se=z.byteLength/2,Y=0;Y<se;Y++)oe=(oe<<5)-oe+z[Y],oe|=0;return oe},W=t.__addimage__.validateStringAsBase64=function(z){(z=z||"").toString().trim();var Y=!0;return z.length===0&&(Y=!1),z.length%4!=0&&(Y=!1),/^[A-Za-z0-9+/]+$/.test(z.substr(0,z.length-2))===!1&&(Y=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(z.substr(-2))===!1&&(Y=!1),Y},ue=t.__addimage__.extractImageFromDataUrl=function(z){if(z==null||!(z=z.trim()).startsWith("data:"))return null;var Y=z.indexOf(",");return Y<0?null:z.substring(0,Y).trim().endsWith("base64")?z.substring(Y+1):null};t.__addimage__.isArrayBuffer=function(z){return z instanceof ArrayBuffer};var ce=t.__addimage__.isArrayBufferView=function(z){return z instanceof Int8Array||z instanceof Uint8Array||z instanceof Uint8ClampedArray||z instanceof Int16Array||z instanceof Uint16Array||z instanceof Int32Array||z instanceof Uint32Array||z instanceof Float32Array||z instanceof Float64Array},Z=t.__addimage__.binaryStringToUint8Array=function(z){for(var Y=z.length,se=new Uint8Array(Y),oe=0;oe<Y;oe++)se[oe]=z.charCodeAt(oe);return se},ee=t.__addimage__.arrayBufferToBinaryString=function(z){for(var Y="",se=ce(z)?z:new Uint8Array(z),oe=0;oe<se.length;oe+=8192)Y+=String.fromCharCode.apply(null,se.subarray(oe,oe+8192));return Y};t.addImage=function(){var z,Y,se,oe,Ee,X,de,he,_e;if(typeof arguments[1]=="number"?(Y=n,se=arguments[1],oe=arguments[2],Ee=arguments[3],X=arguments[4],de=arguments[5],he=arguments[6],_e=arguments[7]):(Y=arguments[1],se=arguments[2],oe=arguments[3],Ee=arguments[4],X=arguments[5],de=arguments[6],he=arguments[7],_e=arguments[8]),Ln(z=arguments[0])==="object"&&!A(z)&&"imageData"in z){var ve=z;z=ve.imageData,Y=ve.format||Y||n,se=ve.x||se||0,oe=ve.y||oe||0,Ee=ve.w||ve.width||Ee,X=ve.h||ve.height||X,de=ve.alias||de,he=ve.compression||he,_e=ve.rotation||ve.angle||_e}var I=this.internal.getFilters();if(he===void 0&&I.indexOf("FlateEncode")!==-1&&(he="SLOW"),isNaN(se)||isNaN(oe))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var k=q.call(this,z,Y,de,he);return L.call(this,se,oe,Ee,X,k,_e),this};var q=function(z,Y,se,oe){var Ee,X,de;if(typeof z=="string"&&l(z)===n){z=unescape(z);var he=fe(z,!1);(he!==""||(he=t.loadFile(z,!0))!==void 0)&&(z=he)}if(A(z)&&(z=m(z,Y)),Y=l(z,Y),!w(Y))throw new Error("addImage does not support files of type '"+Y+"', please ensure that a plugin for '"+Y+"' support is added.");if(((de=se)==null||de.length===0)&&(se=(function(_e){return typeof _e=="string"||ce(_e)?M(_e):ce(_e.data)?M(_e.data):null})(z)),(Ee=T.call(this,se))||(z instanceof Uint8Array||Y==="RGBA"||(X=z,z=Z(z)),Ee=this["process"+Y.toUpperCase()](z,y.call(this),se,(function(_e){return _e&&typeof _e=="string"&&(_e=_e.toUpperCase()),_e in t.image_compression?_e:D.NONE})(oe),X)),!Ee)throw new Error("An unknown error occurred whilst processing the image.");return Ee},fe=t.__addimage__.convertBase64ToBinaryString=function(z,Y){Y=typeof Y!="boolean"||Y;var se,oe="";if(typeof z=="string"){var Ee;se=(Ee=ue(z))!==null&&Ee!==void 0?Ee:z;try{oe=hh(se)}catch(X){if(Y)throw W(se)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+X.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return oe};t.getImageProperties=function(z){var Y,se,oe="";if(A(z)&&(z=m(z)),typeof z=="string"&&l(z)===n&&((oe=fe(z,!1))===""&&(oe=t.loadFile(z)||""),z=oe),se=l(z),!w(se))throw new Error("addImage does not support files of type '"+se+"', please ensure that a plugin for '"+se+"' support is added.");if(z instanceof Uint8Array||(z=Z(z)),!(Y=this["process"+se.toUpperCase()](z)))throw new Error("An unknown error occurred whilst processing the image");return Y.fileType=se,Y}})(St.API),(function(t){var e=function(n){if(n!==void 0&&n!="")return!0};St.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var a,l,s,c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(n.objId),h=n.pageContext.annotations,y=!1,w=0;w<h.length&&!y;w++)switch((a=h[w]).type){case"link":(e(a.options.url)||e(a.options.pageNumber))&&(y=!0);break;case"reference":case"text":case"freetext":y=!0}if(y!=0){this.internal.write("/Annots [");for(var A=0;A<h.length;A++){a=h[A];var m=this.internal.pdfEscape,T=this.internal.getEncryptor(n.objId);switch(a.type){case"reference":this.internal.write(" "+a.object.objId+" 0 R ");break;case"text":var E=this.internal.newAdditionalObject(),L=this.internal.newAdditionalObject(),R=this.internal.getEncryptor(E.objId),D=a.title||"Note";s="<</Type /Annot /Subtype /Text "+(l="/Rect ["+c(a.bounds.x)+" "+d(a.bounds.y+a.bounds.h)+" "+c(a.bounds.x+a.bounds.w)+" "+d(a.bounds.y)+"] ")+"/Contents ("+m(R(a.contents))+")",s+=" /Popup "+L.objId+" 0 R",s+=" /P "+f.objId+" 0 R",s+=" /T ("+m(R(D))+") >>",E.content=s;var M=E.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(l="/Rect ["+c(a.bounds.x+30)+" "+d(a.bounds.y+a.bounds.h)+" "+c(a.bounds.x+a.bounds.w+30)+" "+d(a.bounds.y)+"] ")+" /Parent "+M,a.open&&(s+=" /Open true"),s+=" >>",L.content=s,this.internal.write(E.objId,"0 R",L.objId,"0 R");break;case"freetext":l="/Rect ["+c(a.bounds.x)+" "+d(a.bounds.y)+" "+c(a.bounds.x+a.bounds.w)+" "+d(a.bounds.y+a.bounds.h)+"] ";var W=a.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+l+"/Contents ("+m(T(a.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+W+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(a.options.name){var ue=this.annotations._nameMap[a.options.name];a.options.pageNumber=ue.page,a.options.top=ue.y}else a.options.top||(a.options.top=0);if(l="/Rect ["+a.finalBounds.x+" "+a.finalBounds.y+" "+a.finalBounds.w+" "+a.finalBounds.h+"] ",s="",a.options.url)s="<</Type /Annot /Subtype /Link "+l+"/Border [0 0 0] /A <</S /URI /URI ("+m(T(a.options.url))+") >>";else if(a.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+l+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(a.options.pageNumber).objId+" 0 R",a.options.magFactor=a.options.magFactor||"XYZ",a.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+a.options.top+"]";break;case"FitV":a.options.left=a.options.left||0,s+=" /FitV "+a.options.left+"]";break;default:var ce=d(a.options.top);a.options.left=a.options.left||0,a.options.zoom===void 0&&(a.options.zoom=0),s+=" /XYZ "+a.options.left+" "+ce+" "+a.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var a=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":a.pageContext.annotations.push(n)}},t.link=function(n,a,l,s,c){var d=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;d.pageContext.annotations.push({finalBounds:{x:f(n),y:h(a),w:f(n+l),h:h(a+s)},options:c,type:"link"})},t.textWithLink=function(n,a,l,s){var c,d,f=this.getTextWidth(n),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){d=s.maxWidth;var y=this.splitTextToSize(n,d).length;c=Math.ceil(h*y)}else d=f,c=h;return this.text(n,a,l,s),l+=.2*h,s.align==="center"&&(a-=f/2),s.align==="right"&&(a-=f),this.link(a,l-h,d,c,s),f},t.getTextWidth=function(n){var a=this.internal.getFontSize();return this.getStringUnitWidth(n)*a/this.internal.scaleFactor}})(St.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},a={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},l=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(E){return e[E.charCodeAt(0)]!==void 0},c=t.__arabicParser__.isArabicLetter=function(E){return typeof E=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(E)},d=t.__arabicParser__.isArabicEndLetter=function(E){return c(E)&&s(E)&&e[E.charCodeAt(0)].length<=2},f=t.__arabicParser__.isArabicAlfLetter=function(E){return c(E)&&l.indexOf(E.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(E){return c(E)&&s(E)&&e[E.charCodeAt(0)].length>=1};var h=t.__arabicParser__.arabicLetterHasFinalForm=function(E){return c(E)&&s(E)&&e[E.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(E){return c(E)&&s(E)&&e[E.charCodeAt(0)].length>=3};var y=t.__arabicParser__.arabicLetterHasMedialForm=function(E){return c(E)&&s(E)&&e[E.charCodeAt(0)].length==4},w=t.__arabicParser__.resolveLigatures=function(E){var L=0,R=n,D="",M=0;for(L=0;L<E.length;L+=1)R[E.charCodeAt(L)]!==void 0?(M++,typeof(R=R[E.charCodeAt(L)])=="number"&&(D+=String.fromCharCode(R),R=n,M=0),L===E.length-1&&(R=n,D+=E.charAt(L-(M-1)),L-=M-1,M=0)):(R=n,D+=E.charAt(L-M),L-=M,M=0);return D};t.__arabicParser__.isArabicDiacritic=function(E){return E!==void 0&&a[E.charCodeAt(0)]!==void 0};var A=t.__arabicParser__.getCorrectForm=function(E,L,R){return c(E)?s(E)===!1?-1:!h(E)||!c(L)&&!c(R)||!c(R)&&d(L)||d(E)&&!c(L)||d(E)&&f(L)||d(E)&&d(L)?0:y(E)&&c(L)&&!d(L)&&c(R)&&h(R)?3:d(E)||!c(R)?1:2:-1},m=function(E){var L=0,R=0,D=0,M="",W="",ue="",ce=(E=E||"").split("\\s+"),Z=[];for(L=0;L<ce.length;L+=1){for(Z.push(""),R=0;R<ce[L].length;R+=1)M=ce[L][R],W=ce[L][R-1],ue=ce[L][R+1],c(M)?(D=A(M,W,ue),Z[L]+=D!==-1?String.fromCharCode(e[M.charCodeAt(0)][D]):M):Z[L]+=M;Z[L]=w(Z[L])}return Z.join(" ")},T=t.__arabicParser__.processArabic=t.processArabic=function(){var E,L=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,R=[];if(Array.isArray(L)){var D=0;for(R=[],D=0;D<L.length;D+=1)Array.isArray(L[D])?R.push([m(L[D][0]),L[D][1],L[D][2]]):R.push([m(L[D])]);E=R}else E=m(L);return typeof arguments[0]=="string"?E:(arguments[0].text=E,arguments[0])};t.events.push(["preProcessText",T])})(St.API),St.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(d){n=d}});var a=150;Object.defineProperty(this,"width",{get:function(){return a},set:function(d){a=isNaN(d)||Number.isInteger(d)===!1||d<0?150:d,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=a+1)}});var l=300;Object.defineProperty(this,"height",{get:function(){return l},set:function(d){l=isNaN(d)||Number.isInteger(d)===!1||d<0?300:d,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=l+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(d){s=d}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(d){c=d}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,a){var l;if((n=n||"2d")!=="2d")return null;for(l in a)this.pdf.context2d.hasOwnProperty(l)&&(this.pdf.context2d[l]=a[l]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(St.API),(function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,a=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),l.call(this))},l=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(E){f=E}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(E){h=E}});var y=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return y},set:function(E){y=E}});var w=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return w},set:function(E){w=E}});var A=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return A},set:function(E){A=E}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(E){m=E}});var T=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return T},set:function(E){T=E}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(f){return a.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},t.getTextDimensions=function(f,h){a.call(this);var y=(h=h||{}).fontSize||this.getFontSize(),w=h.font||this.getFont(),A=h.scaleFactor||this.internal.scaleFactor,m=0,T=0,E=0,L=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var R=h.maxWidth;R>0?typeof f=="string"?f=this.splitTextToSize(f,R):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(M,W){return M.concat(L.splitTextToSize(W,R))},[])):f=Array.isArray(f)?f:[f];for(var D=0;D<f.length;D++)m<(E=this.getStringUnitWidth(f[D],{font:w})*y)&&(m=E);return m!==0&&(T=f.length),{w:m/=A,h:Math.max((T*y*this.getLineHeightFactor()-y*(this.getLineHeightFactor()-1))/A,0)}},t.cellAddPage=function(){a.call(this),this.addPage();var f=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=t.cell=function(){var f;f=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),a.call(this);var h=this.internal.__cell__.lastCell,y=this.internal.__cell__.padding,w=this.internal.__cell__.margins||e,A=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===f.lineNumber?(f.x=(h.x||0)+(h.width||0),f.y=h.y||0):h.y+h.height+f.height+w.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=w.top,m&&A&&(this.printHeaderRow(f.lineNumber,!0),f.y+=A[0].height)):f.y=h.y+h.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,n===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-y,f.y+y,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+y,{align:"center",baseline:"top",maxWidth:f.width-y-y}):this.text(f.text,f.x+y,f.y+y,{align:"left",baseline:"top",maxWidth:f.width-y-y})),this.internal.__cell__.lastCell=f,this};t.table=function(f,h,y,w,A){if(a.call(this),!y)throw new Error("No data for PDF table.");var m,T,E,L,R=[],D=[],M=[],W={},ue={},ce=[],Z=[],ee=(A=A||{}).autoSize||!1,q=A.printHeaders!==!1,fe=A.css&&A.css["font-size"]!==void 0?16*A.css["font-size"]:A.fontSize||12,z=A.margins||Object.assign({width:this.getPageWidth()},e),Y=typeof A.padding=="number"?A.padding:3,se=A.headerBackgroundColor||"#c8c8c8",oe=A.headerTextColor||"#000";if(l.call(this),this.internal.__cell__.printHeaders=q,this.internal.__cell__.margins=z,this.internal.__cell__.table_font_size=fe,this.internal.__cell__.padding=Y,this.internal.__cell__.headerBackgroundColor=se,this.internal.__cell__.headerTextColor=oe,this.setFontSize(fe),w==null)D=R=Object.keys(y[0]),M=R.map(function(){return"left"});else if(Array.isArray(w)&&Ln(w[0])==="object")for(R=w.map(function(ve){return ve.name}),D=w.map(function(ve){return ve.prompt||ve.name||""}),M=w.map(function(ve){return ve.align||"left"}),m=0;m<w.length;m+=1)ue[w[m].name]=.7499990551181103*w[m].width;else Array.isArray(w)&&typeof w[0]=="string"&&(D=R=w,M=R.map(function(){return"left"}));if(ee||Array.isArray(w)&&typeof w[0]=="string")for(m=0;m<R.length;m+=1){for(W[L=R[m]]=y.map(function(ve){return ve[L]}),this.setFont(void 0,"bold"),ce.push(this.getTextDimensions(D[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),T=W[L],this.setFont(void 0,"normal"),E=0;E<T.length;E+=1)ce.push(this.getTextDimensions(T[E],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ue[L]=Math.max.apply(null,ce)+Y+Y,ce=[]}if(q){var Ee={};for(m=0;m<R.length;m+=1)Ee[R[m]]={},Ee[R[m]].text=D[m],Ee[R[m]].align=M[m];var X=d.call(this,Ee,ue);Z=R.map(function(ve){return new s(f,h,ue[ve],X,Ee[ve].text,void 0,Ee[ve].align)}),this.setTableHeaderRow(Z),this.printHeaderRow(1,!1)}var de=w.reduce(function(ve,I){return ve[I.name]=I.align,ve},{});for(m=0;m<y.length;m+=1){"rowStart"in A&&A.rowStart instanceof Function&&A.rowStart({row:m,data:y[m]},this);var he=d.call(this,y[m],ue);for(E=0;E<R.length;E+=1){var _e=y[m][R[E]];"cellStart"in A&&A.cellStart instanceof Function&&A.cellStart({row:m,col:E,data:_e},this),c.call(this,new s(f,h,ue[R[E]],he,_e,m+2,de[R[E]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=h,this};var d=function(f,h){var y=this.internal.__cell__.padding,w=this.internal.__cell__.table_font_size,A=this.internal.scaleFactor;return Object.keys(f).map(function(m){var T=f[m];return this.splitTextToSize(T.hasOwnProperty("text")?T.text:T,h[m]-y-y)},this).map(function(m){return this.getLineHeightFactor()*m.length*w/A+y+y},this).reduce(function(m,T){return Math.max(m,T)},0)};t.setTableHeaderRow=function(f){a.call(this),this.internal.__cell__.tableHeaderRow=f},t.printHeaderRow=function(f,h){if(a.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var y;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var w=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(w[0],w[1],w[2],w[3],void 0,-1)}this.setFont(void 0,"bold");for(var A=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){y=this.internal.__cell__.tableHeaderRow[m].clone(),h&&(y.y=this.internal.__cell__.margins.top||0,A.push(y)),y.lineNumber=f;var T=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,y),this.setTextColor(T)}A.length>0&&this.setTableHeaderRow(A),this.setFont(void 0,"normal"),n=!1}})(St.API);var Rb={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},jb=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Eg=Cb(jb),Ob=[100,200,300,400,500,600,700,800,900],PE=Cb(Ob);function Yp(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=(function(s){return Rb[s=s||"normal"]?s:"normal"})(t.style),a=(function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400})(t.weight),l=(function(s){return typeof Eg[s=s||"normal"]=="number"?s:"normal"})(t.stretch);return{family:e,style:n,weight:a,stretch:l,src:t.src||[],ref:t.ref||{name:e,style:[l,n,a].join(" ")}}}function cy(t,e,n,a){var l;for(l=n;l>=0&&l<e.length;l+=a)if(t[e[l]])return t[e[l]];for(l=n;l>=0&&l<e.length;l-=a)if(t[e[l]])return t[e[l]]}var UE={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},dy={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function fy(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function hy(t){return t.trimLeft()}function qE(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function FE(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var gc,lh,py,gy,my,Vp=["times"];function yy(t,e,n,a,l){var s=4,c=by;switch(l){case St.API.image_compression.FAST:s=1,c=vy;break;case St.API.image_compression.MEDIUM:s=6,c=wy;break;case St.API.image_compression.SLOW:s=9,c=xy}t=(function(f,h,y,w){for(var A,m=f.length/h,T=new Uint8Array(f.length+m),E=[HE,vy,by,wy,xy],L=0;L<m;L+=1){var R=L*h,D=f.subarray(R,R+h);if(w)T.set(w(D,y,A),R+L);else{for(var M=E.length,W=[],ue=0;ue<M;ue+=1)W[ue]=E[ue](D,y,A);var ce=WE(W.concat());T.set(W[ce],R+L)}A=D}return T})(t,e,Math.ceil(n*a/8),c);var d=vg(t,{level:s});return St.API.__addimage__.arrayBufferToBinaryString(d)}function HE(t){var e=Array.apply([],t);return e.unshift(0),e}function vy(t,e){var n=t.length,a=[];a[0]=1;for(var l=0;l<n;l+=1){var s=t[l-e]||0;a[l+1]=t[l]-s+256&255}return a}function by(t,e,n){var a=t.length,l=[];l[0]=2;for(var s=0;s<a;s+=1){var c=n&&n[s]||0;l[s+1]=t[s]-c+256&255}return l}function wy(t,e,n){var a=t.length,l=[];l[0]=3;for(var s=0;s<a;s+=1){var c=t[s-e]||0,d=n&&n[s]||0;l[s+1]=t[s]+256-(c+d>>>1)&255}return l}function xy(t,e,n){var a=t.length,l=[];l[0]=4;for(var s=0;s<a;s+=1){var c=$E(t[s-e]||0,n&&n[s]||0,n&&n[s-e]||0);l[s+1]=t[s]-c+256&255}return l}function $E(t,e,n){if(t===e&&e===n)return t;var a=Math.abs(e-n),l=Math.abs(t-n),s=Math.abs(t+e-n-n);return a<=l&&a<=s?t:l<=s?e:n}function WE(t){var e=t.map(function(n){return n.reduce(function(a,l){return a+Math.abs(l)},0)});return e.indexOf(Math.min.apply(null,e))}function Kp(t,e,n){var a=e*n,l=Math.floor(a/8),s=16-(a-8*l+n),c=(1<<n)-1;return Db(t,l)>>s&c}function _y(t,e,n,a){var l=n*a,s=Math.floor(l/8),c=16-(l-8*s+a),d=(1<<a)-1,f=(e&d)<<c;(function(h,y,w){if(y+1<h.byteLength)h.setUint16(y,w,!1);else{var A=w>>8&255;h.setUint8(y,A)}})(t,s,Db(t,s)&~(d<<c)&65535|f)}function Db(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function GE(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,a=t[e++]|t[e++]<<8,l=t[e++],s=l>>7,c=1<<1+(7&l);t[e++],t[e++];var d=null,f=null;s&&(d=e,f=c,e+=3*c);var h=!0,y=[],w=0,A=null,m=0,T=null;for(this.width=n,this.height=a;h&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,T=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((z=t[e++])>=0))throw Error("Invalid block size");if(z===0)break;e+=z}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var E=t[e++];w=t[e++]|t[e++]<<8,A=t[e++],1&E||(A=null),m=E>>2&7,e++;break;case 254:for(;;){if(!((z=t[e++])>=0))throw Error("Invalid block size");if(z===0)break;e+=z}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var L=t[e++]|t[e++]<<8,R=t[e++]|t[e++]<<8,D=t[e++]|t[e++]<<8,M=t[e++]|t[e++]<<8,W=t[e++],ue=W>>6&1,ce=1<<1+(7&W),Z=d,ee=f,q=!1;W>>7&&(q=!0,Z=e,ee=ce,e+=3*ce);var fe=e;for(e++;;){var z;if(!((z=t[e++])>=0))throw Error("Invalid block size");if(z===0)break;e+=z}y.push({x:L,y:R,width:D,height:M,has_local_palette:q,palette_offset:Z,palette_size:ee,data_offset:fe,data_length:e-fe,transparent_index:A,interlaced:!!ue,delay:w,disposal:m});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return y.length},this.loopCount=function(){return T},this.frameInfo=function(Y){if(Y<0||Y>=y.length)throw new Error("Frame index out of range.");return y[Y]},this.decodeAndBlitFrameBGRA=function(Y,se){var oe=this.frameInfo(Y),Ee=oe.width*oe.height,X=new Uint8Array(Ee);Sy(t,oe.data_offset,X,Ee);var de=oe.palette_offset,he=oe.transparent_index;he===null&&(he=256);var _e=oe.width,ve=n-_e,I=_e,k=4*(oe.y*n+oe.x),P=4*((oe.y+oe.height)*n+oe.x),K=k,ae=4*ve;oe.interlaced===!0&&(ae+=4*n*7);for(var V=8,Q=0,le=X.length;Q<le;++Q){var ye=X[Q];if(I===0&&(I=_e,(K+=ae)>=P&&(ae=4*ve+4*n*(V-1),K=k+(_e+ve)*(V<<1),V>>=1)),ye===he)K+=4;else{var pe=t[de+3*ye],Le=t[de+3*ye+1],Me=t[de+3*ye+2];se[K++]=Me,se[K++]=Le,se[K++]=pe,se[K++]=255}--I}},this.decodeAndBlitFrameRGBA=function(Y,se){var oe=this.frameInfo(Y),Ee=oe.width*oe.height,X=new Uint8Array(Ee);Sy(t,oe.data_offset,X,Ee);var de=oe.palette_offset,he=oe.transparent_index;he===null&&(he=256);var _e=oe.width,ve=n-_e,I=_e,k=4*(oe.y*n+oe.x),P=4*((oe.y+oe.height)*n+oe.x),K=k,ae=4*ve;oe.interlaced===!0&&(ae+=4*n*7);for(var V=8,Q=0,le=X.length;Q<le;++Q){var ye=X[Q];if(I===0&&(I=_e,(K+=ae)>=P&&(ae=4*ve+4*n*(V-1),K=k+(_e+ve)*(V<<1),V>>=1)),ye===he)K+=4;else{var pe=t[de+3*ye],Le=t[de+3*ye+1],Me=t[de+3*ye+2];se[K++]=pe,se[K++]=Le,se[K++]=Me,se[K++]=255}--I}}}function Sy(t,e,n,a){for(var l=t[e++],s=1<<l,c=s+1,d=c+1,f=l+1,h=(1<<f)-1,y=0,w=0,A=0,m=t[e++],T=new Int32Array(4096),E=null;;){for(;y<16&&m!==0;)w|=t[e++]<<y,y+=8,m===1?m=t[e++]:--m;if(y<f)break;var L=w&h;if(w>>=f,y-=f,L!==s){if(L===c)break;for(var R=L<d?L:E,D=0,M=R;M>s;)M=T[M]>>8,++D;var W=M;if(A+D+(R!==L?1:0)>a)return void Un.log("Warning, gif stream longer than expected.");n[A++]=W;var ue=A+=D;for(R!==L&&(n[A++]=W),M=R;D--;)M=T[M],n[--ue]=255&M,M>>=8;E!==null&&d<4096&&(T[d++]=E<<8|W,d>=h+1&&f<12&&(++f,h=h<<1|1)),E=L}else d=c+1,h=(1<<(f=l+1))-1,E=null}return A!==a&&Un.log("Warning, gif stream shorter than expected."),n}function Xp(t){var e,n,a,l,s,c=Math.floor,d=new Array(64),f=new Array(64),h=new Array(64),y=new Array(64),w=new Array(65535),A=new Array(65535),m=new Array(64),T=new Array(64),E=[],L=0,R=7,D=new Array(64),M=new Array(64),W=new Array(64),ue=new Array(256),ce=new Array(2048),Z=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],ee=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],q=[0,1,2,3,4,5,6,7,8,9,10,11],fe=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],z=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],Y=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],se=[0,1,2,3,4,5,6,7,8,9,10,11],oe=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Ee=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function X(k,P){for(var K=0,ae=0,V=new Array,Q=1;Q<=16;Q++){for(var le=1;le<=k[Q];le++)V[P[ae]]=[],V[P[ae]][0]=K,V[P[ae]][1]=Q,ae++,K++;K*=2}return V}function de(k){for(var P=k[0],K=k[1]-1;K>=0;)P&1<<K&&(L|=1<<R),K--,--R<0&&(L==255?(he(255),he(0)):he(L),R=7,L=0)}function he(k){E.push(k)}function _e(k){he(k>>8&255),he(255&k)}function ve(k,P,K,ae,V){for(var Q,le=V[0],ye=V[240],pe=(function(De,Ke){var $e,Ye,at,ot,Qe,it,tt,pt,Ze,At,nt=0;for(Ze=0;Ze<8;++Ze){$e=De[nt],Ye=De[nt+1],at=De[nt+2],ot=De[nt+3],Qe=De[nt+4],it=De[nt+5],tt=De[nt+6];var cn=$e+(pt=De[nt+7]),xt=$e-pt,kt=Ye+tt,Rt=Ye-tt,Yt=at+it,Et=at-it,yn=ot+Qe,Ct=ot-Qe,Bt=cn+yn,vn=cn-yn,wt=kt+Yt,lt=kt-Yt;De[nt]=Bt+wt,De[nt+4]=Bt-wt;var Pt=.707106781*(lt+vn);De[nt+2]=vn+Pt,De[nt+6]=vn-Pt;var hr=.382683433*((Bt=Ct+Et)-(lt=Rt+xt)),bn=.5411961*Bt+hr,qn=1.306562965*lt+hr,$n=.707106781*(wt=Et+Rt),yt=xt+$n,Sn=xt-$n;De[nt+5]=Sn+bn,De[nt+3]=Sn-bn,De[nt+1]=yt+qn,De[nt+7]=yt-qn,nt+=8}for(nt=0,Ze=0;Ze<8;++Ze){$e=De[nt],Ye=De[nt+8],at=De[nt+16],ot=De[nt+24],Qe=De[nt+32],it=De[nt+40],tt=De[nt+48];var Ar=$e+(pt=De[nt+56]),Fn=$e-pt,Wn=Ye+tt,pn=Ye-tt,Cn=at+it,An=at-it,mi=ot+Qe,Er=ot-Qe,En=Ar+mi,Gn=Ar-mi,Jr=Wn+Cn,Ei=Wn-Cn;De[nt]=En+Jr,De[nt+32]=En-Jr;var Bi=.707106781*(Ei+Gn);De[nt+16]=Gn+Bi,De[nt+48]=Gn-Bi;var Qs=.382683433*((En=Er+An)-(Ei=pn+Fn)),ea=.5411961*En+Qs,ta=1.306562965*Ei+Qs,Ns=.707106781*(Jr=An+pn),na=Fn+Ns,ra=Fn-Ns;De[nt+40]=ra+ea,De[nt+24]=ra-ea,De[nt+8]=na+ta,De[nt+56]=na-ta,nt++}for(Ze=0;Ze<64;++Ze)At=De[Ze]*Ke[Ze],m[Ze]=At>0?At+.5|0:At-.5|0;return m})(k,P),Le=0;Le<64;++Le)T[Z[Le]]=pe[Le];var Me=T[0]-K;K=T[0],Me==0?de(ae[0]):(de(ae[A[Q=32767+Me]]),de(w[Q]));for(var ie=63;ie>0&&T[ie]==0;)ie--;if(ie==0)return de(le),K;for(var ke,$=1;$<=ie;){for(var ze=$;T[$]==0&&$<=ie;)++$;var et=$-ze;if(et>=16){ke=et>>4;for(var Je=1;Je<=ke;++Je)de(ye);et&=15}Q=32767+T[$],de(V[(et<<4)+A[Q]]),de(w[Q]),$++}return ie!=63&&de(le),K}function I(k){k=Math.min(Math.max(k,1),100),s!=k&&((function(P){for(var K=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ae=0;ae<64;ae++){var V=c((K[ae]*P+50)/100);V=Math.min(Math.max(V,1),255),d[Z[ae]]=V}for(var Q=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],le=0;le<64;le++){var ye=c((Q[le]*P+50)/100);ye=Math.min(Math.max(ye,1),255),f[Z[le]]=ye}for(var pe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Le=0,Me=0;Me<8;Me++)for(var ie=0;ie<8;ie++)h[Le]=1/(d[Z[Le]]*pe[Me]*pe[ie]*8),y[Le]=1/(f[Z[Le]]*pe[Me]*pe[ie]*8),Le++})(k<50?Math.floor(5e3/k):Math.floor(200-2*k)),s=k)}this.encode=function(k,P){P&&I(P),E=new Array,L=0,R=7,_e(65496),_e(65504),_e(16),he(74),he(70),he(73),he(70),he(0),he(1),he(1),he(0),_e(1),_e(1),he(0),he(0),(function(){_e(65499),_e(132),he(0);for(var Ye=0;Ye<64;Ye++)he(d[Ye]);he(1);for(var at=0;at<64;at++)he(f[at])})(),(function(Ye,at){_e(65472),_e(17),he(8),_e(at),_e(Ye),he(3),he(1),he(17),he(0),he(2),he(17),he(1),he(3),he(17),he(1)})(k.width,k.height),(function(){_e(65476),_e(418),he(0);for(var Ye=0;Ye<16;Ye++)he(ee[Ye+1]);for(var at=0;at<=11;at++)he(q[at]);he(16);for(var ot=0;ot<16;ot++)he(fe[ot+1]);for(var Qe=0;Qe<=161;Qe++)he(z[Qe]);he(1);for(var it=0;it<16;it++)he(Y[it+1]);for(var tt=0;tt<=11;tt++)he(se[tt]);he(17);for(var pt=0;pt<16;pt++)he(oe[pt+1]);for(var Ze=0;Ze<=161;Ze++)he(Ee[Ze])})(),_e(65498),_e(12),he(3),he(1),he(0),he(2),he(17),he(3),he(17),he(0),he(63),he(0);var K=0,ae=0,V=0;L=0,R=7,this.encode.displayName="_encode_";for(var Q,le,ye,pe,Le,Me,ie,ke,$,ze=k.data,et=k.width,Je=k.height,De=4*et,Ke=0;Ke<Je;){for(Q=0;Q<De;){for(Le=De*Ke+Q,ie=-1,ke=0,$=0;$<64;$++)Me=Le+(ke=$>>3)*De+(ie=4*(7&$)),Ke+ke>=Je&&(Me-=De*(Ke+1+ke-Je)),Q+ie>=De&&(Me-=Q+ie-De+4),le=ze[Me++],ye=ze[Me++],pe=ze[Me++],D[$]=(ce[le]+ce[ye+256|0]+ce[pe+512|0]>>16)-128,M[$]=(ce[le+768|0]+ce[ye+1024|0]+ce[pe+1280|0]>>16)-128,W[$]=(ce[le+1280|0]+ce[ye+1536|0]+ce[pe+1792|0]>>16)-128;K=ve(D,h,K,e,a),ae=ve(M,y,ae,n,l),V=ve(W,y,V,n,l),Q+=32}Ke+=8}if(R>=0){var $e=[];$e[1]=R+1,$e[0]=(1<<R+1)-1,de($e)}return _e(65497),new Uint8Array(E)},t=t||50,(function(){for(var k=String.fromCharCode,P=0;P<256;P++)ue[P]=k(P)})(),e=X(ee,q),n=X(Y,se),a=X(fe,z),l=X(oe,Ee),(function(){for(var k=1,P=2,K=1;K<=15;K++){for(var ae=k;ae<P;ae++)A[32767+ae]=K,w[32767+ae]=[],w[32767+ae][1]=K,w[32767+ae][0]=ae;for(var V=-(P-1);V<=-k;V++)A[32767+V]=K,w[32767+V]=[],w[32767+V][1]=K,w[32767+V][0]=P-1+V;k<<=1,P<<=1}})(),(function(){for(var k=0;k<256;k++)ce[k]=19595*k,ce[k+256|0]=38470*k,ce[k+512|0]=7471*k+32768,ce[k+768|0]=-11059*k,ce[k+1024|0]=-21709*k,ce[k+1280|0]=32768*k+8421375,ce[k+1536|0]=-27439*k,ce[k+1792|0]=-5329*k})(),I(t)}function vs(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Ay(t){function e(q){if(!q)throw Error("assert :P")}function n(q,fe,z){for(var Y=0;4>Y;Y++)if(q[fe+Y]!=z.charCodeAt(Y))return!0;return!1}function a(q,fe,z,Y,se){for(var oe=0;oe<se;oe++)q[fe+oe]=z[Y+oe]}function l(q,fe,z,Y){for(var se=0;se<Y;se++)q[fe+se]=z}function s(q){return new Int32Array(q)}function c(q,fe){for(var z=[],Y=0;Y<q;Y++)z.push(new fe);return z}function d(q,fe){var z=[];return(function Y(se,oe,Ee){for(var X=Ee[oe],de=0;de<X&&(se.push(Ee.length>oe+1?[]:new fe),!(Ee.length<oe+1));de++)Y(se[de],oe+1,Ee)})(z,0,q),z}var f=function(){var q=this;function fe(p,v){for(var S=1<<v-1>>>0;p&S;)S>>>=1;return S?(p&S-1)+S:p}function z(p,v,S,N,O){e(!(N%S));do p[v+(N-=S)]=O;while(0<N)}function Y(p,v,S,N,O){if(e(2328>=O),512>=O)var U=s(512);else if((U=s(O))==null)return 0;return(function(F,G,J,ne,be,Ce){var te,xe,Te=G,Pe=1<<J,Ne=s(16),Ie=s(16);for(e(be!=0),e(ne!=null),e(F!=null),e(0<J),xe=0;xe<be;++xe){if(15<ne[xe])return 0;++Ne[ne[xe]]}if(Ne[0]==be)return 0;for(Ie[1]=0,te=1;15>te;++te){if(Ne[te]>1<<te)return 0;Ie[te+1]=Ie[te]+Ne[te]}for(xe=0;xe<be;++xe)te=ne[xe],0<ne[xe]&&(Ce[Ie[te]++]=xe);if(Ie[15]==1)return(ne=new se).g=0,ne.value=Ce[0],z(F,Te,1,Pe,ne),Pe;var Fe,Xe=-1,Ge=Pe-1,gt=0,ut=1,Ut=1,dt=1<<J;for(xe=0,te=1,be=2;te<=J;++te,be<<=1){if(ut+=Ut<<=1,0>(Ut-=Ne[te]))return 0;for(;0<Ne[te];--Ne[te])(ne=new se).g=te,ne.value=Ce[xe++],z(F,Te+gt,be,dt,ne),gt=fe(gt,te)}for(te=J+1,be=2;15>=te;++te,be<<=1){if(ut+=Ut<<=1,0>(Ut-=Ne[te]))return 0;for(;0<Ne[te];--Ne[te]){if(ne=new se,(gt&Ge)!=Xe){for(Te+=dt,Fe=1<<(Xe=te)-J;15>Xe&&!(0>=(Fe-=Ne[Xe]));)++Xe,Fe<<=1;Pe+=dt=1<<(Fe=Xe-J),F[G+(Xe=gt&Ge)].g=Fe+J,F[G+Xe].value=Te-G-Xe}ne.g=te-J,ne.value=Ce[xe++],z(F,Te+(gt>>J),be,dt,ne),gt=fe(gt,te)}}return ut!=2*Ie[15]-1?0:Pe})(p,v,S,N,O,U)}function se(){this.value=this.g=0}function oe(){this.value=this.g=0}function Ee(){this.G=c(5,se),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c(Os,oe)}function X(p,v,S,N){e(p!=null),e(v!=null),e(2147483648>N),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=v,p.pa=S,p.Jd=v,p.Yc=S+N,p.Zc=4<=N?S+N-4+1:S,le(p)}function de(p,v){for(var S=0;0<v--;)S|=pe(p,128)<<v;return S}function he(p,v){var S=de(p,v);return ye(p)?-S:S}function _e(p,v,S,N){var O,U=0;for(e(p!=null),e(v!=null),e(4294967288>N),p.Sb=N,p.Ra=0,p.u=0,p.h=0,4<N&&(N=4),O=0;O<N;++O)U+=v[S+O]<<8*O;p.Ra=U,p.bb=N,p.oa=v,p.pa=S}function ve(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<Ca-8>>>0,++p.bb,p.u-=8;ae(p)&&(p.h=1,p.u=0)}function I(p,v){if(e(0<=v),!p.h&&v<=ui){var S=K(p)&vi[v];return p.u+=v,ve(p),S}return p.h=1,p.u=0}function k(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function P(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function K(p){return p.Ra>>>(p.u&Ca-1)>>>0}function ae(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>Ca}function V(p,v){p.u=v,p.h=ae(p)}function Q(p){p.u>=Ra&&(e(p.u>=Ra),ve(p))}function le(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function ye(p){return de(p,1)}function pe(p,v){var S=p.Ca;0>p.b&&le(p);var N=p.b,O=S*v>>>8,U=(p.I>>>N>O)+0;for(U?(S-=O,p.I-=O+1<<N>>>0):S=O+1,N=S,O=0;256<=N;)O+=8,N>>=8;return N=7^O+as[N],p.b-=N,p.Ca=(S<<N)-1,U}function Le(p,v,S){p[v+0]=S>>24&255,p[v+1]=S>>16&255,p[v+2]=S>>8&255,p[v+3]=255&S}function Me(p,v){return p[v+0]|p[v+1]<<8}function ie(p,v){return Me(p,v)|p[v+2]<<16}function ke(p,v){return Me(p,v)|Me(p,v+2)<<16}function $(p,v){var S=1<<v;return e(p!=null),e(0<v),p.X=s(S),p.X==null?0:(p.Mb=32-v,p.Xa=v,1)}function ze(p,v){e(p!=null),e(v!=null),e(p.Xa==v.Xa),a(v.X,0,p.X,0,1<<v.Xa)}function et(){this.X=[],this.Xa=this.Mb=0}function Je(p,v,S,N){e(S!=null),e(N!=null);var O=S[0],U=N[0];return O==0&&(O=(p*U+v/2)/v),U==0&&(U=(v*O+p/2)/p),0>=O||0>=U?0:(S[0]=O,N[0]=U,1)}function De(p,v){return p+(1<<v)-1>>>v}function Ke(p,v){return((4278255360&p)+(4278255360&v)>>>0&4278255360)+((16711935&p)+(16711935&v)>>>0&16711935)>>>0}function $e(p,v){q[v]=function(S,N,O,U,F,G,J){var ne;for(ne=0;ne<F;++ne){var be=q[p](G[J+ne-1],O,U+ne);G[J+ne]=Ke(S[N+ne],be)}}}function Ye(){this.ud=this.hd=this.jd=0}function at(p,v){return((4278124286&(p^v))>>>1)+(p&v)>>>0}function ot(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function Qe(p,v){return ot(p+(p-v+.5>>1))}function it(p,v,S){return Math.abs(v-S)-Math.abs(p-S)}function tt(p,v,S,N,O,U,F){for(N=U[F-1],S=0;S<O;++S)U[F+S]=N=Ke(p[v+S],N)}function pt(p,v,S,N,O){var U;for(U=0;U<S;++U){var F=p[v+U],G=F>>8&255,J=16711935&(J=(J=16711935&F)+((G<<16)+G));N[O+U]=(4278255360&F)+J>>>0}}function Ze(p,v){v.jd=255&p,v.hd=p>>8&255,v.ud=p>>16&255}function At(p,v,S,N,O,U){var F;for(F=0;F<N;++F){var G=v[S+F],J=G>>>8,ne=G,be=255&(be=(be=G>>>16)+((p.jd<<24>>24)*(J<<24>>24)>>>5));ne=255&(ne=(ne+=(p.hd<<24>>24)*(J<<24>>24)>>>5)+((p.ud<<24>>24)*(be<<24>>24)>>>5)),O[U+F]=(4278255360&G)+(be<<16)+ne}}function nt(p,v,S,N,O){q[v]=function(U,F,G,J,ne,be,Ce,te,xe){for(J=Ce;J<te;++J)for(Ce=0;Ce<xe;++Ce)ne[be++]=O(G[N(U[F++])])},q[p]=function(U,F,G,J,ne,be,Ce){var te=8>>U.b,xe=U.Ea,Te=U.K[0],Pe=U.w;if(8>te)for(U=(1<<U.b)-1,Pe=(1<<te)-1;F<G;++F){var Ne,Ie=0;for(Ne=0;Ne<xe;++Ne)Ne&U||(Ie=N(J[ne++])),be[Ce++]=O(Te[Ie&Pe]),Ie>>=te}else q["VP8LMapColor"+S](J,ne,Te,Pe,be,Ce,F,G,xe)}}function cn(p,v,S,N,O){for(S=v+S;v<S;){var U=p[v++];N[O++]=U>>16&255,N[O++]=U>>8&255,N[O++]=255&U}}function xt(p,v,S,N,O){for(S=v+S;v<S;){var U=p[v++];N[O++]=U>>16&255,N[O++]=U>>8&255,N[O++]=255&U,N[O++]=U>>24&255}}function kt(p,v,S,N,O){for(S=v+S;v<S;){var U=(F=p[v++])>>16&240|F>>12&15,F=240&F|F>>28&15;N[O++]=U,N[O++]=F}}function Rt(p,v,S,N,O){for(S=v+S;v<S;){var U=(F=p[v++])>>16&248|F>>13&7,F=F>>5&224|F>>3&31;N[O++]=U,N[O++]=F}}function Yt(p,v,S,N,O){for(S=v+S;v<S;){var U=p[v++];N[O++]=255&U,N[O++]=U>>8&255,N[O++]=U>>16&255}}function Et(p,v,S,N,O,U){if(U==0)for(S=v+S;v<S;)Le(N,((U=p[v++])[0]>>24|U[1]>>8&65280|U[2]<<8&16711680|U[3]<<24)>>>0),O+=32;else a(N,O,p,v,S)}function yn(p,v){q[v][0]=q[p+"0"],q[v][1]=q[p+"1"],q[v][2]=q[p+"2"],q[v][3]=q[p+"3"],q[v][4]=q[p+"4"],q[v][5]=q[p+"5"],q[v][6]=q[p+"6"],q[v][7]=q[p+"7"],q[v][8]=q[p+"8"],q[v][9]=q[p+"9"],q[v][10]=q[p+"10"],q[v][11]=q[p+"11"],q[v][12]=q[p+"12"],q[v][13]=q[p+"13"],q[v][14]=q[p+"0"],q[v][15]=q[p+"0"]}function Ct(p){return p==Vl||p==ju||p==Ko||p==Ou}function Bt(){this.eb=[],this.size=this.A=this.fb=0}function vn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function wt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Bt,this.f.kb=new vn,this.sd=null}function lt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Pt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function hr(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function bn(p,v){var S=p.T,N=v.ba.f.RGBA,O=N.eb,U=N.fb+p.ka*N.A,F=Wr[v.ba.S],G=p.y,J=p.O,ne=p.f,be=p.N,Ce=p.ea,te=p.W,xe=v.cc,Te=v.dc,Pe=v.Mc,Ne=v.Nc,Ie=p.ka,Fe=p.ka+p.T,Xe=p.U,Ge=Xe+1>>1;for(Ie==0?F(G,J,null,null,ne,be,Ce,te,ne,be,Ce,te,O,U,null,null,Xe):(F(v.ec,v.fc,G,J,xe,Te,Pe,Ne,ne,be,Ce,te,O,U-N.A,O,U,Xe),++S);Ie+2<Fe;Ie+=2)xe=ne,Te=be,Pe=Ce,Ne=te,be+=p.Rc,te+=p.Rc,U+=2*N.A,F(G,(J+=2*p.fa)-p.fa,G,J,xe,Te,Pe,Ne,ne,be,Ce,te,O,U-N.A,O,U,Xe);return J+=p.fa,p.j+Fe<p.o?(a(v.ec,v.fc,G,J,Xe),a(v.cc,v.dc,ne,be,Ge),a(v.Mc,v.Nc,Ce,te,Ge),S--):1&Fe||F(G,J,null,null,ne,be,Ce,te,ne,be,Ce,te,O,U+N.A,null,null,Xe),S}function qn(p,v,S){var N=p.F,O=[p.J];if(N!=null){var U=p.U,F=v.ba.S,G=F==Yl||F==Ko;v=v.ba.f.RGBA;var J=[0],ne=p.ka;J[0]=p.T,p.Kb&&(ne==0?--J[0]:(--ne,O[0]-=p.width),p.j+p.ka+p.T==p.o&&(J[0]=p.o-p.j-ne));var be=v.eb;ne=v.fb+ne*v.A,p=Hl(N,O[0],p.width,U,J,be,ne+(G?0:3),v.A),e(S==J),p&&Ct(F)&&co(be,ne,G,U,J,v.A)}return 0}function $n(p){var v=p.ma,S=v.ba.S,N=11>S,O=S==ei||S==Ui||S==Yl||S==Vo||S==12||Ct(S);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!is(v.Oa,p,O?11:12))return 0;if(O&&Ct(S)&&Pl(),p.da)alert("todo:use_scaling");else{if(N){if(v.Ib=hr,p.Kb){if(S=p.U+1>>1,v.memory=s(p.U+2*S),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+p.U,v.Mc=v.cc,v.Nc=v.dc+S,v.Ib=bn,Pl()}}else alert("todo:EmitYUV");O&&(v.Jb=qn,N&&la())}if(N&&!Us){for(p=0;256>p;++p)Gr[p]=89858*(p-128)+Zo>>Gi,Xh[p]=-22014*(p-128)+Zo,af[p]=-45773*(p-128),Iu[p]=113618*(p-128)+Zo>>Gi;for(p=go;p<Ps;++p)v=76283*(p-16)+Zo>>Gi,Jh[p-go]=ki(v,255),Zh[p-go]=ki(v+8>>4,15);Us=1}return 1}function yt(p){var v=p.ma,S=p.U,N=p.T;return e(!(1&p.ka)),0>=S||0>=N?0:(S=v.Ib(p,v),v.Jb!=null&&v.Jb(p,v,S),v.Dc+=S,1)}function Sn(p){p.ma.memory=null}function Ar(p,v,S,N){return I(p,8)!=47?0:(v[0]=I(p,14)+1,S[0]=I(p,14)+1,N[0]=I(p,1),I(p,3)!=0?0:!p.h)}function Fn(p,v){if(4>p)return p+1;var S=p-2>>1;return(2+(1&p)<<S)+I(v,S)+1}function Wn(p,v){return 120<v?v-120:1<=(S=((S=Fi[v-1])>>4)*p+(8-(15&S)))?S:1;var S}function pn(p,v,S){var N=K(S),O=p[v+=255&N].g-8;return 0<O&&(V(S,S.u+8),N=K(S),v+=p[v].value,v+=N&(1<<O)-1),V(S,S.u+p[v].g),p[v].value}function Cn(p,v,S){return S.g+=p.g,S.value+=p.value<<v>>>0,e(8>=S.g),p.g}function An(p,v,S){var N=p.xc;return e((v=N==0?0:p.vc[p.md*(S>>N)+(v>>N)])<p.Wb),p.Ya[v]}function mi(p,v,S,N){var O=p.ab,U=p.c*v,F=p.C;v=F+v;var G=S,J=N;for(N=p.Ta,S=p.Ua;0<O--;){var ne=p.gc[O],be=F,Ce=v,te=G,xe=J,Te=(J=N,G=S,ne.Ea);switch(e(be<Ce),e(Ce<=ne.nc),ne.hc){case 2:or(te,xe,(Ce-be)*Te,J,G);break;case 0:var Pe=be,Ne=Ce,Ie=J,Fe=G,Xe=(dt=ne).Ea;Pe==0&&($o(te,xe,null,null,1,Ie,Fe),tt(te,xe+1,0,0,Xe-1,Ie,Fe+1),xe+=Xe,Fe+=Xe,++Pe);for(var Ge=1<<dt.b,gt=Ge-1,ut=De(Xe,dt.b),Ut=dt.K,dt=dt.w+(Pe>>dt.b)*ut;Pe<Ne;){var Xt=Ut,In=dt,Ht=1;for(Wo(te,xe,Ie,Fe-Xe,1,Ie,Fe);Ht<Xe;){var ct=(Ht&~gt)+Ge;ct>Xe&&(ct=Xe),(0,ss[Xt[In++]>>8&15])(te,xe+ +Ht,Ie,Fe+Ht-Xe,ct-Ht,Ie,Fe+Ht),Ht=ct}xe+=Xe,Fe+=Xe,++Pe&gt||(dt+=ut)}Ce!=ne.nc&&a(J,G-Te,J,G+(Ce-be-1)*Te,Te);break;case 1:for(Te=te,Ne=xe,Xe=(te=ne.Ea)-(Fe=te&~(Ie=(xe=1<<ne.b)-1)),Pe=De(te,ne.b),Ge=ne.K,ne=ne.w+(be>>ne.b)*Pe;be<Ce;){for(gt=Ge,ut=ne,Ut=new Ye,dt=Ne+Fe,Xt=Ne+te;Ne<dt;)Ze(gt[ut++],Ut),Go(Ut,Te,Ne,xe,J,G),Ne+=xe,G+=xe;Ne<Xt&&(Ze(gt[ut++],Ut),Go(Ut,Te,Ne,Xe,J,G),Ne+=Xe,G+=Xe),++be&Ie||(ne+=Pe)}break;case 3:if(te==J&&xe==G&&0<ne.b){for(Ne=J,te=Te=G+(Ce-be)*Te-(Fe=(Ce-be)*De(ne.Ea,ne.b)),xe=J,Ie=G,Pe=[],Fe=(Xe=Fe)-1;0<=Fe;--Fe)Pe[Fe]=xe[Ie+Fe];for(Fe=Xe-1;0<=Fe;--Fe)Ne[te+Fe]=Pe[Fe];ku(ne,be,Ce,J,Te,J,G)}else ku(ne,be,Ce,te,xe,J,G)}G=N,J=S}J!=S&&a(N,S,G,J,U)}function Er(p,v){var S=p.V,N=p.Ba+p.c*p.C,O=v-p.C;if(e(v<=p.l.o),e(16>=O),0<O){var U=p.l,F=p.Ta,G=p.Ua,J=U.width;if(mi(p,O,S,N),O=G=[G],e((S=p.C)<(N=v)),e(U.v<U.va),N>U.o&&(N=U.o),S<U.j){var ne=U.j-S;S=U.j,O[0]+=ne*J}if(S>=N?S=0:(O[0]+=4*U.v,U.ka=S-U.j,U.U=U.va-U.v,U.T=N-S,S=1),S){if(G=G[0],11>(S=p.ca).S){var be=S.f.RGBA,Ce=(N=S.S,O=U.U,U=U.T,ne=be.eb,be.A),te=U;for(be=be.fb+p.Ma*be.A;0<te--;){var xe=F,Te=G,Pe=O,Ne=ne,Ie=be;switch(N){case Cu:Yo(xe,Te,Pe,Ne,Ie);break;case ei:os(xe,Te,Pe,Ne,Ie);break;case Vl:os(xe,Te,Pe,Ne,Ie),co(Ne,Ie,0,Pe,1,0);break;case Ru:lo(xe,Te,Pe,Ne,Ie);break;case Ui:Et(xe,Te,Pe,Ne,Ie,1);break;case ju:Et(xe,Te,Pe,Ne,Ie,1),co(Ne,Ie,0,Pe,1,0);break;case Yl:Et(xe,Te,Pe,Ne,Ie,0);break;case Ko:Et(xe,Te,Pe,Ne,Ie,0),co(Ne,Ie,1,Pe,1,0);break;case Vo:ls(xe,Te,Pe,Ne,Ie);break;case Ou:ls(xe,Te,Pe,Ne,Ie),Pi(Ne,Ie,Pe,1,0);break;case Ds:Da(xe,Te,Pe,Ne,Ie);break;default:e(0)}G+=J,be+=Ce}p.Ma+=U}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=S.height)}}p.C=v,e(p.C<=p.i)}function En(p){var v;if(0<p.ua)return 0;for(v=0;v<p.Wb;++v){var S=p.Ya[v].G,N=p.Ya[v].H;if(0<S[1][N[1]+0].g||0<S[2][N[2]+0].g||0<S[3][N[3]+0].g)return 0}return 1}function Gn(p,v,S,N,O,U){if(p.Z!=0){var F=p.qd,G=p.rd;for(e(ds[p.Z]!=null);v<S;++v)ds[p.Z](F,G,N,O,N,O,U),F=N,G=O,O+=U;p.qd=F,p.rd=G}}function Jr(p,v){var S=p.l.ma,N=S.Z==0||S.Z==1?p.l.j:p.C;if(N=p.C<N?N:p.C,e(v<=p.l.o),v>N){var O=p.l.width,U=S.ca,F=S.tb+O*N,G=p.V,J=p.Ba+p.c*N,ne=p.gc;e(p.ab==1),e(ne[0].hc==3),Oa(ne[0],N,v,G,J,U,F),Gn(S,N,v,U,F,O)}p.C=p.Ma=v}function Ei(p,v,S,N,O,U,F){var G=p.$/N,J=p.$%N,ne=p.m,be=p.s,Ce=S+p.$,te=Ce;O=S+N*O;var xe=S+N*U,Te=280+be.ua,Pe=p.Pb?G:16777216,Ne=0<be.ua?be.Wa:null,Ie=be.wc,Fe=Ce<xe?An(be,J,G):null;e(p.C<U),e(xe<=O);var Xe=!1;e:for(;;){for(;Xe||Ce<xe;){var Ge=0;if(G>=Pe){var gt=Ce-S;e((Pe=p).Pb),Pe.wd=Pe.m,Pe.xd=gt,0<Pe.s.ua&&ze(Pe.s.Wa,Pe.s.vb),Pe=G+Bs}if(J&Ie||(Fe=An(be,J,G)),e(Fe!=null),Fe.Qb&&(v[Ce]=Fe.qb,Xe=!0),!Xe)if(Q(ne),Fe.jc){Ge=ne,gt=v;var ut=Ce,Ut=Fe.pd[K(Ge)&Os-1];e(Fe.jc),256>Ut.g?(V(Ge,Ge.u+Ut.g),gt[ut]=Ut.value,Ge=0):(V(Ge,Ge.u+Ut.g-256),e(256<=Ut.value),Ge=Ut.value),Ge==0&&(Xe=!0)}else Ge=pn(Fe.G[0],Fe.H[0],ne);if(ne.h)break;if(Xe||256>Ge){if(!Xe)if(Fe.nd)v[Ce]=(Fe.qb|Ge<<8)>>>0;else{if(Q(ne),Xe=pn(Fe.G[1],Fe.H[1],ne),Q(ne),gt=pn(Fe.G[2],Fe.H[2],ne),ut=pn(Fe.G[3],Fe.H[3],ne),ne.h)break;v[Ce]=(ut<<24|Xe<<16|Ge<<8|gt)>>>0}if(Xe=!1,++Ce,++J>=N&&(J=0,++G,F!=null&&G<=U&&!(G%16)&&F(p,G),Ne!=null))for(;te<Ce;)Ge=v[te++],Ne.X[(506832829*Ge&4294967295)>>>Ne.Mb]=Ge}else if(280>Ge){if(Ge=Fn(Ge-256,ne),gt=pn(Fe.G[4],Fe.H[4],ne),Q(ne),gt=Wn(N,gt=Fn(gt,ne)),ne.h)break;if(Ce-S<gt||O-Ce<Ge)break e;for(ut=0;ut<Ge;++ut)v[Ce+ut]=v[Ce+ut-gt];for(Ce+=Ge,J+=Ge;J>=N;)J-=N,++G,F!=null&&G<=U&&!(G%16)&&F(p,G);if(e(Ce<=O),J&Ie&&(Fe=An(be,J,G)),Ne!=null)for(;te<Ce;)Ge=v[te++],Ne.X[(506832829*Ge&4294967295)>>>Ne.Mb]=Ge}else{if(!(Ge<Te))break e;for(Xe=Ge-280,e(Ne!=null);te<Ce;)Ge=v[te++],Ne.X[(506832829*Ge&4294967295)>>>Ne.Mb]=Ge;Ge=Ce,e(!(Xe>>>(gt=Ne).Xa)),v[Ge]=gt.X[Xe],Xe=!0}Xe||e(ne.h==ae(ne))}if(p.Pb&&ne.h&&Ce<O)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&ze(p.s.vb,p.s.Wa);else{if(ne.h)break e;F?.(p,G>U?U:G),p.a=0,p.$=Ce-S}return 1}return p.a=3,0}function Bi(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var v=p.Wa;v!=null&&(v.X=null),p.vb=null,e(p!=null)}function Qs(){var p=new zt;return p==null?null:(p.a=0,p.xb=qc,yn("Predictor","VP8LPredictors"),yn("Predictor","VP8LPredictors_C"),yn("PredictorAdd","VP8LPredictorsAdd"),yn("PredictorAdd","VP8LPredictorsAdd_C"),or=pt,Go=At,Yo=cn,os=xt,ls=kt,Da=Rt,lo=Yt,q.VP8LMapColor32b=ja,q.VP8LMapColor8b=Fr,p)}function ea(p,v,S,N,O){var U=1,F=[p],G=[v],J=N.m,ne=N.s,be=null,Ce=0;e:for(;;){if(S)for(;U&&I(J,1);){var te=F,xe=G,Te=N,Pe=1,Ne=Te.m,Ie=Te.gc[Te.ab],Fe=I(Ne,2);if(Te.Oc&1<<Fe)U=0;else{switch(Te.Oc|=1<<Fe,Ie.hc=Fe,Ie.Ea=te[0],Ie.nc=xe[0],Ie.K=[null],++Te.ab,e(4>=Te.ab),Fe){case 0:case 1:Ie.b=I(Ne,3)+2,Pe=ea(De(Ie.Ea,Ie.b),De(Ie.nc,Ie.b),0,Te,Ie.K),Ie.K=Ie.K[0];break;case 3:var Xe,Ge=I(Ne,8)+1,gt=16<Ge?0:4<Ge?1:2<Ge?2:3;if(te[0]=De(Ie.Ea,gt),Ie.b=gt,Xe=Pe=ea(Ge,1,0,Te,Ie.K)){var ut,Ut=Ge,dt=Ie,Xt=1<<(8>>dt.b),In=s(Xt);if(In==null)Xe=0;else{var Ht=dt.K[0],ct=dt.w;for(In[0]=dt.K[0][0],ut=1;ut<1*Ut;++ut)In[ut]=Ke(Ht[ct+ut],In[ut-1]);for(;ut<4*Xt;++ut)In[ut]=0;dt.K[0]=null,dt.K[0]=In,Xe=1}}Pe=Xe;break;case 2:break;default:e(0)}U=Pe}}if(F=F[0],G=G[0],U&&I(J,1)&&!(U=1<=(Ce=I(J,4))&&11>=Ce)){N.a=3;break e}var rt;if(rt=U)t:{var Vn,Ot,Gt,wn=N,Nr=F,Yr=G,On=Ce,mr=S,ti=wn.m,yr=wn.s,Kt=[null],on=1,Kn=0,hn=Hi[On];n:for(;;){if(mr&&I(ti,1)){var Lr=I(ti,3)+2,Xn=De(Nr,Lr),ln=De(Yr,Lr),cr=Xn*ln;if(!ea(Xn,ln,0,wn,Kt))break n;for(Kt=Kt[0],yr.xc=Lr,Vn=0;Vn<cr;++Vn){var xn=Kt[Vn]>>8&65535;Kt[Vn]=xn,xn>=on&&(on=xn+1)}}if(ti.h)break n;for(Ot=0;5>Ot;++Ot){var vr=ho[Ot];!Ot&&0<On&&(vr+=1<<On),Kn<vr&&(Kn=vr)}var br=c(on*hn,se),Tn=on,an=c(Tn,Ee);if(an==null)var ni=null;else e(65536>=Tn),ni=an;var er=s(Kn);if(ni==null||er==null||br==null){wn.a=1;break n}var Tt=br;for(Vn=Gt=0;Vn<on;++Vn){var Nt=ni[Vn],un=Nt.G,bi=Nt.H,Yi=0,di=1,wr=0;for(Ot=0;5>Ot;++Ot){vr=ho[Ot],un[Ot]=Tt,bi[Ot]=Gt,!Ot&&0<On&&(vr+=1<<On);i:{var qs,Fs=vr,Uu=wn,Dn=er,Hc=Tt,$c=Gt,qu=0,fs=Uu.m,Qh=I(fs,1);if(l(Dn,0,0,Fs),Qh){var Wc=I(fs,1)+1,Gc=I(fs,1),Fu=I(fs,Gc==0?1:8);Dn[Fu]=1,Wc==2&&(Dn[Fu=I(fs,8)]=1);var Br=1}else{var tr=s(19),Zl=I(fs,4)+4;if(19<Zl){Uu.a=3;var Hs=0;break i}for(qs=0;qs<Zl;++qs)tr[Kl[qs]]=I(fs,3);var el=void 0,mo=void 0,Ma=Uu,Hu=tr,tl=Fs,$u=Dn,Wu=0,hs=Ma.m,Yc=8,Vc=c(128,se);r:for(;Y(Vc,0,7,Hu,19);){if(I(hs,1)){var sf=2+2*I(hs,3);if((el=2+I(hs,sf))>tl)break r}else el=tl;for(mo=0;mo<tl&&el--;){Q(hs);var Kc=Vc[0+(127&K(hs))];V(hs,hs.u+Kc.g);var $s=Kc.value;if(16>$s)$u[mo++]=$s,$s!=0&&(Yc=$s);else{var of=$s==16,lf=$s-16,uf=Xo[lf],Xc=I(hs,qi[lf])+uf;if(mo+Xc>tl)break r;for(var cf=of?Yc:0;0<Xc--;)$u[mo++]=cf}}Wu=1;break r}Wu||(Ma.a=3),Br=Wu}(Br=Br&&!fs.h)&&(qu=Y(Hc,$c,8,Dn,Fs)),Br&&qu!=0?Hs=qu:(Uu.a=3,Hs=0)}if(Hs==0)break n;if(di&&Du[Ot]==1&&(di=Tt[Gt].g==0),Yi+=Tt[Gt].g,Gt+=Hs,3>=Ot){var yo,Gu=er[0];for(yo=1;yo<vr;++yo)er[yo]>Gu&&(Gu=er[yo]);wr+=Gu}}if(Nt.nd=di,Nt.Qb=0,di&&(Nt.qb=(un[3][bi[3]+0].value<<24|un[1][bi[1]+0].value<<16|un[2][bi[2]+0].value)>>>0,Yi==0&&256>un[0][bi[0]+0].value&&(Nt.Qb=1,Nt.qb+=un[0][bi[0]+0].value<<8)),Nt.jc=!Nt.Qb&&6>wr,Nt.jc){var Ql,Ia=Nt;for(Ql=0;Ql<Os;++Ql){var ps=Ql,gs=Ia.pd[ps],Yu=Ia.G[0][Ia.H[0]+ps];256<=Yu.value?(gs.g=Yu.g+256,gs.value=Yu.value):(gs.g=0,gs.value=0,ps>>=Cn(Yu,8,gs),ps>>=Cn(Ia.G[1][Ia.H[1]+ps],16,gs),ps>>=Cn(Ia.G[2][Ia.H[2]+ps],0,gs),Cn(Ia.G[3][Ia.H[3]+ps],24,gs))}}}yr.vc=Kt,yr.Wb=on,yr.Ya=ni,yr.yc=br,rt=1;break t}rt=0}if(!(U=rt)){N.a=3;break e}if(0<Ce){if(ne.ua=1<<Ce,!$(ne.Wa,Ce)){N.a=1,U=0;break e}}else ne.ua=0;var Vu=N,vo=F,df=G,nl=Vu.s,rl=nl.xc;if(Vu.c=vo,Vu.i=df,nl.md=De(vo,rl),nl.wc=rl==0?-1:(1<<rl)-1,S){N.xb=zs;break e}if((be=s(F*G))==null){N.a=1,U=0;break e}U=(U=Ei(N,be,0,F,G,G,null))&&!J.h;break e}return U?(O!=null?O[0]=be:(e(be==null),e(S)),N.$=0,S||Bi(ne)):Bi(ne),U}function ta(p,v){var S=p.c*p.i,N=S+v+16*v;return e(p.c<=v),p.V=s(N),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+S+v,1)}function Ns(p,v){var S=p.C,N=v-S,O=p.V,U=p.Ba+p.c*S;for(e(v<=p.l.o);0<N;){var F=16<N?16:N,G=p.l.ma,J=p.l.width,ne=J*F,be=G.ca,Ce=G.tb+J*S,te=p.Ta,xe=p.Ua;mi(p,F,O,U),ji(te,xe,be,Ce,ne),Gn(G,S,S+F,be,Ce,J),N-=F,O+=F*p.c,S+=F}e(S==v),p.C=p.Ma=v}function na(){this.ub=this.yd=this.td=this.Rb=0}function ra(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function eo(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Aa(){this.Yb=(function(){var p=[];return(function v(S,N,O){for(var U=O[N],F=0;F<U&&(S.push(O.length>N+1?[]:0),!(O.length<N+1));F++)v(S[F],N+1,O)})(p,0,[3,11]),p})()}function ar(){this.jb=s(3),this.Wc=d([4,8],Aa),this.Xc=d([4,17],Aa)}function El(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Ti(){this.ld=this.La=this.dd=this.tc=0}function ia(){this.Na=this.la=0}function Wa(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Tl(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function kl(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ti),this.Y=0,this.ya=Array(new Tl),this.aa=0,this.l=new Ga}function Nl(){this.y=s(16),this.f=s(8),this.ea=s(8)}function yu(){this.cb=this.a=0,this.sc="",this.m=new k,this.Od=new na,this.Kc=new ra,this.ed=new El,this.Qa=new eo,this.Ic=this.$c=this.Aa=0,this.D=new kl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,k),this.ia=0,this.pb=c(4,Wa),this.Pa=new ar,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Nl),this.Hd=0,this.rb=Array(new ia),this.sb=0,this.wa=Array(new Ti),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Tl),this.L=this.aa=0,this.gd=d([4,2],Ti),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ki(p,v){return 0>p?0:p>v?v:p}function Ga(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function aa(){var p=new yu;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,Oi||(Oi=Ls)),p}function dn(p,v,S){return p.a==0&&(p.a=v,p.sc=S,p.cb=0),0}function Ll(p,v,S){return 3<=S&&p[v+0]==157&&p[v+1]==1&&p[v+2]==42}function Ea(p,v){if(p==null)return 0;if(p.a=0,p.sc="OK",v==null)return dn(p,2,"null VP8Io passed to VP8GetHeaders()");var S=v.data,N=v.w,O=v.ha;if(4>O)return dn(p,7,"Truncated header.");var U=S[N+0]|S[N+1]<<8|S[N+2]<<16,F=p.Od;if(F.Rb=!(1&U),F.td=U>>1&7,F.yd=U>>4&1,F.ub=U>>5,3<F.td)return dn(p,3,"Incorrect keyframe parameters.");if(!F.yd)return dn(p,4,"Frame not displayable.");N+=3,O-=3;var G=p.Kc;if(F.Rb){if(7>O)return dn(p,7,"cannot parse picture header");if(!Ll(S,N,O))return dn(p,3,"Bad code word");G.c=16383&(S[N+4]<<8|S[N+3]),G.Td=S[N+4]>>6,G.i=16383&(S[N+6]<<8|S[N+5]),G.Ud=S[N+6]>>6,N+=7,O-=7,p.za=G.c+15>>4,p.Ub=G.i+15>>4,v.width=G.c,v.height=G.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,l((U=p.Pa).jb,0,255,U.jb.length),e((U=p.Qa)!=null),U.Cb=0,U.Bb=0,U.Fb=1,l(U.Zb,0,0,U.Zb.length),l(U.Lb,0,0,U.Lb)}if(F.ub>O)return dn(p,7,"bad partition length");X(U=p.m,S,N,F.ub),N+=F.ub,O-=F.ub,F.Rb&&(G.Ld=ye(U),G.Kd=ye(U)),G=p.Qa;var J,ne=p.Pa;if(e(U!=null),e(G!=null),G.Cb=ye(U),G.Cb){if(G.Bb=ye(U),ye(U)){for(G.Fb=ye(U),J=0;4>J;++J)G.Zb[J]=ye(U)?he(U,7):0;for(J=0;4>J;++J)G.Lb[J]=ye(U)?he(U,6):0}if(G.Bb)for(J=0;3>J;++J)ne.jb[J]=ye(U)?de(U,8):255}else G.Bb=0;if(U.Ka)return dn(p,3,"cannot parse segment header");if((G=p.ed).zd=ye(U),G.Tb=de(U,6),G.wb=de(U,3),G.Pc=ye(U),G.Pc&&ye(U)){for(ne=0;4>ne;++ne)ye(U)&&(G.vd[ne]=he(U,6));for(ne=0;4>ne;++ne)ye(U)&&(G.od[ne]=he(U,6))}if(p.L=G.Tb==0?0:G.zd?1:2,U.Ka)return dn(p,3,"cannot parse filter header");var be=O;if(O=J=N,N=J+be,G=be,p.Xb=(1<<de(p.m,2))-1,be<3*(ne=p.Xb))S=7;else{for(J+=3*ne,G-=3*ne,be=0;be<ne;++be){var Ce=S[O+0]|S[O+1]<<8|S[O+2]<<16;Ce>G&&(Ce=G),X(p.Jc[+be],S,J,Ce),J+=Ce,G-=Ce,O+=3}X(p.Jc[+ne],S,J,G),S=J<N?0:5}if(S!=0)return dn(p,S,"cannot parse partitions");for(S=de(J=p.m,7),O=ye(J)?he(J,4):0,N=ye(J)?he(J,4):0,G=ye(J)?he(J,4):0,ne=ye(J)?he(J,4):0,J=ye(J)?he(J,4):0,be=p.Qa,Ce=0;4>Ce;++Ce){if(be.Cb){var te=be.Zb[Ce];be.Fb||(te+=S)}else{if(0<Ce){p.pb[Ce]=p.pb[0];continue}te=S}var xe=p.pb[Ce];xe.Sc[0]=$i[ki(te+O,127)],xe.Sc[1]=Wi[ki(te+0,127)],xe.Eb[0]=2*$i[ki(te+N,127)],xe.Eb[1]=101581*Wi[ki(te+G,127)]>>16,8>xe.Eb[1]&&(xe.Eb[1]=8),xe.Qc[0]=$i[ki(te+ne,117)],xe.Qc[1]=Wi[ki(te+J,127)],xe.lc=te+J}if(!F.Rb)return dn(p,4,"Not a key frame.");for(ye(U),F=p.Pa,S=0;4>S;++S){for(O=0;8>O;++O)for(N=0;3>N;++N)for(G=0;11>G;++G)ne=pe(U,Mn[S][O][N][G])?de(U,8):rf[S][O][N][G],F.Wc[S][O].Yb[N][G]=ne;for(O=0;17>O;++O)F.Xc[S][O]=F.Wc[S][Jt[O]]}return p.kc=ye(U),p.kc&&(p.Bd=de(U,8)),p.cb=1}function Ls(p,v,S,N,O,U,F){var G=v[O].Yb[S];for(S=0;16>O;++O){if(!pe(p,G[S+0]))return O;for(;!pe(p,G[S+1]);)if(G=v[++O].Yb[0],S=0,O==16)return 16;var J=v[O+1].Yb;if(pe(p,G[S+2])){var ne=p,be=0;if(pe(ne,(te=G)[(Ce=S)+3]))if(pe(ne,te[Ce+6])){for(G=0,Ce=2*(be=pe(ne,te[Ce+8]))+(te=pe(ne,te[Ce+9+be])),be=0,te=nf[Ce];te[G];++G)be+=be+pe(ne,te[G]);be+=3+(8<<Ce)}else pe(ne,te[Ce+7])?(be=7+2*pe(ne,165),be+=pe(ne,145)):be=5+pe(ne,159);else be=pe(ne,te[Ce+4])?3+pe(ne,te[Ce+5]):2;G=J[2]}else be=1,G=J[1];J=F+Uc[O],0>(ne=p).b&&le(ne);var Ce,te=ne.b,xe=(Ce=ne.Ca>>1)-(ne.I>>te)>>31;--ne.b,ne.Ca+=xe,ne.Ca|=1,ne.I-=(Ce+1&xe)<<te,U[J]=((be^xe)-xe)*N[(0<O)+0]}return 16}function Cl(p){var v=p.rb[p.sb-1];v.la=0,v.Na=0,l(p.zc,0,0,p.zc.length),p.ja=0}function si(p,v,S,N,O){O=p[v+S+32*N]+(O>>3),p[v+S+32*N]=-256&O?0>O?0:255:O}function Tr(p,v,S,N,O,U){si(p,v,0,S,N+O),si(p,v,1,S,N+U),si(p,v,2,S,N-U),si(p,v,3,S,N-O)}function pr(p){return(20091*p>>16)+p}function Mo(p,v,S,N){var O,U=0,F=s(16);for(O=0;4>O;++O){var G=p[v+0]+p[v+8],J=p[v+0]-p[v+8],ne=(35468*p[v+4]>>16)-pr(p[v+12]),be=pr(p[v+4])+(35468*p[v+12]>>16);F[U+0]=G+be,F[U+1]=J+ne,F[U+2]=J-ne,F[U+3]=G-be,U+=4,v++}for(O=U=0;4>O;++O)G=(p=F[U+0]+4)+F[U+8],J=p-F[U+8],ne=(35468*F[U+4]>>16)-pr(F[U+12]),si(S,N,0,0,G+(be=pr(F[U+4])+(35468*F[U+12]>>16))),si(S,N,1,0,J+ne),si(S,N,2,0,J-ne),si(S,N,3,0,G-be),U++,N+=32}function vu(p,v,S,N){var O=p[v+0]+4,U=35468*p[v+4]>>16,F=pr(p[v+4]),G=35468*p[v+1]>>16;Tr(S,N,0,O+F,p=pr(p[v+1]),G),Tr(S,N,1,O+U,p,G),Tr(S,N,2,O-U,p,G),Tr(S,N,3,O-F,p,G)}function Rl(p,v,S,N,O){Mo(p,v,S,N),O&&Mo(p,v+16,S,N+4)}function oi(p,v,S,N){us(p,v+0,S,N,1),us(p,v+32,S,N+128,1)}function jl(p,v,S,N){var O;for(p=p[v+0]+4,O=0;4>O;++O)for(v=0;4>v;++v)si(S,N,v,O,p)}function Ol(p,v,S,N){p[v+0]&&fn(p,v+0,S,N),p[v+16]&&fn(p,v+16,S,N+4),p[v+32]&&fn(p,v+32,S,N+128),p[v+48]&&fn(p,v+48,S,N+128+4)}function sa(p,v,S,N){var O,U=s(16);for(O=0;4>O;++O){var F=p[v+0+O]+p[v+12+O],G=p[v+4+O]+p[v+8+O],J=p[v+4+O]-p[v+8+O],ne=p[v+0+O]-p[v+12+O];U[0+O]=F+G,U[8+O]=F-G,U[4+O]=ne+J,U[12+O]=ne-J}for(O=0;4>O;++O)F=(p=U[0+4*O]+3)+U[3+4*O],G=U[1+4*O]+U[2+4*O],J=U[1+4*O]-U[2+4*O],ne=p-U[3+4*O],S[N+0]=F+G>>3,S[N+16]=ne+J>>3,S[N+32]=F-G>>3,S[N+48]=ne-J>>3,N+=64}function to(p,v,S){var N,O=v-32,U=Qr,F=255-p[O-1];for(N=0;N<S;++N){var G,J=U,ne=F+p[v-1];for(G=0;G<S;++G)p[v+G]=J[ne+p[O+G]];v+=32}}function bu(p,v){to(p,v,4)}function wu(p,v){to(p,v,8)}function Dl(p,v){to(p,v,16)}function Bl(p,v){var S;for(S=0;16>S;++S)a(p,v+32*S,p,v-32,16)}function xu(p,v){var S;for(S=16;0<S;--S)l(p,v,p[v-1],16),v+=32}function yi(p,v,S){var N;for(N=0;16>N;++N)l(v,S+32*N,p,16)}function oa(p,v){var S,N=16;for(S=0;16>S;++S)N+=p[v-1+32*S]+p[v+S-32];yi(N>>5,p,v)}function Ya(p,v){var S,N=8;for(S=0;16>S;++S)N+=p[v-1+32*S];yi(N>>4,p,v)}function no(p,v){var S,N=8;for(S=0;16>S;++S)N+=p[v+S-32];yi(N>>4,p,v)}function Cs(p,v){yi(128,p,v)}function jt(p,v,S){return p+2*v+S+2>>2}function _u(p,v){var S,N=v-32;for(N=new Uint8Array([jt(p[N-1],p[N+0],p[N+1]),jt(p[N+0],p[N+1],p[N+2]),jt(p[N+1],p[N+2],p[N+3]),jt(p[N+2],p[N+3],p[N+4])]),S=0;4>S;++S)a(p,v+32*S,N,0,N.length)}function zl(p,v){var S=p[v-1],N=p[v-1+32],O=p[v-1+64],U=p[v-1+96];Le(p,v+0,16843009*jt(p[v-1-32],S,N)),Le(p,v+32,16843009*jt(S,N,O)),Le(p,v+64,16843009*jt(N,O,U)),Le(p,v+96,16843009*jt(O,U,U))}function Su(p,v){var S,N=4;for(S=0;4>S;++S)N+=p[v+S-32]+p[v-1+32*S];for(N>>=3,S=0;4>S;++S)l(p,v+32*S,N,4)}function Ni(p,v){var S=p[v-1+0],N=p[v-1+32],O=p[v-1+64],U=p[v-1-32],F=p[v+0-32],G=p[v+1-32],J=p[v+2-32],ne=p[v+3-32];p[v+0+96]=jt(N,O,p[v-1+96]),p[v+1+96]=p[v+0+64]=jt(S,N,O),p[v+2+96]=p[v+1+64]=p[v+0+32]=jt(U,S,N),p[v+3+96]=p[v+2+64]=p[v+1+32]=p[v+0+0]=jt(F,U,S),p[v+3+64]=p[v+2+32]=p[v+1+0]=jt(G,F,U),p[v+3+32]=p[v+2+0]=jt(J,G,F),p[v+3+0]=jt(ne,J,G)}function Ur(p,v){var S=p[v+1-32],N=p[v+2-32],O=p[v+3-32],U=p[v+4-32],F=p[v+5-32],G=p[v+6-32],J=p[v+7-32];p[v+0+0]=jt(p[v+0-32],S,N),p[v+1+0]=p[v+0+32]=jt(S,N,O),p[v+2+0]=p[v+1+32]=p[v+0+64]=jt(N,O,U),p[v+3+0]=p[v+2+32]=p[v+1+64]=p[v+0+96]=jt(O,U,F),p[v+3+32]=p[v+2+64]=p[v+1+96]=jt(U,F,G),p[v+3+64]=p[v+2+96]=jt(F,G,J),p[v+3+96]=jt(G,J,J)}function Ml(p,v){var S=p[v-1+0],N=p[v-1+32],O=p[v-1+64],U=p[v-1-32],F=p[v+0-32],G=p[v+1-32],J=p[v+2-32],ne=p[v+3-32];p[v+0+0]=p[v+1+64]=U+F+1>>1,p[v+1+0]=p[v+2+64]=F+G+1>>1,p[v+2+0]=p[v+3+64]=G+J+1>>1,p[v+3+0]=J+ne+1>>1,p[v+0+96]=jt(O,N,S),p[v+0+64]=jt(N,S,U),p[v+0+32]=p[v+1+96]=jt(S,U,F),p[v+1+32]=p[v+2+96]=jt(U,F,G),p[v+2+32]=p[v+3+96]=jt(F,G,J),p[v+3+32]=jt(G,J,ne)}function ro(p,v){var S=p[v+0-32],N=p[v+1-32],O=p[v+2-32],U=p[v+3-32],F=p[v+4-32],G=p[v+5-32],J=p[v+6-32],ne=p[v+7-32];p[v+0+0]=S+N+1>>1,p[v+1+0]=p[v+0+64]=N+O+1>>1,p[v+2+0]=p[v+1+64]=O+U+1>>1,p[v+3+0]=p[v+2+64]=U+F+1>>1,p[v+0+32]=jt(S,N,O),p[v+1+32]=p[v+0+96]=jt(N,O,U),p[v+2+32]=p[v+1+96]=jt(O,U,F),p[v+3+32]=p[v+2+96]=jt(U,F,G),p[v+3+64]=jt(F,G,J),p[v+3+96]=jt(G,J,ne)}function Li(p,v){var S=p[v-1+0],N=p[v-1+32],O=p[v-1+64],U=p[v-1+96];p[v+0+0]=S+N+1>>1,p[v+2+0]=p[v+0+32]=N+O+1>>1,p[v+2+32]=p[v+0+64]=O+U+1>>1,p[v+1+0]=jt(S,N,O),p[v+3+0]=p[v+1+32]=jt(N,O,U),p[v+3+32]=p[v+1+64]=jt(O,U,U),p[v+3+64]=p[v+2+64]=p[v+0+96]=p[v+1+96]=p[v+2+96]=p[v+3+96]=U}function io(p,v){var S=p[v-1+0],N=p[v-1+32],O=p[v-1+64],U=p[v-1+96],F=p[v-1-32],G=p[v+0-32],J=p[v+1-32],ne=p[v+2-32];p[v+0+0]=p[v+2+32]=S+F+1>>1,p[v+0+32]=p[v+2+64]=N+S+1>>1,p[v+0+64]=p[v+2+96]=O+N+1>>1,p[v+0+96]=U+O+1>>1,p[v+3+0]=jt(G,J,ne),p[v+2+0]=jt(F,G,J),p[v+1+0]=p[v+3+32]=jt(S,F,G),p[v+1+32]=p[v+3+64]=jt(N,S,F),p[v+1+64]=p[v+3+96]=jt(O,N,S),p[v+1+96]=jt(U,O,N)}function Ta(p,v){var S;for(S=0;8>S;++S)a(p,v+32*S,p,v-32,8)}function Au(p,v){var S;for(S=0;8>S;++S)l(p,v,p[v-1],8),v+=32}function zi(p,v,S){var N;for(N=0;8>N;++N)l(v,S+32*N,p,8)}function Io(p,v){var S,N=8;for(S=0;8>S;++S)N+=p[v+S-32]+p[v-1+32*S];zi(N>>4,p,v)}function Po(p,v){var S,N=4;for(S=0;8>S;++S)N+=p[v+S-32];zi(N>>3,p,v)}function Or(p,v){var S,N=4;for(S=0;8>S;++S)N+=p[v-1+32*S];zi(N>>3,p,v)}function ka(p,v){zi(128,p,v)}function Mi(p,v,S){var N=p[v-S],O=p[v+0],U=3*(O-N)+cs[1020+p[v-2*S]-p[v+S]],F=Gl[112+(U+4>>3)];p[v-S]=Qr[255+N+Gl[112+(U+3>>3)]],p[v+0]=Qr[255+O-F]}function Va(p,v,S,N){var O=p[v+0],U=p[v+S];return Hr[255+p[v-2*S]-p[v-S]]>N||Hr[255+U-O]>N}function Uo(p,v,S,N){return 4*Hr[255+p[v-S]-p[v+0]]+Hr[255+p[v-2*S]-p[v+S]]<=N}function ao(p,v,S,N,O){var U=p[v-3*S],F=p[v-2*S],G=p[v-S],J=p[v+0],ne=p[v+S],be=p[v+2*S],Ce=p[v+3*S];return 4*Hr[255+G-J]+Hr[255+F-ne]>N?0:Hr[255+p[v-4*S]-U]<=O&&Hr[255+U-F]<=O&&Hr[255+F-G]<=O&&Hr[255+Ce-be]<=O&&Hr[255+be-ne]<=O&&Hr[255+ne-J]<=O}function Ka(p,v,S,N){var O=2*N+1;for(N=0;16>N;++N)Uo(p,v+N,S,O)&&Mi(p,v+N,S)}function Xa(p,v,S,N){var O=2*N+1;for(N=0;16>N;++N)Uo(p,v+N*S,1,O)&&Mi(p,v+N*S,1)}function so(p,v,S,N){var O;for(O=3;0<O;--O)Ka(p,v+=4*S,S,N)}function Il(p,v,S,N){var O;for(O=3;0<O;--O)Xa(p,v+=4,S,N)}function Ja(p,v,S,N,O,U,F,G){for(U=2*U+1;0<O--;){if(ao(p,v,S,U,F))if(Va(p,v,S,G))Mi(p,v,S);else{var J=p,ne=v,be=S,Ce=J[ne-2*be],te=J[ne-be],xe=J[ne+0],Te=J[ne+be],Pe=J[ne+2*be],Ne=27*(Fe=cs[1020+3*(xe-te)+cs[1020+Ce-Te]])+63>>7,Ie=18*Fe+63>>7,Fe=9*Fe+63>>7;J[ne-3*be]=Qr[255+J[ne-3*be]+Fe],J[ne-2*be]=Qr[255+Ce+Ie],J[ne-be]=Qr[255+te+Ne],J[ne+0]=Qr[255+xe-Ne],J[ne+be]=Qr[255+Te-Ie],J[ne+2*be]=Qr[255+Pe-Fe]}v+=N}}function Za(p,v,S,N,O,U,F,G){for(U=2*U+1;0<O--;){if(ao(p,v,S,U,F))if(Va(p,v,S,G))Mi(p,v,S);else{var J=p,ne=v,be=S,Ce=J[ne-be],te=J[ne+0],xe=J[ne+be],Te=Gl[112+(4+(Pe=3*(te-Ce))>>3)],Pe=Gl[112+(Pe+3>>3)],Ne=Te+1>>1;J[ne-2*be]=Qr[255+J[ne-2*be]+Ne],J[ne-be]=Qr[255+Ce+Pe],J[ne+0]=Qr[255+te-Te],J[ne+be]=Qr[255+xe-Ne]}v+=N}}function Eu(p,v,S,N,O,U){Ja(p,v,S,1,16,N,O,U)}function Qa(p,v,S,N,O,U){Ja(p,v,1,S,16,N,O,U)}function Tu(p,v,S,N,O,U){var F;for(F=3;0<F;--F)Za(p,v+=4*S,S,1,16,N,O,U)}function x(p,v,S,N,O,U){var F;for(F=3;0<F;--F)Za(p,v+=4,1,S,16,N,O,U)}function j(p,v,S,N,O,U,F,G){Ja(p,v,O,1,8,U,F,G),Ja(S,N,O,1,8,U,F,G)}function re(p,v,S,N,O,U,F,G){Ja(p,v,1,O,8,U,F,G),Ja(S,N,1,O,8,U,F,G)}function me(p,v,S,N,O,U,F,G){Za(p,v+4*O,O,1,8,U,F,G),Za(S,N+4*O,O,1,8,U,F,G)}function Se(p,v,S,N,O,U,F,G){Za(p,v+4,1,O,8,U,F,G),Za(S,N+4,1,O,8,U,F,G)}function qe(){this.ba=new wt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Pt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ve(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ft(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function vt(){this.ua=0,this.Wa=new et,this.vb=new et,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Ee,this.yc=new se}function zt(){this.xb=this.a=0,this.l=new Ga,this.ca=new wt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new P,this.Pb=0,this.wd=new P,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new vt,this.ab=0,this.gc=c(4,ft),this.Oc=0}function Ft(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ga,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function nn(p,v,S,N,O,U,F){for(p=p==null?0:p[v+0],v=0;v<F;++v)O[U+v]=p+S[N+v]&255,p=O[U+v]}function Yn(p,v,S,N,O,U,F){var G;if(p==null)nn(null,null,S,N,O,U,F);else for(G=0;G<F;++G)O[U+G]=p[v+G]+S[N+G]&255}function sr(p,v,S,N,O,U,F){if(p==null)nn(null,null,S,N,O,U,F);else{var G,J=p[v+0],ne=J,be=J;for(G=0;G<F;++G)ne=be+(J=p[v+G])-ne,be=S[N+G]+(-256&ne?0>ne?0:255:ne)&255,ne=J,O[U+G]=be}}function Rn(p,v,S,N){var O=v.width,U=v.o;if(e(p!=null&&v!=null),0>S||0>=N||S+N>U)return null;if(!p.Cc){if(p.ga==null){var F;if(p.ga=new Ft,(F=p.ga==null)||(F=v.width*v.o,e(p.Gb.length==0),p.Gb=s(F),p.Uc=0,p.Gb==null?F=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,F=1),F=!F),!F){F=p.ga;var G=p.Fa,J=p.P,ne=p.qc,be=p.mb,Ce=p.nb,te=J+1,xe=ne-1,Te=F.l;if(e(G!=null&&be!=null&&v!=null),ds[0]=null,ds[1]=nn,ds[2]=Yn,ds[3]=sr,F.ca=be,F.tb=Ce,F.c=v.width,F.i=v.height,e(0<F.c&&0<F.i),1>=ne)v=0;else if(F.$a=3&G[J+0],F.Z=G[J+0]>>2&3,F.Lc=G[J+0]>>4&3,J=G[J+0]>>6&3,0>F.$a||1<F.$a||4<=F.Z||1<F.Lc||J)v=0;else if(Te.put=yt,Te.ac=$n,Te.bc=Sn,Te.ma=F,Te.width=v.width,Te.height=v.height,Te.Da=v.Da,Te.v=v.v,Te.va=v.va,Te.j=v.j,Te.o=v.o,F.$a)e:{e(F.$a==1),v=Qs();t:for(;;){if(v==null){v=0;break e}if(e(F!=null),F.mc=v,v.c=F.c,v.i=F.i,v.l=F.l,v.l.ma=F,v.l.width=F.c,v.l.height=F.i,v.a=0,_e(v.m,G,te,xe),!ea(F.c,F.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&En(v.s)?(F.ic=1,G=v.c*v.i,v.Ta=null,v.Ua=0,v.V=s(G),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(F.ic=0,v=ta(v,F.c)),!v))break t;v=1;break e}F.mc=null,v=0}else v=xe>=F.c*F.i;F=!v}if(F)return null;p.ga.Lc!=1?p.Ga=0:N=U-S}e(p.ga!=null),e(S+N<=U);e:{if(v=(G=p.ga).c,U=G.l.o,G.$a==0){if(te=p.rc,xe=p.Vc,Te=p.Fa,J=p.P+1+S*v,ne=p.mb,be=p.nb+S*v,e(J<=p.P+p.qc),G.Z!=0)for(e(ds[G.Z]!=null),F=0;F<N;++F)ds[G.Z](te,xe,Te,J,ne,be,v),te=ne,xe=be,be+=v,J+=v;else for(F=0;F<N;++F)a(ne,be,Te,J,v),te=ne,xe=be,be+=v,J+=v;p.rc=te,p.Vc=xe}else{if(e(G.mc!=null),v=S+N,e((F=G.mc)!=null),e(v<=F.i),F.C>=v)v=1;else if(G.ic||la(),G.ic){G=F.V,te=F.Ba,xe=F.c;var Pe=F.i,Ne=(Te=1,J=F.$/xe,ne=F.$%xe,be=F.m,Ce=F.s,F.$),Ie=xe*Pe,Fe=xe*v,Xe=Ce.wc,Ge=Ne<Fe?An(Ce,ne,J):null;e(Ne<=Ie),e(v<=Pe),e(En(Ce));t:for(;;){for(;!be.h&&Ne<Fe;){if(ne&Xe||(Ge=An(Ce,ne,J)),e(Ge!=null),Q(be),256>(Pe=pn(Ge.G[0],Ge.H[0],be)))G[te+Ne]=Pe,++Ne,++ne>=xe&&(ne=0,++J<=v&&!(J%16)&&Jr(F,J));else{if(!(280>Pe)){Te=0;break t}Pe=Fn(Pe-256,be);var gt,ut=pn(Ge.G[4],Ge.H[4],be);if(Q(be),!(Ne>=(ut=Wn(xe,ut=Fn(ut,be)))&&Ie-Ne>=Pe)){Te=0;break t}for(gt=0;gt<Pe;++gt)G[te+Ne+gt]=G[te+Ne+gt-ut];for(Ne+=Pe,ne+=Pe;ne>=xe;)ne-=xe,++J<=v&&!(J%16)&&Jr(F,J);Ne<Fe&&ne&Xe&&(Ge=An(Ce,ne,J))}e(be.h==ae(be))}Jr(F,J>v?v:J);break t}!Te||be.h&&Ne<Ie?(Te=0,F.a=be.h?5:3):F.$=Ne,v=Te}else v=Ei(F,F.V,F.Ba,F.c,F.i,v,Ns);if(!v){N=0;break e}}S+N>=U&&(p.Cc=1),N=1}if(!N)return null;if(p.Cc&&((N=p.ga)!=null&&(N.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+S*O}function kr(p,v,S,N,O,U){for(;0<O--;){var F,G=p,J=v+(S?1:0),ne=p,be=v+(S?0:3);for(F=0;F<N;++F){var Ce=ne[be+4*F];Ce!=255&&(Ce*=32897,G[J+4*F+0]=G[J+4*F+0]*Ce>>23,G[J+4*F+1]=G[J+4*F+1]*Ce>>23,G[J+4*F+2]=G[J+4*F+2]*Ce>>23)}v+=U}}function gr(p,v,S,N,O){for(;0<N--;){var U;for(U=0;U<S;++U){var F=p[v+2*U+0],G=15&(ne=p[v+2*U+1]),J=4369*G,ne=(240&ne|ne>>4)*J>>16;p[v+2*U+0]=(240&F|F>>4)*J>>16&240|(15&F|F<<4)*J>>16>>4&15,p[v+2*U+1]=240&ne|G}v+=O}}function qr(p,v,S,N,O,U,F,G){var J,ne,be=255;for(ne=0;ne<O;++ne){for(J=0;J<N;++J){var Ce=p[v+J];U[F+4*J]=Ce,be&=Ce}v+=S,F+=G}return be!=255}function es(p,v,S,N,O){var U;for(U=0;U<O;++U)S[N+U]=p[v+U]>>8}function la(){co=kr,Pi=gr,Hl=qr,ji=es}function ts(p,v,S){q[p]=function(N,O,U,F,G,J,ne,be,Ce,te,xe,Te,Pe,Ne,Ie,Fe,Xe){var Ge,gt=Xe-1>>1,ut=G[J+0]|ne[be+0]<<16,Ut=Ce[te+0]|xe[Te+0]<<16;e(N!=null);var dt=3*ut+Ut+131074>>2;for(v(N[O+0],255&dt,dt>>16,Pe,Ne),U!=null&&(dt=3*Ut+ut+131074>>2,v(U[F+0],255&dt,dt>>16,Ie,Fe)),Ge=1;Ge<=gt;++Ge){var Xt=G[J+Ge]|ne[be+Ge]<<16,In=Ce[te+Ge]|xe[Te+Ge]<<16,Ht=ut+Xt+Ut+In+524296,ct=Ht+2*(Xt+Ut)>>3;dt=ct+ut>>1,ut=(Ht=Ht+2*(ut+In)>>3)+Xt>>1,v(N[O+2*Ge-1],255&dt,dt>>16,Pe,Ne+(2*Ge-1)*S),v(N[O+2*Ge-0],255&ut,ut>>16,Pe,Ne+(2*Ge-0)*S),U!=null&&(dt=Ht+Ut>>1,ut=ct+In>>1,v(U[F+2*Ge-1],255&dt,dt>>16,Ie,Fe+(2*Ge-1)*S),v(U[F+2*Ge+0],255&ut,ut>>16,Ie,Fe+(2*Ge+0)*S)),ut=Xt,Ut=In}1&Xe||(dt=3*ut+Ut+131074>>2,v(N[O+Xe-1],255&dt,dt>>16,Pe,Ne+(Xe-1)*S),U!=null&&(dt=3*Ut+ut+131074>>2,v(U[F+Xe-1],255&dt,dt>>16,Ie,Fe+(Xe-1)*S)))}}function Pl(){Wr[Cu]=po,Wr[ei]=Jo,Wr[Ru]=Fc,Wr[Ui]=zu,Wr[Yl]=Ms,Wr[Vo]=za,Wr[Ds]=Is,Wr[Vl]=Jo,Wr[ju]=zu,Wr[Ko]=Ms,Wr[Ou]=za}function qo(p){return p&-16384?0>p?0:255:p>>Mu}function Na(p,v){return qo((19077*p>>8)+(26149*v>>8)-14234)}function ua(p,v,S){return qo((19077*p>>8)-(6419*v>>8)-(13320*S>>8)+8708)}function oo(p,v){return qo((19077*p>>8)+(33050*v>>8)-17685)}function ns(p,v,S,N,O){N[O+0]=Na(p,S),N[O+1]=ua(p,v,S),N[O+2]=oo(p,v)}function Dr(p,v,S,N,O){N[O+0]=oo(p,v),N[O+1]=ua(p,v,S),N[O+2]=Na(p,S)}function Rs(p,v,S,N,O){var U=ua(p,v,S);v=U<<3&224|oo(p,v)>>3,N[O+0]=248&Na(p,S)|U>>5,N[O+1]=v}function js(p,v,S,N,O){var U=240&oo(p,v)|15;N[O+0]=240&Na(p,S)|ua(p,v,S)>>4,N[O+1]=U}function Fo(p,v,S,N,O){N[O+0]=255,ns(p,v,S,N,O+1)}function La(p,v,S,N,O){Dr(p,v,S,N,O),N[O+3]=255}function li(p,v,S,N,O){ns(p,v,S,N,O),N[O+3]=255}function rs(p,v,S){q[p]=function(N,O,U,F,G,J,ne,be,Ce){for(var te=be+(-2&Ce)*S;be!=te;)v(N[O+0],U[F+0],G[J+0],ne,be),v(N[O+1],U[F+0],G[J+0],ne,be+S),O+=2,++F,++J,be+=2*S;1&Ce&&v(N[O+0],U[F+0],G[J+0],ne,be)}}function Ho(p,v,S){return S==0?p==0?v==0?6:5:v==0?4:0:S}function Ul(p,v,S,N,O){switch(p>>>30){case 3:us(v,S,N,O,0);break;case 2:Zr(v,S,N,O);break;case 1:fn(v,S,N,O)}}function Ci(p,v){var S,N,O=v.M,U=v.Nb,F=p.oc,G=p.pc+40,J=p.oc,ne=p.pc+584,be=p.oc,Ce=p.pc+600;for(S=0;16>S;++S)F[G+32*S-1]=129;for(S=0;8>S;++S)J[ne+32*S-1]=129,be[Ce+32*S-1]=129;for(0<O?F[G-1-32]=J[ne-1-32]=be[Ce-1-32]=129:(l(F,G-32-1,127,21),l(J,ne-32-1,127,9),l(be,Ce-32-1,127,9)),N=0;N<p.za;++N){var te=v.ya[v.aa+N];if(0<N){for(S=-1;16>S;++S)a(F,G+32*S-4,F,G+32*S+12,4);for(S=-1;8>S;++S)a(J,ne+32*S-4,J,ne+32*S+4,4),a(be,Ce+32*S-4,be,Ce+32*S+4,4)}var xe=p.Gd,Te=p.Hd+N,Pe=te.ad,Ne=te.Hc;if(0<O&&(a(F,G-32,xe[Te].y,0,16),a(J,ne-32,xe[Te].f,0,8),a(be,Ce-32,xe[Te].ea,0,8)),te.Za){var Ie=F,Fe=G-32+16;for(0<O&&(N>=p.za-1?l(Ie,Fe,xe[Te].y[15],4):a(Ie,Fe,xe[Te+1].y,0,4)),S=0;4>S;S++)Ie[Fe+128+S]=Ie[Fe+256+S]=Ie[Fe+384+S]=Ie[Fe+0+S];for(S=0;16>S;++S,Ne<<=2)Ie=F,Fe=G+ur[S],Qn[te.Ob[S]](Ie,Fe),Ul(Ne,Pe,16*+S,Ie,Fe)}else if(Ie=Ho(N,O,te.Ob[0]),ci[Ie](F,G),Ne!=0)for(S=0;16>S;++S,Ne<<=2)Ul(Ne,Pe,16*+S,F,G+ur[S]);for(S=te.Gc,Ie=Ho(N,O,te.Dd),ha[Ie](J,ne),ha[Ie](be,Ce),Ne=Pe,Ie=J,Fe=ne,255&(te=0|S)&&(170&te?Ii(Ne,256,Ie,Fe):rn(Ne,256,Ie,Fe)),te=be,Ne=Ce,255&(S>>=8)&&(170&S?Ii(Pe,320,te,Ne):rn(Pe,320,te,Ne)),O<p.Ub-1&&(a(xe[Te].y,0,F,G+480,16),a(xe[Te].f,0,J,ne+224,8),a(xe[Te].ea,0,be,Ce+224,8)),S=8*U*p.B,xe=p.sa,Te=p.ta+16*N+16*U*p.R,Pe=p.qa,te=p.ra+8*N+S,Ne=p.Ha,Ie=p.Ia+8*N+S,S=0;16>S;++S)a(xe,Te+S*p.R,F,G+32*S,16);for(S=0;8>S;++S)a(Pe,te+S*p.B,J,ne+32*S,8),a(Ne,Ie+S*p.B,be,Ce+32*S,8)}}function ca(p,v,S,N,O,U,F,G,J){var ne=[0],be=[0],Ce=0,te=J!=null?J.kd:0,xe=J??new Ve;if(p==null||12>S)return 7;xe.data=p,xe.w=v,xe.ha=S,v=[v],S=[S],xe.gb=[xe.gb];e:{var Te=v,Pe=S,Ne=xe.gb;if(e(p!=null),e(Pe!=null),e(Ne!=null),Ne[0]=0,12<=Pe[0]&&!n(p,Te[0],"RIFF")){if(n(p,Te[0]+8,"WEBP")){Ne=3;break e}var Ie=ke(p,Te[0]+4);if(12>Ie||4294967286<Ie){Ne=3;break e}if(te&&Ie>Pe[0]-8){Ne=7;break e}Ne[0]=Ie,Te[0]+=12,Pe[0]-=12}Ne=0}if(Ne!=0)return Ne;for(Ie=0<xe.gb[0],S=S[0];;){e:{var Fe=p;Pe=v,Ne=S;var Xe=ne,Ge=be,gt=Te=[0];if((dt=Ce=[Ce])[0]=0,8>Ne[0])Ne=7;else{if(!n(Fe,Pe[0],"VP8X")){if(ke(Fe,Pe[0]+4)!=10){Ne=3;break e}if(18>Ne[0]){Ne=7;break e}var ut=ke(Fe,Pe[0]+8),Ut=1+ie(Fe,Pe[0]+12);if(2147483648<=Ut*(Fe=1+ie(Fe,Pe[0]+15))){Ne=3;break e}gt!=null&&(gt[0]=ut),Xe!=null&&(Xe[0]=Ut),Ge!=null&&(Ge[0]=Fe),Pe[0]+=18,Ne[0]-=18,dt[0]=1}Ne=0}}if(Ce=Ce[0],Te=Te[0],Ne!=0)return Ne;if(Pe=!!(2&Te),!Ie&&Ce)return 3;if(U!=null&&(U[0]=!!(16&Te)),F!=null&&(F[0]=Pe),G!=null&&(G[0]=0),F=ne[0],Te=be[0],Ce&&Pe&&J==null){Ne=0;break}if(4>S){Ne=7;break}if(Ie&&Ce||!Ie&&!Ce&&!n(p,v[0],"ALPH")){S=[S],xe.na=[xe.na],xe.P=[xe.P],xe.Sa=[xe.Sa];e:{ut=p,Ne=v,Ie=S;var dt=xe.gb;Xe=xe.na,Ge=xe.P,gt=xe.Sa,Ut=22,e(ut!=null),e(Ie!=null),Fe=Ne[0];var Xt=Ie[0];for(e(Xe!=null),e(gt!=null),Xe[0]=null,Ge[0]=null,gt[0]=0;;){if(Ne[0]=Fe,Ie[0]=Xt,8>Xt){Ne=7;break e}var In=ke(ut,Fe+4);if(4294967286<In){Ne=3;break e}var Ht=8+In+1&-2;if(Ut+=Ht,0<dt&&Ut>dt){Ne=3;break e}if(!n(ut,Fe,"VP8 ")||!n(ut,Fe,"VP8L")){Ne=0;break e}if(Xt[0]<Ht){Ne=7;break e}n(ut,Fe,"ALPH")||(Xe[0]=ut,Ge[0]=Fe+8,gt[0]=In),Fe+=Ht,Xt-=Ht}}if(S=S[0],xe.na=xe.na[0],xe.P=xe.P[0],xe.Sa=xe.Sa[0],Ne!=0)break}S=[S],xe.Ja=[xe.Ja],xe.xa=[xe.xa];e:if(dt=p,Ne=v,Ie=S,Xe=xe.gb[0],Ge=xe.Ja,gt=xe.xa,ut=Ne[0],Fe=!n(dt,ut,"VP8 "),Ut=!n(dt,ut,"VP8L"),e(dt!=null),e(Ie!=null),e(Ge!=null),e(gt!=null),8>Ie[0])Ne=7;else{if(Fe||Ut){if(dt=ke(dt,ut+4),12<=Xe&&dt>Xe-12){Ne=3;break e}if(te&&dt>Ie[0]-8){Ne=7;break e}Ge[0]=dt,Ne[0]+=8,Ie[0]-=8,gt[0]=Ut}else gt[0]=5<=Ie[0]&&dt[ut+0]==47&&!(dt[ut+4]>>5),Ge[0]=Ie[0];Ne=0}if(S=S[0],xe.Ja=xe.Ja[0],xe.xa=xe.xa[0],v=v[0],Ne!=0)break;if(4294967286<xe.Ja)return 3;if(G==null||Pe||(G[0]=xe.xa?2:1),F=[F],Te=[Te],xe.xa){if(5>S){Ne=7;break}G=F,te=Te,Pe=U,p==null||5>S?p=0:5<=S&&p[v+0]==47&&!(p[v+4]>>5)?(Ie=[0],dt=[0],Xe=[0],_e(Ge=new P,p,v,S),Ar(Ge,Ie,dt,Xe)?(G!=null&&(G[0]=Ie[0]),te!=null&&(te[0]=dt[0]),Pe!=null&&(Pe[0]=Xe[0]),p=1):p=0):p=0}else{if(10>S){Ne=7;break}G=Te,p==null||10>S||!Ll(p,v+3,S-3)?p=0:(te=p[v+0]|p[v+1]<<8|p[v+2]<<16,Pe=16383&(p[v+7]<<8|p[v+6]),p=16383&(p[v+9]<<8|p[v+8]),1&te||3<(te>>1&7)||!(te>>4&1)||te>>5>=xe.Ja||!Pe||!p?p=0:(F&&(F[0]=Pe),G&&(G[0]=p),p=1))}if(!p||(F=F[0],Te=Te[0],Ce&&(ne[0]!=F||be[0]!=Te)))return 3;J!=null&&(J[0]=xe,J.offset=v-J.w,e(4294967286>v-J.w),e(J.offset==J.ha-S));break}return Ne==0||Ne==7&&Ce&&J==null?(U!=null&&(U[0]|=xe.na!=null&&0<xe.na.length),N!=null&&(N[0]=F),O!=null&&(O[0]=Te),0):Ne}function is(p,v,S){var N=v.width,O=v.height,U=0,F=0,G=N,J=O;if(v.Da=p!=null&&0<p.Da,v.Da&&(G=p.cd,J=p.bd,U=p.v,F=p.j,11>S||(U&=-2,F&=-2),0>U||0>F||0>=G||0>=J||U+G>N||F+J>O))return 0;if(v.v=U,v.j=F,v.va=U+G,v.o=F+J,v.U=G,v.T=J,v.da=p!=null&&0<p.da,v.da){if(!Je(G,J,S=[p.ib],U=[p.hb]))return 0;v.ib=S[0],v.hb=U[0]}return v.ob=p!=null&&p.ob,v.Kb=p==null||!p.Sd,v.da&&(v.ob=v.ib<3*N/4&&v.hb<3*O/4,v.Kb=0),1}function ql(p){if(p==null)return 2;if(11>p.S){var v=p.f.RGBA;v.fb+=(p.height-1)*v.A,v.A=-v.A}else v=p.f.kb,p=p.height,v.O+=(p-1)*v.fa,v.fa=-v.fa,v.N+=(p-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(p-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(p-1)*v.lb,v.lb=-v.lb);return 0}function da(p,v,S,N){if(N==null||0>=p||0>=v)return 2;if(S!=null){if(S.Da){var O=S.cd,U=S.bd,F=-2&S.v,G=-2&S.j;if(0>F||0>G||0>=O||0>=U||F+O>p||G+U>v)return 2;p=O,v=U}if(S.da){if(!Je(p,v,O=[S.ib],U=[S.hb]))return 2;p=O[0],v=U[0]}}N.width=p,N.height=v;e:{var J=N.width,ne=N.height;if(p=N.S,0>=J||0>=ne||!(p>=Cu&&13>p))p=2;else{if(0>=N.Rd&&N.sd==null){F=U=O=v=0;var be=(G=J*Pu[p])*ne;if(11>p||(U=(ne+1)/2*(v=(J+1)/2),p==12&&(F=(O=J)*ne)),(ne=s(be+2*U+F))==null){p=1;break e}N.sd=ne,11>p?((J=N.f.RGBA).eb=ne,J.fb=0,J.A=G,J.size=be):((J=N.f.kb).y=ne,J.O=0,J.fa=G,J.Fd=be,J.f=ne,J.N=0+be,J.Ab=v,J.Cd=U,J.ea=ne,J.W=0+be+U,J.Db=v,J.Ed=U,p==12&&(J.F=ne,J.J=0+be+2*U),J.Tc=F,J.lb=O)}if(v=1,O=N.S,U=N.width,F=N.height,O>=Cu&&13>O)if(11>O)p=N.f.RGBA,v&=(G=Math.abs(p.A))*(F-1)+U<=p.size,v&=G>=U*Pu[O],v&=p.eb!=null;else{p=N.f.kb,G=(U+1)/2,be=(F+1)/2,J=Math.abs(p.fa),ne=Math.abs(p.Ab);var Ce=Math.abs(p.Db),te=Math.abs(p.lb),xe=te*(F-1)+U;v&=J*(F-1)+U<=p.Fd,v&=ne*(be-1)+G<=p.Cd,v=(v&=Ce*(be-1)+G<=p.Ed)&J>=U&ne>=G&Ce>=G,v&=p.y!=null,v&=p.f!=null,v&=p.ea!=null,O==12&&(v&=te>=U,v&=xe<=p.Tc,v&=p.F!=null)}else v=0;p=v?0:2}}return p!=0||S!=null&&S.fd&&(p=ql(N)),p}var Os=64,vi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ui=24,Ca=32,Ra=8,as=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];$e("Predictor0","PredictorAdd0"),q.Predictor0=function(){return 4278190080},q.Predictor1=function(p){return p},q.Predictor2=function(p,v,S){return v[S+0]},q.Predictor3=function(p,v,S){return v[S+1]},q.Predictor4=function(p,v,S){return v[S-1]},q.Predictor5=function(p,v,S){return at(at(p,v[S+1]),v[S+0])},q.Predictor6=function(p,v,S){return at(p,v[S-1])},q.Predictor7=function(p,v,S){return at(p,v[S+0])},q.Predictor8=function(p,v,S){return at(v[S-1],v[S+0])},q.Predictor9=function(p,v,S){return at(v[S+0],v[S+1])},q.Predictor10=function(p,v,S){return at(at(p,v[S-1]),at(v[S+0],v[S+1]))},q.Predictor11=function(p,v,S){var N=v[S+0];return 0>=it(N>>24&255,p>>24&255,(v=v[S-1])>>24&255)+it(N>>16&255,p>>16&255,v>>16&255)+it(N>>8&255,p>>8&255,v>>8&255)+it(255&N,255&p,255&v)?N:p},q.Predictor12=function(p,v,S){var N=v[S+0];return(ot((p>>24&255)+(N>>24&255)-((v=v[S-1])>>24&255))<<24|ot((p>>16&255)+(N>>16&255)-(v>>16&255))<<16|ot((p>>8&255)+(N>>8&255)-(v>>8&255))<<8|ot((255&p)+(255&N)-(255&v)))>>>0},q.Predictor13=function(p,v,S){var N=v[S-1];return(Qe((p=at(p,v[S+0]))>>24&255,N>>24&255)<<24|Qe(p>>16&255,N>>16&255)<<16|Qe(p>>8&255,N>>8&255)<<8|Qe(255&p,255&N))>>>0};var $o=q.PredictorAdd0;q.PredictorAdd1=tt,$e("Predictor2","PredictorAdd2"),$e("Predictor3","PredictorAdd3"),$e("Predictor4","PredictorAdd4"),$e("Predictor5","PredictorAdd5"),$e("Predictor6","PredictorAdd6"),$e("Predictor7","PredictorAdd7"),$e("Predictor8","PredictorAdd8"),$e("Predictor9","PredictorAdd9"),$e("Predictor10","PredictorAdd10"),$e("Predictor11","PredictorAdd11"),$e("Predictor12","PredictorAdd12"),$e("Predictor13","PredictorAdd13");var Wo=q.PredictorAdd2;nt("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),nt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var or,ku=q.ColorIndexInverseTransform,ja=q.MapARGB,Oa=q.VP8LColorIndexInverseTransformAlpha,Fr=q.MapAlpha,ss=q.VP8LPredictorsAdd=[];ss.length=16,(q.VP8LPredictors=[]).length=16,(q.VP8LPredictorsAdd_C=[]).length=16,(q.VP8LPredictors_C=[]).length=16;var Go,Yo,os,ls,Da,lo,Ri,us,Zr,Ii,fn,rn,jn,lr,Ba,fa,uo,Fl,Mc,Qd,ef,tf,Ic,Pc,co,Pi,Hl,ji,fo=s(511),Nu=s(2041),$l=s(225),Wl=s(767),Lu=0,cs=Nu,Gl=$l,Qr=Wl,Hr=fo,Cu=0,ei=1,Ru=2,Ui=3,Yl=4,Vo=5,Ds=6,Vl=7,ju=8,Ko=9,Ou=10,qi=[2,3,7],Xo=[3,3,11],ho=[280,256,256,256,40],Du=[0,1,1,1,0],Kl=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Fi=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Hi=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Bs=8,$i=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Wi=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Oi=null,nf=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Uc=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Bu=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],rf=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],$r=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Mn=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Jt=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ci=[],Qn=[],ha=[],zs=1,qc=2,ds=[],Wr=[];ts("UpsampleRgbLinePair",ns,3),ts("UpsampleBgrLinePair",Dr,3),ts("UpsampleRgbaLinePair",li,4),ts("UpsampleBgraLinePair",La,4),ts("UpsampleArgbLinePair",Fo,4),ts("UpsampleRgba4444LinePair",js,2),ts("UpsampleRgb565LinePair",Rs,2);var po=q.UpsampleRgbLinePair,Fc=q.UpsampleBgrLinePair,Jo=q.UpsampleRgbaLinePair,zu=q.UpsampleBgraLinePair,Ms=q.UpsampleArgbLinePair,za=q.UpsampleRgba4444LinePair,Is=q.UpsampleRgb565LinePair,Gi=16,Zo=1<<Gi-1,go=-227,Ps=482,Mu=6,Us=0,Gr=s(256),Iu=s(256),af=s(256),Xh=s(256),Jh=s(Ps-go),Zh=s(Ps-go);rs("YuvToRgbRow",ns,3),rs("YuvToBgrRow",Dr,3),rs("YuvToRgbaRow",li,4),rs("YuvToBgraRow",La,4),rs("YuvToArgbRow",Fo,4),rs("YuvToRgba4444Row",js,2),rs("YuvToRgb565Row",Rs,2);var ur=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Qo=[0,2,8],Xl=[8,7,6,4,4,2,2,2,1,1,1,1],Jl=1;this.WebPDecodeRGBA=function(p,v,S,N,O){var U=ei,F=new qe,G=new wt;F.ba=G,G.S=U,G.width=[G.width],G.height=[G.height];var J=G.width,ne=G.height,be=new lt;if(be==null||p==null)var Ce=2;else e(be!=null),Ce=ca(p,v,S,be.width,be.height,be.Pd,be.Qd,be.format,null);if(Ce!=0?J=0:(J!=null&&(J[0]=be.width[0]),ne!=null&&(ne[0]=be.height[0]),J=1),J){G.width=G.width[0],G.height=G.height[0],N!=null&&(N[0]=G.width),O!=null&&(O[0]=G.height);e:{if(N=new Ga,(O=new Ve).data=p,O.w=v,O.ha=S,O.kd=1,v=[0],e(O!=null),((p=ca(O.data,O.w,O.ha,null,null,null,v,null,O))==0||p==7)&&v[0]&&(p=4),(v=p)==0){if(e(F!=null),N.data=O.data,N.w=O.w+O.offset,N.ha=O.ha-O.offset,N.put=yt,N.ac=$n,N.bc=Sn,N.ma=F,O.xa){if((p=Qs())==null){F=1;break e}if((function(te,xe){var Te=[0],Pe=[0],Ne=[0];t:for(;;){if(te==null)return 0;if(xe==null)return te.a=2,0;if(te.l=xe,te.a=0,_e(te.m,xe.data,xe.w,xe.ha),!Ar(te.m,Te,Pe,Ne)){te.a=3;break t}if(te.xb=qc,xe.width=Te[0],xe.height=Pe[0],!ea(Te[0],Pe[0],1,te,null))break t;return 1}return e(te.a!=0),0})(p,N)){if(N=(v=da(N.width,N.height,F.Oa,F.ba))==0){t:{N=p;n:for(;;){if(N==null){N=0;break t}if(e(N.s.yc!=null),e(N.s.Ya!=null),e(0<N.s.Wb),e((S=N.l)!=null),e((O=S.ma)!=null),N.xb!=0){if(N.ca=O.ba,N.tb=O.tb,e(N.ca!=null),!is(O.Oa,S,Ui)){N.a=2;break n}if(!ta(N,S.width)||S.da)break n;if((S.da||Ct(N.ca.S))&&la(),11>N.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),N.ca.f.kb.F!=null&&la()),N.Pb&&0<N.s.ua&&N.s.vb.X==null&&!$(N.s.vb,N.s.Wa.Xa)){N.a=1;break n}N.xb=0}if(!Ei(N,N.V,N.Ba,N.c,N.i,S.o,Er))break n;O.Dc=N.Ma,N=1;break t}e(N.a!=0),N=0}N=!N}N&&(v=p.a)}else v=p.a}else{if((p=new aa)==null){F=1;break e}if(p.Fa=O.na,p.P=O.P,p.qc=O.Sa,Ea(p,N)){if((v=da(N.width,N.height,F.Oa,F.ba))==0){if(p.Aa=0,S=F.Oa,e((O=p)!=null),S!=null){if(0<(J=0>(J=S.Md)?0:100<J?255:255*J/100)){for(ne=be=0;4>ne;++ne)12>(Ce=O.pb[ne]).lc&&(Ce.ia=J*Xl[0>Ce.lc?0:Ce.lc]>>3),be|=Ce.ia;be&&(alert("todo:VP8InitRandom"),O.ia=1)}O.Ga=S.Id,100<O.Ga?O.Ga=100:0>O.Ga&&(O.Ga=0)}(function(te,xe){if(te==null)return 0;if(xe==null)return dn(te,2,"NULL VP8Io parameter in VP8Decode().");if(!te.cb&&!Ea(te,xe))return 0;if(e(te.cb),xe.ac==null||xe.ac(xe)){xe.ob&&(te.L=0);var Te=Qo[te.L];if(te.L==2?(te.yb=0,te.zb=0):(te.yb=xe.v-Te>>4,te.zb=xe.j-Te>>4,0>te.yb&&(te.yb=0),0>te.zb&&(te.zb=0)),te.Va=xe.o+15+Te>>4,te.Hb=xe.va+15+Te>>4,te.Hb>te.za&&(te.Hb=te.za),te.Va>te.Ub&&(te.Va=te.Ub),0<te.L){var Pe=te.ed;for(Te=0;4>Te;++Te){var Ne;if(te.Qa.Cb){var Ie=te.Qa.Lb[Te];te.Qa.Fb||(Ie+=Pe.Tb)}else Ie=Pe.Tb;for(Ne=0;1>=Ne;++Ne){var Fe=te.gd[Te][Ne],Xe=Ie;if(Pe.Pc&&(Xe+=Pe.vd[0],Ne&&(Xe+=Pe.od[0])),0<(Xe=0>Xe?0:63<Xe?63:Xe)){var Ge=Xe;0<Pe.wb&&(Ge=4<Pe.wb?Ge>>2:Ge>>1)>9-Pe.wb&&(Ge=9-Pe.wb),1>Ge&&(Ge=1),Fe.dd=Ge,Fe.tc=2*Xe+Ge,Fe.ld=40<=Xe?2:15<=Xe?1:0}else Fe.tc=0;Fe.La=Ne}}}Te=0}else dn(te,6,"Frame setup failed"),Te=te.a;if(Te=Te==0){if(Te){te.$c=0,0<te.Aa||(te.Ic=Jl);t:{Te=te.Ic,Pe=4*(Ge=te.za);var gt=32*Ge,ut=Ge+1,Ut=0<te.L?Ge*(0<te.Aa?2:1):0,dt=(te.Aa==2?2:1)*Ge;if((Fe=Pe+832+(Ne=3*(16*Te+Qo[te.L])/2*gt)+(Ie=te.Fa!=null&&0<te.Fa.length?te.Kc.c*te.Kc.i:0))!=Fe)Te=0;else{if(Fe>te.Vb){if(te.Vb=0,te.Ec=s(Fe),te.Fc=0,te.Ec==null){Te=dn(te,1,"no memory during frame initialization.");break t}te.Vb=Fe}Fe=te.Ec,Xe=te.Fc,te.Ac=Fe,te.Bc=Xe,Xe+=Pe,te.Gd=c(gt,Nl),te.Hd=0,te.rb=c(ut+1,ia),te.sb=1,te.wa=Ut?c(Ut,Ti):null,te.Y=0,te.D.Nb=0,te.D.wa=te.wa,te.D.Y=te.Y,0<te.Aa&&(te.D.Y+=Ge),e(!0),te.oc=Fe,te.pc=Xe,Xe+=832,te.ya=c(dt,Tl),te.aa=0,te.D.ya=te.ya,te.D.aa=te.aa,te.Aa==2&&(te.D.aa+=Ge),te.R=16*Ge,te.B=8*Ge,Ge=(gt=Qo[te.L])*te.R,gt=gt/2*te.B,te.sa=Fe,te.ta=Xe+Ge,te.qa=te.sa,te.ra=te.ta+16*Te*te.R+gt,te.Ha=te.qa,te.Ia=te.ra+8*Te*te.B+gt,te.$c=0,Xe+=Ne,te.mb=Ie?Fe:null,te.nb=Ie?Xe:null,e(Xe+Ie<=te.Fc+te.Vb),Cl(te),l(te.Ac,te.Bc,0,Pe),Te=1}}if(Te){if(xe.ka=0,xe.y=te.sa,xe.O=te.ta,xe.f=te.qa,xe.N=te.ra,xe.ea=te.Ha,xe.Vd=te.Ia,xe.fa=te.R,xe.Rc=te.B,xe.F=null,xe.J=0,!Lu){for(Te=-255;255>=Te;++Te)fo[255+Te]=0>Te?-Te:Te;for(Te=-1020;1020>=Te;++Te)Nu[1020+Te]=-128>Te?-128:127<Te?127:Te;for(Te=-112;112>=Te;++Te)$l[112+Te]=-16>Te?-16:15<Te?15:Te;for(Te=-255;510>=Te;++Te)Wl[255+Te]=0>Te?0:255<Te?255:Te;Lu=1}Ri=sa,us=Rl,Ii=oi,fn=jl,rn=Ol,Zr=vu,jn=Eu,lr=Qa,Ba=j,fa=re,uo=Tu,Fl=x,Mc=me,Qd=Se,ef=Ka,tf=Xa,Ic=so,Pc=Il,Qn[0]=Su,Qn[1]=bu,Qn[2]=_u,Qn[3]=zl,Qn[4]=Ni,Qn[5]=Ml,Qn[6]=Ur,Qn[7]=ro,Qn[8]=io,Qn[9]=Li,ci[0]=oa,ci[1]=Dl,ci[2]=Bl,ci[3]=xu,ci[4]=Ya,ci[5]=no,ci[6]=Cs,ha[0]=Io,ha[1]=wu,ha[2]=Ta,ha[3]=Au,ha[4]=Or,ha[5]=Po,ha[6]=ka,Te=1}else Te=0}Te&&(Te=(function(Xt,In){for(Xt.M=0;Xt.M<Xt.Va;++Xt.M){var Ht,ct=Xt.Jc[Xt.M&Xt.Xb],rt=Xt.m,Vn=Xt;for(Ht=0;Ht<Vn.za;++Ht){var Ot=rt,Gt=Vn,wn=Gt.Ac,Nr=Gt.Bc+4*Ht,Yr=Gt.zc,On=Gt.ya[Gt.aa+Ht];if(Gt.Qa.Bb?On.$b=pe(Ot,Gt.Pa.jb[0])?2+pe(Ot,Gt.Pa.jb[2]):pe(Ot,Gt.Pa.jb[1]):On.$b=0,Gt.kc&&(On.Ad=pe(Ot,Gt.Bd)),On.Za=!pe(Ot,145)+0,On.Za){var mr=On.Ob,ti=0;for(Gt=0;4>Gt;++Gt){var yr,Kt=Yr[0+Gt];for(yr=0;4>yr;++yr){Kt=$r[wn[Nr+yr]][Kt];for(var on=Bu[pe(Ot,Kt[0])];0<on;)on=Bu[2*on+pe(Ot,Kt[on])];Kt=-on,wn[Nr+yr]=Kt}a(mr,ti,wn,Nr,4),ti+=4,Yr[0+Gt]=Kt}}else Kt=pe(Ot,156)?pe(Ot,128)?1:3:pe(Ot,163)?2:0,On.Ob[0]=Kt,l(wn,Nr,Kt,4),l(Yr,0,Kt,4);On.Dd=pe(Ot,142)?pe(Ot,114)?pe(Ot,183)?1:3:2:0}if(Vn.m.Ka)return dn(Xt,7,"Premature end-of-partition0 encountered.");for(;Xt.ja<Xt.za;++Xt.ja){if(Vn=ct,Ot=(rt=Xt).rb[rt.sb-1],wn=rt.rb[rt.sb+rt.ja],Ht=rt.ya[rt.aa+rt.ja],Nr=rt.kc?Ht.Ad:0)Ot.la=wn.la=0,Ht.Za||(Ot.Na=wn.Na=0),Ht.Hc=0,Ht.Gc=0,Ht.ia=0;else{var Kn,hn;if(Ot=wn,wn=Vn,Nr=rt.Pa.Xc,Yr=rt.ya[rt.aa+rt.ja],On=rt.pb[Yr.$b],Gt=Yr.ad,mr=0,ti=rt.rb[rt.sb-1],Kt=yr=0,l(Gt,mr,0,384),Yr.Za)var Lr=0,Xn=Nr[3];else{on=s(16);var ln=Ot.Na+ti.Na;if(ln=Oi(wn,Nr[1],ln,On.Eb,0,on,0),Ot.Na=ti.Na=(0<ln)+0,1<ln)Ri(on,0,Gt,mr);else{var cr=on[0]+3>>3;for(on=0;256>on;on+=16)Gt[mr+on]=cr}Lr=1,Xn=Nr[0]}var xn=15&Ot.la,vr=15&ti.la;for(on=0;4>on;++on){var br=1&vr;for(cr=hn=0;4>cr;++cr)xn=xn>>1|(br=(ln=Oi(wn,Xn,ln=br+(1&xn),On.Sc,Lr,Gt,mr))>Lr)<<7,hn=hn<<2|(3<ln?3:1<ln?2:Gt[mr+0]!=0),mr+=16;xn>>=4,vr=vr>>1|br<<7,yr=(yr<<8|hn)>>>0}for(Xn=xn,Lr=vr>>4,Kn=0;4>Kn;Kn+=2){for(hn=0,xn=Ot.la>>4+Kn,vr=ti.la>>4+Kn,on=0;2>on;++on){for(br=1&vr,cr=0;2>cr;++cr)ln=br+(1&xn),xn=xn>>1|(br=0<(ln=Oi(wn,Nr[2],ln,On.Qc,0,Gt,mr)))<<3,hn=hn<<2|(3<ln?3:1<ln?2:Gt[mr+0]!=0),mr+=16;xn>>=2,vr=vr>>1|br<<5}Kt|=hn<<4*Kn,Xn|=xn<<4<<Kn,Lr|=(240&vr)<<Kn}Ot.la=Xn,ti.la=Lr,Yr.Hc=yr,Yr.Gc=Kt,Yr.ia=43690&Kt?0:On.ia,Nr=!(yr|Kt)}if(0<rt.L&&(rt.wa[rt.Y+rt.ja]=rt.gd[Ht.$b][Ht.Za],rt.wa[rt.Y+rt.ja].La|=!Nr),Vn.Ka)return dn(Xt,7,"Premature end-of-file encountered.")}if(Cl(Xt),rt=In,Vn=1,Ht=(ct=Xt).D,Ot=0<ct.L&&ct.M>=ct.zb&&ct.M<=ct.Va,ct.Aa==0)t:{if(Ht.M=ct.M,Ht.uc=Ot,Ci(ct,Ht),Vn=1,Ht=(hn=ct.D).Nb,Ot=(Kt=Qo[ct.L])*ct.R,wn=Kt/2*ct.B,on=16*Ht*ct.R,cr=8*Ht*ct.B,Nr=ct.sa,Yr=ct.ta-Ot+on,On=ct.qa,Gt=ct.ra-wn+cr,mr=ct.Ha,ti=ct.Ia-wn+cr,vr=(xn=hn.M)==0,yr=xn>=ct.Va-1,ct.Aa==2&&Ci(ct,hn),hn.uc)for(br=(ln=ct).D.M,e(ln.D.uc),hn=ln.yb;hn<ln.Hb;++hn){Lr=hn,Xn=br;var Tn=(an=(wr=ln).D).Nb;Kn=wr.R;var an=an.wa[an.Y+Lr],ni=wr.sa,er=wr.ta+16*Tn*Kn+16*Lr,Tt=an.dd,Nt=an.tc;if(Nt!=0)if(e(3<=Nt),wr.L==1)0<Lr&&tf(ni,er,Kn,Nt+4),an.La&&Pc(ni,er,Kn,Nt),0<Xn&&ef(ni,er,Kn,Nt+4),an.La&&Ic(ni,er,Kn,Nt);else{var un=wr.B,bi=wr.qa,Yi=wr.ra+8*Tn*un+8*Lr,di=wr.Ha,wr=wr.Ia+8*Tn*un+8*Lr;Tn=an.ld,0<Lr&&(lr(ni,er,Kn,Nt+4,Tt,Tn),fa(bi,Yi,di,wr,un,Nt+4,Tt,Tn)),an.La&&(Fl(ni,er,Kn,Nt,Tt,Tn),Qd(bi,Yi,di,wr,un,Nt,Tt,Tn)),0<Xn&&(jn(ni,er,Kn,Nt+4,Tt,Tn),Ba(bi,Yi,di,wr,un,Nt+4,Tt,Tn)),an.La&&(uo(ni,er,Kn,Nt,Tt,Tn),Mc(bi,Yi,di,wr,un,Nt,Tt,Tn))}}if(ct.ia&&alert("todo:DitherRow"),rt.put!=null){if(hn=16*xn,xn=16*(xn+1),vr?(rt.y=ct.sa,rt.O=ct.ta+on,rt.f=ct.qa,rt.N=ct.ra+cr,rt.ea=ct.Ha,rt.W=ct.Ia+cr):(hn-=Kt,rt.y=Nr,rt.O=Yr,rt.f=On,rt.N=Gt,rt.ea=mr,rt.W=ti),yr||(xn-=Kt),xn>rt.o&&(xn=rt.o),rt.F=null,rt.J=null,ct.Fa!=null&&0<ct.Fa.length&&hn<xn&&(rt.J=Rn(ct,rt,hn,xn-hn),rt.F=ct.mb,rt.F==null&&rt.F.length==0)){Vn=dn(ct,3,"Could not decode alpha data.");break t}hn<rt.j&&(Kt=rt.j-hn,hn=rt.j,e(!(1&Kt)),rt.O+=ct.R*Kt,rt.N+=ct.B*(Kt>>1),rt.W+=ct.B*(Kt>>1),rt.F!=null&&(rt.J+=rt.width*Kt)),hn<xn&&(rt.O+=rt.v,rt.N+=rt.v>>1,rt.W+=rt.v>>1,rt.F!=null&&(rt.J+=rt.v),rt.ka=hn-rt.j,rt.U=rt.va-rt.v,rt.T=xn-hn,Vn=rt.put(rt))}Ht+1!=ct.Ic||yr||(a(ct.sa,ct.ta-Ot,Nr,Yr+16*ct.R,Ot),a(ct.qa,ct.ra-wn,On,Gt+8*ct.B,wn),a(ct.Ha,ct.Ia-wn,mr,ti+8*ct.B,wn))}if(!Vn)return dn(Xt,6,"Output aborted.")}return 1})(te,xe)),xe.bc!=null&&xe.bc(xe),Te&=1}return Te?(te.cb=0,Te):0})(p,N)||(v=p.a)}}else v=p.a}v==0&&F.Oa!=null&&F.Oa.fd&&(v=ql(F.ba))}F=v}U=F!=0?null:11>U?G.f.RGBA.eb:G.f.kb.y}else U=null;return U};var Pu=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(q,fe){for(var z="",Y=0;Y<4;Y++)z+=String.fromCharCode(q[fe++]);return z}function y(q,fe){return q[fe+0]|q[fe+1]<<8}function w(q,fe){return(q[fe+0]|q[fe+1]<<8|q[fe+2]<<16)>>>0}function A(q,fe){return(q[fe+0]|q[fe+1]<<8|q[fe+2]<<16|q[fe+3]<<24)>>>0}new f;var m=[0],T=[0],E=[],L=new f,R=t,D=(function(q,fe){var z={},Y=0,se=!1,oe=0,Ee=0;if(z.frames=[],!(function(k,P){for(var K=0;K<4;K++)if(k[P+K]!="RIFF".charCodeAt(K))return!0;return!1})(q,fe)){for(A(q,fe+=4),fe+=8;fe<q.length;){var X=h(q,fe),de=A(q,fe+=4);fe+=4;var he=de+(1&de);switch(X){case"VP8 ":case"VP8L":z.frames[Y]===void 0&&(z.frames[Y]={}),(I=z.frames[Y]).src_off=se?Ee:fe-8,I.src_size=oe+de+8,Y++,se&&(se=!1,oe=0,Ee=0);break;case"VP8X":(I=z.header={}).feature_flags=q[fe];var _e=fe+4;I.canvas_width=1+w(q,_e),_e+=3,I.canvas_height=1+w(q,_e),_e+=3;break;case"ALPH":se=!0,oe=he+8,Ee=fe-8;break;case"ANIM":(I=z.header).bgcolor=A(q,fe),_e=fe+4,I.loop_count=y(q,_e),_e+=2;break;case"ANMF":var ve,I;(I=z.frames[Y]={}).offset_x=2*w(q,fe),fe+=3,I.offset_y=2*w(q,fe),fe+=3,I.width=1+w(q,fe),fe+=3,I.height=1+w(q,fe),fe+=3,I.duration=w(q,fe),fe+=3,ve=q[fe++],I.dispose=1&ve,I.blend=ve>>1&1}X!="ANMF"&&(fe+=he)}return z}})(R,0);D.response=R,D.rgbaoutput=!0,D.dataurl=!1;var M=D.header?D.header:null,W=D.frames?D.frames:null;if(M){M.loop_counter=M.loop_count,m=[M.canvas_height],T=[M.canvas_width];for(var ue=0;ue<W.length&&W[ue].blend!=0;ue++);}var ce=W[0],Z=L.WebPDecodeRGBA(R,ce.src_off,ce.src_size,T,m);ce.rgba=Z,ce.imgwidth=T[0],ce.imgheight=m[0];for(var ee=0;ee<T[0]*m[0]*4;ee++)E[ee]=Z[ee];return this.width=T,this.height=m,this.data=E,this}function YE(){var t,e=this.internal.__metadata__.metadata,n=unescape(encodeURIComponent(e));t=this.internal.__metadata__.rawXml?n:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+t.length+" >>"),this.internal.write("stream"),this.internal.write(t),this.internal.write("endstream"),this.internal.write("endobj")}function VE(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(t){var e,n,a,l,s,c,d,f,h,y=function(k){return k=k||{},this.isStrokeTransparent=k.isStrokeTransparent||!1,this.strokeOpacity=k.strokeOpacity||1,this.strokeStyle=k.strokeStyle||"#000000",this.fillStyle=k.fillStyle||"#000000",this.isFillTransparent=k.isFillTransparent||!1,this.fillOpacity=k.fillOpacity||1,this.font=k.font||"10px sans-serif",this.textBaseline=k.textBaseline||"alphabetic",this.textAlign=k.textAlign||"left",this.lineWidth=k.lineWidth||1,this.lineJoin=k.lineJoin||"miter",this.lineCap=k.lineCap||"butt",this.path=k.path||[],this.transform=k.transform!==void 0?k.transform.clone():new f,this.globalCompositeOperation=k.globalCompositeOperation||"normal",this.globalAlpha=k.globalAlpha||1,this.clip_path=k.clip_path||[],this.currentPoint=k.currentPoint||new c,this.miterLimit=k.miterLimit||10,this.lastPoint=k.lastPoint||new c,this.lineDashOffset=k.lineDashOffset||0,this.lineDash=k.lineDash||[],this.margin=k.margin||[0,0,0,0],this.prevPageLastElemOffset=k.prevPageLastElemOffset||0,this.ignoreClearRect=typeof k.ignoreClearRect!="boolean"||k.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new w(this),e=this.internal.f2,n=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,c=this.internal.Point,d=this.internal.Rectangle,f=this.internal.Matrix,h=new y}]);var w=function(k){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var P=k;Object.defineProperty(this,"pdf",{get:function(){return P}});var K=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return K},set:function($){K=!!$}});var ae=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ae},set:function($){ae=!!$}});var V=0;Object.defineProperty(this,"posX",{get:function(){return V},set:function($){isNaN($)||(V=$)}});var Q=0;Object.defineProperty(this,"posY",{get:function(){return Q},set:function($){isNaN($)||(Q=$)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function($){var ze;typeof $=="number"?ze=[$,$,$,$]:((ze=new Array(4))[0]=$[0],ze[1]=$.length>=2?$[1]:ze[0],ze[2]=$.length>=3?$[2]:ze[0],ze[3]=$.length>=4?$[3]:ze[1]),h.margin=ze}});var le=!1;Object.defineProperty(this,"autoPaging",{get:function(){return le},set:function($){le=$}});var ye=0;Object.defineProperty(this,"lastBreak",{get:function(){return ye},set:function($){ye=$}});var pe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return pe},set:function($){pe=$}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function($){$ instanceof y&&(h=$)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function($){h.path=$}});var Le=[];Object.defineProperty(this,"ctxStack",{get:function(){return Le},set:function($){Le=$}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function($){var ze;ze=A($),this.ctx.fillStyle=ze.style,this.ctx.isFillTransparent=ze.a===0,this.ctx.fillOpacity=ze.a,this.pdf.setFillColor(ze.r,ze.g,ze.b,{a:ze.a}),this.pdf.setTextColor(ze.r,ze.g,ze.b,{a:ze.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function($){var ze=A($);this.ctx.strokeStyle=ze.style,this.ctx.isStrokeTransparent=ze.a===0,this.ctx.strokeOpacity=ze.a,ze.a===0?this.pdf.setDrawColor(255,255,255):(ze.a,this.pdf.setDrawColor(ze.r,ze.g,ze.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function($){["butt","round","square"].indexOf($)!==-1&&(this.ctx.lineCap=$,this.pdf.setLineCap($))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function($){isNaN($)||(this.ctx.lineWidth=$,this.pdf.setLineWidth($))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function($){["bevel","round","miter"].indexOf($)!==-1&&(this.ctx.lineJoin=$,this.pdf.setLineJoin($))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function($){isNaN($)||(this.ctx.miterLimit=$,this.pdf.setMiterLimit($))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function($){this.ctx.textBaseline=$}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function($){["right","end","center","left","start"].indexOf($)!==-1&&(this.ctx.textAlign=$)}});var Me=null,ie=null,ke=null;Object.defineProperty(this,"fontFaces",{get:function(){return ke},set:function($){Me=null,ie=null,ke=$}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function($){var ze;if(this.ctx.font=$,(ze=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec($))!==null){var et=ze[1];ze[2];var Je=ze[3],De=ze[4];ze[5];var Ke=ze[6],$e=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(De)[2];De=Math.floor($e==="px"?parseFloat(De)*this.pdf.internal.scaleFactor:$e==="em"?parseFloat(De)*this.pdf.getFontSize():parseFloat(De)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(De);var Ye=(function(nt){var cn,xt,kt=[],Rt=nt.trim();if(Rt==="")return Vp;if(Rt in dy)return[dy[Rt]];for(;Rt!=="";){switch(xt=null,cn=(Rt=hy(Rt)).charAt(0)){case'"':case"'":xt=qE(Rt.substring(1),cn);break;default:xt=FE(Rt)}if(xt===null||(kt.push(xt[0]),(Rt=hy(xt[1]))!==""&&Rt.charAt(0)!==","))return Vp;Rt=Rt.replace(/^,/,"")}return kt})(Ke);if(this.fontFaces){var at=(function(nt,cn){var xt=nt.getFontList(),kt=JSON.stringify(xt);if(Me===null||ie!==kt){var Rt=(function(Yt){var Et=[];return Object.keys(Yt).forEach(function(yn){Yt[yn].forEach(function(Ct){var Bt=null;switch(Ct){case"bold":Bt={family:yn,weight:"bold"};break;case"italic":Bt={family:yn,style:"italic"};break;case"bolditalic":Bt={family:yn,weight:"bold",style:"italic"};break;case"":case"normal":Bt={family:yn}}Bt!==null&&(Bt.ref={name:yn,style:Ct},Et.push(Bt))})}),Et})(xt);Me=(function(Yt){for(var Et={},yn=0;yn<Yt.length;++yn){var Ct=Yp(Yt[yn]),Bt=Ct.family,vn=Ct.stretch,wt=Ct.style,lt=Ct.weight;Et[Bt]=Et[Bt]||{},Et[Bt][vn]=Et[Bt][vn]||{},Et[Bt][vn][wt]=Et[Bt][vn][wt]||{},Et[Bt][vn][wt][lt]=Ct}return Et})(Rt.concat(cn)),ie=kt}return Me})(this.pdf,this.fontFaces),ot=Ye.map(function(nt){return{family:nt,stretch:"normal",weight:Je,style:et}}),Qe=(function(nt,cn,xt){for(var kt=(xt=xt||{}).defaultFontFamily||"times",Rt=Object.assign({},UE,xt.genericFontFamilies||{}),Yt=null,Et=null,yn=0;yn<cn.length;++yn)if(Rt[(Yt=Yp(cn[yn])).family]&&(Yt.family=Rt[Yt.family]),nt.hasOwnProperty(Yt.family)){Et=nt[Yt.family];break}if(!(Et=Et||nt[kt]))throw new Error("Could not find a font-family for the rule '"+fy(Yt)+"' and default family '"+kt+"'.");if(Et=(function(Ct,Bt){if(Bt[Ct])return Bt[Ct];var vn=Eg[Ct],wt=vn<=Eg.normal?-1:1,lt=cy(Bt,jb,vn,wt);if(!lt)throw new Error("Could not find a matching font-stretch value for "+Ct);return lt})(Yt.stretch,Et),Et=(function(Ct,Bt){if(Bt[Ct])return Bt[Ct];for(var vn=Rb[Ct],wt=0;wt<vn.length;++wt)if(Bt[vn[wt]])return Bt[vn[wt]];throw new Error("Could not find a matching font-style for "+Ct)})(Yt.style,Et),!(Et=(function(Ct,Bt){if(Bt[Ct])return Bt[Ct];if(Ct===400&&Bt[500])return Bt[500];if(Ct===500&&Bt[400])return Bt[400];var vn=PE[Ct],wt=cy(Bt,Ob,vn,Ct<400?-1:1);if(!wt)throw new Error("Could not find a matching font-weight for value "+Ct);return wt})(Yt.weight,Et)))throw new Error("Failed to resolve a font for the rule '"+fy(Yt)+"'.");return Et})(at,ot);this.pdf.setFont(Qe.ref.name,Qe.ref.style)}else{var it="";(Je==="bold"||parseInt(Je,10)>=700||et==="bold")&&(it="bold"),et==="italic"&&(it+="italic"),it.length===0&&(it="normal");for(var tt="",pt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ze=0;Ze<Ye.length;Ze++){if(this.pdf.internal.getFont(Ye[Ze],it,{noFallback:!0,disableWarning:!0})!==void 0){tt=Ye[Ze];break}if(it==="bolditalic"&&this.pdf.internal.getFont(Ye[Ze],"bold",{noFallback:!0,disableWarning:!0})!==void 0)tt=Ye[Ze],it="bold";else if(this.pdf.internal.getFont(Ye[Ze],"normal",{noFallback:!0,disableWarning:!0})!==void 0){tt=Ye[Ze],it="normal";break}}if(tt===""){for(var At=0;At<Ye.length;At++)if(pt[Ye[At]]){tt=pt[Ye[At]];break}}tt=tt===""?"Times":tt,this.pdf.setFont(tt,it)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function($){this.ctx.globalCompositeOperation=$}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function($){this.ctx.globalAlpha=$}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function($){this.ctx.lineDashOffset=$,I.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function($){this.ctx.lineDash=$,I.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function($){this.ctx.ignoreClearRect=!!$}})};w.prototype.setLineDash=function(k){this.lineDash=k},w.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},w.prototype.fill=function(){W.call(this,"fill",!1)},w.prototype.stroke=function(){W.call(this,"stroke",!1)},w.prototype.beginPath=function(){this.path=[{type:"begin"}]},w.prototype.moveTo=function(k,P){if(isNaN(k)||isNaN(P))throw Un.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var K=this.ctx.transform.applyToPoint(new c(k,P));this.path.push({type:"mt",x:K.x,y:K.y}),this.ctx.lastPoint=new c(k,P)},w.prototype.closePath=function(){var k=new c(0,0),P=0;for(P=this.path.length-1;P!==-1;P--)if(this.path[P].type==="begin"&&Ln(this.path[P+1])==="object"&&typeof this.path[P+1].x=="number"){k=new c(this.path[P+1].x,this.path[P+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(k.x,k.y)},w.prototype.lineTo=function(k,P){if(isNaN(k)||isNaN(P))throw Un.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var K=this.ctx.transform.applyToPoint(new c(k,P));this.path.push({type:"lt",x:K.x,y:K.y}),this.ctx.lastPoint=new c(K.x,K.y)},w.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),W.call(this,null,!0)},w.prototype.quadraticCurveTo=function(k,P,K,ae){if(isNaN(K)||isNaN(ae)||isNaN(k)||isNaN(P))throw Un.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var V=this.ctx.transform.applyToPoint(new c(K,ae)),Q=this.ctx.transform.applyToPoint(new c(k,P));this.path.push({type:"qct",x1:Q.x,y1:Q.y,x:V.x,y:V.y}),this.ctx.lastPoint=new c(V.x,V.y)},w.prototype.bezierCurveTo=function(k,P,K,ae,V,Q){if(isNaN(V)||isNaN(Q)||isNaN(k)||isNaN(P)||isNaN(K)||isNaN(ae))throw Un.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var le=this.ctx.transform.applyToPoint(new c(V,Q)),ye=this.ctx.transform.applyToPoint(new c(k,P)),pe=this.ctx.transform.applyToPoint(new c(K,ae));this.path.push({type:"bct",x1:ye.x,y1:ye.y,x2:pe.x,y2:pe.y,x:le.x,y:le.y}),this.ctx.lastPoint=new c(le.x,le.y)},w.prototype.arc=function(k,P,K,ae,V,Q){if(isNaN(k)||isNaN(P)||isNaN(K)||isNaN(ae)||isNaN(V))throw Un.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Q=!!Q,!this.ctx.transform.isIdentity){var le=this.ctx.transform.applyToPoint(new c(k,P));k=le.x,P=le.y;var ye=this.ctx.transform.applyToPoint(new c(0,K)),pe=this.ctx.transform.applyToPoint(new c(0,0));K=Math.sqrt(Math.pow(ye.x-pe.x,2)+Math.pow(ye.y-pe.y,2))}Math.abs(V-ae)>=2*Math.PI&&(ae=0,V=2*Math.PI),this.path.push({type:"arc",x:k,y:P,radius:K,startAngle:ae,endAngle:V,counterclockwise:Q})},w.prototype.arcTo=function(k,P,K,ae,V){throw new Error("arcTo not implemented.")},w.prototype.rect=function(k,P,K,ae){if(isNaN(k)||isNaN(P)||isNaN(K)||isNaN(ae))throw Un.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(k,P),this.lineTo(k+K,P),this.lineTo(k+K,P+ae),this.lineTo(k,P+ae),this.lineTo(k,P),this.lineTo(k+K,P),this.lineTo(k,P)},w.prototype.fillRect=function(k,P,K,ae){if(isNaN(k)||isNaN(P)||isNaN(K)||isNaN(ae))throw Un.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var V={};this.lineCap!=="butt"&&(V.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(V.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(k,P,K,ae),this.fill(),V.hasOwnProperty("lineCap")&&(this.lineCap=V.lineCap),V.hasOwnProperty("lineJoin")&&(this.lineJoin=V.lineJoin)}},w.prototype.strokeRect=function(k,P,K,ae){if(isNaN(k)||isNaN(P)||isNaN(K)||isNaN(ae))throw Un.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");T.call(this)||(this.beginPath(),this.rect(k,P,K,ae),this.stroke())},w.prototype.clearRect=function(k,P,K,ae){if(isNaN(k)||isNaN(P)||isNaN(K)||isNaN(ae))throw Un.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(k,P,K,ae))},w.prototype.save=function(k){k=typeof k!="boolean"||k;for(var P=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("q");if(this.pdf.setPage(P),k){this.ctx.fontSize=this.pdf.internal.getFontSize();var ae=new y(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ae}},w.prototype.restore=function(k){k=typeof k!="boolean"||k;for(var P=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("Q");this.pdf.setPage(P),k&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},w.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var A=function(k){var P,K,ae,V;if(k.isCanvasGradient===!0&&(k=k.getColor()),!k)return{r:0,g:0,b:0,a:0,style:k};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(k))P=0,K=0,ae=0,V=0;else{var Q=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(k);if(Q!==null)P=parseInt(Q[1]),K=parseInt(Q[2]),ae=parseInt(Q[3]),V=1;else if((Q=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(k))!==null)P=parseInt(Q[1]),K=parseInt(Q[2]),ae=parseInt(Q[3]),V=parseFloat(Q[4]);else{if(V=1,typeof k=="string"&&k.charAt(0)!=="#"){var le=new Ab(k);k=le.ok?le.toHex():"#000000"}k.length===4?(P=k.substring(1,2),P+=P,K=k.substring(2,3),K+=K,ae=k.substring(3,4),ae+=ae):(P=k.substring(1,3),K=k.substring(3,5),ae=k.substring(5,7)),P=parseInt(P,16),K=parseInt(K,16),ae=parseInt(ae,16)}}return{r:P,g:K,b:ae,a:V,style:k}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},T=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};w.prototype.fillText=function(k,P,K,ae){if(isNaN(P)||isNaN(K)||typeof k!="string")throw Un.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ae=isNaN(ae)?void 0:ae,!m.call(this)){var V=he(this.ctx.transform.rotation),Q=this.ctx.transform.scaleX;Y.call(this,{text:k,x:P,y:K,scale:Q,angle:V,align:this.textAlign,maxWidth:ae})}},w.prototype.strokeText=function(k,P,K,ae){if(isNaN(P)||isNaN(K)||typeof k!="string")throw Un.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!T.call(this)){ae=isNaN(ae)?void 0:ae;var V=he(this.ctx.transform.rotation),Q=this.ctx.transform.scaleX;Y.call(this,{text:k,x:P,y:K,scale:Q,renderingMode:"stroke",angle:V,align:this.textAlign,maxWidth:ae})}},w.prototype.measureText=function(k){if(typeof k!="string")throw Un.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var P=this.pdf,K=this.pdf.internal.scaleFactor,ae=P.internal.getFontSize(),V=P.getStringUnitWidth(k)*ae/P.internal.scaleFactor;return new function(Q){var le=(Q=Q||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return le}}),this}({width:V*=Math.round(96*K/72*1e4)/1e4})},w.prototype.scale=function(k,P){if(isNaN(k)||isNaN(P))throw Un.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var K=new f(k,0,0,P,0,0);this.ctx.transform=this.ctx.transform.multiply(K)},w.prototype.rotate=function(k){if(isNaN(k))throw Un.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var P=new f(Math.cos(k),Math.sin(k),-Math.sin(k),Math.cos(k),0,0);this.ctx.transform=this.ctx.transform.multiply(P)},w.prototype.translate=function(k,P){if(isNaN(k)||isNaN(P))throw Un.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var K=new f(1,0,0,1,k,P);this.ctx.transform=this.ctx.transform.multiply(K)},w.prototype.transform=function(k,P,K,ae,V,Q){if(isNaN(k)||isNaN(P)||isNaN(K)||isNaN(ae)||isNaN(V)||isNaN(Q))throw Un.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var le=new f(k,P,K,ae,V,Q);this.ctx.transform=this.ctx.transform.multiply(le)},w.prototype.setTransform=function(k,P,K,ae,V,Q){k=isNaN(k)?1:k,P=isNaN(P)?0:P,K=isNaN(K)?0:K,ae=isNaN(ae)?1:ae,V=isNaN(V)?0:V,Q=isNaN(Q)?0:Q,this.ctx.transform=new f(k,P,K,ae,V,Q)};var E=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};w.prototype.drawImage=function(k,P,K,ae,V,Q,le,ye,pe){var Le=this.pdf.getImageProperties(k),Me=1,ie=1,ke=1,$=1;ae!==void 0&&ye!==void 0&&(ke=ye/ae,$=pe/V,Me=Le.width/ae*ye/ae,ie=Le.height/V*pe/V),Q===void 0&&(Q=P,le=K,P=0,K=0),ae!==void 0&&ye===void 0&&(ye=ae,pe=V),ae===void 0&&ye===void 0&&(ye=Le.width,pe=Le.height);var ze=this.ctx.transform.decompose(),et=he(ze.rotate.shx),Je=new f,De=(Je=(Je=(Je=Je.multiply(ze.translate)).multiply(ze.skew)).multiply(ze.scale)).applyToRectangle(new d(Q-P*ke,le-K*$,ae*Me,V*ie));if(this.autoPaging){for(var Ke,$e=L.call(this,De),Ye=[],at=0;at<$e.length;at+=1)Ye.indexOf($e[at])===-1&&Ye.push($e[at]);M(Ye);for(var ot=Ye[0],Qe=Ye[Ye.length-1],it=ot;it<Qe+1;it++){this.pdf.setPage(it);var tt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],pt=it===1?this.posY+this.margin[0]:this.margin[0],Ze=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],At=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],nt=it===1?0:Ze+(it-2)*At;if(this.ctx.clip_path.length!==0){var cn=this.path;Ke=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(Ke,this.posX+this.margin[3],-nt+pt+this.ctx.prevPageLastElemOffset),ue.call(this,"fill",!0),this.path=cn}var xt=JSON.parse(JSON.stringify(De));xt=D([xt],this.posX+this.margin[3],-nt+pt+this.ctx.prevPageLastElemOffset)[0];var kt=(it>ot||it<Qe)&&E.call(this);kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],tt,At,null).clip().discardPath()),this.pdf.addImage(k,"JPEG",xt.x,xt.y,xt.w,xt.h,null,null,et),kt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(k,"JPEG",De.x,De.y,De.w,De.h,null,null,et)};var L=function(k,P,K){var ae=[];P=P||this.pdf.internal.pageSize.width,K=K||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var V=this.posY+this.ctx.prevPageLastElemOffset;switch(k.type){default:case"mt":case"lt":ae.push(Math.floor((k.y+V)/K)+1);break;case"arc":ae.push(Math.floor((k.y+V-k.radius)/K)+1),ae.push(Math.floor((k.y+V+k.radius)/K)+1);break;case"qct":var Q=_e(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x,k.y);ae.push(Math.floor((Q.y+V)/K)+1),ae.push(Math.floor((Q.y+Q.h+V)/K)+1);break;case"bct":var le=ve(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x2,k.y2,k.x,k.y);ae.push(Math.floor((le.y+V)/K)+1),ae.push(Math.floor((le.y+le.h+V)/K)+1);break;case"rect":ae.push(Math.floor((k.y+V)/K)+1),ae.push(Math.floor((k.y+k.h+V)/K)+1)}for(var ye=0;ye<ae.length;ye+=1)for(;this.pdf.internal.getNumberOfPages()<ae[ye];)R.call(this);return ae},R=function(){var k=this.fillStyle,P=this.strokeStyle,K=this.font,ae=this.lineCap,V=this.lineWidth,Q=this.lineJoin;this.pdf.addPage(),this.fillStyle=k,this.strokeStyle=P,this.font=K,this.lineCap=ae,this.lineWidth=V,this.lineJoin=Q},D=function(k,P,K){for(var ae=0;ae<k.length;ae++)switch(k[ae].type){case"bct":k[ae].x2+=P,k[ae].y2+=K;case"qct":k[ae].x1+=P,k[ae].y1+=K;default:k[ae].x+=P,k[ae].y+=K}return k},M=function(k){return k.sort(function(P,K){return P-K})},W=function(k,P){var K=this.fillStyle,ae=this.strokeStyle,V=this.lineCap,Q=this.lineWidth,le=Math.abs(Q*this.ctx.transform.scaleX),ye=this.lineJoin;if(this.autoPaging){for(var pe,Le,Me=JSON.parse(JSON.stringify(this.path)),ie=JSON.parse(JSON.stringify(this.path)),ke=[],$=0;$<ie.length;$++)if(ie[$].x!==void 0)for(var ze=L.call(this,ie[$]),et=0;et<ze.length;et+=1)ke.indexOf(ze[et])===-1&&ke.push(ze[et]);for(var Je=0;Je<ke.length;Je++)for(;this.pdf.internal.getNumberOfPages()<ke[Je];)R.call(this);M(ke);for(var De=ke[0],Ke=ke[ke.length-1],$e=De;$e<Ke+1;$e++){this.pdf.setPage($e),this.fillStyle=K,this.strokeStyle=ae,this.lineCap=V,this.lineWidth=le,this.lineJoin=ye;var Ye=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],at=$e===1?this.posY+this.margin[0]:this.margin[0],ot=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Qe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],it=$e===1?0:ot+($e-2)*Qe;if(this.ctx.clip_path.length!==0){var tt=this.path;pe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(pe,this.posX+this.margin[3],-it+at+this.ctx.prevPageLastElemOffset),ue.call(this,k,!0),this.path=tt}if(Le=JSON.parse(JSON.stringify(Me)),this.path=D(Le,this.posX+this.margin[3],-it+at+this.ctx.prevPageLastElemOffset),P===!1||$e===0){var pt=($e>De||$e<Ke)&&E.call(this);pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ye,Qe,null).clip().discardPath()),ue.call(this,k,P),pt&&this.pdf.restoreGraphicsState()}this.lineWidth=Q}this.path=Me}else this.lineWidth=le,ue.call(this,k,P),this.lineWidth=Q},ue=function(k,P){if((k!=="stroke"||P||!T.call(this))&&(k==="stroke"||P||!m.call(this))){for(var K,ae,V=[],Q=this.path,le=0;le<Q.length;le++){var ye=Q[le];switch(ye.type){case"begin":V.push({begin:!0});break;case"close":V.push({close:!0});break;case"mt":V.push({start:ye,deltas:[],abs:[]});break;case"lt":var pe=V.length;if(Q[le-1]&&!isNaN(Q[le-1].x)&&(K=[ye.x-Q[le-1].x,ye.y-Q[le-1].y],pe>0)){for(;pe>=0;pe--)if(V[pe-1].close!==!0&&V[pe-1].begin!==!0){V[pe-1].deltas.push(K),V[pe-1].abs.push(ye);break}}break;case"bct":K=[ye.x1-Q[le-1].x,ye.y1-Q[le-1].y,ye.x2-Q[le-1].x,ye.y2-Q[le-1].y,ye.x-Q[le-1].x,ye.y-Q[le-1].y],V[V.length-1].deltas.push(K);break;case"qct":var Le=Q[le-1].x+2/3*(ye.x1-Q[le-1].x),Me=Q[le-1].y+2/3*(ye.y1-Q[le-1].y),ie=ye.x+2/3*(ye.x1-ye.x),ke=ye.y+2/3*(ye.y1-ye.y),$=ye.x,ze=ye.y;K=[Le-Q[le-1].x,Me-Q[le-1].y,ie-Q[le-1].x,ke-Q[le-1].y,$-Q[le-1].x,ze-Q[le-1].y],V[V.length-1].deltas.push(K);break;case"arc":V.push({deltas:[],abs:[],arc:!0}),Array.isArray(V[V.length-1].abs)&&V[V.length-1].abs.push(ye)}}ae=P?null:k==="stroke"?"stroke":"fill";for(var et=!1,Je=0;Je<V.length;Je++)if(V[Je].arc)for(var De=V[Je].abs,Ke=0;Ke<De.length;Ke++){var $e=De[Ke];$e.type==="arc"?ee.call(this,$e.x,$e.y,$e.radius,$e.startAngle,$e.endAngle,$e.counterclockwise,void 0,P,!et):se.call(this,$e.x,$e.y),et=!0}else if(V[Je].close===!0)this.pdf.internal.out("h"),et=!1;else if(V[Je].begin!==!0){var Ye=V[Je].start.x,at=V[Je].start.y;oe.call(this,V[Je].deltas,Ye,at),et=!0}ae&&q.call(this,ae),P&&fe.call(this)}},ce=function(k){var P=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,K=P*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return k-K;case"top":return k+P-K;case"hanging":return k+P-2*K;case"middle":return k+P/2-K;default:return k}},Z=function(k){return k+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};w.prototype.createLinearGradient=function(){var k=function(){};return k.colorStops=[],k.addColorStop=function(P,K){this.colorStops.push([P,K])},k.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},k.isCanvasGradient=!0,k},w.prototype.createPattern=function(){return this.createLinearGradient()},w.prototype.createRadialGradient=function(){return this.createLinearGradient()};var ee=function(k,P,K,ae,V,Q,le,ye,pe){for(var Le=X.call(this,K,ae,V,Q),Me=0;Me<Le.length;Me++){var ie=Le[Me];Me===0&&(pe?z.call(this,ie.x1+k,ie.y1+P):se.call(this,ie.x1+k,ie.y1+P)),Ee.call(this,k,P,ie.x2,ie.y2,ie.x3,ie.y3,ie.x4,ie.y4)}ye?fe.call(this):q.call(this,le)},q=function(k){switch(k){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},fe=function(){this.pdf.clip(),this.pdf.discardPath()},z=function(k,P){this.pdf.internal.out(n(k)+" "+a(P)+" m")},Y=function(k){var P;switch(k.align){case"right":case"end":P="right";break;case"center":P="center";break;default:P="left"}var K,ae,V,Q=this.pdf.getTextDimensions(k.text),le=ce.call(this,k.y),ye=Z.call(this,le)-Q.h,pe=this.ctx.transform.applyToPoint(new c(k.x,le));if(this.autoPaging){var Le=this.ctx.transform.decompose(),Me=new f;Me=(Me=(Me=Me.multiply(Le.translate)).multiply(Le.skew)).multiply(Le.scale);for(var ie=this.ctx.transform.applyToRectangle(new d(k.x,le,Q.w,Q.h)),ke=Me.applyToRectangle(new d(k.x,ye,Q.w,Q.h)),$=L.call(this,ke),ze=[],et=0;et<$.length;et+=1)ze.indexOf($[et])===-1&&ze.push($[et]);M(ze);for(var Je=ze[0],De=ze[ze.length-1],Ke=Je;Ke<De+1;Ke++){this.pdf.setPage(Ke);var $e=Ke===1?this.posY+this.margin[0]:this.margin[0],Ye=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],at=this.pdf.internal.pageSize.height-this.margin[2],ot=at-this.margin[0],Qe=this.pdf.internal.pageSize.width-this.margin[1],it=Qe-this.margin[3],tt=Ke===1?0:Ye+(Ke-2)*ot;if(this.ctx.clip_path.length!==0){var pt=this.path;K=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(K,this.posX+this.margin[3],-1*tt+$e),ue.call(this,"fill",!0),this.path=pt}var Ze=D([JSON.parse(JSON.stringify(ke))],this.posX+this.margin[3],-tt+$e+this.ctx.prevPageLastElemOffset)[0];k.scale>=.01&&(ae=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ae*k.scale),V=this.lineWidth,this.lineWidth=V*k.scale);var At=this.autoPaging!=="text";if(At||Ze.y+Ze.h<=at){if(At||Ze.y>=$e&&Ze.x<=Qe){var nt=At?k.text:this.pdf.splitTextToSize(k.text,k.maxWidth||Qe-Ze.x)[0],cn=D([JSON.parse(JSON.stringify(ie))],this.posX+this.margin[3],-tt+$e+this.ctx.prevPageLastElemOffset)[0],xt=At&&(Ke>Je||Ke<De)&&E.call(this);xt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],it,ot,null).clip().discardPath()),this.pdf.text(nt,cn.x,cn.y,{angle:k.angle,align:P,renderingMode:k.renderingMode}),xt&&this.pdf.restoreGraphicsState()}}else Ze.y<at&&(this.ctx.prevPageLastElemOffset+=at-Ze.y);k.scale>=.01&&(this.pdf.setFontSize(ae),this.lineWidth=V)}}else k.scale>=.01&&(ae=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ae*k.scale),V=this.lineWidth,this.lineWidth=V*k.scale),this.pdf.text(k.text,pe.x+this.posX,pe.y+this.posY,{angle:k.angle,align:P,renderingMode:k.renderingMode,maxWidth:k.maxWidth}),k.scale>=.01&&(this.pdf.setFontSize(ae),this.lineWidth=V)},se=function(k,P,K,ae){K=K||0,ae=ae||0,this.pdf.internal.out(n(k+K)+" "+a(P+ae)+" l")},oe=function(k,P,K){return this.pdf.lines(k,P,K,null,null)},Ee=function(k,P,K,ae,V,Q,le,ye){this.pdf.internal.out([e(l(K+k)),e(s(ae+P)),e(l(V+k)),e(s(Q+P)),e(l(le+k)),e(s(ye+P)),"c"].join(" "))},X=function(k,P,K,ae){for(var V=2*Math.PI,Q=Math.PI/2;P>K;)P-=V;var le=Math.abs(K-P);le<V&&ae&&(le=V-le);for(var ye=[],pe=ae?-1:1,Le=P;le>1e-5;){var Me=Le+pe*Math.min(le,Q);ye.push(de.call(this,k,Le,Me)),le-=Math.abs(Me-Le),Le=Me}return ye},de=function(k,P,K){var ae=(K-P)/2,V=k*Math.cos(ae),Q=k*Math.sin(ae),le=V,ye=-Q,pe=le*le+ye*ye,Le=pe+le*V+ye*Q,Me=4/3*(Math.sqrt(2*pe*Le)-Le)/(le*Q-ye*V),ie=le-Me*ye,ke=ye+Me*le,$=ie,ze=-ke,et=ae+P,Je=Math.cos(et),De=Math.sin(et);return{x1:k*Math.cos(P),y1:k*Math.sin(P),x2:ie*Je-ke*De,y2:ie*De+ke*Je,x3:$*Je-ze*De,y3:$*De+ze*Je,x4:k*Math.cos(K),y4:k*Math.sin(K)}},he=function(k){return 180*k/Math.PI},_e=function(k,P,K,ae,V,Q){var le=k+.5*(K-k),ye=P+.5*(ae-P),pe=V+.5*(K-V),Le=Q+.5*(ae-Q),Me=Math.min(k,V,le,pe),ie=Math.max(k,V,le,pe),ke=Math.min(P,Q,ye,Le),$=Math.max(P,Q,ye,Le);return new d(Me,ke,ie-Me,$-ke)},ve=function(k,P,K,ae,V,Q,le,ye){var pe,Le,Me,ie,ke,$,ze,et,Je,De,Ke,$e,Ye,at,ot=K-k,Qe=ae-P,it=V-K,tt=Q-ae,pt=le-V,Ze=ye-Q;for(Le=0;Le<41;Le++)Je=(ze=(Me=k+(pe=Le/40)*ot)+pe*((ke=K+pe*it)-Me))+pe*(ke+pe*(V+pe*pt-ke)-ze),De=(et=(ie=P+pe*Qe)+pe*(($=ae+pe*tt)-ie))+pe*($+pe*(Q+pe*Ze-$)-et),Le==0?(Ke=Je,$e=De,Ye=Je,at=De):(Ke=Math.min(Ke,Je),$e=Math.min($e,De),Ye=Math.max(Ye,Je),at=Math.max(at,De));return new d(Math.round(Ke),Math.round($e),Math.round(Ye-Ke),Math.round(at-$e))},I=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var k,P,K=(k=this.ctx.lineDash,P=this.ctx.lineDashOffset,JSON.stringify({lineDash:k,lineDashOffset:P}));this.prevLineDash!==K&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=K)}}})(St.API),(function(t){var e=function(c){var d,f,h,y,w,A,m,T,E,L;for(f=[],h=0,y=(c+=d="\0\0\0\0".slice(c.length%4||4)).length;y>h;h+=4)(w=(c.charCodeAt(h)<<24)+(c.charCodeAt(h+1)<<16)+(c.charCodeAt(h+2)<<8)+c.charCodeAt(h+3))!==0?(A=(w=((w=((w=((w=(w-(L=w%85))/85)-(E=w%85))/85)-(T=w%85))/85)-(m=w%85))/85)%85,f.push(A+33,m+33,T+33,E+33,L+33)):f.push(122);return(function(R,D){for(var M=D;M>0;M--)R.pop()})(f,d.length),String.fromCharCode.apply(String,f)+"~>"},n=function(c){var d,f,h,y,w,A=String,m="length",T=255,E="charCodeAt",L="slice",R="replace";for(c[L](-2),c=c[L](0,-2)[R](/\s/g,"")[R]("z","!!!!!"),h=[],y=0,w=(c+=d="uuuuu"[L](c[m]%5||5))[m];w>y;y+=5)f=52200625*(c[E](y)-33)+614125*(c[E](y+1)-33)+7225*(c[E](y+2)-33)+85*(c[E](y+3)-33)+(c[E](y+4)-33),h.push(T&f>>24,T&f>>16,T&f>>8,T&f);return(function(D,M){for(var W=M;W>0;W--)D.pop()})(h,d[m]),A.fromCharCode.apply(A,h)},a=function(c){return c.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">"},l=function(c){var d=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((c=c.replace(/\s/g,"")).indexOf(">")!==-1&&(c=c.substr(0,c.indexOf(">"))),c.length%2&&(c+="0"),d.test(c)===!1)return"";for(var f="",h=0;h<c.length;h+=2)f+=String.fromCharCode("0x"+(c[h]+c[h+1]));return f},s=function(c){for(var d=new Uint8Array(c.length),f=c.length;f--;)d[f]=c.charCodeAt(f);return(d=vg(d)).reduce(function(h,y){return h+String.fromCharCode(y)},"")};t.processDataByFilters=function(c,d){var f=0,h=c||"",y=[];for(typeof(d=d||[])=="string"&&(d=[d]),f=0;f<d.length;f+=1)switch(d[f]){case"ASCII85Decode":case"/ASCII85Decode":h=n(h),y.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=e(h),y.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=l(h),y.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=a(h),y.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=s(h),y.push("/FlateDecode");break;default:throw new Error('The filter: "'+d[f]+'" is not implemented')}return{data:h,reverseChain:y.reverse().join(" ")}}})(St.API),(function(t){t.loadFile=function(e,n,a){return(function(l,s,c){s=s!==!1,c=typeof c=="function"?c:function(){};var d=void 0;try{d=(function(f,h,y){var w=new XMLHttpRequest,A=0,m=function(T){var E=T.length,L=[],R=String.fromCharCode;for(A=0;A<E;A+=1)L.push(R(255&T.charCodeAt(A)));return L.join("")};if(w.open("GET",f,!h),w.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(w.onload=function(){w.status===200?y(m(this.responseText)):y(void 0)}),w.send(null),h&&w.status===200)return m(w.responseText)})(l,s,c)}catch{}return d})(e,n,a)},t.allowFsRead=void 0,t.loadImageFile=t.loadFile})(St.API),(function(t){function e(){return(qt.html2canvas?Promise.resolve(qt.html2canvas):Lp(()=>import("./html2canvas.esm-DXEQVQnt.js"),[])).catch(function(d){return Promise.reject(new Error("Could not load html2canvas: "+d))}).then(function(d){return d.default?d.default:d})}function n(){return(qt.DOMPurify?Promise.resolve(qt.DOMPurify):Lp(()=>import("./purify.es-Bzr520pe.js"),[])).catch(function(d){return Promise.reject(new Error("Could not load dompurify: "+d))}).then(function(d){return d.default?d.default:d})}var a=function(d){var f=Ln(d);return f==="undefined"?"undefined":f==="string"||d instanceof String?"string":f==="number"||d instanceof Number?"number":f==="function"||d instanceof Function?"function":d&&d.constructor===Array?"array":d&&d.nodeType===1?"element":f==="object"?"object":"unknown"},l=function(d,f){var h=document.createElement(d);for(var y in f.className&&(h.className=f.className),f.innerHTML&&f.dompurify&&(h.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)h.style[y]=f.style[y];return h},s=function d(f,h){for(var y=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),w=f.firstChild;w;w=w.nextSibling)h!==!0&&w.nodeType===1&&w.nodeName==="SCRIPT"||y.appendChild(d(w,h));return f.nodeType===1&&(f.nodeName==="CANVAS"?(y.width=f.width,y.height=f.height,y.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(y.value=f.value),y.addEventListener("load",function(){y.scrollTop=f.scrollTop,y.scrollLeft=f.scrollLeft},!0)),y},c=function d(f){var h=Object.assign(d.convert(Promise.resolve()),JSON.parse(JSON.stringify(d.template))),y=d.convert(Promise.resolve(),h);return(y=y.setProgress(1,d,1,[d])).set(f)};(c.prototype=Object.create(Promise.prototype)).constructor=c,c.convert=function(d,f){return d.__proto__=f||c.prototype,d},c.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},c.prototype.from=function(d,f){return this.then(function(){switch(f=f||(function(h){switch(a(h)){case"string":return"string";case"element":return h.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(d),f){case"string":return this.then(n).then(function(h){return this.set({src:l("div",{innerHTML:d,dompurify:h})})});case"element":return this.set({src:d});case"canvas":return this.set({canvas:d});case"img":return this.set({img:d});default:return this.error("Unknown source type.")}})},c.prototype.to=function(d){switch(d){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},c.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var d={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(d.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=l("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=l("div",{className:"html2pdf__container",style:d}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(l("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},c.prototype.toCanvas=function(){var d=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(d).then(e).then(function(f){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,f(this.prop.container,h)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},c.prototype.toContext2d=function(){var d=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(d).then(e).then(function(f){var h=this.opt.jsPDF,y=this.opt.fontFaces,w=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,A=Object.assign({async:!0,allowTaint:!0,scale:w,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete A.onrendered,h.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=y,y)for(var m=0;m<y.length;++m){var T=y[m],E=T.src.find(function(L){return L.format==="truetype"});E&&h.addFont(E.url,T.ref.name,T.ref.style)}return A.windowHeight=A.windowHeight||0,A.windowHeight=A.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):A.windowHeight,h.context2d.save(!0),f(this.prop.container,A)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},c.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var d=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=d})},c.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},c.prototype.output=function(d,f,h){return(h=h||"pdf").toLowerCase()==="img"||h.toLowerCase()==="image"?this.outputImg(d,f):this.outputPdf(d,f)},c.prototype.outputPdf=function(d,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(d,f)})},c.prototype.outputImg=function(d){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(d){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+d+'" is not supported.'}})},c.prototype.save=function(d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(d?{filename:d}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},c.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},c.prototype.set=function(d){if(a(d)!=="object")return this;var f=Object.keys(d||{}).map(function(h){if(h in c.template.prop)return function(){this.prop[h]=d[h]};switch(h){case"margin":return this.setMargin.bind(this,d.margin);case"jsPDF":return function(){return this.opt.jsPDF=d.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,d.pageSize);default:return function(){this.opt[h]=d[h]}}},this);return this.then(function(){return this.thenList(f)})},c.prototype.get=function(d,f){return this.then(function(){var h=d in c.template.prop?this.prop[d]:this.opt[d];return f?f(h):h})},c.prototype.setMargin=function(d){return this.then(function(){switch(a(d)){case"number":d=[d,d,d,d];case"array":if(d.length===2&&(d=[d[0],d[1],d[0],d[1]]),d.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=d}).then(this.setPageSize)},c.prototype.setPageSize=function(d){function f(h,y){return Math.floor(h*y/72*96)}return this.then(function(){(d=d||St.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(d.inner={width:d.width-this.opt.margin[1]-this.opt.margin[3],height:d.height-this.opt.margin[0]-this.opt.margin[2]},d.inner.px={width:f(d.inner.width,d.k),height:f(d.inner.height,d.k)},d.inner.ratio=d.inner.height/d.inner.width),this.prop.pageSize=d})},c.prototype.setProgress=function(d,f,h,y){return d!=null&&(this.progress.val=d),f!=null&&(this.progress.state=f),h!=null&&(this.progress.n=h),y!=null&&(this.progress.stack=y),this.progress.ratio=this.progress.val/this.progress.state,this},c.prototype.updateProgress=function(d,f,h,y){return this.setProgress(d?this.progress.val+d:null,f||null,h?this.progress.n+h:null,y?this.progress.stack.concat(y):null)},c.prototype.then=function(d,f){var h=this;return this.thenCore(d,f,function(y,w){return h.updateProgress(null,null,1,[y]),Promise.prototype.then.call(this,function(A){return h.updateProgress(null,y),A}).then(y,w).then(function(A){return h.updateProgress(1),A})})},c.prototype.thenCore=function(d,f,h){h=h||Promise.prototype.then;var y=this;d&&(d=d.bind(y)),f&&(f=f.bind(y));var w=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?y:c.convert(Object.assign({},y),Promise.prototype),A=h.call(w,d,f);return c.convert(A,y.__proto__)},c.prototype.thenExternal=function(d,f){return Promise.prototype.then.call(this,d,f)},c.prototype.thenList=function(d){var f=this;return d.forEach(function(h){f=f.thenCore(h)}),f},c.prototype.catch=function(d){d&&(d=d.bind(this));var f=Promise.prototype.catch.call(this,d);return c.convert(f,this)},c.prototype.catchExternal=function(d){return Promise.prototype.catch.call(this,d)},c.prototype.error=function(d){return this.then(function(){throw new Error(d)})},c.prototype.using=c.prototype.set,c.prototype.saveAs=c.prototype.save,c.prototype.export=c.prototype.output,c.prototype.run=c.prototype.then,St.getPageSize=function(d,f,h){if(Ln(d)==="object"){var y=d;d=y.orientation,f=y.unit||f,h=y.format||h}f=f||"mm",h=h||"a4",d=(""+(d||"P")).toLowerCase();var w,A=(""+h).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":w=1;break;case"mm":w=72/25.4;break;case"cm":w=72/2.54;break;case"in":w=72;break;case"px":w=.75;break;case"pc":case"em":w=12;break;case"ex":w=6;break;default:throw"Invalid unit: "+f}var T,E=0,L=0;if(m.hasOwnProperty(A))E=m[A][1]/w,L=m[A][0]/w;else try{E=h[1],L=h[0]}catch{throw new Error("Invalid format: "+h)}if(d==="p"||d==="portrait")d="p",L>E&&(T=L,L=E,E=T);else{if(d!=="l"&&d!=="landscape")throw"Invalid orientation: "+d;d="l",E>L&&(T=L,L=E,E=T)}return{width:L,height:E,unit:f,k:w,orientation:d}},t.html=function(d,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(Yp):null;var h=new c(f);return f.worker?h:h.from(d).doCallback()}})(St.API),St.API.addJS=function(t){var e,n,a=t;return this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(e+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),n=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+a+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){e!==void 0&&n!==void 0&&this.internal.out("/Names <</JavaScript "+e+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var n=this,a=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var l=n.outline.render().split(/\r\n/),s=0;s<l.length;s++){var c=l[s],d=a.exec(c);if(d!=null){var f=d[1];n.internal.newObjectDeferredBegin(f,!1)}n.internal.write(c)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,y=[];for(s=0;s<h;s++){var w=n.internal.newObject();y.push(w);var A=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+A.objId+" 0 R /XYZ null null null]>> endobj")}var m=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<y.length;s++)n.internal.write("(page_"+(s+1)+")"+y[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+m+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(a,l,s){var c={title:l,options:s,children:[]};return a==null&&(a=this.root),a.children.push(c),c},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(a){a.id=n.internal.newObjectDeferred();for(var l=0;l<a.children.length;l++)this.genIds_r(a.children[l])},n.outline.renderRoot=function(a){this.objStart(a),this.line("/Type /Outlines"),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1]))),this.line("/Count "+this.count_r({count:0},a)),this.objEnd()},n.outline.renderItems=function(a){for(var l=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<a.children.length;s++){var c=a.children[s];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(a)),s>0&&this.line("/Prev "+this.makeRef(a.children[s-1])),s<a.children.length-1&&this.line("/Next "+this.makeRef(a.children[s+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var d=this.count=this.count_r({count:0},c);if(d>0&&this.line("/Count "+d),c.options&&c.options.pageNumber){var f=n.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+l(0)+" 0]")}this.objEnd()}for(var h=0;h<a.children.length;h++)this.renderItems(a.children[h])},n.outline.line=function(a){this.ctx.val+=a+`\r
`},n.outline.makeRef=function(a){return a.id+" 0 R"},n.outline.makeString=function(a){return"("+n.internal.pdfEscape(a)+")"},n.outline.objStart=function(a){this.ctx.val+=`\r
`+a.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(a,l){for(var s=0;s<l.children.length;s++)a.count++,this.count_r(a,l.children[s]);return a.count}}])})(St.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,a,l,s,c,d){var f,h=this.decode.DCT_DECODE,y=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=c||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,f=(function(w){for(var A,m=256*w.charCodeAt(4)+w.charCodeAt(5),T=w.length,E={width:0,height:0,numcomponents:1},L=4;L<T;L+=2){if(L+=m,e.indexOf(w.charCodeAt(L+1))!==-1){A=256*w.charCodeAt(L+5)+w.charCodeAt(L+6),E={width:256*w.charCodeAt(L+7)+w.charCodeAt(L+8),height:A,numcomponents:w.charCodeAt(L+9)};break}m=256*w.charCodeAt(L+2)+w.charCodeAt(L+3)}return E})(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),f.numcomponents){case 1:d=this.color_spaces.DEVICE_GRAY;break;case 4:d=this.color_spaces.DEVICE_CMYK;break;case 3:d=this.color_spaces.DEVICE_RGB}y={data:n,width:f.width,height:f.height,colorSpace:d,bitsPerComponent:8,filter:h,index:a,alias:l}}return y}})(St.API),St.API.processPNG=function(t,e,n,a){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var l,s=EE(t,{checkCrc:!0}),c=s.width,d=s.height,f=s.channels,h=s.palette,y=s.depth;l=h&&f===1?(function(ee){for(var q=ee.width,fe=ee.height,z=ee.data,Y=ee.palette,se=ee.depth,oe=!1,Ee=[],X=[],de=void 0,he=!1,_e=0,ve=0;ve<Y.length;ve++){var I=b5(Y[ve],4),k=I[0],P=I[1],K=I[2],ae=I[3];Ee.push(k,P,K),ae!=null&&(ae===0?(_e++,X.length<1&&X.push(ve)):ae<255&&(he=!0))}if(he||_e>1){oe=!0,X=void 0;var V=q*fe;de=new Uint8Array(V);for(var Q=new DataView(z.buffer),le=0;le<V;le++){var ye=Kp(Q,le,se),pe=b5(Y[ye],4)[3];de[le]=pe}}else _e===0&&(X=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:oe?8:void 0,colorBytes:z,alphaBytes:de,needSMask:oe,palette:Ee,mask:X}})(s):f===2||f===4?(function(ee){for(var q=ee.data,fe=ee.width,z=ee.height,Y=ee.channels,se=ee.depth,oe=Y===2?"DeviceGray":"DeviceRGB",Ee=Y-1,X=fe*z,de=Ee,he=X*de,_e=1*X,ve=Math.ceil(he*se/8),I=Math.ceil(_e*se/8),k=new Uint8Array(ve),P=new Uint8Array(I),K=new DataView(q.buffer),ae=new DataView(k.buffer),V=new DataView(P.buffer),Q=!1,le=0;le<X;le++){for(var ye=le*Y,pe=0;pe<de;pe++)_y(ae,Kp(K,ye+pe,se),le*de+pe,se);var Le=Kp(K,ye+de,se);Le<(1<<se)-1&&(Q=!0),_y(V,Le,1*le,se)}return{colorSpace:oe,colorsPerPixel:Ee,sMaskBitsPerComponent:Q?se:void 0,colorBytes:k,alphaBytes:P,needSMask:Q}})(s):(function(ee){var q=ee.data,fe=ee.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:fe,colorsPerPixel:fe==="DeviceGray"?1:3,colorBytes:q instanceof Uint16Array?(function(z){for(var Y=z.length,se=new Uint8Array(2*Y),oe=new DataView(se.buffer,se.byteOffset,se.byteLength),Ee=0;Ee<Y;Ee++)oe.setUint16(2*Ee,z[Ee],!1);return se})(q):q,needSMask:!1}})(s);var w,A,m,T=l,E=T.colorSpace,L=T.colorsPerPixel,R=T.sMaskBitsPerComponent,D=T.colorBytes,M=T.alphaBytes,W=T.needSMask,ue=T.palette,ce=T.mask,Z=null;return a!==St.API.image_compression.NONE&&typeof vg=="function"?(Z=(function(ee){var q;switch(ee){case St.API.image_compression.FAST:q=11;break;case St.API.image_compression.MEDIUM:q=13;break;case St.API.image_compression.SLOW:q=14;break;default:q=12}return q})(a),w=this.decode.FLATE_DECODE,A="/Predictor ".concat(Z," /Colors ").concat(L," /BitsPerComponent ").concat(y," /Columns ").concat(c),t=yy(D,Math.ceil(c*L*y/8),L,y,a),W&&(m=yy(M,Math.ceil(c*R/8),1,R,a))):(w=void 0,A=void 0,t=D,W&&(m=M)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(m&&this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),{alias:n,data:t,index:e,filter:w,decodeParameters:A,transparency:ce,palette:ue,sMask:m,predictor:Z,width:c,height:d,bitsPerComponent:y,sMaskBitsPerComponent:R,colorSpace:E}}},(function(t){t.processGIF89A=function(e,n,a,l){var s=new GE(e),c=s.width,d=s.height,f=[];s.decodeAndBlitFrameRGBA(0,f);var h={data:f,width:c,height:d},y=new Xp(100).encode(h,100);return t.processJPEG.call(this,y,n,a,l)},t.processGIF87A=t.processGIF89A})(St.API),vs.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:l,green:a,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},vs.prototype.parseBGR=function(){this.pos=this.offset;var t="bit"+this.bitPP,e=this.width*this.height*4;if(e>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(e);try{this[t]()}catch(n){Un.log("bit decode error:"+n)}},vs.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var a=this.bottom_up?t:this.height-1-t,l=0;l<e;l++)for(var s=this.datav.getUint8(this.pos++,!0),c=a*this.width*4+8*l*4,d=0;d<8&&8*l+d<this.width;d++){var f=this.palette[s>>7-d&1];this.data[c+4*d]=f.blue,this.data[c+4*d+1]=f.green,this.data[c+4*d+2]=f.red,this.data[c+4*d+3]=255}n!==0&&(this.pos+=4-n)}},vs.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,l=0;l<t;l++){var s=this.datav.getUint8(this.pos++,!0),c=a*this.width*4+2*l*4,d=s>>4,f=15&s,h=this.palette[d];if(this.data[c]=h.blue,this.data[c+1]=h.green,this.data[c+2]=h.red,this.data[c+3]=255,2*l+1>=this.width)break;h=this.palette[f],this.data[c+4]=h.blue,this.data[c+4+1]=h.green,this.data[c+4+2]=h.red,this.data[c+4+3]=255}e!==0&&(this.pos+=4-e)}},vs.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<this.width;a++){var l=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*a;if(l<this.palette.length){var c=this.palette[l];this.data[s]=c.red,this.data[s+1]=c.green,this.data[s+2]=c.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},vs.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,l=0;l<this.width;l++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(s&e)/e*255|0,d=(s>>5&e)/e*255|0,f=(s>>10&e)/e*255|0,h=s>>15?255:0,y=a*this.width*4+4*l;this.data[y]=f,this.data[y+1]=d,this.data[y+2]=c,this.data[y+3]=h}this.pos+=t}},vs.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),a=this.height-1;a>=0;a--){for(var l=this.bottom_up?a:this.height-1-a,s=0;s<this.width;s++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var d=(c&e)/e*255|0,f=(c>>5&n)/n*255|0,h=(c>>11)/e*255|0,y=l*this.width*4+4*s;this.data[y]=h,this.data[y+1]=f,this.data[y+2]=d,this.data[y+3]=255}this.pos+=t}},vs.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*n;this.data[c]=s,this.data[c+1]=l,this.data[c+2]=a,this.data[c+3]=255}this.pos+=this.width%4}},vs.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),d=e*this.width*4+4*n;this.data[d]=s,this.data[d+1]=l,this.data[d+2]=a,this.data[d+3]=c}},vs.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,n,a,l){var s=new vs(e,!1),c=s.width,d=s.height,f={data:s.getData(),width:c,height:d},h=new Xp(100).encode(f,100);return t.processJPEG.call(this,h,n,a,l)}})(St.API),Ay.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,n,a,l){var s=new Ay(e),c=s.width,d=s.height,f={data:s.getData(),width:c,height:d},h=new Xp(100).encode(f,100);return t.processJPEG.call(this,h,n,a,l)}})(St.API),St.API.processRGBA=function(t,e,n){for(var a=t.data,l=a.length,s=new Uint8Array(l/4*3),c=new Uint8Array(l/4),d=0,f=0,h=0;h<l;h+=4){var y=a[h],w=a[h+1],A=a[h+2],m=a[h+3];s[d++]=y,s[d++]=w,s[d++]=A,c[f++]=m}var T=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:T,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},St.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},gc=St.API,lh=gc.getCharWidthsArray=function(t,e){var n,a,l=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),c=e.charSpace||this.internal.getCharSpace(),d=e.widths?e.widths:l.metadata.Unicode.widths,f=d.fof?d.fof:1,h=e.kerning?e.kerning:l.metadata.Unicode.kerning,y=h.fof?h.fof:1,w=e.doKerning!==!1,A=0,m=t.length,T=0,E=d[0]||f,L=[];for(n=0;n<m;n++)a=t.charCodeAt(n),typeof l.metadata.widthOfString=="function"?L.push((l.metadata.widthOfGlyph(l.metadata.characterToGlyph(a))+c*(1e3/s)||0)/1e3):(A=w&&Ln(h[a])==="object"&&!isNaN(parseInt(h[a][T],10))?h[a][T]/y:0,L.push((d[a]||E)/f+A)),T=a;return L},py=gc.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),a=e.font||this.internal.getFont(),l=e.charSpace||this.internal.getCharSpace();return gc.processArabic&&(t=gc.processArabic(t)),typeof a.metadata.widthOfString=="function"?a.metadata.widthOfString(t,n,l)/n:lh.apply(this,arguments).reduce(function(s,c){return s+c},0)},gy=function(t,e,n,a){for(var l=[],s=0,c=t.length,d=0;s!==c&&d+e[s]<n;)d+=e[s],s++;l.push(t.slice(0,s));var f=s;for(d=0;s!==c;)d+e[s]>a&&(l.push(t.slice(f,s)),d=0,f=s),d+=e[s],s++;return f!==s&&l.push(t.slice(f,s)),l},my=function(t,e,n){n||(n={});var a,l,s,c,d,f,h,y=[],w=[y],A=n.textIndent||0,m=0,T=0,E=t.split(" "),L=lh.apply(this,[" ",n])[0];if(f=n.lineIndent===-1?E[0].length+2:n.lineIndent||0){var R=Array(f).join(" "),D=[];E.map(function(W){(W=W.split(/\s*\n/)).length>1?D=D.concat(W.map(function(ue,ce){return(ce&&ue.length?`
`:"")+ue})):D.push(W[0])}),E=D,f=py.apply(this,[R,n])}for(s=0,c=E.length;s<c;s++){var M=0;if(a=E[s],f&&a[0]==`
`&&(a=a.substr(1),M=1),A+m+(T=(l=lh.apply(this,[a,n])).reduce(function(W,ue){return W+ue},0))>e||M){if(T>e){for(d=gy.apply(this,[a,l,e-(A+m),e]),y.push(d.shift()),y=[d.pop()];d.length;)w.push([d.shift()]);T=l.slice(a.length-(y[0]?y[0].length:0)).reduce(function(W,ue){return W+ue},0)}else y=[a];w.push(y),A=T+f,m=L}else y.push(a),A+=m+T,m=L}return h=f?function(W,ue){return(ue?R:"")+W.join(" ")}:function(W){return W.join(" ")},w.map(h)},gc.splitTextToSize=function(t,e,n){var a,l=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(y){if(y.widths&&y.kerning)return{widths:y.widths,kerning:y.kerning};var w=this.internal.getFont(y.fontName,y.fontStyle),A="Unicode";return w.metadata[A]?{widths:w.metadata[A].widths||{0:1},kerning:w.metadata[A].kerning||{}}:{font:w.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);a=Array.isArray(t)?t:String(t).split(/\r?\n/);var c=1*this.internal.scaleFactor*e/l;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/l:0,s.lineIndent=n.lineIndent;var d,f,h=[];for(d=0,f=a.length;d<f;d++)h=h.concat(my.apply(this,[a[d],c,s]));return h},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",a={},l={},s=0;s<16;s++)a[n[s]]=e[s],l[e[s]]=n[s];var c=function(A){return"0x"+parseInt(A,10).toString(16)},d=t.__fontmetrics__.compress=function(A){var m,T,E,L,R=["{"];for(var D in A){if(m=A[D],isNaN(parseInt(D,10))?T="'"+D+"'":(D=parseInt(D,10),T=(T=c(D).slice(2)).slice(0,-1)+l[T.slice(-1)]),typeof m=="number")m<0?(E=c(m).slice(3),L="-"):(E=c(m).slice(2),L=""),E=L+E.slice(0,-1)+l[E.slice(-1)];else{if(Ln(m)!=="object")throw new Error("Don't know what to do with value type "+Ln(m)+".");E=d(m)}R.push(T+E)}return R.push("}"),R.join("")},f=t.__fontmetrics__.uncompress=function(A){if(typeof A!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,T,E,L,R={},D=1,M=R,W=[],ue="",ce="",Z=A.length-1,ee=1;ee<Z;ee+=1)(L=A[ee])=="'"?m?(E=m.join(""),m=void 0):m=[]:m?m.push(L):L=="{"?(W.push([M,E]),M={},E=void 0):L=="}"?((T=W.pop())[0][T[1]]=M,E=void 0,M=T[0]):L=="-"?D=-1:E===void 0?a.hasOwnProperty(L)?(ue+=a[L],E=parseInt(ue,16)*D,D=1,ue=""):ue+=L:a.hasOwnProperty(L)?(ce+=a[L],M[E]=parseInt(ce,16)*D,D=1,E=void 0,ce=""):ce+=L;return R},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},y={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},w={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(A){var m=A.font,T=w.Unicode[m.postScriptName];T&&(m.metadata.Unicode={},m.metadata.Unicode.widths=T.widths,m.metadata.Unicode.kerning=T.kerning);var E=y.Unicode[m.postScriptName];E&&(m.metadata.Unicode.encoding=E,m.encoding=E.codePages[0])}])})(St.API),(function(t){var e=function(n){for(var a=n.length,l=new Uint8Array(a),s=0;s<a;s++)l[s]=n.charCodeAt(s);return l};t.API.events.push(["addFont",function(n){var a=void 0,l=n.font,s=n.instance;if(!l.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+l.postScriptName+"').");if(typeof(a=s.existsFileInVFS(l.postScriptName)===!1?s.loadFile(l.postScriptName):s.getFileFromVFS(l.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+l.postScriptName+"').");(function(c,d){d=/^\x00\x01\x00\x00/.test(d)?e(d):e(hh(d)),c.metadata=t.API.TTFFont.open(d),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]})(l,a)}}])})(St),St.API.addSvgAsImage=function(t,e,n,a,l,s,c,d){if(isNaN(e)||isNaN(n))throw Un.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(l))throw Un.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=a,f.height=l;var h=f.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,f.width,f.height);var y={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},w=this;return(qt.canvg?Promise.resolve(qt.canvg):Lp(()=>import("./index.es-BZ78mMm-.js"),[])).catch(function(A){return Promise.reject(new Error("Could not load canvg: "+A))}).then(function(A){return A.default?A.default:A}).then(function(A){return A.fromString(h,t,y)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(A){return A.render(y)}).then(function(){w.addImage(f.toDataURL("image/jpeg",1),e,n,a,l,c,d)})},St.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var a=1;a<=this.internal.getNumberOfPages();a++)for(var l=0;l<this.internal.pages[a].length;l++)this.internal.pages[a][l]=this.internal.pages[a][l].replace(e,n);return this},St.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var a,l,s,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},d=Object.keys(c),f=[],h=0,y=0,w=0;function A(T,E){var L,R=!1;for(L=0;L<T.length;L+=1)T[L]===E&&(R=!0);return R}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var m=d.length;for(w=0;w<m;w+=1)n[d[w]].value=n[d[w]].defaultValue,n[d[w]].explicitSet=!1}if(Ln(t)==="object"){for(l in t)if(s=t[l],A(d,l)&&s!==void 0){if(n[l].type==="boolean"&&typeof s=="boolean")n[l].value=s;else if(n[l].type==="name"&&A(n[l].valueSet,s))n[l].value=s;else if(n[l].type==="integer"&&Number.isInteger(s))n[l].value=s;else if(n[l].type==="array"){for(h=0;h<s.length;h+=1)if(a=!0,s[h].length===1&&typeof s[h][0]=="number")f.push(String(s[h]-1));else if(s[h].length>1){for(y=0;y<s[h].length;y+=1)typeof s[h][y]!="number"&&(a=!1);a===!0&&f.push([s[h][0]-1,s[h][1]-1].join(" "))}n[l].value="["+f.join(" ")+"]"}else n[l].value=n[l].defaultValue;n[l].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var T,E=[];for(T in n)n[T].explicitSet===!0&&(n[T].type==="name"?E.push("/"+T+" /"+n[T].value):E.push("/"+T+" "+n[T].value));E.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+E.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},St.API.addMetadata=function(t,e){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:t,namespaceUri:e??"http://jspdf.default.namespaceuri/",rawXml:typeof e=="boolean"&&e},this.internal.events.subscribe("putCatalog",VE),this.internal.events.subscribe("postPutResources",YE)),this},(function(t){var e=t.API,n=e.pdfEscape16=function(s,c){for(var d,f=c.metadata.Unicode.widths,h=["","0","00","000","0000"],y=[""],w=0,A=s.length;w<A;++w){if(d=c.metadata.characterToGlyph(s.charCodeAt(w)),c.metadata.glyIdsUsed.push(d),c.metadata.toUnicode[d]=s.charCodeAt(w),f.indexOf(d)==-1&&(f.push(d),f.push([parseInt(c.metadata.widthOfGlyph(d),10)])),d=="0")return y.join("");d=d.toString(16),y.push(h[4-d.length],d)}return y.join("")},a=function(s){var c,d,f,h,y,w,A;for(y=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],w=0,A=(d=Object.keys(s).sort(function(m,T){return m-T})).length;w<A;w++)c=d[w],f.length>=100&&(y+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),s[c]!==void 0&&s[c]!==null&&typeof s[c].toString=="function"&&(h=("0000"+s[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),f.push("<"+c+"><"+h+">"));return f.length&&(y+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),y+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(c){var d=c.font,f=c.out,h=c.newObject,y=c.putStream;if(d.metadata instanceof t.API.TTFFont&&d.encoding==="Identity-H"){for(var w=d.metadata.Unicode.widths,A=d.metadata.subset.encode(d.metadata.glyIdsUsed,1),m="",T=0;T<A.length;T++)m+=String.fromCharCode(A[T]);var E=h();y({data:m,addLength1:!0,objectId:E}),f("endobj");var L=h();y({data:a(d.metadata.toUnicode),addLength1:!0,objectId:L}),f("endobj");var R=h();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+xc(d.fontName)),f("/FontFile2 "+E+" 0 R"),f("/FontBBox "+t.API.PDFObject.convert(d.metadata.bbox)),f("/Flags "+d.metadata.flags),f("/StemV "+d.metadata.stemV),f("/ItalicAngle "+d.metadata.italicAngle),f("/Ascent "+d.metadata.ascender),f("/Descent "+d.metadata.decender),f("/CapHeight "+d.metadata.capHeight),f(">>"),f("endobj");var D=h();f("<<"),f("/Type /Font"),f("/BaseFont /"+xc(d.fontName)),f("/FontDescriptor "+R+" 0 R"),f("/W "+t.API.PDFObject.convert(w)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+d.encoding+")"),f(">>"),f(">>"),f("endobj"),d.objectNumber=h(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+L+" 0 R"),f("/BaseFont /"+xc(d.fontName)),f("/Encoding /"+d.encoding),f("/DescendantFonts ["+D+" 0 R]"),f(">>"),f("endobj"),d.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(c){var d=c.font,f=c.out,h=c.newObject,y=c.putStream;if(d.metadata instanceof t.API.TTFFont&&d.encoding==="WinAnsiEncoding"){for(var w=d.metadata.rawData,A="",m=0;m<w.length;m++)A+=String.fromCharCode(w[m]);var T=h();y({data:A,addLength1:!0,objectId:T}),f("endobj");var E=h();y({data:a(d.metadata.toUnicode),addLength1:!0,objectId:E}),f("endobj");var L=h();f("<<"),f("/Descent "+d.metadata.decender),f("/CapHeight "+d.metadata.capHeight),f("/StemV "+d.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+T+" 0 R"),f("/Flags 96"),f("/FontBBox "+t.API.PDFObject.convert(d.metadata.bbox)),f("/FontName /"+xc(d.fontName)),f("/ItalicAngle "+d.metadata.italicAngle),f("/Ascent "+d.metadata.ascender),f(">>"),f("endobj"),d.objectNumber=h();for(var R=0;R<d.metadata.hmtx.widths.length;R++)d.metadata.hmtx.widths[R]=parseInt(d.metadata.hmtx.widths[R]*(1e3/d.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+E+" 0 R/BaseFont/"+xc(d.fontName)+"/FontDescriptor "+L+" 0 R/Encoding/"+d.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(d.metadata.hmtx.widths)+">>"),f("endobj"),d.isAlreadyPutted=!0}})(s)}]);var l=function(s){var c,d=s.text||"",f=s.x,h=s.y,y=s.options||{},w=s.mutex||{},A=w.pdfEscape,m=w.activeFontKey,T=w.fonts,E=m,L="",R=0,D="",M=T[E].encoding;if(T[E].encoding!=="Identity-H")return{text:d,x:f,y:h,options:y,mutex:w};for(D=d,E=m,Array.isArray(d)&&(D=d[0]),R=0;R<D.length;R+=1)T[E].metadata.hasOwnProperty("cmap")&&(c=T[E].metadata.cmap.unicode.codeMap[D[R].charCodeAt(0)]),c||D[R].charCodeAt(0)<256&&T[E].metadata.hasOwnProperty("Unicode")?L+=D[R]:L+="";var W="";return parseInt(E.slice(1))<14||M==="WinAnsiEncoding"?W=A(L,E).split("").map(function(ue){return ue.charCodeAt(0).toString(16)}).join(""):M==="Identity-H"&&(W=n(L,T[E])),w.isHex=!0,{text:W,x:f,y:h,options:y,mutex:w}};e.events.push(["postProcessText",function(s){var c=s.text||"",d=[],f={text:c,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(c)){var h=0;for(h=0;h<c.length;h+=1)Array.isArray(c[h])&&c[h].length===3?d.push([l(Object.assign({},f,{text:c[h][0]})).text,c[h][1],c[h][2]]):d.push(l(Object.assign({},f,{text:c[h]})).text);s.text=d}else s.text=l(Object.assign({},f,{text:c})).text}])})(St),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,a){return e.call(this),this.internal.vFS[n]=a,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}})(St.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(a){var l,s,c,d,f,h,y,w=e,A=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],T={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},E={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},L=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],R=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),D=!1,M=0;this.__bidiEngine__={};var W=function(z){var Y=z.charCodeAt(),se=Y>>8,oe=E[se];return oe!==void 0?w[256*oe+(255&Y)]:se===252||se===253?"AL":R.test(se)?"L":se===8?"R":"N"},ue=function(z){for(var Y,se=0;se<z.length;se++){if((Y=W(z.charAt(se)))==="L")return!1;if(Y==="R")return!0}return!1},ce=function(z,Y,se,oe){var Ee,X,de,he,_e=Y[oe];switch(_e){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":D=!1;break;case"N":case"AN":break;case"EN":D&&(_e="AN");break;case"AL":D=!0,_e="R";break;case"WS":case"BN":_e="N";break;case"CS":oe<1||oe+1>=Y.length||(Ee=se[oe-1])!=="EN"&&Ee!=="AN"||(X=Y[oe+1])!=="EN"&&X!=="AN"?_e="N":D&&(X="AN"),_e=X===Ee?X:"N";break;case"ES":_e=(Ee=oe>0?se[oe-1]:"B")==="EN"&&oe+1<Y.length&&Y[oe+1]==="EN"?"EN":"N";break;case"ET":if(oe>0&&se[oe-1]==="EN"){_e="EN";break}if(D){_e="N";break}for(de=oe+1,he=Y.length;de<he&&Y[de]==="ET";)de++;_e=de<he&&Y[de]==="EN"?"EN":"N";break;case"NSM":if(c&&!d){for(he=Y.length,de=oe+1;de<he&&Y[de]==="NSM";)de++;if(de<he){var ve=z[oe],I=ve>=1425&&ve<=2303||ve===64286;if(Ee=Y[de],I&&(Ee==="R"||Ee==="AL")){_e="R";break}}}_e=oe<1||(Ee=Y[oe-1])==="B"?"N":se[oe-1];break;case"B":D=!1,l=!0,_e=M;break;case"S":s=!0,_e="N"}return _e},Z=function(z,Y,se){var oe=z.split("");return se&&ee(oe,se,{hiLevel:M}),oe.reverse(),Y&&Y.reverse(),oe.join("")},ee=function(z,Y,se){var oe,Ee,X,de,he,_e=-1,ve=z.length,I=0,k=[],P=M?m:A,K=[];for(D=!1,l=!1,s=!1,Ee=0;Ee<ve;Ee++)K[Ee]=W(z[Ee]);for(X=0;X<ve;X++){if(he=I,k[X]=ce(z,K,k,X),oe=240&(I=P[he][T[k[X]]]),I&=15,Y[X]=de=P[I][5],oe>0)if(oe===16){for(Ee=_e;Ee<X;Ee++)Y[Ee]=1;_e=-1}else _e=-1;if(P[I][6])_e===-1&&(_e=X);else if(_e>-1){for(Ee=_e;Ee<X;Ee++)Y[Ee]=de;_e=-1}K[X]==="B"&&(Y[X]=0),se.hiLevel|=de}s&&(function(ae,V,Q){for(var le=0;le<Q;le++)if(ae[le]==="S"){V[le]=M;for(var ye=le-1;ye>=0&&ae[ye]==="WS";ye--)V[ye]=M}})(K,Y,ve)},q=function(z,Y,se,oe,Ee){if(!(Ee.hiLevel<z)){if(z===1&&M===1&&!l)return Y.reverse(),void(se&&se.reverse());for(var X,de,he,_e,ve=Y.length,I=0;I<ve;){if(oe[I]>=z){for(he=I+1;he<ve&&oe[he]>=z;)he++;for(_e=I,de=he-1;_e<de;_e++,de--)X=Y[_e],Y[_e]=Y[de],Y[de]=X,se&&(X=se[_e],se[_e]=se[de],se[de]=X);I=he}I++}}},fe=function(z,Y,se){var oe=z.split(""),Ee={hiLevel:M};return se||(se=[]),ee(oe,se,Ee),(function(X,de,he){if(he.hiLevel!==0&&y)for(var _e,ve=0;ve<X.length;ve++)de[ve]===1&&(_e=L.indexOf(X[ve]))>=0&&(X[ve]=L[_e+1])})(oe,se,Ee),q(2,oe,Y,se,Ee),q(1,oe,Y,se,Ee),oe.join("")};return this.__bidiEngine__.doBidiReorder=function(z,Y,se){if((function(Ee,X){if(X)for(var de=0;de<Ee.length;de++)X[de]=de;d===void 0&&(d=ue(Ee)),h===void 0&&(h=ue(Ee))})(z,Y),c||!f||h)if(c&&f&&d^h)M=d?1:0,z=Z(z,Y,se);else if(!c&&f&&h)M=d?1:0,z=fe(z,Y,se),z=Z(z,Y);else if(!c||d||f||h){if(c&&!f&&d^h)z=Z(z,Y),d?(M=0,z=fe(z,Y,se)):(M=1,z=fe(z,Y,se),z=Z(z,Y));else if(c&&d&&!f&&h)M=1,z=fe(z,Y,se),z=Z(z,Y);else if(!c&&!f&&d^h){var oe=y;d?(M=1,z=fe(z,Y,se),M=0,y=!1,z=fe(z,Y,se),y=oe):(M=0,z=fe(z,Y,se),z=Z(z,Y),M=1,y=!1,z=fe(z,Y,se),y=oe,z=Z(z,Y))}}else M=0,z=fe(z,Y,se);else M=d?1:0,z=fe(z,Y,se);return z},this.__bidiEngine__.setOptions=function(z){z&&(c=z.isInputVisual,f=z.isOutputVisual,d=z.isInputRtl,h=z.isOutputRtl,y=z.isSymmetricSwapping)},this.__bidiEngine__.setOptions(a),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(a){var l=a.text;a.x,a.y;var s=a.options||{};a.mutex,s.lang;var c=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(l)==="[object Array]"){var d=0;for(c=[],d=0;d<l.length;d+=1)Object.prototype.toString.call(l[d])==="[object Array]"?c.push([n.doBidiReorder(l[d][0]),l[d][1],l[d][2]]):c.push([n.doBidiReorder(l[d])]);a.text=c}else a.text=n.doBidiReorder(l);n.setOptions({isInputVisual:!0})}])})(St),St.API.TTFFont=(function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Al(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new u7(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new KE(this.contents),this.head=new JE(this),this.name=new n7(this),this.cmap=new Bb(this),this.toUnicode={},this.hhea=new ZE(this),this.maxp=new r7(this),this.hmtx=new i7(this),this.post=new e7(this),this.os2=new QE(this),this.loca=new l7(this),this.glyf=new a7(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,a,l,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var c,d,f,h;for(h=[],c=0,d=(f=this.bbox).length;c<d;c++)e=f[c],h.push(Math.round(e*this.scaleFactor));return h}).call(this),this.stemV=0,this.post.exists?(a=255&(l=this.post.italic_angle),32768&(n=l>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+a)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,a){var l,s,c,d;for(c=0,s=0,d=(e=""+e).length;0<=d?s<d:s>d;s=0<=d?++s:--s)l=e.charCodeAt(s),c+=this.widthOfGlyph(this.characterToGlyph(l))+a*(1e3/n)||0;return c*(n/1e3)},t.prototype.lineHeight=function(e,n){var a;return n==null&&(n=!1),a=n?this.lineGap:0,(this.ascender+a-this.decender)/1e3*e},t})();var ks,Al=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,a;for(a=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)a[n]=String.fromCharCode(this.readByte());return a.join("")},t.prototype.writeString=function(e){var n,a,l;for(l=[],n=0,a=e.length;0<=a?n<a:n>a;n=0<=a?++n:--n)l.push(this.writeByte(e.charCodeAt(n)));return l},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,a,l,s,c,d,f;return e=this.readByte(),n=this.readByte(),a=this.readByte(),l=this.readByte(),s=this.readByte(),c=this.readByte(),d=this.readByte(),f=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^a)+4294967296*(255^l)+16777216*(255^s)+65536*(255^c)+256*(255^d)+(255^f)+1):72057594037927940*e+281474976710656*n+1099511627776*a+4294967296*l+16777216*s+65536*c+256*d+f},t.prototype.writeLongLong=function(e){var n,a;return n=Math.floor(e/4294967296),a=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(a>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,a;for(n=[],a=0;0<=e?a<e:a>e;a=0<=e?++a:--a)n.push(this.readByte());return n},t.prototype.write=function(e){var n,a,l,s;for(s=[],a=0,l=e.length;a<l;a++)n=e[a],s.push(this.writeByte(n));return s},t})(),KE=(function(){var t;function e(n){var a,l,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},l=0,s=this.tableCount;0<=s?l<s:l>s;l=0<=s?++l:--l)a={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[a.tag]=a}return e.prototype.encode=function(n){var a,l,s,c,d,f,h,y,w,A,m,T,E;for(E in m=Object.keys(n).length,f=Math.log(2),w=16*Math.floor(Math.log(m)/f),c=Math.floor(w/f),y=16*m-w,(l=new Al).writeInt(this.scalarType),l.writeShort(m),l.writeShort(w),l.writeShort(c),l.writeShort(y),s=16*m,h=l.pos+s,d=null,T=[],n)for(A=n[E],l.writeString(E),l.writeInt(t(A)),l.writeInt(h),l.writeInt(A.length),T=T.concat(A),E==="head"&&(d=h),h+=A.length;h%4;)T.push(0),h++;return l.write(T),a=2981146554-t(l.data),l.pos=d+8,l.writeUInt32(a),l.data},t=function(n){var a,l,s,c;for(n=zb.call(n);n.length%4;)n.push(0);for(s=new Al(n),l=0,a=0,c=n.length;a<c;a=a+=4)l+=s.readUInt32();return 4294967295&l},e})(),XE={}.hasOwnProperty,Zs=function(t,e){for(var n in e)XE.call(e,n)&&(t[n]=e[n]);function a(){this.constructor=t}return a.prototype=e.prototype,t.prototype=new a,t.__super__=e.prototype,t};ks=(function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var JE=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Zs(t,ks),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new Al).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t})(),Ey=(function(){function t(e,n){var a,l,s,c,d,f,h,y,w,A,m,T,E,L,R,D,M;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),w=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=e.readByte();break;case 4:for(m=e.readUInt16(),A=m/2,e.pos+=6,s=(function(){var W,ue;for(ue=[],f=W=0;0<=A?W<A:W>A;f=0<=A?++W:--W)ue.push(e.readUInt16());return ue})(),e.pos+=2,E=(function(){var W,ue;for(ue=[],f=W=0;0<=A?W<A:W>A;f=0<=A?++W:--W)ue.push(e.readUInt16());return ue})(),h=(function(){var W,ue;for(ue=[],f=W=0;0<=A?W<A:W>A;f=0<=A?++W:--W)ue.push(e.readUInt16());return ue})(),y=(function(){var W,ue;for(ue=[],f=W=0;0<=A?W<A:W>A;f=0<=A?++W:--W)ue.push(e.readUInt16());return ue})(),l=(this.length-e.pos+this.offset)/2,d=(function(){var W,ue;for(ue=[],f=W=0;0<=l?W<l:W>l;f=0<=l?++W:--W)ue.push(e.readUInt16());return ue})(),f=R=0,M=s.length;R<M;f=++R)for(L=s[f],a=D=T=E[f];T<=L?D<=L:D>=L;a=T<=L?++D:--D)y[f]===0?c=a+h[f]:(c=d[y[f]/2+(a-T)-(A-f)]||0)!==0&&(c+=h[f]),this.codeMap[a]=65535&c}e.pos=w}return t.encode=function(e,n){var a,l,s,c,d,f,h,y,w,A,m,T,E,L,R,D,M,W,ue,ce,Z,ee,q,fe,z,Y,se,oe,Ee,X,de,he,_e,ve,I,k,P,K,ae,V,Q,le,ye,pe,Le,Me;switch(oe=new Al,c=Object.keys(e).sort(function(ie,ke){return ie-ke}),n){case"macroman":for(E=0,L=(function(){var ie=[];for(T=0;T<256;++T)ie.push(0);return ie})(),D={0:0},s={},Ee=0,_e=c.length;Ee<_e;Ee++)D[ye=e[l=c[Ee]]]==null&&(D[ye]=++E),s[l]={old:e[l],new:D[e[l]]},L[l]=D[e[l]];return oe.writeUInt16(1),oe.writeUInt16(0),oe.writeUInt32(12),oe.writeUInt16(0),oe.writeUInt16(262),oe.writeUInt16(0),oe.write(L),{charMap:s,subtable:oe.data,maxGlyphID:E+1};case"unicode":for(Y=[],w=[],M=0,D={},a={},R=h=null,X=0,ve=c.length;X<ve;X++)D[ue=e[l=c[X]]]==null&&(D[ue]=++M),a[l]={old:ue,new:D[ue]},d=D[ue]-l,R!=null&&d===h||(R&&w.push(R),Y.push(l),h=d),R=l;for(R&&w.push(R),w.push(65535),Y.push(65535),fe=2*(q=Y.length),ee=2*Math.pow(Math.log(q)/Math.LN2,2),A=Math.log(ee/2)/Math.LN2,Z=2*q-ee,f=[],ce=[],m=[],T=de=0,I=Y.length;de<I;T=++de){if(z=Y[T],y=w[T],z===65535){f.push(0),ce.push(0);break}if(z-(se=a[z].new)>=32768)for(f.push(0),ce.push(2*(m.length+q-T)),l=he=z;z<=y?he<=y:he>=y;l=z<=y?++he:--he)m.push(a[l].new);else f.push(se-z),ce.push(0)}for(oe.writeUInt16(3),oe.writeUInt16(1),oe.writeUInt32(12),oe.writeUInt16(4),oe.writeUInt16(16+8*q+2*m.length),oe.writeUInt16(0),oe.writeUInt16(fe),oe.writeUInt16(ee),oe.writeUInt16(A),oe.writeUInt16(Z),Q=0,k=w.length;Q<k;Q++)l=w[Q],oe.writeUInt16(l);for(oe.writeUInt16(0),le=0,P=Y.length;le<P;le++)l=Y[le],oe.writeUInt16(l);for(pe=0,K=f.length;pe<K;pe++)d=f[pe],oe.writeUInt16(d);for(Le=0,ae=ce.length;Le<ae;Le++)W=ce[Le],oe.writeUInt16(W);for(Me=0,V=m.length;Me<V;Me++)E=m[Me],oe.writeUInt16(E);return{charMap:a,subtable:oe.data,maxGlyphID:M+1}}},t})(),Bb=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Zs(t,ks),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,a,l;for(e.pos=this.offset,this.version=e.readUInt16(),l=e.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=l?a<l:a>l;a=0<=l?++a:--a)n=new Ey(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var a,l;return n==null&&(n="macroman"),a=Ey.encode(e,n),(l=new Al).writeUInt16(0),l.writeUInt16(1),a.table=l.data.concat(a.subtable),a},t})(),ZE=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Zs(t,ks),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),QE=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Zs(t,ks),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var n,a;for(a=[],n=0;n<10;++n)a.push(e.readByte());return a})(),this.charRange=(function(){var n,a;for(a=[],n=0;n<4;++n)a.push(e.readInt());return a})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(e.readInt());return a})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),e7=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Zs(t,ks),t.prototype.tag="post",t.prototype.parse=function(e){var n,a,l;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(a=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],l=[];e.pos<this.offset+this.length;)n=e.readByte(),l.push(this.names.push(e.readString(n)));return l;case 151552:return a=e.readUInt16(),this.offsets=e.read(a);case 262144:return this.map=(function(){var c,d,f;for(f=[],s=c=0,d=this.file.maxp.numGlyphs;0<=d?c<d:c>d;s=0<=d?++c:--c)f.push(e.readUInt32());return f}).call(this)}},t})(),t7=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},n7=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Zs(t,ks),t.prototype.tag="name",t.prototype.parse=function(e){var n,a,l,s,c,d,f,h,y,w,A;for(e.pos=this.offset,e.readShort(),n=e.readShort(),d=e.readShort(),a=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)a.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+d+e.readShort()});for(f={},s=y=0,w=a.length;y<w;s=++y)l=a[s],e.pos=l.offset,h=e.readString(l.length),c=new t7(h,l),f[A=l.nameID]==null&&(f[A]=[]),f[l.nameID].push(c);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},t})(),r7=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Zs(t,ks),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),i7=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Zs(t,ks),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,a,l,s,c,d,f;for(e.pos=this.offset,this.metrics=[],n=0,d=this.file.hhea.numberOfMetrics;0<=d?n<d:n>d;n=0<=d?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(l=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var h,y;for(y=[],n=h=0;0<=l?h<l:h>l;n=0<=l?++h:--h)y.push(e.readInt16());return y})(),this.widths=(function(){var h,y,w,A;for(A=[],h=0,y=(w=this.metrics).length;h<y;h++)s=w[h],A.push(s.advance);return A}).call(this),a=this.widths[this.widths.length-1],f=[],n=c=0;0<=l?c<l:c>l;n=0<=l?++c:--c)f.push(this.widths.push(a));return f},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),zb=[].slice,a7=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Zs(t,ks),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,a,l,s,c,d,f,h,y,w;return e in this.cache?this.cache[e]:(s=this.file.loca,n=this.file.contents,a=s.indexOf(e),(l=s.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+a,c=(d=new Al(n.read(l))).readShort(),h=d.readShort(),w=d.readShort(),f=d.readShort(),y=d.readShort(),this.cache[e]=c===-1?new o7(d,h,w,f,y):new s7(d,c,h,w,f,y),this.cache[e]))},t.prototype.encode=function(e,n,a){var l,s,c,d,f;for(c=[],s=[],d=0,f=n.length;d<f;d++)l=e[n[d]],s.push(c.length),l&&(c=c.concat(l.encode(a)));return s.push(c.length),{table:c,offsets:s}},t})(),s7=(function(){function t(e,n,a,l,s,c){this.raw=e,this.numberOfContours=n,this.xMin=a,this.yMin=l,this.xMax=s,this.yMax=c,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),o7=(function(){function t(e,n,a,l,s){var c,d;for(this.raw=e,this.xMin=n,this.yMin=a,this.xMax=l,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;d=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&d;)c.pos+=1&d?4:2,128&d?c.pos+=8:64&d?c.pos+=4:8&d&&(c.pos+=2)}return t.prototype.encode=function(){var e,n,a;for(n=new Al(zb.call(this.raw.data)),e=0,a=this.glyphIDs.length;e<a;++e)n.pos=this.glyphOffsets[e];return n.data},t})(),l7=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Zs(t,ks),t.prototype.tag="loca",t.prototype.parse=function(e){var n,a;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var l,s;for(s=[],a=0,l=this.length;a<l;a+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var l,s;for(s=[],a=0,l=this.length;a<l;a+=4)s.push(e.readUInt32());return s}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var a=new Uint32Array(this.offsets.length),l=0,s=0,c=0;c<a.length;++c)if(a[c]=l,s<n.length&&n[s]==c){++s,a[c]=l;var d=this.offsets[c],f=this.offsets[c+1]-d;f>0&&(l+=f)}for(var h=new Array(4*a.length),y=0;y<a.length;++y)h[4*y+3]=255&a[y],h[4*y+2]=(65280&a[y])>>8,h[4*y+1]=(16711680&a[y])>>16,h[4*y]=(4278190080&a[y])>>24;return h},t})(),u7=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,a,l,s;for(n in l=this.font.cmap.tables[0].codeMap,e={},s=this.subset)a=s[n],e[n]=l[a];return e},t.prototype.glyphsFor=function(e){var n,a,l,s,c,d,f;for(l={},c=0,d=e.length;c<d;c++)l[s=e[c]]=this.font.glyf.glyphFor(s);for(s in n=[],l)(a=l[s])!=null&&a.compound&&n.push.apply(n,a.glyphIDs);if(n.length>0)for(s in f=this.glyphsFor(n))a=f[s],l[s]=a;return l},t.prototype.encode=function(e,n){var a,l,s,c,d,f,h,y,w,A,m,T,E,L,R;for(l in a=Bb.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(e),m={0:0},R=a.charMap)m[(f=R[l]).old]=f.new;for(T in A=a.maxGlyphID,c)T in m||(m[T]=A++);return y=(function(D){var M,W;for(M in W={},D)W[D[M]]=M;return W})(m),w=Object.keys(y).sort(function(D,M){return D-M}),E=(function(){var D,M,W;for(W=[],D=0,M=w.length;D<M;D++)d=w[D],W.push(y[d]);return W})(),s=this.font.glyf.encode(c,E,m),h=this.font.loca.encode(s.offsets,E),L={cmap:this.font.cmap.raw(),glyf:s.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(L["OS/2"]=this.font.os2.raw()),this.font.directory.encode(L)},t})();St.API.PDFObject=(function(){var t;function e(){}return t=function(n,a){return(Array(a+1).join("0")+n).slice(-a)},e.convert=function(n){var a,l,s,c;if(Array.isArray(n))return"["+(function(){var d,f,h;for(h=[],d=0,f=n.length;d<f;d++)a=n[d],h.push(e.convert(a));return h})().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n?.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(l in s=["<<"],n)c=n[l],s.push("/"+l+" "+e.convert(c));return s.push(">>"),s.join(`
`)}return""+n},e})();function c7(){const{business:t}=zo(),[e,n]=B.useState("pending"),[a,l]=B.useState(!1),[s,c]=B.useState([]),[d,f]=B.useState(!1),[h,y]=B.useState(!0),[w,A]=B.useState(null),[m,T]=B.useState(""),{orders:E,loading:L,error:R}=y8(t?.id,{status:"completed",orderBy:"completed_at",ascending:!1}),D=(V=new Date)=>new Date(V.toLocaleString("en-US",{timeZone:"Europe/Istanbul"})),M=()=>{const V=new Date(new Date().toLocaleString("en-US",{timeZone:"Europe/Istanbul"})),Q=V.getFullYear(),le=String(V.getMonth()+1).padStart(2,"0"),ye=String(V.getDate()).padStart(2,"0");return`${Q}-${le}-${ye}`},W=V=>V?new Date(V).toLocaleString("tr-TR",{timeZone:"Europe/Istanbul",day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"}):"",ue=async()=>{if(t?.id)try{const V=new Date(new Date().toLocaleString("en-US",{timeZone:"Europe/Istanbul"})),Q=V.getFullYear(),le=V.getMonth(),ye=V.getDate(),pe=M(),Le=new Date(Q,le,ye,0,0,0,0),Me=new Date(Q,le,ye,23,59,59,999),{data:ie,error:ke}=await st.from("payments").select(`
          order_id,
          payment_date,
          orders!inner (
            *,
            order_items (
              id,
              product_name,
              product_price,
              quantity,
              subtotal
            )
          )
        `).eq("business_id",t.id).gte("payment_date",Le.toISOString()).lt("payment_date",Me.toISOString());if(ke)throw ke;const et=(ie?.map(Qe=>Qe.orders).filter(Qe=>Qe&&Qe.status==="completed")||[]||[]).sort((Qe,it)=>{const tt=Qe.completed_at?new Date(Qe.completed_at).getTime():0,pt=it.completed_at?new Date(it.completed_at).getTime():0;return tt-pt}),Je=et.reduce((Qe,it)=>{const tt=parseFloat(it.total_amount||0);return isNaN(tt)?(console.warn("Invalid total_amount for order:",it.id,it.total_amount),Qe):Qe+tt},0),De=et.length;console.log("UpdateTodayReport - Total Orders:",De,"Total Amount:",Je),console.log("UpdateTodayReport - Paid Orders:",et.map(Qe=>({id:Qe.id.slice(0,8),total_amount:Qe.total_amount})));const Ke=new Date(Q,le,ye);let $e=`GN SONU RAPORU
${t?.name||"letme"}
Tarih: ${Ke.toLocaleDateString("tr-TR")}

---------------------------------------

TOPLAM SPAR: ${De} adet
TOPLAM TUTAR: ${Je.toFixed(2)} TL

---------------------------------------

SPAR DETAYLARI:

`;et.length>0?et.forEach((Qe,it)=>{$e+=`${it+1}. Sipari #${Qe.id.slice(0,8)}
   Masa: ${Qe.table_number||"N/A"}
   Tarih: ${W(Qe.completed_at)}
   Tutar: ${parseFloat(Qe.total_amount).toFixed(2)} TL
   
   rnler:
`,Qe.order_items?.forEach(tt=>{$e+=`   - ${tt.product_name}  ${tt.quantity} = ${parseFloat(tt.subtotal).toFixed(2)} TL
`}),it<et.length-1?$e+=`
---------------------------------------

`:$e+=`
`}):$e+=`Henz denmi sipari yok.
`;const{data:Ye}=await st.from("daily_reports").select("*").eq("business_id",t.id).eq("report_date",pe).single();let at=null,ot=null;if(Ye){at=Ye.id,ot=Ye.created_at;const{error:Qe}=await st.from("daily_reports").update({report_data:{orders:et,summary:{total_orders:De,total_amount:Je}},total_orders:De,total_amount:Je,report_text:$e}).eq("id",Ye.id);if(Qe)throw console.error("Error updating daily report:",Qe),Qe;console.log("Daily report updated successfully - Total Amount:",Je)}else{const{data:Qe,error:it}=await st.from("daily_reports").insert({business_id:t.id,report_date:pe,report_data:{orders:et,summary:{total_orders:De,total_amount:Je}},total_orders:De,total_amount:Je,report_text:$e}).select().single();if(it)throw console.error("Error inserting daily report:",it),it;at=Qe.id,ot=Qe.created_at,console.log("Daily report created successfully - Total Amount:",Je)}}catch(V){console.error("Update today report error:",V)}};B.useEffect(()=>{if(!t?.id)return;const V=st.channel(`payments:${t.id}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"orders",filter:`business_id=eq.${t.id}`},async Q=>{console.log(" Order updated in Supabase:",Q.new.id,"payment_status:",Q.new.payment_status);const{data:le,error:ye}=await st.from("orders").select(`
              *,
              order_items (
                id,
                product_name,
                product_price,
                quantity,
                notes,
                subtotal
              )
            `).eq("id",Q.new.id).single();if(ye||!le){console.error("Error fetching order with items:",ye);return}Q.new.payment_status==="paid"?(Z(pe=>pe.find(Me=>Me.id===le.id)?pe.map(Me=>Me.id===le.id?le:Me):[le,...pe]),q(pe=>pe.filter(Le=>Le.id!==le.id))):Q.new.payment_status==="pending"&&(q(pe=>pe.find(Me=>Me.id===le.id)?pe.map(Me=>Me.id===le.id?le:Me):[le,...pe]),Z(pe=>pe.filter(Le=>Le.id!==le.id))),Q.new.payment_status==="paid"&&Q.old.payment_status!=="paid"&&ue()}).on("postgres_changes",{event:"DELETE",schema:"public",table:"orders",filter:`business_id=eq.${t.id}`},Q=>{console.log(" Order deleted from Supabase (Realtime):",Q.old.id),console.log(" Deleted order details:",Q.old),Z(le=>{const ye=le.filter(pe=>pe.id!==Q.old.id);return console.log(` Paid orders: ${le.length}  ${ye.length}`),ye}),q(le=>{const ye=le.filter(pe=>pe.id!==Q.old.id);return console.log(` Pending orders: ${le.length}  ${ye.length}`),ye}),ue()}).on("postgres_changes",{event:"INSERT",schema:"public",table:"payments",filter:`business_id=eq.${t.id}`},async Q=>{console.log(" New payment added:",Q.new.order_id);const{data:le,error:ye}=await st.from("orders").select(`
              *,
              order_items (
                id,
                product_name,
                product_price,
                quantity,
                notes,
                subtotal
              )
            `).eq("id",Q.new.order_id).single();le&&!ye&&le.status==="completed"&&(Z(pe=>pe.find(Me=>Me.id===le.id)?pe:[le,...pe]),q(pe=>pe.filter(Le=>Le.id!==le.id)),ue())}).on("postgres_changes",{event:"DELETE",schema:"public",table:"payments",filter:`business_id=eq.${t.id}`},Q=>{console.log(" Payment deleted:",Q.old.order_id),Z(le=>le.filter(ye=>ye.id!==Q.old.order_id)),ue()}).on("postgres_changes",{event:"*",schema:"public",table:"daily_reports",filter:`business_id=eq.${t.id}`},async Q=>{console.log(" Daily report changed (Realtime):",Q.eventType,Q.new?.report_date||Q.old?.report_date);try{const le=D(),ye=new Date(le);ye.setDate(ye.getDate()-30);const pe=`${ye.getFullYear()}-${String(ye.getMonth()+1).padStart(2,"0")}-${String(ye.getDate()).padStart(2,"0")}`,{data:Le,error:Me}=await st.from("daily_reports").select("*").eq("business_id",t.id).gte("report_date",pe).order("report_date",{ascending:!1});if(Me)throw Me;const ie=(Le||[]).filter(ke=>ke.report_date&&ke.id);c(ie),console.log(" Daily reports state updated (Realtime):",ie.length,"reports")}catch(le){console.error("Load reports error (Realtime):",le)}}).subscribe();return()=>{st.removeChannel(V)}},[t?.id]),B.useEffect(()=>{if(!t?.id){f(!1),y(!1);return}if(!h)return;(async()=>{try{f(!0),await ue();const Q=D(),le=new Date(Q);le.setDate(le.getDate()-30);const ye=`${le.getFullYear()}-${String(le.getMonth()+1).padStart(2,"0")}-${String(le.getDate()).padStart(2,"0")}`,{data:pe,error:Le}=await st.from("daily_reports").select("*").eq("business_id",t.id).gte("report_date",ye).order("report_date",{ascending:!1});if(Le)throw Le;const Me=(pe||[]).filter(ie=>ie.report_date&&ie.id);c(Me)}catch(Q){console.error("Load reports error:",Q),c([])}finally{f(!1),y(!1)}})()},[t?.id,h]);const[ce,Z]=B.useState([]),[ee,q]=B.useState([]),[fe,z]=B.useState(!0),[Y,se]=B.useState(!0);B.useEffect(()=>{if(!t?.id){z(!1);return}const V=async()=>{try{console.log(" Fetching PAID orders from payments table...");const{data:le,error:ye}=await st.from("payments").select(`
            order_id,
            orders!inner (
              *,
              order_items (
                id,
                product_name,
                product_price,
                quantity,
                notes,
                subtotal
              )
            )
          `).eq("business_id",t.id).order("payment_date",{ascending:!1});if(ye)throw ye;const pe=le?.map(Le=>Le.orders).filter(Le=>Le&&Le.status==="completed")||[];console.log(" PAID Orders fetched from payments table:",pe.length,"orders"),console.log(" PAID Order IDs:",pe.map(Le=>Le.id.slice(0,8))||[]),console.log(" Payments count:",le?.length||0),Z(pe)}catch(le){console.error(" Fetch PAID orders error:",le),Z([])}},Q=async()=>{try{console.log(" Fetching PENDING orders from Supabase...");const{data:le,error:ye}=await st.from("orders").select(`
            *,
            order_items (
              id,
              product_name,
              product_price,
              quantity,
              notes,
              subtotal
            )
          `).eq("business_id",t.id).eq("status","completed").eq("payment_status","pending").order("completed_at",{ascending:!1});if(ye)throw ye;console.log(" PENDING Orders fetched from Supabase:",le?.length||0,"orders"),console.log(" PENDING Order IDs:",le?.map(pe=>pe.id.slice(0,8))||[]),q(le||[])}catch(le){console.error(" Fetch PENDING orders error:",le),q([])}};Promise.all([V(),Q()]).finally(()=>{z(!1),se(!1)})},[t?.id]);const oe=e==="paid"?ce:e==="pending"?ee:E;B.useEffect(()=>{(e==="paid"||e==="pending")&&console.log(" Debug ordersToUse:",{selectedTab:e,isInitialLoad:Y,loadingOrders:fe,paidOrdersFromSupabaseCount:ce.length,pendingOrdersFromSupabaseCount:ee.length,allOrdersCount:E.length,ordersToUseCount:oe.length,ordersToUseIDs:oe.map(V=>V.id.slice(0,8))})},[e,Y,fe,ce,ee,E,oe]);const Ee=ee,X=ce,de=e==="pending"?Ee:e==="paid"?X:[];B.useEffect(()=>{const V=()=>{l(window.innerWidth<768)};return V(),window.addEventListener("resize",V),()=>window.removeEventListener("resize",V)},[]),B.useEffect(()=>{const V=()=>{const ye=new Date().toLocaleString("tr-TR",{timeZone:"Europe/Istanbul",day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"});T(ye)};V();const Q=setInterval(V,1e3);return()=>clearInterval(Q)},[]),B.useEffect(()=>{const V=Q=>{w&&!Q.target.closest("[data-report-menu]")&&A(null)};return document.addEventListener("click",V),()=>document.removeEventListener("click",V)},[w]);const he=async(V,Q)=>{try{const{data:le,error:ye}=await st.from("payments").insert({order_id:V,business_id:t.id,amount:Q,payment_method:"cash",payment_date:new Date().toISOString()}).select().single();if(ye)throw ye;const{error:pe}=await st.from("orders").update({payment_status:"paid",updated_at:new Date().toISOString()}).eq("id",V);if(pe)throw pe;let Le=0,Me=!1;for(;Le<5&&!Me;){await new Promise(ke=>setTimeout(ke,200));const{data:ie}=await st.from("orders").select("payment_status").eq("id",V).single();ie&&ie.payment_status==="paid"?Me=!0:Le++}await ue(),alert(" deme baaryla kaydedildi!")}catch(le){console.error("Payment error:",le),alert(" deme kaydedilirken hata olutu: "+le.message)}},_e=V=>V?new Date(V).toLocaleDateString("tr-TR",{timeZone:"Europe/Istanbul",day:"numeric",month:"long",year:"numeric"}):"",ve=V=>{if(!V)return"";const Q=new Date(V),le=Q.toLocaleDateString("tr-TR",{timeZone:"Europe/Istanbul",day:"2-digit"}),ye=Q.toLocaleDateString("tr-TR",{timeZone:"Europe/Istanbul",month:"2-digit"}),pe=Q.toLocaleDateString("tr-TR",{timeZone:"Europe/Istanbul",year:"numeric"});return`${le}.${ye}.${pe}`},I=V=>V?V.replace(//g,"s").replace(//g,"S").replace(//g,"g").replace(//g,"G").replace(//g,"u").replace(//g,"U").replace(//g,"o").replace(//g,"O").replace(//g,"c").replace(//g,"C").replace(//g,"i").replace(//g,"I").replace(//g,"TL"):"",k=async(V,Q,le,ye)=>{const pe=new St,Le=pe.internal.pageSize.width,Me=Le/2;let ie=20;if(t?.logo_url)try{const Qe=new Image;Qe.crossOrigin="anonymous",await new Promise(it=>{const tt=setTimeout(()=>{console.warn("Logo ykleme zaman am"),it()},5e3);Qe.onload=()=>{clearTimeout(tt);try{const Ze=Qe.width/Qe.height,At=Math.min(40,Qe.height),nt=At*Ze,cn=Me-nt/2;let xt="PNG";t.logo_url.toLowerCase().includes(".jpg")||t.logo_url.toLowerCase().includes(".jpeg")?xt="JPEG":t.logo_url.toLowerCase().includes(".png")&&(xt="PNG"),pe.addImage(Qe,xt,cn,ie,nt,At),ie+=At+10,it()}catch(pt){console.warn("Logo PDF'e eklenemedi:",pt),clearTimeout(tt),it()}},Qe.onerror=()=>{clearTimeout(tt),console.warn("Logo yklenemedi"),it()},Qe.src=t.logo_url})}catch(Qe){console.warn("Logo ileme hatas:",Qe)}pe.setFontSize(18),pe.setFont("helvetica","bold");const ke=I("GN SONU RAPORU");pe.text(ke,Me,ie,{align:"center"}),ie+=10,pe.setFontSize(14),pe.setFont("helvetica","normal");const $=I(t?.name||"letme");pe.text($,Me,ie,{align:"center"}),ie+=8,pe.setFontSize(12);const ze=`Tarih: ${Q}`;pe.text(ze,Me,ie,{align:"center"}),ie+=10,pe.setLineWidth(.5),pe.line(20,ie,Le-20,ie),ie+=10,pe.setFontSize(12),pe.setFont("helvetica","bold");const et=I(`TOPLAM SPAR: ${le} adet`);pe.text(et,20,ie),ie+=8;const Je=I(`TOPLAM TUTAR: ${parseFloat(ye||0).toFixed(2)} TL`);pe.text(Je,20,ie),ie+=10,pe.line(20,ie,Le-20,ie),ie+=10,pe.setFontSize(10),pe.setFont("helvetica","normal");const Ke=V.replace(/%P+/g,"").replace(/%[A-Z0-9]+/g,"").replace(/+/g,"-").replace(/S0PAR0\^/g,"SPAR").replace(/SOPAR0\^/g,"SPAR").replace(/SOPAR/g,"SPAR").replace(/SPAR/g,"SPAR").replace(//g,"").replace(//g,"").replace(/\u00B0/g,"").replace(/\u00BA/g,"").replace(/\u00A0/g," ").split(`
`),$e=pe.internal.pageSize.height,at=Le-20*2;Ke.forEach(Qe=>{if(ie>$e-20&&(pe.addPage(),ie=20),Qe.trim()===""){ie+=4;return}let it=Qe.replace(/%P+/g,"").replace(/%[A-Z0-9]+/g,"").replace(/+/g,"-").replace(/S0PAR0\^/g,"SPAR").replace(/SOPAR0\^/g,"SPAR").replace(//g,"").replace(//g,"").replace(/\u00B0/g,"").replace(/\u00BA/g,"").replace(/\u00A0/g," ");try{pe.splitTextToSize(it,at).forEach(pt=>{ie>$e-20&&(pe.addPage(),ie=20);const Ze=I(pt);pe.text(Ze,20,ie),ie+=6})}catch(tt){console.warn("Satr eklenemedi:",Qe.substring(0,50),tt)}});const ot=Q.replace(/\s+/g,"-").replace(/[^a-zA-Z0-9-]/g,"");pe.save(`gun-sonu-raporu-${ot}.pdf`)},P=async(V,Q="txt")=>{try{if(Q==="pdf"){const le=ve(V.report_date);await k(V.report_text||"",le,V.total_orders||0,V.total_amount||0)}else{const ye="\uFEFF"+(V.report_text||""),pe=new Blob([ye],{type:"text/plain;charset=utf-8"}),Le=URL.createObjectURL(pe),Me=document.createElement("a");Me.href=Le,Me.download=`gun-sonu-raporu-${V.report_date}.txt`,document.body.appendChild(Me),Me.click(),document.body.removeChild(Me),URL.revokeObjectURL(Le)}}catch(le){console.error("Download error:",le),alert(" Rapor indirilirken hata olutu: "+le.message)}};if(L)return _.jsx(_a,{children:_.jsx(Fa,{message:"demeler ykleniyor..."})});if(R)return _.jsx(_a,{children:_.jsx("div",{style:{background:"white",padding:"2rem",borderRadius:"8px",textAlign:"center",color:"#ef4444"},children:_.jsxs("p",{children:[" Hata: ",R]})})});const K=Ee.reduce((V,Q)=>V+parseFloat(Q.total_amount||0),0),ae=X.reduce((V,Q)=>V+parseFloat(Q.total_amount||0),0);return _.jsx(_a,{children:_.jsxs("div",{children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:a?"1.5rem":"2rem",flexWrap:"wrap",gap:"1rem"},children:[_.jsx("h1",{style:{margin:0,fontSize:a?"1.5rem":"2rem",color:"#1e293b"},children:" demeler"}),_.jsx("div",{style:{display:"flex",gap:"0.75rem",alignItems:"center",flexWrap:"wrap"},children:m&&_.jsxs("div",{style:{padding:"0.5rem 1rem",background:"linear-gradient(135deg, #0f172a 0%, #1e293b 100%)",borderRadius:"8px",color:"white",fontSize:a?"0.75rem":"0.875rem",fontWeight:"500",boxShadow:"0 2px 4px rgba(15, 23, 42, 0.3)",border:"1px solid #334155"},children:[" ",m]})})]}),_.jsxs("div",{style:{display:"grid",gridTemplateColumns:a?"1fr":"repeat(2, 1fr)",gap:"1rem",marginBottom:"2rem"},children:[_.jsxs("div",{style:{background:"white",padding:"1.5rem",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",borderLeft:"4px solid #f59e0b"},children:[_.jsx("p",{style:{margin:0,color:"#64748b",fontSize:"0.875rem"},children:"deme Yaplacak"}),_.jsxs("p",{style:{margin:"0.5rem 0 0 0",fontSize:"1.5rem",fontWeight:"bold",color:"#1e293b"},children:[Ee.length," sipari"]}),_.jsxs("p",{style:{margin:"0.25rem 0 0 0",fontSize:"1.25rem",fontWeight:"600",color:"#f59e0b"},children:["",K.toFixed(2)]})]}),_.jsxs("div",{style:{background:"white",padding:"1.5rem",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",borderLeft:"4px solid #10b981"},children:[_.jsx("p",{style:{margin:0,color:"#64748b",fontSize:"0.875rem"},children:"dendi"}),_.jsxs("p",{style:{margin:"0.5rem 0 0 0",fontSize:"1.5rem",fontWeight:"bold",color:"#1e293b"},children:[X.length," sipari"]}),_.jsxs("p",{style:{margin:"0.25rem 0 0 0",fontSize:"1.25rem",fontWeight:"600",color:"#10b981"},children:["",ae.toFixed(2)]})]})]}),_.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1.5rem",borderBottom:"2px solid #e2e8f0"},children:[_.jsxs("button",{onClick:()=>n("pending"),style:{background:e==="pending"?"#f59e0b":"transparent",color:e==="pending"?"white":"#64748b",border:"none",padding:"0.75rem 1.5rem",fontSize:"1rem",fontWeight:"600",cursor:"pointer",borderBottom:e==="pending"?"3px solid #f59e0b":"3px solid transparent",transition:"all 0.2s"},children:[" deme Yaplacak (",Ee.length,")"]}),_.jsxs("button",{onClick:()=>n("paid"),style:{background:e==="paid"?"#10b981":"transparent",color:e==="paid"?"white":"#64748b",border:"none",padding:"0.75rem 1.5rem",fontSize:"1rem",fontWeight:"600",cursor:"pointer",borderBottom:e==="paid"?"3px solid #10b981":"3px solid transparent",transition:"all 0.2s"},children:[" dendi (",X.length,")"]}),_.jsx("button",{onClick:()=>n("history"),style:{background:e==="history"?"linear-gradient(135deg, #6366f1 0%, #312e81 100%)":"transparent",color:e==="history"?"white":"#64748b",border:"none",padding:"0.75rem 1.5rem",fontSize:"1rem",fontWeight:"600",cursor:"pointer",borderBottom:e==="history"?"3px solid #6366f1":"3px solid transparent",transition:"all 0.2s"},children:" Gemi Kaytlar"})]}),(e==="pending"||e==="paid")&&(fe&&Y?_.jsx(Fa,{message:"Sipariler ykleniyor..."}):de.length===0?_.jsx("div",{style:{background:"white",padding:"3rem",borderRadius:"8px",textAlign:"center",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:_.jsx("p",{style:{color:"#64748b",fontSize:a?"1rem":"1.125rem"},children:e==="pending"?" Henz deme bekleyen sipari yok":" Henz denmi sipari yok"})}):_.jsx("div",{style:{display:"grid",gridTemplateColumns:a?"1fr":"repeat(auto-fill, minmax(350px, 1fr))",gap:a?"1rem":"1.5rem"},children:de.map(V=>_.jsx(d7,{order:V,isMobile:a,formatDate:W,markAsPaid:he,isPaid:e==="paid"},V.id))})),e==="history"&&(d&&h?_.jsx(Fa,{message:"Gemi kaytlar ykleniyor..."}):s.length===0?_.jsx("div",{style:{background:"white",padding:"3rem",borderRadius:"8px",textAlign:"center",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:_.jsx("p",{style:{color:"#64748b",fontSize:a?"1rem":"1.125rem"},children:" Henz gemi kayt yok"})}):_.jsx("div",{style:{display:"grid",gridTemplateColumns:a?"1fr":"repeat(auto-fill, minmax(400px, 1fr))",gap:a?"1rem":"1.5rem"},children:s.map(V=>_.jsxs("div",{style:{padding:a?"1rem":"1.5rem",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",borderLeft:"4px solid #6366f1",background:"linear-gradient(135deg, #ffffff 0%, #faf5ff 100%)"},children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[_.jsxs("div",{children:[_.jsxs("h3",{style:{margin:0,fontSize:a?"1.125rem":"1.25rem",color:"#1e293b"},children:[" ",_e(V.report_date)]}),_.jsxs("p",{style:{margin:"0.5rem 0 0 0",color:"#64748b",fontSize:a?"0.75rem":"0.875rem"},children:[V.total_orders," sipari"]})]}),_.jsxs("div",{style:{fontSize:a?"1.25rem":"1.5rem",fontWeight:"bold",background:"linear-gradient(135deg, #6366f1 0%, #312e81 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:["",parseFloat(V.total_amount).toFixed(2)]})]}),_.jsxs("div",{style:{position:"relative",width:"100%"},"data-report-menu":!0,children:[_.jsxs("button",{onClick:Q=>{Q.stopPropagation(),A(w===V.id?null:V.id)},style:{width:"100%",background:"linear-gradient(135deg, #6366f1 0%, #312e81 100%)",color:"white",border:"none",borderRadius:"8px",padding:"0.75rem",fontSize:a?"0.875rem":"1rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},onMouseEnter:Q=>{Q.currentTarget.style.background="linear-gradient(135deg, #4f46e5 0%, #1e1b4b 100%)",Q.currentTarget.style.transform="translateY(-1px)",Q.currentTarget.style.boxShadow="0 4px 12px rgba(99, 102, 241, 0.4)"},onMouseLeave:Q=>{Q.currentTarget.style.background="linear-gradient(135deg, #6366f1 0%, #312e81 100%)",Q.currentTarget.style.transform="translateY(0)",Q.currentTarget.style.boxShadow="none"},children:[" Raporu ndir",_.jsx("span",{style:{fontSize:"0.75rem"},children:""})]}),w===V.id&&_.jsxs("div",{style:{position:"absolute",top:"100%",left:0,right:0,marginTop:"0.5rem",borderRadius:"8px",border:"2px solid #6366f1",background:"linear-gradient(135deg, #ffffff 0%, #faf5ff 100%)",boxShadow:"0 8px 16px rgba(99, 102, 241, 0.15), 0 2px 4px rgba(0,0,0,0.1)",zIndex:1e3,overflow:"hidden"},children:[_.jsx("button",{onClick:Q=>{Q.stopPropagation(),P(V,"pdf"),A(null)},style:{width:"100%",padding:"0.875rem 1rem",border:"none",background:"#ffffff",textAlign:"left",cursor:"pointer",fontSize:"0.875rem",color:"#1e293b",display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.2s",fontWeight:"500"},onMouseEnter:Q=>{Q.currentTarget.style.background="linear-gradient(135deg, #6366f1 0%, #312e81 100%)",Q.currentTarget.style.color="white"},onMouseLeave:Q=>{Q.currentTarget.style.background="#ffffff",Q.currentTarget.style.color="#1e293b"},children:" PDF Olarak ndir"}),_.jsx("div",{style:{height:"1px",background:"#e2e8f0",margin:"0.25rem 0"}}),_.jsx("button",{onClick:Q=>{Q.stopPropagation(),P(V,"txt"),A(null)},style:{width:"100%",padding:"0.875rem 1rem",border:"none",background:"#ffffff",textAlign:"left",cursor:"pointer",fontSize:"0.875rem",color:"#1e293b",display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.2s",fontWeight:"500"},onMouseEnter:Q=>{Q.currentTarget.style.background="linear-gradient(135deg, #6366f1 0%, #312e81 100%)",Q.currentTarget.style.color="white"},onMouseLeave:Q=>{Q.currentTarget.style.background="#ffffff",Q.currentTarget.style.color="#1e293b"},children:" TXT Olarak ndir"})]})]})]},V.id))}))]})})}function d7({order:t,isMobile:e,formatDate:n,markAsPaid:a,isPaid:l}){const[s,c]=B.useState(!1),d=t.order_items?.slice(0,3)||[],f=t.order_items?.slice(3)||[],h=f.length>0,y=()=>l?"#f5fef7":"#fffef7",w=()=>l?"#10b981":"#f59e0b",A=m=>{if(!m)return"";const T=new Date(m),E=String(T.getDate()).padStart(2,"0"),L=String(T.getMonth()+1).padStart(2,"0"),R=T.getFullYear(),D=String(T.getHours()).padStart(2,"0"),M=String(T.getMinutes()).padStart(2,"0");if(l)return`${E}/${L}/${R} ${D}.${M}`;const ue=new Date-T,ce=Math.floor(ue/6e4),Z=Math.floor(ue/36e5),ee=Math.floor(ue/864e5);let q="";return ce<1?q="az nce":ce<60?q=`${ce} dakika nce`:Z<24?q=`${Z} saat nce`:ee<7?q=`${ee} gn nce`:q="",`${E}/${L}/${R} ${D}.${M}${q?` (${q})`:""}`};return _.jsxs("div",{style:{background:y(),padding:e?"1rem":"1.5rem",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",borderLeft:`4px solid ${w()}`},children:[_.jsx("div",{style:{display:"flex",flexDirection:e?"column":"row",justifyContent:"space-between",alignItems:e?"flex-start":"center",marginBottom:"1rem",gap:e?"0.75rem":0},children:_.jsxs("div",{style:{flex:1},children:[_.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",flexWrap:"wrap"},children:_.jsxs("h3",{style:{margin:0,fontSize:e?"1.125rem":"1.25rem",color:"#1e293b"},children:[" Sipari #",t.id.slice(0,8)]})}),_.jsxs("p",{style:{margin:"0.5rem 0 0 0",color:"#64748b",fontSize:e?"0.75rem":"0.875rem"},children:[" ",A(t.completed_at||t.created_at)]}),t.table_number&&_.jsxs("div",{style:{marginTop:"0.5rem",display:"inline-block",padding:"0.25rem 0.75rem",background:"linear-gradient(135deg, #9333ea 0%, #7c3aed 100%)",color:"white",borderRadius:"6px",fontSize:e?"0.75rem":"0.8125rem",fontWeight:"600",boxShadow:"0 2px 6px rgba(147, 51, 234, 0.4)"},children:[" Masa ",t.table_number]}),_.jsxs("div",{style:{marginTop:"0.75rem"},children:[_.jsx("div",{style:{fontSize:e?"0.75rem":"0.8125rem",color:"#1e293b",marginBottom:"0.25rem",fontWeight:"600"},children:"Toplam:"}),_.jsx("div",{style:{fontSize:e?"2rem":"2.5rem",fontWeight:"800",letterSpacing:"0.5px",display:"inline-block",padding:"0.5rem 1rem",borderRadius:"8px",boxShadow:"0 4px 12px rgba(30, 41, 59, 0.25), 0 0 20px rgba(30, 41, 59, 0.15)",border:"2px solid rgba(30, 41, 59, 0.3)",background:"linear-gradient(135deg, rgba(30, 41, 59, 0.1) 0%, rgba(15, 23, 42, 0.05) 100%)"},children:_.jsxs("span",{style:{color:"#1e293b",fontWeight:"800",textShadow:"0 2px 8px rgba(30, 41, 59, 0.3)"},children:["",parseFloat(t.total_amount).toFixed(2)]})})]})]})}),t.order_items&&t.order_items.length>0&&_.jsxs("div",{style:{marginBottom:"1rem",padding:e?"1rem":"1.25rem",background:"#f8fafc",borderRadius:"8px",border:"1px solid #e2e8f0"},children:[d.map((m,T)=>_.jsxs("div",{style:{padding:T<d.length-1||h?"0.75rem 0":"0.75rem 0 0 0",borderBottom:T<d.length-1||h?"1px solid #cbd5e1":"none"},children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"1rem"},children:[_.jsxs("div",{style:{flex:1},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.25rem"},children:[_.jsxs("span",{style:{fontSize:e?"0.875rem":"0.9375rem",fontWeight:"600",color:"#64748b",minWidth:"1.5rem",textAlign:"center"},children:[m.quantity,""]}),_.jsx("span",{style:{fontSize:e?"0.875rem":"0.9375rem",fontWeight:"500",color:"#64748b",flex:1},children:m.product_name})]}),_.jsxs("div",{style:{marginLeft:e?"2rem":"2.25rem",fontSize:e?"0.6875rem":"0.75rem",color:"#94a3b8"},children:["",parseFloat(m.product_price).toFixed(2),"  ",m.quantity]})]}),_.jsx("div",{style:{textAlign:"right",minWidth:"5rem"},children:_.jsxs("div",{style:{fontSize:e?"1rem":"1.125rem",fontWeight:"700",color:"#1e293b",letterSpacing:"0.3px"},children:["",parseFloat(m.subtotal).toFixed(2)]})})]}),m.notes&&_.jsx("div",{style:{marginTop:"0.5rem",padding:"0.375rem 0.75rem",background:"#fef3c7",borderRadius:"4px",borderLeft:"3px solid #f59e0b"},children:_.jsxs("p",{style:{margin:0,color:"#92400e",fontSize:e?"0.75rem":"0.8125rem",fontStyle:"italic",fontWeight:"500"},children:[" ",m.notes]})})]},m.id)),h&&_.jsxs(_.Fragment,{children:[!s&&_.jsxs("div",{style:{marginTop:"0.75rem"},children:[_.jsxs("button",{onClick:()=>c(!0),className:"pulse-button",style:{width:"100%",padding:"0.375rem 0.75rem",background:"#c7d2fe",color:"#1e293b",border:"2px solid #6366f1",borderRadius:"6px",cursor:"pointer",fontSize:e?"0.75rem":"0.8125rem",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.375rem",transition:"all 0.3s ease",boxShadow:"0 1px 3px rgba(99, 102, 241, 0.2)",position:"relative",overflow:"hidden",minHeight:"1.875rem",height:"1.875rem"},onMouseEnter:m=>{m.currentTarget.style.background="#6366f1",m.currentTarget.style.color="white",m.currentTarget.style.boxShadow="0 4px 12px rgba(99, 102, 241, 0.4)",m.currentTarget.style.transform="translateY(-1px)";const T=m.currentTarget.querySelector("span:first-child"),E=m.currentTarget.querySelector("span:last-child");T&&(T.style.color="white"),E&&(E.style.color="white")},onMouseLeave:m=>{m.currentTarget.style.background="#c7d2fe",m.currentTarget.style.color="#1e293b",m.currentTarget.style.boxShadow="0 1px 3px rgba(99, 102, 241, 0.2)",m.currentTarget.style.transform="translateY(0)";const T=m.currentTarget.querySelector("span:first-child"),E=m.currentTarget.querySelector("span:last-child");T&&(T.style.color="#1e293b"),E&&(E.style.color="#1e293b")},children:[_.jsx("span",{style:{fontSize:"1.125rem",transition:"all 0.3s ease",display:"inline-block",fontWeight:"bold",animation:"arrowPulse 1.5s ease-in-out infinite",color:"#1e293b"},children:""}),_.jsx("span",{style:{color:"#1e293b",transition:"color 0.3s ease"},children:`+ ${f.length} rn daha`})]}),_.jsx("style",{children:`
                    @keyframes arrowPulse {
                      0%, 100% {
                        opacity: 1;
                        transform: translateY(0) scale(1);
                      }
                      50% {
                        opacity: 0.6;
                        transform: translateY(4px) scale(1.1);
                      }
                    }
                    .pulse-button {
                      animation: backgroundPulse 2s ease-in-out infinite;
                    }
                    @keyframes backgroundPulse {
                      0%, 100% {
                        background-color: #c7d2fe;
                        border-color: #6366f1;
                      }
                      50% {
                        background-color: #a5b4fc;
                        border-color: #818cf8;
                        box-shadow: 0 2px 8px rgba(99, 102, 241, 0.3);
                      }
                    }
                  `})]}),s&&h&&_.jsxs("div",{style:{marginTop:"0.75rem",paddingTop:"0.75rem",borderTop:"2px solid #e2e8f0",animation:"slideDown 0.3s ease"},children:[f.map((m,T)=>_.jsxs("div",{style:{padding:T<f.length-1?"0.75rem 0":"0.75rem 0 0 0",borderBottom:T<f.length-1?"1px solid #cbd5e1":"none"},children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"1rem"},children:[_.jsxs("div",{style:{flex:1},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.25rem"},children:[_.jsxs("span",{style:{fontSize:e?"0.875rem":"0.9375rem",fontWeight:"600",color:"#64748b",minWidth:"1.5rem",textAlign:"center"},children:[m.quantity,""]}),_.jsx("span",{style:{fontSize:e?"0.875rem":"0.9375rem",fontWeight:"500",color:"#64748b",flex:1},children:m.product_name})]}),_.jsxs("div",{style:{marginLeft:e?"2rem":"2.25rem",fontSize:e?"0.6875rem":"0.75rem",color:"#94a3b8"},children:["",parseFloat(m.product_price).toFixed(2),"  ",m.quantity]})]}),_.jsx("div",{style:{textAlign:"right",minWidth:"5rem"},children:_.jsxs("div",{style:{fontSize:e?"1rem":"1.125rem",fontWeight:"700",color:"#1e293b",letterSpacing:"0.3px"},children:["",parseFloat(m.subtotal).toFixed(2)]})})]}),m.notes&&_.jsx("div",{style:{marginTop:"0.5rem",padding:"0.375rem 0.75rem",background:"#fef3c7",borderRadius:"4px",borderLeft:"3px solid #f59e0b"},children:_.jsxs("p",{style:{margin:0,color:"#92400e",fontSize:e?"0.75rem":"0.8125rem",fontStyle:"italic",fontWeight:"500"},children:[" ",m.notes]})})]},m.id)),_.jsx("div",{style:{marginTop:"0.75rem",paddingTop:"0.75rem",borderTop:"1px solid #cbd5e1"},children:_.jsxs("button",{onClick:()=>c(!1),style:{width:"100%",padding:"0.375rem 0.75rem",background:"transparent",color:"#6366f1",border:"2px solid #6366f1",borderRadius:"6px",cursor:"pointer",fontSize:e?"0.75rem":"0.8125rem",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.375rem",transition:"all 0.3s ease",minHeight:"1.875rem",height:"1.875rem"},onMouseEnter:m=>{m.currentTarget.style.background="#6366f1",m.currentTarget.style.color="white"},onMouseLeave:m=>{m.currentTarget.style.background="transparent",m.currentTarget.style.color="#6366f1"},children:[_.jsx("span",{style:{fontSize:"0.875rem",transform:"rotate(180deg)",transition:"transform 0.2s ease",display:"inline-block"},children:""}),_.jsx("span",{children:"Daha Az Gster"})]})})]})]})]}),!l&&_.jsx("button",{onClick:()=>a(t.id,t.total_amount),style:{width:"100%",background:"#10b981",color:"white",border:"none",borderRadius:"8px",padding:"0.875rem",fontSize:e?"0.9375rem":"1rem",fontWeight:"600",cursor:"pointer",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",transition:"all 0.2s"},onMouseEnter:m=>{m.currentTarget.style.background="#059669",m.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:m=>{m.currentTarget.style.background="#10b981",m.currentTarget.style.transform="translateY(0)"},children:"deme Yapld"})]})}function mc({children:t}){const{user:e,loading:n}=zo();return n?_.jsx(Fa,{message:"Ykleniyor..."}):e?t:_.jsx(Xx,{to:"/admin",replace:!0})}function f7({slug:t}){return _.jsx(xS,{slug:t})}function h7(){return _.jsx(_3,{basename:"/erzurumkafe",children:_.jsxs(Zx,{children:[_.jsx(Vs,{path:"/admin",element:_.jsx(SS,{})}),_.jsx(Vs,{path:"/admin/dashboard",element:_.jsx(mc,{children:_.jsx(AS,{})})}),_.jsx(Vs,{path:"/admin/products",element:_.jsx(mc,{children:_.jsx(h8,{})})}),_.jsx(Vs,{path:"/admin/categories",element:_.jsx(mc,{children:_.jsx(f8,{})})}),_.jsx(Vs,{path:"/admin/settings",element:_.jsx(mc,{children:_.jsx(p8,{})})}),_.jsx(Vs,{path:"/admin/orders",element:_.jsx(mc,{children:_.jsx(g8,{})})}),_.jsx(Vs,{path:"/admin/payments",element:_.jsx(mc,{children:_.jsx(c7,{})})}),_.jsx(Vs,{path:"/",element:_.jsx(mS,{})}),_.jsx(Vs,{path:"/:table",element:_.jsx(f7,{slug:"erzurumkafe"})})]})})}function p7(){return _.jsx(pS,{children:_.jsx(h7,{})})}Qw.createRoot(document.getElementById("root")).render(_.jsx(B.StrictMode,{children:_.jsx(_S,{children:_.jsx(p7,{})})}));export{Ln as _,g7 as c,$w as g};
