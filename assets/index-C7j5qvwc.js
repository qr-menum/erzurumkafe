(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const f of o.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(l){if(l.ep)return;l.ep=!0;const o=n(l);fetch(l.href,o)}})();var v0={exports:{}},af={};var fg;function Wv(){if(fg)return af;fg=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,l,o){var f=null;if(o!==void 0&&(f=""+o),l.key!==void 0&&(f=""+l.key),"key"in l){o={};for(var c in l)c!=="key"&&(o[c]=l[c])}else o=l;return l=o.ref,{$$typeof:r,type:a,key:f,ref:l!==void 0?l:null,props:o}}return af.Fragment=e,af.jsx=n,af.jsxs=n,af}var hg;function Vv(){return hg||(hg=1,v0.exports=Wv()),v0.exports}var S=Vv(),b0={exports:{}},$t={};var dg;function Yv(){if(dg)return $t;dg=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),f=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),A=Symbol.iterator;function y(W){return W===null||typeof W!="object"?null:(W=A&&W[A]||W["@@iterator"],typeof W=="function"?W:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,j={};function O(W,k,P){this.props=W,this.context=k,this.refs=j,this.updater=P||L}O.prototype.isReactComponent={},O.prototype.setState=function(W,k){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,k,"setState")},O.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function M(){}M.prototype=O.prototype;function F(W,k,P){this.props=W,this.context=k,this.refs=j,this.updater=P||L}var G=F.prototype=new M;G.constructor=F,E(G,O.prototype),G.isPureReactComponent=!0;var se=Array.isArray;function me(){}var Q={H:null,A:null,T:null,S:null},ee=Object.prototype.hasOwnProperty;function $(W,k,P){var K=P.ref;return{$$typeof:r,type:W,key:k,ref:K!==void 0?K:null,props:P}}function he(W,k){return $(W.type,k,W.props)}function C(W){return typeof W=="object"&&W!==null&&W.$$typeof===r}function q(W){var k={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(P){return k[P]})}var re=/\/+/g;function ie(W,k){return typeof W=="object"&&W!==null&&W.key!=null?q(""+W.key):k.toString(36)}function we(W){switch(W.status){case"fulfilled":return W.value;case"rejected":throw W.reason;default:switch(typeof W.status=="string"?W.then(me,me):(W.status="pending",W.then(function(k){W.status==="pending"&&(W.status="fulfilled",W.value=k)},function(k){W.status==="pending"&&(W.status="rejected",W.reason=k)})),W.status){case"fulfilled":return W.value;case"rejected":throw W.reason}}throw W}function Y(W,k,P,K,ne){var ae=typeof W;(ae==="undefined"||ae==="boolean")&&(W=null);var de=!1;if(W===null)de=!0;else switch(ae){case"bigint":case"string":case"number":de=!0;break;case"object":switch(W.$$typeof){case r:case e:de=!0;break;case v:return de=W._init,Y(de(W._payload),k,P,K,ne)}}if(de)return ne=ne(W),de=K===""?"."+ie(W,0):K,se(ne)?(P="",de!=null&&(P=de.replace(re,"$&/")+"/"),Y(ne,k,P,"",function(Ue){return Ue})):ne!=null&&(C(ne)&&(ne=he(ne,P+(ne.key==null||W&&W.key===ne.key?"":(""+ne.key).replace(re,"$&/")+"/")+de)),k.push(ne)),1;de=0;var Ne=K===""?".":K+":";if(se(W))for(var Ae=0;Ae<W.length;Ae++)K=W[Ae],ae=Ne+ie(K,Ae),de+=Y(K,k,P,ae,ne);else if(Ae=y(W),typeof Ae=="function")for(W=Ae.call(W),Ae=0;!(K=W.next()).done;)K=K.value,ae=Ne+ie(K,Ae++),de+=Y(K,k,P,ae,ne);else if(ae==="object"){if(typeof W.then=="function")return Y(we(W),k,P,K,ne);throw k=String(W),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.")}return de}function le(W,k,P){if(W==null)return W;var K=[],ne=0;return Y(W,K,"","",function(ae){return k.call(P,ae,ne++)}),K}function ue(W){if(W._status===-1){var k=W._result;k=k(),k.then(function(P){(W._status===0||W._status===-1)&&(W._status=1,W._result=P)},function(P){(W._status===0||W._status===-1)&&(W._status=2,W._result=P)}),W._status===-1&&(W._status=0,W._result=k)}if(W._status===1)return W._result.default;throw W._result}var Se=typeof reportError=="function"?reportError:function(W){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var k=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof W=="object"&&W!==null&&typeof W.message=="string"?String(W.message):String(W),error:W});if(!window.dispatchEvent(k))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",W);return}console.error(W)},ze={map:le,forEach:function(W,k,P){le(W,function(){k.apply(this,arguments)},P)},count:function(W){var k=0;return le(W,function(){k++}),k},toArray:function(W){return le(W,function(k){return k})||[]},only:function(W){if(!C(W))throw Error("React.Children.only expected to receive a single React element child.");return W}};return $t.Activity=x,$t.Children=ze,$t.Component=O,$t.Fragment=n,$t.Profiler=l,$t.PureComponent=F,$t.StrictMode=a,$t.Suspense=h,$t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,$t.__COMPILER_RUNTIME={__proto__:null,c:function(W){return Q.H.useMemoCache(W)}},$t.cache=function(W){return function(){return W.apply(null,arguments)}},$t.cacheSignal=function(){return null},$t.cloneElement=function(W,k,P){if(W==null)throw Error("The argument must be a React element, but you passed "+W+".");var K=E({},W.props),ne=W.key;if(k!=null)for(ae in k.key!==void 0&&(ne=""+k.key),k)!ee.call(k,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&k.ref===void 0||(K[ae]=k[ae]);var ae=arguments.length-2;if(ae===1)K.children=P;else if(1<ae){for(var de=Array(ae),Ne=0;Ne<ae;Ne++)de[Ne]=arguments[Ne+2];K.children=de}return $(W.type,ne,K)},$t.createContext=function(W){return W={$$typeof:f,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null},W.Provider=W,W.Consumer={$$typeof:o,_context:W},W},$t.createElement=function(W,k,P){var K,ne={},ae=null;if(k!=null)for(K in k.key!==void 0&&(ae=""+k.key),k)ee.call(k,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(ne[K]=k[K]);var de=arguments.length-2;if(de===1)ne.children=P;else if(1<de){for(var Ne=Array(de),Ae=0;Ae<de;Ae++)Ne[Ae]=arguments[Ae+2];ne.children=Ne}if(W&&W.defaultProps)for(K in de=W.defaultProps,de)ne[K]===void 0&&(ne[K]=de[K]);return $(W,ae,ne)},$t.createRef=function(){return{current:null}},$t.forwardRef=function(W){return{$$typeof:c,render:W}},$t.isValidElement=C,$t.lazy=function(W){return{$$typeof:v,_payload:{_status:-1,_result:W},_init:ue}},$t.memo=function(W,k){return{$$typeof:p,type:W,compare:k===void 0?null:k}},$t.startTransition=function(W){var k=Q.T,P={};Q.T=P;try{var K=W(),ne=Q.S;ne!==null&&ne(P,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(me,Se)}catch(ae){Se(ae)}finally{k!==null&&P.types!==null&&(k.types=P.types),Q.T=k}},$t.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},$t.use=function(W){return Q.H.use(W)},$t.useActionState=function(W,k,P){return Q.H.useActionState(W,k,P)},$t.useCallback=function(W,k){return Q.H.useCallback(W,k)},$t.useContext=function(W){return Q.H.useContext(W)},$t.useDebugValue=function(){},$t.useDeferredValue=function(W,k){return Q.H.useDeferredValue(W,k)},$t.useEffect=function(W,k){return Q.H.useEffect(W,k)},$t.useEffectEvent=function(W){return Q.H.useEffectEvent(W)},$t.useId=function(){return Q.H.useId()},$t.useImperativeHandle=function(W,k,P){return Q.H.useImperativeHandle(W,k,P)},$t.useInsertionEffect=function(W,k){return Q.H.useInsertionEffect(W,k)},$t.useLayoutEffect=function(W,k){return Q.H.useLayoutEffect(W,k)},$t.useMemo=function(W,k){return Q.H.useMemo(W,k)},$t.useOptimistic=function(W,k){return Q.H.useOptimistic(W,k)},$t.useReducer=function(W,k,P){return Q.H.useReducer(W,k,P)},$t.useRef=function(W){return Q.H.useRef(W)},$t.useState=function(W){return Q.H.useState(W)},$t.useSyncExternalStore=function(W,k,P){return Q.H.useSyncExternalStore(W,k,P)},$t.useTransition=function(){return Q.H.useTransition()},$t.version="19.2.3",$t}var pg;function Np(){return pg||(pg=1,b0.exports=Yv()),b0.exports}var te=Np(),w0={exports:{}},sf={},x0={exports:{}},_0={};var mg;function Kv(){return mg||(mg=1,(function(r){function e(Y,le){var ue=Y.length;Y.push(le);e:for(;0<ue;){var Se=ue-1>>>1,ze=Y[Se];if(0<l(ze,le))Y[Se]=le,Y[ue]=ze,ue=Se;else break e}}function n(Y){return Y.length===0?null:Y[0]}function a(Y){if(Y.length===0)return null;var le=Y[0],ue=Y.pop();if(ue!==le){Y[0]=ue;e:for(var Se=0,ze=Y.length,W=ze>>>1;Se<W;){var k=2*(Se+1)-1,P=Y[k],K=k+1,ne=Y[K];if(0>l(P,ue))K<ze&&0>l(ne,P)?(Y[Se]=ne,Y[K]=ue,Se=K):(Y[Se]=P,Y[k]=ue,Se=k);else if(K<ze&&0>l(ne,ue))Y[Se]=ne,Y[K]=ue,Se=K;else break e}}return le}function l(Y,le){var ue=Y.sortIndex-le.sortIndex;return ue!==0?ue:Y.id-le.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var f=Date,c=f.now();r.unstable_now=function(){return f.now()-c}}var h=[],p=[],v=1,x=null,A=3,y=!1,L=!1,E=!1,j=!1,O=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function G(Y){for(var le=n(p);le!==null;){if(le.callback===null)a(p);else if(le.startTime<=Y)a(p),le.sortIndex=le.expirationTime,e(h,le);else break;le=n(p)}}function se(Y){if(E=!1,G(Y),!L)if(n(h)!==null)L=!0,me||(me=!0,q());else{var le=n(p);le!==null&&we(se,le.startTime-Y)}}var me=!1,Q=-1,ee=5,$=-1;function he(){return j?!0:!(r.unstable_now()-$<ee)}function C(){if(j=!1,me){var Y=r.unstable_now();$=Y;var le=!0;try{e:{L=!1,E&&(E=!1,M(Q),Q=-1),y=!0;var ue=A;try{t:{for(G(Y),x=n(h);x!==null&&!(x.expirationTime>Y&&he());){var Se=x.callback;if(typeof Se=="function"){x.callback=null,A=x.priorityLevel;var ze=Se(x.expirationTime<=Y);if(Y=r.unstable_now(),typeof ze=="function"){x.callback=ze,G(Y),le=!0;break t}x===n(h)&&a(h),G(Y)}else a(h);x=n(h)}if(x!==null)le=!0;else{var W=n(p);W!==null&&we(se,W.startTime-Y),le=!1}}break e}finally{x=null,A=ue,y=!1}le=void 0}}finally{le?q():me=!1}}}var q;if(typeof F=="function")q=function(){F(C)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,ie=re.port2;re.port1.onmessage=C,q=function(){ie.postMessage(null)}}else q=function(){O(C,0)};function we(Y,le){Q=O(function(){Y(r.unstable_now())},le)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function(Y){switch(A){case 1:case 2:case 3:var le=3;break;default:le=A}var ue=A;A=le;try{return Y()}finally{A=ue}},r.unstable_requestPaint=function(){j=!0},r.unstable_runWithPriority=function(Y,le){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ue=A;A=Y;try{return le()}finally{A=ue}},r.unstable_scheduleCallback=function(Y,le,ue){var Se=r.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Se+ue:Se):ue=Se,Y){case 1:var ze=-1;break;case 2:ze=250;break;case 5:ze=1073741823;break;case 4:ze=1e4;break;default:ze=5e3}return ze=ue+ze,Y={id:v++,callback:le,priorityLevel:Y,startTime:ue,expirationTime:ze,sortIndex:-1},ue>Se?(Y.sortIndex=ue,e(p,Y),n(h)===null&&Y===n(p)&&(E?(M(Q),Q=-1):E=!0,we(se,ue-Se))):(Y.sortIndex=ze,e(h,Y),L||y||(L=!0,me||(me=!0,q()))),Y},r.unstable_shouldYield=he,r.unstable_wrapCallback=function(Y){var le=A;return function(){var ue=A;A=le;try{return Y.apply(this,arguments)}finally{A=ue}}}})(_0)),_0}var gg;function Jv(){return gg||(gg=1,x0.exports=Kv()),x0.exports}var S0={exports:{}},fi={};var yg;function Xv(){if(yg)return fi;yg=1;var r=Np();function e(h){var p="https://react.dev/errors/"+h;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function o(h,p,v){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:x==null?null:""+x,children:h,containerInfo:p,implementation:v}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,p){if(h==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return fi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,fi.createPortal=function(h,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return o(h,p,null,v)},fi.flushSync=function(h){var p=f.T,v=a.p;try{if(f.T=null,a.p=2,h)return h()}finally{f.T=p,a.p=v,a.d.f()}},fi.preconnect=function(h,p){typeof h=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(h,p))},fi.prefetchDNS=function(h){typeof h=="string"&&a.d.D(h)},fi.preinit=function(h,p){if(typeof h=="string"&&p&&typeof p.as=="string"){var v=p.as,x=c(v,p.crossOrigin),A=typeof p.integrity=="string"?p.integrity:void 0,y=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?a.d.S(h,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:x,integrity:A,fetchPriority:y}):v==="script"&&a.d.X(h,{crossOrigin:x,integrity:A,fetchPriority:y,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},fi.preinitModule=function(h,p){if(typeof h=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=c(p.as,p.crossOrigin);a.d.M(h,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(h)},fi.preload=function(h,p){if(typeof h=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,x=c(v,p.crossOrigin);a.d.L(h,v,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},fi.preloadModule=function(h,p){if(typeof h=="string")if(p){var v=c(p.as,p.crossOrigin);a.d.m(h,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(h)},fi.requestFormReset=function(h){a.d.r(h)},fi.unstable_batchedUpdates=function(h,p){return h(p)},fi.useFormState=function(h,p,v){return f.H.useFormState(h,p,v)},fi.useFormStatus=function(){return f.H.useHostTransitionStatus()},fi.version="19.2.3",fi}var vg;function Zv(){if(vg)return S0.exports;vg=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),S0.exports=Xv(),S0.exports}var bg;function Qv(){if(bg)return sf;bg=1;var r=Jv(),e=Np(),n=Zv();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function o(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function c(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function h(t){if(o(t)!==t)throw Error(a(188))}function p(t){var i=t.alternate;if(!i){if(i=o(t),i===null)throw Error(a(188));return i!==t?null:t}for(var s=t,u=i;;){var m=s.return;if(m===null)break;var b=m.alternate;if(b===null){if(u=m.return,u!==null){s=u;continue}break}if(m.child===b.child){for(b=m.child;b;){if(b===s)return h(m),t;if(b===u)return h(m),i;b=b.sibling}throw Error(a(188))}if(s.return!==u.return)s=m,u=b;else{for(var N=!1,I=m.child;I;){if(I===s){N=!0,s=m,u=b;break}if(I===u){N=!0,u=m,s=b;break}I=I.sibling}if(!N){for(I=b.child;I;){if(I===s){N=!0,s=b,u=m;break}if(I===u){N=!0,u=b,s=m;break}I=I.sibling}if(!N)throw Error(a(189))}}if(s.alternate!==u)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:i}function v(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=v(t),i!==null)return i;t=t.sibling}return null}var x=Object.assign,A=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),F=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),he=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function q(t){return t===null||typeof t!="object"?null:(t=C&&t[C]||t["@@iterator"],typeof t=="function"?t:null)}var re=Symbol.for("react.client.reference");function ie(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===re?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case E:return"Fragment";case O:return"Profiler";case j:return"StrictMode";case se:return"Suspense";case me:return"SuspenseList";case $:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case L:return"Portal";case F:return t.displayName||"Context";case M:return(t._context.displayName||"Context")+".Consumer";case G:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Q:return i=t.displayName||null,i!==null?i:ie(t.type)||"Memo";case ee:i=t._payload,t=t._init;try{return ie(t(i))}catch{}}return null}var we=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},Se=[],ze=-1;function W(t){return{current:t}}function k(t){0>ze||(t.current=Se[ze],Se[ze]=null,ze--)}function P(t,i){ze++,Se[ze]=t.current,t.current=i}var K=W(null),ne=W(null),ae=W(null),de=W(null);function Ne(t,i){switch(P(ae,i),P(ne,t),P(K,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Dm(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Dm(i),t=Bm(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}k(K),P(K,t)}function Ae(){k(K),k(ne),k(ae)}function Ue(t){t.memoizedState!==null&&P(de,t);var i=K.current,s=Bm(i,t.type);i!==s&&(P(ne,t),P(K,s))}function We(t){ne.current===t&&(k(K),k(ne)),de.current===t&&(k(de),ef._currentValue=ue)}var Qe,et;function xe(t){if(Qe===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);Qe=i&&i[1]||"",et=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qe+t+et}var B=!1;function je(t,i){if(!t||B)return"";B=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var Fe=function(){throw Error()};if(Object.defineProperty(Fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Fe,[])}catch(Ce){var Le=Ce}Reflect.construct(t,[],Fe)}else{try{Fe.call()}catch(Ce){Le=Ce}t.call(Fe.prototype)}}else{try{throw Error()}catch(Ce){Le=Ce}(Fe=t())&&typeof Fe.catch=="function"&&Fe.catch(function(){})}}catch(Ce){if(Ce&&Le&&typeof Ce.stack=="string")return[Ce.stack,Le.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=u.DetermineComponentFrameRoot(),N=b[0],I=b[1];if(N&&I){var oe=N.split(`
`),ke=I.split(`
`);for(m=u=0;u<oe.length&&!oe[u].includes("DetermineComponentFrameRoot");)u++;for(;m<ke.length&&!ke[m].includes("DetermineComponentFrameRoot");)m++;if(u===oe.length||m===ke.length)for(u=oe.length-1,m=ke.length-1;1<=u&&0<=m&&oe[u]!==ke[m];)m--;for(;1<=u&&0<=m;u--,m--)if(oe[u]!==ke[m]){if(u!==1||m!==1)do if(u--,m--,0>m||oe[u]!==ke[m]){var Me=`
`+oe[u].replace(" at new "," at ");return t.displayName&&Me.includes("<anonymous>")&&(Me=Me.replace("<anonymous>",t.displayName)),Me}while(1<=u&&0<=m);break}}}finally{B=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?xe(s):""}function Ke(t,i){switch(t.tag){case 26:case 27:case 5:return xe(t.type);case 16:return xe("Lazy");case 13:return t.child!==i&&i!==null?xe("Suspense Fallback"):xe("Suspense");case 19:return xe("SuspenseList");case 0:case 15:return je(t.type,!1);case 11:return je(t.type.render,!1);case 1:return je(t.type,!0);case 31:return xe("Activity");default:return""}}function Re(t){try{var i="",s=null;do i+=Ke(t,s),s=t,t=t.return;while(t);return i}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Oe=Object.prototype.hasOwnProperty,Ye=r.unstable_scheduleCallback,$e=r.unstable_cancelCallback,st=r.unstable_shouldYield,ft=r.unstable_requestPaint,Lt=r.unstable_now,Tt=r.unstable_getCurrentPriorityLevel,yt=r.unstable_ImmediatePriority,Nt=r.unstable_UserBlockingPriority,Mt=r.unstable_NormalPriority,nt=r.unstable_LowPriority,kt=r.unstable_IdlePriority,ot=r.log,un=r.unstable_setDisableYieldValue,Xe=null,Ze=null;function rt(t){if(typeof ot=="function"&&un(t),Ze&&typeof Ze.setStrictMode=="function")try{Ze.setStrictMode(Xe,t)}catch{}}var jt=Math.clz32?Math.clz32:xt,pt=Math.log,Yt=Math.LN2;function xt(t){return t>>>=0,t===0?32:31-(pt(t)/Yt|0)|0}var Ot=256,rn=262144,qt=4194304;function vt(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Jt(t,i,s){var u=t.pendingLanes;if(u===0)return 0;var m=0,b=t.suspendedLanes,N=t.pingedLanes;t=t.warmLanes;var I=u&134217727;return I!==0?(u=I&~b,u!==0?m=vt(u):(N&=I,N!==0?m=vt(N):s||(s=I&~t,s!==0&&(m=vt(s))))):(I=u&~b,I!==0?m=vt(I):N!==0?m=vt(N):s||(s=u&~t,s!==0&&(m=vt(s)))),m===0?0:i!==0&&i!==m&&(i&b)===0&&(b=m&-m,s=i&-i,b>=s||b===32&&(s&4194048)!==0)?i:m}function an(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Tn(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qr(){var t=qt;return qt<<=1,(qt&62914560)===0&&(qt=4194304),t}function oi(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function _t(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ua(t,i,s,u,m,b){var N=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var I=t.entanglements,oe=t.expirationTimes,ke=t.hiddenUpdates;for(s=N&~s;0<s;){var Me=31-jt(s),Fe=1<<Me;I[Me]=0,oe[Me]=-1;var Le=ke[Me];if(Le!==null)for(ke[Me]=null,Me=0;Me<Le.length;Me++){var Ce=Le[Me];Ce!==null&&(Ce.lane&=-536870913)}s&=~Fe}u!==0&&ga(t,u,0),b!==0&&m===0&&t.tag!==0&&(t.suspendedLanes|=b&~(N&~i))}function ga(t,i,s){t.pendingLanes|=i,t.suspendedLanes&=~i;var u=31-jt(i);t.entangledLanes|=i,t.entanglements[u]=t.entanglements[u]|1073741824|s&261930}function gi(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var u=31-jt(s),m=1<<u;m&i|t[u]&i&&(t[u]|=i),s&=~m}}function yi(t,i){var s=i&-i;return s=(s&42)!==0?1:Un(s),(s&(t.suspendedLanes|i))!==0?0:s}function Un(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ar(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Sr(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:ig(t.type))}function bs(t,i){var s=le.p;try{return le.p=t,i()}finally{le.p=s}}var Jr=Math.random().toString(36).slice(2),xn="__reactFiber$"+Jr,Pn="__reactProps$"+Jr,Fr="__reactContainer$"+Jr,vi="__reactEvents$"+Jr,ki="__reactListeners$"+Jr,Gs="__reactHandles$"+Jr,Wi="__reactResources$"+Jr,Vi="__reactMarker$"+Jr;function ws(t){delete t[xn],delete t[Pn],delete t[vi],delete t[ki],delete t[Gs]}function Yi(t){var i=t[xn];if(i)return i;for(var s=t.parentNode;s;){if(i=s[Fr]||s[xn]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=Fm(t);t!==null;){if(s=t[xn])return s;t=Fm(t)}return i}t=s,s=t.parentNode}return null}function Ki(t){if(t=t[xn]||t[Fr]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function Ws(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function ya(t){var i=t[Wi];return i||(i=t[Wi]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Zn(t){t[Vi]=!0}var ml=new Set,bi={};function Ji(t,i){Ma(t,i),Ma(t+"Capture",i)}function Ma(t,i){for(bi[t]=i,t=0;t<i.length;t++)ml.add(i[t])}var gl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yl={},vl={};function ou(t){return Oe.call(vl,t)?!0:Oe.call(yl,t)?!1:gl.test(t)?vl[t]=!0:(yl[t]=!0,!1)}function wi(t,i,s){if(ou(i))if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+s)}}function Pa(t,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+s)}}function Xi(t,i,s,u){if(u===null)t.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(i,s,""+u)}}function dn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function bl(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function va(t,i,s){var u=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,b=u.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return m.call(this)},set:function(N){s=""+N,b.call(this,N)}}),Object.defineProperty(t,i,{enumerable:u.enumerable}),{getValue:function(){return s},setValue:function(N){s=""+N},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function xs(t){if(!t._valueTracker){var i=bl(t)?"checked":"value";t._valueTracker=va(t,i,""+t[i])}}function wl(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),u="";return t&&(u=bl(t)?t.checked?"true":"false":t.value),t=u,t!==s?(i.setValue(t),!0):!1}function Xr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var gr=/[\n"\\]/g;function sr(t){return t.replace(gr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Lo(t,i,s,u,m,b,N,I){t.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?t.type=N:t.removeAttribute("type"),i!=null?N==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+dn(i)):t.value!==""+dn(i)&&(t.value=""+dn(i)):N!=="submit"&&N!=="reset"||t.removeAttribute("value"),i!=null?xl(t,N,dn(i)):s!=null?xl(t,N,dn(s)):u!=null&&t.removeAttribute("value"),m==null&&b!=null&&(t.defaultChecked=!!b),m!=null&&(t.checked=m&&typeof m!="function"&&typeof m!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?t.name=""+dn(I):t.removeAttribute("name")}function lu(t,i,s,u,m,b,N,I){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.type=b),i!=null||s!=null){if(!(b!=="submit"&&b!=="reset"||i!=null)){xs(t);return}s=s!=null?""+dn(s):"",i=i!=null?""+dn(i):s,I||i===t.value||(t.value=i),t.defaultValue=i}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=I?t.checked:!!u,t.defaultChecked=!!u,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(t.name=N),xs(t)}function xl(t,i,s){i==="number"&&Xr(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Zr(t,i,s,u){if(t=t.options,i){i={};for(var m=0;m<s.length;m++)i["$"+s[m]]=!0;for(s=0;s<t.length;s++)m=i.hasOwnProperty("$"+t[s].value),t[s].selected!==m&&(t[s].selected=m),m&&u&&(t[s].defaultSelected=!0)}else{for(s=""+dn(s),i=null,m=0;m<t.length;m++){if(t[m].value===s){t[m].selected=!0,u&&(t[m].defaultSelected=!0);return}i!==null||t[m].disabled||(i=t[m])}i!==null&&(i.selected=!0)}}function _l(t,i,s){if(i!=null&&(i=""+dn(i),i!==t.value&&(t.value=i),s==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=s!=null?""+dn(s):""}function Sl(t,i,s,u){if(i==null){if(u!=null){if(s!=null)throw Error(a(92));if(we(u)){if(1<u.length)throw Error(a(93));u=u[0]}s=u}s==null&&(s=""),i=s}s=dn(i),t.defaultValue=s,u=t.textContent,u===s&&u!==""&&u!==null&&(t.value=u),xs(t)}function Zi(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var Vs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function uu(t,i,s){var u=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?u?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":u?t.setProperty(i,s):typeof s!="number"||s===0||Vs.has(i)?i==="float"?t.cssFloat=s:t[i]=(""+s).trim():t[i]=s+"px"}function cu(t,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,s!=null){for(var u in s)!s.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var m in i)u=i[m],i.hasOwnProperty(m)&&s[m]!==u&&uu(t,m,u)}else for(var b in i)i.hasOwnProperty(b)&&uu(t,b,i[b])}function Al(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var El=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function li(t){return fu.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Qi(){}var Ia=null;function Ys(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _s=null,Ct=null;function hu(t){var i=Ki(t);if(i&&(t=i.stateNode)){var s=t[Pn]||null;e:switch(t=i.stateNode,i.type){case"input":if(Lo(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+sr(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var u=s[i];if(u!==t&&u.form===t.form){var m=u[Pn]||null;if(!m)throw Error(a(90));Lo(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(i=0;i<s.length;i++)u=s[i],u.form===t.form&&wl(u)}break e;case"textarea":_l(t,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&Zr(t,!!s.multiple,i,!1)}}}var Tl=!1;function du(t,i,s){if(Tl)return t(i,s);Tl=!0;try{var u=t(i);return u}finally{if(Tl=!1,(_s!==null||Ct!==null)&&(Qf(),_s&&(i=_s,t=Ct,Ct=_s=null,hu(i),t)))for(i=0;i<t.length;i++)hu(t[i])}}function xi(t,i){var s=t.stateNode;if(s===null)return null;var u=s[Pn]||null;if(u===null)return null;s=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var Or=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kl=!1;if(Or)try{var Ks={};Object.defineProperty(Ks,"passive",{get:function(){kl=!0}}),window.addEventListener("test",Ks,Ks),window.removeEventListener("test",Ks,Ks)}catch{kl=!1}var _i=null,Js=null,ba=null;function pu(){if(ba)return ba;var t,i=Js,s=i.length,u,m="value"in _i?_i.value:_i.textContent,b=m.length;for(t=0;t<s&&i[t]===m[t];t++);var N=s-t;for(u=1;u<=N&&i[s-u]===m[b-u];u++);return ba=m.slice(t,1<u?1-u:void 0)}function Ni(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function jo(){return!0}function Oo(){return!1}function Ar(t){function i(s,u,m,b,N){this._reactName=s,this._targetInst=m,this.type=u,this.nativeEvent=b,this.target=N,this.currentTarget=null;for(var I in t)t.hasOwnProperty(I)&&(s=t[I],this[I]=s?s(b):b[I]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?jo:Oo,this.isPropagationStopped=Oo,this}return x(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=jo)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=jo)},persist:function(){},isPersistent:jo}),i}var wa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Li=Ar(wa),qa=x({},wa,{view:0,detail:0}),Co=Ar(qa),Xs,Fa,Ha,Zs=x({},qa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bt,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ha&&(Ha&&t.type==="mousemove"?(Xs=t.screenX-Ha.screenX,Fa=t.screenY-Ha.screenY):Fa=Xs=0,Ha=t),Xs)},movementY:function(t){return"movementY"in t?t.movementY:Fa}}),Nl=Ar(Zs),$a=x({},Zs,{dataTransfer:0}),Ga=Ar($a),mu=x({},qa,{relatedTarget:0}),Wa=Ar(mu),gu=x({},wa,{animationName:0,elapsedTime:0,pseudoElement:0}),w=Ar(gu),R=x({},wa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Z=Ar(R),ce=x({},wa,{data:0}),ye=Ar(ce),Pe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ge={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ut={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mt(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=ut[t])?!!i[t]:!1}function Bt(){return mt}var Ft=x({},qa,{key:function(t){if(t.key){var i=Pe[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ni(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ge[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bt,charCode:function(t){return t.type==="keypress"?Ni(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ni(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),sn=Ar(Ft),In=x({},Zs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qn=Ar(In),kn=x({},qa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bt}),yr=Ar(kn),or=x({},wa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cr=Ar(or),Va=x({},Zs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ea=Ar(Va),Ya=x({},wa,{newState:0,oldState:0}),Ll=Ar(Ya),Ro=[9,13,27,32],xa=Or&&"CompositionEvent"in window,ta=null;Or&&"documentMode"in document&&(ta=document.documentMode);var Qs=Or&&"TextEvent"in window&&!ta,Ka=Or&&(!xa||ta&&8<ta&&11>=ta),Er=" ",Ss=!1;function As(t,i){switch(t){case"keyup":return Ro.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Do(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _a=!1;function Qr(t,i){switch(t){case"compositionend":return Do(i);case"keypress":return i.which!==32?null:(Ss=!0,Er);case"textInput":return t=i.data,t===Er&&Ss?null:t;default:return null}}function Ja(t,i){if(_a)return t==="compositionend"||!xa&&As(t,i)?(t=pu(),ba=Js=_i=null,_a=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ka&&i.locale!=="ko"?null:i.data;default:return null}}var Bo={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jl(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Bo[t.type]:i==="textarea"}function Si(t,i,s,u){_s?Ct?Ct.push(u):Ct=[u]:_s=u,i=sh(i,"onChange"),0<i.length&&(s=new Li("onChange","change",null,s,u),t.push({event:s,listeners:i}))}var na=null,Xa=null;function Ol(t){Nm(t,0)}function ra(t){var i=Ws(t);if(wl(i))return t}function Es(t,i){if(t==="change")return i}var ui=!1;if(Or){var ei;if(Or){var Sa="oninput"in document;if(!Sa){var Aa=document.createElement("div");Aa.setAttribute("oninput","return;"),Sa=typeof Aa.oninput=="function"}ei=Sa}else ei=!1;ui=ei&&(!document.documentMode||9<document.documentMode)}function Za(){na&&(na.detachEvent("onpropertychange",zo),Xa=na=null)}function zo(t){if(t.propertyName==="value"&&ra(Xa)){var i=[];Si(i,Xa,t,Ys(t)),du(Ol,i)}}function Uo(t,i,s){t==="focusin"?(Za(),na=i,Xa=s,na.attachEvent("onpropertychange",zo)):t==="focusout"&&Za()}function er(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ra(Xa)}function yu(t,i){if(t==="click")return ra(i)}function Ea(t,i){if(t==="input"||t==="change")return ra(i)}function Ta(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Rr=typeof Object.is=="function"?Object.is:Ta;function Qa(t,i){if(Rr(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),u=Object.keys(i);if(s.length!==u.length)return!1;for(u=0;u<s.length;u++){var m=s[u];if(!Oe.call(i,m)||!Rr(t[m],i[m]))return!1}return!0}function Mo(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Po(t,i){var s=Mo(t);t=0;for(var u;s;){if(s.nodeType===3){if(u=t+s.textContent.length,t<=i&&u>=i)return{node:s,offset:i-t};t=u}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Mo(s)}}function es(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?es(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function ts(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Xr(t.document);i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=Xr(t.document)}return i}function ka(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var eo=Or&&"documentMode"in document&&11>=document.documentMode,Ai=null,ns=null,Hr=null,ji=!1;function pn(t,i,s){var u=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;ji||Ai==null||Ai!==Xr(u)||(u=Ai,"selectionStart"in u&&ka(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Hr&&Qa(Hr,u)||(Hr=u,u=sh(ns,"onSelect"),0<u.length&&(i=new Li("onSelect","select",null,i,s),t.push({event:i,listeners:u}),i.target=Ai)))}function on(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var Nn={animationend:on("Animation","AnimationEnd"),animationiteration:on("Animation","AnimationIteration"),animationstart:on("Animation","AnimationStart"),transitionrun:on("Transition","TransitionRun"),transitionstart:on("Transition","TransitionStart"),transitioncancel:on("Transition","TransitionCancel"),transitionend:on("Transition","TransitionEnd")},tr={},Na={};Or&&(Na=document.createElement("div").style,"AnimationEvent"in window||(delete Nn.animationend.animation,delete Nn.animationiteration.animation,delete Nn.animationstart.animation),"TransitionEvent"in window||delete Nn.transitionend.transition);function ia(t){if(tr[t])return tr[t];if(!Nn[t])return t;var i=Nn[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in Na)return tr[t]=i[s];return t}var to=ia("animationend"),Cl=ia("animationiteration"),Sc=ia("animationstart"),Lf=ia("transitionrun"),jf=ia("transitionstart"),Of=ia("transitioncancel"),Ac=ia("transitionend"),Ec=new Map,no="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");no.push("scrollEnd");function Oi(t,i){Ec.set(t,i),Ji(i,[t])}var Rl=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Ei=[],ro=0,vu=0;function Dl(){for(var t=ro,i=vu=ro=0;i<t;){var s=Ei[i];Ei[i++]=null;var u=Ei[i];Ei[i++]=null;var m=Ei[i];Ei[i++]=null;var b=Ei[i];if(Ei[i++]=null,u!==null&&m!==null){var N=u.pending;N===null?m.next=m:(m.next=N.next,N.next=m),u.pending=m}b!==0&&zl(s,m,b)}}function Bl(t,i,s,u){Ei[ro++]=t,Ei[ro++]=i,Ei[ro++]=s,Ei[ro++]=u,vu|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function bu(t,i,s,u){return Bl(t,i,s,u),$r(t)}function rs(t,i){return Bl(t,null,null,i),$r(t)}function zl(t,i,s){t.lanes|=s;var u=t.alternate;u!==null&&(u.lanes|=s);for(var m=!1,b=t.return;b!==null;)b.childLanes|=s,u=b.alternate,u!==null&&(u.childLanes|=s),b.tag===22&&(t=b.stateNode,t===null||t._visibility&1||(m=!0)),t=b,b=b.return;return t.tag===3?(b=t.stateNode,m&&i!==null&&(m=31-jt(s),t=b.hiddenUpdates,u=t[m],u===null?t[m]=[i]:u.push(i),i.lane=s|536870912),b):null}function $r(t){if(50<Vc)throw Vc=0,Fd=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Dr={};function wu(t,i,s,u){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gr(t,i,s,u){return new wu(t,i,s,u)}function xu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ci(t,i){var s=t.alternate;return s===null?(s=Gr(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Ul(t,i){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,i=s.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Io(t,i,s,u,m,b){var N=0;if(u=t,typeof t=="function")xu(t)&&(N=1);else if(typeof t=="string")N=Dv(t,s,K.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case $:return t=Gr(31,s,i,m),t.elementType=$,t.lanes=b,t;case E:return Ts(s.children,m,b,i);case j:N=8,m|=24;break;case O:return t=Gr(12,s,i,m|2),t.elementType=O,t.lanes=b,t;case se:return t=Gr(13,s,i,m),t.elementType=se,t.lanes=b,t;case me:return t=Gr(19,s,i,m),t.elementType=me,t.lanes=b,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case F:N=10;break e;case M:N=9;break e;case G:N=11;break e;case Q:N=14;break e;case ee:N=16,u=null;break e}N=29,s=Error(a(130,t===null?"null":typeof t,"")),u=null}return i=Gr(N,s,i,m),i.elementType=t,i.type=u,i.lanes=b,i}function Ts(t,i,s,u){return t=Gr(7,t,u,i),t.lanes=s,t}function Ml(t,i,s){return t=Gr(6,t,null,i),t.lanes=s,t}function _u(t){var i=Gr(18,null,null,0);return i.stateNode=t,i}function qo(t,i,s){return i=Gr(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Su=new WeakMap;function Ri(t,i){if(typeof t=="object"&&t!==null){var s=Su.get(t);return s!==void 0?s:(i={value:t,source:i,stack:Re(i)},Su.set(t,i),i)}return{value:t,source:i,stack:Re(i)}}var Fo=[],io=0,Au=null,Pl=0,Di=[],Bi=0,ks=null,zi=1,Ui="";function Ti(t,i){Fo[io++]=Pl,Fo[io++]=Au,Au=t,Pl=i}function Cf(t,i,s){Di[Bi++]=zi,Di[Bi++]=Ui,Di[Bi++]=ks,ks=t;var u=zi;t=Ui;var m=32-jt(u)-1;u&=~(1<<m),s+=1;var b=32-jt(i)+m;if(30<b){var N=m-m%5;b=(u&(1<<N)-1).toString(32),u>>=N,m-=N,zi=1<<32-jt(i)+m|s<<m|u,Ui=b+t}else zi=1<<b|s<<m|u,Ui=t}function Tc(t){t.return!==null&&(Ti(t,1),Cf(t,1,0))}function Eu(t){for(;t===Au;)Au=Fo[--io],Fo[io]=null,Pl=Fo[--io],Fo[io]=null;for(;t===ks;)ks=Di[--Bi],Di[Bi]=null,Ui=Di[--Bi],Di[Bi]=null,zi=Di[--Bi],Di[Bi]=null}function Rf(t,i){Di[Bi++]=zi,Di[Bi++]=Ui,Di[Bi++]=ks,zi=i.id,Ui=i.overflow,ks=t}var Br=null,Rn=null,Zt=!1,ti=null,Wn=!1,aa=Error(a(519));function Ns(t){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ho(Ri(i,t)),aa}function kc(t){var i=t.stateNode,s=t.type,u=t.memoizedProps;switch(i[xn]=t,i[Pn]=u,s){case"dialog":en("cancel",i),en("close",i);break;case"iframe":case"object":case"embed":en("load",i);break;case"video":case"audio":for(s=0;s<Kc.length;s++)en(Kc[s],i);break;case"source":en("error",i);break;case"img":case"image":case"link":en("error",i),en("load",i);break;case"details":en("toggle",i);break;case"input":en("invalid",i),lu(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":en("invalid",i);break;case"textarea":en("invalid",i),Sl(i,u.value,u.defaultValue,u.children)}s=u.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||u.suppressHydrationWarning===!0||Cm(i.textContent,s)?(u.popover!=null&&(en("beforetoggle",i),en("toggle",i)),u.onScroll!=null&&en("scroll",i),u.onScrollEnd!=null&&en("scrollend",i),u.onClick!=null&&(i.onclick=Qi),i=!0):i=!1,i||Ns(t,!0)}function is(t){for(Br=t.return;Br;)switch(Br.tag){case 5:case 31:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:Br=Br.return}}function zr(t){if(t!==Br)return!1;if(!Zt)return is(t),Zt=!0,!1;var i=t.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||r0(t.type,t.memoizedProps)),s=!s),s&&Rn&&Ns(t),is(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Rn=qm(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Rn=qm(t)}else i===27?(i=Rn,rl(t.type)?(t=l0,l0=null,Rn=t):Rn=i):Rn=Br?Ca(t.stateNode.nextSibling):null;return!0}function ao(){Rn=Br=null,Zt=!1}function Nc(){var t=ti;return t!==null&&(Hi===null?Hi=t:Hi.push.apply(Hi,t),ti=null),t}function Ho(t){ti===null?ti=[t]:ti.push(t)}var Tu=W(null),Ls=null,La=null;function js(t,i,s){P(Tu,i._currentValue),i._currentValue=s}function Mi(t){t._currentValue=Tu.current,k(Tu)}function $o(t,i,s){for(;t!==null;){var u=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),t===s)break;t=t.return}}function so(t,i,s,u){var m=t.child;for(m!==null&&(m.return=t);m!==null;){var b=m.dependencies;if(b!==null){var N=m.child;b=b.firstContext;e:for(;b!==null;){var I=b;b=m;for(var oe=0;oe<i.length;oe++)if(I.context===i[oe]){b.lanes|=s,I=b.alternate,I!==null&&(I.lanes|=s),$o(b.return,s,t),u||(N=null);break e}b=I.next}}else if(m.tag===18){if(N=m.return,N===null)throw Error(a(341));N.lanes|=s,b=N.alternate,b!==null&&(b.lanes|=s),$o(N,s,t),N=null}else N=m.child;if(N!==null)N.return=m;else for(N=m;N!==null;){if(N===t){N=null;break}if(m=N.sibling,m!==null){m.return=N.return,N=m;break}N=N.return}m=N}}function Os(t,i,s,u){t=null;for(var m=i,b=!1;m!==null;){if(!b){if((m.flags&524288)!==0)b=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var N=m.alternate;if(N===null)throw Error(a(387));if(N=N.memoizedProps,N!==null){var I=m.type;Rr(m.pendingProps.value,N.value)||(t!==null?t.push(I):t=[I])}}else if(m===de.current){if(N=m.alternate,N===null)throw Error(a(387));N.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(t!==null?t.push(ef):t=[ef])}m=m.return}t!==null&&so(i,t,s,u),i.flags|=262144}function ku(t){for(t=t.firstContext;t!==null;){if(!Rr(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Cs(t){Ls=t,La=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ur(t){return Df(Ls,t)}function Nu(t,i){return Ls===null&&Cs(t),Df(t,i)}function Df(t,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},La===null){if(t===null)throw Error(a(308));La=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else La=La.next=i;return s}var od=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(s,u){t.push(u)}};this.abort=function(){i.aborted=!0,t.forEach(function(s){return s()})}},ld=r.unstable_scheduleCallback,ud=r.unstable_NormalPriority,nr={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Go(){return{controller:new od,data:new Map,refCount:0}}function Il(t){t.refCount--,t.refCount===0&&ld(ud,function(){t.controller.abort()})}var ql=null,Lu=0,d=0,g=null;function _(t,i){if(ql===null){var s=ql=[];Lu=0,d=Yd(),g={status:"pending",value:void 0,then:function(u){s.push(u)}}}return Lu++,i.then(T,T),i}function T(){if(--Lu===0&&ql!==null){g!==null&&(g.status="fulfilled");var t=ql;ql=null,d=0,g=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function D(t,i){var s=[],u={status:"pending",value:null,reason:null,then:function(m){s.push(m)}};return t.then(function(){u.status="fulfilled",u.value=i;for(var m=0;m<s.length;m++)(0,s[m])(i)},function(m){for(u.status="rejected",u.reason=m,m=0;m<s.length;m++)(0,s[m])(void 0)}),u}var z=Y.S;Y.S=function(t,i){nm=Lt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&_(t,i),z!==null&&z(t,i)};var U=W(null);function H(){var t=U.current;return t!==null?t:Bn.pooledCache}function V(t,i){i===null?P(U,U.current):P(U,i.pool)}function X(){var t=H();return t===null?null:{parent:nr._currentValue,pool:t}}var fe=Error(a(460)),Ee=Error(a(474)),J=Error(a(542)),ge={then:function(){}};function be(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Be(t,i,s){switch(s=t[s],s===void 0?t.push(i):s!==i&&(i.then(Qi,Qi),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Ve(t),t;default:if(typeof i.status=="string")i.then(Qi,Qi);else{if(t=Bn,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(u){if(i.status==="pending"){var m=i;m.status="fulfilled",m.value=u}},function(u){if(i.status==="pending"){var m=i;m.status="rejected",m.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Ve(t),t}throw De=i,fe}}function _e(t){try{var i=t._init;return i(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(De=s,fe):s}}var De=null;function Ie(){if(De===null)throw Error(a(459));var t=De;return De=null,t}function Ve(t){if(t===fe||t===J)throw Error(a(483))}var He=null,ht=0;function it(t){var i=ht;return ht+=1,He===null&&(He=[]),Be(He,t,i)}function Pt(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function lt(t,i){throw i.$$typeof===A?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Xt(t){function i(ve,pe){if(t){var Te=ve.deletions;Te===null?(ve.deletions=[pe],ve.flags|=16):Te.push(pe)}}function s(ve,pe){if(!t)return null;for(;pe!==null;)i(ve,pe),pe=pe.sibling;return null}function u(ve){for(var pe=new Map;ve!==null;)ve.key!==null?pe.set(ve.key,ve):pe.set(ve.index,ve),ve=ve.sibling;return pe}function m(ve,pe){return ve=Ci(ve,pe),ve.index=0,ve.sibling=null,ve}function b(ve,pe,Te){return ve.index=Te,t?(Te=ve.alternate,Te!==null?(Te=Te.index,Te<pe?(ve.flags|=67108866,pe):Te):(ve.flags|=67108866,pe)):(ve.flags|=1048576,pe)}function N(ve){return t&&ve.alternate===null&&(ve.flags|=67108866),ve}function I(ve,pe,Te,qe){return pe===null||pe.tag!==6?(pe=Ml(Te,ve.mode,qe),pe.return=ve,pe):(pe=m(pe,Te),pe.return=ve,pe)}function oe(ve,pe,Te,qe){var Et=Te.type;return Et===E?Me(ve,pe,Te.props.children,qe,Te.key):pe!==null&&(pe.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===ee&&_e(Et)===pe.type)?(pe=m(pe,Te.props),Pt(pe,Te),pe.return=ve,pe):(pe=Io(Te.type,Te.key,Te.props,null,ve.mode,qe),Pt(pe,Te),pe.return=ve,pe)}function ke(ve,pe,Te,qe){return pe===null||pe.tag!==4||pe.stateNode.containerInfo!==Te.containerInfo||pe.stateNode.implementation!==Te.implementation?(pe=qo(Te,ve.mode,qe),pe.return=ve,pe):(pe=m(pe,Te.children||[]),pe.return=ve,pe)}function Me(ve,pe,Te,qe,Et){return pe===null||pe.tag!==7?(pe=Ts(Te,ve.mode,qe,Et),pe.return=ve,pe):(pe=m(pe,Te),pe.return=ve,pe)}function Fe(ve,pe,Te){if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return pe=Ml(""+pe,ve.mode,Te),pe.return=ve,pe;if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case y:return Te=Io(pe.type,pe.key,pe.props,null,ve.mode,Te),Pt(Te,pe),Te.return=ve,Te;case L:return pe=qo(pe,ve.mode,Te),pe.return=ve,pe;case ee:return pe=_e(pe),Fe(ve,pe,Te)}if(we(pe)||q(pe))return pe=Ts(pe,ve.mode,Te,null),pe.return=ve,pe;if(typeof pe.then=="function")return Fe(ve,it(pe),Te);if(pe.$$typeof===F)return Fe(ve,Nu(ve,pe),Te);lt(ve,pe)}return null}function Le(ve,pe,Te,qe){var Et=pe!==null?pe.key:null;if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return Et!==null?null:I(ve,pe,""+Te,qe);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case y:return Te.key===Et?oe(ve,pe,Te,qe):null;case L:return Te.key===Et?ke(ve,pe,Te,qe):null;case ee:return Te=_e(Te),Le(ve,pe,Te,qe)}if(we(Te)||q(Te))return Et!==null?null:Me(ve,pe,Te,qe,null);if(typeof Te.then=="function")return Le(ve,pe,it(Te),qe);if(Te.$$typeof===F)return Le(ve,pe,Nu(ve,Te),qe);lt(ve,Te)}return null}function Ce(ve,pe,Te,qe,Et){if(typeof qe=="string"&&qe!==""||typeof qe=="number"||typeof qe=="bigint")return ve=ve.get(Te)||null,I(pe,ve,""+qe,Et);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case y:return ve=ve.get(qe.key===null?Te:qe.key)||null,oe(pe,ve,qe,Et);case L:return ve=ve.get(qe.key===null?Te:qe.key)||null,ke(pe,ve,qe,Et);case ee:return qe=_e(qe),Ce(ve,pe,Te,qe,Et)}if(we(qe)||q(qe))return ve=ve.get(Te)||null,Me(pe,ve,qe,Et,null);if(typeof qe.then=="function")return Ce(ve,pe,Te,it(qe),Et);if(qe.$$typeof===F)return Ce(ve,pe,Te,Nu(pe,qe),Et);lt(pe,qe)}return null}function ct(ve,pe,Te,qe){for(var Et=null,gn=null,gt=pe,Vt=pe=0,nn=null;gt!==null&&Vt<Te.length;Vt++){gt.index>Vt?(nn=gt,gt=null):nn=gt.sibling;var yn=Le(ve,gt,Te[Vt],qe);if(yn===null){gt===null&&(gt=nn);break}t&&gt&&yn.alternate===null&&i(ve,gt),pe=b(yn,pe,Vt),gn===null?Et=yn:gn.sibling=yn,gn=yn,gt=nn}if(Vt===Te.length)return s(ve,gt),Zt&&Ti(ve,Vt),Et;if(gt===null){for(;Vt<Te.length;Vt++)gt=Fe(ve,Te[Vt],qe),gt!==null&&(pe=b(gt,pe,Vt),gn===null?Et=gt:gn.sibling=gt,gn=gt);return Zt&&Ti(ve,Vt),Et}for(gt=u(gt);Vt<Te.length;Vt++)nn=Ce(gt,ve,Vt,Te[Vt],qe),nn!==null&&(t&&nn.alternate!==null&&gt.delete(nn.key===null?Vt:nn.key),pe=b(nn,pe,Vt),gn===null?Et=nn:gn.sibling=nn,gn=nn);return t&&gt.forEach(function(ll){return i(ve,ll)}),Zt&&Ti(ve,Vt),Et}function Dt(ve,pe,Te,qe){if(Te==null)throw Error(a(151));for(var Et=null,gn=null,gt=pe,Vt=pe=0,nn=null,yn=Te.next();gt!==null&&!yn.done;Vt++,yn=Te.next()){gt.index>Vt?(nn=gt,gt=null):nn=gt.sibling;var ll=Le(ve,gt,yn.value,qe);if(ll===null){gt===null&&(gt=nn);break}t&&gt&&ll.alternate===null&&i(ve,gt),pe=b(ll,pe,Vt),gn===null?Et=ll:gn.sibling=ll,gn=ll,gt=nn}if(yn.done)return s(ve,gt),Zt&&Ti(ve,Vt),Et;if(gt===null){for(;!yn.done;Vt++,yn=Te.next())yn=Fe(ve,yn.value,qe),yn!==null&&(pe=b(yn,pe,Vt),gn===null?Et=yn:gn.sibling=yn,gn=yn);return Zt&&Ti(ve,Vt),Et}for(gt=u(gt);!yn.done;Vt++,yn=Te.next())yn=Ce(gt,ve,Vt,yn.value,qe),yn!==null&&(t&&yn.alternate!==null&&gt.delete(yn.key===null?Vt:yn.key),pe=b(yn,pe,Vt),gn===null?Et=yn:gn.sibling=yn,gn=yn);return t&&gt.forEach(function(Gv){return i(ve,Gv)}),Zt&&Ti(ve,Vt),Et}function Cn(ve,pe,Te,qe){if(typeof Te=="object"&&Te!==null&&Te.type===E&&Te.key===null&&(Te=Te.props.children),typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case y:e:{for(var Et=Te.key;pe!==null;){if(pe.key===Et){if(Et=Te.type,Et===E){if(pe.tag===7){s(ve,pe.sibling),qe=m(pe,Te.props.children),qe.return=ve,ve=qe;break e}}else if(pe.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===ee&&_e(Et)===pe.type){s(ve,pe.sibling),qe=m(pe,Te.props),Pt(qe,Te),qe.return=ve,ve=qe;break e}s(ve,pe);break}else i(ve,pe);pe=pe.sibling}Te.type===E?(qe=Ts(Te.props.children,ve.mode,qe,Te.key),qe.return=ve,ve=qe):(qe=Io(Te.type,Te.key,Te.props,null,ve.mode,qe),Pt(qe,Te),qe.return=ve,ve=qe)}return N(ve);case L:e:{for(Et=Te.key;pe!==null;){if(pe.key===Et)if(pe.tag===4&&pe.stateNode.containerInfo===Te.containerInfo&&pe.stateNode.implementation===Te.implementation){s(ve,pe.sibling),qe=m(pe,Te.children||[]),qe.return=ve,ve=qe;break e}else{s(ve,pe);break}else i(ve,pe);pe=pe.sibling}qe=qo(Te,ve.mode,qe),qe.return=ve,ve=qe}return N(ve);case ee:return Te=_e(Te),Cn(ve,pe,Te,qe)}if(we(Te))return ct(ve,pe,Te,qe);if(q(Te)){if(Et=q(Te),typeof Et!="function")throw Error(a(150));return Te=Et.call(Te),Dt(ve,pe,Te,qe)}if(typeof Te.then=="function")return Cn(ve,pe,it(Te),qe);if(Te.$$typeof===F)return Cn(ve,pe,Nu(ve,Te),qe);lt(ve,Te)}return typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint"?(Te=""+Te,pe!==null&&pe.tag===6?(s(ve,pe.sibling),qe=m(pe,Te),qe.return=ve,ve=qe):(s(ve,pe),qe=Ml(Te,ve.mode,qe),qe.return=ve,ve=qe),N(ve)):s(ve,pe)}return function(ve,pe,Te,qe){try{ht=0;var Et=Cn(ve,pe,Te,qe);return He=null,Et}catch(gt){if(gt===fe||gt===J)throw gt;var gn=Gr(29,gt,null,ve.mode);return gn.lanes=qe,gn.return=ve,gn}}}var Dn=Xt(!0),Ht=Xt(!1),at=!1;function Je(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qn(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Rt(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Wt(t,i,s){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(wn&2)!==0){var m=u.pending;return m===null?i.next=i:(i.next=m.next,m.next=i),u.pending=i,i=$r(t),zl(t,null,s),i}return Bl(t,u,i,s),$r(t)}function vn(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var u=i.lanes;u&=t.pendingLanes,s|=u,i.lanes=s,gi(t,s)}}function vr(t,i){var s=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,s===u)){var m=null,b=null;if(s=s.firstBaseUpdate,s!==null){do{var N={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};b===null?m=b=N:b=b.next=N,s=s.next}while(s!==null);b===null?m=b=i:b=b.next=i}else m=b=i;s={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:b,shared:u.shared,callbacks:u.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}var Mr=!1;function Ln(){if(Mr){var t=g;if(t!==null)throw t}}function lr(t,i,s,u){Mr=!1;var m=t.updateQueue;at=!1;var b=m.firstBaseUpdate,N=m.lastBaseUpdate,I=m.shared.pending;if(I!==null){m.shared.pending=null;var oe=I,ke=oe.next;oe.next=null,N===null?b=ke:N.next=ke,N=oe;var Me=t.alternate;Me!==null&&(Me=Me.updateQueue,I=Me.lastBaseUpdate,I!==N&&(I===null?Me.firstBaseUpdate=ke:I.next=ke,Me.lastBaseUpdate=oe))}if(b!==null){var Fe=m.baseState;N=0,Me=ke=oe=null,I=b;do{var Le=I.lane&-536870913,Ce=Le!==I.lane;if(Ce?(tn&Le)===Le:(u&Le)===Le){Le!==0&&Le===d&&(Mr=!0),Me!==null&&(Me=Me.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var ct=t,Dt=I;Le=i;var Cn=s;switch(Dt.tag){case 1:if(ct=Dt.payload,typeof ct=="function"){Fe=ct.call(Cn,Fe,Le);break e}Fe=ct;break e;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=Dt.payload,Le=typeof ct=="function"?ct.call(Cn,Fe,Le):ct,Le==null)break e;Fe=x({},Fe,Le);break e;case 2:at=!0}}Le=I.callback,Le!==null&&(t.flags|=64,Ce&&(t.flags|=8192),Ce=m.callbacks,Ce===null?m.callbacks=[Le]:Ce.push(Le))}else Ce={lane:Le,tag:I.tag,payload:I.payload,callback:I.callback,next:null},Me===null?(ke=Me=Ce,oe=Fe):Me=Me.next=Ce,N|=Le;if(I=I.next,I===null){if(I=m.shared.pending,I===null)break;Ce=I,I=Ce.next,Ce.next=null,m.lastBaseUpdate=Ce,m.shared.pending=null}}while(!0);Me===null&&(oe=Fe),m.baseState=oe,m.firstBaseUpdate=ke,m.lastBaseUpdate=Me,b===null&&(m.shared.lanes=0),Zo|=N,t.lanes=N,t.memoizedState=Fe}}function Wr(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function ur(t,i){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Wr(s[t],i)}var Kt=W(null),cn=W(0);function Fn(t,i){t=yo,P(cn,t),P(Kt,i),yo=t|i.baseLanes}function mn(){P(cn,yo),P(Kt,Kt.current)}function br(){yo=cn.current,k(Kt),k(cn)}var Hn=W(null),fn=null;function rr(t){var i=t.alternate;P(ln,ln.current&1),P(Hn,t),fn===null&&(i===null||Kt.current!==null||i.memoizedState!==null)&&(fn=t)}function bn(t){P(ln,ln.current),P(Hn,t),fn===null&&(fn=t)}function cr(t){t.tag===22?(P(ln,ln.current),P(Hn,t),fn===null&&(fn=t)):fr()}function fr(){P(ln,ln.current),P(Hn,Hn.current)}function _n(t){k(Hn),fn===t&&(fn=null),k(ln)}var ln=W(0);function Vr(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s0(s)||o0(s)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Vn=0,St=null,At=null,hn=null,ci=!1,Pi=!1,ni=!1,hr=0,Rs=0,Ds=null,ju=0;function jn(){throw Error(a(321))}function Lc(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!Rr(t[s],i[s]))return!1;return!0}function jc(t,i,s,u,m,b){return Vn=b,St=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Y.H=t===null||t.memoizedState===null?d1:yd,ni=!1,b=s(u,m),ni=!1,Pi&&(b=as(i,s,u,m)),Ou(t),b}function Ou(t){Y.H=Mc;var i=At!==null&&At.next!==null;if(Vn=0,hn=At=St=null,ci=!1,Rs=0,Ds=null,i)throw Error(a(300));t===null||kr||(t=t.dependencies,t!==null&&ku(t)&&(kr=!0))}function as(t,i,s,u){St=t;var m=0;do{if(Pi&&(Ds=null),Rs=0,Pi=!1,25<=m)throw Error(a(301));if(m+=1,hn=At=null,t.updateQueue!=null){var b=t.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}Y.H=p1,b=i(s,u)}while(Pi);return b}function cd(){var t=Y.H,i=t.useState()[0];return i=typeof i.then=="function"?Bs(i):i,t=t.useState()[0],(At!==null?At.memoizedState:null)!==t&&(St.flags|=1024),i}function Oc(){var t=hr!==0;return hr=0,t}function Cc(t,i,s){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~s}function Cu(t){if(ci){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}ci=!1}Vn=0,hn=At=St=null,Pi=!1,Rs=hr=0,Ds=null}function Tr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?St.memoizedState=hn=t:hn=hn.next=t,hn}function Yn(){if(At===null){var t=St.alternate;t=t!==null?t.memoizedState:null}else t=At.next;var i=hn===null?St.memoizedState:hn.next;if(i!==null)hn=i,At=t;else{if(t===null)throw St.alternate===null?Error(a(467)):Error(a(310));At=t,t={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},hn===null?St.memoizedState=hn=t:hn=hn.next=t}return hn}function Fl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bs(t){var i=Rs;return Rs+=1,Ds===null&&(Ds=[]),t=Be(Ds,t,i),i=St,(hn===null?i.memoizedState:hn.next)===null&&(i=i.alternate,Y.H=i===null||i.memoizedState===null?d1:yd),t}function Wo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Bs(t);if(t.$$typeof===F)return Ur(t)}throw Error(a(438,String(t)))}function oo(t){var i=null,s=St.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var u=St.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(m){return m.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=Fl(),St.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(t),u=0;u<t;u++)s[u]=he;return i.index++,s}function ja(t,i){return typeof i=="function"?i(t):i}function Ru(t){var i=Yn();return Vo(i,At,t)}function Vo(t,i,s){var u=t.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=s;var m=t.baseQueue,b=u.pending;if(b!==null){if(m!==null){var N=m.next;m.next=b.next,b.next=N}i.baseQueue=m=b,u.pending=null}if(b=t.baseState,m===null)t.memoizedState=b;else{i=m.next;var I=N=null,oe=null,ke=i,Me=!1;do{var Fe=ke.lane&-536870913;if(Fe!==ke.lane?(tn&Fe)===Fe:(Vn&Fe)===Fe){var Le=ke.revertLane;if(Le===0)oe!==null&&(oe=oe.next={lane:0,revertLane:0,gesture:null,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null}),Fe===d&&(Me=!0);else if((Vn&Le)===Le){ke=ke.next,Le===d&&(Me=!0);continue}else Fe={lane:0,revertLane:ke.revertLane,gesture:null,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null},oe===null?(I=oe=Fe,N=b):oe=oe.next=Fe,St.lanes|=Le,Zo|=Le;Fe=ke.action,ni&&s(b,Fe),b=ke.hasEagerState?ke.eagerState:s(b,Fe)}else Le={lane:Fe,revertLane:ke.revertLane,gesture:ke.gesture,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null},oe===null?(I=oe=Le,N=b):oe=oe.next=Le,St.lanes|=Fe,Zo|=Fe;ke=ke.next}while(ke!==null&&ke!==i);if(oe===null?N=b:oe.next=I,!Rr(b,t.memoizedState)&&(kr=!0,Me&&(s=g,s!==null)))throw s;t.memoizedState=b,t.baseState=N,t.baseQueue=oe,u.lastRenderedState=b}return m===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function Du(t){var i=Yn(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var u=s.dispatch,m=s.pending,b=i.memoizedState;if(m!==null){s.pending=null;var N=m=m.next;do b=t(b,N.action),N=N.next;while(N!==m);Rr(b,i.memoizedState)||(kr=!0),i.memoizedState=b,i.baseQueue===null&&(i.baseState=b),s.lastRenderedState=b}return[b,u]}function Bu(t,i,s){var u=St,m=Yn(),b=Zt;if(b){if(s===void 0)throw Error(a(407));s=s()}else s=i();var N=!Rr((At||m).memoizedState,s);if(N&&(m.memoizedState=s,kr=!0),m=m.queue,fd(Dc.bind(null,u,m,t),[t]),m.getSnapshot!==i||N||hn!==null&&hn.memoizedState.tag&1){if(u.flags|=2048,uo(9,{destroy:void 0},Rc.bind(null,u,m,s,i),null),Bn===null)throw Error(a(349));b||(Vn&127)!==0||ss(u,i,s)}return s}function ss(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=St.updateQueue,i===null?(i=Fl(),St.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function Rc(t,i,s,u){i.value=s,i.getSnapshot=u,Bf(i)&&Bc(t)}function Dc(t,i,s){return s(function(){Bf(i)&&Bc(t)})}function Bf(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!Rr(t,s)}catch{return!0}}function Bc(t){var i=rs(t,2);i!==null&&$i(i,t,2)}function zs(t){var i=Tr();if(typeof t=="function"){var s=t;if(t=s(),ni){rt(!0);try{s()}finally{rt(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:t},i}function zf(t,i,s,u){return t.baseState=s,Vo(t,At,typeof u=="function"?u:ja)}function Uf(t,i,s,u,m){if(qf(t))throw Error(a(485));if(t=i.action,t!==null){var b={payload:m,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){b.listeners.push(N)}};Y.T!==null?s(!0):b.isTransition=!1,u(b),s=i.pending,s===null?(b.next=i.pending=b,Mf(i,b)):(b.next=s.next,i.pending=s.next=b)}}function Mf(t,i){var s=i.action,u=i.payload,m=t.state;if(i.isTransition){var b=Y.T,N={};Y.T=N;try{var I=s(m,u),oe=Y.S;oe!==null&&oe(N,I),zc(t,i,I)}catch(ke){lo(t,i,ke)}finally{b!==null&&N.types!==null&&(b.types=N.types),Y.T=b}}else try{b=s(m,u),zc(t,i,b)}catch(ke){lo(t,i,ke)}}function zc(t,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(u){Pf(t,i,u)},function(u){return lo(t,i,u)}):Pf(t,i,s)}function Pf(t,i,s){i.status="fulfilled",i.value=s,zu(i),t.state=s,i=t.pending,i!==null&&(s=i.next,s===i?t.pending=null:(s=s.next,i.next=s,Mf(t,s)))}function lo(t,i,s){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=s,zu(i),i=i.next;while(i!==u)}t.action=null}function zu(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Hl(t,i){return i}function Oa(t,i){if(Zt){var s=Bn.formState;if(s!==null){e:{var u=St;if(Zt){if(Rn){t:{for(var m=Rn,b=Wn;m.nodeType!==8;){if(!b){m=null;break t}if(m=Ca(m.nextSibling),m===null){m=null;break t}}b=m.data,m=b==="F!"||b==="F"?m:null}if(m){Rn=Ca(m.nextSibling),u=m.data==="F!";break e}}Ns(u)}u=!1}u&&(i=s[0])}}return s=Tr(),s.memoizedState=s.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hl,lastRenderedState:i},s.queue=u,s=c1.bind(null,St,u),u.dispatch=s,u=zs(!1),b=gd.bind(null,St,!1,u.queue),u=Tr(),m={state:i,dispatch:null,action:t,pending:null},u.queue=m,s=Uf.bind(null,St,m,b,s),m.dispatch=s,u.memoizedState=t,[i,s,!1]}function os(t){var i=Yn();return ls(i,At,t)}function ls(t,i,s){if(i=Vo(t,i,Hl)[0],t=Ru(ja)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=Bs(i)}catch(N){throw N===fe?J:N}else u=i;i=Yn();var m=i.queue,b=m.dispatch;return s!==i.memoizedState&&(St.flags|=2048,uo(9,{destroy:void 0},Uu.bind(null,m,s),null)),[u,b,t]}function Uu(t,i){t.action=i}function Mu(t){var i=Yn(),s=At;if(s!==null)return ls(i,s,t);Yn(),i=i.memoizedState,s=Yn();var u=s.queue.dispatch;return s.memoizedState=t,[i,u,!1]}function uo(t,i,s,u){return t={tag:t,create:s,deps:u,inst:i,next:null},i=St.updateQueue,i===null&&(i=Fl(),St.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=t.next=t:(u=s.next,s.next=t,t.next=u,i.lastEffect=t),t}function If(){return Yn().memoizedState}function Yo(t,i,s,u){var m=Tr();St.flags|=t,m.memoizedState=uo(1|i,{destroy:void 0},s,u===void 0?null:u)}function Ko(t,i,s,u){var m=Yn();u=u===void 0?null:u;var b=m.memoizedState.inst;At!==null&&u!==null&&Lc(u,At.memoizedState.deps)?m.memoizedState=uo(i,b,s,u):(St.flags|=t,m.memoizedState=uo(1|i,b,s,u))}function Jp(t,i){Yo(8390656,8,t,i)}function fd(t,i){Ko(2048,8,t,i)}function Py(t){St.flags|=4;var i=St.updateQueue;if(i===null)i=Fl(),St.updateQueue=i,i.events=[t];else{var s=i.events;s===null?i.events=[t]:s.push(t)}}function Xp(t){var i=Yn().memoizedState;return Py({ref:i,nextImpl:t}),function(){if((wn&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function Zp(t,i){return Ko(4,2,t,i)}function Qp(t,i){return Ko(4,4,t,i)}function e1(t,i){if(typeof i=="function"){t=t();var s=i(t);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function t1(t,i,s){s=s!=null?s.concat([t]):null,Ko(4,4,e1.bind(null,i,t),s)}function hd(){}function n1(t,i){var s=Yn();i=i===void 0?null:i;var u=s.memoizedState;return i!==null&&Lc(i,u[1])?u[0]:(s.memoizedState=[t,i],t)}function r1(t,i){var s=Yn();i=i===void 0?null:i;var u=s.memoizedState;if(i!==null&&Lc(i,u[1]))return u[0];if(u=t(),ni){rt(!0);try{t()}finally{rt(!1)}}return s.memoizedState=[u,i],u}function dd(t,i,s){return s===void 0||(Vn&1073741824)!==0&&(tn&261930)===0?t.memoizedState=i:(t.memoizedState=s,t=im(),St.lanes|=t,Zo|=t,s)}function i1(t,i,s,u){return Rr(s,i)?s:Kt.current!==null?(t=dd(t,s,u),Rr(t,i)||(kr=!0),t):(Vn&42)===0||(Vn&1073741824)!==0&&(tn&261930)===0?(kr=!0,t.memoizedState=s):(t=im(),St.lanes|=t,Zo|=t,i)}function a1(t,i,s,u,m){var b=le.p;le.p=b!==0&&8>b?b:8;var N=Y.T,I={};Y.T=I,gd(t,!1,i,s);try{var oe=m(),ke=Y.S;if(ke!==null&&ke(I,oe),oe!==null&&typeof oe=="object"&&typeof oe.then=="function"){var Me=D(oe,u);Uc(t,i,Me,la(t))}else Uc(t,i,u,la(t))}catch(Fe){Uc(t,i,{then:function(){},status:"rejected",reason:Fe},la())}finally{le.p=b,N!==null&&I.types!==null&&(N.types=I.types),Y.T=N}}function Iy(){}function pd(t,i,s,u){if(t.tag!==5)throw Error(a(476));var m=s1(t).queue;a1(t,m,i,ue,s===null?Iy:function(){return o1(t),s(u)})}function s1(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:ue},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:s},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function o1(t){var i=s1(t);i.next===null&&(i=t.alternate.memoizedState),Uc(t,i.next.queue,{},la())}function md(){return Ur(ef)}function l1(){return Yn().memoizedState}function u1(){return Yn().memoizedState}function qy(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var s=la();t=Rt(s);var u=Wt(i,t,s);u!==null&&($i(u,i,s),vn(u,i,s)),i={cache:Go()},t.payload=i;return}i=i.return}}function Fy(t,i,s){var u=la();s={lane:u,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},qf(t)?f1(i,s):(s=bu(t,i,s,u),s!==null&&($i(s,t,u),h1(s,i,u)))}function c1(t,i,s){var u=la();Uc(t,i,s,u)}function Uc(t,i,s,u){var m={lane:u,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(qf(t))f1(i,m);else{var b=t.alternate;if(t.lanes===0&&(b===null||b.lanes===0)&&(b=i.lastRenderedReducer,b!==null))try{var N=i.lastRenderedState,I=b(N,s);if(m.hasEagerState=!0,m.eagerState=I,Rr(I,N))return Bl(t,i,m,0),Bn===null&&Dl(),!1}catch{}if(s=bu(t,i,m,u),s!==null)return $i(s,t,u),h1(s,i,u),!0}return!1}function gd(t,i,s,u){if(u={lane:2,revertLane:Yd(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},qf(t)){if(i)throw Error(a(479))}else i=bu(t,s,u,2),i!==null&&$i(i,t,2)}function qf(t){var i=t.alternate;return t===St||i!==null&&i===St}function f1(t,i){Pi=ci=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function h1(t,i,s){if((s&4194048)!==0){var u=i.lanes;u&=t.pendingLanes,s|=u,i.lanes=s,gi(t,s)}}var Mc={readContext:Ur,use:Wo,useCallback:jn,useContext:jn,useEffect:jn,useImperativeHandle:jn,useLayoutEffect:jn,useInsertionEffect:jn,useMemo:jn,useReducer:jn,useRef:jn,useState:jn,useDebugValue:jn,useDeferredValue:jn,useTransition:jn,useSyncExternalStore:jn,useId:jn,useHostTransitionStatus:jn,useFormState:jn,useActionState:jn,useOptimistic:jn,useMemoCache:jn,useCacheRefresh:jn};Mc.useEffectEvent=jn;var d1={readContext:Ur,use:Wo,useCallback:function(t,i){return Tr().memoizedState=[t,i===void 0?null:i],t},useContext:Ur,useEffect:Jp,useImperativeHandle:function(t,i,s){s=s!=null?s.concat([t]):null,Yo(4194308,4,e1.bind(null,i,t),s)},useLayoutEffect:function(t,i){return Yo(4194308,4,t,i)},useInsertionEffect:function(t,i){Yo(4,2,t,i)},useMemo:function(t,i){var s=Tr();i=i===void 0?null:i;var u=t();if(ni){rt(!0);try{t()}finally{rt(!1)}}return s.memoizedState=[u,i],u},useReducer:function(t,i,s){var u=Tr();if(s!==void 0){var m=s(i);if(ni){rt(!0);try{s(i)}finally{rt(!1)}}}else m=i;return u.memoizedState=u.baseState=m,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:m},u.queue=t,t=t.dispatch=Fy.bind(null,St,t),[u.memoizedState,t]},useRef:function(t){var i=Tr();return t={current:t},i.memoizedState=t},useState:function(t){t=zs(t);var i=t.queue,s=c1.bind(null,St,i);return i.dispatch=s,[t.memoizedState,s]},useDebugValue:hd,useDeferredValue:function(t,i){var s=Tr();return dd(s,t,i)},useTransition:function(){var t=zs(!1);return t=a1.bind(null,St,t.queue,!0,!1),Tr().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,s){var u=St,m=Tr();if(Zt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),Bn===null)throw Error(a(349));(tn&127)!==0||ss(u,i,s)}m.memoizedState=s;var b={value:s,getSnapshot:i};return m.queue=b,Jp(Dc.bind(null,u,b,t),[t]),u.flags|=2048,uo(9,{destroy:void 0},Rc.bind(null,u,b,s,i),null),s},useId:function(){var t=Tr(),i=Bn.identifierPrefix;if(Zt){var s=Ui,u=zi;s=(u&~(1<<32-jt(u)-1)).toString(32)+s,i="_"+i+"R_"+s,s=hr++,0<s&&(i+="H"+s.toString(32)),i+="_"}else s=ju++,i="_"+i+"r_"+s.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:md,useFormState:Oa,useActionState:Oa,useOptimistic:function(t){var i=Tr();i.memoizedState=i.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=gd.bind(null,St,!0,s),s.dispatch=i,[t,i]},useMemoCache:oo,useCacheRefresh:function(){return Tr().memoizedState=qy.bind(null,St)},useEffectEvent:function(t){var i=Tr(),s={impl:t};return i.memoizedState=s,function(){if((wn&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},yd={readContext:Ur,use:Wo,useCallback:n1,useContext:Ur,useEffect:fd,useImperativeHandle:t1,useInsertionEffect:Zp,useLayoutEffect:Qp,useMemo:r1,useReducer:Ru,useRef:If,useState:function(){return Ru(ja)},useDebugValue:hd,useDeferredValue:function(t,i){var s=Yn();return i1(s,At.memoizedState,t,i)},useTransition:function(){var t=Ru(ja)[0],i=Yn().memoizedState;return[typeof t=="boolean"?t:Bs(t),i]},useSyncExternalStore:Bu,useId:l1,useHostTransitionStatus:md,useFormState:os,useActionState:os,useOptimistic:function(t,i){var s=Yn();return zf(s,At,t,i)},useMemoCache:oo,useCacheRefresh:u1};yd.useEffectEvent=Xp;var p1={readContext:Ur,use:Wo,useCallback:n1,useContext:Ur,useEffect:fd,useImperativeHandle:t1,useInsertionEffect:Zp,useLayoutEffect:Qp,useMemo:r1,useReducer:Du,useRef:If,useState:function(){return Du(ja)},useDebugValue:hd,useDeferredValue:function(t,i){var s=Yn();return At===null?dd(s,t,i):i1(s,At.memoizedState,t,i)},useTransition:function(){var t=Du(ja)[0],i=Yn().memoizedState;return[typeof t=="boolean"?t:Bs(t),i]},useSyncExternalStore:Bu,useId:l1,useHostTransitionStatus:md,useFormState:Mu,useActionState:Mu,useOptimistic:function(t,i){var s=Yn();return At!==null?zf(s,At,t,i):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:oo,useCacheRefresh:u1};p1.useEffectEvent=Xp;function vd(t,i,s,u){i=t.memoizedState,s=s(u,i),s=s==null?i:x({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var bd={enqueueSetState:function(t,i,s){t=t._reactInternals;var u=la(),m=Rt(u);m.payload=i,s!=null&&(m.callback=s),i=Wt(t,m,u),i!==null&&($i(i,t,u),vn(i,t,u))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var u=la(),m=Rt(u);m.tag=1,m.payload=i,s!=null&&(m.callback=s),i=Wt(t,m,u),i!==null&&($i(i,t,u),vn(i,t,u))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=la(),u=Rt(s);u.tag=2,i!=null&&(u.callback=i),i=Wt(t,u,s),i!==null&&($i(i,t,s),vn(i,t,s))}};function m1(t,i,s,u,m,b,N){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,b,N):i.prototype&&i.prototype.isPureReactComponent?!Qa(s,u)||!Qa(m,b):!0}function g1(t,i,s,u){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,u),i.state!==t&&bd.enqueueReplaceState(i,i.state,null)}function $l(t,i){var s=i;if("ref"in i){s={};for(var u in i)u!=="ref"&&(s[u]=i[u])}if(t=t.defaultProps){s===i&&(s=x({},s));for(var m in t)s[m]===void 0&&(s[m]=t[m])}return s}function y1(t){Rl(t)}function v1(t){console.error(t)}function b1(t){Rl(t)}function Ff(t,i){try{var s=t.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function w1(t,i,s){try{var u=t.onCaughtError;u(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function wd(t,i,s){return s=Rt(s),s.tag=3,s.payload={element:null},s.callback=function(){Ff(t,i)},s}function x1(t){return t=Rt(t),t.tag=3,t}function _1(t,i,s,u){var m=s.type.getDerivedStateFromError;if(typeof m=="function"){var b=u.value;t.payload=function(){return m(b)},t.callback=function(){w1(i,s,u)}}var N=s.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(t.callback=function(){w1(i,s,u),typeof m!="function"&&(Qo===null?Qo=new Set([this]):Qo.add(this));var I=u.stack;this.componentDidCatch(u.value,{componentStack:I!==null?I:""})})}function Hy(t,i,s,u,m){if(s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=s.alternate,i!==null&&Os(i,s,m,!0),s=Hn.current,s!==null){switch(s.tag){case 31:case 13:return fn===null?eh():s.alternate===null&&dr===0&&(dr=3),s.flags&=-257,s.flags|=65536,s.lanes=m,u===ge?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([u]):i.add(u),Gd(t,u,m)),!1;case 22:return s.flags|=65536,u===ge?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([u]):s.add(u)),Gd(t,u,m)),!1}throw Error(a(435,s.tag))}return Gd(t,u,m),eh(),!1}if(Zt)return i=Hn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=m,u!==aa&&(t=Error(a(422),{cause:u}),Ho(Ri(t,s)))):(u!==aa&&(i=Error(a(423),{cause:u}),Ho(Ri(i,s))),t=t.current.alternate,t.flags|=65536,m&=-m,t.lanes|=m,u=Ri(u,s),m=wd(t.stateNode,u,m),vr(t,m),dr!==4&&(dr=2)),!1;var b=Error(a(520),{cause:u});if(b=Ri(b,s),Wc===null?Wc=[b]:Wc.push(b),dr!==4&&(dr=2),i===null)return!0;u=Ri(u,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,t=m&-m,s.lanes|=t,t=wd(s.stateNode,u,t),vr(s,t),!1;case 1:if(i=s.type,b=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Qo===null||!Qo.has(b))))return s.flags|=65536,m&=-m,s.lanes|=m,m=x1(m),_1(m,t,s,u),vr(s,m),!1}s=s.return}while(s!==null);return!1}var xd=Error(a(461)),kr=!1;function ri(t,i,s,u){i.child=t===null?Ht(i,null,s,u):Dn(i,t.child,s,u)}function S1(t,i,s,u,m){s=s.render;var b=i.ref;if("ref"in u){var N={};for(var I in u)I!=="ref"&&(N[I]=u[I])}else N=u;return Cs(i),u=jc(t,i,s,N,b,m),I=Oc(),t!==null&&!kr?(Cc(t,i,m),co(t,i,m)):(Zt&&I&&Tc(i),i.flags|=1,ri(t,i,u,m),i.child)}function A1(t,i,s,u,m){if(t===null){var b=s.type;return typeof b=="function"&&!xu(b)&&b.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=b,E1(t,i,b,u,m)):(t=Io(s.type,null,u,i,i.mode,m),t.ref=i.ref,t.return=i,i.child=t)}if(b=t.child,!Ld(t,m)){var N=b.memoizedProps;if(s=s.compare,s=s!==null?s:Qa,s(N,u)&&t.ref===i.ref)return co(t,i,m)}return i.flags|=1,t=Ci(b,u),t.ref=i.ref,t.return=i,i.child=t}function E1(t,i,s,u,m){if(t!==null){var b=t.memoizedProps;if(Qa(b,u)&&t.ref===i.ref)if(kr=!1,i.pendingProps=u=b,Ld(t,m))(t.flags&131072)!==0&&(kr=!0);else return i.lanes=t.lanes,co(t,i,m)}return _d(t,i,s,u,m)}function T1(t,i,s,u){var m=u.children,b=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((i.flags&128)!==0){if(b=b!==null?b.baseLanes|s:s,t!==null){for(u=i.child=t.child,m=0;u!==null;)m=m|u.lanes|u.childLanes,u=u.sibling;u=m&~b}else u=0,i.child=null;return k1(t,i,b,s,u)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&V(i,b!==null?b.cachePool:null),b!==null?Fn(i,b):mn(),cr(i);else return u=i.lanes=536870912,k1(t,i,b!==null?b.baseLanes|s:s,s,u)}else b!==null?(V(i,b.cachePool),Fn(i,b),fr(),i.memoizedState=null):(t!==null&&V(i,null),mn(),fr());return ri(t,i,m,s),i.child}function Pc(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function k1(t,i,s,u,m){var b=H();return b=b===null?null:{parent:nr._currentValue,pool:b},i.memoizedState={baseLanes:s,cachePool:b},t!==null&&V(i,null),mn(),cr(i),t!==null&&Os(t,i,u,!0),i.childLanes=m,null}function Hf(t,i){return i=Gf({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function N1(t,i,s){return Dn(i,t.child,null,s),t=Hf(i,i.pendingProps),t.flags|=2,_n(i),i.memoizedState=null,t}function $y(t,i,s){var u=i.pendingProps,m=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Zt){if(u.mode==="hidden")return t=Hf(i,u),i.lanes=536870912,Pc(null,t);if(bn(i),(t=Rn)?(t=Im(t,Wn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:ks!==null?{id:zi,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},s=_u(t),s.return=i,i.child=s,Br=i,Rn=null)):t=null,t===null)throw Ns(i);return i.lanes=536870912,null}return Hf(i,u)}var b=t.memoizedState;if(b!==null){var N=b.dehydrated;if(bn(i),m)if(i.flags&256)i.flags&=-257,i=N1(t,i,s);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(a(558));else if(kr||Os(t,i,s,!1),m=(s&t.childLanes)!==0,kr||m){if(u=Bn,u!==null&&(N=yi(u,s),N!==0&&N!==b.retryLane))throw b.retryLane=N,rs(t,N),$i(u,t,N),xd;eh(),i=N1(t,i,s)}else t=b.treeContext,Rn=Ca(N.nextSibling),Br=i,Zt=!0,ti=null,Wn=!1,t!==null&&Rf(i,t),i=Hf(i,u),i.flags|=4096;return i}return t=Ci(t.child,{mode:u.mode,children:u.children}),t.ref=i.ref,i.child=t,t.return=i,t}function $f(t,i){var s=i.ref;if(s===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(i.flags|=4194816)}}function _d(t,i,s,u,m){return Cs(i),s=jc(t,i,s,u,void 0,m),u=Oc(),t!==null&&!kr?(Cc(t,i,m),co(t,i,m)):(Zt&&u&&Tc(i),i.flags|=1,ri(t,i,s,m),i.child)}function L1(t,i,s,u,m,b){return Cs(i),i.updateQueue=null,s=as(i,u,s,m),Ou(t),u=Oc(),t!==null&&!kr?(Cc(t,i,b),co(t,i,b)):(Zt&&u&&Tc(i),i.flags|=1,ri(t,i,s,b),i.child)}function j1(t,i,s,u,m){if(Cs(i),i.stateNode===null){var b=Dr,N=s.contextType;typeof N=="object"&&N!==null&&(b=Ur(N)),b=new s(u,b),i.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=bd,i.stateNode=b,b._reactInternals=i,b=i.stateNode,b.props=u,b.state=i.memoizedState,b.refs={},Je(i),N=s.contextType,b.context=typeof N=="object"&&N!==null?Ur(N):Dr,b.state=i.memoizedState,N=s.getDerivedStateFromProps,typeof N=="function"&&(vd(i,s,N,u),b.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(N=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),N!==b.state&&bd.enqueueReplaceState(b,b.state,null),lr(i,u,b,m),Ln(),b.state=i.memoizedState),typeof b.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(t===null){b=i.stateNode;var I=i.memoizedProps,oe=$l(s,I);b.props=oe;var ke=b.context,Me=s.contextType;N=Dr,typeof Me=="object"&&Me!==null&&(N=Ur(Me));var Fe=s.getDerivedStateFromProps;Me=typeof Fe=="function"||typeof b.getSnapshotBeforeUpdate=="function",I=i.pendingProps!==I,Me||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(I||ke!==N)&&g1(i,b,u,N),at=!1;var Le=i.memoizedState;b.state=Le,lr(i,u,b,m),Ln(),ke=i.memoizedState,I||Le!==ke||at?(typeof Fe=="function"&&(vd(i,s,Fe,u),ke=i.memoizedState),(oe=at||m1(i,s,oe,u,Le,ke,N))?(Me||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(i.flags|=4194308)):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=ke),b.props=u,b.state=ke,b.context=N,u=oe):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{b=i.stateNode,qn(t,i),N=i.memoizedProps,Me=$l(s,N),b.props=Me,Fe=i.pendingProps,Le=b.context,ke=s.contextType,oe=Dr,typeof ke=="object"&&ke!==null&&(oe=Ur(ke)),I=s.getDerivedStateFromProps,(ke=typeof I=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(N!==Fe||Le!==oe)&&g1(i,b,u,oe),at=!1,Le=i.memoizedState,b.state=Le,lr(i,u,b,m),Ln();var Ce=i.memoizedState;N!==Fe||Le!==Ce||at||t!==null&&t.dependencies!==null&&ku(t.dependencies)?(typeof I=="function"&&(vd(i,s,I,u),Ce=i.memoizedState),(Me=at||m1(i,s,Me,u,Le,Ce,oe)||t!==null&&t.dependencies!==null&&ku(t.dependencies))?(ke||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(u,Ce,oe),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(u,Ce,oe)),typeof b.componentDidUpdate=="function"&&(i.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof b.componentDidUpdate!="function"||N===t.memoizedProps&&Le===t.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||N===t.memoizedProps&&Le===t.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=Ce),b.props=u,b.state=Ce,b.context=oe,u=Me):(typeof b.componentDidUpdate!="function"||N===t.memoizedProps&&Le===t.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||N===t.memoizedProps&&Le===t.memoizedState||(i.flags|=1024),u=!1)}return b=u,$f(t,i),u=(i.flags&128)!==0,b||u?(b=i.stateNode,s=u&&typeof s.getDerivedStateFromError!="function"?null:b.render(),i.flags|=1,t!==null&&u?(i.child=Dn(i,t.child,null,m),i.child=Dn(i,null,s,m)):ri(t,i,s,m),i.memoizedState=b.state,t=i.child):t=co(t,i,m),t}function O1(t,i,s,u){return ao(),i.flags|=256,ri(t,i,s,u),i.child}var Sd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ad(t){return{baseLanes:t,cachePool:X()}}function Ed(t,i,s){return t=t!==null?t.childLanes&~s:0,i&&(t|=oa),t}function C1(t,i,s){var u=i.pendingProps,m=!1,b=(i.flags&128)!==0,N;if((N=b)||(N=t!==null&&t.memoizedState===null?!1:(ln.current&2)!==0),N&&(m=!0,i.flags&=-129),N=(i.flags&32)!==0,i.flags&=-33,t===null){if(Zt){if(m?rr(i):fr(),(t=Rn)?(t=Im(t,Wn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:ks!==null?{id:zi,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},s=_u(t),s.return=i,i.child=s,Br=i,Rn=null)):t=null,t===null)throw Ns(i);return o0(t)?i.lanes=32:i.lanes=536870912,null}var I=u.children;return u=u.fallback,m?(fr(),m=i.mode,I=Gf({mode:"hidden",children:I},m),u=Ts(u,m,s,null),I.return=i,u.return=i,I.sibling=u,i.child=I,u=i.child,u.memoizedState=Ad(s),u.childLanes=Ed(t,N,s),i.memoizedState=Sd,Pc(null,u)):(rr(i),Td(i,I))}var oe=t.memoizedState;if(oe!==null&&(I=oe.dehydrated,I!==null)){if(b)i.flags&256?(rr(i),i.flags&=-257,i=kd(t,i,s)):i.memoizedState!==null?(fr(),i.child=t.child,i.flags|=128,i=null):(fr(),I=u.fallback,m=i.mode,u=Gf({mode:"visible",children:u.children},m),I=Ts(I,m,s,null),I.flags|=2,u.return=i,I.return=i,u.sibling=I,i.child=u,Dn(i,t.child,null,s),u=i.child,u.memoizedState=Ad(s),u.childLanes=Ed(t,N,s),i.memoizedState=Sd,i=Pc(null,u));else if(rr(i),o0(I)){if(N=I.nextSibling&&I.nextSibling.dataset,N)var ke=N.dgst;N=ke,u=Error(a(419)),u.stack="",u.digest=N,Ho({value:u,source:null,stack:null}),i=kd(t,i,s)}else if(kr||Os(t,i,s,!1),N=(s&t.childLanes)!==0,kr||N){if(N=Bn,N!==null&&(u=yi(N,s),u!==0&&u!==oe.retryLane))throw oe.retryLane=u,rs(t,u),$i(N,t,u),xd;s0(I)||eh(),i=kd(t,i,s)}else s0(I)?(i.flags|=192,i.child=t.child,i=null):(t=oe.treeContext,Rn=Ca(I.nextSibling),Br=i,Zt=!0,ti=null,Wn=!1,t!==null&&Rf(i,t),i=Td(i,u.children),i.flags|=4096);return i}return m?(fr(),I=u.fallback,m=i.mode,oe=t.child,ke=oe.sibling,u=Ci(oe,{mode:"hidden",children:u.children}),u.subtreeFlags=oe.subtreeFlags&65011712,ke!==null?I=Ci(ke,I):(I=Ts(I,m,s,null),I.flags|=2),I.return=i,u.return=i,u.sibling=I,i.child=u,Pc(null,u),u=i.child,I=t.child.memoizedState,I===null?I=Ad(s):(m=I.cachePool,m!==null?(oe=nr._currentValue,m=m.parent!==oe?{parent:oe,pool:oe}:m):m=X(),I={baseLanes:I.baseLanes|s,cachePool:m}),u.memoizedState=I,u.childLanes=Ed(t,N,s),i.memoizedState=Sd,Pc(t.child,u)):(rr(i),s=t.child,t=s.sibling,s=Ci(s,{mode:"visible",children:u.children}),s.return=i,s.sibling=null,t!==null&&(N=i.deletions,N===null?(i.deletions=[t],i.flags|=16):N.push(t)),i.child=s,i.memoizedState=null,s)}function Td(t,i){return i=Gf({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Gf(t,i){return t=Gr(22,t,null,i),t.lanes=0,t}function kd(t,i,s){return Dn(i,t.child,null,s),t=Td(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function R1(t,i,s){t.lanes|=i;var u=t.alternate;u!==null&&(u.lanes|=i),$o(t.return,i,s)}function Nd(t,i,s,u,m,b){var N=t.memoizedState;N===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:s,tailMode:m,treeForkCount:b}:(N.isBackwards=i,N.rendering=null,N.renderingStartTime=0,N.last=u,N.tail=s,N.tailMode=m,N.treeForkCount=b)}function D1(t,i,s){var u=i.pendingProps,m=u.revealOrder,b=u.tail;u=u.children;var N=ln.current,I=(N&2)!==0;if(I?(N=N&1|2,i.flags|=128):N&=1,P(ln,N),ri(t,i,u,s),u=Zt?Pl:0,!I&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&R1(t,s,i);else if(t.tag===19)R1(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(m){case"forwards":for(s=i.child,m=null;s!==null;)t=s.alternate,t!==null&&Vr(t)===null&&(m=s),s=s.sibling;s=m,s===null?(m=i.child,i.child=null):(m=s.sibling,s.sibling=null),Nd(i,!1,m,s,b,u);break;case"backwards":case"unstable_legacy-backwards":for(s=null,m=i.child,i.child=null;m!==null;){if(t=m.alternate,t!==null&&Vr(t)===null){i.child=m;break}t=m.sibling,m.sibling=s,s=m,m=t}Nd(i,!0,s,null,b,u);break;case"together":Nd(i,!1,null,null,void 0,u);break;default:i.memoizedState=null}return i.child}function co(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),Zo|=i.lanes,(s&i.childLanes)===0)if(t!==null){if(Os(t,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,s=Ci(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=Ci(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function Ld(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&ku(t)))}function Gy(t,i,s){switch(i.tag){case 3:Ne(i,i.stateNode.containerInfo),js(i,nr,t.memoizedState.cache),ao();break;case 27:case 5:Ue(i);break;case 4:Ne(i,i.stateNode.containerInfo);break;case 10:js(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,bn(i),null;break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(rr(i),i.flags|=128,null):(s&i.child.childLanes)!==0?C1(t,i,s):(rr(i),t=co(t,i,s),t!==null?t.sibling:null);rr(i);break;case 19:var m=(t.flags&128)!==0;if(u=(s&i.childLanes)!==0,u||(Os(t,i,s,!1),u=(s&i.childLanes)!==0),m){if(u)return D1(t,i,s);i.flags|=128}if(m=i.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),P(ln,ln.current),u)break;return null;case 22:return i.lanes=0,T1(t,i,s,i.pendingProps);case 24:js(i,nr,t.memoizedState.cache)}return co(t,i,s)}function B1(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps)kr=!0;else{if(!Ld(t,s)&&(i.flags&128)===0)return kr=!1,Gy(t,i,s);kr=(t.flags&131072)!==0}else kr=!1,Zt&&(i.flags&1048576)!==0&&Cf(i,Pl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var u=i.pendingProps;if(t=_e(i.elementType),i.type=t,typeof t=="function")xu(t)?(u=$l(t,u),i.tag=1,i=j1(null,i,t,u,s)):(i.tag=0,i=_d(null,i,t,u,s));else{if(t!=null){var m=t.$$typeof;if(m===G){i.tag=11,i=S1(null,i,t,u,s);break e}else if(m===Q){i.tag=14,i=A1(null,i,t,u,s);break e}}throw i=ie(t)||t,Error(a(306,i,""))}}return i;case 0:return _d(t,i,i.type,i.pendingProps,s);case 1:return u=i.type,m=$l(u,i.pendingProps),j1(t,i,u,m,s);case 3:e:{if(Ne(i,i.stateNode.containerInfo),t===null)throw Error(a(387));u=i.pendingProps;var b=i.memoizedState;m=b.element,qn(t,i),lr(i,u,null,s);var N=i.memoizedState;if(u=N.cache,js(i,nr,u),u!==b.cache&&so(i,[nr],s,!0),Ln(),u=N.element,b.isDehydrated)if(b={element:u,isDehydrated:!1,cache:N.cache},i.updateQueue.baseState=b,i.memoizedState=b,i.flags&256){i=O1(t,i,u,s);break e}else if(u!==m){m=Ri(Error(a(424)),i),Ho(m),i=O1(t,i,u,s);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,Rn=Ca(t.firstChild),Br=i,Zt=!0,ti=null,Wn=!0,s=Ht(i,null,u,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(ao(),u===m){i=co(t,i,s);break e}ri(t,i,u,s)}i=i.child}return i;case 26:return $f(t,i),t===null?(s=Wm(i.type,null,i.pendingProps,null))?i.memoizedState=s:Zt||(s=i.type,t=i.pendingProps,u=oh(ae.current).createElement(s),u[xn]=i,u[Pn]=t,ii(u,s,t),Zn(u),i.stateNode=u):i.memoizedState=Wm(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Ue(i),t===null&&Zt&&(u=i.stateNode=Hm(i.type,i.pendingProps,ae.current),Br=i,Wn=!0,m=Rn,rl(i.type)?(l0=m,Rn=Ca(u.firstChild)):Rn=m),ri(t,i,i.pendingProps.children,s),$f(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Zt&&((m=u=Rn)&&(u=xv(u,i.type,i.pendingProps,Wn),u!==null?(i.stateNode=u,Br=i,Rn=Ca(u.firstChild),Wn=!1,m=!0):m=!1),m||Ns(i)),Ue(i),m=i.type,b=i.pendingProps,N=t!==null?t.memoizedProps:null,u=b.children,r0(m,b)?u=null:N!==null&&r0(m,N)&&(i.flags|=32),i.memoizedState!==null&&(m=jc(t,i,cd,null,null,s),ef._currentValue=m),$f(t,i),ri(t,i,u,s),i.child;case 6:return t===null&&Zt&&((t=s=Rn)&&(s=_v(s,i.pendingProps,Wn),s!==null?(i.stateNode=s,Br=i,Rn=null,t=!0):t=!1),t||Ns(i)),null;case 13:return C1(t,i,s);case 4:return Ne(i,i.stateNode.containerInfo),u=i.pendingProps,t===null?i.child=Dn(i,null,u,s):ri(t,i,u,s),i.child;case 11:return S1(t,i,i.type,i.pendingProps,s);case 7:return ri(t,i,i.pendingProps,s),i.child;case 8:return ri(t,i,i.pendingProps.children,s),i.child;case 12:return ri(t,i,i.pendingProps.children,s),i.child;case 10:return u=i.pendingProps,js(i,i.type,u.value),ri(t,i,u.children,s),i.child;case 9:return m=i.type._context,u=i.pendingProps.children,Cs(i),m=Ur(m),u=u(m),i.flags|=1,ri(t,i,u,s),i.child;case 14:return A1(t,i,i.type,i.pendingProps,s);case 15:return E1(t,i,i.type,i.pendingProps,s);case 19:return D1(t,i,s);case 31:return $y(t,i,s);case 22:return T1(t,i,s,i.pendingProps);case 24:return Cs(i),u=Ur(nr),t===null?(m=H(),m===null&&(m=Bn,b=Go(),m.pooledCache=b,b.refCount++,b!==null&&(m.pooledCacheLanes|=s),m=b),i.memoizedState={parent:u,cache:m},Je(i),js(i,nr,m)):((t.lanes&s)!==0&&(qn(t,i),lr(i,null,null,s),Ln()),m=t.memoizedState,b=i.memoizedState,m.parent!==u?(m={parent:u,cache:u},i.memoizedState=m,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=m),js(i,nr,u)):(u=b.cache,js(i,nr,u),u!==m.cache&&so(i,[nr],s,!0))),ri(t,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function fo(t){t.flags|=4}function jd(t,i,s,u,m){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(m&335544128)===m)if(t.stateNode.complete)t.flags|=8192;else if(lm())t.flags|=8192;else throw De=ge,Ee}else t.flags&=-16777217}function z1(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Xm(i))if(lm())t.flags|=8192;else throw De=ge,Ee}function Wf(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?qr():536870912,t.lanes|=i,Fu|=i)}function Ic(t,i){if(!Zt)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function $n(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,u=0;if(i)for(var m=t.child;m!==null;)s|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=t,m=m.sibling;else for(m=t.child;m!==null;)s|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=t,m=m.sibling;return t.subtreeFlags|=u,t.childLanes=s,i}function Wy(t,i,s){var u=i.pendingProps;switch(Eu(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $n(i),null;case 1:return $n(i),null;case 3:return s=i.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),Mi(nr),Ae(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(zr(i)?fo(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Nc())),$n(i),null;case 26:var m=i.type,b=i.memoizedState;return t===null?(fo(i),b!==null?($n(i),z1(i,b)):($n(i),jd(i,m,null,u,s))):b?b!==t.memoizedState?(fo(i),$n(i),z1(i,b)):($n(i),i.flags&=-16777217):(t=t.memoizedProps,t!==u&&fo(i),$n(i),jd(i,m,t,u,s)),null;case 27:if(We(i),s=ae.current,m=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==u&&fo(i);else{if(!u){if(i.stateNode===null)throw Error(a(166));return $n(i),null}t=K.current,zr(i)?kc(i):(t=Hm(m,u,s),i.stateNode=t,fo(i))}return $n(i),null;case 5:if(We(i),m=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==u&&fo(i);else{if(!u){if(i.stateNode===null)throw Error(a(166));return $n(i),null}if(b=K.current,zr(i))kc(i);else{var N=oh(ae.current);switch(b){case 1:b=N.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:b=N.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":b=N.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":b=N.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":b=N.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof u.is=="string"?N.createElement("select",{is:u.is}):N.createElement("select"),u.multiple?b.multiple=!0:u.size&&(b.size=u.size);break;default:b=typeof u.is=="string"?N.createElement(m,{is:u.is}):N.createElement(m)}}b[xn]=i,b[Pn]=u;e:for(N=i.child;N!==null;){if(N.tag===5||N.tag===6)b.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===i)break e;for(;N.sibling===null;){if(N.return===null||N.return===i)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}i.stateNode=b;e:switch(ii(b,m,u),m){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&fo(i)}}return $n(i),jd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,s),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==u&&fo(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(a(166));if(t=ae.current,zr(i)){if(t=i.stateNode,s=i.memoizedProps,u=null,m=Br,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}t[xn]=i,t=!!(t.nodeValue===s||u!==null&&u.suppressHydrationWarning===!0||Cm(t.nodeValue,s)),t||Ns(i,!0)}else t=oh(t).createTextNode(u),t[xn]=i,i.stateNode=t}return $n(i),null;case 31:if(s=i.memoizedState,t===null||t.memoizedState!==null){if(u=zr(i),s!==null){if(t===null){if(!u)throw Error(a(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[xn]=i}else ao(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;$n(i),t=!1}else s=Nc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return i.flags&256?(_n(i),i):(_n(i),null);if((i.flags&128)!==0)throw Error(a(558))}return $n(i),null;case 13:if(u=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(m=zr(i),u!==null&&u.dehydrated!==null){if(t===null){if(!m)throw Error(a(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(a(317));m[xn]=i}else ao(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;$n(i),m=!1}else m=Nc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=m),m=!0;if(!m)return i.flags&256?(_n(i),i):(_n(i),null)}return _n(i),(i.flags&128)!==0?(i.lanes=s,i):(s=u!==null,t=t!==null&&t.memoizedState!==null,s&&(u=i.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool),b=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(b=u.memoizedState.cachePool.pool),b!==m&&(u.flags|=2048)),s!==t&&s&&(i.child.flags|=8192),Wf(i,i.updateQueue),$n(i),null);case 4:return Ae(),t===null&&Zd(i.stateNode.containerInfo),$n(i),null;case 10:return Mi(i.type),$n(i),null;case 19:if(k(ln),u=i.memoizedState,u===null)return $n(i),null;if(m=(i.flags&128)!==0,b=u.rendering,b===null)if(m)Ic(u,!1);else{if(dr!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(b=Vr(t),b!==null){for(i.flags|=128,Ic(u,!1),t=b.updateQueue,i.updateQueue=t,Wf(i,t),i.subtreeFlags=0,t=s,s=i.child;s!==null;)Ul(s,t),s=s.sibling;return P(ln,ln.current&1|2),Zt&&Ti(i,u.treeForkCount),i.child}t=t.sibling}u.tail!==null&&Lt()>Xf&&(i.flags|=128,m=!0,Ic(u,!1),i.lanes=4194304)}else{if(!m)if(t=Vr(b),t!==null){if(i.flags|=128,m=!0,t=t.updateQueue,i.updateQueue=t,Wf(i,t),Ic(u,!0),u.tail===null&&u.tailMode==="hidden"&&!b.alternate&&!Zt)return $n(i),null}else 2*Lt()-u.renderingStartTime>Xf&&s!==536870912&&(i.flags|=128,m=!0,Ic(u,!1),i.lanes=4194304);u.isBackwards?(b.sibling=i.child,i.child=b):(t=u.last,t!==null?t.sibling=b:i.child=b,u.last=b)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=Lt(),t.sibling=null,s=ln.current,P(ln,m?s&1|2:s&1),Zt&&Ti(i,u.treeForkCount),t):($n(i),null);case 22:case 23:return _n(i),br(),u=i.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(s&536870912)!==0&&(i.flags&128)===0&&($n(i),i.subtreeFlags&6&&(i.flags|=8192)):$n(i),s=i.updateQueue,s!==null&&Wf(i,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==s&&(i.flags|=2048),t!==null&&k(U),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Mi(nr),$n(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function Vy(t,i){switch(Eu(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Mi(nr),Ae(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return We(i),null;case 31:if(i.memoizedState!==null){if(_n(i),i.alternate===null)throw Error(a(340));ao()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(_n(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));ao()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return k(ln),null;case 4:return Ae(),null;case 10:return Mi(i.type),null;case 22:case 23:return _n(i),br(),t!==null&&k(U),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Mi(nr),null;case 25:return null;default:return null}}function U1(t,i){switch(Eu(i),i.tag){case 3:Mi(nr),Ae();break;case 26:case 27:case 5:We(i);break;case 4:Ae();break;case 31:i.memoizedState!==null&&_n(i);break;case 13:_n(i);break;case 19:k(ln);break;case 10:Mi(i.type);break;case 22:case 23:_n(i),br(),t!==null&&k(U);break;case 24:Mi(nr)}}function qc(t,i){try{var s=i.updateQueue,u=s!==null?s.lastEffect:null;if(u!==null){var m=u.next;s=m;do{if((s.tag&t)===t){u=void 0;var b=s.create,N=s.inst;u=b(),N.destroy=u}s=s.next}while(s!==m)}}catch(I){An(i,i.return,I)}}function Jo(t,i,s){try{var u=i.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var b=m.next;u=b;do{if((u.tag&t)===t){var N=u.inst,I=N.destroy;if(I!==void 0){N.destroy=void 0,m=i;var oe=s,ke=I;try{ke()}catch(Me){An(m,oe,Me)}}}u=u.next}while(u!==b)}}catch(Me){An(i,i.return,Me)}}function M1(t){var i=t.updateQueue;if(i!==null){var s=t.stateNode;try{ur(i,s)}catch(u){An(t,t.return,u)}}}function P1(t,i,s){s.props=$l(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(u){An(t,i,u)}}function Fc(t,i){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof s=="function"?t.refCleanup=s(u):s.current=u}}catch(m){An(t,i,m)}}function Us(t,i){var s=t.ref,u=t.refCleanup;if(s!==null)if(typeof u=="function")try{u()}catch(m){An(t,i,m)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(m){An(t,i,m)}else s.current=null}function I1(t){var i=t.type,s=t.memoizedProps,u=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&u.focus();break e;case"img":s.src?u.src=s.src:s.srcSet&&(u.srcset=s.srcSet)}}catch(m){An(t,t.return,m)}}function Od(t,i,s){try{var u=t.stateNode;mv(u,t.type,s,i),u[Pn]=i}catch(m){An(t,t.return,m)}}function q1(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&rl(t.type)||t.tag===4}function Cd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||q1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&rl(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rd(t,i,s){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(t),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Qi));else if(u!==4&&(u===27&&rl(t.type)&&(s=t.stateNode,i=null),t=t.child,t!==null))for(Rd(t,i,s),t=t.sibling;t!==null;)Rd(t,i,s),t=t.sibling}function Vf(t,i,s){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(u!==4&&(u===27&&rl(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Vf(t,i,s),t=t.sibling;t!==null;)Vf(t,i,s),t=t.sibling}function F1(t){var i=t.stateNode,s=t.memoizedProps;try{for(var u=t.type,m=i.attributes;m.length;)i.removeAttributeNode(m[0]);ii(i,u,s),i[xn]=t,i[Pn]=s}catch(b){An(t,t.return,b)}}var ho=!1,Nr=!1,Dd=!1,H1=typeof WeakSet=="function"?WeakSet:Set,Yr=null;function Yy(t,i){if(t=t.containerInfo,t0=ph,t=ts(t),ka(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var u=s.getSelection&&s.getSelection();if(u&&u.rangeCount!==0){s=u.anchorNode;var m=u.anchorOffset,b=u.focusNode;u=u.focusOffset;try{s.nodeType,b.nodeType}catch{s=null;break e}var N=0,I=-1,oe=-1,ke=0,Me=0,Fe=t,Le=null;t:for(;;){for(var Ce;Fe!==s||m!==0&&Fe.nodeType!==3||(I=N+m),Fe!==b||u!==0&&Fe.nodeType!==3||(oe=N+u),Fe.nodeType===3&&(N+=Fe.nodeValue.length),(Ce=Fe.firstChild)!==null;)Le=Fe,Fe=Ce;for(;;){if(Fe===t)break t;if(Le===s&&++ke===m&&(I=N),Le===b&&++Me===u&&(oe=N),(Ce=Fe.nextSibling)!==null)break;Fe=Le,Le=Fe.parentNode}Fe=Ce}s=I===-1||oe===-1?null:{start:I,end:oe}}else s=null}s=s||{start:0,end:0}}else s=null;for(n0={focusedElem:t,selectionRange:s},ph=!1,Yr=i;Yr!==null;)if(i=Yr,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Yr=t;else for(;Yr!==null;){switch(i=Yr,b=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)m=t[s],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&b!==null){t=void 0,s=i,m=b.memoizedProps,b=b.memoizedState,u=s.stateNode;try{var ct=$l(s.type,m);t=u.getSnapshotBeforeUpdate(ct,b),u.__reactInternalSnapshotBeforeUpdate=t}catch(Dt){An(s,s.return,Dt)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,s=t.nodeType,s===9)a0(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":a0(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,Yr=t;break}Yr=i.return}}function $1(t,i,s){var u=s.flags;switch(s.tag){case 0:case 11:case 15:mo(t,s),u&4&&qc(5,s);break;case 1:if(mo(t,s),u&4)if(t=s.stateNode,i===null)try{t.componentDidMount()}catch(N){An(s,s.return,N)}else{var m=$l(s.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(m,i,t.__reactInternalSnapshotBeforeUpdate)}catch(N){An(s,s.return,N)}}u&64&&M1(s),u&512&&Fc(s,s.return);break;case 3:if(mo(t,s),u&64&&(t=s.updateQueue,t!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{ur(t,i)}catch(N){An(s,s.return,N)}}break;case 27:i===null&&u&4&&F1(s);case 26:case 5:mo(t,s),i===null&&u&4&&I1(s),u&512&&Fc(s,s.return);break;case 12:mo(t,s);break;case 31:mo(t,s),u&4&&V1(t,s);break;case 13:mo(t,s),u&4&&Y1(t,s),u&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=rv.bind(null,s),Sv(t,s))));break;case 22:if(u=s.memoizedState!==null||ho,!u){i=i!==null&&i.memoizedState!==null||Nr,m=ho;var b=Nr;ho=u,(Nr=i)&&!b?go(t,s,(s.subtreeFlags&8772)!==0):mo(t,s),ho=m,Nr=b}break;case 30:break;default:mo(t,s)}}function G1(t){var i=t.alternate;i!==null&&(t.alternate=null,G1(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ws(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Kn=null,Ii=!1;function po(t,i,s){for(s=s.child;s!==null;)W1(t,i,s),s=s.sibling}function W1(t,i,s){if(Ze&&typeof Ze.onCommitFiberUnmount=="function")try{Ze.onCommitFiberUnmount(Xe,s)}catch{}switch(s.tag){case 26:Nr||Us(s,i),po(t,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Nr||Us(s,i);var u=Kn,m=Ii;rl(s.type)&&(Kn=s.stateNode,Ii=!1),po(t,i,s),Xc(s.stateNode),Kn=u,Ii=m;break;case 5:Nr||Us(s,i);case 6:if(u=Kn,m=Ii,Kn=null,po(t,i,s),Kn=u,Ii=m,Kn!==null)if(Ii)try{(Kn.nodeType===9?Kn.body:Kn.nodeName==="HTML"?Kn.ownerDocument.body:Kn).removeChild(s.stateNode)}catch(b){An(s,i,b)}else try{Kn.removeChild(s.stateNode)}catch(b){An(s,i,b)}break;case 18:Kn!==null&&(Ii?(t=Kn,Mm(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Ju(t)):Mm(Kn,s.stateNode));break;case 4:u=Kn,m=Ii,Kn=s.stateNode.containerInfo,Ii=!0,po(t,i,s),Kn=u,Ii=m;break;case 0:case 11:case 14:case 15:Jo(2,s,i),Nr||Jo(4,s,i),po(t,i,s);break;case 1:Nr||(Us(s,i),u=s.stateNode,typeof u.componentWillUnmount=="function"&&P1(s,i,u)),po(t,i,s);break;case 21:po(t,i,s);break;case 22:Nr=(u=Nr)||s.memoizedState!==null,po(t,i,s),Nr=u;break;default:po(t,i,s)}}function V1(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ju(t)}catch(s){An(i,i.return,s)}}}function Y1(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ju(t)}catch(s){An(i,i.return,s)}}function Ky(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new H1),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new H1),i;default:throw Error(a(435,t.tag))}}function Yf(t,i){var s=Ky(t);i.forEach(function(u){if(!s.has(u)){s.add(u);var m=iv.bind(null,t,u);u.then(m,m)}})}function qi(t,i){var s=i.deletions;if(s!==null)for(var u=0;u<s.length;u++){var m=s[u],b=t,N=i,I=N;e:for(;I!==null;){switch(I.tag){case 27:if(rl(I.type)){Kn=I.stateNode,Ii=!1;break e}break;case 5:Kn=I.stateNode,Ii=!1;break e;case 3:case 4:Kn=I.stateNode.containerInfo,Ii=!0;break e}I=I.return}if(Kn===null)throw Error(a(160));W1(b,N,m),Kn=null,Ii=!1,b=m.alternate,b!==null&&(b.return=null),m.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)K1(i,t),i=i.sibling}var us=null;function K1(t,i){var s=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:qi(i,t),Fi(t),u&4&&(Jo(3,t,t.return),qc(3,t),Jo(5,t,t.return));break;case 1:qi(i,t),Fi(t),u&512&&(Nr||s===null||Us(s,s.return)),u&64&&ho&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?u:s.concat(u))));break;case 26:var m=us;if(qi(i,t),Fi(t),u&512&&(Nr||s===null||Us(s,s.return)),u&4){var b=s!==null?s.memoizedState:null;if(u=t.memoizedState,s===null)if(u===null)if(t.stateNode===null){e:{u=t.type,s=t.memoizedProps,m=m.ownerDocument||m;t:switch(u){case"title":b=m.getElementsByTagName("title")[0],(!b||b[Vi]||b[xn]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=m.createElement(u),m.head.insertBefore(b,m.querySelector("head > title"))),ii(b,u,s),b[xn]=t,Zn(b),u=b;break e;case"link":var N=Km("link","href",m).get(u+(s.href||""));if(N){for(var I=0;I<N.length;I++)if(b=N[I],b.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&b.getAttribute("rel")===(s.rel==null?null:s.rel)&&b.getAttribute("title")===(s.title==null?null:s.title)&&b.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){N.splice(I,1);break t}}b=m.createElement(u),ii(b,u,s),m.head.appendChild(b);break;case"meta":if(N=Km("meta","content",m).get(u+(s.content||""))){for(I=0;I<N.length;I++)if(b=N[I],b.getAttribute("content")===(s.content==null?null:""+s.content)&&b.getAttribute("name")===(s.name==null?null:s.name)&&b.getAttribute("property")===(s.property==null?null:s.property)&&b.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&b.getAttribute("charset")===(s.charSet==null?null:s.charSet)){N.splice(I,1);break t}}b=m.createElement(u),ii(b,u,s),m.head.appendChild(b);break;default:throw Error(a(468,u))}b[xn]=t,Zn(b),u=b}t.stateNode=u}else Jm(m,t.type,t.stateNode);else t.stateNode=Ym(m,u,t.memoizedProps);else b!==u?(b===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):b.count--,u===null?Jm(m,t.type,t.stateNode):Ym(m,u,t.memoizedProps)):u===null&&t.stateNode!==null&&Od(t,t.memoizedProps,s.memoizedProps)}break;case 27:qi(i,t),Fi(t),u&512&&(Nr||s===null||Us(s,s.return)),s!==null&&u&4&&Od(t,t.memoizedProps,s.memoizedProps);break;case 5:if(qi(i,t),Fi(t),u&512&&(Nr||s===null||Us(s,s.return)),t.flags&32){m=t.stateNode;try{Zi(m,"")}catch(ct){An(t,t.return,ct)}}u&4&&t.stateNode!=null&&(m=t.memoizedProps,Od(t,m,s!==null?s.memoizedProps:m)),u&1024&&(Dd=!0);break;case 6:if(qi(i,t),Fi(t),u&4){if(t.stateNode===null)throw Error(a(162));u=t.memoizedProps,s=t.stateNode;try{s.nodeValue=u}catch(ct){An(t,t.return,ct)}}break;case 3:if(ch=null,m=us,us=lh(i.containerInfo),qi(i,t),us=m,Fi(t),u&4&&s!==null&&s.memoizedState.isDehydrated)try{Ju(i.containerInfo)}catch(ct){An(t,t.return,ct)}Dd&&(Dd=!1,J1(t));break;case 4:u=us,us=lh(t.stateNode.containerInfo),qi(i,t),Fi(t),us=u;break;case 12:qi(i,t),Fi(t);break;case 31:qi(i,t),Fi(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Yf(t,u)));break;case 13:qi(i,t),Fi(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Jf=Lt()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Yf(t,u)));break;case 22:m=t.memoizedState!==null;var oe=s!==null&&s.memoizedState!==null,ke=ho,Me=Nr;if(ho=ke||m,Nr=Me||oe,qi(i,t),Nr=Me,ho=ke,Fi(t),u&8192)e:for(i=t.stateNode,i._visibility=m?i._visibility&-2:i._visibility|1,m&&(s===null||oe||ho||Nr||Gl(t)),s=null,i=t;;){if(i.tag===5||i.tag===26){if(s===null){oe=s=i;try{if(b=oe.stateNode,m)N=b.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{I=oe.stateNode;var Fe=oe.memoizedProps.style,Le=Fe!=null&&Fe.hasOwnProperty("display")?Fe.display:null;I.style.display=Le==null||typeof Le=="boolean"?"":(""+Le).trim()}}catch(ct){An(oe,oe.return,ct)}}}else if(i.tag===6){if(s===null){oe=i;try{oe.stateNode.nodeValue=m?"":oe.memoizedProps}catch(ct){An(oe,oe.return,ct)}}}else if(i.tag===18){if(s===null){oe=i;try{var Ce=oe.stateNode;m?Pm(Ce,!0):Pm(oe.stateNode,!1)}catch(ct){An(oe,oe.return,ct)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=t.updateQueue,u!==null&&(s=u.retryQueue,s!==null&&(u.retryQueue=null,Yf(t,s))));break;case 19:qi(i,t),Fi(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Yf(t,u)));break;case 30:break;case 21:break;default:qi(i,t),Fi(t)}}function Fi(t){var i=t.flags;if(i&2){try{for(var s,u=t.return;u!==null;){if(q1(u)){s=u;break}u=u.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var m=s.stateNode,b=Cd(t);Vf(t,b,m);break;case 5:var N=s.stateNode;s.flags&32&&(Zi(N,""),s.flags&=-33);var I=Cd(t);Vf(t,I,N);break;case 3:case 4:var oe=s.stateNode.containerInfo,ke=Cd(t);Rd(t,ke,oe);break;default:throw Error(a(161))}}catch(Me){An(t,t.return,Me)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function J1(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;J1(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function mo(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)$1(t,i.alternate,i),i=i.sibling}function Gl(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Jo(4,i,i.return),Gl(i);break;case 1:Us(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&P1(i,i.return,s),Gl(i);break;case 27:Xc(i.stateNode);case 26:case 5:Us(i,i.return),Gl(i);break;case 22:i.memoizedState===null&&Gl(i);break;case 30:Gl(i);break;default:Gl(i)}t=t.sibling}}function go(t,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,m=t,b=i,N=b.flags;switch(b.tag){case 0:case 11:case 15:go(m,b,s),qc(4,b);break;case 1:if(go(m,b,s),u=b,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(ke){An(u,u.return,ke)}if(u=b,m=u.updateQueue,m!==null){var I=u.stateNode;try{var oe=m.shared.hiddenCallbacks;if(oe!==null)for(m.shared.hiddenCallbacks=null,m=0;m<oe.length;m++)Wr(oe[m],I)}catch(ke){An(u,u.return,ke)}}s&&N&64&&M1(b),Fc(b,b.return);break;case 27:F1(b);case 26:case 5:go(m,b,s),s&&u===null&&N&4&&I1(b),Fc(b,b.return);break;case 12:go(m,b,s);break;case 31:go(m,b,s),s&&N&4&&V1(m,b);break;case 13:go(m,b,s),s&&N&4&&Y1(m,b);break;case 22:b.memoizedState===null&&go(m,b,s),Fc(b,b.return);break;case 30:break;default:go(m,b,s)}i=i.sibling}}function Bd(t,i){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Il(s))}function zd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Il(t))}function cs(t,i,s,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)X1(t,i,s,u),i=i.sibling}function X1(t,i,s,u){var m=i.flags;switch(i.tag){case 0:case 11:case 15:cs(t,i,s,u),m&2048&&qc(9,i);break;case 1:cs(t,i,s,u);break;case 3:cs(t,i,s,u),m&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Il(t)));break;case 12:if(m&2048){cs(t,i,s,u),t=i.stateNode;try{var b=i.memoizedProps,N=b.id,I=b.onPostCommit;typeof I=="function"&&I(N,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(oe){An(i,i.return,oe)}}else cs(t,i,s,u);break;case 31:cs(t,i,s,u);break;case 13:cs(t,i,s,u);break;case 23:break;case 22:b=i.stateNode,N=i.alternate,i.memoizedState!==null?b._visibility&2?cs(t,i,s,u):Hc(t,i):b._visibility&2?cs(t,i,s,u):(b._visibility|=2,Pu(t,i,s,u,(i.subtreeFlags&10256)!==0||!1)),m&2048&&Bd(N,i);break;case 24:cs(t,i,s,u),m&2048&&zd(i.alternate,i);break;default:cs(t,i,s,u)}}function Pu(t,i,s,u,m){for(m=m&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var b=t,N=i,I=s,oe=u,ke=N.flags;switch(N.tag){case 0:case 11:case 15:Pu(b,N,I,oe,m),qc(8,N);break;case 23:break;case 22:var Me=N.stateNode;N.memoizedState!==null?Me._visibility&2?Pu(b,N,I,oe,m):Hc(b,N):(Me._visibility|=2,Pu(b,N,I,oe,m)),m&&ke&2048&&Bd(N.alternate,N);break;case 24:Pu(b,N,I,oe,m),m&&ke&2048&&zd(N.alternate,N);break;default:Pu(b,N,I,oe,m)}i=i.sibling}}function Hc(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=t,u=i,m=u.flags;switch(u.tag){case 22:Hc(s,u),m&2048&&Bd(u.alternate,u);break;case 24:Hc(s,u),m&2048&&zd(u.alternate,u);break;default:Hc(s,u)}i=i.sibling}}var $c=8192;function Iu(t,i,s){if(t.subtreeFlags&$c)for(t=t.child;t!==null;)Z1(t,i,s),t=t.sibling}function Z1(t,i,s){switch(t.tag){case 26:Iu(t,i,s),t.flags&$c&&t.memoizedState!==null&&Bv(s,us,t.memoizedState,t.memoizedProps);break;case 5:Iu(t,i,s);break;case 3:case 4:var u=us;us=lh(t.stateNode.containerInfo),Iu(t,i,s),us=u;break;case 22:t.memoizedState===null&&(u=t.alternate,u!==null&&u.memoizedState!==null?(u=$c,$c=16777216,Iu(t,i,s),$c=u):Iu(t,i,s));break;default:Iu(t,i,s)}}function Q1(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Gc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var u=i[s];Yr=u,tm(u,t)}Q1(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)em(t),t=t.sibling}function em(t){switch(t.tag){case 0:case 11:case 15:Gc(t),t.flags&2048&&Jo(9,t,t.return);break;case 3:Gc(t);break;case 12:Gc(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Kf(t)):Gc(t);break;default:Gc(t)}}function Kf(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var u=i[s];Yr=u,tm(u,t)}Q1(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Jo(8,i,i.return),Kf(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,Kf(i));break;default:Kf(i)}t=t.sibling}}function tm(t,i){for(;Yr!==null;){var s=Yr;switch(s.tag){case 0:case 11:case 15:Jo(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var u=s.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Il(s.memoizedState.cache)}if(u=s.child,u!==null)u.return=s,Yr=u;else e:for(s=t;Yr!==null;){u=Yr;var m=u.sibling,b=u.return;if(G1(u),u===s){Yr=null;break e}if(m!==null){m.return=b,Yr=m;break e}Yr=b}}}var Jy={getCacheForType:function(t){var i=Ur(nr),s=i.data.get(t);return s===void 0&&(s=t(),i.data.set(t,s)),s},cacheSignal:function(){return Ur(nr).controller.signal}},Xy=typeof WeakMap=="function"?WeakMap:Map,wn=0,Bn=null,Qt=null,tn=0,Sn=0,sa=null,Xo=!1,qu=!1,Ud=!1,yo=0,dr=0,Zo=0,Wl=0,Md=0,oa=0,Fu=0,Wc=null,Hi=null,Pd=!1,Jf=0,nm=0,Xf=1/0,Zf=null,Qo=null,Pr=0,el=null,Hu=null,vo=0,Id=0,qd=null,rm=null,Vc=0,Fd=null;function la(){return(wn&2)!==0&&tn!==0?tn&-tn:Y.T!==null?Yd():Sr()}function im(){if(oa===0)if((tn&536870912)===0||Zt){var t=rn;rn<<=1,(rn&3932160)===0&&(rn=262144),oa=t}else oa=536870912;return t=Hn.current,t!==null&&(t.flags|=32),oa}function $i(t,i,s){(t===Bn&&(Sn===2||Sn===9)||t.cancelPendingCommit!==null)&&($u(t,0),tl(t,tn,oa,!1)),_t(t,s),((wn&2)===0||t!==Bn)&&(t===Bn&&((wn&2)===0&&(Wl|=s),dr===4&&tl(t,tn,oa,!1)),Ms(t))}function am(t,i,s){if((wn&6)!==0)throw Error(a(327));var u=!s&&(i&127)===0&&(i&t.expiredLanes)===0||an(t,i),m=u?ev(t,i):$d(t,i,!0),b=u;do{if(m===0){qu&&!u&&tl(t,i,0,!1);break}else{if(s=t.current.alternate,b&&!Zy(s)){m=$d(t,i,!1),b=!1;continue}if(m===2){if(b=i,t.errorRecoveryDisabledLanes&b)var N=0;else N=t.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){i=N;e:{var I=t;m=Wc;var oe=I.current.memoizedState.isDehydrated;if(oe&&($u(I,N).flags|=256),N=$d(I,N,!1),N!==2){if(Ud&&!oe){I.errorRecoveryDisabledLanes|=b,Wl|=b,m=4;break e}b=Hi,Hi=m,b!==null&&(Hi===null?Hi=b:Hi.push.apply(Hi,b))}m=N}if(b=!1,m!==2)continue}}if(m===1){$u(t,0),tl(t,i,0,!0);break}e:{switch(u=t,b=m,b){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:tl(u,i,oa,!Xo);break e;case 2:Hi=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(m=Jf+300-Lt(),10<m)){if(tl(u,i,oa,!Xo),Jt(u,0,!0)!==0)break e;vo=i,u.timeoutHandle=zm(sm.bind(null,u,s,Hi,Zf,Pd,i,oa,Wl,Fu,Xo,b,"Throttled",-0,0),m);break e}sm(u,s,Hi,Zf,Pd,i,oa,Wl,Fu,Xo,b,null,-0,0)}}break}while(!0);Ms(t)}function sm(t,i,s,u,m,b,N,I,oe,ke,Me,Fe,Le,Ce){if(t.timeoutHandle=-1,Fe=i.subtreeFlags,Fe&8192||(Fe&16785408)===16785408){Fe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qi},Z1(i,b,Fe);var ct=(b&62914560)===b?Jf-Lt():(b&4194048)===b?nm-Lt():0;if(ct=zv(Fe,ct),ct!==null){vo=b,t.cancelPendingCommit=ct(pm.bind(null,t,i,b,s,u,m,N,I,oe,Me,Fe,null,Le,Ce)),tl(t,b,N,!ke);return}}pm(t,i,b,s,u,m,N,I,oe)}function Zy(t){for(var i=t;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var u=0;u<s.length;u++){var m=s[u],b=m.getSnapshot;m=m.value;try{if(!Rr(b(),m))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function tl(t,i,s,u){i&=~Md,i&=~Wl,t.suspendedLanes|=i,t.pingedLanes&=~i,u&&(t.warmLanes|=i),u=t.expirationTimes;for(var m=i;0<m;){var b=31-jt(m),N=1<<b;u[b]=-1,m&=~N}s!==0&&ga(t,s,i)}function Qf(){return(wn&6)===0?(Yc(0),!1):!0}function Hd(){if(Qt!==null){if(Sn===0)var t=Qt.return;else t=Qt,La=Ls=null,Cu(t),He=null,ht=0,t=Qt;for(;t!==null;)U1(t.alternate,t),t=t.return;Qt=null}}function $u(t,i){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,vv(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),vo=0,Hd(),Bn=t,Qt=s=Ci(t.current,null),tn=i,Sn=0,sa=null,Xo=!1,qu=an(t,i),Ud=!1,Fu=oa=Md=Wl=Zo=dr=0,Hi=Wc=null,Pd=!1,(i&8)!==0&&(i|=i&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=i;0<u;){var m=31-jt(u),b=1<<m;i|=t[m],u&=~b}return yo=i,Dl(),s}function om(t,i){St=null,Y.H=Mc,i===fe||i===J?(i=Ie(),Sn=3):i===Ee?(i=Ie(),Sn=4):Sn=i===xd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,sa=i,Qt===null&&(dr=1,Ff(t,Ri(i,t.current)))}function lm(){var t=Hn.current;return t===null?!0:(tn&4194048)===tn?fn===null:(tn&62914560)===tn||(tn&536870912)!==0?t===fn:!1}function um(){var t=Y.H;return Y.H=Mc,t===null?Mc:t}function cm(){var t=Y.A;return Y.A=Jy,t}function eh(){dr=4,Xo||(tn&4194048)!==tn&&Hn.current!==null||(qu=!0),(Zo&134217727)===0&&(Wl&134217727)===0||Bn===null||tl(Bn,tn,oa,!1)}function $d(t,i,s){var u=wn;wn|=2;var m=um(),b=cm();(Bn!==t||tn!==i)&&(Zf=null,$u(t,i)),i=!1;var N=dr;e:do try{if(Sn!==0&&Qt!==null){var I=Qt,oe=sa;switch(Sn){case 8:Hd(),N=6;break e;case 3:case 2:case 9:case 6:Hn.current===null&&(i=!0);var ke=Sn;if(Sn=0,sa=null,Gu(t,I,oe,ke),s&&qu){N=0;break e}break;default:ke=Sn,Sn=0,sa=null,Gu(t,I,oe,ke)}}Qy(),N=dr;break}catch(Me){om(t,Me)}while(!0);return i&&t.shellSuspendCounter++,La=Ls=null,wn=u,Y.H=m,Y.A=b,Qt===null&&(Bn=null,tn=0,Dl()),N}function Qy(){for(;Qt!==null;)fm(Qt)}function ev(t,i){var s=wn;wn|=2;var u=um(),m=cm();Bn!==t||tn!==i?(Zf=null,Xf=Lt()+500,$u(t,i)):qu=an(t,i);e:do try{if(Sn!==0&&Qt!==null){i=Qt;var b=sa;t:switch(Sn){case 1:Sn=0,sa=null,Gu(t,i,b,1);break;case 2:case 9:if(be(b)){Sn=0,sa=null,hm(i);break}i=function(){Sn!==2&&Sn!==9||Bn!==t||(Sn=7),Ms(t)},b.then(i,i);break e;case 3:Sn=7;break e;case 4:Sn=5;break e;case 7:be(b)?(Sn=0,sa=null,hm(i)):(Sn=0,sa=null,Gu(t,i,b,7));break;case 5:var N=null;switch(Qt.tag){case 26:N=Qt.memoizedState;case 5:case 27:var I=Qt;if(N?Xm(N):I.stateNode.complete){Sn=0,sa=null;var oe=I.sibling;if(oe!==null)Qt=oe;else{var ke=I.return;ke!==null?(Qt=ke,th(ke)):Qt=null}break t}}Sn=0,sa=null,Gu(t,i,b,5);break;case 6:Sn=0,sa=null,Gu(t,i,b,6);break;case 8:Hd(),dr=6;break e;default:throw Error(a(462))}}tv();break}catch(Me){om(t,Me)}while(!0);return La=Ls=null,Y.H=u,Y.A=m,wn=s,Qt!==null?0:(Bn=null,tn=0,Dl(),dr)}function tv(){for(;Qt!==null&&!st();)fm(Qt)}function fm(t){var i=B1(t.alternate,t,yo);t.memoizedProps=t.pendingProps,i===null?th(t):Qt=i}function hm(t){var i=t,s=i.alternate;switch(i.tag){case 15:case 0:i=L1(s,i,i.pendingProps,i.type,void 0,tn);break;case 11:i=L1(s,i,i.pendingProps,i.type.render,i.ref,tn);break;case 5:Cu(i);default:U1(s,i),i=Qt=Ul(i,yo),i=B1(s,i,yo)}t.memoizedProps=t.pendingProps,i===null?th(t):Qt=i}function Gu(t,i,s,u){La=Ls=null,Cu(i),He=null,ht=0;var m=i.return;try{if(Hy(t,m,i,s,tn)){dr=1,Ff(t,Ri(s,t.current)),Qt=null;return}}catch(b){if(m!==null)throw Qt=m,b;dr=1,Ff(t,Ri(s,t.current)),Qt=null;return}i.flags&32768?(Zt||u===1?t=!0:qu||(tn&536870912)!==0?t=!1:(Xo=t=!0,(u===2||u===9||u===3||u===6)&&(u=Hn.current,u!==null&&u.tag===13&&(u.flags|=16384))),dm(i,t)):th(i)}function th(t){var i=t;do{if((i.flags&32768)!==0){dm(i,Xo);return}t=i.return;var s=Wy(i.alternate,i,yo);if(s!==null){Qt=s;return}if(i=i.sibling,i!==null){Qt=i;return}Qt=i=t}while(i!==null);dr===0&&(dr=5)}function dm(t,i){do{var s=Vy(t.alternate,t);if(s!==null){s.flags&=32767,Qt=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(t=t.sibling,t!==null)){Qt=t;return}Qt=t=s}while(t!==null);dr=6,Qt=null}function pm(t,i,s,u,m,b,N,I,oe){t.cancelPendingCommit=null;do nh();while(Pr!==0);if((wn&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(b=i.lanes|i.childLanes,b|=vu,Ua(t,s,b,N,I,oe),t===Bn&&(Qt=Bn=null,tn=0),Hu=i,el=t,vo=s,Id=b,qd=m,rm=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,av(Mt,function(){return bm(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=Y.T,Y.T=null,m=le.p,le.p=2,N=wn,wn|=4;try{Yy(t,i,s)}finally{wn=N,le.p=m,Y.T=u}}Pr=1,mm(),gm(),ym()}}function mm(){if(Pr===1){Pr=0;var t=el,i=Hu,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=Y.T,Y.T=null;var u=le.p;le.p=2;var m=wn;wn|=4;try{K1(i,t);var b=n0,N=ts(t.containerInfo),I=b.focusedElem,oe=b.selectionRange;if(N!==I&&I&&I.ownerDocument&&es(I.ownerDocument.documentElement,I)){if(oe!==null&&ka(I)){var ke=oe.start,Me=oe.end;if(Me===void 0&&(Me=ke),"selectionStart"in I)I.selectionStart=ke,I.selectionEnd=Math.min(Me,I.value.length);else{var Fe=I.ownerDocument||document,Le=Fe&&Fe.defaultView||window;if(Le.getSelection){var Ce=Le.getSelection(),ct=I.textContent.length,Dt=Math.min(oe.start,ct),Cn=oe.end===void 0?Dt:Math.min(oe.end,ct);!Ce.extend&&Dt>Cn&&(N=Cn,Cn=Dt,Dt=N);var ve=Po(I,Dt),pe=Po(I,Cn);if(ve&&pe&&(Ce.rangeCount!==1||Ce.anchorNode!==ve.node||Ce.anchorOffset!==ve.offset||Ce.focusNode!==pe.node||Ce.focusOffset!==pe.offset)){var Te=Fe.createRange();Te.setStart(ve.node,ve.offset),Ce.removeAllRanges(),Dt>Cn?(Ce.addRange(Te),Ce.extend(pe.node,pe.offset)):(Te.setEnd(pe.node,pe.offset),Ce.addRange(Te))}}}}for(Fe=[],Ce=I;Ce=Ce.parentNode;)Ce.nodeType===1&&Fe.push({element:Ce,left:Ce.scrollLeft,top:Ce.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<Fe.length;I++){var qe=Fe[I];qe.element.scrollLeft=qe.left,qe.element.scrollTop=qe.top}}ph=!!t0,n0=t0=null}finally{wn=m,le.p=u,Y.T=s}}t.current=i,Pr=2}}function gm(){if(Pr===2){Pr=0;var t=el,i=Hu,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=Y.T,Y.T=null;var u=le.p;le.p=2;var m=wn;wn|=4;try{$1(t,i.alternate,i)}finally{wn=m,le.p=u,Y.T=s}}Pr=3}}function ym(){if(Pr===4||Pr===3){Pr=0,ft();var t=el,i=Hu,s=vo,u=rm;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Pr=5:(Pr=0,Hu=el=null,vm(t,t.pendingLanes));var m=t.pendingLanes;if(m===0&&(Qo=null),ar(s),i=i.stateNode,Ze&&typeof Ze.onCommitFiberRoot=="function")try{Ze.onCommitFiberRoot(Xe,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=Y.T,m=le.p,le.p=2,Y.T=null;try{for(var b=t.onRecoverableError,N=0;N<u.length;N++){var I=u[N];b(I.value,{componentStack:I.stack})}}finally{Y.T=i,le.p=m}}(vo&3)!==0&&nh(),Ms(t),m=t.pendingLanes,(s&261930)!==0&&(m&42)!==0?t===Fd?Vc++:(Vc=0,Fd=t):Vc=0,Yc(0)}}function vm(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Il(i)))}function nh(){return mm(),gm(),ym(),bm()}function bm(){if(Pr!==5)return!1;var t=el,i=Id;Id=0;var s=ar(vo),u=Y.T,m=le.p;try{le.p=32>s?32:s,Y.T=null,s=qd,qd=null;var b=el,N=vo;if(Pr=0,Hu=el=null,vo=0,(wn&6)!==0)throw Error(a(331));var I=wn;if(wn|=4,em(b.current),X1(b,b.current,N,s),wn=I,Yc(0,!1),Ze&&typeof Ze.onPostCommitFiberRoot=="function")try{Ze.onPostCommitFiberRoot(Xe,b)}catch{}return!0}finally{le.p=m,Y.T=u,vm(t,i)}}function wm(t,i,s){i=Ri(s,i),i=wd(t.stateNode,i,2),t=Wt(t,i,2),t!==null&&(_t(t,2),Ms(t))}function An(t,i,s){if(t.tag===3)wm(t,t,s);else for(;i!==null;){if(i.tag===3){wm(i,t,s);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Qo===null||!Qo.has(u))){t=Ri(s,t),s=x1(2),u=Wt(i,s,2),u!==null&&(_1(s,u,i,t),_t(u,2),Ms(u));break}}i=i.return}}function Gd(t,i,s){var u=t.pingCache;if(u===null){u=t.pingCache=new Xy;var m=new Set;u.set(i,m)}else m=u.get(i),m===void 0&&(m=new Set,u.set(i,m));m.has(s)||(Ud=!0,m.add(s),t=nv.bind(null,t,i,s),i.then(t,t))}function nv(t,i,s){var u=t.pingCache;u!==null&&u.delete(i),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Bn===t&&(tn&s)===s&&(dr===4||dr===3&&(tn&62914560)===tn&&300>Lt()-Jf?(wn&2)===0&&$u(t,0):Md|=s,Fu===tn&&(Fu=0)),Ms(t)}function xm(t,i){i===0&&(i=qr()),t=rs(t,i),t!==null&&(_t(t,i),Ms(t))}function rv(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),xm(t,s)}function iv(t,i){var s=0;switch(t.tag){case 31:case 13:var u=t.stateNode,m=t.memoizedState;m!==null&&(s=m.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(a(314))}u!==null&&u.delete(i),xm(t,s)}function av(t,i){return Ye(t,i)}var rh=null,Wu=null,Wd=!1,ih=!1,Vd=!1,nl=0;function Ms(t){t!==Wu&&t.next===null&&(Wu===null?rh=Wu=t:Wu=Wu.next=t),ih=!0,Wd||(Wd=!0,ov())}function Yc(t,i){if(!Vd&&ih){Vd=!0;do for(var s=!1,u=rh;u!==null;){if(t!==0){var m=u.pendingLanes;if(m===0)var b=0;else{var N=u.suspendedLanes,I=u.pingedLanes;b=(1<<31-jt(42|t)+1)-1,b&=m&~(N&~I),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(s=!0,Em(u,b))}else b=tn,b=Jt(u,u===Bn?b:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(b&3)===0||an(u,b)||(s=!0,Em(u,b));u=u.next}while(s);Vd=!1}}function sv(){_m()}function _m(){ih=Wd=!1;var t=0;nl!==0&&yv()&&(t=nl);for(var i=Lt(),s=null,u=rh;u!==null;){var m=u.next,b=Sm(u,i);b===0?(u.next=null,s===null?rh=m:s.next=m,m===null&&(Wu=s)):(s=u,(t!==0||(b&3)!==0)&&(ih=!0)),u=m}Pr!==0&&Pr!==5||Yc(t),nl!==0&&(nl=0)}function Sm(t,i){for(var s=t.suspendedLanes,u=t.pingedLanes,m=t.expirationTimes,b=t.pendingLanes&-62914561;0<b;){var N=31-jt(b),I=1<<N,oe=m[N];oe===-1?((I&s)===0||(I&u)!==0)&&(m[N]=Tn(I,i)):oe<=i&&(t.expiredLanes|=I),b&=~I}if(i=Bn,s=tn,s=Jt(t,t===i?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,s===0||t===i&&(Sn===2||Sn===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&$e(u),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||an(t,s)){if(i=s&-s,i===t.callbackPriority)return i;switch(u!==null&&$e(u),ar(s)){case 2:case 8:s=Nt;break;case 32:s=Mt;break;case 268435456:s=kt;break;default:s=Mt}return u=Am.bind(null,t),s=Ye(s,u),t.callbackPriority=i,t.callbackNode=s,i}return u!==null&&u!==null&&$e(u),t.callbackPriority=2,t.callbackNode=null,2}function Am(t,i){if(Pr!==0&&Pr!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(nh()&&t.callbackNode!==s)return null;var u=tn;return u=Jt(t,t===Bn?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:(am(t,u,i),Sm(t,Lt()),t.callbackNode!=null&&t.callbackNode===s?Am.bind(null,t):null)}function Em(t,i){if(nh())return null;am(t,i,!0)}function ov(){bv(function(){(wn&6)!==0?Ye(yt,sv):_m()})}function Yd(){if(nl===0){var t=d;t===0&&(t=Ot,Ot<<=1,(Ot&261888)===0&&(Ot=256)),nl=t}return nl}function Tm(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:li(""+t)}function km(t,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,t.id&&s.setAttribute("form",t.id),i.parentNode.insertBefore(s,i),t=new FormData(t),s.parentNode.removeChild(s),t}function lv(t,i,s,u,m){if(i==="submit"&&s&&s.stateNode===m){var b=Tm((m[Pn]||null).action),N=u.submitter;N&&(i=(i=N[Pn]||null)?Tm(i.formAction):N.getAttribute("formAction"),i!==null&&(b=i,N=null));var I=new Li("action","action",null,u,m);t.push({event:I,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(nl!==0){var oe=N?km(m,N):new FormData(m);pd(s,{pending:!0,data:oe,method:m.method,action:b},null,oe)}}else typeof b=="function"&&(I.preventDefault(),oe=N?km(m,N):new FormData(m),pd(s,{pending:!0,data:oe,method:m.method,action:b},b,oe))},currentTarget:m}]})}}for(var Kd=0;Kd<no.length;Kd++){var Jd=no[Kd],uv=Jd.toLowerCase(),cv=Jd[0].toUpperCase()+Jd.slice(1);Oi(uv,"on"+cv)}Oi(to,"onAnimationEnd"),Oi(Cl,"onAnimationIteration"),Oi(Sc,"onAnimationStart"),Oi("dblclick","onDoubleClick"),Oi("focusin","onFocus"),Oi("focusout","onBlur"),Oi(Lf,"onTransitionRun"),Oi(jf,"onTransitionStart"),Oi(Of,"onTransitionCancel"),Oi(Ac,"onTransitionEnd"),Ma("onMouseEnter",["mouseout","mouseover"]),Ma("onMouseLeave",["mouseout","mouseover"]),Ma("onPointerEnter",["pointerout","pointerover"]),Ma("onPointerLeave",["pointerout","pointerover"]),Ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ji("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Kc));function Nm(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var u=t[s],m=u.event;u=u.listeners;e:{var b=void 0;if(i)for(var N=u.length-1;0<=N;N--){var I=u[N],oe=I.instance,ke=I.currentTarget;if(I=I.listener,oe!==b&&m.isPropagationStopped())break e;b=I,m.currentTarget=ke;try{b(m)}catch(Me){Rl(Me)}m.currentTarget=null,b=oe}else for(N=0;N<u.length;N++){if(I=u[N],oe=I.instance,ke=I.currentTarget,I=I.listener,oe!==b&&m.isPropagationStopped())break e;b=I,m.currentTarget=ke;try{b(m)}catch(Me){Rl(Me)}m.currentTarget=null,b=oe}}}}function en(t,i){var s=i[vi];s===void 0&&(s=i[vi]=new Set);var u=t+"__bubble";s.has(u)||(Lm(i,t,2,!1),s.add(u))}function Xd(t,i,s){var u=0;i&&(u|=4),Lm(s,t,u,i)}var ah="_reactListening"+Math.random().toString(36).slice(2);function Zd(t){if(!t[ah]){t[ah]=!0,ml.forEach(function(s){s!=="selectionchange"&&(fv.has(s)||Xd(s,!1,t),Xd(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[ah]||(i[ah]=!0,Xd("selectionchange",!1,i))}}function Lm(t,i,s,u){switch(ig(i)){case 2:var m=Pv;break;case 8:m=Iv;break;default:m=d0}s=m.bind(null,i,s,t),m=void 0,!kl||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(m=!0),u?m!==void 0?t.addEventListener(i,s,{capture:!0,passive:m}):t.addEventListener(i,s,!0):m!==void 0?t.addEventListener(i,s,{passive:m}):t.addEventListener(i,s,!1)}function Qd(t,i,s,u,m){var b=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var N=u.tag;if(N===3||N===4){var I=u.stateNode.containerInfo;if(I===m)break;if(N===4)for(N=u.return;N!==null;){var oe=N.tag;if((oe===3||oe===4)&&N.stateNode.containerInfo===m)return;N=N.return}for(;I!==null;){if(N=Yi(I),N===null)return;if(oe=N.tag,oe===5||oe===6||oe===26||oe===27){u=b=N;continue e}I=I.parentNode}}u=u.return}du(function(){var ke=b,Me=Ys(s),Fe=[];e:{var Le=Ec.get(t);if(Le!==void 0){var Ce=Li,ct=t;switch(t){case"keypress":if(Ni(s)===0)break e;case"keydown":case"keyup":Ce=sn;break;case"focusin":ct="focus",Ce=Wa;break;case"focusout":ct="blur",Ce=Wa;break;case"beforeblur":case"afterblur":Ce=Wa;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ce=Nl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ce=Ga;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ce=yr;break;case to:case Cl:case Sc:Ce=w;break;case Ac:Ce=Cr;break;case"scroll":case"scrollend":Ce=Co;break;case"wheel":Ce=ea;break;case"copy":case"cut":case"paste":Ce=Z;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ce=Qn;break;case"toggle":case"beforetoggle":Ce=Ll}var Dt=(i&4)!==0,Cn=!Dt&&(t==="scroll"||t==="scrollend"),ve=Dt?Le!==null?Le+"Capture":null:Le;Dt=[];for(var pe=ke,Te;pe!==null;){var qe=pe;if(Te=qe.stateNode,qe=qe.tag,qe!==5&&qe!==26&&qe!==27||Te===null||ve===null||(qe=xi(pe,ve),qe!=null&&Dt.push(Jc(pe,qe,Te))),Cn)break;pe=pe.return}0<Dt.length&&(Le=new Ce(Le,ct,null,s,Me),Fe.push({event:Le,listeners:Dt}))}}if((i&7)===0){e:{if(Le=t==="mouseover"||t==="pointerover",Ce=t==="mouseout"||t==="pointerout",Le&&s!==Ia&&(ct=s.relatedTarget||s.fromElement)&&(Yi(ct)||ct[Fr]))break e;if((Ce||Le)&&(Le=Me.window===Me?Me:(Le=Me.ownerDocument)?Le.defaultView||Le.parentWindow:window,Ce?(ct=s.relatedTarget||s.toElement,Ce=ke,ct=ct?Yi(ct):null,ct!==null&&(Cn=o(ct),Dt=ct.tag,ct!==Cn||Dt!==5&&Dt!==27&&Dt!==6)&&(ct=null)):(Ce=null,ct=ke),Ce!==ct)){if(Dt=Nl,qe="onMouseLeave",ve="onMouseEnter",pe="mouse",(t==="pointerout"||t==="pointerover")&&(Dt=Qn,qe="onPointerLeave",ve="onPointerEnter",pe="pointer"),Cn=Ce==null?Le:Ws(Ce),Te=ct==null?Le:Ws(ct),Le=new Dt(qe,pe+"leave",Ce,s,Me),Le.target=Cn,Le.relatedTarget=Te,qe=null,Yi(Me)===ke&&(Dt=new Dt(ve,pe+"enter",ct,s,Me),Dt.target=Te,Dt.relatedTarget=Cn,qe=Dt),Cn=qe,Ce&&ct)t:{for(Dt=hv,ve=Ce,pe=ct,Te=0,qe=ve;qe;qe=Dt(qe))Te++;qe=0;for(var Et=pe;Et;Et=Dt(Et))qe++;for(;0<Te-qe;)ve=Dt(ve),Te--;for(;0<qe-Te;)pe=Dt(pe),qe--;for(;Te--;){if(ve===pe||pe!==null&&ve===pe.alternate){Dt=ve;break t}ve=Dt(ve),pe=Dt(pe)}Dt=null}else Dt=null;Ce!==null&&jm(Fe,Le,Ce,Dt,!1),ct!==null&&Cn!==null&&jm(Fe,Cn,ct,Dt,!0)}}e:{if(Le=ke?Ws(ke):window,Ce=Le.nodeName&&Le.nodeName.toLowerCase(),Ce==="select"||Ce==="input"&&Le.type==="file")var gn=Es;else if(jl(Le))if(ui)gn=Ea;else{gn=er;var gt=Uo}else Ce=Le.nodeName,!Ce||Ce.toLowerCase()!=="input"||Le.type!=="checkbox"&&Le.type!=="radio"?ke&&Al(ke.elementType)&&(gn=Es):gn=yu;if(gn&&(gn=gn(t,ke))){Si(Fe,gn,s,Me);break e}gt&&gt(t,Le,ke),t==="focusout"&&ke&&Le.type==="number"&&ke.memoizedProps.value!=null&&xl(Le,"number",Le.value)}switch(gt=ke?Ws(ke):window,t){case"focusin":(jl(gt)||gt.contentEditable==="true")&&(Ai=gt,ns=ke,Hr=null);break;case"focusout":Hr=ns=Ai=null;break;case"mousedown":ji=!0;break;case"contextmenu":case"mouseup":case"dragend":ji=!1,pn(Fe,s,Me);break;case"selectionchange":if(eo)break;case"keydown":case"keyup":pn(Fe,s,Me)}var Vt;if(xa)e:{switch(t){case"compositionstart":var nn="onCompositionStart";break e;case"compositionend":nn="onCompositionEnd";break e;case"compositionupdate":nn="onCompositionUpdate";break e}nn=void 0}else _a?As(t,s)&&(nn="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(nn="onCompositionStart");nn&&(Ka&&s.locale!=="ko"&&(_a||nn!=="onCompositionStart"?nn==="onCompositionEnd"&&_a&&(Vt=pu()):(_i=Me,Js="value"in _i?_i.value:_i.textContent,_a=!0)),gt=sh(ke,nn),0<gt.length&&(nn=new ye(nn,t,null,s,Me),Fe.push({event:nn,listeners:gt}),Vt?nn.data=Vt:(Vt=Do(s),Vt!==null&&(nn.data=Vt)))),(Vt=Qs?Qr(t,s):Ja(t,s))&&(nn=sh(ke,"onBeforeInput"),0<nn.length&&(gt=new ye("onBeforeInput","beforeinput",null,s,Me),Fe.push({event:gt,listeners:nn}),gt.data=Vt)),lv(Fe,t,ke,s,Me)}Nm(Fe,i)})}function Jc(t,i,s){return{instance:t,listener:i,currentTarget:s}}function sh(t,i){for(var s=i+"Capture",u=[];t!==null;){var m=t,b=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||b===null||(m=xi(t,s),m!=null&&u.unshift(Jc(t,m,b)),m=xi(t,i),m!=null&&u.push(Jc(t,m,b))),t.tag===3)return u;t=t.return}return[]}function hv(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function jm(t,i,s,u,m){for(var b=i._reactName,N=[];s!==null&&s!==u;){var I=s,oe=I.alternate,ke=I.stateNode;if(I=I.tag,oe!==null&&oe===u)break;I!==5&&I!==26&&I!==27||ke===null||(oe=ke,m?(ke=xi(s,b),ke!=null&&N.unshift(Jc(s,ke,oe))):m||(ke=xi(s,b),ke!=null&&N.push(Jc(s,ke,oe)))),s=s.return}N.length!==0&&t.push({event:i,listeners:N})}var dv=/\r\n?/g,pv=/\u0000|\uFFFD/g;function Om(t){return(typeof t=="string"?t:""+t).replace(dv,`
`).replace(pv,"")}function Cm(t,i){return i=Om(i),Om(t)===i}function On(t,i,s,u,m,b){switch(s){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||Zi(t,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&Zi(t,""+u);break;case"className":Pa(t,"class",u);break;case"tabIndex":Pa(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Pa(t,s,u);break;case"style":cu(t,u,b);break;case"data":if(i!=="object"){Pa(t,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||s!=="href")){t.removeAttribute(s);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(s);break}u=li(""+u),t.setAttribute(s,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(s==="formAction"?(i!=="input"&&On(t,i,"name",m.name,m,null),On(t,i,"formEncType",m.formEncType,m,null),On(t,i,"formMethod",m.formMethod,m,null),On(t,i,"formTarget",m.formTarget,m,null)):(On(t,i,"encType",m.encType,m,null),On(t,i,"method",m.method,m,null),On(t,i,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(s);break}u=li(""+u),t.setAttribute(s,u);break;case"onClick":u!=null&&(t.onclick=Qi);break;case"onScroll":u!=null&&en("scroll",t);break;case"onScrollEnd":u!=null&&en("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(s=u.__html,s!=null){if(m.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}s=li(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(s,""+u):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":u===!0?t.setAttribute(s,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(s,u):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(s,u):t.removeAttribute(s);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(s):t.setAttribute(s,u);break;case"popover":en("beforetoggle",t),en("toggle",t),wi(t,"popover",u);break;case"xlinkActuate":Xi(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Xi(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Xi(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Xi(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Xi(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Xi(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Xi(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Xi(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Xi(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":wi(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=El.get(s)||s,wi(t,s,u))}}function e0(t,i,s,u,m,b){switch(s){case"style":cu(t,u,b);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(s=u.__html,s!=null){if(m.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof u=="string"?Zi(t,u):(typeof u=="number"||typeof u=="bigint")&&Zi(t,""+u);break;case"onScroll":u!=null&&en("scroll",t);break;case"onScrollEnd":u!=null&&en("scrollend",t);break;case"onClick":u!=null&&(t.onclick=Qi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bi.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(m=s.endsWith("Capture"),i=s.slice(2,m?s.length-7:void 0),b=t[Pn]||null,b=b!=null?b[s]:null,typeof b=="function"&&t.removeEventListener(i,b,m),typeof u=="function")){typeof b!="function"&&b!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(i,u,m);break e}s in t?t[s]=u:u===!0?t.setAttribute(s,""):wi(t,s,u)}}}function ii(t,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":en("error",t),en("load",t);var u=!1,m=!1,b;for(b in s)if(s.hasOwnProperty(b)){var N=s[b];if(N!=null)switch(b){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:On(t,i,b,N,s,null)}}m&&On(t,i,"srcSet",s.srcSet,s,null),u&&On(t,i,"src",s.src,s,null);return;case"input":en("invalid",t);var I=b=N=m=null,oe=null,ke=null;for(u in s)if(s.hasOwnProperty(u)){var Me=s[u];if(Me!=null)switch(u){case"name":m=Me;break;case"type":N=Me;break;case"checked":oe=Me;break;case"defaultChecked":ke=Me;break;case"value":b=Me;break;case"defaultValue":I=Me;break;case"children":case"dangerouslySetInnerHTML":if(Me!=null)throw Error(a(137,i));break;default:On(t,i,u,Me,s,null)}}lu(t,b,I,oe,ke,N,m,!1);return;case"select":en("invalid",t),u=N=b=null;for(m in s)if(s.hasOwnProperty(m)&&(I=s[m],I!=null))switch(m){case"value":b=I;break;case"defaultValue":N=I;break;case"multiple":u=I;default:On(t,i,m,I,s,null)}i=b,s=N,t.multiple=!!u,i!=null?Zr(t,!!u,i,!1):s!=null&&Zr(t,!!u,s,!0);return;case"textarea":en("invalid",t),b=m=u=null;for(N in s)if(s.hasOwnProperty(N)&&(I=s[N],I!=null))switch(N){case"value":u=I;break;case"defaultValue":m=I;break;case"children":b=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(a(91));break;default:On(t,i,N,I,s,null)}Sl(t,u,m,b);return;case"option":for(oe in s)s.hasOwnProperty(oe)&&(u=s[oe],u!=null)&&(oe==="selected"?t.selected=u&&typeof u!="function"&&typeof u!="symbol":On(t,i,oe,u,s,null));return;case"dialog":en("beforetoggle",t),en("toggle",t),en("cancel",t),en("close",t);break;case"iframe":case"object":en("load",t);break;case"video":case"audio":for(u=0;u<Kc.length;u++)en(Kc[u],t);break;case"image":en("error",t),en("load",t);break;case"details":en("toggle",t);break;case"embed":case"source":case"link":en("error",t),en("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ke in s)if(s.hasOwnProperty(ke)&&(u=s[ke],u!=null))switch(ke){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:On(t,i,ke,u,s,null)}return;default:if(Al(i)){for(Me in s)s.hasOwnProperty(Me)&&(u=s[Me],u!==void 0&&e0(t,i,Me,u,s,void 0));return}}for(I in s)s.hasOwnProperty(I)&&(u=s[I],u!=null&&On(t,i,I,u,s,null))}function mv(t,i,s,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,b=null,N=null,I=null,oe=null,ke=null,Me=null;for(Ce in s){var Fe=s[Ce];if(s.hasOwnProperty(Ce)&&Fe!=null)switch(Ce){case"checked":break;case"value":break;case"defaultValue":oe=Fe;default:u.hasOwnProperty(Ce)||On(t,i,Ce,null,u,Fe)}}for(var Le in u){var Ce=u[Le];if(Fe=s[Le],u.hasOwnProperty(Le)&&(Ce!=null||Fe!=null))switch(Le){case"type":b=Ce;break;case"name":m=Ce;break;case"checked":ke=Ce;break;case"defaultChecked":Me=Ce;break;case"value":N=Ce;break;case"defaultValue":I=Ce;break;case"children":case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(a(137,i));break;default:Ce!==Fe&&On(t,i,Le,Ce,u,Fe)}}Lo(t,N,I,oe,ke,Me,b,m);return;case"select":Ce=N=I=Le=null;for(b in s)if(oe=s[b],s.hasOwnProperty(b)&&oe!=null)switch(b){case"value":break;case"multiple":Ce=oe;default:u.hasOwnProperty(b)||On(t,i,b,null,u,oe)}for(m in u)if(b=u[m],oe=s[m],u.hasOwnProperty(m)&&(b!=null||oe!=null))switch(m){case"value":Le=b;break;case"defaultValue":I=b;break;case"multiple":N=b;default:b!==oe&&On(t,i,m,b,u,oe)}i=I,s=N,u=Ce,Le!=null?Zr(t,!!s,Le,!1):!!u!=!!s&&(i!=null?Zr(t,!!s,i,!0):Zr(t,!!s,s?[]:"",!1));return;case"textarea":Ce=Le=null;for(I in s)if(m=s[I],s.hasOwnProperty(I)&&m!=null&&!u.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:On(t,i,I,null,u,m)}for(N in u)if(m=u[N],b=s[N],u.hasOwnProperty(N)&&(m!=null||b!=null))switch(N){case"value":Le=m;break;case"defaultValue":Ce=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(a(91));break;default:m!==b&&On(t,i,N,m,u,b)}_l(t,Le,Ce);return;case"option":for(var ct in s)Le=s[ct],s.hasOwnProperty(ct)&&Le!=null&&!u.hasOwnProperty(ct)&&(ct==="selected"?t.selected=!1:On(t,i,ct,null,u,Le));for(oe in u)Le=u[oe],Ce=s[oe],u.hasOwnProperty(oe)&&Le!==Ce&&(Le!=null||Ce!=null)&&(oe==="selected"?t.selected=Le&&typeof Le!="function"&&typeof Le!="symbol":On(t,i,oe,Le,u,Ce));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Dt in s)Le=s[Dt],s.hasOwnProperty(Dt)&&Le!=null&&!u.hasOwnProperty(Dt)&&On(t,i,Dt,null,u,Le);for(ke in u)if(Le=u[ke],Ce=s[ke],u.hasOwnProperty(ke)&&Le!==Ce&&(Le!=null||Ce!=null))switch(ke){case"children":case"dangerouslySetInnerHTML":if(Le!=null)throw Error(a(137,i));break;default:On(t,i,ke,Le,u,Ce)}return;default:if(Al(i)){for(var Cn in s)Le=s[Cn],s.hasOwnProperty(Cn)&&Le!==void 0&&!u.hasOwnProperty(Cn)&&e0(t,i,Cn,void 0,u,Le);for(Me in u)Le=u[Me],Ce=s[Me],!u.hasOwnProperty(Me)||Le===Ce||Le===void 0&&Ce===void 0||e0(t,i,Me,Le,u,Ce);return}}for(var ve in s)Le=s[ve],s.hasOwnProperty(ve)&&Le!=null&&!u.hasOwnProperty(ve)&&On(t,i,ve,null,u,Le);for(Fe in u)Le=u[Fe],Ce=s[Fe],!u.hasOwnProperty(Fe)||Le===Ce||Le==null&&Ce==null||On(t,i,Fe,Le,u,Ce)}function Rm(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function gv(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,s=performance.getEntriesByType("resource"),u=0;u<s.length;u++){var m=s[u],b=m.transferSize,N=m.initiatorType,I=m.duration;if(b&&I&&Rm(N)){for(N=0,I=m.responseEnd,u+=1;u<s.length;u++){var oe=s[u],ke=oe.startTime;if(ke>I)break;var Me=oe.transferSize,Fe=oe.initiatorType;Me&&Rm(Fe)&&(oe=oe.responseEnd,N+=Me*(oe<I?1:(I-ke)/(oe-ke)))}if(--u,i+=8*(b+N)/(m.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var t0=null,n0=null;function oh(t){return t.nodeType===9?t:t.ownerDocument}function Dm(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Bm(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function r0(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var i0=null;function yv(){var t=window.event;return t&&t.type==="popstate"?t===i0?!1:(i0=t,!0):(i0=null,!1)}var zm=typeof setTimeout=="function"?setTimeout:void 0,vv=typeof clearTimeout=="function"?clearTimeout:void 0,Um=typeof Promise=="function"?Promise:void 0,bv=typeof queueMicrotask=="function"?queueMicrotask:typeof Um<"u"?function(t){return Um.resolve(null).then(t).catch(wv)}:zm;function wv(t){setTimeout(function(){throw t})}function rl(t){return t==="head"}function Mm(t,i){var s=i,u=0;do{var m=s.nextSibling;if(t.removeChild(s),m&&m.nodeType===8)if(s=m.data,s==="/$"||s==="/&"){if(u===0){t.removeChild(m),Ju(i);return}u--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")u++;else if(s==="html")Xc(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,Xc(s);for(var b=s.firstChild;b;){var N=b.nextSibling,I=b.nodeName;b[Vi]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&b.rel.toLowerCase()==="stylesheet"||s.removeChild(b),b=N}}else s==="body"&&Xc(t.ownerDocument.body);s=m}while(s);Ju(i)}function Pm(t,i){var s=t;t=0;do{var u=s.nextSibling;if(s.nodeType===1?i?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(i?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),u&&u.nodeType===8)if(s=u.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=u}while(s)}function a0(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":a0(s),ws(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function xv(t,i,s,u){for(;t.nodeType===1;){var m=s;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[Vi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(b=t.getAttribute("rel"),b==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(b!==m.rel||t.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||t.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||t.getAttribute("title")!==(m.title==null?null:m.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(b=t.getAttribute("src"),(b!==(m.src==null?null:m.src)||t.getAttribute("type")!==(m.type==null?null:m.type)||t.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&b&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var b=m.name==null?null:""+m.name;if(m.type==="hidden"&&t.getAttribute("name")===b)return t}else return t;if(t=Ca(t.nextSibling),t===null)break}return null}function _v(t,i,s){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Ca(t.nextSibling),t===null))return null;return t}function Im(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Ca(t.nextSibling),t===null))return null;return t}function s0(t){return t.data==="$?"||t.data==="$~"}function o0(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Sv(t,i){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||s.readyState!=="loading")i();else{var u=function(){i(),s.removeEventListener("DOMContentLoaded",u)};s.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function Ca(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var l0=null;function qm(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(i===0)return Ca(t.nextSibling);i--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||i++}t=t.nextSibling}return null}function Fm(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(i===0)return t;i--}else s!=="/$"&&s!=="/&"||i++}t=t.previousSibling}return null}function Hm(t,i,s){switch(i=oh(s),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Xc(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ws(t)}var Ra=new Map,$m=new Set;function lh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var bo=le.d;le.d={f:Av,r:Ev,D:Tv,C:kv,L:Nv,m:Lv,X:Ov,S:jv,M:Cv};function Av(){var t=bo.f(),i=Qf();return t||i}function Ev(t){var i=Ki(t);i!==null&&i.tag===5&&i.type==="form"?o1(i):bo.r(t)}var Vu=typeof document>"u"?null:document;function Gm(t,i,s){var u=Vu;if(u&&typeof i=="string"&&i){var m=sr(i);m='link[rel="'+t+'"][href="'+m+'"]',typeof s=="string"&&(m+='[crossorigin="'+s+'"]'),$m.has(m)||($m.add(m),t={rel:t,crossOrigin:s,href:i},u.querySelector(m)===null&&(i=u.createElement("link"),ii(i,"link",t),Zn(i),u.head.appendChild(i)))}}function Tv(t){bo.D(t),Gm("dns-prefetch",t,null)}function kv(t,i){bo.C(t,i),Gm("preconnect",t,i)}function Nv(t,i,s){bo.L(t,i,s);var u=Vu;if(u&&t&&i){var m='link[rel="preload"][as="'+sr(i)+'"]';i==="image"&&s&&s.imageSrcSet?(m+='[imagesrcset="'+sr(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(m+='[imagesizes="'+sr(s.imageSizes)+'"]')):m+='[href="'+sr(t)+'"]';var b=m;switch(i){case"style":b=Yu(t);break;case"script":b=Ku(t)}Ra.has(b)||(t=x({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:t,as:i},s),Ra.set(b,t),u.querySelector(m)!==null||i==="style"&&u.querySelector(Zc(b))||i==="script"&&u.querySelector(Qc(b))||(i=u.createElement("link"),ii(i,"link",t),Zn(i),u.head.appendChild(i)))}}function Lv(t,i){bo.m(t,i);var s=Vu;if(s&&t){var u=i&&typeof i.as=="string"?i.as:"script",m='link[rel="modulepreload"][as="'+sr(u)+'"][href="'+sr(t)+'"]',b=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Ku(t)}if(!Ra.has(b)&&(t=x({rel:"modulepreload",href:t},i),Ra.set(b,t),s.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Qc(b)))return}u=s.createElement("link"),ii(u,"link",t),Zn(u),s.head.appendChild(u)}}}function jv(t,i,s){bo.S(t,i,s);var u=Vu;if(u&&t){var m=ya(u).hoistableStyles,b=Yu(t);i=i||"default";var N=m.get(b);if(!N){var I={loading:0,preload:null};if(N=u.querySelector(Zc(b)))I.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":i},s),(s=Ra.get(b))&&u0(t,s);var oe=N=u.createElement("link");Zn(oe),ii(oe,"link",t),oe._p=new Promise(function(ke,Me){oe.onload=ke,oe.onerror=Me}),oe.addEventListener("load",function(){I.loading|=1}),oe.addEventListener("error",function(){I.loading|=2}),I.loading|=4,uh(N,i,u)}N={type:"stylesheet",instance:N,count:1,state:I},m.set(b,N)}}}function Ov(t,i){bo.X(t,i);var s=Vu;if(s&&t){var u=ya(s).hoistableScripts,m=Ku(t),b=u.get(m);b||(b=s.querySelector(Qc(m)),b||(t=x({src:t,async:!0},i),(i=Ra.get(m))&&c0(t,i),b=s.createElement("script"),Zn(b),ii(b,"link",t),s.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},u.set(m,b))}}function Cv(t,i){bo.M(t,i);var s=Vu;if(s&&t){var u=ya(s).hoistableScripts,m=Ku(t),b=u.get(m);b||(b=s.querySelector(Qc(m)),b||(t=x({src:t,async:!0,type:"module"},i),(i=Ra.get(m))&&c0(t,i),b=s.createElement("script"),Zn(b),ii(b,"link",t),s.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},u.set(m,b))}}function Wm(t,i,s,u){var m=(m=ae.current)?lh(m):null;if(!m)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=Yu(s.href),s=ya(m).hoistableStyles,u=s.get(i),u||(u={type:"style",instance:null,count:0,state:null},s.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Yu(s.href);var b=ya(m).hoistableStyles,N=b.get(t);if(N||(m=m.ownerDocument||m,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(t,N),(b=m.querySelector(Zc(t)))&&!b._p&&(N.instance=b,N.state.loading=5),Ra.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Ra.set(t,s),b||Rv(m,t,s,N.state))),i&&u===null)throw Error(a(528,""));return N}if(i&&u!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ku(s),s=ya(m).hoistableScripts,u=s.get(i),u||(u={type:"script",instance:null,count:0,state:null},s.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Yu(t){return'href="'+sr(t)+'"'}function Zc(t){return'link[rel="stylesheet"]['+t+"]"}function Vm(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function Rv(t,i,s,u){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=t.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),ii(i,"link",s),Zn(i),t.head.appendChild(i))}function Ku(t){return'[src="'+sr(t)+'"]'}function Qc(t){return"script[async]"+t}function Ym(t,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var u=t.querySelector('style[data-href~="'+sr(s.href)+'"]');if(u)return i.instance=u,Zn(u),u;var m=x({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),Zn(u),ii(u,"style",m),uh(u,s.precedence,t),i.instance=u;case"stylesheet":m=Yu(s.href);var b=t.querySelector(Zc(m));if(b)return i.state.loading|=4,i.instance=b,Zn(b),b;u=Vm(s),(m=Ra.get(m))&&u0(u,m),b=(t.ownerDocument||t).createElement("link"),Zn(b);var N=b;return N._p=new Promise(function(I,oe){N.onload=I,N.onerror=oe}),ii(b,"link",u),i.state.loading|=4,uh(b,s.precedence,t),i.instance=b;case"script":return b=Ku(s.src),(m=t.querySelector(Qc(b)))?(i.instance=m,Zn(m),m):(u=s,(m=Ra.get(b))&&(u=x({},s),c0(u,m)),t=t.ownerDocument||t,m=t.createElement("script"),Zn(m),ii(m,"link",u),t.head.appendChild(m),i.instance=m);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,uh(u,s.precedence,t));return i.instance}function uh(t,i,s){for(var u=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,b=m,N=0;N<u.length;N++){var I=u[N];if(I.dataset.precedence===i)b=I;else if(b!==m)break}b?b.parentNode.insertBefore(t,b.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(t,i.firstChild))}function u0(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function c0(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var ch=null;function Km(t,i,s){if(ch===null){var u=new Map,m=ch=new Map;m.set(s,u)}else m=ch,u=m.get(s),u||(u=new Map,m.set(s,u));if(u.has(t))return u;for(u.set(t,null),s=s.getElementsByTagName(t),m=0;m<s.length;m++){var b=s[m];if(!(b[Vi]||b[xn]||t==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var N=b.getAttribute(i)||"";N=t+N;var I=u.get(N);I?I.push(b):u.set(N,[b])}}return u}function Jm(t,i,s){t=t.ownerDocument||t,t.head.insertBefore(s,i==="title"?t.querySelector("head > title"):null)}function Dv(t,i,s){if(s===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Xm(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Bv(t,i,s,u){if(s.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var m=Yu(u.href),b=i.querySelector(Zc(m));if(b){i=b._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=fh.bind(t),i.then(t,t)),s.state.loading|=4,s.instance=b,Zn(b);return}b=i.ownerDocument||i,u=Vm(u),(m=Ra.get(m))&&u0(u,m),b=b.createElement("link"),Zn(b);var N=b;N._p=new Promise(function(I,oe){N.onload=I,N.onerror=oe}),ii(b,"link",u),s.instance=b}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=fh.bind(t),i.addEventListener("load",s),i.addEventListener("error",s))}}var f0=0;function zv(t,i){return t.stylesheets&&t.count===0&&dh(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var u=setTimeout(function(){if(t.stylesheets&&dh(t,t.stylesheets),t.unsuspend){var b=t.unsuspend;t.unsuspend=null,b()}},6e4+i);0<t.imgBytes&&f0===0&&(f0=62500*gv());var m=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&dh(t,t.stylesheets),t.unsuspend)){var b=t.unsuspend;t.unsuspend=null,b()}},(t.imgBytes>f0?50:800)+i);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(u),clearTimeout(m)}}:null}function fh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)dh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var hh=null;function dh(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,hh=new Map,i.forEach(Uv,t),hh=null,fh.call(t))}function Uv(t,i){if(!(i.state.loading&4)){var s=hh.get(t);if(s)var u=s.get(null);else{s=new Map,hh.set(t,s);for(var m=t.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<m.length;b++){var N=m[b];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(s.set(N.dataset.precedence,N),u=N)}u&&s.set(null,u)}m=i.instance,N=m.getAttribute("data-precedence"),b=s.get(N)||u,b===u&&s.set(null,m),s.set(N,m),this.count++,u=fh.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),b?b.parentNode.insertBefore(m,b.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(m,t.firstChild)),i.state.loading|=4}}var ef={$$typeof:F,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function Mv(t,i,s,u,m,b,N,I,oe){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.hiddenUpdates=oi(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=b,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=oe,this.incompleteTransitions=new Map}function Zm(t,i,s,u,m,b,N,I,oe,ke,Me,Fe){return t=new Mv(t,i,s,N,oe,ke,Me,Fe,I),i=1,b===!0&&(i|=24),b=Gr(3,null,null,i),t.current=b,b.stateNode=t,i=Go(),i.refCount++,t.pooledCache=i,i.refCount++,b.memoizedState={element:u,isDehydrated:s,cache:i},Je(b),t}function Qm(t){return t?(t=Dr,t):Dr}function eg(t,i,s,u,m,b){m=Qm(m),u.context===null?u.context=m:u.pendingContext=m,u=Rt(i),u.payload={element:s},b=b===void 0?null:b,b!==null&&(u.callback=b),s=Wt(t,u,i),s!==null&&($i(s,t,i),vn(s,t,i))}function tg(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function h0(t,i){tg(t,i),(t=t.alternate)&&tg(t,i)}function ng(t){if(t.tag===13||t.tag===31){var i=rs(t,67108864);i!==null&&$i(i,t,67108864),h0(t,67108864)}}function rg(t){if(t.tag===13||t.tag===31){var i=la();i=Un(i);var s=rs(t,i);s!==null&&$i(s,t,i),h0(t,i)}}var ph=!0;function Pv(t,i,s,u){var m=Y.T;Y.T=null;var b=le.p;try{le.p=2,d0(t,i,s,u)}finally{le.p=b,Y.T=m}}function Iv(t,i,s,u){var m=Y.T;Y.T=null;var b=le.p;try{le.p=8,d0(t,i,s,u)}finally{le.p=b,Y.T=m}}function d0(t,i,s,u){if(ph){var m=p0(u);if(m===null)Qd(t,i,u,mh,s),ag(t,u);else if(Fv(m,t,i,s,u))u.stopPropagation();else if(ag(t,u),i&4&&-1<qv.indexOf(t)){for(;m!==null;){var b=Ki(m);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var N=vt(b.pendingLanes);if(N!==0){var I=b;for(I.pendingLanes|=2,I.entangledLanes|=2;N;){var oe=1<<31-jt(N);I.entanglements[1]|=oe,N&=~oe}Ms(b),(wn&6)===0&&(Xf=Lt()+500,Yc(0))}}break;case 31:case 13:I=rs(b,2),I!==null&&$i(I,b,2),Qf(),h0(b,2)}if(b=p0(u),b===null&&Qd(t,i,u,mh,s),b===m)break;m=b}m!==null&&u.stopPropagation()}else Qd(t,i,u,null,s)}}function p0(t){return t=Ys(t),m0(t)}var mh=null;function m0(t){if(mh=null,t=Yi(t),t!==null){var i=o(t);if(i===null)t=null;else{var s=i.tag;if(s===13){if(t=f(i),t!==null)return t;t=null}else if(s===31){if(t=c(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return mh=t,null}function ig(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Tt()){case yt:return 2;case Nt:return 8;case Mt:case nt:return 32;case kt:return 268435456;default:return 32}default:return 32}}var g0=!1,il=null,al=null,sl=null,tf=new Map,nf=new Map,ol=[],qv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ag(t,i){switch(t){case"focusin":case"focusout":il=null;break;case"dragenter":case"dragleave":al=null;break;case"mouseover":case"mouseout":sl=null;break;case"pointerover":case"pointerout":tf.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":nf.delete(i.pointerId)}}function rf(t,i,s,u,m,b){return t===null||t.nativeEvent!==b?(t={blockedOn:i,domEventName:s,eventSystemFlags:u,nativeEvent:b,targetContainers:[m]},i!==null&&(i=Ki(i),i!==null&&ng(i)),t):(t.eventSystemFlags|=u,i=t.targetContainers,m!==null&&i.indexOf(m)===-1&&i.push(m),t)}function Fv(t,i,s,u,m){switch(i){case"focusin":return il=rf(il,t,i,s,u,m),!0;case"dragenter":return al=rf(al,t,i,s,u,m),!0;case"mouseover":return sl=rf(sl,t,i,s,u,m),!0;case"pointerover":var b=m.pointerId;return tf.set(b,rf(tf.get(b)||null,t,i,s,u,m)),!0;case"gotpointercapture":return b=m.pointerId,nf.set(b,rf(nf.get(b)||null,t,i,s,u,m)),!0}return!1}function sg(t){var i=Yi(t.target);if(i!==null){var s=o(i);if(s!==null){if(i=s.tag,i===13){if(i=f(s),i!==null){t.blockedOn=i,bs(t.priority,function(){rg(s)});return}}else if(i===31){if(i=c(s),i!==null){t.blockedOn=i,bs(t.priority,function(){rg(s)});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function gh(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=p0(t.nativeEvent);if(s===null){s=t.nativeEvent;var u=new s.constructor(s.type,s);Ia=u,s.target.dispatchEvent(u),Ia=null}else return i=Ki(s),i!==null&&ng(i),t.blockedOn=s,!1;i.shift()}return!0}function og(t,i,s){gh(t)&&s.delete(i)}function Hv(){g0=!1,il!==null&&gh(il)&&(il=null),al!==null&&gh(al)&&(al=null),sl!==null&&gh(sl)&&(sl=null),tf.forEach(og),nf.forEach(og)}function yh(t,i){t.blockedOn===i&&(t.blockedOn=null,g0||(g0=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Hv)))}var vh=null;function lg(t){vh!==t&&(vh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){vh===t&&(vh=null);for(var i=0;i<t.length;i+=3){var s=t[i],u=t[i+1],m=t[i+2];if(typeof u!="function"){if(m0(u||s)===null)continue;break}var b=Ki(s);b!==null&&(t.splice(i,3),i-=3,pd(b,{pending:!0,data:m,method:s.method,action:u},u,m))}}))}function Ju(t){function i(oe){return yh(oe,t)}il!==null&&yh(il,t),al!==null&&yh(al,t),sl!==null&&yh(sl,t),tf.forEach(i),nf.forEach(i);for(var s=0;s<ol.length;s++){var u=ol[s];u.blockedOn===t&&(u.blockedOn=null)}for(;0<ol.length&&(s=ol[0],s.blockedOn===null);)sg(s),s.blockedOn===null&&ol.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(u=0;u<s.length;u+=3){var m=s[u],b=s[u+1],N=m[Pn]||null;if(typeof b=="function")N||lg(s);else if(N){var I=null;if(b&&b.hasAttribute("formAction")){if(m=b,N=b[Pn]||null)I=N.formAction;else if(m0(m)!==null)continue}else I=N.action;typeof I=="function"?s[u+1]=I:(s.splice(u,3),u-=3),lg(s)}}}function ug(){function t(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(N){return m=N})},focusReset:"manual",scroll:"manual"})}function i(){m!==null&&(m(),m=null),u||setTimeout(s,20)}function s(){if(!u&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,m=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(s,100),function(){u=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),m!==null&&(m(),m=null)}}}function y0(t){this._internalRoot=t}bh.prototype.render=y0.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,u=la();eg(s,u,t,i,null,null)},bh.prototype.unmount=y0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;eg(t.current,2,null,t,null,null),Qf(),i[Fr]=null}};function bh(t){this._internalRoot=t}bh.prototype.unstable_scheduleHydration=function(t){if(t){var i=Sr();t={blockedOn:null,target:t,priority:i};for(var s=0;s<ol.length&&i!==0&&i<ol[s].priority;s++);ol.splice(s,0,t),s===0&&sg(t)}};var cg=e.version;if(cg!=="19.2.3")throw Error(a(527,cg,"19.2.3"));le.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=p(i),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var $v={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wh.isDisabled&&wh.supportsFiber)try{Xe=wh.inject($v),Ze=wh}catch{}}return sf.createRoot=function(t,i){if(!l(t))throw Error(a(299));var s=!1,u="",m=y1,b=v1,N=b1;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(m=i.onUncaughtError),i.onCaughtError!==void 0&&(b=i.onCaughtError),i.onRecoverableError!==void 0&&(N=i.onRecoverableError)),i=Zm(t,1,!1,null,null,s,u,null,m,b,N,ug),t[Fr]=i.current,Zd(t),new y0(i)},sf.hydrateRoot=function(t,i,s){if(!l(t))throw Error(a(299));var u=!1,m="",b=y1,N=v1,I=b1,oe=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(m=s.identifierPrefix),s.onUncaughtError!==void 0&&(b=s.onUncaughtError),s.onCaughtError!==void 0&&(N=s.onCaughtError),s.onRecoverableError!==void 0&&(I=s.onRecoverableError),s.formState!==void 0&&(oe=s.formState)),i=Zm(t,1,!0,i,s??null,u,m,oe,b,N,I,ug),i.context=Qm(null),s=i.current,u=la(),u=Un(u),m=Rt(u),m.callback=null,Wt(s,m,u),s=u,i.current.lanes=s,_t(i,s),Ms(i),t[Fr]=i.current,Zd(t),new bh(i)},sf.version="19.2.3",sf}var wg;function eb(){if(wg)return w0.exports;wg=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),w0.exports=Qv(),w0.exports}var tb=eb();var xg="popstate";function nb(r={}){function e(a,l){let{pathname:o,search:f,hash:c}=a.location;return ip("",{pathname:o,search:f,hash:c},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){return typeof l=="string"?l:gf(l)}return ib(e,n,null,r)}function Xn(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Ba(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rb(){return Math.random().toString(36).substring(2,10)}function _g(r,e){return{usr:r.state,key:r.key,idx:e}}function ip(r,e,n=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?bc(e):e,state:n,key:e&&e.key||a||rb()}}function gf({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function bc(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let a=r.indexOf("?");a>=0&&(e.search=r.substring(a),r=r.substring(0,a)),r&&(e.pathname=r)}return e}function ib(r,e,n,a={}){let{window:l=document.defaultView,v5Compat:o=!1}=a,f=l.history,c="POP",h=null,p=v();p==null&&(p=0,f.replaceState({...f.state,idx:p},""));function v(){return(f.state||{idx:null}).idx}function x(){c="POP";let j=v(),O=j==null?null:j-p;p=j,h&&h({action:c,location:E.location,delta:O})}function A(j,O){c="PUSH";let M=ip(E.location,j,O);p=v()+1;let F=_g(M,p),G=E.createHref(M);try{f.pushState(F,"",G)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;l.location.assign(G)}o&&h&&h({action:c,location:E.location,delta:1})}function y(j,O){c="REPLACE";let M=ip(E.location,j,O);p=v();let F=_g(M,p),G=E.createHref(M);f.replaceState(F,"",G),o&&h&&h({action:c,location:E.location,delta:0})}function L(j){return ab(j)}let E={get action(){return c},get location(){return r(l,f)},listen(j){if(h)throw new Error("A history only accepts one active listener");return l.addEventListener(xg,x),h=j,()=>{l.removeEventListener(xg,x),h=null}},createHref(j){return e(l,j)},createURL:L,encodeLocation(j){let O=L(j);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:A,replace:y,go(j){return f.go(j)}};return E}function ab(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Xn(n,"No window.location.(origin|href) available to create URL");let a=typeof r=="string"?r:gf(r);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function u5(r,e,n="/"){return sb(r,e,n,!1)}function sb(r,e,n,a){let l=typeof e=="string"?bc(e):e,o=Eo(l.pathname||"/",n);if(o==null)return null;let f=c5(r);ob(f);let c=null;for(let h=0;c==null&&h<f.length;++h){let p=vb(o);c=gb(f[h],p,a)}return c}function c5(r,e=[],n=[],a="",l=!1){let o=(f,c,h=l,p)=>{let v={relativePath:p===void 0?f.path||"":p,caseSensitive:f.caseSensitive===!0,childrenIndex:c,route:f};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(a)&&h)return;Xn(v.relativePath.startsWith(a),`Absolute route path "${v.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(a.length)}let x=Ao([a,v.relativePath]),A=n.concat(v);f.children&&f.children.length>0&&(Xn(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),c5(f.children,e,A,x,h)),!(f.path==null&&!f.index)&&e.push({path:x,score:pb(x,f.index),routesMeta:A})};return r.forEach((f,c)=>{if(f.path===""||!f.path?.includes("?"))o(f,c);else for(let h of f5(f.path))o(f,c,!0,h)}),e}function f5(r){let e=r.split("/");if(e.length===0)return[];let[n,...a]=e,l=n.endsWith("?"),o=n.replace(/\?$/,"");if(a.length===0)return l?[o,""]:[o];let f=f5(a.join("/")),c=[];return c.push(...f.map(h=>h===""?o:[o,h].join("/"))),l&&c.push(...f),c.map(h=>r.startsWith("/")&&h===""?"/":h)}function ob(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:mb(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var lb=/^:[\w-]+$/,ub=3,cb=2,fb=1,hb=10,db=-2,Sg=r=>r==="*";function pb(r,e){let n=r.split("/"),a=n.length;return n.some(Sg)&&(a+=db),e&&(a+=cb),n.filter(l=>!Sg(l)).reduce((l,o)=>l+(lb.test(o)?ub:o===""?fb:hb),a)}function mb(r,e){return r.length===e.length&&r.slice(0,-1).every((a,l)=>a===e[l])?r[r.length-1]-e[e.length-1]:0}function gb(r,e,n=!1){let{routesMeta:a}=r,l={},o="/",f=[];for(let c=0;c<a.length;++c){let h=a[c],p=c===a.length-1,v=o==="/"?e:e.slice(o.length)||"/",x=$h({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},v),A=h.route;if(!x&&p&&n&&!a[a.length-1].route.index&&(x=$h({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},v)),!x)return null;Object.assign(l,x.params),f.push({params:l,pathname:Ao([o,x.pathname]),pathnameBase:_b(Ao([o,x.pathnameBase])),route:A}),x.pathnameBase!=="/"&&(o=Ao([o,x.pathnameBase]))}return f}function $h(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,a]=yb(r.path,r.caseSensitive,r.end),l=e.match(n);if(!l)return null;let o=l[0],f=o.replace(/(.)\/+$/,"$1"),c=l.slice(1);return{params:a.reduce((p,{paramName:v,isOptional:x},A)=>{if(v==="*"){let L=c[A]||"";f=o.slice(0,o.length-L.length).replace(/(.)\/+$/,"$1")}const y=c[A];return x&&!y?p[v]=void 0:p[v]=(y||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:f,pattern:r}}function yb(r,e=!1,n=!0){Ba(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],l="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,c,h)=>(a.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(a.push({paramName:"*"}),l+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":r!==""&&r!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),a]}function vb(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ba(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Eo(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=r.charAt(n);return a&&a!=="/"?null:r.slice(n)||"/"}var h5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bb=r=>h5.test(r);function wb(r,e="/"){let{pathname:n,search:a="",hash:l=""}=typeof r=="string"?bc(r):r,o;if(n)if(bb(n))o=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),Ba(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?o=Ag(n.substring(1),"/"):o=Ag(n,e)}else o=e;return{pathname:o,search:Sb(a),hash:Ab(l)}}function Ag(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function A0(r,e,n,a){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function xb(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Lp(r){let e=xb(r);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function jp(r,e,n,a=!1){let l;typeof r=="string"?l=bc(r):(l={...r},Xn(!l.pathname||!l.pathname.includes("?"),A0("?","pathname","search",l)),Xn(!l.pathname||!l.pathname.includes("#"),A0("#","pathname","hash",l)),Xn(!l.search||!l.search.includes("#"),A0("#","search","hash",l)));let o=r===""||l.pathname==="",f=o?"/":l.pathname,c;if(f==null)c=n;else{let x=e.length-1;if(!a&&f.startsWith("..")){let A=f.split("/");for(;A[0]==="..";)A.shift(),x-=1;l.pathname=A.join("/")}c=x>=0?e[x]:"/"}let h=wb(l,c),p=f&&f!=="/"&&f.endsWith("/"),v=(o||f===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(p||v)&&(h.pathname+="/"),h}var Ao=r=>r.join("/").replace(/\/\/+/g,"/"),_b=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Sb=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Ab=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,Eb=class{constructor(r,e,n,a=!1){this.status=r,this.statusText=e||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Tb(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function kb(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var d5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function p5(r,e){let n=r;if(typeof n!="string"||!h5.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let a=n,l=!1;if(d5)try{let o=new URL(window.location.href),f=n.startsWith("//")?new URL(o.protocol+n):new URL(n),c=Eo(f.pathname,e);f.origin===o.origin&&c!=null?n=c+f.search+f.hash:l=!0}catch{Ba(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:a,isExternal:l,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var m5=["POST","PUT","PATCH","DELETE"];new Set(m5);var Nb=["GET",...m5];new Set(Nb);var wc=te.createContext(null);wc.displayName="DataRouter";var Qh=te.createContext(null);Qh.displayName="DataRouterState";var Lb=te.createContext(!1),g5=te.createContext({isTransitioning:!1});g5.displayName="ViewTransition";var jb=te.createContext(new Map);jb.displayName="Fetchers";var Ob=te.createContext(null);Ob.displayName="Await";var ma=te.createContext(null);ma.displayName="Navigation";var Ef=te.createContext(null);Ef.displayName="Location";var gs=te.createContext({outlet:null,matches:[],isDataRoute:!1});gs.displayName="Route";var Op=te.createContext(null);Op.displayName="RouteError";var y5="REACT_ROUTER_ERROR",Cb="REDIRECT",Rb="ROUTE_ERROR_RESPONSE";function Db(r){if(r.startsWith(`${y5}:${Cb}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function Bb(r){if(r.startsWith(`${y5}:${Rb}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Eb(e.status,e.statusText,e.data)}catch{}}function zb(r,{relative:e}={}){Xn(xc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=te.useContext(ma),{hash:l,pathname:o,search:f}=Tf(r,{relative:e}),c=o;return n!=="/"&&(c=o==="/"?n:Ao([n,o])),a.createHref({pathname:c,search:f,hash:l})}function xc(){return te.useContext(Ef)!=null}function To(){return Xn(xc(),"useLocation() may be used only in the context of a <Router> component."),te.useContext(Ef).location}var v5="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function b5(r){te.useContext(ma).static||te.useLayoutEffect(r)}function ed(){let{isDataRoute:r}=te.useContext(gs);return r?Jb():Ub()}function Ub(){Xn(xc(),"useNavigate() may be used only in the context of a <Router> component.");let r=te.useContext(wc),{basename:e,navigator:n}=te.useContext(ma),{matches:a}=te.useContext(gs),{pathname:l}=To(),o=JSON.stringify(Lp(a)),f=te.useRef(!1);return b5(()=>{f.current=!0}),te.useCallback((h,p={})=>{if(Ba(f.current,v5),!f.current)return;if(typeof h=="number"){n.go(h);return}let v=jp(h,JSON.parse(o),l,p.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Ao([e,v.pathname])),(p.replace?n.replace:n.push)(v,p.state,p)},[e,n,o,l,r])}te.createContext(null);function Mb(){let{matches:r}=te.useContext(gs),e=r[r.length-1];return e?e.params:{}}function Tf(r,{relative:e}={}){let{matches:n}=te.useContext(gs),{pathname:a}=To(),l=JSON.stringify(Lp(n));return te.useMemo(()=>jp(r,JSON.parse(l),a,e==="path"),[r,l,a,e])}function Pb(r,e){return w5(r,e)}function w5(r,e,n,a,l){Xn(xc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=te.useContext(ma),{matches:f}=te.useContext(gs),c=f[f.length-1],h=c?c.params:{},p=c?c.pathname:"/",v=c?c.pathnameBase:"/",x=c&&c.route;{let M=x&&x.path||"";_5(p,!x||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let A=To(),y;if(e){let M=typeof e=="string"?bc(e):e;Xn(v==="/"||M.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${M.pathname}" was given in the \`location\` prop.`),y=M}else y=A;let L=y.pathname||"/",E=L;if(v!=="/"){let M=v.replace(/^\//,"").split("/");E="/"+L.replace(/^\//,"").split("/").slice(M.length).join("/")}let j=u5(r,{pathname:E});Ba(x||j!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Ba(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=$b(j&&j.map(M=>Object.assign({},M,{params:Object.assign({},h,M.params),pathname:Ao([v,o.encodeLocation?o.encodeLocation(M.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?v:Ao([v,o.encodeLocation?o.encodeLocation(M.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathnameBase])})),f,n,a,l);return e&&O?te.createElement(Ef.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},O):O}function Ib(){let r=Kb(),e=Tb(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:a},o={padding:"2px 4px",backgroundColor:a},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=te.createElement(te.Fragment,null,te.createElement("p",null," Hey developer "),te.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",te.createElement("code",{style:o},"ErrorBoundary")," or"," ",te.createElement("code",{style:o},"errorElement")," prop on your route.")),te.createElement(te.Fragment,null,te.createElement("h2",null,"Unexpected Application Error!"),te.createElement("h3",{style:{fontStyle:"italic"}},e),n?te.createElement("pre",{style:l},n):null,f)}var qb=te.createElement(Ib,null),x5=class extends te.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=Bb(r.digest);n&&(r=n)}let e=r!==void 0?te.createElement(gs.Provider,{value:this.props.routeContext},te.createElement(Op.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?te.createElement(Fb,{error:r},e):e}};x5.contextType=Lb;var E0=new WeakMap;function Fb({children:r,error:e}){let{basename:n}=te.useContext(ma);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let a=Db(e.digest);if(a){let l=E0.get(e);if(l)throw l;let o=p5(a.location,n);if(d5&&!E0.get(e))if(o.isExternal||a.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:a.replace}));throw E0.set(e,f),f}return te.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return r}function Hb({routeContext:r,match:e,children:n}){let a=te.useContext(wc);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),te.createElement(gs.Provider,{value:r},n)}function $b(r,e=[],n=null,a=null,l=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,f=n?.errors;if(f!=null){let v=o.findIndex(x=>x.route.id&&f?.[x.route.id]!==void 0);Xn(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),o=o.slice(0,Math.min(o.length,v+1))}let c=!1,h=-1;if(n)for(let v=0;v<o.length;v++){let x=o[v];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(h=v),x.route.id){let{loaderData:A,errors:y}=n,L=x.route.loader&&!A.hasOwnProperty(x.route.id)&&(!y||y[x.route.id]===void 0);if(x.route.lazy||L){c=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}let p=n&&a?(v,x)=>{a(v,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:kb(n.matches),errorInfo:x})}:void 0;return o.reduceRight((v,x,A)=>{let y,L=!1,E=null,j=null;n&&(y=f&&x.route.id?f[x.route.id]:void 0,E=x.route.errorElement||qb,c&&(h<0&&A===0?(_5("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),L=!0,j=null):h===A&&(L=!0,j=x.route.hydrateFallbackElement||null)));let O=e.concat(o.slice(0,A+1)),M=()=>{let F;return y?F=E:L?F=j:x.route.Component?F=te.createElement(x.route.Component,null):x.route.element?F=x.route.element:F=v,te.createElement(Hb,{match:x,routeContext:{outlet:v,matches:O,isDataRoute:n!=null},children:F})};return n&&(x.route.ErrorBoundary||x.route.errorElement||A===0)?te.createElement(x5,{location:n.location,revalidation:n.revalidation,component:E,error:y,children:M(),routeContext:{outlet:null,matches:O,isDataRoute:!0},onError:p}):M()},null)}function Cp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Gb(r){let e=te.useContext(wc);return Xn(e,Cp(r)),e}function Wb(r){let e=te.useContext(Qh);return Xn(e,Cp(r)),e}function Vb(r){let e=te.useContext(gs);return Xn(e,Cp(r)),e}function Rp(r){let e=Vb(r),n=e.matches[e.matches.length-1];return Xn(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Yb(){return Rp("useRouteId")}function Kb(){let r=te.useContext(Op),e=Wb("useRouteError"),n=Rp("useRouteError");return r!==void 0?r:e.errors?.[n]}function Jb(){let{router:r}=Gb("useNavigate"),e=Rp("useNavigate"),n=te.useRef(!1);return b5(()=>{n.current=!0}),te.useCallback(async(l,o={})=>{Ba(n.current,v5),n.current&&(typeof l=="number"?await r.navigate(l):await r.navigate(l,{fromRouteId:e,...o}))},[r,e])}var Eg={};function _5(r,e,n){!e&&!Eg[r]&&(Eg[r]=!0,Ba(!1,n))}te.memo(Xb);function Xb({routes:r,future:e,state:n,onError:a}){return w5(r,void 0,n,a,e)}function Zb({to:r,replace:e,state:n,relative:a}){Xn(xc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=te.useContext(ma);Ba(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=te.useContext(gs),{pathname:f}=To(),c=ed(),h=jp(r,Lp(o),f,a==="path"),p=JSON.stringify(h);return te.useEffect(()=>{c(JSON.parse(p),{replace:e,state:n,relative:a})},[c,p,a,e,n]),null}function Is(r){Xn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Qb({basename:r="/",children:e=null,location:n,navigationType:a="POP",navigator:l,static:o=!1,unstable_useTransitions:f}){Xn(!xc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=r.replace(/^\/*/,"/"),h=te.useMemo(()=>({basename:c,navigator:l,static:o,unstable_useTransitions:f,future:{}}),[c,l,o,f]);typeof n=="string"&&(n=bc(n));let{pathname:p="/",search:v="",hash:x="",state:A=null,key:y="default"}=n,L=te.useMemo(()=>{let E=Eo(p,c);return E==null?null:{location:{pathname:E,search:v,hash:x,state:A,key:y},navigationType:a}},[c,p,v,x,A,y,a]);return Ba(L!=null,`<Router basename="${c}"> is not able to match the URL "${p}${v}${x}" because it does not start with the basename, so the <Router> won't render anything.`),L==null?null:te.createElement(ma.Provider,{value:h},te.createElement(Ef.Provider,{children:e,value:L}))}function ew({children:r,location:e}){return Pb(ap(r),e)}function ap(r,e=[]){let n=[];return te.Children.forEach(r,(a,l)=>{if(!te.isValidElement(a))return;let o=[...e,l];if(a.type===te.Fragment){n.push.apply(n,ap(a.props.children,o));return}Xn(a.type===Is,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Xn(!a.props.index||!a.props.children,"An index route cannot have child routes.");let f={id:a.props.id||o.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(f.children=ap(a.props.children,o)),n.push(f)}),n}var zh="get",Uh="application/x-www-form-urlencoded";function td(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function tw(r){return td(r)&&r.tagName.toLowerCase()==="button"}function nw(r){return td(r)&&r.tagName.toLowerCase()==="form"}function rw(r){return td(r)&&r.tagName.toLowerCase()==="input"}function iw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function aw(r,e){return r.button===0&&(!e||e==="_self")&&!iw(r)}var xh=null;function sw(){if(xh===null)try{new FormData(document.createElement("form"),0),xh=!1}catch{xh=!0}return xh}var ow=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function T0(r){return r!=null&&!ow.has(r)?(Ba(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Uh}"`),null):r}function lw(r,e){let n,a,l,o,f;if(nw(r)){let c=r.getAttribute("action");a=c?Eo(c,e):null,n=r.getAttribute("method")||zh,l=T0(r.getAttribute("enctype"))||Uh,o=new FormData(r)}else if(tw(r)||rw(r)&&(r.type==="submit"||r.type==="image")){let c=r.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=r.getAttribute("formaction")||c.getAttribute("action");if(a=h?Eo(h,e):null,n=r.getAttribute("formmethod")||c.getAttribute("method")||zh,l=T0(r.getAttribute("formenctype"))||T0(c.getAttribute("enctype"))||Uh,o=new FormData(c,r),!sw()){let{name:p,type:v,value:x}=r;if(v==="image"){let A=p?`${p}.`:"";o.append(`${A}x`,"0"),o.append(`${A}y`,"0")}else p&&o.append(p,x)}}else{if(td(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=zh,a=null,l=Uh,f=r}return o&&l==="text/plain"&&(f=o,o=void 0),{action:a,method:n.toLowerCase(),encType:l,formData:o,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Dp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function uw(r,e,n,a){let l=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?l.pathname.endsWith("/")?l.pathname=`${l.pathname}_.${a}`:l.pathname=`${l.pathname}.${a}`:l.pathname==="/"?l.pathname=`_root.${a}`:e&&Eo(l.pathname,e)==="/"?l.pathname=`${e.replace(/\/$/,"")}/_root.${a}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${a}`,l}async function cw(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function fw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function hw(r,e,n){let a=await Promise.all(r.map(async l=>{let o=e.routes[l.route.id];if(o){let f=await cw(o,n);return f.links?f.links():[]}return[]}));return gw(a.flat(1).filter(fw).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Tg(r,e,n,a,l,o){let f=(h,p)=>n[p]?h.route.id!==n[p].route.id:!0,c=(h,p)=>n[p].pathname!==h.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==h.params["*"];return o==="assets"?e.filter((h,p)=>f(h,p)||c(h,p)):o==="data"?e.filter((h,p)=>{let v=a.routes[h.route.id];if(!v||!v.hasLoader)return!1;if(f(h,p)||c(h,p))return!0;if(h.route.shouldRevalidate){let x=h.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function dw(r,e,{includeHydrateFallback:n}={}){return pw(r.map(a=>{let l=e.routes[a.route.id];if(!l)return[];let o=[l.module];return l.clientActionModule&&(o=o.concat(l.clientActionModule)),l.clientLoaderModule&&(o=o.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(o=o.concat(l.hydrateFallbackModule)),l.imports&&(o=o.concat(l.imports)),o}).flat(1))}function pw(r){return[...new Set(r)]}function mw(r){let e={},n=Object.keys(r).sort();for(let a of n)e[a]=r[a];return e}function gw(r,e){let n=new Set;return new Set(e),r.reduce((a,l)=>{let o=JSON.stringify(mw(l));return n.has(o)||(n.add(o),a.push({key:o,link:l})),a},[])}function S5(){let r=te.useContext(wc);return Dp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function yw(){let r=te.useContext(Qh);return Dp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Bp=te.createContext(void 0);Bp.displayName="FrameworkContext";function A5(){let r=te.useContext(Bp);return Dp(r,"You must render this element inside a <HydratedRouter> element"),r}function vw(r,e){let n=te.useContext(Bp),[a,l]=te.useState(!1),[o,f]=te.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:p,onMouseLeave:v,onTouchStart:x}=e,A=te.useRef(null);te.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let E=O=>{O.forEach(M=>{f(M.isIntersecting)})},j=new IntersectionObserver(E,{threshold:.5});return A.current&&j.observe(A.current),()=>{j.disconnect()}}},[r]),te.useEffect(()=>{if(a){let E=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(E)}}},[a]);let y=()=>{l(!0)},L=()=>{l(!1),f(!1)};return n?r!=="intent"?[o,A,{}]:[o,A,{onFocus:of(c,y),onBlur:of(h,L),onMouseEnter:of(p,y),onMouseLeave:of(v,L),onTouchStart:of(x,y)}]:[!1,A,{}]}function of(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function bw({page:r,...e}){let{router:n}=S5(),a=te.useMemo(()=>u5(n.routes,r,n.basename),[n.routes,r,n.basename]);return a?te.createElement(xw,{page:r,matches:a,...e}):null}function ww(r){let{manifest:e,routeModules:n}=A5(),[a,l]=te.useState([]);return te.useEffect(()=>{let o=!1;return hw(r,e,n).then(f=>{o||l(f)}),()=>{o=!0}},[r,e,n]),a}function xw({page:r,matches:e,...n}){let a=To(),{future:l,manifest:o,routeModules:f}=A5(),{basename:c}=S5(),{loaderData:h,matches:p}=yw(),v=te.useMemo(()=>Tg(r,e,p,o,a,"data"),[r,e,p,o,a]),x=te.useMemo(()=>Tg(r,e,p,o,a,"assets"),[r,e,p,o,a]),A=te.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let E=new Set,j=!1;if(e.forEach(M=>{let F=o.routes[M.route.id];!F||!F.hasLoader||(!v.some(G=>G.route.id===M.route.id)&&M.route.id in h&&f[M.route.id]?.shouldRevalidate||F.hasClientLoader?j=!0:E.add(M.route.id))}),E.size===0)return[];let O=uw(r,c,l.unstable_trailingSlashAwareDataRequests,"data");return j&&E.size>0&&O.searchParams.set("_routes",e.filter(M=>E.has(M.route.id)).map(M=>M.route.id).join(",")),[O.pathname+O.search]},[c,l.unstable_trailingSlashAwareDataRequests,h,a,o,v,e,r,f]),y=te.useMemo(()=>dw(x,o),[x,o]),L=ww(x);return te.createElement(te.Fragment,null,A.map(E=>te.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),y.map(E=>te.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),L.map(({key:E,link:j})=>te.createElement("link",{key:E,nonce:n.nonce,...j})))}function _w(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Sw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Sw&&(window.__reactRouterVersion="7.12.0")}catch{}function Aw({basename:r,children:e,unstable_useTransitions:n,window:a}){let l=te.useRef();l.current==null&&(l.current=nb({window:a,v5Compat:!0}));let o=l.current,[f,c]=te.useState({action:o.action,location:o.location}),h=te.useCallback(p=>{n===!1?c(p):te.startTransition(()=>c(p))},[n]);return te.useLayoutEffect(()=>o.listen(h),[o,h]),te.createElement(Qb,{basename:r,children:e,location:f.location,navigationType:f.action,navigator:o,unstable_useTransitions:n})}var E5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zp=te.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:l,reloadDocument:o,replace:f,state:c,target:h,to:p,preventScrollReset:v,viewTransition:x,unstable_defaultShouldRevalidate:A,...y},L){let{basename:E,unstable_useTransitions:j}=te.useContext(ma),O=typeof p=="string"&&E5.test(p),M=p5(p,E);p=M.to;let F=zb(p,{relative:l}),[G,se,me]=vw(a,y),Q=Nw(p,{replace:f,state:c,target:h,preventScrollReset:v,relative:l,viewTransition:x,unstable_defaultShouldRevalidate:A,unstable_useTransitions:j});function ee(he){e&&e(he),he.defaultPrevented||Q(he)}let $=te.createElement("a",{...y,...me,href:M.absoluteURL||F,onClick:M.isExternal||o?e:ee,ref:_w(L,se),target:h,"data-discover":!O&&n==="render"?"true":void 0});return G&&!O?te.createElement(te.Fragment,null,$,te.createElement(bw,{page:F})):$});zp.displayName="Link";var Ew=te.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:l=!1,style:o,to:f,viewTransition:c,children:h,...p},v){let x=Tf(f,{relative:p.relative}),A=To(),y=te.useContext(Qh),{navigator:L,basename:E}=te.useContext(ma),j=y!=null&&Rw(x)&&c===!0,O=L.encodeLocation?L.encodeLocation(x).pathname:x.pathname,M=A.pathname,F=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(M=M.toLowerCase(),F=F?F.toLowerCase():null,O=O.toLowerCase()),F&&E&&(F=Eo(F,E)||F);const G=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let se=M===O||!l&&M.startsWith(O)&&M.charAt(G)==="/",me=F!=null&&(F===O||!l&&F.startsWith(O)&&F.charAt(O.length)==="/"),Q={isActive:se,isPending:me,isTransitioning:j},ee=se?e:void 0,$;typeof a=="function"?$=a(Q):$=[a,se?"active":null,me?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let he=typeof o=="function"?o(Q):o;return te.createElement(zp,{...p,"aria-current":ee,className:$,ref:v,style:he,to:f,viewTransition:c},typeof h=="function"?h(Q):h)});Ew.displayName="NavLink";var Tw=te.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:l,state:o,method:f=zh,action:c,onSubmit:h,relative:p,preventScrollReset:v,viewTransition:x,unstable_defaultShouldRevalidate:A,...y},L)=>{let{unstable_useTransitions:E}=te.useContext(ma),j=Ow(),O=Cw(c,{relative:p}),M=f.toLowerCase()==="get"?"get":"post",F=typeof c=="string"&&E5.test(c),G=se=>{if(h&&h(se),se.defaultPrevented)return;se.preventDefault();let me=se.nativeEvent.submitter,Q=me?.getAttribute("formmethod")||f,ee=()=>j(me||se.currentTarget,{fetcherKey:e,method:Q,navigate:n,replace:l,state:o,relative:p,preventScrollReset:v,viewTransition:x,unstable_defaultShouldRevalidate:A});E&&n!==!1?te.startTransition(()=>ee()):ee()};return te.createElement("form",{ref:L,method:M,action:O,onSubmit:a?h:G,...y,"data-discover":!F&&r==="render"?"true":void 0})});Tw.displayName="Form";function kw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function T5(r){let e=te.useContext(wc);return Xn(e,kw(r)),e}function Nw(r,{target:e,replace:n,state:a,preventScrollReset:l,relative:o,viewTransition:f,unstable_defaultShouldRevalidate:c,unstable_useTransitions:h}={}){let p=ed(),v=To(),x=Tf(r,{relative:o});return te.useCallback(A=>{if(aw(A,e)){A.preventDefault();let y=n!==void 0?n:gf(v)===gf(x),L=()=>p(r,{replace:y,state:a,preventScrollReset:l,relative:o,viewTransition:f,unstable_defaultShouldRevalidate:c});h?te.startTransition(()=>L()):L()}},[v,p,x,n,a,e,r,l,o,f,c,h])}var Lw=0,jw=()=>`__${String(++Lw)}__`;function Ow(){let{router:r}=T5("useSubmit"),{basename:e}=te.useContext(ma),n=Yb(),a=r.fetch,l=r.navigate;return te.useCallback(async(o,f={})=>{let{action:c,method:h,encType:p,formData:v,body:x}=lw(o,e);if(f.navigate===!1){let A=f.fetcherKey||jw();await a(A,n,f.action||c,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:v,body:x,formMethod:f.method||h,formEncType:f.encType||p,flushSync:f.flushSync})}else await l(f.action||c,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:v,body:x,formMethod:f.method||h,formEncType:f.encType||p,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[a,l,e,n])}function Cw(r,{relative:e}={}){let{basename:n}=te.useContext(ma),a=te.useContext(gs);Xn(a,"useFormAction must be used inside a RouteContext");let[l]=a.matches.slice(-1),o={...Tf(r||".",{relative:e})},f=To();if(r==null){o.search=f.search;let c=new URLSearchParams(o.search),h=c.getAll("index");if(h.some(v=>v==="")){c.delete("index"),h.filter(x=>x).forEach(x=>c.append("index",x));let v=c.toString();o.search=v?`?${v}`:""}}return(!r||r===".")&&l.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Ao([n,o.pathname])),gf(o)}function Rw(r,{relative:e}={}){let n=te.useContext(g5);Xn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=T5("useViewTransitionState"),l=Tf(r,{relative:e});if(!n.isTransitioning)return!1;let o=Eo(n.currentLocation.pathname,a)||n.currentLocation.pathname,f=Eo(n.nextLocation.pathname,a)||n.nextLocation.pathname;return $h(l.pathname,f)!=null||$h(l.pathname,o)!=null}function nd(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(r);l<a.length;l++)e.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(r,a[l])&&(n[a[l]]=r[a[l]]);return n}function Dw(r,e,n,a){function l(o){return o instanceof n?o:new n(function(f){f(o)})}return new(n||(n=Promise))(function(o,f){function c(v){try{p(a.next(v))}catch(x){f(x)}}function h(v){try{p(a.throw(v))}catch(x){f(x)}}function p(v){v.done?o(v.value):l(v.value).then(c,h)}p((a=a.apply(r,e||[])).next())})}const Bw=r=>r?(...e)=>r(...e):(...e)=>fetch(...e);class Up extends Error{constructor(e,n="FunctionsError",a){super(e),this.name=n,this.context=a}}class zw extends Up{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class kg extends Up{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Ng extends Up{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var sp;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(sp||(sp={}));class Uw{constructor(e,{headers:n={},customFetch:a,region:l=sp.Any}={}){this.url=e,this.headers=n,this.region=l,this.fetch=Bw(a)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Dw(this,arguments,void 0,function*(n,a={}){var l;let o,f;try{const{headers:c,method:h,body:p,signal:v,timeout:x}=a;let A={},{region:y}=a;y||(y=this.region);const L=new URL(`${this.url}/${n}`);y&&y!=="any"&&(A["x-region"]=y,L.searchParams.set("forceFunctionRegion",y));let E;p&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(A["Content-Type"]="application/octet-stream",E=p):typeof p=="string"?(A["Content-Type"]="text/plain",E=p):typeof FormData<"u"&&p instanceof FormData?E=p:(A["Content-Type"]="application/json",E=JSON.stringify(p)):p&&typeof p!="string"&&!(typeof Blob<"u"&&p instanceof Blob)&&!(p instanceof ArrayBuffer)&&!(typeof FormData<"u"&&p instanceof FormData)?E=JSON.stringify(p):E=p;let j=v;x&&(f=new AbortController,o=setTimeout(()=>f.abort(),x),v?(j=f.signal,v.addEventListener("abort",()=>f.abort())):j=f.signal);const O=yield this.fetch(L.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},A),this.headers),c),body:E,signal:j}).catch(se=>{throw new zw(se)}),M=O.headers.get("x-relay-error");if(M&&M==="true")throw new kg(O);if(!O.ok)throw new Ng(O);let F=((l=O.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),G;return F==="application/json"?G=yield O.json():F==="application/octet-stream"||F==="application/pdf"?G=yield O.blob():F==="text/event-stream"?G=O:F==="multipart/form-data"?G=yield O.formData():G=yield O.text(),{data:G,error:null,response:O}}catch(c){return{data:null,error:c,response:c instanceof Ng||c instanceof kg?c.context:void 0}}finally{o&&clearTimeout(o)}})}}var Mw=class extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}},Pw=class{constructor(r){var e,n;this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=new Headers(r.headers),this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=(e=r.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=r.signal,this.isMaybeSingle=(n=r.isMaybeSingle)!==null&&n!==void 0?n:!1,r.fetch?this.fetch=r.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,e){return this.headers=new Headers(this.headers),this.headers.set(r,e),this}then(r,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let f=null,c=null,h=null,p=o.status,v=o.statusText;if(o.ok){var x,A;if(n.method!=="HEAD"){var y;const O=await o.text();O===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((y=n.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?c=O:c=JSON.parse(O))}const E=(x=n.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),j=(A=o.headers.get("content-range"))===null||A===void 0?void 0:A.split("/");E&&j&&j.length>1&&(h=parseInt(j[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(c)&&(c.length>1?(f={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,h=null,p=406,v="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{var L;const E=await o.text();try{f=JSON.parse(E),Array.isArray(f)&&o.status===404&&(c=[],f=null,p=200,v="OK")}catch{o.status===404&&E===""?(p=204,v="No Content"):f={message:E}}if(f&&n.isMaybeSingle&&(!(f==null||(L=f.details)===null||L===void 0)&&L.includes("0 rows"))&&(f=null,p=200,v="OK"),f&&n.shouldThrowOnError)throw new Mw(f)}return{error:f,data:c,count:h,status:p,statusText:v}});return this.shouldThrowOnError||(l=l.catch(o=>{var f;let c="";const h=o?.cause;if(h){var p,v,x,A;const L=(p=h?.message)!==null&&p!==void 0?p:"",E=(v=h?.code)!==null&&v!==void 0?v:"";c=`${(x=o?.name)!==null&&x!==void 0?x:"FetchError"}: ${o?.message}`,c+=`

Caused by: ${(A=h?.name)!==null&&A!==void 0?A:"Error"}: ${L}`,E&&(c+=` (${E})`),h?.stack&&(c+=`
${h.stack}`)}else{var y;c=(y=o?.stack)!==null&&y!==void 0?y:""}return{error:{message:`${(f=o?.name)!==null&&f!==void 0?f:"FetchError"}: ${o?.message}`,details:c,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),l.then(r,e)}returns(){return this}overrideTypes(){return this}},Iw=class extends Pw{select(r){let e=!1;const n=(r??"*").split("").map(a=>/\s/.test(a)&&!e?"":(a==='"'&&(e=!e),a)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:e=!0,nullsFirst:n,foreignTable:a,referencedTable:l=a}={}){const o=l?`${l}.order`:"order",f=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${f?`${f},`:""}${r}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:e,referencedTable:n=e}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${r}`),this}range(r,e,{foreignTable:n,referencedTable:a=n}={}){const l=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${r}`),this.url.searchParams.set(o,`${e-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:e=!1,settings:n=!1,buffers:a=!1,wal:l=!1,format:o="text"}={}){var f;const c=[r?"analyze":null,e?"verbose":null,n?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${h}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}};const Lg=new RegExp("[,()]");var oc=class extends Iw{eq(r,e){return this.url.searchParams.append(r,`eq.${e}`),this}neq(r,e){return this.url.searchParams.append(r,`neq.${e}`),this}gt(r,e){return this.url.searchParams.append(r,`gt.${e}`),this}gte(r,e){return this.url.searchParams.append(r,`gte.${e}`),this}lt(r,e){return this.url.searchParams.append(r,`lt.${e}`),this}lte(r,e){return this.url.searchParams.append(r,`lte.${e}`),this}like(r,e){return this.url.searchParams.append(r,`like.${e}`),this}likeAllOf(r,e){return this.url.searchParams.append(r,`like(all).{${e.join(",")}}`),this}likeAnyOf(r,e){return this.url.searchParams.append(r,`like(any).{${e.join(",")}}`),this}ilike(r,e){return this.url.searchParams.append(r,`ilike.${e}`),this}ilikeAllOf(r,e){return this.url.searchParams.append(r,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(r,e){return this.url.searchParams.append(r,`ilike(any).{${e.join(",")}}`),this}regexMatch(r,e){return this.url.searchParams.append(r,`match.${e}`),this}regexIMatch(r,e){return this.url.searchParams.append(r,`imatch.${e}`),this}is(r,e){return this.url.searchParams.append(r,`is.${e}`),this}isDistinct(r,e){return this.url.searchParams.append(r,`isdistinct.${e}`),this}in(r,e){const n=Array.from(new Set(e)).map(a=>typeof a=="string"&&Lg.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(r,`in.(${n})`),this}notIn(r,e){const n=Array.from(new Set(e)).map(a=>typeof a=="string"&&Lg.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(r,`not.in.(${n})`),this}contains(r,e){return typeof e=="string"?this.url.searchParams.append(r,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(r,`cs.{${e.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(e)}`),this}containedBy(r,e){return typeof e=="string"?this.url.searchParams.append(r,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(r,`cd.{${e.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(e)}`),this}rangeGt(r,e){return this.url.searchParams.append(r,`sr.${e}`),this}rangeGte(r,e){return this.url.searchParams.append(r,`nxl.${e}`),this}rangeLt(r,e){return this.url.searchParams.append(r,`sl.${e}`),this}rangeLte(r,e){return this.url.searchParams.append(r,`nxr.${e}`),this}rangeAdjacent(r,e){return this.url.searchParams.append(r,`adj.${e}`),this}overlaps(r,e){return typeof e=="string"?this.url.searchParams.append(r,`ov.${e}`):this.url.searchParams.append(r,`ov.{${e.join(",")}}`),this}textSearch(r,e,{config:n,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(r,`${l}fts${o}.${e}`),this}match(r){return Object.entries(r).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(r,e,n){return this.url.searchParams.append(r,`not.${e}.${n}`),this}or(r,{foreignTable:e,referencedTable:n=e}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${r})`),this}filter(r,e,n){return this.url.searchParams.append(r,`${e}.${n}`),this}},qw=class{constructor(r,{headers:e={},schema:n,fetch:a}){this.url=r,this.headers=new Headers(e),this.schema=n,this.fetch=a}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(r,e){const{head:n=!1,count:a}=e??{},l=n?"HEAD":"GET";let o=!1;const f=(r??"*").split("").map(p=>/\s/.test(p)&&!o?"":(p==='"'&&(o=!o),p)).join(""),{url:c,headers:h}=this.cloneRequestState();return c.searchParams.set("select",f),a&&h.append("Prefer",`count=${a}`),new oc({method:l,url:c,headers:h,schema:this.schema,fetch:this.fetch})}insert(r,{count:e,defaultToNull:n=!0}={}){var a;const l="POST",{url:o,headers:f}=this.cloneRequestState();if(e&&f.append("Prefer",`count=${e}`),n||f.append("Prefer","missing=default"),Array.isArray(r)){const c=r.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(c.length>0){const h=[...new Set(c)].map(p=>`"${p}"`);o.searchParams.set("columns",h.join(","))}}return new oc({method:l,url:o,headers:f,schema:this.schema,body:r,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(r,{onConflict:e,ignoreDuplicates:n=!1,count:a,defaultToNull:l=!0}={}){var o;const f="POST",{url:c,headers:h}=this.cloneRequestState();if(h.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&c.searchParams.set("on_conflict",e),a&&h.append("Prefer",`count=${a}`),l||h.append("Prefer","missing=default"),Array.isArray(r)){const p=r.reduce((v,x)=>v.concat(Object.keys(x)),[]);if(p.length>0){const v=[...new Set(p)].map(x=>`"${x}"`);c.searchParams.set("columns",v.join(","))}}return new oc({method:f,url:c,headers:h,schema:this.schema,body:r,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(r,{count:e}={}){var n;const a="PATCH",{url:l,headers:o}=this.cloneRequestState();return e&&o.append("Prefer",`count=${e}`),new oc({method:a,url:l,headers:o,schema:this.schema,body:r,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:r}={}){var e;const n="DELETE",{url:a,headers:l}=this.cloneRequestState();return r&&l.append("Prefer",`count=${r}`),new oc({method:n,url:a,headers:l,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},Fw=class k5{constructor(e,{headers:n={},schema:a,fetch:l}={}){this.url=e,this.headers=new Headers(n),this.schemaName=a,this.fetch=l}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new qw(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new k5(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:a=!1,get:l=!1,count:o}={}){var f;let c;const h=new URL(`${this.url}/rpc/${e}`);let p;const v=y=>y!==null&&typeof y=="object"&&(!Array.isArray(y)||y.some(v)),x=a&&Object.values(n).some(v);x?(c="POST",p=n):a||l?(c=a?"HEAD":"GET",Object.entries(n).filter(([y,L])=>L!==void 0).map(([y,L])=>[y,Array.isArray(L)?`{${L.join(",")}}`:`${L}`]).forEach(([y,L])=>{h.searchParams.append(y,L)})):(c="POST",p=n);const A=new Headers(this.headers);return x?A.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&A.set("Prefer",`count=${o}`),new oc({method:c,url:h,headers:A,schema:this.schemaName,body:p,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}};class Hw{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const a=n.versions;if(a&&a.node){const l=a.node,o=parseInt(l.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const a=this.getWebSocketConstructor();return new a(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const $w="2.91.0",Gw=`realtime-js/${$w}`,Ww="1.0.0",N5="2.0.0",jg=N5,op=1e4,Vw=1e3,Yw=100;var fl;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(fl||(fl={}));var Ir;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(Ir||(Ir={}));var ps;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(ps||(ps={}));var lp;(function(r){r.websocket="websocket"})(lp||(lp={}));var Xl;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(Xl||(Xl={}));class Kw{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let a=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(a))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,a;const l=(a=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&a!==void 0?a:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,l)}_encodeJsonUserBroadcastPush(e){var n,a;const l=(a=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&a!==void 0?a:{},f=new TextEncoder().encode(JSON.stringify(l)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(e,n,a){var l,o;const f=e.topic,c=(l=e.ref)!==null&&l!==void 0?l:"",h=(o=e.join_ref)!==null&&o!==void 0?o:"",p=e.payload.event,v=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},x=Object.keys(v).length===0?"":JSON.stringify(v);if(h.length>255)throw new Error(`joinRef length ${h.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`ref length ${c.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(x.length>255)throw new Error(`metadata length ${x.length} exceeds maximum of 255`);const A=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+c.length+f.length+p.length+x.length,y=new ArrayBuffer(this.HEADER_LENGTH+A);let L=new DataView(y),E=0;L.setUint8(E++,this.KINDS.userBroadcastPush),L.setUint8(E++,h.length),L.setUint8(E++,c.length),L.setUint8(E++,f.length),L.setUint8(E++,p.length),L.setUint8(E++,x.length),L.setUint8(E++,n),Array.from(h,O=>L.setUint8(E++,O.charCodeAt(0))),Array.from(c,O=>L.setUint8(E++,O.charCodeAt(0))),Array.from(f,O=>L.setUint8(E++,O.charCodeAt(0))),Array.from(p,O=>L.setUint8(E++,O.charCodeAt(0))),Array.from(x,O=>L.setUint8(E++,O.charCodeAt(0)));var j=new Uint8Array(y.byteLength+a.byteLength);return j.set(new Uint8Array(y),0),j.set(new Uint8Array(a),y.byteLength),j.buffer}decode(e,n){if(this._isArrayBuffer(e)){let a=this._binaryDecode(e);return n(a)}if(typeof e=="string"){const a=JSON.parse(e),[l,o,f,c,h]=a;return n({join_ref:l,ref:o,topic:f,event:c,payload:h})}return n({})}_binaryDecode(e){const n=new DataView(e),a=n.getUint8(0),l=new TextDecoder;if(a===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,n,l)}_decodeUserBroadcast(e,n,a){const l=n.getUint8(1),o=n.getUint8(2),f=n.getUint8(3),c=n.getUint8(4);let h=this.HEADER_LENGTH+4;const p=a.decode(e.slice(h,h+l));h=h+l;const v=a.decode(e.slice(h,h+o));h=h+o;const x=a.decode(e.slice(h,h+f));h=h+f;const A=e.slice(h,e.byteLength),y=c===this.JSON_ENCODING?JSON.parse(a.decode(A)):A,L={type:this.BROADCAST_EVENT,event:v,payload:y};return f>0&&(L.meta=JSON.parse(x)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:L}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([a])=>n.includes(a)))}}class L5{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Mn;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(Mn||(Mn={}));const Og=(r,e,n={})=>{var a;const l=(a=n.skipTypes)!==null&&a!==void 0?a:[];return e?Object.keys(e).reduce((o,f)=>(o[f]=Jw(f,r,e,l),o),{}):{}},Jw=(r,e,n,a)=>{const l=e.find(c=>c.name===r),o=l?.type,f=n[r];return o&&!a.includes(o)?j5(o,f):up(f)},j5=(r,e)=>{if(r.charAt(0)==="_"){const n=r.slice(1,r.length);return e3(e,n)}switch(r){case Mn.bool:return Xw(e);case Mn.float4:case Mn.float8:case Mn.int2:case Mn.int4:case Mn.int8:case Mn.numeric:case Mn.oid:return Zw(e);case Mn.json:case Mn.jsonb:return Qw(e);case Mn.timestamp:return t3(e);case Mn.abstime:case Mn.date:case Mn.daterange:case Mn.int4range:case Mn.int8range:case Mn.money:case Mn.reltime:case Mn.text:case Mn.time:case Mn.timestamptz:case Mn.timetz:case Mn.tsrange:case Mn.tstzrange:return up(e);default:return up(e)}},up=r=>r,Xw=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},Zw=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},Qw=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch{return r}return r},e3=(r,e)=>{if(typeof r!="string")return r;const n=r.length-1,a=r[n];if(r[0]==="{"&&a==="}"){let o;const f=r.slice(1,n);try{o=JSON.parse("["+f+"]")}catch{o=f?f.split(","):[]}return o.map(c=>j5(e,c))}return r},t3=r=>typeof r=="string"?r.replace(" ","T"):r,O5=r=>{const e=new URL(r);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class k0{constructor(e,n,a={},l=op){this.channel=e,this.event=n,this.payload=a,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var a;return this._hasReceived(e)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(a=>a.status===e).forEach(a=>a.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Cg;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(Cg||(Cg={}));class hf{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},l=>{const{onJoin:o,onLeave:f,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=hf.syncState(this.state,l,o,f),this.pendingDiffs.forEach(h=>{this.state=hf.syncDiff(this.state,h,o,f)}),this.pendingDiffs=[],c()}),this.channel._on(a.diff,{},l=>{const{onJoin:o,onLeave:f,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=hf.syncDiff(this.state,l,o,f),c())}),this.onJoin((l,o,f)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:o,newPresences:f})}),this.onLeave((l,o,f)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:o,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,a,l){const o=this.cloneDeep(e),f=this.transformState(n),c={},h={};return this.map(o,(p,v)=>{f[p]||(h[p]=v)}),this.map(f,(p,v)=>{const x=o[p];if(x){const A=v.map(j=>j.presence_ref),y=x.map(j=>j.presence_ref),L=v.filter(j=>y.indexOf(j.presence_ref)<0),E=x.filter(j=>A.indexOf(j.presence_ref)<0);L.length>0&&(c[p]=L),E.length>0&&(h[p]=E)}else c[p]=v}),this.syncDiff(o,{joins:c,leaves:h},a,l)}static syncDiff(e,n,a,l){const{joins:o,leaves:f}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),l||(l=()=>{}),this.map(o,(c,h)=>{var p;const v=(p=e[c])!==null&&p!==void 0?p:[];if(e[c]=this.cloneDeep(h),v.length>0){const x=e[c].map(y=>y.presence_ref),A=v.filter(y=>x.indexOf(y.presence_ref)<0);e[c].unshift(...A)}a(c,v,h)}),this.map(f,(c,h)=>{let p=e[c];if(!p)return;const v=h.map(x=>x.presence_ref);p=p.filter(x=>v.indexOf(x.presence_ref)<0),e[c]=p,l(c,p,h),p.length===0&&delete e[c]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(a=>n(a,e[a]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,a)=>{const l=e[a];return"metas"in l?n[a]=l.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[a]=l,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Rg;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(Rg||(Rg={}));var df;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(df||(df={}));var _o;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(_o||(_o={}));class hc{constructor(e,n={config:{}},a){var l,o;if(this.topic=e,this.params=n,this.socket=a,this.bindings={},this.state=Ir.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new k0(this,ps.join,this.params,this.timeout),this.rejoinTimer=new L5(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ir.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ir.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=Ir.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ir.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=Ir.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ps.reply,{},(f,c)=>{this._trigger(this._replyEventName(c),f)}),this.presence=new hf(this),this.broadcastEndpointURL=O5(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(l=this.params.config)===null||l===void 0?void 0:l.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var a,l,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Ir.closed){const{config:{broadcast:f,presence:c,private:h}}=this.params,p=(l=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(y=>y.filter))!==null&&l!==void 0?l:[],v=!!this.bindings[df.PRESENCE]&&this.bindings[df.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,x={},A={broadcast:f,presence:Object.assign(Object.assign({},c),{enabled:v}),postgres_changes:p,private:h};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(y=>e?.(_o.CHANNEL_ERROR,y)),this._onClose(()=>e?.(_o.CLOSED)),this.updateJoinPayload(Object.assign({config:A},x)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:y})=>{var L;if(this.socket._isManualToken()||this.socket.setAuth(),y===void 0){e?.(_o.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,j=(L=E?.length)!==null&&L!==void 0?L:0,O=[];for(let M=0;M<j;M++){const F=E[M],{filter:{event:G,schema:se,table:me,filter:Q}}=F,ee=y&&y[M];if(ee&&ee.event===G&&hc.isFilterValueEqual(ee.schema,se)&&hc.isFilterValueEqual(ee.table,me)&&hc.isFilterValueEqual(ee.filter,Q))O.push(Object.assign(Object.assign({},F),{id:ee.id}));else{this.unsubscribe(),this.state=Ir.errored,e?.(_o.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=O,e&&e(_o.SUBSCRIBED);return}}).receive("error",y=>{this.state=Ir.errored,e?.(_o.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{e?.(_o.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,a){return this.state===Ir.joined&&e===df.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,a)}async httpSend(e,n,a={}){var l;if(n==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(l=a.timeout)!==null&&l!==void 0?l:this.timeout);if(c.status===202)return{success:!0};let h=c.statusText;try{const p=await c.json();h=p.error||p.message||h}catch{}return Promise.reject(new Error(h))}async send(e,n={}){var a,l;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:f}=e,c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:f,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((l=p.body)===null||l===void 0?void 0:l.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var f,c,h;const p=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(c=(f=this.params)===null||f===void 0?void 0:f.config)===null||c===void 0?void 0:c.broadcast)===null||h===void 0)&&h.ack)&&o("ok"),p.receive("ok",()=>o("ok")),p.receive("error",()=>o("error")),p.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ir.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ps.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(l=>{a=new k0(this,ps.leave,{},e),a.receive("ok",()=>{n(),l("ok")}).receive("timeout",()=>{n(),l("timed out")}).receive("error",()=>{l("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ir.closed,this.bindings={}}async _fetchWithTimeout(e,n,a){const l=new AbortController,o=setTimeout(()=>l.abort(),a),f=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:l.signal}));return clearTimeout(o),f}_push(e,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new k0(this,e,n,a);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Yw){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,a){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,a){var l,o;const f=e.toLocaleLowerCase(),{close:c,error:h,leave:p,join:v}=ps;if(a&&[c,h,p,v].indexOf(f)>=0&&a!==this._joinRef())return;let A=this._onMessage(f,n,a);if(n&&!A)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(y=>{var L,E,j;return((L=y.filter)===null||L===void 0?void 0:L.event)==="*"||((j=(E=y.filter)===null||E===void 0?void 0:E.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===f}).map(y=>y.callback(A,a)):(o=this.bindings[f])===null||o===void 0||o.filter(y=>{var L,E,j,O,M,F,G,se;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in y){const me=y.id,Q=(L=y.filter)===null||L===void 0?void 0:L.event;return me&&((E=n.ids)===null||E===void 0?void 0:E.includes(me))&&(Q==="*"||Q?.toLocaleLowerCase()===((j=n.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))&&(!(!((O=y.filter)===null||O===void 0)&&O.table)||y.filter.table===((M=n.data)===null||M===void 0?void 0:M.table))}else{const me=(G=(F=y?.filter)===null||F===void 0?void 0:F.event)===null||G===void 0?void 0:G.toLocaleLowerCase();return me==="*"||me===((se=n?.event)===null||se===void 0?void 0:se.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===f}).map(y=>{if(typeof A=="object"&&"ids"in A){const L=A.data,{schema:E,table:j,commit_timestamp:O,type:M,errors:F}=L;A=Object.assign(Object.assign({},{schema:E,table:j,commit_timestamp:O,eventType:M,new:{},old:{},errors:F}),this._getPayloadRecords(L))}y.callback(A,a)})}_isClosed(){return this.state===Ir.closed}_isJoined(){return this.state===Ir.joined}_isJoining(){return this.state===Ir.joining}_isLeaving(){return this.state===Ir.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,a){const l=e.toLocaleLowerCase(),o={type:l,filter:n,callback:a};return this.bindings[l]?this.bindings[l].push(o):this.bindings[l]=[o],this}_off(e,n){const a=e.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(l=>{var o;return!(((o=l.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===a&&hc.isEqual(l.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const a in e)if(e[a]!==n[a])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ps.close,{},e)}_onError(e){this._on(ps.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ir.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Og(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Og(e.columns,e.old_record)),n}}const N0=()=>{},_h={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},n3=[1e3,2e3,5e3,1e4],r3=1e4,i3=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class a3{constructor(e,n){var a;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=op,this.transport=null,this.heartbeatIntervalMs=_h.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=N0,this.ref=0,this.reconnectTimer=null,this.vsn=jg,this.logger=N0,this.conn=null,this.sendBuffer=[],this.serializer=new Kw,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=l=>l?(...o)=>l(...o):(...o)=>fetch(...o),!(!((a=n?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${lp.websocket}`,this.httpEndpoint=O5(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Hw.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,a){this.logger(e,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case fl.connecting:return Xl.Connecting;case fl.open:return Xl.Open;case fl.closing:return Xl.Closing;default:return Xl.Closed}}isConnected(){return this.connectionState()===Xl.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const a=`realtime:${e}`,l=this.getChannels().find(o=>o.topic===a);if(l)return l;{const o=new hc(`realtime:${e}`,n,this);return this.channels.push(o),o}}push(e){const{topic:n,event:a,payload:l,ref:o}=e,f=()=>{this.encode(e,c=>{var h;(h=this.conn)===null||h===void 0||h.send(c)})};this.log("push",`${n} ${a} (${o})`,l),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Vw,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},_h.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(a=>a.topic===e&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const p=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",p)}catch(v){this.log("error","error in heartbeat callback",v)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:a,event:l,payload:o,ref:f}=n,c=f?`(${f})`:"",h=o.status||"";this.log("receive",`${h} ${a} ${l} ${c}`.trim(),o),this.channels.filter(p=>p._isMember(a)).forEach(p=>p._trigger(l,o,f)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===fl.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===fl.open||this.conn.readyState===fl.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ps.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const a=e.match(/\?/)?"&":"?",l=new URLSearchParams(n);return`${e}${a}${l}`}_workerObjectUrl(e){let n;if(e)n=e;else{const a=new Blob([i3],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,a=!1;if(e)n=e,a=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(l){this.log("error","Error fetching access token from callback",l),n=this.accessTokenValue}else n=this.accessTokenValue;a?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(l=>{const o={access_token:n,version:Gw};n&&l.updateJoinPayload(o),l.joinedOnce&&l._isJoined()&&l._push(ps.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(a=>{try{a(n)}catch(l){this.log("error",`error in ${e} callback`,l)}})}catch(a){this.log("error",`error triggering ${e} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new L5(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},_h.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,a,l,o,f,c,h,p,v,x,A,y;switch(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(a=e?.timeout)!==null&&a!==void 0?a:op,this.heartbeatIntervalMs=(l=e?.heartbeatIntervalMs)!==null&&l!==void 0?l:_h.HEARTBEAT_INTERVAL,this.worker=(o=e?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(f=e?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(c=e?.heartbeatCallback)!==null&&c!==void 0?c:N0,this.vsn=(h=e?.vsn)!==null&&h!==void 0?h:jg,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=e?.reconnectAfterMs)!==null&&p!==void 0?p:(L=>n3[L-1]||r3),this.vsn){case Ww:this.encode=(v=e?.encode)!==null&&v!==void 0?v:((L,E)=>E(JSON.stringify(L))),this.decode=(x=e?.decode)!==null&&x!==void 0?x:((L,E)=>E(JSON.parse(L)));break;case N5:this.encode=(A=e?.encode)!==null&&A!==void 0?A:this.serializer.encode.bind(this.serializer),this.decode=(y=e?.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var yf=class extends Error{constructor(r,e){super(r),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function s3(r,e,n){const a=new URL(e,r);if(n)for(const[l,o]of Object.entries(n))o!==void 0&&a.searchParams.set(l,o);return a.toString()}async function o3(r){return!r||r.type==="none"?{}:r.type==="bearer"?{Authorization:`Bearer ${r.token}`}:r.type==="header"?{[r.name]:r.value}:r.type==="custom"?await r.getHeaders():{}}function l3(r){const e=r.fetchImpl??globalThis.fetch;return{async request({method:n,path:a,query:l,body:o,headers:f}){const c=s3(r.baseUrl,a,l),h=await o3(r.auth),p=await e(c,{method:n,headers:{...o?{"Content-Type":"application/json"}:{},...h,...f},body:o?JSON.stringify(o):void 0}),v=await p.text(),x=(p.headers.get("content-type")||"").includes("application/json"),A=x&&v?JSON.parse(v):v;if(!p.ok){const y=x?A:void 0,L=y?.error;throw new yf(L?.message??`Request failed with status ${p.status}`,{status:p.status,icebergType:L?.type,icebergCode:L?.code,details:y})}return{status:p.status,headers:p.headers,data:A}}}}function Sh(r){return r.join("")}var u3=class{constructor(r,e=""){this.client=r,this.prefix=e}async listNamespaces(r){const e=r?{parent:Sh(r.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(a=>({namespace:a}))}async createNamespace(r,e){const n={namespace:r.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Sh(r.namespace)}`})}async loadNamespaceMetadata(r){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Sh(r.namespace)}`})).data.properties}}async namespaceExists(r){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Sh(r.namespace)}`}),!0}catch(e){if(e instanceof yf&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(r,e){try{return await this.createNamespace(r,e)}catch(n){if(n instanceof yf&&n.status===409)return;throw n}}};function Xu(r){return r.join("")}var c3=class{constructor(r,e="",n){this.client=r,this.prefix=e,this.accessDelegation=n}async listTables(r){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Xu(r.namespace)}/tables`})).data.identifiers}async createTable(r,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Xu(r.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(r,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Xu(r.namespace)}/tables/${r.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(r,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Xu(r.namespace)}/tables/${r.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(r){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Xu(r.namespace)}/tables/${r.name}`,headers:e})).data.metadata}async tableExists(r){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Xu(r.namespace)}/tables/${r.name}`,headers:e}),!0}catch(n){if(n instanceof yf&&n.status===404)return!1;throw n}}async createTableIfNotExists(r,e){try{return await this.createTable(r,e)}catch(n){if(n instanceof yf&&n.status===409)return await this.loadTable({namespace:r.namespace,name:e.name});throw n}}},f3=class{constructor(r){let e="v1";r.catalogName&&(e+=`/${r.catalogName}`);const n=r.baseUrl.endsWith("/")?r.baseUrl:`${r.baseUrl}/`;this.client=l3({baseUrl:n,auth:r.auth,fetchImpl:r.fetch}),this.accessDelegation=r.accessDelegation?.join(","),this.namespaceOps=new u3(this.client,e),this.tableOps=new c3(this.client,e,this.accessDelegation)}async listNamespaces(r){return this.namespaceOps.listNamespaces(r)}async createNamespace(r,e){return this.namespaceOps.createNamespace(r,e)}async dropNamespace(r){await this.namespaceOps.dropNamespace(r)}async loadNamespaceMetadata(r){return this.namespaceOps.loadNamespaceMetadata(r)}async listTables(r){return this.tableOps.listTables(r)}async createTable(r,e){return this.tableOps.createTable(r,e)}async updateTable(r,e){return this.tableOps.updateTable(r,e)}async dropTable(r,e){await this.tableOps.dropTable(r,e)}async loadTable(r){return this.tableOps.loadTable(r)}async namespaceExists(r){return this.namespaceOps.namespaceExists(r)}async tableExists(r){return this.tableOps.tableExists(r)}async createNamespaceIfNotExists(r,e){return this.namespaceOps.createNamespaceIfNotExists(r,e)}async createTableIfNotExists(r,e){return this.tableOps.createTableIfNotExists(r,e)}},rd=class extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}};function ir(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}var h3=class extends rd{constructor(r,e,n){super(r),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},cp=class extends rd{constructor(r,e){super(r),this.name="StorageUnknownError",this.originalError=e}};const Mp=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),d3=()=>Response,fp=r=>{if(Array.isArray(r))return r.map(n=>fp(n));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([n,a])=>{const l=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[l]=fp(a)}),e},p3=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},m3=r=>!r||typeof r!="string"||r.length===0||r.length>100||r.trim()!==r||r.includes("/")||r.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(r);function vf(r){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vf(r)}function g3(r,e){if(vf(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(vf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function y3(r){var e=g3(r,"string");return vf(e)=="symbol"?e:e+""}function v3(r,e,n){return(e=y3(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function Dg(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(r,l).enumerable})),n.push.apply(n,a)}return n}function Ut(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dg(Object(n),!0).forEach(function(a){v3(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):Dg(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}const L0=r=>{var e;return r.msg||r.message||r.error_description||(typeof r.error=="string"?r.error:(e=r.error)===null||e===void 0?void 0:e.message)||JSON.stringify(r)},b3=async(r,e,n)=>{r instanceof await d3()&&!n?.noResolveJson?r.json().then(a=>{const l=r.status||500,o=a?.statusCode||l+"";e(new h3(L0(a),l,o))}).catch(a=>{e(new cp(L0(a),a))}):e(new cp(L0(r),r))},w3=(r,e,n,a)=>{const l={method:r,headers:e?.headers||{}};return r==="GET"||!a?l:(p3(a)?(l.headers=Ut({"Content-Type":"application/json"},e?.headers),l.body=JSON.stringify(a)):l.body=a,e?.duplex&&(l.duplex=e.duplex),Ut(Ut({},l),n))};async function kf(r,e,n,a,l,o){return new Promise((f,c)=>{r(n,w3(e,a,l,o)).then(h=>{if(!h.ok)throw h;return a?.noResolveJson?h:h.json()}).then(h=>f(h)).catch(h=>b3(h,c,a))})}async function bf(r,e,n,a){return kf(r,"GET",e,n,a)}async function ds(r,e,n,a,l){return kf(r,"POST",e,a,l,n)}async function hp(r,e,n,a,l){return kf(r,"PUT",e,a,l,n)}async function x3(r,e,n,a){return kf(r,"HEAD",e,Ut(Ut({},n),{},{noResolveJson:!0}),a)}async function Pp(r,e,n,a,l){return kf(r,"DELETE",e,a,l,n)}var _3=class{constructor(r,e){this.downloadFn=r,this.shouldThrowOnError=e}then(r,e){return this.execute().then(r,e)}async execute(){var r=this;try{return{data:(await r.downloadFn()).body,error:null}}catch(e){if(r.shouldThrowOnError)throw e;if(ir(e))return{data:null,error:e};throw e}}};let C5;C5=Symbol.toStringTag;var S3=class{constructor(r,e){this.downloadFn=r,this.shouldThrowOnError=e,this[C5]="BlobDownloadBuilder",this.promise=null}asStream(){return new _3(this.downloadFn,this.shouldThrowOnError)}then(r,e){return this.getPromise().then(r,e)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var r=this;try{return{data:await(await r.downloadFn()).blob(),error:null}}catch(e){if(r.shouldThrowOnError)throw e;if(ir(e))return{data:null,error:e};throw e}}};const A3={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Bg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var E3=class{constructor(r,e={},n,a){this.shouldThrowOnError=!1,this.url=r,this.headers=e,this.bucketId=n,this.fetch=Mp(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(r,e,n,a){var l=this;try{let o;const f=Ut(Ut({},Bg),a);let c=Ut(Ut({},l.headers),r==="POST"&&{"x-upsert":String(f.upsert)});const h=f.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",f.cacheControl),h&&o.append("metadata",l.encodeMetadata(h)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",f.cacheControl),h&&!o.has("metadata")&&o.append("metadata",l.encodeMetadata(h))):(o=n,c["cache-control"]=`max-age=${f.cacheControl}`,c["content-type"]=f.contentType,h&&(c["x-metadata"]=l.toBase64(l.encodeMetadata(h))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!f.duplex&&(f.duplex="half")),a?.headers&&(c=Ut(Ut({},c),a.headers));const p=l._removeEmptyFolders(e),v=l._getFinalPath(p),x=await(r=="PUT"?hp:ds)(l.fetch,`${l.url}/object/${v}`,o,Ut({headers:c},f?.duplex?{duplex:f.duplex}:{}));return{data:{path:p,id:x.Id,fullPath:x.Key},error:null}}catch(o){if(l.shouldThrowOnError)throw o;if(ir(o))return{data:null,error:o};throw o}}async upload(r,e,n){return this.uploadOrUpdate("POST",r,e,n)}async uploadToSignedUrl(r,e,n,a){var l=this;const o=l._removeEmptyFolders(r),f=l._getFinalPath(o),c=new URL(l.url+`/object/upload/sign/${f}`);c.searchParams.set("token",e);try{let h;const p=Ut({upsert:Bg.upsert},a),v=Ut(Ut({},l.headers),{"x-upsert":String(p.upsert)});return typeof Blob<"u"&&n instanceof Blob?(h=new FormData,h.append("cacheControl",p.cacheControl),h.append("",n)):typeof FormData<"u"&&n instanceof FormData?(h=n,h.append("cacheControl",p.cacheControl)):(h=n,v["cache-control"]=`max-age=${p.cacheControl}`,v["content-type"]=p.contentType),{data:{path:o,fullPath:(await hp(l.fetch,c.toString(),h,{headers:v})).Key},error:null}}catch(h){if(l.shouldThrowOnError)throw h;if(ir(h))return{data:null,error:h};throw h}}async createSignedUploadUrl(r,e){var n=this;try{let a=n._getFinalPath(r);const l=Ut({},n.headers);e?.upsert&&(l["x-upsert"]="true");const o=await ds(n.fetch,`${n.url}/object/upload/sign/${a}`,{},{headers:l}),f=new URL(n.url+o.url),c=f.searchParams.get("token");if(!c)throw new rd("No token returned by API");return{data:{signedUrl:f.toString(),path:r,token:c},error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(ir(a))return{data:null,error:a};throw a}}async update(r,e,n){return this.uploadOrUpdate("PUT",r,e,n)}async move(r,e,n){var a=this;try{return{data:await ds(a.fetch,`${a.url}/object/move`,{bucketId:a.bucketId,sourceKey:r,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:a.headers}),error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(ir(l))return{data:null,error:l};throw l}}async copy(r,e,n){var a=this;try{return{data:{path:(await ds(a.fetch,`${a.url}/object/copy`,{bucketId:a.bucketId,sourceKey:r,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:a.headers})).Key},error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(ir(l))return{data:null,error:l};throw l}}async createSignedUrl(r,e,n){var a=this;try{let l=a._getFinalPath(r),o=await ds(a.fetch,`${a.url}/object/sign/${l}`,Ut({expiresIn:e},n?.transform?{transform:n.transform}:{}),{headers:a.headers});const f=n?.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${a.url}${o.signedURL}${f}`)},{data:o,error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(ir(l))return{data:null,error:l};throw l}}async createSignedUrls(r,e,n){var a=this;try{const l=await ds(a.fetch,`${a.url}/object/sign/${a.bucketId}`,{expiresIn:e,paths:r},{headers:a.headers}),o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:l.map(f=>Ut(Ut({},f),{},{signedUrl:f.signedURL?encodeURI(`${a.url}${f.signedURL}${o}`):null})),error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(ir(l))return{data:null,error:l};throw l}}download(r,e){const n=typeof e?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(e?.transform||{}),l=a?`?${a}`:"",o=this._getFinalPath(r),f=()=>bf(this.fetch,`${this.url}/${n}/${o}${l}`,{headers:this.headers,noResolveJson:!0});return new S3(f,this.shouldThrowOnError)}async info(r){var e=this;const n=e._getFinalPath(r);try{return{data:fp(await bf(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(a){if(e.shouldThrowOnError)throw a;if(ir(a))return{data:null,error:a};throw a}}async exists(r){var e=this;const n=e._getFinalPath(r);try{return await x3(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(a){if(e.shouldThrowOnError)throw a;if(ir(a)&&a instanceof cp){const l=a.originalError;if([400,404].includes(l?.status))return{data:!1,error:a}}throw a}}getPublicUrl(r,e){const n=this._getFinalPath(r),a=[],l=e?.download?`download=${e.download===!0?"":e.download}`:"";l!==""&&a.push(l);const o=typeof e?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(e?.transform||{});f!==""&&a.push(f);let c=a.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}async remove(r){var e=this;try{return{data:await Pp(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:r},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ir(n))return{data:null,error:n};throw n}}async list(r,e,n){var a=this;try{const l=Ut(Ut(Ut({},A3),e),{},{prefix:r||""});return{data:await ds(a.fetch,`${a.url}/object/list/${a.bucketId}`,l,{headers:a.headers},n),error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(ir(l))return{data:null,error:l};throw l}}async listV2(r,e){var n=this;try{const a=Ut({},r);return{data:await ds(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,a,{headers:n.headers},e),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(ir(a))return{data:null,error:a};throw a}}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const e=[];return r.width&&e.push(`width=${r.width}`),r.height&&e.push(`height=${r.height}`),r.resize&&e.push(`resize=${r.resize}`),r.format&&e.push(`format=${r.format}`),r.quality&&e.push(`quality=${r.quality}`),e.join("&")}};const R5="2.91.0",D5={"X-Client-Info":`storage-js/${R5}`};var T3=class{constructor(r,e={},n,a){this.shouldThrowOnError=!1;const l=new URL(r);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Ut(Ut({},D5),e),this.fetch=Mp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(r){var e=this;try{const n=e.listBucketOptionsToQueryString(r);return{data:await bf(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ir(n))return{data:null,error:n};throw n}}async getBucket(r){var e=this;try{return{data:await bf(e.fetch,`${e.url}/bucket/${r}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ir(n))return{data:null,error:n};throw n}}async createBucket(r,e={public:!1}){var n=this;try{return{data:await ds(n.fetch,`${n.url}/bucket`,{id:r,name:r,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(ir(a))return{data:null,error:a};throw a}}async updateBucket(r,e){var n=this;try{return{data:await hp(n.fetch,`${n.url}/bucket/${r}`,{id:r,name:r,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(ir(a))return{data:null,error:a};throw a}}async emptyBucket(r){var e=this;try{return{data:await ds(e.fetch,`${e.url}/bucket/${r}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ir(n))return{data:null,error:n};throw n}}async deleteBucket(r){var e=this;try{return{data:await Pp(e.fetch,`${e.url}/bucket/${r}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ir(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(r){const e={};return r&&("limit"in r&&(e.limit=String(r.limit)),"offset"in r&&(e.offset=String(r.offset)),r.search&&(e.search=r.search),r.sortColumn&&(e.sortColumn=r.sortColumn),r.sortOrder&&(e.sortOrder=r.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},k3=class{constructor(r,e={},n){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Ut(Ut({},D5),e),this.fetch=Mp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(r){var e=this;try{return{data:await ds(e.fetch,`${e.url}/bucket`,{name:r},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ir(n))return{data:null,error:n};throw n}}async listBuckets(r){var e=this;try{const n=new URLSearchParams;r?.limit!==void 0&&n.set("limit",r.limit.toString()),r?.offset!==void 0&&n.set("offset",r.offset.toString()),r?.sortColumn&&n.set("sortColumn",r.sortColumn),r?.sortOrder&&n.set("sortOrder",r.sortOrder),r?.search&&n.set("search",r.search);const a=n.toString(),l=a?`${e.url}/bucket?${a}`:`${e.url}/bucket`;return{data:await bf(e.fetch,l,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ir(n))return{data:null,error:n};throw n}}async deleteBucket(r){var e=this;try{return{data:await Pp(e.fetch,`${e.url}/bucket/${r}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ir(n))return{data:null,error:n};throw n}}from(r){var e=this;if(!m3(r))throw new rd("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new f3({baseUrl:this.url,catalogName:r,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),a=this.shouldThrowOnError;return new Proxy(n,{get(l,o){const f=l[o];return typeof f!="function"?f:async(...c)=>{try{return{data:await f.apply(l,c),error:null}}catch(h){if(a)throw h;return{data:null,error:h}}}}})}};const Ip={"X-Client-Info":`storage-js/${R5}`,"Content-Type":"application/json"};var B5=class extends Error{constructor(r){super(r),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function fa(r){return typeof r=="object"&&r!==null&&"__isStorageVectorsError"in r}var j0=class extends B5{constructor(r,e,n){super(r),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},N3=class extends B5{constructor(r,e){super(r),this.name="StorageVectorsUnknownError",this.originalError=e}};const qp=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),L3=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},zg=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),j3=async(r,e,n)=>{if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!n?.noResolveJson){const a=r.status||500,l=r;if(typeof l.json=="function")l.json().then(o=>{const f=o?.statusCode||o?.code||a+"";e(new j0(zg(o),a,f))}).catch(()=>{const o=a+"";e(new j0(l.statusText||`HTTP ${a} error`,a,o))});else{const o=a+"";e(new j0(l.statusText||`HTTP ${a} error`,a,o))}}else e(new N3(zg(r),r))},O3=(r,e,n,a)=>{const l={method:r,headers:e?.headers||{}};return a?(L3(a)?(l.headers=Ut({"Content-Type":"application/json"},e?.headers),l.body=JSON.stringify(a)):l.body=a,Ut(Ut({},l),n)):l};async function C3(r,e,n,a,l,o){return new Promise((f,c)=>{r(n,O3(e,a,l,o)).then(h=>{if(!h.ok)throw h;if(a?.noResolveJson)return h;const p=h.headers.get("content-type");return!p||!p.includes("application/json")?{}:h.json()}).then(h=>f(h)).catch(h=>j3(h,c,a))})}async function ha(r,e,n,a,l){return C3(r,"POST",e,a,l,n)}var R3=class{constructor(r,e={},n){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Ut(Ut({},Ip),e),this.fetch=qp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(r){var e=this;try{return{data:await ha(e.fetch,`${e.url}/CreateIndex`,r,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(fa(n))return{data:null,error:n};throw n}}async getIndex(r,e){var n=this;try{return{data:await ha(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:r,indexName:e},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(fa(a))return{data:null,error:a};throw a}}async listIndexes(r){var e=this;try{return{data:await ha(e.fetch,`${e.url}/ListIndexes`,r,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(fa(n))return{data:null,error:n};throw n}}async deleteIndex(r,e){var n=this;try{return{data:await ha(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:r,indexName:e},{headers:n.headers})||{},error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(fa(a))return{data:null,error:a};throw a}}},D3=class{constructor(r,e={},n){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Ut(Ut({},Ip),e),this.fetch=qp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(r){var e=this;try{if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await ha(e.fetch,`${e.url}/PutVectors`,r,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(fa(n))return{data:null,error:n};throw n}}async getVectors(r){var e=this;try{return{data:await ha(e.fetch,`${e.url}/GetVectors`,r,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(fa(n))return{data:null,error:n};throw n}}async listVectors(r){var e=this;try{if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return{data:await ha(e.fetch,`${e.url}/ListVectors`,r,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(fa(n))return{data:null,error:n};throw n}}async queryVectors(r){var e=this;try{return{data:await ha(e.fetch,`${e.url}/QueryVectors`,r,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(fa(n))return{data:null,error:n};throw n}}async deleteVectors(r){var e=this;try{if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await ha(e.fetch,`${e.url}/DeleteVectors`,r,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(fa(n))return{data:null,error:n};throw n}}},B3=class{constructor(r,e={},n){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Ut(Ut({},Ip),e),this.fetch=qp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(r){var e=this;try{return{data:await ha(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(fa(n))return{data:null,error:n};throw n}}async getBucket(r){var e=this;try{return{data:await ha(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:r},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(fa(n))return{data:null,error:n};throw n}}async listBuckets(r={}){var e=this;try{return{data:await ha(e.fetch,`${e.url}/ListVectorBuckets`,r,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(fa(n))return{data:null,error:n};throw n}}async deleteBucket(r){var e=this;try{return{data:await ha(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(fa(n))return{data:null,error:n};throw n}}},z3=class extends B3{constructor(r,e={}){super(r,e.headers||{},e.fetch)}from(r){return new U3(this.url,this.headers,r,this.fetch)}async createBucket(r){var e=()=>super.createBucket,n=this;return e().call(n,r)}async getBucket(r){var e=()=>super.getBucket,n=this;return e().call(n,r)}async listBuckets(r={}){var e=()=>super.listBuckets,n=this;return e().call(n,r)}async deleteBucket(r){var e=()=>super.deleteBucket,n=this;return e().call(n,r)}},U3=class extends R3{constructor(r,e,n,a){super(r,e,a),this.vectorBucketName=n}async createIndex(r){var e=()=>super.createIndex,n=this;return e().call(n,Ut(Ut({},r),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(r={}){var e=()=>super.listIndexes,n=this;return e().call(n,Ut(Ut({},r),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(r){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,r)}async deleteIndex(r){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,r)}index(r){return new M3(this.url,this.headers,this.vectorBucketName,r,this.fetch)}},M3=class extends D3{constructor(r,e,n,a,l){super(r,e,l),this.vectorBucketName=n,this.indexName=a}async putVectors(r){var e=()=>super.putVectors,n=this;return e().call(n,Ut(Ut({},r),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(r){var e=()=>super.getVectors,n=this;return e().call(n,Ut(Ut({},r),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(r={}){var e=()=>super.listVectors,n=this;return e().call(n,Ut(Ut({},r),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(r){var e=()=>super.queryVectors,n=this;return e().call(n,Ut(Ut({},r),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(r){var e=()=>super.deleteVectors,n=this;return e().call(n,Ut(Ut({},r),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},P3=class extends T3{constructor(r,e={},n,a){super(r,e,n,a)}from(r){return new E3(this.url,this.headers,r,this.fetch)}get vectors(){return new z3(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new k3(this.url+"/iceberg",this.headers,this.fetch)}};const z5="2.91.0",lc=30*1e3,dp=3,O0=dp*lc,I3="http://localhost:9999",q3="supabase.auth.token",F3={"X-Client-Info":`gotrue-js/${z5}`},pp="X-Supabase-Api-Version",U5={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},H3=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,$3=600*1e3;class wf extends Error{constructor(e,n,a){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function bt(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class G3 extends wf{constructor(e,n,a){super(e,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function W3(r){return bt(r)&&r.name==="AuthApiError"}class Zl extends wf{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class ko extends wf{constructor(e,n,a,l){super(e,a,l),this.name=n,this.status=a}}class ca extends ko{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function V3(r){return bt(r)&&r.name==="AuthSessionMissingError"}class Zu extends ko{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ah extends ko{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Eh extends ko{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Y3(r){return bt(r)&&r.name==="AuthImplicitGrantRedirectError"}class Ug extends ko{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class K3 extends ko{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class mp extends ko{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function C0(r){return bt(r)&&r.name==="AuthRetryableFetchError"}class Mg extends ko{constructor(e,n,a){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class gp extends ko{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Gh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Pg=` 	
\r=`.split(""),J3=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<Pg.length;e+=1)r[Pg[e].charCodeAt(0)]=-2;for(let e=0;e<Gh.length;e+=1)r[Gh[e].charCodeAt(0)]=e;return r})();function Ig(r,e,n){if(r!==null)for(e.queue=e.queue<<8|r,e.queuedBits+=8;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;n(Gh[a]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;n(Gh[a]),e.queuedBits-=6}}function M5(r,e,n){const a=J3[r];if(a>-1)for(e.queue=e.queue<<6|a,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function qg(r){const e=[],n=f=>{e.push(String.fromCodePoint(f))},a={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},o=f=>{Q3(f,a,n)};for(let f=0;f<r.length;f+=1)M5(r.charCodeAt(f),l,o);return e.join("")}function X3(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function Z3(r,e){for(let n=0;n<r.length;n+=1){let a=r.charCodeAt(n);if(a>55295&&a<=56319){const l=(a-55296)*1024&65535;a=(r.charCodeAt(n+1)-56320&65535|l)+65536,n+=1}X3(a,e)}}function Q3(r,e,n){if(e.utf8seq===0){if(r<=127){n(r);return}for(let a=1;a<6;a+=1)if((r>>7-a&1)===0){e.utf8seq=a;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function pc(r){const e=[],n={queue:0,queuedBits:0},a=l=>{e.push(l)};for(let l=0;l<r.length;l+=1)M5(r.charCodeAt(l),n,a);return new Uint8Array(e)}function ex(r){const e=[];return Z3(r,n=>e.push(n)),new Uint8Array(e)}function eu(r){const e=[],n={queue:0,queuedBits:0},a=l=>{e.push(l)};return r.forEach(l=>Ig(l,n,a)),Ig(null,n,a),e.join("")}function tx(r){return Math.round(Date.now()/1e3)+r}function nx(){return Symbol("auth-callback")}const si=()=>typeof window<"u"&&typeof document<"u",Vl={tested:!1,writable:!1},P5=()=>{if(!si())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Vl.tested)return Vl.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),Vl.tested=!0,Vl.writable=!0}catch{Vl.tested=!0,Vl.writable=!1}return Vl.writable};function rx(r){const e={},n=new URL(r);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((l,o)=>{e[o]=l})}catch{}return n.searchParams.forEach((a,l)=>{e[l]=a}),e}const I5=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),ix=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",uc=async(r,e,n)=>{await r.setItem(e,JSON.stringify(n))},Yl=async(r,e)=>{const n=await r.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ai=async(r,e)=>{await r.removeItem(e)};class id{constructor(){this.promise=new id.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}id.promiseConstructor=Promise;function R0(r){const e=r.split(".");if(e.length!==3)throw new gp("Invalid JWT structure");for(let a=0;a<e.length;a++)if(!H3.test(e[a]))throw new gp("JWT not in base64url format");return{header:JSON.parse(qg(e[0])),payload:JSON.parse(qg(e[1])),signature:pc(e[2]),raw:{header:e[0],payload:e[1]}}}async function ax(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function sx(r,e){return new Promise((a,l)=>{(async()=>{for(let o=0;o<1/0;o++)try{const f=await r(o);if(!e(o,null,f)){a(f);return}}catch(f){if(!e(o,f)){l(f);return}}})()})}function ox(r){return("0"+r.toString(16)).substr(-2)}function lx(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let l="";for(let o=0;o<56;o++)l+=n.charAt(Math.floor(Math.random()*a));return l}return crypto.getRandomValues(e),Array.from(e,ox).join("")}async function ux(r){const n=new TextEncoder().encode(r),a=await crypto.subtle.digest("SHA-256",n),l=new Uint8Array(a);return Array.from(l).map(o=>String.fromCharCode(o)).join("")}async function cx(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const n=await ux(r);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Qu(r,e,n=!1){const a=lx();let l=a;n&&(l+="/PASSWORD_RECOVERY"),await uc(r,`${e}-code-verifier`,l);const o=await cx(a);return[o,a===o?"plain":"s256"]}const fx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function hx(r){const e=r.headers.get(pp);if(!e||!e.match(fx))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function dx(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function px(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const mx=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ec(r){if(!mx.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function D0(){const r={};return new Proxy(r,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function gx(r,e){return new Proxy(r,{get:(n,a,l)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const o=a.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,a,l)}return!e.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,a,l)}})}function Fg(r){return JSON.parse(JSON.stringify(r))}const Kl=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),yx=[502,503,504];async function Hg(r){var e;if(!ix(r))throw new mp(Kl(r),0);if(yx.includes(r.status))throw new mp(Kl(r),r.status);let n;try{n=await r.json()}catch(o){throw new Zl(Kl(o),o)}let a;const l=hx(r);if(l&&l.getTime()>=U5["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new Mg(Kl(n),r.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(a==="session_not_found")throw new ca}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,f)=>o&&typeof f=="string",!0))throw new Mg(Kl(n),r.status,n.weak_password.reasons);throw new G3(Kl(n),r.status||500,a)}const vx=(r,e,n,a)=>{const l={method:r,headers:e?.headers||{}};return r==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),l.body=JSON.stringify(a),Object.assign(Object.assign({},l),n))};async function zt(r,e,n,a){var l;const o=Object.assign({},a?.headers);o[pp]||(o[pp]=U5["2024-01-01"].name),a?.jwt&&(o.Authorization=`Bearer ${a.jwt}`);const f=(l=a?.query)!==null&&l!==void 0?l:{};a?.redirectTo&&(f.redirect_to=a.redirectTo);const c=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",h=await bx(r,e,n+c,{headers:o,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(h):{data:Object.assign({},h),error:null}}async function bx(r,e,n,a,l,o){const f=vx(e,a,l,o);let c;try{c=await r(n,Object.assign({},f))}catch(h){throw console.error(h),new mp(Kl(h),0)}if(c.ok||await Hg(c),a?.noResolveJson)return c;try{return await c.json()}catch(h){await Hg(h)}}function hs(r){var e;let n=null;_x(r)&&(n=Object.assign({},r),r.expires_at||(n.expires_at=tx(r.expires_in)));const a=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:n,user:a},error:null}}function $g(r){const e=hs(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(e.data.weak_password=r.weak_password),e}function hl(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function wx(r){return{data:r,error:null}}function xx(r){const{action_link:e,email_otp:n,hashed_token:a,redirect_to:l,verification_type:o}=r,f=nd(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:n,hashed_token:a,redirect_to:l,verification_type:o},h=Object.assign({},f);return{data:{properties:c,user:h},error:null}}function Gg(r){return r}function _x(r){return r.access_token&&r.refresh_token&&r.expires_in}const B0=["global","local","others"];class Sx{constructor({url:e="",headers:n={},fetch:a}){this.url=e,this.headers=n,this.fetch=I5(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=B0[0]){if(B0.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${B0.join(", ")}`);try{return await zt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(a){if(bt(a))return{data:null,error:a};throw a}}async inviteUserByEmail(e,n={}){try{return await zt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:hl})}catch(a){if(bt(a))return{data:{user:null},error:a};throw a}}async generateLink(e){try{const{options:n}=e,a=nd(e,["options"]),l=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(l.new_email=a?.newEmail,delete l.newEmail),await zt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:xx,redirectTo:n?.redirectTo})}catch(n){if(bt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await zt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:hl})}catch(n){if(bt(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,a,l,o,f,c,h;try{const p={nextPage:null,lastPage:0,total:0},v=await zt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(o=(l=e?.perPage)===null||l===void 0?void 0:l.toString())!==null&&o!==void 0?o:""},xform:Gg});if(v.error)throw v.error;const x=await v.json(),A=(f=v.headers.get("x-total-count"))!==null&&f!==void 0?f:0,y=(h=(c=v.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&h!==void 0?h:[];return y.length>0&&(y.forEach(L=>{const E=parseInt(L.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(L.split(";")[1].split("=")[1]);p[`${j}Page`]=E}),p.total=parseInt(A)),{data:Object.assign(Object.assign({},x),p),error:null}}catch(p){if(bt(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){ec(e);try{return await zt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:hl})}catch(n){if(bt(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){ec(e);try{return await zt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:hl})}catch(a){if(bt(a))return{data:{user:null},error:a};throw a}}async deleteUser(e,n=!1){ec(e);try{return await zt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:hl})}catch(a){if(bt(a))return{data:{user:null},error:a};throw a}}async _listFactors(e){ec(e.userId);try{const{data:n,error:a}=await zt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:n,error:a}}catch(n){if(bt(n))return{data:null,error:n};throw n}}async _deleteFactor(e){ec(e.userId),ec(e.id);try{return{data:await zt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(bt(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,a,l,o,f,c,h;try{const p={nextPage:null,lastPage:0,total:0},v=await zt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(o=(l=e?.perPage)===null||l===void 0?void 0:l.toString())!==null&&o!==void 0?o:""},xform:Gg});if(v.error)throw v.error;const x=await v.json(),A=(f=v.headers.get("x-total-count"))!==null&&f!==void 0?f:0,y=(h=(c=v.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&h!==void 0?h:[];return y.length>0&&(y.forEach(L=>{const E=parseInt(L.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(L.split(";")[1].split("=")[1]);p[`${j}Page`]=E}),p.total=parseInt(A)),{data:Object.assign(Object.assign({},x),p),error:null}}catch(p){if(bt(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(e){try{return await zt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(bt(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await zt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(bt(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await zt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(bt(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(e){try{return await zt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(bt(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await zt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(bt(n))return{data:null,error:n};throw n}}}function Wg(r={}){return{getItem:e=>r[e]||null,setItem:(e,n)=>{r[e]=n},removeItem:e=>{delete r[e]}}}const tc={debug:!!(globalThis&&P5()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class q5 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Ax extends q5{}async function Ex(r,e,n){tc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const a=new globalThis.AbortController;return e>0&&setTimeout(()=>{a.abort(),tc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async l=>{if(l){tc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,l.name);try{return await n()}finally{tc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,l.name)}}else{if(e===0)throw tc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new Ax(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(tc.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Tx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function F5(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function kx(r){return parseInt(r,16)}function Nx(r){const e=new TextEncoder().encode(r);return"0x"+Array.from(e,a=>a.toString(16).padStart(2,"0")).join("")}function Lx(r){var e;const{chainId:n,domain:a,expirationTime:l,issuedAt:o=new Date,nonce:f,notBefore:c,requestId:h,resources:p,scheme:v,uri:x,version:A}=r;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!x)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(A!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${A}`);if(!((e=r.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const y=F5(r.address),L=v?`${v}://${a}`:a,E=r.statement?`${r.statement}
`:"",j=`${L} wants you to sign in with your Ethereum account:
${y}

${E}`;let O=`URI: ${x}
Version: ${A}
Chain ID: ${n}${f?`
Nonce: ${f}`:""}
Issued At: ${o.toISOString()}`;if(l&&(O+=`
Expiration Time: ${l.toISOString()}`),c&&(O+=`
Not Before: ${c.toISOString()}`),h&&(O+=`
Request ID: ${h}`),p){let M=`
Resources:`;for(const F of p){if(!F||typeof F!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${F}`);M+=`
- ${F}`}O+=M}return`${j}
${O}`}class Lr extends Error{constructor({message:e,code:n,cause:a,name:l}){var o;super(e,{cause:a}),this.__isWebAuthnError=!0,this.name=(o=l??(a instanceof Error?a.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class Wh extends Lr{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function jx({error:r,options:e}){var n,a,l;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Lr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Lr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(e.mediation==="conditional"&&((a=o.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Lr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((l=o.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new Lr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new Lr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new Lr({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return o.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new Lr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new Lr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const f=window.location.hostname;if(H5(f)){if(o.rp.id!==f)return new Lr({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new Lr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Lr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new Lr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new Lr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function Ox({error:r,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Lr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new Lr({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const a=window.location.hostname;if(H5(a)){if(n.rpId!==a)return new Lr({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new Lr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new Lr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new Lr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class Cx{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Rx=new Cx;function Dx(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:e,user:n,excludeCredentials:a}=r,l=nd(r,["challenge","user","excludeCredentials"]),o=pc(e).buffer,f=Object.assign(Object.assign({},n),{id:pc(n.id).buffer}),c=Object.assign(Object.assign({},l),{challenge:o,user:f});if(a&&a.length>0){c.excludeCredentials=new Array(a.length);for(let h=0;h<a.length;h++){const p=a[h];c.excludeCredentials[h]=Object.assign(Object.assign({},p),{id:pc(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return c}function Bx(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:e,allowCredentials:n}=r,a=nd(r,["challenge","allowCredentials"]),l=pc(e).buffer,o=Object.assign(Object.assign({},a),{challenge:l});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let f=0;f<n.length;f++){const c=n[f];o.allowCredentials[f]=Object.assign(Object.assign({},c),{id:pc(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return o}function zx(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const n=r;return{id:r.id,rawId:r.id,response:{attestationObject:eu(new Uint8Array(r.response.attestationObject)),clientDataJSON:eu(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Ux(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const n=r,a=r.getClientExtensionResults(),l=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:eu(new Uint8Array(l.authenticatorData)),clientDataJSON:eu(new Uint8Array(l.clientDataJSON)),signature:eu(new Uint8Array(l.signature)),userHandle:l.userHandle?eu(new Uint8Array(l.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function H5(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function Vg(){var r,e;return!!(si()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Mx(r){try{const e=await navigator.credentials.create(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Wh("Browser returned unexpected credential type",e)}:{data:null,error:new Wh("Empty credential response",e)}}catch(e){return{data:null,error:jx({error:e,options:r})}}}async function Px(r){try{const e=await navigator.credentials.get(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Wh("Browser returned unexpected credential type",e)}:{data:null,error:new Wh("Empty credential response",e)}}catch(e){return{data:null,error:Ox({error:e,options:r})}}}const Ix={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},qx={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Vh(...r){const e=l=>l!==null&&typeof l=="object"&&!Array.isArray(l),n=l=>l instanceof ArrayBuffer||ArrayBuffer.isView(l),a={};for(const l of r)if(l)for(const o in l){const f=l[o];if(f!==void 0)if(Array.isArray(f))a[o]=f;else if(n(f))a[o]=f;else if(e(f)){const c=a[o];e(c)?a[o]=Vh(c,f):a[o]=Vh(f)}else a[o]=f}return a}function Fx(r,e){return Vh(Ix,r,e||{})}function Hx(r,e){return Vh(qx,r,e||{})}class $x{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:a,signal:l},o){try{const{data:f,error:c}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!f)return{data:null,error:c};const h=l??Rx.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:p}=f.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${a}`),p.displayName||(p.displayName=p.name)}switch(f.webauthn.type){case"create":{const p=Fx(f.webauthn.credential_options.publicKey,o?.create),{data:v,error:x}=await Mx({publicKey:p,signal:h});return v?{data:{factorId:e,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:v}},error:null}:{data:null,error:x}}case"request":{const p=Hx(f.webauthn.credential_options.publicKey,o?.request),{data:v,error:x}=await Px(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:p,signal:h}));return v?{data:{factorId:e,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:v}},error:null}:{data:null,error:x}}}}catch(f){return bt(f)?{data:null,error:f}:{data:null,error:new Zl("Unexpected error in challenge",f)}}}async _verify({challengeId:e,factorId:n,webauthn:a}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:a})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},o){if(!n)return{data:null,error:new wf("rpId is required for WebAuthn authentication")};try{if(!Vg())return{data:null,error:new Zl("Browser does not support WebAuthn",null)};const{data:f,error:c}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:a},signal:l},{request:o});if(!f)return{data:null,error:c};const{webauthn:h}=f;return this._verify({factorId:e,challengeId:f.challengeId,webauthn:{type:h.type,rpId:n,rpOrigins:a,credential_response:h.credential_response}})}catch(f){return bt(f)?{data:null,error:f}:{data:null,error:new Zl("Unexpected error in authenticate",f)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},o){if(!n)return{data:null,error:new wf("rpId is required for WebAuthn registration")};try{if(!Vg())return{data:null,error:new Zl("Browser does not support WebAuthn",null)};const{data:f,error:c}=await this._enroll({friendlyName:e});if(!f)return await this.client.mfa.listFactors().then(v=>{var x;return(x=v.data)===null||x===void 0?void 0:x.all.find(A=>A.factor_type==="webauthn"&&A.friendly_name===e&&A.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:c};const{data:h,error:p}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:l},{create:o});return h?this._verify({factorId:f.id,challengeId:h.challengeId,webauthn:{rpId:n,rpOrigins:a,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:p}}catch(f){return bt(f)?{data:null,error:f}:{data:null,error:new Zl("Unexpected error in register",f)}}}}Tx();const Gx={url:I3,storageKey:q3,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:F3,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Yg(r,e,n){return await n()}const nc={};class xf{get jwks(){var e,n;return(n=(e=nc[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){nc[this.storageKey]=Object.assign(Object.assign({},nc[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=nc[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){nc[this.storageKey]=Object.assign(Object.assign({},nc[this.storageKey]),{cachedAt:e})}constructor(e){var n,a,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},Gx),e);if(this.storageKey=o.storageKey,this.instanceID=(n=xf.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,xf.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&si()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new Sx({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=I5(o.fetch),this.lock=o.lock||Yg,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,this.lockAcquireTimeout=o.lockAcquireTimeout,o.lock?this.lock=o.lock:this.persistSession&&si()&&(!((a=globalThis?.navigator)===null||a===void 0)&&a.locks)?this.lock=Ex:this.lock=Yg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new $x(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:P5()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Wg(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Wg(this.memoryStorage)),si()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${z5}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},a="none";if(si()&&(n=rx(window.location.href),this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce")),si()&&this.detectSessionInUrl&&a!=="none"){const{data:l,error:o}=await this._getSessionFromURL(n,a);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),Y3(o)){const h=(e=o.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:o}}return{error:o}}const{session:f,redirectType:c}=l;return this._debug("#_initialize()","detected session in URL",f,"redirect type",c),await this._saveSession(f),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return bt(n)?this._returnResult({error:n}):this._returnResult({error:new Zl("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,a,l;try{const o=await zt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(l=e?.options)===null||l===void 0?void 0:l.captchaToken}},xform:hs}),{data:f,error:c}=o;if(c||!f)return this._returnResult({data:{user:null,session:null},error:c});const h=f.session,p=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:p,session:h},error:null})}catch(o){if(bt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var n,a,l;try{let o;if("email"in e){const{email:v,password:x,options:A}=e;let y=null,L=null;this.flowType==="pkce"&&([y,L]=await Qu(this.storage,this.storageKey)),o=await zt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:A?.emailRedirectTo,body:{email:v,password:x,data:(n=A?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:A?.captchaToken},code_challenge:y,code_challenge_method:L},xform:hs})}else if("phone"in e){const{phone:v,password:x,options:A}=e;o=await zt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:x,data:(a=A?.data)!==null&&a!==void 0?a:{},channel:(l=A?.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:A?.captchaToken}},xform:hs})}else throw new Ah("You must provide either an email or phone number and a password");const{data:f,error:c}=o;if(c||!f)return await ai(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});const h=f.session,p=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:p,session:h},error:null})}catch(o){if(await ai(this.storage,`${this.storageKey}-code-verifier`),bt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let n;if("email"in e){const{email:o,password:f,options:c}=e;n=await zt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:f,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:$g})}else if("phone"in e){const{phone:o,password:f,options:c}=e;n=await zt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:f,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:$g})}else throw new Ah("You must provide either an email or phone number and a password");const{data:a,error:l}=n;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a||!a.session||!a.user){const o=new Zu;return this._returnResult({data:{user:null,session:null},error:o})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:l})}catch(n){if(bt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,a,l,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,a,l,o,f,c,h,p,v,x,A;let y,L;if("message"in e)y=e.message,L=e.signature;else{const{chain:E,wallet:j,statement:O,options:M}=e;let F;if(si())if(typeof j=="object")F=j;else{const $=window;if("ethereum"in $&&typeof $.ethereum=="object"&&"request"in $.ethereum&&typeof $.ethereum.request=="function")F=$.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!M?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");F=j}const G=new URL((n=M?.url)!==null&&n!==void 0?n:window.location.href),se=await F.request({method:"eth_requestAccounts"}).then($=>$).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!se||se.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const me=F5(se[0]);let Q=(a=M?.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!Q){const $=await F.request({method:"eth_chainId"});Q=kx($)}const ee={domain:G.host,address:me,statement:O,uri:G.href,version:"1",chainId:Q,nonce:(l=M?.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(f=(o=M?.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(c=M?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(h=M?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(p=M?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(v=M?.signInWithEthereum)===null||v===void 0?void 0:v.resources};y=Lx(ee),L=await F.request({method:"personal_sign",params:[Nx(y),me]})}try{const{data:E,error:j}=await zt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:L},!((x=e.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(A=e.options)===null||A===void 0?void 0:A.captchaToken}}:null),xform:hs});if(j)throw j;if(!E||!E.session||!E.user){const O=new Zu;return this._returnResult({data:{user:null,session:null},error:O})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:j})}catch(E){if(bt(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(e){var n,a,l,o,f,c,h,p,v,x,A,y;let L,E;if("message"in e)L=e.message,E=e.signature;else{const{chain:j,wallet:O,statement:M,options:F}=e;let G;if(si())if(typeof O=="object")G=O;else{const me=window;if("solana"in me&&typeof me.solana=="object"&&("signIn"in me.solana&&typeof me.solana.signIn=="function"||"signMessage"in me.solana&&typeof me.solana.signMessage=="function"))G=me.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!F?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");G=O}const se=new URL((n=F?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in G&&G.signIn){const me=await G.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},F?.signInWithSolana),{version:"1",domain:se.host,uri:se.href}),M?{statement:M}:null));let Q;if(Array.isArray(me)&&me[0]&&typeof me[0]=="object")Q=me[0];else if(me&&typeof me=="object"&&"signedMessage"in me&&"signature"in me)Q=me;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Q&&"signature"in Q&&(typeof Q.signedMessage=="string"||Q.signedMessage instanceof Uint8Array)&&Q.signature instanceof Uint8Array)L=typeof Q.signedMessage=="string"?Q.signedMessage:new TextDecoder().decode(Q.signedMessage),E=Q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in G)||typeof G.signMessage!="function"||!("publicKey"in G)||typeof G!="object"||!G.publicKey||!("toBase58"in G.publicKey)||typeof G.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");L=[`${se.host} wants you to sign in with your Solana account:`,G.publicKey.toBase58(),...M?["",M,""]:[""],"Version: 1",`URI: ${se.href}`,`Issued At: ${(l=(a=F?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((o=F?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${F.signInWithSolana.notBefore}`]:[],...!((f=F?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${F.signInWithSolana.expirationTime}`]:[],...!((c=F?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${F.signInWithSolana.chainId}`]:[],...!((h=F?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${F.signInWithSolana.nonce}`]:[],...!((p=F?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${F.signInWithSolana.requestId}`]:[],...!((x=(v=F?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||x===void 0)&&x.length?["Resources",...F.signInWithSolana.resources.map(Q=>`- ${Q}`)]:[]].join(`
`);const me=await G.signMessage(new TextEncoder().encode(L),"utf8");if(!me||!(me instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=me}}try{const{data:j,error:O}=await zt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:L,signature:eu(E)},!((A=e.options)===null||A===void 0)&&A.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:hs});if(O)throw O;if(!j||!j.session||!j.user){const M=new Zu;return this._returnResult({data:{user:null,session:null},error:M})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:O})}catch(j){if(bt(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async _exchangeCodeForSession(e){const n=await Yl(this.storage,`${this.storageKey}-code-verifier`),[a,l]=(n??"").split("/");try{if(!a&&this.flowType==="pkce")throw new K3;const{data:o,error:f}=await zt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:a},xform:hs});if(await ai(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!o||!o.session||!o.user){const c=new Zu;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return o.session&&(await this._saveSession(o.session),setTimeout(async()=>{await this._notifyAllSubscribers("SIGNED_IN",o.session)},0)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:l??null}),error:f})}catch(o){if(await ai(this.storage,`${this.storageKey}-code-verifier`),bt(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:n,provider:a,token:l,access_token:o,nonce:f}=e,c=await zt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:l,access_token:o,nonce:f,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:hs}),{data:h,error:p}=c;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!h||!h.session||!h.user){const v=new Zu;return this._returnResult({data:{user:null,session:null},error:v})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:p})}catch(n){if(bt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,a,l,o,f;try{if("email"in e){const{email:c,options:h}=e;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await Qu(this.storage,this.storageKey));const{error:x}=await zt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=h?.data)!==null&&n!==void 0?n:{},create_user:(a=h?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:p,code_challenge_method:v},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:x})}if("phone"in e){const{phone:c,options:h}=e,{data:p,error:v}=await zt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(l=h?.data)!==null&&l!==void 0?l:{},create_user:(o=h?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(f=h?.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p?.message_id},error:v})}throw new Ah("You must provide either an email or phone number.")}catch(c){if(await ai(this.storage,`${this.storageKey}-code-verifier`),bt(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(e){var n,a;try{let l,o;"options"in e&&(l=(n=e.options)===null||n===void 0?void 0:n.redirectTo,o=(a=e.options)===null||a===void 0?void 0:a.captchaToken);const{data:f,error:c}=await zt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:l,xform:hs});if(c)throw c;if(!f)throw new Error("An error occurred on token verification.");const h=f.session,p=f.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:p,session:h},error:null})}catch(l){if(bt(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithSSO(e){var n,a,l,o,f;try{let c=null,h=null;this.flowType==="pkce"&&([c,h]=await Qu(this.storage,this.storageKey));const p=await zt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(a=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((l=e?.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:h}),headers:this.headers,xform:wx});return!((o=p.data)===null||o===void 0)&&o.url&&si()&&!(!((f=e.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(c){if(await ai(this.storage,`${this.storageKey}-code-verifier`),bt(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:a}=e;if(a)throw a;if(!n)throw new ca;const{error:l}=await zt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:l})})}catch(e){if(bt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:a,type:l,options:o}=e,{error:f}=await zt(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:l,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in e){const{phone:a,type:l,options:o}=e,{data:f,error:c}=await zt(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:l,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:c})}throw new Ah("You must provide either an email or phone number and a type")}catch(n){if(bt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Yl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const a=e.expires_at?e.expires_at*1e3-Date.now()<O0:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",e.expires_at),!a){if(this.userStorage){const f=await Yl(this.userStorage,this.storageKey+"-user");f?.user?e.user=f.user:e.user=D0()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};e.user=gx(e.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:l,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:l},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await zt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:hl}):await this._useSession(async n=>{var a,l,o;const{data:f,error:c}=n;if(c)throw c;return!(!((a=f.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ca}:await zt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(l=f.session)===null||l===void 0?void 0:l.access_token)!==null&&o!==void 0?o:void 0,xform:hl})})}catch(n){if(bt(n))return V3(n)&&(await this._removeSession(),await ai(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async a=>{const{data:l,error:o}=a;if(o)throw o;if(!l.session)throw new ca;const f=l.session;let c=null,h=null;this.flowType==="pkce"&&e.email!=null&&([c,h]=await Qu(this.storage,this.storageKey));const{data:p,error:v}=await zt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:h}),jwt:f.access_token,xform:hl});if(v)throw v;return f.user=p.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(a){if(await ai(this.storage,`${this.storageKey}-code-verifier`),bt(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ca;const n=Date.now()/1e3;let a=n,l=!0,o=null;const{payload:f}=R0(e.access_token);if(f.exp&&(a=f.exp,l=a<=n),l){const{data:c,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!c)return{data:{user:null,session:null},error:null};o=c}else{const{data:c,error:h}=await this._getUser(e.access_token);if(h)throw h;o={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(bt(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var a;if(!e){const{data:f,error:c}=n;if(c)throw c;e=(a=f.session)!==null&&a!==void 0?a:void 0}if(!e?.refresh_token)throw new ca;const{data:l,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):l?this._returnResult({data:{user:l.user,session:l},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(bt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!si())throw new Eh("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Eh(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Ug("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Eh("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ug("No code detected.");const{data:M,error:F}=await this._exchangeCodeForSession(e.code);if(F)throw F;const G=new URL(window.location.href);return G.searchParams.delete("code"),window.history.replaceState(window.history.state,"",G.toString()),{data:{session:M.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:l,access_token:o,refresh_token:f,expires_in:c,expires_at:h,token_type:p}=e;if(!o||!c||!f||!p)throw new Eh("No session defined in URL");const v=Math.round(Date.now()/1e3),x=parseInt(c);let A=v+x;h&&(A=parseInt(h));const y=A-v;y*1e3<=lc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${x}s`);const L=A-x;v-L>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",L,A,v):v-L<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",L,A,v);const{data:E,error:j}=await this._getUser(o);if(j)throw j;const O={provider_token:a,provider_refresh_token:l,access_token:o,expires_in:x,expires_at:A,refresh_token:f,token_type:p,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:O,redirectType:e.type},error:null})}catch(a){if(bt(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Yl(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:l,error:o}=n;if(o)return this._returnResult({error:o});const f=(a=l.session)===null||a===void 0?void 0:a.access_token;if(f){const{error:c}=await this.admin.signOut(f,e);if(c&&!(W3(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return e!=="others"&&(await this._removeSession(),await ai(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=nx(),a={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(e){return await this._useSession(async n=>{var a,l;try{const{data:{session:o},error:f}=n;if(f)throw f;await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((l=this.stateChangeEmitters.get(e))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,n={}){let a=null,l=null;this.flowType==="pkce"&&([a,l]=await Qu(this.storage,this.storageKey,!0));try{return await zt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:a,code_challenge_method:l,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(await ai(this.storage,`${this.storageKey}-code-verifier`),bt(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(bt(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:a,error:l}=await this._useSession(async o=>{var f,c,h,p,v;const{data:x,error:A}=o;if(A)throw A;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(f=e.options)===null||f===void 0?void 0:f.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await zt(this.fetch,"GET",y,{headers:this.headers,jwt:(v=(p=x.session)===null||p===void 0?void 0:p.access_token)!==null&&v!==void 0?v:void 0})});if(l)throw l;return si()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a?.url),this._returnResult({data:{provider:e.provider,url:a?.url},error:null})}catch(a){if(bt(a))return this._returnResult({data:{provider:e.provider,url:null},error:a});throw a}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var a;try{const{error:l,data:{session:o}}=n;if(l)throw l;const{options:f,provider:c,token:h,access_token:p,nonce:v}=e,x=await zt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=o?.access_token)!==null&&a!==void 0?a:void 0,body:{provider:c,id_token:h,access_token:p,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:hs}),{data:A,error:y}=x;return y?this._returnResult({data:{user:null,session:null},error:y}):!A||!A.session||!A.user?this._returnResult({data:{user:null,session:null},error:new Zu}):(A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("USER_UPDATED",A.session)),this._returnResult({data:A,error:y}))}catch(l){if(await ai(this.storage,`${this.storageKey}-code-verifier`),bt(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var a,l;const{data:o,error:f}=n;if(f)throw f;return await zt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(l=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0})})}catch(n){if(bt(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await sx(async l=>(l>0&&await ax(200*Math.pow(2,l-1)),this._debug(n,"refreshing attempt",l),await zt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:hs})),(l,o)=>{const f=200*Math.pow(2,l);return o&&C0(o)&&Date.now()+f-a<lc})}catch(a){if(this._debug(n,"error",a),bt(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",a),si()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:e,url:a},error:null}}async _recoverAndRefresh(){var e,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const l=await Yl(this.storage,this.storageKey);if(l&&this.userStorage){let f=await Yl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:l.user},await uc(this.userStorage,this.storageKey+"-user",f)),l.user=(e=f?.user)!==null&&e!==void 0?e:D0()}else if(l&&!l.user&&!l.user){const f=await Yl(this.storage,this.storageKey+"-user");f&&f?.user?(l.user=f.user,await ai(this.storage,this.storageKey+"-user"),await uc(this.storage,this.storageKey,l)):l.user=D0()}if(this._debug(a,"session from storage",l),!this._isValidSession(l)){this._debug(a,"session is not valid"),l!==null&&await this._removeSession();return}const o=((n=l.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<O0;if(this._debug(a,`session has${o?"":" not"} expired with margin of ${O0}s`),o){if(this.autoRefreshToken&&l.refresh_token){const{error:f}=await this._callRefreshToken(l.refresh_token);f&&(console.error(f),C0(f)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:c}=await this._getUser(l.access_token);!c&&f?.user?(l.user=f.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(a,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(a,"error",l),console.error(l);return}finally{this._debug(a,"end")}}async _callRefreshToken(e){var n,a;if(!e)throw new ca;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new id;const{data:o,error:f}=await this._refreshAccessToken(e);if(f)throw f;if(!o.session)throw new ca;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const c={data:o.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(o){if(this._debug(l,"error",o),bt(o)){const f={data:null,error:o};return C0(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(f),f}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(o),o}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(e,n,a=!0){const l=`#_notifyAllSubscribers(${e})`;this._debug(l,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:e,session:n});const o=[],f=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,n)}catch(h){o.push(h)}});if(await Promise.all(f),o.length>0){for(let c=0;c<o.length;c+=1)console.error(o[c]);throw o[0]}}finally{this._debug(l,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await ai(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await uc(this.userStorage,this.storageKey+"-user",{user:n.user});const l=Object.assign({},n);delete l.user;const o=Fg(l);await uc(this.storage,this.storageKey,o)}else{const l=Fg(n);await uc(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ai(this.storage,this.storageKey),await ai(this.storage,this.storageKey+"-code-verifier"),await ai(this.storage,this.storageKey+"-user"),this.userStorage&&await ai(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&si()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),lc);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((a.expires_at*1e3-e)/lc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${lc}ms, refresh threshold is ${dp} ticks`),l<=dp&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof q5)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!si()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,a){const l=[`provider=${encodeURIComponent(n)}`];if(a?.redirectTo&&l.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&l.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[o,f]=await Qu(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(f)}`});l.push(c.toString())}if(a?.queryParams){const o=new URLSearchParams(a.queryParams);l.push(o.toString())}return a?.skipBrowserRedirect&&l.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${e}?${l.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var a;const{data:l,error:o}=n;return o?this._returnResult({data:null,error:o}):await zt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(bt(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var a,l;const{data:o,error:f}=n;if(f)return this._returnResult({data:null,error:f});const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:p}=await zt(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token});return p?this._returnResult({data:null,error:p}):(e.factorType==="totp"&&h.type==="totp"&&(!((l=h?.totp)===null||l===void 0)&&l.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(n){if(bt(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var a;const{data:l,error:o}=n;if(o)return this._returnResult({data:null,error:o});const f=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?zx(e.webauthn.credential_response):Ux(e.webauthn.credential_response)})}:{code:e.code}),{data:c,error:h}=await zt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:f,headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:h}))})}catch(n){if(bt(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var a;const{data:l,error:o}=n;if(o)return this._returnResult({data:null,error:o});const f=await zt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token});if(f.error)return f;const{data:c}=f;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:Dx(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:Bx(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(bt(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:a}=await this._challenge({factorId:e.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const l={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=n?.factors)!==null&&e!==void 0?e:[])l.all.push(o),o.status==="verified"&&l[o.factor_type].push(o);return{data:l,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:a},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=R0(a.access_token);let f=null;o.aal&&(f=o.aal);let c=f;((n=(e=a.user.factors)===null||e===void 0?void 0:e.filter(v=>v.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const p=o.amr||[];return{data:{currentLevel:f,nextLevel:c,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:a},error:l}=n;return l?this._returnResult({data:null,error:l}):a?await zt(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:a.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new ca})})}catch(n){if(bt(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async a=>{const{data:{session:l},error:o}=a;if(o)return this._returnResult({data:null,error:o});if(!l)return this._returnResult({data:null,error:new ca});const f=await zt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return f.data&&f.data.redirect_url&&si()&&!n?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(a){if(bt(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(e,n){try{return await this._useSession(async a=>{const{data:{session:l},error:o}=a;if(o)return this._returnResult({data:null,error:o});if(!l)return this._returnResult({data:null,error:new ca});const f=await zt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return f.data&&f.data.redirect_url&&si()&&!n?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(a){if(bt(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:a}=e;return a?this._returnResult({data:null,error:a}):n?await zt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new ca})})}catch(e){if(bt(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:a},error:l}=n;return l?this._returnResult({data:null,error:l}):a?(await zt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ca})})}catch(n){if(bt(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let a=n.keys.find(c=>c.kid===e);if(a)return a;const l=Date.now();if(a=this.jwks.keys.find(c=>c.kid===e),a&&this.jwks_cached_at+$3>l)return a;const{data:o,error:f}=await zt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=l,a=o.keys.find(c=>c.kid===e),!a)?null:a}async getClaims(e,n={}){try{let a=e;if(!a){const{data:y,error:L}=await this.getSession();if(L||!y.session)return this._returnResult({data:null,error:L});a=y.session.access_token}const{header:l,payload:o,signature:f,raw:{header:c,payload:h}}=R0(a);n?.allowExpired||dx(o.exp);const p=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!p){const{error:y}=await this.getUser(a);if(y)throw y;return{data:{claims:o,header:l,signature:f},error:null}}const v=px(l.alg),x=await crypto.subtle.importKey("jwk",p,v,!0,["verify"]);if(!await crypto.subtle.verify(v,x,f,ex(`${c}.${h}`)))throw new gp("Invalid JWT signature");return{data:{claims:o,header:l,signature:f},error:null}}catch(a){if(bt(a))return this._returnResult({data:null,error:a});throw a}}}xf.nextInstanceID={};const Wx=xf,Vx="2.91.0";let ff="";typeof Deno<"u"?ff="deno":typeof document<"u"?ff="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ff="react-native":ff="node";const Yx={"X-Client-Info":`supabase-js-${ff}/${Vx}`},Kx={headers:Yx},Jx={schema:"public"},Xx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Zx={};function _f(r){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_f(r)}function Qx(r,e){if(_f(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(_f(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function e_(r){var e=Qx(r,"string");return _f(e)=="symbol"?e:e+""}function t_(r,e,n){return(e=e_(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function Kg(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(r,l).enumerable})),n.push.apply(n,a)}return n}function mr(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kg(Object(n),!0).forEach(function(a){t_(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):Kg(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}const n_=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),r_=()=>Headers,i_=(r,e,n)=>{const a=n_(n),l=r_();return async(o,f)=>{var c;const h=(c=await e())!==null&&c!==void 0?c:r;let p=new l(f?.headers);return p.has("apikey")||p.set("apikey",r),p.has("Authorization")||p.set("Authorization",`Bearer ${h}`),a(o,mr(mr({},f),{},{headers:p}))}};function a_(r){return r.endsWith("/")?r:r+"/"}function s_(r,e){var n,a;const{db:l,auth:o,realtime:f,global:c}=r,{db:h,auth:p,realtime:v,global:x}=e,A={db:mr(mr({},h),l),auth:mr(mr({},p),o),realtime:mr(mr({},v),f),storage:{},global:mr(mr(mr({},x),c),{},{headers:mr(mr({},(n=x?.headers)!==null&&n!==void 0?n:{}),(a=c?.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return r.accessToken?A.accessToken=r.accessToken:delete A.accessToken,A}function o_(r){const e=r?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(a_(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var l_=class extends Wx{constructor(r){super(r)}},u_=class{constructor(r,e,n){var a,l;this.supabaseUrl=r,this.supabaseKey=e;const o=o_(r);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const f=`sb-${o.hostname.split(".")[0]}-auth-token`,c={db:Jx,realtime:Zx,auth:mr(mr({},Xx),{},{storageKey:f}),global:Kx},h=s_(n??{},c);if(this.storageKey=(a=h.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(l=h.global.headers)!==null&&l!==void 0?l:{},h.accessToken)this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(v,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}});else{var p;this.auth=this._initSupabaseAuthClient((p=h.auth)!==null&&p!==void 0?p:{},this.headers,h.global.fetch)}this.fetch=i_(e,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(mr({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(v=>this.realtime.setAuth(v)).catch(v=>console.warn("Failed to set initial Realtime auth token:",v)),this.rest=new Fw(new URL("rest/v1",o).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new P3(this.storageUrl.href,this.headers,this.fetch,n?.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new Uw(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,e,n)}channel(r,e={config:{}}){return this.realtime.channel(r,e)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var r=this,e,n;if(r.accessToken)return await r.accessToken();const{data:a}=await r.auth.getSession();return(e=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:r.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:e,detectSessionInUrl:n,storage:a,userStorage:l,storageKey:o,flowType:f,lock:c,debug:h,throwOnError:p},v,x){const A={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new l_({url:this.authUrl.href,headers:mr(mr({},A),v),storageKey:o,autoRefreshToken:r,persistSession:e,detectSessionInUrl:n,storage:a,userStorage:l,flowType:f,lock:c,debug:h,throwOnError:p,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new a3(this.realtimeUrl.href,mr(mr({},r),{},{params:mr(mr({},{apikey:this.supabaseKey}),r?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,e)=>{this._handleTokenChanged(r,"CLIENT",e?.access_token)})}_handleTokenChanged(r,e,n){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const c_=(r,e,n)=>new u_(r,e,n);function f_(){if(typeof window<"u")return!1;const r=globalThis.process;if(!r)return!1;const e=r.version;if(e==null)return!1;const n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}f_()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const h_="https://kdfjtgbxxbuowbrvirwb.supabase.co",d_="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtkZmp0Z2J4eGJ1b3dicnZpcndiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjgyNDkyOTUsImV4cCI6MjA4MzgyNTI5NX0.__Dpbm0TewjsOdCHVCn0ncnLNNHNN2O-G4hf91Nmzd4",tt=c_(h_,d_);function p_(r){const[e,n]=te.useState(null),[a,l]=te.useState(!0),[o,f]=te.useState(null);return te.useEffect(()=>{(async()=>{try{l(!0),f(null);const{data:h,error:p}=await tt.from("businesses").select("*").eq("id",r).single();if(p)throw p;n(h)}catch(h){f(h.message),console.error("Business fetch error:",h)}finally{l(!1)}})()},[r]),{business:e,loading:a,error:o}}function Fp(r){const[e,n]=te.useState([]),[a,l]=te.useState(!0),[o,f]=te.useState(null);return te.useEffect(()=>{if(!r){l(!1);return}(async()=>{try{l(!0),f(null);const{data:h,error:p}=await tt.from("categories").select("*").eq("business_id",r).eq("is_active",!0).order("order_index",{ascending:!0});if(p)throw p;n(h||[])}catch(h){f(h.message),console.error("Categories fetch error:",h)}finally{l(!1)}})()},[r]),{categories:e,loading:a,error:o}}function Hp(r,e=null){const[n,a]=te.useState([]),[l,o]=te.useState(!0),[f,c]=te.useState(null);return te.useEffect(()=>{if(!r){o(!1);return}(async()=>{try{o(!0),c(null);let p=tt.from("products").select("*, categories(name)").eq("business_id",r).eq("is_active",!0);e&&(p=p.eq("category_id",e));const{data:v,error:x}=await p.order("created_at",{ascending:!0});if(x)throw x;a(v||[])}catch(p){c(p.message),console.error("Products fetch error:",p)}finally{o(!1)}})()},[r,e]),{products:n,loading:l,error:f}}function Da({message:r="Ykleniyor..."}){return S.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2rem",gap:"1rem"},children:[S.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid #f3f3f3",borderTop:"4px solid #007bff",borderRadius:"50%",animation:"spin 1s linear infinite"}}),S.jsx("p",{style:{color:"#666",margin:0},children:r}),S.jsx("style",{children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `})]})}function $5({categories:r,isMobile:e}){const[n,a]=te.useState(!1),l=o=>{a(!1),setTimeout(()=>{const f=document.getElementById(`category-${o}`);f?(f.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"}),setTimeout(()=>{const c=f.getBoundingClientRect(),h=window.pageYOffset||document.documentElement.scrollTop,x=c.top+h-120;Math.abs(window.pageYOffset-x)>10&&window.scrollTo({top:x,behavior:"smooth"})},100)):console.warn(`Category element not found: category-${o}`)},150)};return S.jsxs(S.Fragment,{children:[S.jsx("button",{onClick:()=>a(!n),style:{position:"fixed",top:"1rem",right:"1rem",zIndex:1001,background:"#ffffff",color:"#1a1a1a",border:"1px solid #e5e7eb",borderRadius:"10px",padding:"0.75rem",cursor:"pointer",fontSize:"1.5rem",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",transition:"all 0.2s ease",width:"48px",height:"48px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"600"},onMouseEnter:o=>{o.currentTarget.style.background="#f9fafb",o.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.15)"},onMouseLeave:o=>{o.currentTarget.style.background="#ffffff",o.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.1)"},children:n?"":""}),n&&S.jsx("div",{onClick:()=>a(!1),style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",zIndex:999,transition:"opacity 0.3s"}}),S.jsxs("div",{style:{position:"fixed",top:0,right:n?0:"-320px",width:e?"280px":"320px",height:"100vh",background:"#ffffff",zIndex:1e3,boxShadow:"-2px 0 16px rgba(0,0,0,0.1)",transition:"right 0.3s ease",overflowY:"auto",padding:"1.5rem"},children:[S.jsx("div",{style:{padding:"1rem 0",borderBottom:"2px solid #e5e7eb",marginBottom:"1.5rem"},children:S.jsx("h3",{style:{margin:0,fontSize:"1.25rem",color:"#1a1a1a",fontWeight:"700",letterSpacing:"-0.01em"},children:" Kategoriler"})}),S.jsx("nav",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:r.map(o=>S.jsx("button",{onClick:()=>l(o.id),style:{width:"100%",padding:"1rem 1.25rem",background:"#f9fafb",border:"1px solid #e5e7eb",textAlign:"left",cursor:"pointer",fontSize:"1rem",color:"#1a1a1a",transition:"all 0.2s ease",borderRadius:"8px",fontWeight:"500"},onMouseEnter:f=>{f.currentTarget.style.background="#d4a574",f.currentTarget.style.color="white",f.currentTarget.style.borderColor="#d4a574",f.currentTarget.style.transform="translateX(4px)"},onMouseLeave:f=>{f.currentTarget.style.background="#f9fafb",f.currentTarget.style.color="#1a1a1a",f.currentTarget.style.borderColor="#e5e7eb",f.currentTarget.style.transform="translateX(0)"},children:o.name},o.id))})]})]})}const tu=r=>new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY",minimumFractionDigits:2}).format(r),m_=(r,e="/placeholder-image.png")=>r||e,G5=te.createContext();function g_({children:r}){const[e,n]=te.useState([]);te.useEffect(()=>{const v=localStorage.getItem("cart");if(v)try{n(JSON.parse(v))}catch(x){console.error("Cart parse error:",x)}},[]);const a=v=>{n(x=>{const A=x.find(L=>L.product_id===v.id);let y;return A?y=x.map(L=>L.product_id===v.id?{...L,quantity:L.quantity+1}:L):y=[...x,{product_id:v.id,product_name:v.name,product_price:parseFloat(v.price),quantity:1,notes:""}],localStorage.setItem("cart",JSON.stringify(y)),y})},l=v=>{n(x=>{const A=x.find(L=>L.product_id===v);let y;return A&&A.quantity>1?y=x.map(L=>L.product_id===v?{...L,quantity:L.quantity-1}:L):y=x.filter(L=>L.product_id!==v),localStorage.setItem("cart",JSON.stringify(y)),y})},o=v=>{n(x=>{const A=x.filter(y=>y.product_id!==v);return localStorage.setItem("cart",JSON.stringify(A)),A})},f=()=>{n([]),localStorage.removeItem("cart")},c=()=>e.reduce((v,x)=>v+x.product_price*x.quantity,0),h=()=>e.reduce((v,x)=>v+x.quantity,0),p=v=>{const x=e.find(A=>A.product_id===v);return x?x.quantity:0};return S.jsx(G5.Provider,{value:{cart:e,addToCart:a,removeFromCart:l,removeItemFromCart:o,clearCart:f,getTotalPrice:c,getTotalItems:h,getItemQuantity:p},children:r})}function $p(){const r=te.useContext(G5);if(!r)throw new Error("useCart must be used within CartProvider");return r}function y_({product:r,isMobile:e,showCartButtons:n=!0}){const{addToCart:a,removeFromCart:l,getItemQuantity:o}=$p(),f=o(r.id);return S.jsxs("div",{style:{background:"#ffffff",borderRadius:"8px",overflow:"hidden",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",transition:"all 0.3s ease",border:"2px solid #d4a574",borderTopWidth:"4px",position:"relative",height:"100%",display:"flex",flexDirection:"column"},onMouseEnter:c=>{e||(c.currentTarget.style.transform="translateY(-4px)",c.currentTarget.style.boxShadow="0 8px 24px rgba(0,0,0,0.12)")},onMouseLeave:c=>{c.currentTarget.style.transform="translateY(0)",c.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.08)"},children:[r.image_url&&S.jsx("div",{style:{width:"100%",height:e?"200px":"240px",background:"#f3f4f6",overflow:"hidden",position:"relative"},children:S.jsx("img",{src:m_(r.image_url),alt:r.name,style:{width:"100%",height:"100%",objectFit:"cover",transition:"transform 0.4s ease"},onError:c=>{c.target.style.display="none"},onMouseEnter:c=>{e||(c.currentTarget.style.transform="scale(1.05)")},onMouseLeave:c=>{c.currentTarget.style.transform="scale(1)"}})}),S.jsxs("div",{style:{padding:e?"1.25rem":"1.5rem",display:"flex",flexDirection:"column",flex:1},children:[S.jsx("h3",{style:{margin:"0 0 0.5rem 0",fontSize:e?"1.25rem":"1.375rem",color:"#1a1a1a",fontWeight:"700",lineHeight:"1.3",letterSpacing:"-0.01em"},children:r.name}),r.description&&S.jsx("p",{style:{margin:"0 0 1rem 0",fontSize:e?"0.9375rem":"1rem",color:"#6b7280",lineHeight:"1.6",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",flex:1},children:r.description}),S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"auto",paddingTop:"1rem",borderTop:"2px solid #f3f4f6",gap:"0.75rem"},children:[S.jsx("span",{style:{fontSize:e?"1.5rem":"1.75rem",fontWeight:"700",color:"#2d2d2d",letterSpacing:"-0.02em"},children:tu(r.price)}),n&&f>0?S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",background:"linear-gradient(135deg, #d4a574 0%, #c49564 100%)",borderRadius:"12px",padding:e?"0.5rem 0.75rem":"0.625rem 1rem",boxShadow:"0 4px 12px rgba(212, 165, 116, 0.4)",border:"2px solid rgba(255,255,255,0.2)"},children:[S.jsx("button",{onClick:()=>l(r.id),style:{background:"rgba(255,255,255,0.25)",border:"2px solid rgba(255,255,255,0.3)",borderRadius:"8px",width:e?"36px":"40px",height:e?"36px":"40px",color:"white",fontSize:e?"1.375rem":"1.5rem",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease",lineHeight:1},onMouseEnter:c=>{c.currentTarget.style.background="rgba(255,255,255,0.35)",c.currentTarget.style.transform="scale(1.1)"},onMouseLeave:c=>{c.currentTarget.style.background="rgba(255,255,255,0.25)",c.currentTarget.style.transform="scale(1)"},onMouseDown:c=>{c.currentTarget.style.transform="scale(0.95)"},onMouseUp:c=>{c.currentTarget.style.transform="scale(1.1)"},children:""}),S.jsx("span",{style:{color:"white",fontWeight:"bold",fontSize:e?"1.125rem":"1.25rem",minWidth:"32px",textAlign:"center",textShadow:"0 1px 2px rgba(0,0,0,0.2)"},children:f}),S.jsx("button",{onClick:()=>a(r),style:{background:"rgba(255,255,255,0.25)",border:"2px solid rgba(255,255,255,0.3)",borderRadius:"8px",width:e?"36px":"40px",height:e?"36px":"40px",color:"white",fontSize:e?"1.375rem":"1.5rem",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease",lineHeight:1},onMouseEnter:c=>{c.currentTarget.style.background="rgba(255,255,255,0.35)",c.currentTarget.style.transform="scale(1.1)"},onMouseLeave:c=>{c.currentTarget.style.background="rgba(255,255,255,0.25)",c.currentTarget.style.transform="scale(1)"},onMouseDown:c=>{c.currentTarget.style.transform="scale(0.95)"},onMouseUp:c=>{c.currentTarget.style.transform="scale(1.1)"},children:"+"})]}):n?S.jsxs("button",{onClick:()=>a(r),style:{background:"linear-gradient(135deg, #d4a574 0%, #c49564 100%)",border:"2px solid rgba(255,255,255,0.3)",borderRadius:"10px",padding:e?"0.75rem 1.25rem":"0.875rem 1.5rem",color:"white",fontSize:e?"0.875rem":"0.9375rem",fontWeight:"700",cursor:"pointer",transition:"all 0.3s ease",whiteSpace:"nowrap",boxShadow:"0 4px 12px rgba(212, 165, 116, 0.4)",letterSpacing:"0.01em",display:"flex",alignItems:"center",gap:"0.5rem"},onMouseEnter:c=>{c.currentTarget.style.background="linear-gradient(135deg, #c49564 0%, #b88554 100%)",c.currentTarget.style.transform="translateY(-2px) scale(1.02)",c.currentTarget.style.boxShadow="0 6px 16px rgba(212, 165, 116, 0.5)"},onMouseLeave:c=>{c.currentTarget.style.background="linear-gradient(135deg, #d4a574 0%, #c49564 100%)",c.currentTarget.style.transform="translateY(0) scale(1)",c.currentTarget.style.boxShadow="0 4px 12px rgba(212, 165, 116, 0.4)"},onMouseDown:c=>{c.currentTarget.style.transform="translateY(0) scale(0.98)"},onMouseUp:c=>{c.currentTarget.style.transform="translateY(-2px) scale(1.02)"},children:[S.jsx("span",{style:{fontSize:"1.125rem"},children:""}),S.jsx("span",{children:"Sepete Ekle"})]}):null]})]})]})}function W5({category:r,products:e,isMobile:n,isFirst:a=!1,showCartButtons:l=!0}){const o=e.filter(f=>f.category_id===r.id);return o.length===0?null:S.jsxs("section",{id:`category-${r.id}`,style:{marginBottom:n?"3rem":"4rem",scrollMarginTop:"140px",scrollBehavior:"smooth",position:"relative"},children:[!a&&S.jsx("div",{style:{height:"1px",background:"linear-gradient(90deg, transparent 0%, #d4a574 20%, #d4a574 80%, transparent 100%)",marginBottom:"2rem",position:"relative"},children:S.jsx("div",{style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",width:"60px",height:"60px",background:"#ffffff",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:S.jsx("div",{style:{width:"12px",height:"12px",background:"#d4a574",borderRadius:"50%"}})})}),S.jsx("div",{style:{marginBottom:"2.5rem",position:"relative"},children:S.jsx("h2",{style:{margin:0,fontSize:n?"1.875rem":"2.5rem",color:"#1a1a1a",fontWeight:"700",letterSpacing:"-0.02em",display:"inline-block",paddingBottom:"0.75rem",borderBottom:"4px solid #d4a574",position:"relative"},children:r.name})}),S.jsx("div",{style:{display:"grid",gridTemplateColumns:n?"1fr":"repeat(auto-fill, minmax(300px, 1fr))",gap:n?"1.25rem":"1.75rem"},children:o.map(f=>S.jsx(y_,{product:f,isMobile:n,showCartButtons:l},f.id))})]})}function v_(){const r="e99d3327-5d3f-4e0f-aa87-c037fa554d2f",{business:e,loading:n,error:a}=p_(r),{categories:l,loading:o}=Fp(e?.id),{products:f,loading:c}=Hp(e?.id),[h,p]=te.useState(!1),[v,x]=te.useState(!1);te.useEffect(()=>{const y=()=>{p(window.innerWidth<768)};return y(),window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]),te.useEffect(()=>{let y=!1;const L=()=>{y||(window.requestAnimationFrame(()=>{const F=(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0)>100;x(F),y=!1}),y=!0)},E=()=>{setTimeout(()=>{L()},100)};L(),window.addEventListener("scroll",L,{passive:!0}),document.readyState==="complete"?E():window.addEventListener("load",E),window.addEventListener("resize",L);const j=setInterval(L,100);return()=>{window.removeEventListener("scroll",L),window.removeEventListener("load",E),window.removeEventListener("resize",L),clearInterval(j)}},[]);const A=()=>{const y=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,L=performance.now(),E=800,j=M=>M<.5?4*M*M*M:1-Math.pow(-2*M+2,3)/2,O=M=>{const F=M-L,G=Math.min(F/E,1),se=j(G),me=y*(1-se);window.scrollTo(0,me),document.documentElement.scrollTop=me,document.body.scrollTop=me,G<1&&requestAnimationFrame(O)};requestAnimationFrame(O)};return n||o||c?S.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#f5f5f5"},children:S.jsx(Da,{message:"Men ykleniyor..."})}):a||!e?S.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#f5f5f5",padding:"2rem"},children:S.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"12px",textAlign:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",maxWidth:"500px"},children:[S.jsx("h2",{style:{color:"#dc2626",marginBottom:"1rem"},children:" letme Bulunamad"}),S.jsx("p",{style:{color:"#64748b"},children:a||"Bu men bulunamad. Ltfen QR kodu kontrol edin."})]})}):l.length===0||f.length===0?S.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#f5f5f5",padding:"2rem"},children:S.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"12px",textAlign:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",maxWidth:"500px"},children:[S.jsx("h2",{style:{color:"#1e293b",marginBottom:"1rem"},children:" Men Hazrlanyor"}),S.jsxs("p",{style:{color:"#64748b"},children:[e.name," mens henz hazrlanmam."]})]})}):S.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(180deg, #f8f9fa 0%, #f1f3f5 100%)",paddingTop:"0"},children:[S.jsx("header",{style:{background:"linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 50%, #1a1a1a 100%)",padding:h?"1rem 0.75rem":"0.60rem 2.5rem",marginBottom:"2rem",boxShadow:"0 4px 16px rgba(0,0,0,0.2)",borderBottom:"3px solid #d4a574"},children:S.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",gap:h?"0.75rem":"2rem",maxWidth:"1200px",margin:"0 auto",textAlign:"center"},children:[e?.logo_url&&S.jsx("div",{style:{flexShrink:0,display:"flex",alignItems:"center",justifyContent:"center"},children:S.jsx("img",{src:e.logo_url,alt:e.name||"Logo",style:{maxWidth:h?"70px":"120px",maxHeight:h?"70px":"120px",width:"auto",height:"auto",objectFit:"contain",display:"block"},onError:y=>{y.target.style.display="none"}})}),S.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:h?"flex-start":"center",gap:h?"0.25rem":"0.75rem",textAlign:h?"left":"center",flex:h?1:"none"},children:S.jsx("h1",{style:{margin:0,fontSize:h?"1.25rem":"2.25rem",color:"#ffffff",fontWeight:"800",letterSpacing:"0.02em",lineHeight:"1.2",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:h?"100%":"none",textShadow:"0 2px 8px rgba(0,0,0,0.3), 0 0 20px rgba(212, 165, 116, 0.2)",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif'},children:e.name})})]})}),S.jsx($5,{categories:l,isMobile:h}),S.jsx("main",{style:{maxWidth:"1200px",margin:"0 auto",padding:h?"0 1rem 2rem":"0 2rem 3rem"},children:l.map((y,L)=>S.jsx(W5,{category:y,products:f,isMobile:h,isFirst:L===0,showCartButtons:!1},y.id))}),S.jsxs("footer",{style:{background:"#1a1a1a",color:"#ffffff",padding:h?"2rem 1rem":"2.5rem 2rem",textAlign:"center",marginTop:"4rem"},children:[S.jsxs("p",{style:{margin:0,fontSize:h?"0.875rem":"0.9375rem",color:"#9ca3af",fontWeight:"400",marginBottom:e.phone?"0.75rem":"0"},children:[" ",new Date().getFullYear()," ",e.name]}),e.phone&&S.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",color:"#d4a574",fontSize:h?"0.9375rem":"1.0625rem",fontWeight:"500"},children:S.jsx("span",{children:e.phone})})]}),S.jsx("button",{onClick:A,style:{position:"fixed",bottom:h?"1.5rem":"2rem",right:h?"1.5rem":"2rem",zIndex:99999,width:h?"44px":"48px",height:h?"44px":"48px",minWidth:h?"44px":"48px",minHeight:h?"44px":"48px",maxWidth:h?"44px":"48px",maxHeight:h?"44px":"48px",borderRadius:"50%",background:"linear-gradient(135deg, rgba(212, 165, 116, 0.85) 0%, rgba(184, 134, 11, 0.85) 100%)",border:"3px solid rgba(255, 255, 255, 0.9)",color:"#ffffff",fontSize:h?"1.5rem":"1.75rem",cursor:"pointer",boxShadow:"0 4px 20px rgba(212, 165, 116, 0.3), 0 0 0 4px rgba(212, 165, 116, 0.1)",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 0.8s ease-out, transform 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55), boxShadow 0.4s ease, background 0.3s ease, visibility 0.8s ease-out",fontWeight:"bold",padding:0,margin:0,lineHeight:1,outline:"none",WebkitTapHighlightColor:"transparent",userSelect:"none",opacity:v?.8:0,visibility:v?"visible":"hidden",pointerEvents:v?"auto":"none",transform:"scale(1) translateY(0)"},onMouseEnter:y=>{y.currentTarget.style.transform="scale(1.05) translateY(-3px)",y.currentTarget.style.background="linear-gradient(135deg, rgba(212, 165, 116, 1) 0%, rgba(184, 134, 11, 1) 100%)",y.currentTarget.style.boxShadow="0 6px 25px rgba(212, 165, 116, 0.5), 0 0 0 6px rgba(212, 165, 116, 0.15)",y.currentTarget.style.opacity="1",y.currentTarget.style.border="3px solid rgba(255, 255, 255, 1)"},onMouseLeave:y=>{y.currentTarget.style.transform="scale(1) translateY(0)",y.currentTarget.style.background="linear-gradient(135deg, rgba(212, 165, 116, 0.85) 0%, rgba(184, 134, 11, 0.85) 100%)",y.currentTarget.style.boxShadow="0 4px 20px rgba(212, 165, 116, 0.3), 0 0 0 4px rgba(212, 165, 116, 0.1)",y.currentTarget.style.opacity=v?"0.8":"0",y.currentTarget.style.border="3px solid rgba(255, 255, 255, 0.9)"},"aria-label":"Yukar kaydr",children:""})]})}function b_(r){const[e,n]=te.useState(null),[a,l]=te.useState(!0),[o,f]=te.useState(null);return te.useEffect(()=>{if(!r){l(!1);return}(async()=>{try{l(!0),f(null);const{data:h,error:p}=await tt.from("businesses").select("*").eq("slug",r).single();if(p)throw p;n(h)}catch(h){f(h.message),console.error("Business fetch error:",h)}finally{l(!1)}})()},[r]),{business:e,loading:a,error:o}}function w_(r){const[e,n]=te.useState([]),[a,l]=te.useState(!0),[o,f]=te.useState(null);return te.useEffect(()=>{if(!r){l(!1);return}(async()=>{try{l(!0),f(null);const{data:h,error:p}=await tt.from("tables").select("*").eq("business_id",r).eq("is_active",!0).order("table_number",{ascending:!0});if(p)throw p;n(h||[])}catch(h){f(h.message),console.error("Tables fetch error:",h)}finally{l(!1)}})()},[r]),{tables:e,loading:a,error:o}}function x_({isOpen:r,onClose:e,onCheckout:n,isMobile:a}){const{cart:l,addToCart:o,removeFromCart:f,removeItemFromCart:c,getTotalPrice:h,getTotalItems:p}=$p();return r?S.jsxs(S.Fragment,{children:[S.jsx("div",{onClick:e,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",zIndex:9998,animation:"fadeIn 0.2s"}}),S.jsxs("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"white",borderRadius:"16px",width:a?"90%":"500px",maxWidth:"90vw",maxHeight:"90vh",zIndex:9999,display:"flex",flexDirection:"column",boxShadow:"0 20px 60px rgba(0,0,0,0.3)",animation:"slideUp 0.3s"},children:[S.jsxs("div",{style:{padding:a?"1.25rem":"1.5rem",borderBottom:"2px solid #f3f4f6",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[S.jsxs("h2",{style:{margin:0,fontSize:a?"1.25rem":"1.5rem",color:"#1e293b",fontWeight:"700"},children:[" Sepet (",p(),")"]}),S.jsx("button",{onClick:e,style:{background:"transparent",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#64748b",padding:"0.5rem",borderRadius:"8px",transition:"all 0.2s"},onMouseEnter:v=>{v.currentTarget.style.background="#f3f4f6",v.currentTarget.style.color="#1e293b"},onMouseLeave:v=>{v.currentTarget.style.background="transparent",v.currentTarget.style.color="#64748b"},children:""})]}),S.jsx("div",{style:{flex:1,overflowY:"auto",padding:a?"1rem":"1.5rem"},children:l.length===0?S.jsxs("div",{style:{textAlign:"center",padding:"3rem 1rem",color:"#64748b"},children:[S.jsx("p",{style:{fontSize:"3rem",margin:"0 0 1rem 0"},children:""}),S.jsx("p",{children:"Sepetiniz bo"})]}):S.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:l.map(v=>S.jsxs("div",{style:{display:"flex",gap:"1rem",padding:"1rem",background:"#f8fafc",borderRadius:"12px",border:"1px solid #e2e8f0"},children:[S.jsxs("div",{style:{flex:1},children:[S.jsx("h3",{style:{margin:"0 0 0.5rem 0",fontSize:a?"1rem":"1.125rem",color:"#1e293b",fontWeight:"600"},children:v.product_name}),S.jsxs("p",{style:{margin:0,fontSize:a?"1rem":"1.125rem",color:"#2d2d2d",fontWeight:"700"},children:[tu(v.product_price),"  ",v.quantity," = ",tu(v.product_price*v.quantity)]})]}),S.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem"},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",background:"#d4a574",borderRadius:"8px",padding:"0.5rem"},children:[S.jsx("button",{onClick:()=>f(v.product_id),style:{background:"rgba(255,255,255,0.2)",border:"none",borderRadius:"6px",width:"32px",height:"32px",color:"white",fontSize:"1.25rem",fontWeight:"bold",cursor:"pointer"},children:""}),S.jsx("span",{style:{color:"white",fontWeight:"bold",fontSize:"1rem",minWidth:"24px",textAlign:"center"},children:v.quantity}),S.jsx("button",{onClick:()=>o({id:v.product_id,name:v.product_name,price:v.product_price}),style:{background:"rgba(255,255,255,0.2)",border:"none",borderRadius:"6px",width:"32px",height:"32px",color:"white",fontSize:"1.25rem",fontWeight:"bold",cursor:"pointer"},children:"+"})]}),S.jsx("button",{onClick:()=>c(v.product_id),style:{background:"transparent",border:"none",color:"#ef4444",fontSize:"0.875rem",cursor:"pointer",padding:"0.25rem 0.5rem"},children:"Kaldr"})]})]},v.product_id))})}),l.length>0&&S.jsxs("div",{style:{padding:a?"1.25rem":"1.5rem",borderTop:"2px solid #f3f4f6",background:"#f8fafc"},children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[S.jsx("span",{style:{fontSize:a?"1.125rem":"1.25rem",fontWeight:"600",color:"#1e293b"},children:"Toplam:"}),S.jsx("span",{style:{fontSize:a?"1.5rem":"1.75rem",fontWeight:"700",color:"#2d2d2d"},children:tu(h())})]}),S.jsx("button",{onClick:n,style:{width:"100%",padding:a?"1rem":"1.25rem",background:"#d4a574",border:"none",borderRadius:"12px",color:"white",fontSize:a?"1rem":"1.125rem",fontWeight:"700",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:v=>{v.currentTarget.style.background="#c49564",v.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:v=>{v.currentTarget.style.background="#d4a574",v.currentTarget.style.transform="translateY(0)"},children:" Siparii Onayla"})]})]})]}):null}function __({orderId:r,isMobile:e,onClose:n,isExpanded:a=!1,onToggle:l}){const[o,f]=te.useState(null),[c,h]=te.useState(!0),[p,v]=te.useState(a);te.useEffect(()=>{if(!r)return;(async()=>{try{const{data:E,error:j}=await tt.from("orders").select(`
            *,
            order_items (
              id,
              product_name,
              product_price,
              quantity,
              subtotal
            )
          `).eq("id",r).single();if(j)throw j;f(E)}catch(E){console.error("Order fetch error:",E)}finally{h(!1)}})();const L=tt.channel(`order:${r}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"orders",filter:`id=eq.${r}`},E=>{f(E.new),E.new.status==="completed"&&setTimeout(()=>{n()},6e5)}).subscribe();return()=>{tt.removeChannel(L)}},[r,n]);const x=y=>({pending:" Beklemede",preparing:" Hazrlanyor",ready:" Hazr",delivering:" Sipari Geliyor",completed:" Tamamland",cancelled:" ptal Edildi"})[y]||y,A=y=>({pending:"#f59e0b",preparing:"#8b5cf6",ready:"#10b981",delivering:"#3b82f6",completed:"#64748b",cancelled:"#ef4444"})[y]||"#64748b";return te.useEffect(()=>{v(a)},[a]),c?S.jsx("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"white",borderRadius:"16px",padding:"3rem",zIndex:9999,textAlign:"center"},children:S.jsx("p",{children:"Ykleniyor..."})}):o?p?S.jsxs(S.Fragment,{children:[S.jsx("div",{onClick:()=>{v(!1),l&&l()},style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",zIndex:9998,animation:"fadeIn 0.2s"}}),S.jsxs("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"white",borderRadius:"16px",width:e?"90%":"500px",maxWidth:"90vw",maxHeight:"90vh",zIndex:9999,display:"flex",flexDirection:"column",boxShadow:"0 20px 60px rgba(0,0,0,0.3)",overflow:"hidden",animation:"slideUp 0.3s"},children:[S.jsxs("div",{style:{padding:e?"1.25rem":"1.5rem",borderBottom:"2px solid #f3f4f6",background:`${A(o.status)}20`},children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[S.jsx("h2",{style:{margin:0,fontSize:e?"1.25rem":"1.5rem",color:"#1e293b",fontWeight:"700"},children:" Sipari Takibi"}),S.jsx("button",{onClick:n,style:{background:"transparent",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#64748b",padding:"0.5rem",borderRadius:"8px"},children:""})]}),S.jsx("div",{style:{padding:"0.75rem 1rem",background:A(o.status),color:"white",borderRadius:"8px",fontWeight:"600",fontSize:e?"0.9375rem":"1rem",textAlign:"center"},children:x(o.status)})]}),S.jsxs("div",{style:{flex:1,overflowY:"auto",padding:e?"1rem":"1.5rem"},children:[o.order_items&&o.order_items.length>0&&S.jsxs("div",{style:{marginBottom:"1.5rem"},children:[S.jsx("h3",{style:{margin:"0 0 1rem 0",fontSize:e?"1rem":"1.125rem",color:"#1e293b",fontWeight:"600"},children:"Sipari Detaylar:"}),o.order_items.map(y=>S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"0.75rem 0",borderBottom:"1px solid #e2e8f0"},children:[S.jsxs("span",{style:{color:"#64748b"},children:[y.product_name,"  ",y.quantity]}),S.jsx("span",{style:{fontWeight:"600",color:"#1e293b"},children:tu(y.subtotal)})]},y.id))]}),S.jsx("div",{style:{padding:"1rem",background:"#f8fafc",borderRadius:"8px",marginTop:"1rem"},children:S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[S.jsx("span",{style:{fontSize:e?"1.125rem":"1.25rem",fontWeight:"600",color:"#1e293b"},children:"Toplam:"}),S.jsx("span",{style:{fontSize:e?"1.5rem":"1.75rem",fontWeight:"700",color:"#2d2d2d"},children:tu(o.total_amount)})]})})]})]})]}):S.jsxs("div",{onClick:()=>{v(!0),l&&l()},style:{position:"fixed",bottom:e?"5rem":"6rem",right:e?"1rem":"2rem",background:"white",borderRadius:"12px",padding:e?"0.875rem 1rem":"1rem 1.25rem",boxShadow:"0 4px 20px rgba(0,0,0,0.25)",zIndex:9998,cursor:"pointer",border:`3px solid ${A(o.status)}`,minWidth:e?"140px":"180px",maxWidth:e?"180px":"220px",transition:"all 0.3s ease"},onMouseEnter:y=>{y.currentTarget.style.transform="translateY(-4px) scale(1.05)",y.currentTarget.style.boxShadow="0 8px 30px rgba(0,0,0,0.35)"},onMouseLeave:y=>{y.currentTarget.style.transform="translateY(0) scale(1)",y.currentTarget.style.boxShadow="0 4px 20px rgba(0,0,0,0.25)"},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.5rem"},children:[S.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",background:A(o.status),flexShrink:0}}),S.jsxs("span",{style:{fontSize:e?"0.75rem":"0.875rem",fontWeight:"600",color:"#1e293b"},children:["Sipari #",o.id.slice(0,8)]})]}),S.jsxs("div",{style:{padding:"0.5rem 0.75rem",background:`${A(o.status)}20`,borderRadius:"8px",textAlign:"center"},children:[S.jsx("div",{style:{fontSize:e?"0.75rem":"0.875rem",fontWeight:"600",color:A(o.status),marginBottom:"0.25rem"},children:x(o.status)}),S.jsxs("div",{style:{fontSize:e?"0.875rem":"1rem",fontWeight:"700",color:"#1e293b"},children:["",parseFloat(o.total_amount).toFixed(2)]})]}),S.jsx("div",{style:{fontSize:e?"0.625rem":"0.75rem",color:"#64748b",textAlign:"center",marginTop:"0.5rem"},children:"Tklayarak detaylar gr"})]}):null}function S_({slug:r}){console.log(" MenuPage render edildi!",{slugProp:r});const e=Mb(),n=r||e.slug,a=e.table,l=a?parseInt(a,10):null;console.log(" MenuPage params:",{slug:n,table:a,tableNumber:l});const{business:o,loading:f,error:c}=b_(n),{tables:h,loading:p}=w_(o?.id),{categories:v,loading:x}=Fp(o?.id),{products:A,loading:y}=Hp(o?.id),[L,E]=te.useState(!1);te.useEffect(()=>{l&&o&&!p&&h.length>0?h.map(P=>P.table_number).includes(l)?E(!1):E(!0):l&&o&&!p&&h.length===0&&E(!0)},[l,o,h,p]),te.useEffect(()=>{l&&o&&h.length>0?h.map(P=>P.table_number).includes(l)&&(localStorage.setItem("currentTableNumber",l.toString()),localStorage.setItem("currentBusinessSlug",n||"")):localStorage.removeItem("currentTableNumber")},[l,n,o,h]);const[j,O]=te.useState(!1),[M,F]=te.useState(!1),[G,se]=te.useState(!1),[me,Q]=te.useState(!1),[ee,$]=te.useState(null),[he,C]=te.useState(null),q=$p(),re=q?.cart||[],ie=q?.getTotalPrice||(()=>0),we=q?.getTotalItems||(()=>0),Y=q?.clearCart||(()=>{}),le=we(),ue=ie(),Se=async()=>{if(!(!o||re.length===0))try{const{data:k,error:P}=await tt.from("orders").insert({business_id:o.id,table_number:l,status:"pending",total_amount:ie(),notes:""}).select().single();if(P)throw P;const K=re.map(ae=>({order_id:k.id,product_id:ae.product_id,product_name:ae.product_name,product_price:ae.product_price,quantity:ae.quantity,notes:ae.notes||"",subtotal:ae.product_price*ae.quantity})),{error:ne}=await tt.from("order_items").insert(K);if(ne)throw ne;Y(),$(k.id),C("pending"),se(!1),Q(!0)}catch(k){console.error("Order creation error:",k),alert(" Sipari oluturulurken hata olutu!")}};te.useEffect(()=>{if(!ee)return;const k=tt.channel(`order:${ee}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"orders",filter:`id=eq.${ee}`},P=>{C(P.new.status),P.new.status==="completed"&&setTimeout(()=>{Q(!1),$(null),C(null)},6e5)}).subscribe();return()=>{tt.removeChannel(k)}},[ee]),te.useEffect(()=>{const k=()=>{O(window.innerWidth<768)};return k(),window.addEventListener("resize",k),()=>window.removeEventListener("resize",k)},[]),te.useEffect(()=>{let k=!1;const P=()=>{k||(window.requestAnimationFrame(()=>{const de=(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0)>100;F(de),k=!1}),k=!0)};P(),window.addEventListener("scroll",P,{passive:!0}),window.addEventListener("resize",P);const K=setInterval(P,100);return()=>{window.removeEventListener("scroll",P),window.removeEventListener("resize",P),clearInterval(K)}},[]);const ze=()=>{const k=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,P=performance.now(),K=800,ne=de=>de<.5?4*de*de*de:1-Math.pow(-2*de+2,3)/2,ae=de=>{const Ne=de-P,Ae=Math.min(Ne/K,1),Ue=ne(Ae),We=k*(1-Ue);window.scrollTo(0,We),document.documentElement.scrollTop=We,document.body.scrollTop=We,Ae<1&&requestAnimationFrame(ae)};requestAnimationFrame(ae)},W=()=>S.jsxs("button",{onClick:()=>{console.log(" Sepet butonu tkland!",{showCart:G,totalItems:le,totalPrice:ue,cart:re}),se(!0)},style:{position:"fixed",top:j?"4.5rem":"5rem",right:"1rem",background:"#d4a574",border:"3px solid rgba(255,255,255,0.9)",borderRadius:"16px",padding:j?"0.75rem 1rem":"1rem 1.25rem",color:"white",fontSize:j?"0.875rem":"1rem",fontWeight:"700",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.75rem",boxShadow:"0 6px 20px rgba(212, 165, 116, 0.6)",transition:"all 0.3s",zIndex:10002,opacity:1,minWidth:j?"90px":"120px",whiteSpace:"nowrap",visibility:"visible",pointerEvents:"auto",lineHeight:1},onMouseEnter:k=>{k.currentTarget.style.background="#c49564",k.currentTarget.style.transform="translateY(-3px) scale(1.08)",k.currentTarget.style.boxShadow="0 8px 24px rgba(212, 165, 116, 0.7)"},onMouseLeave:k=>{k.currentTarget.style.background="#d4a574",k.currentTarget.style.transform="translateY(0) scale(1)",k.currentTarget.style.boxShadow="0 6px 20px rgba(212, 165, 116, 0.6)"},children:[S.jsx("span",{style:{fontSize:j?"1.5rem":"1.75rem",lineHeight:1},children:""}),(le||0)>0?S.jsxs(S.Fragment,{children:[S.jsxs("span",{style:{fontSize:j?"0.875rem":"1rem",fontWeight:"700"},children:["(",le||0,")"]}),S.jsxs("span",{style:{background:"rgba(255,255,255,0.35)",padding:"0.25rem 0.5rem",borderRadius:"6px",fontSize:j?"0.75rem":"0.875rem",fontWeight:"700"},children:["",(ue||0).toFixed(2)]})]}):S.jsx("span",{style:{fontSize:j?"0.875rem":"1rem"},children:"Sepet"})]});return f||x||y?S.jsxs(S.Fragment,{children:[S.jsx(W,{}),S.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#f5f5f5"},children:S.jsx(Da,{message:"Men ykleniyor..."})})]}):n==="admin"?S.jsxs(S.Fragment,{children:[S.jsx(W,{}),S.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#f5f5f5",padding:"2rem"},children:S.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"12px",textAlign:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",maxWidth:"500px"},children:[S.jsx("h2",{style:{color:"#dc2626",marginBottom:"1rem"},children:" Geersiz URL"}),S.jsx("p",{style:{color:"#64748b"},children:"Admin paneline erimek iin doru URL'yi kullann."})]})})]}):n?c||!f&&!o?S.jsxs(S.Fragment,{children:[S.jsx(W,{}),S.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#f5f5f5",padding:"2rem"},children:S.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"12px",textAlign:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",maxWidth:"500px"},children:[S.jsx("h2",{style:{color:"#dc2626",marginBottom:"1rem"},children:" letme Bulunamad"}),S.jsx("p",{style:{color:"#64748b"},children:c||`"${n}" adl iletme bulunamad.`})]})})]}):o?v.length===0||A.length===0?S.jsxs(S.Fragment,{children:[S.jsx(W,{}),S.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#f5f5f5",padding:"2rem"},children:S.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"12px",textAlign:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",maxWidth:"500px"},children:[S.jsx("h2",{style:{color:"#1e293b",marginBottom:"1rem"},children:" Men Hazrlanyor"}),S.jsxs("p",{style:{color:"#64748b"},children:[o.name," mens henz hazrlanmam."]})]})})]}):S.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(180deg, #f8f9fa 0%, #f1f3f5 100%)",paddingTop:"0",position:"relative"},children:[S.jsx(W,{}),S.jsx("header",{style:{position:"relative",background:"linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 50%, #1a1a1a 100%)",padding:j?"1rem 0.75rem":"0.60rem 2.5rem",marginBottom:"2rem",boxShadow:"0 4px 16px rgba(0,0,0,0.2)",borderBottom:"3px solid #d4a574"},children:S.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",gap:j?"0.75rem":"2rem",maxWidth:"1200px",margin:"0 auto",textAlign:"center"},children:[o?.logo_url&&S.jsx("div",{style:{flexShrink:0,display:"flex",alignItems:"center",justifyContent:"center"},children:S.jsx("img",{src:o.logo_url,alt:o.name||"Logo",style:{maxWidth:j?"70px":"120px",maxHeight:j?"70px":"120px",width:"auto",height:"auto",objectFit:"contain",display:"block"},onError:k=>{k.target.style.display="none"}})}),S.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:j?"flex-start":"center",gap:j?"0.25rem":"0.75rem",textAlign:j?"left":"center",flex:j?1:"none"},children:[S.jsx("h1",{style:{margin:0,fontSize:j?"1.25rem":"2.25rem",color:"#ffffff",fontWeight:"800",letterSpacing:"0.02em",lineHeight:"1.2",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:j?"100%":"none",textShadow:"0 2px 8px rgba(0,0,0,0.3), 0 0 20px rgba(212, 165, 116, 0.2)",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif'},children:o.name}),l&&S.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",marginTop:"0.5rem",padding:"0.5rem 1rem",background:"rgba(212, 165, 116, 0.2)",borderRadius:"8px",border:"2px solid #d4a574"},children:[S.jsx("span",{style:{fontSize:j?"1rem":"1.25rem",color:"#d4a574",fontWeight:"700"},children:""}),S.jsxs("p",{style:{margin:0,fontSize:j?"0.9375rem":"1.125rem",color:"#d4a574",fontWeight:"700",letterSpacing:"0.05em"},children:["Masa ",l]})]})]})]})}),S.jsx($5,{categories:v,isMobile:j}),S.jsx("main",{style:{maxWidth:"1200px",margin:"0 auto",padding:j?"0 1rem 2rem":"0 2rem 3rem"},children:v.map((k,P)=>S.jsx(W5,{category:k,products:A,isMobile:j,isFirst:P===0},k.id))}),S.jsxs("footer",{style:{background:"#1a1a1a",color:"#ffffff",padding:j?"2rem 1rem":"2.5rem 2rem",textAlign:"center",marginTop:"4rem"},children:[S.jsxs("p",{style:{margin:0,fontSize:j?"0.875rem":"0.9375rem",color:"#9ca3af",fontWeight:"400",marginBottom:o.phone?"0.75rem":"0"},children:[" ",new Date().getFullYear()," ",o.name]}),o.phone&&S.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",color:"#d4a574",fontSize:j?"0.9375rem":"1.0625rem",fontWeight:"500"},children:S.jsx("span",{children:o.phone})})]}),S.jsx("button",{onClick:ze,style:{position:"fixed",bottom:j?"1.5rem":"2rem",right:j?"1.5rem":"2rem",zIndex:99999,width:j?"44px":"48px",height:j?"44px":"48px",minWidth:j?"44px":"48px",minHeight:j?"44px":"48px",maxWidth:j?"44px":"48px",maxHeight:j?"44px":"48px",borderRadius:"50%",background:"linear-gradient(135deg, rgba(212, 165, 116, 0.85) 0%, rgba(184, 134, 11, 0.85) 100%)",border:"3px solid rgba(255, 255, 255, 0.9)",color:"#ffffff",fontSize:j?"1.5rem":"1.75rem",cursor:"pointer",boxShadow:"0 4px 20px rgba(212, 165, 116, 0.3), 0 0 0 4px rgba(212, 165, 116, 0.1)",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 0.8s ease-out, transform 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55), boxShadow 0.4s ease, background 0.3s ease, visibility 0.8s ease-out",fontWeight:"bold",padding:0,margin:0,lineHeight:1,outline:"none",WebkitTapHighlightColor:"transparent",userSelect:"none",opacity:M?.8:0,visibility:M?"visible":"hidden",pointerEvents:M?"auto":"none",transform:"scale(1) translateY(0)"},onMouseEnter:k=>{k.currentTarget.style.transform="scale(1.05) translateY(-3px)",k.currentTarget.style.background="linear-gradient(135deg, rgba(212, 165, 116, 1) 0%, rgba(184, 134, 11, 1) 100%)",k.currentTarget.style.boxShadow="0 6px 25px rgba(212, 165, 116, 0.5), 0 0 0 6px rgba(212, 165, 116, 0.15)",k.currentTarget.style.opacity="1",k.currentTarget.style.border="3px solid rgba(255, 255, 255, 1)"},onMouseLeave:k=>{k.currentTarget.style.transform="scale(1) translateY(0)",k.currentTarget.style.background="linear-gradient(135deg, rgba(212, 165, 116, 0.85) 0%, rgba(184, 134, 11, 0.85) 100%)",k.currentTarget.style.boxShadow="0 4px 20px rgba(212, 165, 116, 0.3), 0 0 0 4px rgba(212, 165, 116, 0.1)",k.currentTarget.style.opacity=M?"0.8":"0",k.currentTarget.style.border="3px solid rgba(255, 255, 255, 0.9)"},"aria-label":"Yukar kaydr",children:""}),S.jsx(x_,{isOpen:G,onClose:()=>se(!1),onCheckout:Se,isMobile:j}),ee&&S.jsx(__,{orderId:ee,isMobile:j,isExpanded:me,onToggle:()=>Q(!me),onClose:()=>{Q(!1),$(null),C(null)}})]}):S.jsxs(S.Fragment,{children:[S.jsx(W,{}),S.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#f5f5f5"},children:S.jsx(Da,{message:"Men ykleniyor..."})})]}):S.jsxs(S.Fragment,{children:[S.jsx(W,{}),S.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#f5f5f5",padding:"2rem"},children:S.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"12px",textAlign:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",maxWidth:"500px"},children:[S.jsx("h2",{style:{color:"#dc2626",marginBottom:"1rem"},children:" letme Bulunamad"}),S.jsx("p",{style:{color:"#64748b"},children:"letme slug' bulunamad."})]})})]})}const V5=te.createContext(null);function A_({children:r}){const[e,n]=te.useState(null),[a,l]=te.useState(null),[o,f]=te.useState(!0);te.useEffect(()=>{tt.auth.getSession().then(({data:{session:A}})=>{n(A?.user??null),A?.user?c(A.user.id):f(!1)});const{data:{subscription:x}}=tt.auth.onAuthStateChange((A,y)=>{n(y?.user??null),y?.user?c(y.user.id):(l(null),f(!1))});return()=>x.unsubscribe()},[]);const c=async x=>{try{const{data:A,error:y}=await tt.from("user_business").select("business_id, businesses(*)").eq("user_id",x).single();if(y)throw y;A?.businesses&&l(A.businesses)}catch(A){console.error("Business fetch error:",A)}finally{f(!1)}},v={user:e,business:a,loading:o,signIn:async(x,A)=>{try{f(!0);const{data:y,error:L}=await tt.auth.signInWithPassword({email:x,password:A});if(L)throw L;return y.user&&await c(y.user.id),{success:!0,user:y.user}}catch(y){return{success:!1,error:y.message}}finally{f(!1)}},signOut:async()=>{try{const{error:x}=await tt.auth.signOut();if(x)throw x;return n(null),l(null),{success:!0}}catch(x){return{success:!1,error:x.message}}}};return S.jsx(V5.Provider,{value:v,children:r})}function No(){const r=te.useContext(V5);if(!r)throw new Error("useAuth must be used within AuthProvider");return r}function jr({children:r,onClick:e,variant:n="primary",disabled:a=!1,type:l="button",style:o={}}){const f={padding:"0.75rem 1.5rem",fontSize:"1rem",border:"none",borderRadius:"6px",cursor:a?"not-allowed":"pointer",fontWeight:"500",transition:"all 0.2s",...o},c={primary:{background:a?"#ccc":"#007bff",color:"white"},secondary:{background:a?"#ccc":"#6c757d",color:"white"},danger:{background:a?"#ccc":"#dc3545",color:"white"},success:{background:a?"#ccc":"#28a745",color:"white"}};return S.jsx("button",{type:l,onClick:e,disabled:a,style:{...f,...c[n]},onMouseEnter:h=>{a||(h.target.style.opacity="0.9")},onMouseLeave:h=>{h.target.style.opacity="1"},children:r})}function Fs({label:r,type:e="text",value:n,onChange:a,placeholder:l="",required:o=!1,error:f=null,style:c={}}){return S.jsxs("div",{style:{marginBottom:"1rem",...c},children:[r&&S.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#333"},children:[r,o&&S.jsx("span",{style:{color:"red"},children:" *"})]}),S.jsx("input",{type:e,value:n,onChange:a,placeholder:l,required:o,style:{width:"100%",padding:"0.75rem",fontSize:"1rem",border:f?"2px solid #dc3545":"1px solid #ddd",borderRadius:"6px",boxSizing:"border-box",fontFamily:"inherit"}}),f&&S.jsx("p",{style:{color:"#dc3545",fontSize:"0.875rem",margin:"0.25rem 0 0 0"},children:f})]})}function E_(){const[r,e]=te.useState(""),[n,a]=te.useState(""),[l,o]=te.useState(""),[f,c]=te.useState(!1),[h,p]=te.useState(!1),{signIn:v}=No(),x=ed();te.useEffect(()=>{const y=()=>{p(window.innerWidth<768)};return y(),window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]);const A=async y=>{if(y.preventDefault(),o(""),c(!0),!r||!n){o("Ltfen e-posta ve ifre girin"),c(!1);return}const L=await v(r,n);L.success?x("/admin/dashboard"):o(L.error||"Giri baarsz"),c(!1)};return S.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:h?"1rem":"2rem"},children:S.jsxs("div",{style:{background:"white",borderRadius:h?"12px":"16px",padding:h?"1.5rem":"2.5rem",width:"100%",maxWidth:h?"100%":"450px",boxShadow:h?"0 10px 25px rgba(0,0,0,0.2)":"0 20px 40px rgba(0,0,0,0.15)"},children:[S.jsxs("div",{style:{textAlign:"center",marginBottom:h?"1.5rem":"2rem"},children:[S.jsx("h1",{style:{margin:0,color:"#333",fontSize:h?"1.5rem":"2rem",fontWeight:"bold"},children:" Admin Girii"}),S.jsx("p",{style:{color:"#666",marginTop:"0.5rem",fontSize:h?"0.875rem":"1rem"},children:"letme paneline giri yapn"})]}),S.jsxs("form",{onSubmit:A,children:[S.jsx(Fs,{label:"E-posta",type:"email",value:r,onChange:y=>e(y.target.value),placeholder:"ornek@email.com",required:!0,error:l&&!r?"E-posta gerekli":null,style:{marginBottom:"1.25rem"}}),S.jsx(Fs,{label:"ifre",type:"password",value:n,onChange:y=>a(y.target.value),placeholder:"",required:!0,error:l&&!n?"ifre gerekli":null,style:{marginBottom:"1.25rem"}}),l&&S.jsx("div",{style:{padding:h?"0.75rem":"1rem",background:"#fee",border:"1px solid #fcc",borderRadius:"6px",color:"#c33",marginBottom:"1rem",fontSize:h?"0.875rem":"0.9375rem"},children:l}),S.jsx(jr,{type:"submit",variant:"primary",disabled:f,style:{width:"100%",marginTop:"0.5rem",padding:h?"0.75rem 1.5rem":"0.875rem 1.75rem",fontSize:h?"0.9375rem":"1rem"},children:f?" Giri yaplyor...":" Giri Yap"})]}),S.jsx("div",{style:{marginTop:h?"1.5rem":"2rem",padding:h?"1rem":"1.25rem",background:"#f5f5f5",borderRadius:"8px",fontSize:h?"0.8125rem":"0.875rem",color:"#666"},children:S.jsxs("p",{style:{margin:0,textAlign:"center",lineHeight:"1.5"},children:[S.jsx("strong",{children:"Not:"})," Hesap oluturma iin ltfen ynetici ile iletiime gein."]})})]})})}function pa({children:r}){const[e,n]=te.useState(!0),[a,l]=te.useState(!1),{business:o,signOut:f}=No(),c=To(),h=ed();te.useEffect(()=>{const E=()=>{l(window.innerWidth<768),window.innerWidth<768?n(!1):n(!0)};return E(),window.addEventListener("resize",E),()=>window.removeEventListener("resize",E)},[]);const p=async()=>{(await f()).success&&h("/admin")},v=()=>{n(!e)},x=[{path:"/admin/dashboard",label:" Dashboard",icon:""},{path:"/admin/orders",label:" Sipariler",icon:""},{path:"/admin/payments",label:" demeler",icon:""},{path:"/admin/products",label:" rnler",icon:""},{path:"/admin/categories",label:" Kategoriler",icon:""},{path:"/admin/settings",label:" Ayarlar",icon:""}],A=E=>c.pathname===E,y=()=>{a&&n(!1)},L=a?0:70;return S.jsxs("div",{style:{display:"flex",minHeight:"100vh",background:"#f5f5f5",position:"relative"},children:[a&&S.jsx("button",{onClick:v,style:{position:"fixed",top:"1rem",left:"1rem",zIndex:1001,background:"#1e293b",color:"white",border:"none",borderRadius:"8px",padding:"0.625rem 0.75rem",cursor:"pointer",fontSize:"1.25rem",boxShadow:"0 2px 8px rgba(0,0,0,0.2)",transition:"all 0.2s"},onMouseEnter:E=>{E.currentTarget.style.background="#334155"},onMouseLeave:E=>{E.currentTarget.style.background="#1e293b"},children:e?"":""}),a&&e&&S.jsx("div",{onClick:y,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",zIndex:999,transition:"opacity 0.3s"}}),S.jsxs("aside",{style:{width:e?"280px":L,background:"#1e293b",color:"white",transition:"width 0.3s, transform 0.3s",display:"flex",flexDirection:"column",position:"fixed",height:"100vh",overflowY:"auto",zIndex:1e3,transform:a&&!e?"translateX(-100%)":"translateX(0)",boxShadow:a?"2px 0 8px rgba(0,0,0,0.2)":"2px 0 4px rgba(0,0,0,0.1)"},children:[S.jsxs("div",{style:{padding:a?"1rem":"1.25rem 1.5rem",borderBottom:"1px solid #334155",display:"flex",alignItems:"flex-start",justifyContent:"space-between",gap:"0.75rem"},children:[e&&S.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem",flex:1,minWidth:0},children:[o?.logo_url&&S.jsx("img",{src:o.logo_url,alt:o.name||"Logo",style:{width:"56px",height:"56px",minWidth:"56px",minHeight:"56px",maxWidth:"56px",maxHeight:"56px",objectFit:"contain",flexShrink:0,display:"block"}}),S.jsx("h2",{style:{margin:0,fontSize:a?"1rem":"1.125rem",fontWeight:"bold",whiteSpace:"normal",overflow:"hidden",textOverflow:"ellipsis",letterSpacing:"-0.025em",textAlign:"center",wordBreak:"break-word",lineHeight:"1.3",maxHeight:"2.6em",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:o?.name||"QR Menu"})]}),!a&&S.jsx("button",{onClick:v,style:{background:"transparent",border:"none",color:"white",cursor:"pointer",fontSize:"1.125rem",padding:"0.375rem",borderRadius:"4px",transition:"background 0.2s",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},onMouseEnter:E=>{E.currentTarget.style.background="#334155"},onMouseLeave:E=>{E.currentTarget.style.background="transparent"},children:e?"":""})]}),S.jsx("nav",{style:{flex:1,padding:a?"1rem 0":"1.25rem 0"},children:x.map(E=>S.jsxs(zp,{to:E.path,onClick:()=>{a&&n(!1)},style:{display:"flex",alignItems:"center",padding:a?"1rem 1.5rem":"0.875rem 1.5rem",color:A(E.path)?"#fff":"#cbd5e1",background:A(E.path)?"#3b82f6":"transparent",textDecoration:"none",transition:"all 0.2s",margin:"0.25rem 0.75rem",borderRadius:"8px",fontSize:a?"1rem":"0.96875rem",fontWeight:A(E.path)?"500":"400"},onMouseEnter:j=>{!A(E.path)&&!a&&(j.currentTarget.style.background="#334155",j.currentTarget.style.color="#fff")},onMouseLeave:j=>{!A(E.path)&&!a&&(j.currentTarget.style.background="transparent",j.currentTarget.style.color="#cbd5e1")},children:[S.jsx("span",{style:{marginRight:e?"0.875rem":0,fontSize:a?"1.5rem":"1.375rem",minWidth:e?"1.5rem":"1.75rem",textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center"},children:E.icon}),e&&S.jsx("span",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:E.label})]},E.path))}),S.jsx("div",{style:{padding:a?"1rem":"1.25rem",borderTop:"1px solid #334155"},children:S.jsx(jr,{onClick:p,variant:"danger",style:{width:"100%",background:"#dc2626",padding:a?"1rem":"0.875rem",fontSize:a?"1rem":"0.96875rem",fontWeight:"500",borderRadius:"8px"},children:e?" k Yap":""})})]}),S.jsx("main",{style:{marginLeft:a?0:e?"280px":"70px",flex:1,transition:"margin-left 0.3s",paddingTop:a?"4rem":"2.5rem",paddingRight:a?"1rem":"3rem",paddingBottom:a?"1rem":"2.5rem",paddingLeft:a?"1rem":"3rem",width:a?"100%":`calc(100% - ${e?"280px":"70px"})`,maxWidth:a?"100%":"1400px"},children:r})]})}function T_(){const{business:r}=No(),{products:e,loading:n}=Hp(r?.id),{categories:a,loading:l}=Fp(r?.id),[o,f]=te.useState(!1),[c,h]=te.useState({totalProducts:0,activeProducts:0,totalCategories:0,totalViews:0});if(te.useEffect(()=>{const x=()=>{f(window.innerWidth<768)};return x(),window.addEventListener("resize",x),()=>window.removeEventListener("resize",x)},[]),te.useEffect(()=>{e&&a&&h({totalProducts:e.length,activeProducts:e.filter(x=>x.is_active).length,totalCategories:a.length,totalViews:0})},[e,a]),n||l)return S.jsx(pa,{children:S.jsx(Da,{message:"Ykleniyor..."})});const p=r?.id?`${window.location.origin}`:"",v=()=>{p&&(navigator.clipboard.writeText(p),alert(" Link kopyaland!"))};return S.jsx(pa,{children:S.jsxs("div",{children:[S.jsx("h1",{style:{margin:0,marginBottom:o?"1.5rem":"2rem",fontSize:o?"1.5rem":"2rem",color:"#1e293b"},children:" Dashboard"}),S.jsxs("div",{style:{display:"grid",gridTemplateColumns:o?"repeat(2, 1fr)":"repeat(auto-fit, minmax(200px, 1fr))",gap:o?"1rem":"1.5rem",marginBottom:o?"1.5rem":"2rem"},children:[S.jsx(Th,{title:"Toplam rn",value:c.totalProducts,icon:"",color:"#3b82f6",isMobile:o}),S.jsx(Th,{title:"Aktif rn",value:c.activeProducts,icon:"",color:"#10b981",isMobile:o}),S.jsx(Th,{title:"Kategori",value:c.totalCategories,icon:"",color:"#f59e0b",isMobile:o}),S.jsx(Th,{title:"Menu Linki",value:p?"Hazr":"Hazrlanyor",icon:"",color:"#8b5cf6",onClick:p?v:null,isMobile:o})]}),p&&S.jsxs("div",{style:{background:"white",padding:o?"1rem":"1.5rem",borderRadius:"8px",marginBottom:o?"1.5rem":"2rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[S.jsx("h3",{style:{margin:"0 0 1rem 0",color:"#1e293b",fontSize:o?"1rem":"1.25rem"},children:" Men Linki"}),S.jsxs("div",{style:{display:"flex",flexDirection:o?"column":"row",gap:"0.75rem",alignItems:o?"stretch":"center"},children:[S.jsx("input",{type:"text",value:p,readOnly:!0,style:{flex:1,padding:o?"0.625rem":"0.75rem",border:"1px solid #e2e8f0",borderRadius:"6px",fontSize:o?"0.875rem":"0.9375rem",fontFamily:"monospace",wordBreak:"break-all"}}),S.jsxs("button",{onClick:v,style:{padding:o?"0.625rem 1rem":"0.75rem 1.5rem",background:"#3b82f6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"500",whiteSpace:"nowrap"},children:[" ","Kopyala"]})]}),S.jsx("p",{style:{margin:"0.75rem 0 0 0",color:"#64748b",fontSize:o?"0.75rem":"0.875rem"},children:"Bu linki QR kod olarak basabilirsiniz"})]}),S.jsxs("div",{style:{background:"white",padding:o?"1rem":"1.5rem",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[S.jsx("h3",{style:{margin:"0 0 1rem 0",color:"#1e293b",fontSize:o?"1rem":"1.25rem"},children:" Hzl Eriim"}),S.jsxs("div",{style:{display:"grid",gridTemplateColumns:o?"1fr":"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[S.jsx(kh,{href:"/admin/orders",label:" Sipariler",icon:"",isMobile:o}),S.jsx(kh,{href:"/admin/products",label:" rn Ekle",icon:"",isMobile:o}),S.jsx(kh,{href:"/admin/categories",label:" Kategori Ekle",icon:"",isMobile:o}),S.jsx(kh,{href:"/admin/settings",label:" Ayarlar",icon:"",isMobile:o})]})]})]})})}function Th({title:r,value:e,icon:n,color:a,onClick:l,isMobile:o}){return S.jsx("div",{onClick:l,style:{background:"white",padding:o?"1rem":"1.5rem",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",cursor:l?"pointer":"default",transition:"transform 0.2s"},onMouseEnter:f=>{l&&!o&&(f.currentTarget.style.transform="translateY(-2px)")},onMouseLeave:f=>{f.currentTarget.style.transform="translateY(0)"},children:S.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",flexDirection:o?"column":"row",gap:o?"0.5rem":0},children:[S.jsxs("div",{style:{flex:1,textAlign:o?"center":"left"},children:[S.jsx("p",{style:{margin:0,color:"#64748b",fontSize:o?"0.75rem":"0.875rem"},children:r}),S.jsx("p",{style:{margin:"0.5rem 0 0 0",fontSize:o?"1.5rem":"2rem",fontWeight:"bold",color:"#1e293b"},children:e})]}),S.jsx("div",{style:{fontSize:o?"2rem":"2.5rem",opacity:.8},children:n})]})})}function kh({href:r,label:e,icon:n,isMobile:a}){return S.jsxs("a",{href:r,style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:a?"0.875rem":"1rem",background:"#f8fafc",borderRadius:"6px",textDecoration:"none",color:"#1e293b",border:"1px solid #e2e8f0",transition:"all 0.2s"},onMouseEnter:l=>{a||(l.currentTarget.style.background="#f1f5f9",l.currentTarget.style.borderColor="#cbd5e1")},onMouseLeave:l=>{l.currentTarget.style.background="#f8fafc",l.currentTarget.style.borderColor="#e2e8f0"},children:[S.jsx("span",{style:{fontSize:a?"1.25rem":"1.5rem"},children:n}),S.jsx("span",{style:{fontWeight:"500",fontSize:a?"0.9375rem":"1rem"},children:e})]})}function k_(){const{business:r}=No(),[e,n]=te.useState([]),[a,l]=te.useState(!0),[o,f]=te.useState(!1),[c,h]=te.useState(!1),[p,v]=te.useState(null),[x,A]=te.useState({name:"",order_index:0}),[y,L]=te.useState("");te.useEffect(()=>{const G=()=>{f(window.innerWidth<768)};return G(),window.addEventListener("resize",G),()=>window.removeEventListener("resize",G)},[]),te.useEffect(()=>{r?.id&&E()},[r]);const E=async()=>{try{l(!0);const{data:G,error:se}=await tt.from("categories").select("*").eq("business_id",r.id).order("order_index",{ascending:!0});if(se)throw se;n(G||[])}catch(G){console.error("Categories fetch error:",G),alert("Kategoriler yklenirken hata olutu: "+G.message)}finally{l(!1)}},j=(G=null)=>{G?(v(G),A({name:G.name,order_index:G.order_index})):(v(null),A({name:"",order_index:e.length})),h(!0),L("")},O=()=>{h(!1),v(null),A({name:"",order_index:0}),L("")},M=async G=>{if(G.preventDefault(),L(""),!x.name.trim()){L("Kategori ad gerekli");return}try{if(p){const{error:se}=await tt.from("categories").update({name:x.name.trim(),order_index:x.order_index}).eq("id",p.id);if(se)throw se}else{const{error:se}=await tt.from("categories").insert({business_id:r.id,name:x.name.trim(),order_index:x.order_index,is_active:!0});if(se)throw se}O(),E()}catch(se){L(se.message||"Bir hata olutu"),console.error("Category save error:",se)}},F=async G=>{if(confirm("Bu kategoriyi silmek istediinize emin misiniz? Kategoriye ait rnler kategorisiz kalacaktr."))try{const{error:se}=await tt.from("categories").delete().eq("id",G);if(se)throw se;E()}catch(se){alert("Kategori silinirken hata olutu: "+se.message),console.error("Category delete error:",se)}};return a&&e.length===0?S.jsx(pa,{children:S.jsx(Da,{message:"Kategoriler ykleniyor..."})}):S.jsx(pa,{children:S.jsxs("div",{children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:o?"1.5rem":"2rem",flexWrap:"wrap",gap:"1rem"},children:[S.jsx("h1",{style:{margin:0,fontSize:o?"1.5rem":"2rem",color:"#1e293b"},children:" Kategoriler"}),S.jsx(jr,{onClick:()=>j(),variant:"primary",style:{fontSize:o?"0.9375rem":"1rem",padding:o?"0.75rem 1.25rem":"0.875rem 1.5rem"},children:" Kategori Ekle"})]}),e.length===0?S.jsxs("div",{style:{background:"white",padding:o?"2rem 1rem":"3rem 2rem",borderRadius:"12px",textAlign:"center",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[S.jsx("p",{style:{fontSize:o?"1.125rem":"1.25rem",color:"#64748b",marginBottom:"1rem"},children:"Henz kategori eklenmemi"}),S.jsx(jr,{onClick:()=>j(),variant:"primary",children:" lk Kategoriyi Ekle"})]}):S.jsx("div",{style:{display:"grid",gridTemplateColumns:o?"1fr":"repeat(auto-fill, minmax(300px, 1fr))",gap:o?"1rem":"1.5rem"},children:e.map(G=>S.jsxs("div",{style:{background:"white",padding:o?"1.25rem":"1.5rem",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",border:"1px solid #e2e8f0",transition:"all 0.2s"},onMouseEnter:se=>{o||(se.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.15)",se.currentTarget.style.transform="translateY(-2px)")},onMouseLeave:se=>{se.currentTarget.style.boxShadow="0 1px 3px rgba(0,0,0,0.1)",se.currentTarget.style.transform="translateY(0)"},children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"1rem"},children:[S.jsx("h3",{style:{margin:0,fontSize:o?"1.125rem":"1.25rem",color:"#1e293b",fontWeight:"600"},children:G.name}),!G.is_active&&S.jsx("span",{style:{padding:"0.25rem 0.75rem",background:"#fee2e2",color:"#dc2626",borderRadius:"6px",fontSize:"0.75rem",fontWeight:"500"},children:"Pasif"})]}),S.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[S.jsx(jr,{onClick:()=>j(G),variant:"secondary",style:{flex:1,minWidth:"100px",fontSize:o?"0.875rem":"0.9375rem",padding:o?"0.625rem":"0.75rem"},children:" Dzenle"}),S.jsx(jr,{onClick:()=>F(G.id),variant:"danger",style:{flex:1,minWidth:"100px",fontSize:o?"0.875rem":"0.9375rem",padding:o?"0.625rem":"0.75rem"},children:" Sil"})]})]},G.id))}),c&&S.jsx("div",{onClick:O,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",padding:o?"1rem":"2rem"},children:S.jsxs("div",{onClick:G=>G.stopPropagation(),style:{background:"white",borderRadius:"12px",padding:o?"1.5rem":"2rem",width:"100%",maxWidth:"500px",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 20px 40px rgba(0,0,0,0.2)"},children:[S.jsx("h2",{style:{margin:"0 0 1.5rem 0",fontSize:o?"1.25rem":"1.5rem",color:"#1e293b"},children:p?" Kategori Dzenle":" Kategori Ekle"}),S.jsxs("form",{onSubmit:M,children:[S.jsx(Fs,{label:"Kategori Ad",type:"text",value:x.name,onChange:G=>A({...x,name:G.target.value}),placeholder:"rn: Kahveler, ecekler",required:!0,error:y&&!x.name.trim()?y:null,style:{marginBottom:"1.25rem"}}),S.jsx(Fs,{label:"Sra (Order Index)",type:"number",value:x.order_index,onChange:G=>A({...x,order_index:parseInt(G.target.value)||0}),placeholder:"0",required:!0,style:{marginBottom:"1.25rem"}}),y&&S.jsx("div",{style:{padding:"0.75rem",background:"#fee",border:"1px solid #fcc",borderRadius:"6px",color:"#c33",marginBottom:"1rem",fontSize:"0.875rem"},children:y}),S.jsxs("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end"},children:[S.jsx(jr,{type:"button",variant:"secondary",onClick:O,style:{fontSize:o?"0.9375rem":"1rem"},children:"ptal"}),S.jsx(jr,{type:"submit",variant:"primary",style:{fontSize:o?"0.9375rem":"1rem"},children:p?" Kaydet":" Ekle"})]})]})]})})]})})}function N_(){const{business:r}=No(),[e,n]=te.useState([]),[a,l]=te.useState([]),[o,f]=te.useState(!0),[c,h]=te.useState(!1),[p,v]=te.useState(!1),[x,A]=te.useState(null),[y,L]=te.useState({name:"",price:"",description:"",category_id:"",image:null,imagePreview:null}),[E,j]=te.useState(!1),[O,M]=te.useState("");te.useEffect(()=>{const C=()=>{h(window.innerWidth<768)};return C(),window.addEventListener("resize",C),()=>window.removeEventListener("resize",C)},[]),te.useEffect(()=>{r?.id&&(F(),G())},[r]);const F=async()=>{try{const{data:C,error:q}=await tt.from("categories").select("*").eq("business_id",r.id).order("order_index",{ascending:!0});if(q)throw q;l(C||[])}catch(C){console.error("Categories fetch error:",C)}},G=async()=>{try{f(!0);const{data:C,error:q}=await tt.from("products").select("*, categories(name)").eq("business_id",r.id).order("created_at",{ascending:!1});if(q)throw q;n(C||[])}catch(C){console.error("Products fetch error:",C),alert("rnler yklenirken hata olutu: "+C.message)}finally{f(!1)}},se=(C=null)=>{C?(A(C),L({name:C.name||"",price:C.price||"",description:C.description||"",category_id:C.category_id||"",image:null,imagePreview:C.image_url||null})):(A(null),L({name:"",price:"",description:"",category_id:a[0]?.id||"",image:null,imagePreview:null})),v(!0),M("")},me=()=>{v(!1),A(null),L({name:"",price:"",description:"",category_id:"",image:null,imagePreview:null}),M("")},Q=C=>{const q=C.target.files[0];if(q){if(q.size>2*1024*1024){M("Grsel boyutu 2MB'dan kk olmaldr");return}if(!q.type.startsWith("image/")){M("Ltfen bir grsel dosyas sein");return}L({...y,image:q,imagePreview:URL.createObjectURL(q)}),M("")}},ee=async C=>{if(!y.image)return null;try{const q=y.image.name.split(".").pop(),re=`${C}.${q}`,ie=`${r.id}/products/${re}`,{error:we}=await tt.storage.from("product-images").upload(ie,y.image,{cacheControl:"3600",upsert:!0});if(we)throw we;const{data:{publicUrl:Y}}=tt.storage.from("product-images").getPublicUrl(ie);return Y}catch(q){throw console.error("Image upload error:",q),new Error("Grsel yklenirken hata olutu: "+q.message)}},$=async C=>{if(C.preventDefault(),M(""),j(!0),!y.name.trim()){M("rn ad gerekli"),j(!1);return}if(!y.price||parseFloat(y.price)<=0){M("Geerli bir fiyat girin"),j(!1);return}try{let q=y.imagePreview;if(x){y.image&&(q=await ee(x.id));const{error:re}=await tt.from("products").update({name:y.name.trim(),price:parseFloat(y.price),description:y.description.trim()||null,category_id:y.category_id||null,image_url:q||null}).eq("id",x.id);if(re)throw re}else{const{data:re,error:ie}=await tt.from("products").insert({business_id:r.id,name:y.name.trim(),price:parseFloat(y.price),description:y.description.trim()||null,category_id:y.category_id||null,is_active:!0}).select().single();if(ie)throw ie;if(y.image&&re){q=await ee(re.id);const{error:we}=await tt.from("products").update({image_url:q}).eq("id",re.id);if(we)throw we}}me(),G()}catch(q){M(q.message||"Bir hata olutu"),console.error("Product save error:",q)}finally{j(!1)}},he=async C=>{if(confirm("Bu rn silmek istediinize emin misiniz?"))try{const{error:q}=await tt.from("products").delete().eq("id",C);if(q)throw q;G()}catch(q){alert("rn silinirken hata olutu: "+q.message),console.error("Product delete error:",q)}};return o&&e.length===0?S.jsx(pa,{children:S.jsx(Da,{message:"rnler ykleniyor..."})}):S.jsx(pa,{children:S.jsxs("div",{children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:c?"1.5rem":"2rem",flexWrap:"wrap",gap:"1rem"},children:[S.jsx("h1",{style:{margin:0,fontSize:c?"1.5rem":"2rem",color:"#1e293b"},children:" rnler"}),S.jsx(jr,{onClick:()=>se(),variant:"primary",disabled:a.length===0,style:{fontSize:c?"0.9375rem":"1rem",padding:c?"0.75rem 1.25rem":"0.875rem 1.5rem"},children:" rn Ekle"})]}),a.length===0&&S.jsxs("div",{style:{background:"#fef3c7",border:"1px solid #fbbf24",borderRadius:"8px",padding:"1rem",marginBottom:"1.5rem",color:"#92400e"},children:[S.jsx("strong",{children:" Uyar:"})," nce kategori eklemeniz gerekiyor. rn eklemek iin"," ",S.jsx("a",{href:"/admin/categories",style:{color:"#92400e",textDecoration:"underline"},children:"Kategoriler"})," ","sayfasna gidin."]}),e.length===0?S.jsxs("div",{style:{background:"white",padding:c?"2rem 1rem":"3rem 2rem",borderRadius:"12px",textAlign:"center",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[S.jsx("p",{style:{fontSize:c?"1.125rem":"1.25rem",color:"#64748b",marginBottom:"1rem"},children:"Henz rn eklenmemi"}),S.jsx(jr,{onClick:()=>se(),variant:"primary",disabled:a.length===0,children:" lk rn Ekle"})]}):S.jsx("div",{style:{display:"grid",gridTemplateColumns:c?"1fr":"repeat(auto-fill, minmax(280px, 1fr))",gap:c?"1rem":"1.5rem"},children:e.map(C=>S.jsxs("div",{style:{background:"white",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",border:"1px solid #e2e8f0",overflow:"hidden",transition:"all 0.2s"},onMouseEnter:q=>{c||(q.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.15)",q.currentTarget.style.transform="translateY(-2px)")},onMouseLeave:q=>{q.currentTarget.style.boxShadow="0 1px 3px rgba(0,0,0,0.1)",q.currentTarget.style.transform="translateY(0)"},children:[C.image_url&&S.jsx("div",{style:{width:"100%",height:"200px",background:"#f5f5f5",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center"},children:S.jsx("img",{src:C.image_url,alt:C.name,style:{width:"100%",height:"100%",objectFit:"cover"},onError:q=>{q.target.style.display="none"}})}),S.jsxs("div",{style:{padding:c?"1rem":"1.25rem"},children:[S.jsxs("div",{style:{marginBottom:"0.75rem"},children:[S.jsx("h3",{style:{margin:"0 0 0.5rem 0",fontSize:c?"1.125rem":"1.25rem",color:"#1e293b",fontWeight:"600",lineHeight:"1.4"},children:C.name}),C.categories&&S.jsxs("p",{style:{margin:0,fontSize:"0.875rem",color:"#64748b"},children:[" ",C.categories.name]})]}),S.jsx("p",{style:{margin:"0 0 1rem 0",fontSize:c?"1.125rem":"1.25rem",fontWeight:"bold",color:"#3b82f6"},children:tu(C.price)}),C.description&&S.jsx("p",{style:{margin:"0 0 1rem 0",fontSize:"0.875rem",color:"#64748b",lineHeight:"1.5",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:C.description}),S.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[S.jsx(jr,{onClick:()=>se(C),variant:"secondary",style:{flex:1,minWidth:"100px",fontSize:c?"0.875rem":"0.9375rem",padding:c?"0.625rem":"0.75rem"},children:" Dzenle"}),S.jsx(jr,{onClick:()=>he(C.id),variant:"danger",style:{flex:1,minWidth:"100px",fontSize:c?"0.875rem":"0.9375rem",padding:c?"0.625rem":"0.75rem"},children:" Sil"})]})]})]},C.id))}),p&&S.jsx("div",{onClick:me,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",padding:c?"1rem":"2rem"},children:S.jsxs("div",{onClick:C=>C.stopPropagation(),style:{background:"white",borderRadius:"12px",padding:c?"1.5rem":"2rem",width:"100%",maxWidth:"600px",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 20px 40px rgba(0,0,0,0.2)"},children:[S.jsx("h2",{style:{margin:"0 0 1.5rem 0",fontSize:c?"1.25rem":"1.5rem",color:"#1e293b"},children:x?" rn Dzenle":" rn Ekle"}),S.jsxs("form",{onSubmit:$,children:[S.jsx(Fs,{label:"rn Ad",type:"text",value:y.name,onChange:C=>L({...y,name:C.target.value}),placeholder:"rn: Trk Kahvesi",required:!0,style:{marginBottom:"1.25rem"}}),S.jsxs("div",{style:{marginBottom:"1.25rem"},children:[S.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#333"},children:["Kategori ",S.jsx("span",{style:{color:"red"},children:"*"})]}),S.jsxs("select",{value:y.category_id,onChange:C=>L({...y,category_id:C.target.value}),required:!0,style:{width:"100%",padding:"0.75rem",fontSize:"1rem",border:"1px solid #ddd",borderRadius:"6px",boxSizing:"border-box",fontFamily:"inherit",background:"white"},children:[S.jsx("option",{value:"",children:"Kategori Sein"}),a.map(C=>S.jsx("option",{value:C.id,children:C.name},C.id))]})]}),S.jsx(Fs,{label:"Fiyat ()",type:"number",step:"0.01",min:"0",value:y.price,onChange:C=>L({...y,price:C.target.value}),placeholder:"0.00",required:!0,style:{marginBottom:"1.25rem"}}),S.jsxs("div",{style:{marginBottom:"1.25rem"},children:[S.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#333"},children:"Aklama (Opsiyonel)"}),S.jsx("textarea",{value:y.description,onChange:C=>L({...y,description:C.target.value}),placeholder:"Ksa aklama (mende gsterilir)",rows:"3",style:{width:"100%",padding:"0.75rem",fontSize:"1rem",border:"1px solid #ddd",borderRadius:"6px",boxSizing:"border-box",fontFamily:"inherit",resize:"vertical"}})]}),S.jsxs("div",{style:{marginBottom:"1.25rem"},children:[S.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#333"},children:["Grsel ",!x&&"(Opsiyonel)"]}),S.jsx("input",{type:"file",accept:"image/*",onChange:Q,style:{width:"100%",padding:"0.5rem",fontSize:"0.9375rem",border:"1px solid #ddd",borderRadius:"6px",boxSizing:"border-box"}}),y.imagePreview&&S.jsx("div",{style:{marginTop:"0.75rem",width:"100%",maxWidth:"200px",borderRadius:"8px",overflow:"hidden",border:"1px solid #e2e8f0"},children:S.jsx("img",{src:y.imagePreview,alt:"nizleme",style:{width:"100%",height:"auto",display:"block"}})}),S.jsx("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.8125rem",color:"#64748b"},children:"Maksimum 2MB, JPG, PNG veya WebP formatnda"})]}),O&&S.jsx("div",{style:{padding:"0.75rem",background:"#fee",border:"1px solid #fcc",borderRadius:"6px",color:"#c33",marginBottom:"1rem",fontSize:"0.875rem"},children:O}),S.jsxs("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end"},children:[S.jsx(jr,{type:"button",variant:"secondary",onClick:me,disabled:E,style:{fontSize:c?"0.9375rem":"1rem"},children:"ptal"}),S.jsx(jr,{type:"submit",variant:"primary",disabled:E,style:{fontSize:c?"0.9375rem":"1rem"},children:E?" Kaydediliyor...":x?" Kaydet":" Ekle"})]})]})]})})]})})}function L_(){const{business:r}=No(),[e,n]=te.useState(!0),[a,l]=te.useState(!1),[o,f]=te.useState(!1),[c,h]=te.useState({name:"",phone:"",email:"",slug:""}),[p,v]=te.useState(null),[x,A]=te.useState(null),[y,L]=te.useState(!1),[E,j]=te.useState(""),[O,M]=te.useState("");te.useEffect(()=>{const Y=()=>{f(window.innerWidth<768)};return Y(),window.addEventListener("resize",Y),()=>window.removeEventListener("resize",Y)},[]),te.useEffect(()=>{r&&(h({name:r.name||"",phone:r.phone||"",email:r.email||"",slug:r.slug||""}),r.logo_url&&A(r.logo_url),n(!1))},[r]);const F=Y=>{const le=Y.target.files?.[0];if(le){if(le.size>2*1024*1024){j("Logo boyutu 2MB'dan kk olmaldr");return}if(!le.type.startsWith("image/")){j("Ltfen bir grsel dosyas sein");return}v(le),A(URL.createObjectURL(le)),j("")}},G=async()=>{if(!p||!r)return null;try{const le=`logo.${p.name.split(".").pop()}`,ue=`${r.id}/${le}`,{error:Se}=await tt.storage.from("product-images").upload(ue,p,{cacheControl:"3600",upsert:!0});if(Se)throw Se;const{data:{publicUrl:ze}}=tt.storage.from("product-images").getPublicUrl(ue);return ze}catch(Y){throw console.error("Logo upload error:",Y),new Error("Logo yklenirken hata olutu: "+Y.message)}},se=async()=>{if(r?.logo_url)try{if(l(!0),j(""),M(""),r.logo_url){const le=r.logo_url.split("/"),ue=le[le.length-1],Se=`${r.id}/${ue}`,{error:ze}=await tt.storage.from("product-images").remove([Se]);ze&&console.warn("Logo storage silme hatas (devam ediliyor):",ze)}const{error:Y}=await tt.from("businesses").update({logo_url:null}).eq("id",r.id);if(Y)throw Y;M("Logo baaryla silindi!"),A(null),v(null),setTimeout(()=>{window.location.reload()},1e3)}catch(Y){j(Y.message||"Logo silinirken hata olutu"),console.error("Logo delete error:",Y)}finally{l(!1)}},me=async Y=>{if(Y.preventDefault(),j(""),M(""),l(!0),L(!1),!c.name.trim()){j("letme ad gerekli"),l(!1);return}if(!c.slug.trim()){j("URL slug gerekli"),l(!1);return}if(!/^[a-z0-9-]+$/.test(c.slug.trim())){j("URL slug sadece kk harf, say ve tire ierebilir"),l(!1);return}try{let ue=r?.logo_url||null;if(p){if(L(!0),r?.logo_url)try{const W=r.logo_url.split("/"),k=W[W.length-1],P=`${r.id}/${k}`;await tt.storage.from("product-images").remove([P])}catch(W){console.warn("Eski logo silme hatas (devam ediliyor):",W)}ue=await G(),L(!1)}const Se={name:c.name.trim(),phone:c.phone.trim()||null,email:c.email.trim()||null,slug:c.slug.trim().toLowerCase()};ue&&(Se.logo_url=ue);const{error:ze}=await tt.from("businesses").update(Se).eq("id",r.id);if(ze)throw ze;M("Ayarlar baaryla kaydedildi!"),v(null),window.location.reload()}catch(ue){j(ue.message||"Ayarlar kaydedilirken hata olutu"),console.error("Settings save error:",ue),L(!1)}finally{l(!1)}},Q=()=>r?.slug?`https://www.osman25dem2.workers.dev/${r.slug}`:null,ee=()=>r?.slug?`https://qr-menum.github.io/${r.slug}`:null,$=Q(),he=ee();te.useEffect(()=>{if(r?.id&&r?.slug&&(r.qr_url!==$||r.main_url!==he)){const Y={};$&&r.qr_url!==$&&(Y.qr_url=$),he&&r.main_url!==he&&(Y.main_url=he),Object.keys(Y).length>0&&tt.from("businesses").update(Y).eq("id",r.id).then(({error:le})=>{le?console.error("URL kaydetme hatas:",le):console.log("URL'ler gncellendi:",Y)})}},[r?.id,r?.slug,$,he]);const C=$?`https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=${encodeURIComponent($)}`:null,q=()=>{he&&(navigator.clipboard.writeText(he),M(" Link kopyaland!"),setTimeout(()=>M(""),3e3))},re=()=>{$&&(navigator.clipboard.writeText($),M(" QR URL kopyaland!"),setTimeout(()=>M(""),3e3))},ie=()=>{he&&(navigator.clipboard.writeText(he),M(" Ana URL kopyaland!"),setTimeout(()=>M(""),3e3))},we=()=>{if(C){const Y=document.createElement("a");Y.href=C,Y.download=`qr-menu-${r?.slug||"menu"}.png`,document.body.appendChild(Y),Y.click(),document.body.removeChild(Y)}};return e?S.jsx(pa,{children:S.jsx(Da,{message:"Ayarlar ykleniyor..."})}):S.jsx(pa,{children:S.jsxs("div",{children:[S.jsx("h1",{style:{margin:0,marginBottom:o?"1.5rem":"2rem",fontSize:o?"1.5rem":"2rem",color:"#1e293b"},children:" Ayarlar"}),S.jsxs("div",{style:{display:"grid",gridTemplateColumns:o?"1fr":"2fr 1fr",gap:o?"1.5rem":"2rem"},children:[S.jsx("div",{children:S.jsxs("div",{style:{background:"white",padding:o?"1.5rem":"2rem",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",marginBottom:o?"1.5rem":"2rem"},children:[S.jsx("h2",{style:{margin:"0 0 1.5rem 0",fontSize:o?"1.25rem":"1.5rem",color:"#1e293b"},children:" letme Bilgileri"}),S.jsxs("form",{onSubmit:me,children:[S.jsx(Fs,{label:"letme Ad",type:"text",value:c.name,onChange:Y=>h({...c,name:Y.target.value}),placeholder:"rn: Can Erzurum",required:!0,style:{marginBottom:"1.25rem"}}),S.jsx(Fs,{label:"Telefon",type:"tel",value:c.phone,onChange:Y=>h({...c,phone:Y.target.value}),placeholder:"0442 123 45 67",style:{marginBottom:"1.25rem"}}),S.jsx(Fs,{label:"E-posta",type:"email",value:c.email,onChange:Y=>h({...c,email:Y.target.value}),placeholder:"info@isletme.com",style:{marginBottom:"1.25rem"}}),S.jsx(Fs,{label:"URL Slug",type:"text",value:c.slug,onChange:Y=>h({...c,slug:Y.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"")}),placeholder:"can-erzurum",required:!0,style:{marginBottom:"1.25rem"}}),S.jsxs("p",{style:{margin:"-1rem 0 1.25rem 0",fontSize:"0.8125rem",color:"#64748b"},children:["Men URL'i: /menu/",c.slug||"slug"]}),S.jsxs("div",{style:{marginBottom:"1.25rem"},children:[S.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#333",fontSize:"0.9375rem"},children:" letme Logosu"}),x&&S.jsxs("div",{style:{marginBottom:"1rem",display:"flex",alignItems:"center",gap:"1rem",flexWrap:"wrap"},children:[S.jsx("img",{src:x,alt:"Logo Preview",style:{maxWidth:"120px",maxHeight:"120px",width:"auto",height:"auto",objectFit:"contain",display:"block"}}),S.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[p&&S.jsx("button",{type:"button",onClick:()=>{v(null),A(r?.logo_url||null)},style:{padding:"0.5rem 1rem",background:"#fee",border:"1px solid #fcc",borderRadius:"6px",color:"#c33",cursor:"pointer",fontSize:"0.875rem"},children:" ptal"}),!p&&r?.logo_url&&S.jsx("button",{type:"button",onClick:se,disabled:a,style:{padding:"0.5rem 1rem",background:"#fee",border:"1px solid #fcc",borderRadius:"6px",color:"#c33",cursor:a?"not-allowed":"pointer",fontSize:"0.875rem",opacity:a?.6:1},children:" Logoyu Sil"})]})]}),S.jsxs("label",{style:{display:"inline-block",padding:"0.75rem 1.5rem",background:"#f8fafc",border:"2px dashed #cbd5e1",borderRadius:"8px",cursor:"pointer",fontSize:"0.9375rem",color:"#475569",transition:"all 0.2s",textAlign:"center",width:"100%"},onMouseEnter:Y=>{Y.currentTarget.style.background="#f1f5f9",Y.currentTarget.style.borderColor="#94a3b8"},onMouseLeave:Y=>{Y.currentTarget.style.background="#f8fafc",Y.currentTarget.style.borderColor="#cbd5e1"},children:[x?" Logoyu Deitir":" Logo Ykle",S.jsx("input",{type:"file",accept:"image/*",onChange:F,style:{display:"none"}})]}),S.jsx("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.8125rem",color:"#64748b"},children:"Maksimum 2MB, PNG, JPG veya WebP formatnda"})]}),S.jsxs("div",{style:{marginBottom:"1.25rem"},children:[S.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#333",fontSize:"0.9375rem"},children:"QR URL (Kalc Domain)"}),S.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"stretch"},children:[S.jsx("input",{type:"text",value:$,readOnly:!0,style:{flex:1,padding:"0.75rem",border:"1px solid #e2e8f0",borderRadius:"6px",fontSize:"0.875rem",fontFamily:"monospace",background:"#f8fafc",wordBreak:"break-all",cursor:"not-allowed"}}),S.jsx(jr,{onClick:re,variant:"primary",style:{padding:"0.75rem 1rem",fontSize:"0.875rem",whiteSpace:"nowrap"},children:""})]}),S.jsx("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.8125rem",color:"#64748b"},children:"QR kod iin kullanlacak kalc domain (sistemden otomatik gelir)"})]}),S.jsxs("div",{style:{marginBottom:"1.25rem"},children:[S.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#333",fontSize:"0.9375rem"},children:"Ana URL"}),S.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"stretch"},children:[S.jsx("input",{type:"text",value:he,readOnly:!0,style:{flex:1,padding:"0.75rem",border:"1px solid #e2e8f0",borderRadius:"6px",fontSize:"0.875rem",fontFamily:"monospace",background:"#f8fafc",wordBreak:"break-all",cursor:"not-allowed"}}),S.jsx(jr,{onClick:ie,variant:"primary",style:{padding:"0.75rem 1rem",fontSize:"0.875rem",whiteSpace:"nowrap"},children:""})]}),S.jsx("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.8125rem",color:"#64748b"},children:"QR URL'den ynlendirilecek ana domain (sistemden otomatik gelir)"})]}),E&&S.jsx("div",{style:{padding:"0.75rem",background:"#fee",border:"1px solid #fcc",borderRadius:"6px",color:"#c33",marginBottom:"1rem",fontSize:"0.875rem"},children:E}),O&&S.jsx("div",{style:{padding:"0.75rem",background:"#d4edda",border:"1px solid #c3e6cb",borderRadius:"6px",color:"#155724",marginBottom:"1rem",fontSize:"0.875rem"},children:O}),S.jsx(jr,{type:"submit",variant:"primary",disabled:a||y,style:{fontSize:o?"0.9375rem":"1rem",padding:o?"0.75rem 1.5rem":"0.875rem 2rem"},children:y?" Logo ykleniyor...":a?" Kaydediliyor...":" Kaydet"})]})]})}),S.jsx("div",{children:S.jsxs("div",{style:{background:"white",padding:o?"1.5rem":"2rem",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",position:o?"relative":"sticky",top:o?"auto":"2rem"},children:[S.jsx("h2",{style:{margin:"0 0 1.5rem 0",fontSize:o?"1.25rem":"1.5rem",color:"#1e293b"},children:" QR Kod"}),$&&C?S.jsxs(S.Fragment,{children:[S.jsx("div",{style:{background:"#f8fafc",padding:"1.5rem",borderRadius:"12px",textAlign:"center",marginBottom:"1.5rem",border:"2px dashed #e2e8f0"},children:C&&S.jsx("img",{src:C,alt:"QR Code",style:{width:"100%",maxWidth:"250px",height:"auto",margin:"0 auto",display:"block"}})}),he&&S.jsxs("div",{style:{marginBottom:"1.5rem"},children:[S.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#333",fontSize:"0.9375rem"},children:"Men Linki"}),S.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"stretch"},children:[S.jsx("input",{type:"text",value:he,readOnly:!0,style:{flex:1,padding:"0.75rem",border:"1px solid #e2e8f0",borderRadius:"6px",fontSize:"0.875rem",fontFamily:"monospace",background:"#f8fafc",wordBreak:"break-all"}}),S.jsx(jr,{onClick:q,variant:"primary",style:{padding:"0.75rem 1rem",fontSize:"0.875rem",whiteSpace:"nowrap"},children:""})]})]}),S.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[S.jsx(jr,{onClick:we,variant:"secondary",style:{width:"100%",fontSize:o?"0.9375rem":"1rem"},children:" QR Kodu ndir"}),he&&S.jsx("a",{href:he,target:"_blank",rel:"noopener noreferrer",style:{display:"block",width:"100%",textDecoration:"none"},children:S.jsx(jr,{variant:"primary",style:{width:"100%",fontSize:o?"0.9375rem":"1rem"},children:" Meny Grntle"})})]}),S.jsxs("div",{style:{marginTop:"1.5rem",padding:"1rem",background:"#e7f3ff",borderRadius:"8px",fontSize:"0.875rem",color:"#1e40af",lineHeight:"1.6"},children:[S.jsx("strong",{children:" pucu:"})," Bu QR kodu masalara yerletirebilirsiniz. Mteriler QR kodu okutarak menye eriebilir."]})]}):S.jsx("div",{style:{padding:"2rem",textAlign:"center",color:"#64748b"},children:S.jsx("p",{children:"QR URL ayarlanmad. Ltfen sol taraftan QR URL'i kaydedin."})})]})})]})]})})}function j_(){const{business:r}=No(),[e,n]=te.useState("new"),[a,l]=te.useState(!1),[o,f]=te.useState(""),[c,h]=te.useState([]),[p,v]=te.useState(!1),[x,A]=te.useState(!0),[y,L]=te.useState(null);te.useEffect(()=>{if(!r?.id){v(!1),A(!1);return}if(!x)return;(async()=>{try{v(!0),console.log(" Fetching ALL orders from Supabase...");const{data:ee,error:$}=await tt.from("orders").select(`
            *,
            order_items (
              id,
              product_name,
              product_price,
              quantity,
              notes,
              subtotal
            )
          `).eq("business_id",r.id).order("created_at",{ascending:!1});if($)throw $;console.log(" ALL Orders fetched from Supabase:",ee?.length||0,"orders"),h(ee||[]),L(null)}catch(ee){console.error(" Fetch ALL orders error:",ee),h([]),L(ee.message)}finally{v(!1),A(!1)}})()},[r?.id,x]),te.useEffect(()=>{if(!r?.id)return;const Q=tt.channel(`orders-all:${r.id}`).on("postgres_changes",{event:"*",schema:"public",table:"orders",filter:`business_id=eq.${r.id}`},async ee=>{if(console.log(" Order changed (Realtime):",ee.eventType,ee.new?.id||ee.old?.id),ee.eventType==="INSERT"){const{data:$,error:he}=await tt.from("orders").select(`
                *,
                order_items (
                  id,
                  product_name,
                  product_price,
                  quantity,
                  notes,
                  subtotal
                )
              `).eq("id",ee.new.id).single();$&&!he&&h(C=>C.find(re=>re.id===$.id)?C.map(re=>re.id===$.id?$:re):[$,...C])}else if(ee.eventType==="UPDATE"){const{data:$,error:he}=await tt.from("orders").select(`
                *,
                order_items (
                  id,
                  product_name,
                  product_price,
                  quantity,
                  notes,
                  subtotal
                )
              `).eq("id",ee.new.id).single();$&&!he&&h(C=>C.find(re=>re.id===$.id)?C.map(re=>re.id===$.id?$:re):[$,...C])}else ee.eventType==="DELETE"&&h($=>$.filter(he=>he.id!==ee.old.id))}).subscribe();return()=>{tt.removeChannel(Q)}},[r?.id]),te.useEffect(()=>{const Q=()=>{l(window.innerWidth<768)};return Q(),window.addEventListener("resize",Q),()=>window.removeEventListener("resize",Q)},[]);const E=(Q=new Date)=>new Date(Q.toLocaleString("en-US",{timeZone:"Europe/Istanbul"}));te.useEffect(()=>{const Q=()=>{const $=E();f($.toLocaleString("tr-TR",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}))};Q();const ee=setInterval(Q,1e3);return()=>clearInterval(ee)},[]);const j=async(Q,ee)=>{try{let $=null;if(ee==="accept"?$="preparing":ee==="ready"?$="delivering":ee==="delivered"?$="completed":ee==="cancel"&&($="cancelled"),!$)return;const he={status:$,updated_at:new Date().toISOString()};$==="completed"&&(he.completed_at=new Date().toISOString(),he.payment_status="pending");const{error:C}=await tt.from("orders").update(he).eq("id",Q);if(C)throw C;$==="delivering"&&setTimeout(async()=>{const{data:q}=await tt.from("orders").select("status").eq("id",Q).single();q&&q.status==="delivering"&&await tt.from("orders").update({status:"completed",completed_at:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",Q)},180*1e3)}catch($){console.error("Order status update error:",$),alert(" Sipari durumu gncellenirken hata olutu!")}},O=Q=>({pending:"#f59e0b",preparing:"#8b5cf6",delivering:"#3b82f6",completed:"#10b981",cancelled:"#ef4444"})[Q]||"#64748b",M=Q=>({pending:"Beklemede",preparing:"Hazrlanyor",delivering:"Sipari Geliyor",completed:"Tamamland",cancelled:"ptal Edildi"})[Q]||Q,F=Q=>{const ee=[];return Q.status==="pending"?ee.push({label:"Kabul Et",action:"accept",color:"#10b981",icon:""},{label:"ptal Et",action:"cancel",color:"#ef4444",icon:""}):Q.status==="preparing"?ee.push({label:"Sipari Hazr",action:"ready",color:"#10b981",icon:""},{label:"ptal Et",action:"cancel",color:"#ef4444",icon:""}):Q.status==="delivering"?ee.push({label:"Sipari Tamamland",action:"delivered",color:"#10b981",icon:""}):Q.status==="completed"||Q.status,ee},G=Q=>{const ee=new Date(Q),$=new Date(ee.toLocaleString("en-US",{timeZone:"Europe/Istanbul"})),he=String($.getDate()).padStart(2,"0"),C=String($.getMonth()+1).padStart(2,"0"),q=$.getFullYear(),re=String($.getHours()).padStart(2,"0"),ie=String($.getMinutes()).padStart(2,"0");return`${he}/${C}/${q} ${re}.${ie}`},se=e==="new"?c.filter(Q=>Q.status==="pending"||Q.status==="preparing"||Q.status==="delivering"):e==="preparing"?c.filter(Q=>Q.status==="preparing"):e==="delivering"?c.filter(Q=>Q.status==="delivering"):e==="completed"?c.filter(Q=>Q.status==="completed"):e==="cancelled"?c.filter(Q=>Q.status==="cancelled"):[];if(y&&x)return S.jsx(pa,{children:S.jsx("div",{style:{background:"white",padding:"2rem",borderRadius:"8px",textAlign:"center",color:"#ef4444"},children:S.jsxs("p",{children:[" Hata: ",y]})})});const me={new:c.filter(Q=>Q.status==="pending"||Q.status==="preparing"||Q.status==="delivering").length,preparing:c.filter(Q=>Q.status==="preparing").length,delivering:c.filter(Q=>Q.status==="delivering").length,completed:c.filter(Q=>Q.status==="completed").length,cancelled:c.filter(Q=>Q.status==="cancelled").length};return S.jsx(pa,{children:S.jsxs("div",{children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:a?"1.5rem":"2rem",flexWrap:"wrap",gap:"1rem"},children:[S.jsx("h1",{style:{margin:0,fontSize:a?"1.5rem":"2rem",color:"#1e293b"},children:" Sipariler"}),o&&S.jsxs("div",{style:{padding:"0.5rem 1rem",background:"linear-gradient(135deg, #0f172a 0%, #1e293b 100%)",borderRadius:"8px",color:"white",fontSize:a?"0.75rem":"0.875rem",fontWeight:"500",boxShadow:"0 2px 4px rgba(15, 23, 42, 0.3)",border:"1px solid #334155"},children:[" ",o]})]}),S.jsxs("div",{style:{display:"grid",gridTemplateColumns:a?"repeat(2, 1fr)":"repeat(auto-fit, minmax(150px, 1fr))",gap:a?"1rem":"1.5rem",marginBottom:a?"1.5rem":"2rem"},children:[S.jsx(lf,{title:"Sipariler",value:me.new,color:"#f59e0b",isMobile:a}),S.jsx(lf,{title:"Hazrlanyor",value:me.preparing,color:"#8b5cf6",isMobile:a}),S.jsx(lf,{title:"Sipari Geliyor",value:me.delivering,color:"#3b82f6",isMobile:a}),S.jsx(lf,{title:"Tamamland",value:me.completed,color:"#10b981",isMobile:a}),S.jsx(lf,{title:"ptal Edildi",value:me.cancelled,color:"#ef4444",isMobile:a})]}),S.jsxs("div",{style:{background:"white",padding:a?"0.75rem":"1rem",borderRadius:"8px",marginBottom:a?"1.5rem":"2rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[S.jsxs("button",{onClick:()=>n("new"),style:{padding:a?"0.625rem 1rem":"0.75rem 1.5rem",background:e==="new"?"#f59e0b":"#f1f5f9",color:e==="new"?"white":"#1e293b",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:a?"0.875rem":"0.9375rem",fontWeight:"600",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"0.5rem"},children:[" Sipariler",me.new>0&&S.jsx("span",{style:{background:e==="new"?"rgba(255,255,255,0.3)":"#f59e0b",color:"white",padding:"0.125rem 0.5rem",borderRadius:"12px",fontSize:"0.75rem",fontWeight:"600"},children:me.new})]}),S.jsxs("button",{onClick:()=>n("preparing"),style:{padding:a?"0.625rem 1rem":"0.75rem 1.5rem",background:e==="preparing"?"#8b5cf6":"#f1f5f9",color:e==="preparing"?"white":"#1e293b",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:a?"0.875rem":"0.9375rem",fontWeight:"600",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"0.5rem"},children:[" Hazrlanyor",me.preparing>0&&S.jsx("span",{style:{background:e==="preparing"?"rgba(255,255,255,0.3)":"#8b5cf6",color:"white",padding:"0.125rem 0.5rem",borderRadius:"12px",fontSize:"0.75rem",fontWeight:"600"},children:me.preparing})]}),S.jsxs("button",{onClick:()=>n("delivering"),style:{padding:a?"0.625rem 1rem":"0.75rem 1.5rem",background:e==="delivering"?"#3b82f6":"#f1f5f9",color:e==="delivering"?"white":"#1e293b",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:a?"0.875rem":"0.9375rem",fontWeight:"600",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"0.5rem"},children:[" Sipari Geliyor",me.delivering>0&&S.jsx("span",{style:{background:e==="delivering"?"rgba(255,255,255,0.3)":"#3b82f6",color:"white",padding:"0.125rem 0.5rem",borderRadius:"12px",fontSize:"0.75rem",fontWeight:"600"},children:me.delivering})]}),S.jsxs("button",{onClick:()=>n("completed"),style:{padding:a?"0.625rem 1rem":"0.75rem 1.5rem",background:e==="completed"?"#10b981":"#f1f5f9",color:e==="completed"?"white":"#1e293b",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:a?"0.875rem":"0.9375rem",fontWeight:"600",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"0.5rem"},children:[" Tamamland",me.completed>0&&S.jsx("span",{style:{background:e==="completed"?"rgba(255,255,255,0.3)":"#10b981",color:"white",padding:"0.125rem 0.5rem",borderRadius:"12px",fontSize:"0.75rem",fontWeight:"600"},children:me.completed})]}),S.jsxs("button",{onClick:()=>n("cancelled"),style:{padding:a?"0.625rem 1rem":"0.75rem 1.5rem",background:e==="cancelled"?"#ef4444":"#f1f5f9",color:e==="cancelled"?"white":"#1e293b",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:a?"0.875rem":"0.9375rem",fontWeight:"600",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"0.5rem"},children:[" ptal Edildi",me.cancelled>0&&S.jsx("span",{style:{background:e==="cancelled"?"rgba(255,255,255,0.3)":"#ef4444",color:"white",padding:"0.125rem 0.5rem",borderRadius:"12px",fontSize:"0.75rem",fontWeight:"600"},children:me.cancelled})]})]}),p&&x?S.jsx(Da,{message:"Sipariler ykleniyor..."}):se.length===0?S.jsx("div",{style:{background:"white",padding:"3rem",borderRadius:"8px",textAlign:"center",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:S.jsxs("p",{style:{color:"#64748b",fontSize:a?"1rem":"1.125rem"},children:[e==="new"&&" Henz sipari yok",e==="preparing"&&" Henz hazrlanan sipari yok",e==="delivering"&&" Henz gelmekte olan sipari yok",e==="completed"&&" Henz tamamlanan sipari yok",e==="cancelled"&&" Henz iptal edilen sipari yok"]})}):S.jsx("div",{style:{display:"grid",gridTemplateColumns:a?"1fr":"repeat(auto-fill, minmax(350px, 1fr))",gap:a?"1rem":"1.5rem"},children:se.map(Q=>S.jsx(O_,{order:Q,isMobile:a,selectedTab:e,getStatusColor:O,getStatusLabel:M,getStatusButtons:F,updateOrderStatus:j,formatDate:G},Q.id))})]})})}function O_({order:r,isMobile:e,selectedTab:n,getStatusColor:a,getStatusLabel:l,getStatusButtons:o,updateOrderStatus:f,formatDate:c}){const h=o(r),[p,v]=te.useState(!1),x=r.order_items?.slice(0,3)||[],A=r.order_items?.slice(3)||[],y=A.length>0,L=()=>{const E=r.status;return E==="pending"?"#fffef7":E==="preparing"?"#fefaff":E==="delivering"?"#f8fbff":E==="completed"?"#f5fef7":E==="cancelled"?"#fff8f8":"white"};return S.jsxs("div",{style:{background:L(),padding:e?"1rem":"1.5rem",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",borderLeft:`4px solid ${a(r.status)}`},children:[S.jsxs("div",{style:{display:"flex",flexDirection:e?"column":"row",justifyContent:"space-between",alignItems:e?"flex-start":"center",marginBottom:"1rem",gap:e?"0.75rem":0},children:[S.jsxs("div",{style:{flex:1},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",flexWrap:"wrap"},children:[S.jsxs("h3",{style:{margin:0,fontSize:e?"1.125rem":"1.25rem",color:"#1e293b"},children:[" Sipari #",r.id.slice(0,8)]}),S.jsx("span",{style:{padding:"0.25rem 0.75rem",background:`${a(r.status)}20`,color:a(r.status),borderRadius:"6px",fontSize:e?"0.75rem":"0.875rem",fontWeight:"600"},children:l(r.status)})]}),S.jsxs("p",{style:{margin:"0.5rem 0 0 0",color:"#64748b",fontSize:e?"0.75rem":"0.875rem"},children:[" ",c(r.created_at)]}),r.table_number&&S.jsxs("div",{style:{marginTop:"0.5rem",display:"inline-block",padding:"0.25rem 0.75rem",background:"linear-gradient(135deg, #9333ea 0%, #7c3aed 100%)",color:"white",borderRadius:"6px",fontSize:e?"0.75rem":"0.8125rem",fontWeight:"600",boxShadow:"0 2px 6px rgba(147, 51, 234, 0.4)"},children:[" Masa ",r.table_number]})]}),S.jsxs("div",{style:{fontSize:e?"0.875rem":"1rem",fontWeight:"500",color:"#64748b",textAlign:"right"},children:[S.jsx("div",{style:{fontSize:e?"0.75rem":"0.8125rem",color:"#94a3b8"},children:"Toplam"}),S.jsxs("div",{style:{marginTop:"0.25rem"},children:["",parseFloat(r.total_amount).toFixed(2)]})]})]}),r.order_items&&r.order_items.length>0&&S.jsxs("div",{style:{marginBottom:"1rem",padding:e?"1rem":"1.25rem",background:"#f8fafc",borderRadius:"8px",border:"1px solid #e2e8f0"},children:[x.map((E,j)=>S.jsxs("div",{style:{padding:j<x.length-1||y?"0.75rem 0":"0.75rem 0 0 0",borderBottom:j<x.length-1||y?"1px solid #cbd5e1":"none"},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[S.jsxs("span",{style:{fontSize:e?"1.25rem":"1.5rem",fontWeight:"bold",color:"#1e293b",minWidth:"2rem",textAlign:"center"},children:[E.quantity,""]}),S.jsx("span",{style:{fontSize:e?"1.125rem":"1.25rem",fontWeight:"700",color:"#1e293b",flex:1},children:E.product_name})]}),S.jsxs("div",{style:{marginLeft:e?"2.5rem":"3rem",marginTop:"0.25rem"},children:[S.jsxs("span",{style:{color:"#94a3b8",fontSize:e?"0.75rem":"0.8125rem",fontWeight:"400"},children:["",parseFloat(E.product_price).toFixed(2),"  ",E.quantity," ="]}),S.jsxs("span",{style:{color:"#64748b",fontSize:e?"0.8125rem":"0.875rem",fontWeight:"500",marginLeft:"0.25rem"},children:["",parseFloat(E.subtotal).toFixed(2)]})]}),E.notes&&S.jsx("div",{style:{marginLeft:e?"2.5rem":"3rem",marginTop:"0.5rem",padding:"0.375rem 0.75rem",background:"#fef3c7",borderRadius:"4px",borderLeft:"3px solid #f59e0b"},children:S.jsxs("p",{style:{margin:0,color:"#92400e",fontSize:e?"0.75rem":"0.8125rem",fontStyle:"italic",fontWeight:"500"},children:[" ",E.notes]})})]},E.id)),y&&S.jsxs(S.Fragment,{children:[!p&&S.jsxs("div",{style:{marginTop:"0.75rem"},children:[S.jsxs("button",{onClick:()=>v(!0),className:"pulse-button",style:{width:"100%",padding:"0.375rem 0.75rem",background:"#c7d2fe",color:"#1e293b",border:"2px solid #6366f1",borderRadius:"6px",cursor:"pointer",fontSize:e?"0.75rem":"0.8125rem",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.375rem",transition:"all 0.3s ease",boxShadow:"0 1px 3px rgba(99, 102, 241, 0.2)",position:"relative",overflow:"hidden",minHeight:"1.875rem",height:"1.875rem"},onMouseEnter:E=>{E.currentTarget.style.background="#6366f1",E.currentTarget.style.color="white",E.currentTarget.style.boxShadow="0 4px 12px rgba(99, 102, 241, 0.4)",E.currentTarget.style.transform="translateY(-1px)";const j=E.currentTarget.querySelector("span:first-child"),O=E.currentTarget.querySelector("span:last-child");j&&(j.style.color="white"),O&&(O.style.color="white")},onMouseLeave:E=>{E.currentTarget.style.background="#c7d2fe",E.currentTarget.style.color="#1e293b",E.currentTarget.style.boxShadow="0 1px 3px rgba(99, 102, 241, 0.2)",E.currentTarget.style.transform="translateY(0)";const j=E.currentTarget.querySelector("span:first-child"),O=E.currentTarget.querySelector("span:last-child");j&&(j.style.color="#1e293b"),O&&(O.style.color="#1e293b")},children:[S.jsx("span",{style:{fontSize:"1.125rem",transition:"all 0.3s ease",display:"inline-block",fontWeight:"bold",animation:"arrowPulse 1.5s ease-in-out infinite",color:"#1e293b"},children:""}),S.jsx("span",{style:{color:"#1e293b",transition:"color 0.3s ease"},children:`+ ${A.length} rn daha`})]}),S.jsx("style",{children:`
                    @keyframes arrowPulse {
                      0%, 100% {
                        opacity: 1;
                        transform: translateY(0) scale(1);
                      }
                      50% {
                        opacity: 0.6;
                        transform: translateY(4px) scale(1.1);
                      }
                    }
                    .pulse-button {
                      animation: backgroundPulse 2s ease-in-out infinite;
                    }
                    @keyframes backgroundPulse {
                      0%, 100% {
                        background-color: #c7d2fe;
                        border-color: #6366f1;
                      }
                      50% {
                        background-color: #a5b4fc;
                        border-color: #818cf8;
                        box-shadow: 0 2px 8px rgba(99, 102, 241, 0.3);
                      }
                    }
                  `})]}),p&&S.jsxs("div",{style:{marginTop:"0.75rem",paddingTop:"0.75rem",borderTop:"2px solid #e2e8f0",animation:"slideDown 0.3s ease"},children:[A.map((E,j)=>S.jsxs("div",{style:{padding:j<A.length-1?"0.75rem 0":"0.75rem 0 0 0",borderBottom:j<A.length-1?"1px solid #cbd5e1":"none"},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[S.jsxs("span",{style:{fontSize:e?"1.25rem":"1.5rem",fontWeight:"bold",color:"#1e293b",minWidth:"2rem",textAlign:"center"},children:[E.quantity,""]}),S.jsx("span",{style:{fontSize:e?"1.125rem":"1.25rem",fontWeight:"700",color:"#1e293b",flex:1},children:E.product_name})]}),S.jsxs("div",{style:{marginLeft:e?"2.5rem":"3rem",marginTop:"0.25rem"},children:[S.jsxs("span",{style:{color:"#94a3b8",fontSize:e?"0.75rem":"0.8125rem",fontWeight:"400"},children:["",parseFloat(E.product_price).toFixed(2),"  ",E.quantity," ="]}),S.jsxs("span",{style:{color:"#64748b",fontSize:e?"0.8125rem":"0.875rem",fontWeight:"500",marginLeft:"0.25rem"},children:["",parseFloat(E.subtotal).toFixed(2)]})]}),E.notes&&S.jsx("div",{style:{marginLeft:e?"2.5rem":"3rem",marginTop:"0.5rem",padding:"0.375rem 0.75rem",background:"#fef3c7",borderRadius:"4px",borderLeft:"3px solid #f59e0b"},children:S.jsxs("p",{style:{margin:0,color:"#92400e",fontSize:e?"0.75rem":"0.8125rem",fontStyle:"italic",fontWeight:"500"},children:[" ",E.notes]})})]},E.id)),S.jsx("div",{style:{marginTop:"0.75rem",paddingTop:"0.75rem",borderTop:"1px solid #cbd5e1"},children:S.jsxs("button",{onClick:()=>v(!1),style:{width:"100%",padding:"0.375rem 0.75rem",background:"transparent",color:"#6366f1",border:"2px solid #6366f1",borderRadius:"6px",cursor:"pointer",fontSize:e?"0.75rem":"0.8125rem",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.375rem",transition:"all 0.3s ease",minHeight:"1.875rem",height:"1.875rem"},onMouseEnter:E=>{E.currentTarget.style.background="#6366f1",E.currentTarget.style.color="white"},onMouseLeave:E=>{E.currentTarget.style.background="transparent",E.currentTarget.style.color="#6366f1"},children:[S.jsx("span",{style:{fontSize:"0.875rem",transform:"rotate(180deg)",transition:"transform 0.2s ease",display:"inline-block"},children:""}),S.jsx("span",{children:"Daha Az Gster"})]})})]})]})]}),r.notes&&S.jsx("div",{style:{marginBottom:"1rem",padding:e?"0.75rem":"1rem",background:"#fef3c7",borderRadius:"6px",borderLeft:"3px solid #f59e0b"},children:S.jsxs("p",{style:{margin:0,color:"#92400e",fontSize:e?"0.875rem":"0.9375rem"},children:[S.jsx("strong",{children:" Not:"})," ",r.notes]})}),h.length>0&&S.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.75rem",marginTop:"1rem"},children:h.map((E,j)=>S.jsxs("button",{onClick:()=>f(r.id,E.action),style:{padding:e?"0.75rem 1.25rem":"0.875rem 1.75rem",background:E.color,color:"white",border:"none",borderRadius:"8px",fontSize:e?"0.875rem":"0.9375rem",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",boxShadow:"0 2px 8px rgba(0,0,0,0.15)",transition:"all 0.2s ease",minWidth:e?"120px":"140px",justifyContent:"center",letterSpacing:"0.01em"},onMouseEnter:O=>{O.currentTarget.style.transform="translateY(-2px)",O.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.25)",O.currentTarget.style.opacity="0.95"},onMouseLeave:O=>{O.currentTarget.style.transform="translateY(0)",O.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.15)",O.currentTarget.style.opacity="1"},onMouseDown:O=>{O.currentTarget.style.transform="translateY(0) scale(0.98)"},onMouseUp:O=>{O.currentTarget.style.transform="translateY(-2px) scale(1)"},children:[E.icon&&S.jsx("span",{style:{fontSize:"1.125rem",lineHeight:1},children:E.icon}),S.jsx("span",{children:E.label})]},`${E.action}-${j}`))})]})}function lf({title:r,value:e,color:n,isMobile:a}){return S.jsxs("div",{style:{background:"white",padding:a?"1rem":"1.5rem",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",borderTop:`3px solid ${n}`},children:[S.jsx("p",{style:{margin:0,color:"#64748b",fontSize:a?"0.75rem":"0.875rem",marginBottom:"0.5rem"},children:r}),S.jsx("p",{style:{margin:0,fontSize:a?"1.5rem":"2rem",fontWeight:"bold",color:"#1e293b"},children:e})]})}function C_(r,e={}){const[n,a]=te.useState([]),[l,o]=te.useState(!0),[f,c]=te.useState(null),{status:h=null,limit:p=null,orderBy:v="created_at",ascending:x=!1}=e;return te.useEffect(()=>{if(!r){o(!1);return}(async()=>{console.log("Fetching orders from Supabase...",{businessId:r,status:h,orderBy:v,ascending:x});try{o(!0),c(null);let L=tt.from("orders").select(`
            *,
            order_items (
              id,
              product_name,
              product_price,
              quantity,
              notes,
              subtotal
            )
          `).eq("business_id",r);h&&(L=L.eq("status",h)),L=L.order(v,{ascending:x}),p&&(L=L.limit(p));const{data:E,error:j}=await L;if(j)throw j;a(E||[])}catch(L){c(L.message),console.error("Orders fetch error:",L)}finally{o(!1)}})();const y=tt.channel(`orders:${r}`).on("postgres_changes",{event:"*",schema:"public",table:"orders",filter:`business_id=eq.${r}`},L=>{console.log("Realtime order change:",L.eventType,L),L.eventType==="INSERT"&&tt.from("orders").select(`
                *,
                order_items (
                  id,
                  product_name,
                  product_price,
                  quantity,
                  notes,
                  subtotal
                )
              `).eq("id",L.new.id).single().then(({data:E,error:j})=>{E&&!j&&a(O=>O.find(F=>F.id===E.id)?O.map(F=>F.id===E.id?E:F):[E,...O])}),L.eventType==="UPDATE"&&tt.from("orders").select(`
                *,
                order_items (
                  id,
                  product_name,
                  product_price,
                  quantity,
                  notes,
                  subtotal
                )
              `).eq("id",L.new.id).single().then(({data:E,error:j})=>{E&&!j&&a(O=>O.map(M=>M.id===E.id?E:M))}),L.eventType==="DELETE"&&(console.log("Order deleted from Supabase:",L.old.id),a(E=>{const j=E.filter(O=>O.id!==L.old.id);return console.log("Orders after delete:",j.length,"remaining"),j}))}).subscribe();return()=>{tt.removeChannel(y)}},[r,h,p,v,x]),{orders:n,loading:l,error:f}}const R_="modulepreload",D_=function(r){return"/erzurumkafe/"+r},Jg={},z0=function(e,n,a){let l=Promise.resolve();if(n&&n.length>0){let h=function(p){return Promise.all(p.map(v=>Promise.resolve(v).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),c=f?.nonce||f?.getAttribute("nonce");l=h(n.map(p=>{if(p=D_(p),p in Jg)return;Jg[p]=!0;const v=p.endsWith(".css"),x=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${x}`))return;const A=document.createElement("link");if(A.rel=v?"stylesheet":R_,v||(A.as="script"),A.crossOrigin="",A.href=p,c&&A.setAttribute("nonce",c),document.head.appendChild(A),v)return new Promise((y,L)=>{A.addEventListener("load",y),A.addEventListener("error",()=>L(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(f){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=f,window.dispatchEvent(c),!c.defaultPrevented)throw f}return l.then(f=>{for(const c of f||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})};function En(r){"@babel/helpers - typeof";return En=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},En(r)}var ms=Uint8Array,da=Uint16Array,Gp=Int32Array,Wp=new ms([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Vp=new ms([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Xg=new ms([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Y5=function(r,e){for(var n=new da(31),a=0;a<31;++a)n[a]=e+=1<<r[a-1];for(var l=new Gp(n[30]),a=1;a<30;++a)for(var o=n[a];o<n[a+1];++o)l[o]=o-n[a]<<5|a;return{b:n,r:l}},K5=Y5(Wp,2),B_=K5.b,yp=K5.r;B_[28]=258,yp[258]=28;var z_=Y5(Vp,0),Zg=z_.r,vp=new da(32768);for(var Gn=0;Gn<32768;++Gn){var ul=(Gn&43690)>>1|(Gn&21845)<<1;ul=(ul&52428)>>2|(ul&13107)<<2,ul=(ul&61680)>>4|(ul&3855)<<4,vp[Gn]=((ul&65280)>>8|(ul&255)<<8)>>1}var pf=(function(r,e,n){for(var a=r.length,l=0,o=new da(e);l<a;++l)r[l]&&++o[r[l]-1];var f=new da(e);for(l=1;l<e;++l)f[l]=f[l-1]+o[l-1]<<1;var c;if(n){c=new da(1<<e);var h=15-e;for(l=0;l<a;++l)if(r[l])for(var p=l<<4|r[l],v=e-r[l],x=f[r[l]-1]++<<v,A=x|(1<<v)-1;x<=A;++x)c[vp[x]>>h]=p}else for(c=new da(a),l=0;l<a;++l)r[l]&&(c[l]=vp[f[r[l]-1]++]>>15-r[l]);return c}),ru=new ms(288);for(var Gn=0;Gn<144;++Gn)ru[Gn]=8;for(var Gn=144;Gn<256;++Gn)ru[Gn]=9;for(var Gn=256;Gn<280;++Gn)ru[Gn]=7;for(var Gn=280;Gn<288;++Gn)ru[Gn]=8;var Yh=new ms(32);for(var Gn=0;Gn<32;++Gn)Yh[Gn]=5;var U_=pf(ru,9,0),M_=pf(Yh,5,0),J5=function(r){return(r+7)/8|0},P_=function(r,e,n){return(n==null||n>r.length)&&(n=r.length),new ms(r.subarray(e,n))},wo=function(r,e,n){n<<=e&7;var a=e/8|0;r[a]|=n,r[a+1]|=n>>8},uf=function(r,e,n){n<<=e&7;var a=e/8|0;r[a]|=n,r[a+1]|=n>>8,r[a+2]|=n>>16},U0=function(r,e){for(var n=[],a=0;a<r.length;++a)r[a]&&n.push({s:a,f:r[a]});var l=n.length,o=n.slice();if(!l)return{t:Z5,l:0};if(l==1){var f=new ms(n[0].s+1);return f[n[0].s]=1,{t:f,l:1}}n.sort(function(se,me){return se.f-me.f}),n.push({s:-1,f:25001});var c=n[0],h=n[1],p=0,v=1,x=2;for(n[0]={s:-1,f:c.f+h.f,l:c,r:h};v!=l-1;)c=n[n[p].f<n[x].f?p++:x++],h=n[p!=v&&n[p].f<n[x].f?p++:x++],n[v++]={s:-1,f:c.f+h.f,l:c,r:h};for(var A=o[0].s,a=1;a<l;++a)o[a].s>A&&(A=o[a].s);var y=new da(A+1),L=bp(n[v-1],y,0);if(L>e){var a=0,E=0,j=L-e,O=1<<j;for(o.sort(function(me,Q){return y[Q.s]-y[me.s]||me.f-Q.f});a<l;++a){var M=o[a].s;if(y[M]>e)E+=O-(1<<L-y[M]),y[M]=e;else break}for(E>>=j;E>0;){var F=o[a].s;y[F]<e?E-=1<<e-y[F]++-1:++a}for(;a>=0&&E;--a){var G=o[a].s;y[G]==e&&(--y[G],++E)}L=e}return{t:new ms(y),l:L}},bp=function(r,e,n){return r.s==-1?Math.max(bp(r.l,e,n+1),bp(r.r,e,n+1)):e[r.s]=n},Qg=function(r){for(var e=r.length;e&&!r[--e];);for(var n=new da(++e),a=0,l=r[0],o=1,f=function(h){n[a++]=h},c=1;c<=e;++c)if(r[c]==l&&c!=e)++o;else{if(!l&&o>2){for(;o>138;o-=138)f(32754);o>2&&(f(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(f(l),--o;o>6;o-=6)f(8304);o>2&&(f(o-3<<5|8208),o=0)}for(;o--;)f(l);o=1,l=r[c]}return{c:n.subarray(0,a),n:e}},cf=function(r,e){for(var n=0,a=0;a<e.length;++a)n+=r[a]*e[a];return n},X5=function(r,e,n){var a=n.length,l=J5(e+2);r[l]=a&255,r[l+1]=a>>8,r[l+2]=r[l]^255,r[l+3]=r[l+1]^255;for(var o=0;o<a;++o)r[l+o+4]=n[o];return(l+4+a)*8},e2=function(r,e,n,a,l,o,f,c,h,p,v){wo(e,v++,n),++l[256];for(var x=U0(l,15),A=x.t,y=x.l,L=U0(o,15),E=L.t,j=L.l,O=Qg(A),M=O.c,F=O.n,G=Qg(E),se=G.c,me=G.n,Q=new da(19),ee=0;ee<M.length;++ee)++Q[M[ee]&31];for(var ee=0;ee<se.length;++ee)++Q[se[ee]&31];for(var $=U0(Q,7),he=$.t,C=$.l,q=19;q>4&&!he[Xg[q-1]];--q);var re=p+5<<3,ie=cf(l,ru)+cf(o,Yh)+f,we=cf(l,A)+cf(o,E)+f+14+3*q+cf(Q,he)+2*Q[16]+3*Q[17]+7*Q[18];if(h>=0&&re<=ie&&re<=we)return X5(e,v,r.subarray(h,h+p));var Y,le,ue,Se;if(wo(e,v,1+(we<ie)),v+=2,we<ie){Y=pf(A,y,0),le=A,ue=pf(E,j,0),Se=E;var ze=pf(he,C,0);wo(e,v,F-257),wo(e,v+5,me-1),wo(e,v+10,q-4),v+=14;for(var ee=0;ee<q;++ee)wo(e,v+3*ee,he[Xg[ee]]);v+=3*q;for(var W=[M,se],k=0;k<2;++k)for(var P=W[k],ee=0;ee<P.length;++ee){var K=P[ee]&31;wo(e,v,ze[K]),v+=he[K],K>15&&(wo(e,v,P[ee]>>5&127),v+=P[ee]>>12)}}else Y=U_,le=ru,ue=M_,Se=Yh;for(var ee=0;ee<c;++ee){var ne=a[ee];if(ne>255){var K=ne>>18&31;uf(e,v,Y[K+257]),v+=le[K+257],K>7&&(wo(e,v,ne>>23&31),v+=Wp[K]);var ae=ne&31;uf(e,v,ue[ae]),v+=Se[ae],ae>3&&(uf(e,v,ne>>5&8191),v+=Vp[ae])}else uf(e,v,Y[ne]),v+=le[ne]}return uf(e,v,Y[256]),v+le[256]},I_=new Gp([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Z5=new ms(0),q_=function(r,e,n,a,l,o){var f=o.z||r.length,c=new ms(a+f+5*(1+Math.ceil(f/7e3))+l),h=c.subarray(a,c.length-l),p=o.l,v=(o.r||0)&7;if(e){v&&(h[0]=o.r>>3);for(var x=I_[e-1],A=x>>13,y=x&8191,L=(1<<n)-1,E=o.p||new da(32768),j=o.h||new da(L+1),O=Math.ceil(n/3),M=2*O,F=function(xe){return(r[xe]^r[xe+1]<<O^r[xe+2]<<M)&L},G=new Gp(25e3),se=new da(288),me=new da(32),Q=0,ee=0,$=o.i||0,he=0,C=o.w||0,q=0;$+2<f;++$){var re=F($),ie=$&32767,we=j[re];if(E[ie]=we,j[re]=ie,C<=$){var Y=f-$;if((Q>7e3||he>24576)&&(Y>423||!p)){v=e2(r,h,0,G,se,me,ee,he,q,$-q,v),he=Q=ee=0,q=$;for(var le=0;le<286;++le)se[le]=0;for(var le=0;le<30;++le)me[le]=0}var ue=2,Se=0,ze=y,W=ie-we&32767;if(Y>2&&re==F($-W))for(var k=Math.min(A,Y)-1,P=Math.min(32767,$),K=Math.min(258,Y);W<=P&&--ze&&ie!=we;){if(r[$+ue]==r[$+ue-W]){for(var ne=0;ne<K&&r[$+ne]==r[$+ne-W];++ne);if(ne>ue){if(ue=ne,Se=W,ne>k)break;for(var ae=Math.min(W,ne-2),de=0,le=0;le<ae;++le){var Ne=$-W+le&32767,Ae=E[Ne],Ue=Ne-Ae&32767;Ue>de&&(de=Ue,we=Ne)}}}ie=we,we=E[ie],W+=ie-we&32767}if(Se){G[he++]=268435456|yp[ue]<<18|Zg[Se];var We=yp[ue]&31,Qe=Zg[Se]&31;ee+=Wp[We]+Vp[Qe],++se[257+We],++me[Qe],C=$+ue,++Q}else G[he++]=r[$],++se[r[$]]}}for($=Math.max($,C);$<f;++$)G[he++]=r[$],++se[r[$]];v=e2(r,h,p,G,se,me,ee,he,q,$-q,v),p||(o.r=v&7|h[v/8|0]<<3,v-=7,o.h=j,o.p=E,o.i=$,o.w=C)}else{for(var $=o.w||0;$<f+p;$+=65535){var et=$+65535;et>=f&&(h[v/8|0]=p,et=f),v=X5(h,v+1,r.subarray($,et))}o.i=f}return P_(c,0,a+J5(v)+l)},Q5=function(){var r=1,e=0;return{p:function(n){for(var a=r,l=e,o=n.length|0,f=0;f!=o;){for(var c=Math.min(f+2655,o);f<c;++f)l+=a+=n[f];a=(a&65535)+15*(a>>16),l=(l&65535)+15*(l>>16)}r=a,e=l},d:function(){return r%=65521,e%=65521,(r&255)<<24|(r&65280)<<8|(e&255)<<8|e>>8}}},F_=function(r,e,n,a,l){if(!l&&(l={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),f=new ms(o.length+r.length);f.set(o),f.set(r,o.length),r=f,l.w=o.length}return q_(r,e.level==null?6:e.level,e.mem==null?l.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+e.mem,n,a,l)},ey=function(r,e,n){for(;n;++e)r[e]=n,n>>>=8},H_=function(r,e){var n=e.level,a=n==0?0:n<6?1:n==9?3:2;if(r[0]=120,r[1]=a<<6|(e.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,e.dictionary){var l=Q5();l.p(e.dictionary),ey(r,2,l.d())}};function wp(r,e){e||(e={});var n=Q5();n.p(r);var a=F_(r,e,e.dictionary?6:2,4);return H_(a,e),ey(a,a.length-4,n.d()),a}var $_=typeof TextDecoder<"u"&&new TextDecoder,G_=0;try{$_.decode(Z5,{stream:!0}),G_=1}catch{}function W_(r){if(Array.isArray(r))return r}function V_(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,l,o,f,c=[],h=!0,p=!1;try{if(o=(n=n.call(r)).next,e!==0)for(;!(h=(a=o.call(n)).done)&&(c.push(a.value),c.length!==e);h=!0);}catch(v){p=!0,l=v}finally{try{if(!h&&n.return!=null&&(f=n.return(),Object(f)!==f))return}finally{if(p)throw l}}return c}}function t2(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=Array(e);n<e;n++)a[n]=r[n];return a}function Y_(r,e){if(r){if(typeof r=="string")return t2(r,e);var n={}.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t2(r,e):void 0}}function K_(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n2(r,e){return W_(r)||V_(r,e)||Y_(r,e)||K_()}function r2(r,e="utf8"){return new TextDecoder(e).decode(r)}const J_=new TextEncoder;function X_(r){return J_.encode(r)}const Z_=1024*8,Q_=(()=>{const r=new Uint8Array(4),e=new Uint32Array(r.buffer);return!((e[0]=1)&r[0])})(),M0={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Yp{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=Z_,n={}){let a=!1;typeof e=="number"?e=new ArrayBuffer(e):(a=!0,this.lastWrittenByte=e.byteLength);const l=n.offset?n.offset>>>0:0,o=e.byteLength-l;let f=l;(ArrayBuffer.isView(e)||e instanceof Yp)&&(e.byteLength!==e.buffer.byteLength&&(f=e.byteOffset+l),e=e.buffer),a?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=f,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,f,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const a=(this.offset+e)*2,l=new Uint8Array(a);l.set(new Uint8Array(this.buffer)),this.buffer=l.buffer,this.length=a,this.byteLength=a,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const a=M0[n].BYTES_PER_ELEMENT*e,l=this.byteOffset+this.offset,o=this.buffer.slice(l,l+a);if(this.littleEndian===Q_&&n!=="uint8"&&n!=="int8"){const c=new Uint8Array(this.buffer.slice(l,l+a));c.reverse();const h=new M0[n](c.buffer);return this.offset+=a,h.reverse(),h}const f=new M0[n](o);return this.offset+=a,f}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let a=0;a<e;a++)n+=this.readChar();return n}readUtf8(e=1){return r2(this.readBytes(e))}decodeText(e=1,n="utf8"){return r2(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(X_(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function _c(r){let e=r.length;for(;--e>=0;)r[e]=0}const e4=3,t4=258,ty=29,n4=256,r4=n4+1+ty,ny=30,i4=512,a4=new Array((r4+2)*2);_c(a4);const s4=new Array(ny*2);_c(s4);const o4=new Array(i4);_c(o4);const l4=new Array(t4-e4+1);_c(l4);const u4=new Array(ty);_c(u4);const c4=new Array(ny);_c(c4);const f4=(r,e,n,a)=>{let l=r&65535|0,o=r>>>16&65535|0,f=0;for(;n!==0;){f=n>2e3?2e3:n,n-=f;do l=l+e[a++]|0,o=o+l|0;while(--f);l%=65521,o%=65521}return l|o<<16|0};var xp=f4;const h4=()=>{let r,e=[];for(var n=0;n<256;n++){r=n;for(var a=0;a<8;a++)r=r&1?3988292384^r>>>1:r>>>1;e[n]=r}return e},d4=new Uint32Array(h4()),p4=(r,e,n,a)=>{const l=d4,o=a+n;r^=-1;for(let f=a;f<o;f++)r=r>>>8^l[(r^e[f])&255];return r^-1};var Ps=p4,_p={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},ry={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const m4=(r,e)=>Object.prototype.hasOwnProperty.call(r,e);var g4=function(r){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const a in n)m4(n,a)&&(r[a]=n[a])}}return r},y4=r=>{let e=0;for(let a=0,l=r.length;a<l;a++)e+=r[a].length;const n=new Uint8Array(e);for(let a=0,l=0,o=r.length;a<o;a++){let f=r[a];n.set(f,l),l+=f.length}return n},iy={assign:g4,flattenChunks:y4};let ay=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{ay=!1}const Sf=new Uint8Array(256);for(let r=0;r<256;r++)Sf[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;Sf[254]=Sf[254]=1;var v4=r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let e,n,a,l,o,f=r.length,c=0;for(l=0;l<f;l++)n=r.charCodeAt(l),(n&64512)===55296&&l+1<f&&(a=r.charCodeAt(l+1),(a&64512)===56320&&(n=65536+(n-55296<<10)+(a-56320),l++)),c+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(c),o=0,l=0;o<c;l++)n=r.charCodeAt(l),(n&64512)===55296&&l+1<f&&(a=r.charCodeAt(l+1),(a&64512)===56320&&(n=65536+(n-55296<<10)+(a-56320),l++)),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|n&63):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|n&63):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|n&63);return e};const b4=(r,e)=>{if(e<65534&&r.subarray&&ay)return String.fromCharCode.apply(null,r.length===e?r:r.subarray(0,e));let n="";for(let a=0;a<e;a++)n+=String.fromCharCode(r[a]);return n};var w4=(r,e)=>{const n=e||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,e));let a,l;const o=new Array(n*2);for(l=0,a=0;a<n;){let f=r[a++];if(f<128){o[l++]=f;continue}let c=Sf[f];if(c>4){o[l++]=65533,a+=c-1;continue}for(f&=c===2?31:c===3?15:7;c>1&&a<n;)f=f<<6|r[a++]&63,c--;if(c>1){o[l++]=65533;continue}f<65536?o[l++]=f:(f-=65536,o[l++]=55296|f>>10&1023,o[l++]=56320|f&1023)}return b4(o,l)},x4=(r,e)=>{e=e||r.length,e>r.length&&(e=r.length);let n=e-1;for(;n>=0&&(r[n]&192)===128;)n--;return n<0||n===0?e:n+Sf[r[n]]>e?n:e},Sp={string2buf:v4,buf2string:w4,utf8border:x4};function _4(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var S4=_4;const Nh=16209,A4=16191;var E4=function(e,n){let a,l,o,f,c,h,p,v,x,A,y,L,E,j,O,M,F,G,se,me,Q,ee,$,he;const C=e.state;a=e.next_in,$=e.input,l=a+(e.avail_in-5),o=e.next_out,he=e.output,f=o-(n-e.avail_out),c=o+(e.avail_out-257),h=C.dmax,p=C.wsize,v=C.whave,x=C.wnext,A=C.window,y=C.hold,L=C.bits,E=C.lencode,j=C.distcode,O=(1<<C.lenbits)-1,M=(1<<C.distbits)-1;e:do{L<15&&(y+=$[a++]<<L,L+=8,y+=$[a++]<<L,L+=8),F=E[y&O];t:for(;;){if(G=F>>>24,y>>>=G,L-=G,G=F>>>16&255,G===0)he[o++]=F&65535;else if(G&16){se=F&65535,G&=15,G&&(L<G&&(y+=$[a++]<<L,L+=8),se+=y&(1<<G)-1,y>>>=G,L-=G),L<15&&(y+=$[a++]<<L,L+=8,y+=$[a++]<<L,L+=8),F=j[y&M];n:for(;;){if(G=F>>>24,y>>>=G,L-=G,G=F>>>16&255,G&16){if(me=F&65535,G&=15,L<G&&(y+=$[a++]<<L,L+=8,L<G&&(y+=$[a++]<<L,L+=8)),me+=y&(1<<G)-1,me>h){e.msg="invalid distance too far back",C.mode=Nh;break e}if(y>>>=G,L-=G,G=o-f,me>G){if(G=me-G,G>v&&C.sane){e.msg="invalid distance too far back",C.mode=Nh;break e}if(Q=0,ee=A,x===0){if(Q+=p-G,G<se){se-=G;do he[o++]=A[Q++];while(--G);Q=o-me,ee=he}}else if(x<G){if(Q+=p+x-G,G-=x,G<se){se-=G;do he[o++]=A[Q++];while(--G);if(Q=0,x<se){G=x,se-=G;do he[o++]=A[Q++];while(--G);Q=o-me,ee=he}}}else if(Q+=x-G,G<se){se-=G;do he[o++]=A[Q++];while(--G);Q=o-me,ee=he}for(;se>2;)he[o++]=ee[Q++],he[o++]=ee[Q++],he[o++]=ee[Q++],se-=3;se&&(he[o++]=ee[Q++],se>1&&(he[o++]=ee[Q++]))}else{Q=o-me;do he[o++]=he[Q++],he[o++]=he[Q++],he[o++]=he[Q++],se-=3;while(se>2);se&&(he[o++]=he[Q++],se>1&&(he[o++]=he[Q++]))}}else if((G&64)===0){F=j[(F&65535)+(y&(1<<G)-1)];continue n}else{e.msg="invalid distance code",C.mode=Nh;break e}break}}else if((G&64)===0){F=E[(F&65535)+(y&(1<<G)-1)];continue t}else if(G&32){C.mode=A4;break e}else{e.msg="invalid literal/length code",C.mode=Nh;break e}break}}while(a<l&&o<c);se=L>>3,a-=se,L-=se<<3,y&=(1<<L)-1,e.next_in=a,e.next_out=o,e.avail_in=a<l?5+(l-a):5-(a-l),e.avail_out=o<c?257+(c-o):257-(o-c),C.hold=y,C.bits=L};const rc=15,i2=852,a2=592,s2=0,P0=1,o2=2,T4=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),k4=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),N4=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),L4=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),j4=(r,e,n,a,l,o,f,c)=>{const h=c.bits;let p=0,v=0,x=0,A=0,y=0,L=0,E=0,j=0,O=0,M=0,F,G,se,me,Q,ee=null,$;const he=new Uint16Array(rc+1),C=new Uint16Array(rc+1);let q=null,re,ie,we;for(p=0;p<=rc;p++)he[p]=0;for(v=0;v<a;v++)he[e[n+v]]++;for(y=h,A=rc;A>=1&&he[A]===0;A--);if(y>A&&(y=A),A===0)return l[o++]=1<<24|64<<16|0,l[o++]=1<<24|64<<16|0,c.bits=1,0;for(x=1;x<A&&he[x]===0;x++);for(y<x&&(y=x),j=1,p=1;p<=rc;p++)if(j<<=1,j-=he[p],j<0)return-1;if(j>0&&(r===s2||A!==1))return-1;for(C[1]=0,p=1;p<rc;p++)C[p+1]=C[p]+he[p];for(v=0;v<a;v++)e[n+v]!==0&&(f[C[e[n+v]]++]=v);if(r===s2?(ee=q=f,$=20):r===P0?(ee=T4,q=k4,$=257):(ee=N4,q=L4,$=0),M=0,v=0,p=x,Q=o,L=y,E=0,se=-1,O=1<<y,me=O-1,r===P0&&O>i2||r===o2&&O>a2)return 1;for(;;){re=p-E,f[v]+1<$?(ie=0,we=f[v]):f[v]>=$?(ie=q[f[v]-$],we=ee[f[v]-$]):(ie=96,we=0),F=1<<p-E,G=1<<L,x=G;do G-=F,l[Q+(M>>E)+G]=re<<24|ie<<16|we|0;while(G!==0);for(F=1<<p-1;M&F;)F>>=1;if(F!==0?(M&=F-1,M+=F):M=0,v++,--he[p]===0){if(p===A)break;p=e[n+f[v]]}if(p>y&&(M&me)!==se){for(E===0&&(E=y),Q+=x,L=p-E,j=1<<L;L+E<A&&(j-=he[L+E],!(j<=0));)L++,j<<=1;if(O+=1<<L,r===P0&&O>i2||r===o2&&O>a2)return 1;se=M&me,l[se]=y<<24|L<<16|Q-o|0}}return M!==0&&(l[Q+M]=p-E<<24|64<<16|0),c.bits=y,0};var mf=j4;const O4=0,sy=1,oy=2,{Z_FINISH:l2,Z_BLOCK:C4,Z_TREES:Lh,Z_OK:iu,Z_STREAM_END:R4,Z_NEED_DICT:D4,Z_STREAM_ERROR:za,Z_DATA_ERROR:ly,Z_MEM_ERROR:uy,Z_BUF_ERROR:B4,Z_DEFLATED:u2}=ry,ad=16180,c2=16181,f2=16182,h2=16183,d2=16184,p2=16185,m2=16186,g2=16187,y2=16188,v2=16189,Kh=16190,xo=16191,I0=16192,b2=16193,q0=16194,w2=16195,x2=16196,_2=16197,S2=16198,jh=16199,Oh=16200,A2=16201,E2=16202,T2=16203,k2=16204,N2=16205,F0=16206,L2=16207,j2=16208,Jn=16209,cy=16210,fy=16211,z4=852,U4=592,M4=15,P4=M4,O2=r=>(r>>>24&255)+(r>>>8&65280)+((r&65280)<<8)+((r&255)<<24);function I4(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const au=r=>{if(!r)return 1;const e=r.state;return!e||e.strm!==r||e.mode<ad||e.mode>fy?1:0},hy=r=>{if(au(r))return za;const e=r.state;return r.total_in=r.total_out=e.total=0,r.msg="",e.wrap&&(r.adler=e.wrap&1),e.mode=ad,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(z4),e.distcode=e.distdyn=new Int32Array(U4),e.sane=1,e.back=-1,iu},dy=r=>{if(au(r))return za;const e=r.state;return e.wsize=0,e.whave=0,e.wnext=0,hy(r)},py=(r,e)=>{let n;if(au(r))return za;const a=r.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?za:(a.window!==null&&a.wbits!==e&&(a.window=null),a.wrap=n,a.wbits=e,dy(r))},my=(r,e)=>{if(!r)return za;const n=new I4;r.state=n,n.strm=r,n.window=null,n.mode=ad;const a=py(r,e);return a!==iu&&(r.state=null),a},q4=r=>my(r,P4);let C2=!0,H0,$0;const F4=r=>{if(C2){H0=new Int32Array(512),$0=new Int32Array(32);let e=0;for(;e<144;)r.lens[e++]=8;for(;e<256;)r.lens[e++]=9;for(;e<280;)r.lens[e++]=7;for(;e<288;)r.lens[e++]=8;for(mf(sy,r.lens,0,288,H0,0,r.work,{bits:9}),e=0;e<32;)r.lens[e++]=5;mf(oy,r.lens,0,32,$0,0,r.work,{bits:5}),C2=!1}r.lencode=H0,r.lenbits=9,r.distcode=$0,r.distbits=5},gy=(r,e,n,a)=>{let l;const o=r.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),a>=o.wsize?(o.window.set(e.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(l=o.wsize-o.wnext,l>a&&(l=a),o.window.set(e.subarray(n-a,n-a+l),o.wnext),a-=l,a?(o.window.set(e.subarray(n-a,n),0),o.wnext=a,o.whave=o.wsize):(o.wnext+=l,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=l))),0},H4=(r,e)=>{let n,a,l,o,f,c,h,p,v,x,A,y,L,E,j=0,O,M,F,G,se,me,Q,ee;const $=new Uint8Array(4);let he,C;const q=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(au(r)||!r.output||!r.input&&r.avail_in!==0)return za;n=r.state,n.mode===xo&&(n.mode=I0),f=r.next_out,l=r.output,h=r.avail_out,o=r.next_in,a=r.input,c=r.avail_in,p=n.hold,v=n.bits,x=c,A=h,ee=iu;e:for(;;)switch(n.mode){case ad:if(n.wrap===0){n.mode=I0;break}for(;v<16;){if(c===0)break e;c--,p+=a[o++]<<v,v+=8}if(n.wrap&2&&p===35615){n.wbits===0&&(n.wbits=15),n.check=0,$[0]=p&255,$[1]=p>>>8&255,n.check=Ps(n.check,$,2,0),p=0,v=0,n.mode=c2;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((p&255)<<8)+(p>>8))%31){r.msg="incorrect header check",n.mode=Jn;break}if((p&15)!==u2){r.msg="unknown compression method",n.mode=Jn;break}if(p>>>=4,v-=4,Q=(p&15)+8,n.wbits===0&&(n.wbits=Q),Q>15||Q>n.wbits){r.msg="invalid window size",n.mode=Jn;break}n.dmax=1<<n.wbits,n.flags=0,r.adler=n.check=1,n.mode=p&512?v2:xo,p=0,v=0;break;case c2:for(;v<16;){if(c===0)break e;c--,p+=a[o++]<<v,v+=8}if(n.flags=p,(n.flags&255)!==u2){r.msg="unknown compression method",n.mode=Jn;break}if(n.flags&57344){r.msg="unknown header flags set",n.mode=Jn;break}n.head&&(n.head.text=p>>8&1),n.flags&512&&n.wrap&4&&($[0]=p&255,$[1]=p>>>8&255,n.check=Ps(n.check,$,2,0)),p=0,v=0,n.mode=f2;case f2:for(;v<32;){if(c===0)break e;c--,p+=a[o++]<<v,v+=8}n.head&&(n.head.time=p),n.flags&512&&n.wrap&4&&($[0]=p&255,$[1]=p>>>8&255,$[2]=p>>>16&255,$[3]=p>>>24&255,n.check=Ps(n.check,$,4,0)),p=0,v=0,n.mode=h2;case h2:for(;v<16;){if(c===0)break e;c--,p+=a[o++]<<v,v+=8}n.head&&(n.head.xflags=p&255,n.head.os=p>>8),n.flags&512&&n.wrap&4&&($[0]=p&255,$[1]=p>>>8&255,n.check=Ps(n.check,$,2,0)),p=0,v=0,n.mode=d2;case d2:if(n.flags&1024){for(;v<16;){if(c===0)break e;c--,p+=a[o++]<<v,v+=8}n.length=p,n.head&&(n.head.extra_len=p),n.flags&512&&n.wrap&4&&($[0]=p&255,$[1]=p>>>8&255,n.check=Ps(n.check,$,2,0)),p=0,v=0}else n.head&&(n.head.extra=null);n.mode=p2;case p2:if(n.flags&1024&&(y=n.length,y>c&&(y=c),y&&(n.head&&(Q=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(a.subarray(o,o+y),Q)),n.flags&512&&n.wrap&4&&(n.check=Ps(n.check,a,y,o)),c-=y,o+=y,n.length-=y),n.length))break e;n.length=0,n.mode=m2;case m2:if(n.flags&2048){if(c===0)break e;y=0;do Q=a[o+y++],n.head&&Q&&n.length<65536&&(n.head.name+=String.fromCharCode(Q));while(Q&&y<c);if(n.flags&512&&n.wrap&4&&(n.check=Ps(n.check,a,y,o)),c-=y,o+=y,Q)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=g2;case g2:if(n.flags&4096){if(c===0)break e;y=0;do Q=a[o+y++],n.head&&Q&&n.length<65536&&(n.head.comment+=String.fromCharCode(Q));while(Q&&y<c);if(n.flags&512&&n.wrap&4&&(n.check=Ps(n.check,a,y,o)),c-=y,o+=y,Q)break e}else n.head&&(n.head.comment=null);n.mode=y2;case y2:if(n.flags&512){for(;v<16;){if(c===0)break e;c--,p+=a[o++]<<v,v+=8}if(n.wrap&4&&p!==(n.check&65535)){r.msg="header crc mismatch",n.mode=Jn;break}p=0,v=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),r.adler=n.check=0,n.mode=xo;break;case v2:for(;v<32;){if(c===0)break e;c--,p+=a[o++]<<v,v+=8}r.adler=n.check=O2(p),p=0,v=0,n.mode=Kh;case Kh:if(n.havedict===0)return r.next_out=f,r.avail_out=h,r.next_in=o,r.avail_in=c,n.hold=p,n.bits=v,D4;r.adler=n.check=1,n.mode=xo;case xo:if(e===C4||e===Lh)break e;case I0:if(n.last){p>>>=v&7,v-=v&7,n.mode=F0;break}for(;v<3;){if(c===0)break e;c--,p+=a[o++]<<v,v+=8}switch(n.last=p&1,p>>>=1,v-=1,p&3){case 0:n.mode=b2;break;case 1:if(F4(n),n.mode=jh,e===Lh){p>>>=2,v-=2;break e}break;case 2:n.mode=x2;break;case 3:r.msg="invalid block type",n.mode=Jn}p>>>=2,v-=2;break;case b2:for(p>>>=v&7,v-=v&7;v<32;){if(c===0)break e;c--,p+=a[o++]<<v,v+=8}if((p&65535)!==(p>>>16^65535)){r.msg="invalid stored block lengths",n.mode=Jn;break}if(n.length=p&65535,p=0,v=0,n.mode=q0,e===Lh)break e;case q0:n.mode=w2;case w2:if(y=n.length,y){if(y>c&&(y=c),y>h&&(y=h),y===0)break e;l.set(a.subarray(o,o+y),f),c-=y,o+=y,h-=y,f+=y,n.length-=y;break}n.mode=xo;break;case x2:for(;v<14;){if(c===0)break e;c--,p+=a[o++]<<v,v+=8}if(n.nlen=(p&31)+257,p>>>=5,v-=5,n.ndist=(p&31)+1,p>>>=5,v-=5,n.ncode=(p&15)+4,p>>>=4,v-=4,n.nlen>286||n.ndist>30){r.msg="too many length or distance symbols",n.mode=Jn;break}n.have=0,n.mode=_2;case _2:for(;n.have<n.ncode;){for(;v<3;){if(c===0)break e;c--,p+=a[o++]<<v,v+=8}n.lens[q[n.have++]]=p&7,p>>>=3,v-=3}for(;n.have<19;)n.lens[q[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,he={bits:n.lenbits},ee=mf(O4,n.lens,0,19,n.lencode,0,n.work,he),n.lenbits=he.bits,ee){r.msg="invalid code lengths set",n.mode=Jn;break}n.have=0,n.mode=S2;case S2:for(;n.have<n.nlen+n.ndist;){for(;j=n.lencode[p&(1<<n.lenbits)-1],O=j>>>24,M=j>>>16&255,F=j&65535,!(O<=v);){if(c===0)break e;c--,p+=a[o++]<<v,v+=8}if(F<16)p>>>=O,v-=O,n.lens[n.have++]=F;else{if(F===16){for(C=O+2;v<C;){if(c===0)break e;c--,p+=a[o++]<<v,v+=8}if(p>>>=O,v-=O,n.have===0){r.msg="invalid bit length repeat",n.mode=Jn;break}Q=n.lens[n.have-1],y=3+(p&3),p>>>=2,v-=2}else if(F===17){for(C=O+3;v<C;){if(c===0)break e;c--,p+=a[o++]<<v,v+=8}p>>>=O,v-=O,Q=0,y=3+(p&7),p>>>=3,v-=3}else{for(C=O+7;v<C;){if(c===0)break e;c--,p+=a[o++]<<v,v+=8}p>>>=O,v-=O,Q=0,y=11+(p&127),p>>>=7,v-=7}if(n.have+y>n.nlen+n.ndist){r.msg="invalid bit length repeat",n.mode=Jn;break}for(;y--;)n.lens[n.have++]=Q}}if(n.mode===Jn)break;if(n.lens[256]===0){r.msg="invalid code -- missing end-of-block",n.mode=Jn;break}if(n.lenbits=9,he={bits:n.lenbits},ee=mf(sy,n.lens,0,n.nlen,n.lencode,0,n.work,he),n.lenbits=he.bits,ee){r.msg="invalid literal/lengths set",n.mode=Jn;break}if(n.distbits=6,n.distcode=n.distdyn,he={bits:n.distbits},ee=mf(oy,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,he),n.distbits=he.bits,ee){r.msg="invalid distances set",n.mode=Jn;break}if(n.mode=jh,e===Lh)break e;case jh:n.mode=Oh;case Oh:if(c>=6&&h>=258){r.next_out=f,r.avail_out=h,r.next_in=o,r.avail_in=c,n.hold=p,n.bits=v,E4(r,A),f=r.next_out,l=r.output,h=r.avail_out,o=r.next_in,a=r.input,c=r.avail_in,p=n.hold,v=n.bits,n.mode===xo&&(n.back=-1);break}for(n.back=0;j=n.lencode[p&(1<<n.lenbits)-1],O=j>>>24,M=j>>>16&255,F=j&65535,!(O<=v);){if(c===0)break e;c--,p+=a[o++]<<v,v+=8}if(M&&(M&240)===0){for(G=O,se=M,me=F;j=n.lencode[me+((p&(1<<G+se)-1)>>G)],O=j>>>24,M=j>>>16&255,F=j&65535,!(G+O<=v);){if(c===0)break e;c--,p+=a[o++]<<v,v+=8}p>>>=G,v-=G,n.back+=G}if(p>>>=O,v-=O,n.back+=O,n.length=F,M===0){n.mode=N2;break}if(M&32){n.back=-1,n.mode=xo;break}if(M&64){r.msg="invalid literal/length code",n.mode=Jn;break}n.extra=M&15,n.mode=A2;case A2:if(n.extra){for(C=n.extra;v<C;){if(c===0)break e;c--,p+=a[o++]<<v,v+=8}n.length+=p&(1<<n.extra)-1,p>>>=n.extra,v-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=E2;case E2:for(;j=n.distcode[p&(1<<n.distbits)-1],O=j>>>24,M=j>>>16&255,F=j&65535,!(O<=v);){if(c===0)break e;c--,p+=a[o++]<<v,v+=8}if((M&240)===0){for(G=O,se=M,me=F;j=n.distcode[me+((p&(1<<G+se)-1)>>G)],O=j>>>24,M=j>>>16&255,F=j&65535,!(G+O<=v);){if(c===0)break e;c--,p+=a[o++]<<v,v+=8}p>>>=G,v-=G,n.back+=G}if(p>>>=O,v-=O,n.back+=O,M&64){r.msg="invalid distance code",n.mode=Jn;break}n.offset=F,n.extra=M&15,n.mode=T2;case T2:if(n.extra){for(C=n.extra;v<C;){if(c===0)break e;c--,p+=a[o++]<<v,v+=8}n.offset+=p&(1<<n.extra)-1,p>>>=n.extra,v-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){r.msg="invalid distance too far back",n.mode=Jn;break}n.mode=k2;case k2:if(h===0)break e;if(y=A-h,n.offset>y){if(y=n.offset-y,y>n.whave&&n.sane){r.msg="invalid distance too far back",n.mode=Jn;break}y>n.wnext?(y-=n.wnext,L=n.wsize-y):L=n.wnext-y,y>n.length&&(y=n.length),E=n.window}else E=l,L=f-n.offset,y=n.length;y>h&&(y=h),h-=y,n.length-=y;do l[f++]=E[L++];while(--y);n.length===0&&(n.mode=Oh);break;case N2:if(h===0)break e;l[f++]=n.length,h--,n.mode=Oh;break;case F0:if(n.wrap){for(;v<32;){if(c===0)break e;c--,p|=a[o++]<<v,v+=8}if(A-=h,r.total_out+=A,n.total+=A,n.wrap&4&&A&&(r.adler=n.check=n.flags?Ps(n.check,l,A,f-A):xp(n.check,l,A,f-A)),A=h,n.wrap&4&&(n.flags?p:O2(p))!==n.check){r.msg="incorrect data check",n.mode=Jn;break}p=0,v=0}n.mode=L2;case L2:if(n.wrap&&n.flags){for(;v<32;){if(c===0)break e;c--,p+=a[o++]<<v,v+=8}if(n.wrap&4&&p!==(n.total&4294967295)){r.msg="incorrect length check",n.mode=Jn;break}p=0,v=0}n.mode=j2;case j2:ee=R4;break e;case Jn:ee=ly;break e;case cy:return uy;case fy:default:return za}return r.next_out=f,r.avail_out=h,r.next_in=o,r.avail_in=c,n.hold=p,n.bits=v,(n.wsize||A!==r.avail_out&&n.mode<Jn&&(n.mode<F0||e!==l2))&&gy(r,r.output,r.next_out,A-r.avail_out),x-=r.avail_in,A-=r.avail_out,r.total_in+=x,r.total_out+=A,n.total+=A,n.wrap&4&&A&&(r.adler=n.check=n.flags?Ps(n.check,l,A,r.next_out-A):xp(n.check,l,A,r.next_out-A)),r.data_type=n.bits+(n.last?64:0)+(n.mode===xo?128:0)+(n.mode===jh||n.mode===q0?256:0),(x===0&&A===0||e===l2)&&ee===iu&&(ee=B4),ee},$4=r=>{if(au(r))return za;let e=r.state;return e.window&&(e.window=null),r.state=null,iu},G4=(r,e)=>{if(au(r))return za;const n=r.state;return(n.wrap&2)===0?za:(n.head=e,e.done=!1,iu)},W4=(r,e)=>{const n=e.length;let a,l,o;return au(r)||(a=r.state,a.wrap!==0&&a.mode!==Kh)?za:a.mode===Kh&&(l=1,l=xp(l,e,n,0),l!==a.check)?ly:(o=gy(r,e,n,n),o?(a.mode=cy,uy):(a.havedict=1,iu))};var V4=dy,Y4=py,K4=hy,J4=q4,X4=my,Z4=H4,Q4=$4,eS=G4,tS=W4,nS="pako inflate (from Nodeca project)",So={inflateReset:V4,inflateReset2:Y4,inflateResetKeep:K4,inflateInit:J4,inflateInit2:X4,inflate:Z4,inflateEnd:Q4,inflateGetHeader:eS,inflateSetDictionary:tS,inflateInfo:nS};function rS(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var iS=rS;const yy=Object.prototype.toString,{Z_NO_FLUSH:aS,Z_FINISH:sS,Z_OK:Af,Z_STREAM_END:G0,Z_NEED_DICT:W0,Z_STREAM_ERROR:oS,Z_DATA_ERROR:R2,Z_MEM_ERROR:lS}=ry;function Nf(r){this.options=iy.assign({chunkSize:1024*64,windowBits:15,to:""},r||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(r&&r.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new S4,this.strm.avail_out=0;let n=So.inflateInit2(this.strm,e.windowBits);if(n!==Af)throw new Error(_p[n]);if(this.header=new iS,So.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Sp.string2buf(e.dictionary):yy.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=So.inflateSetDictionary(this.strm,e.dictionary),n!==Af)))throw new Error(_p[n])}Nf.prototype.push=function(r,e){const n=this.strm,a=this.options.chunkSize,l=this.options.dictionary;let o,f,c;if(this.ended)return!1;for(e===~~e?f=e:f=e===!0?sS:aS,yy.call(r)==="[object ArrayBuffer]"?n.input=new Uint8Array(r):n.input=r,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(a),n.next_out=0,n.avail_out=a),o=So.inflate(n,f),o===W0&&l&&(o=So.inflateSetDictionary(n,l),o===Af?o=So.inflate(n,f):o===R2&&(o=W0));n.avail_in>0&&o===G0&&n.state.wrap>0&&r[n.next_in]!==0;)So.inflateReset(n),o=So.inflate(n,f);switch(o){case oS:case R2:case W0:case lS:return this.onEnd(o),this.ended=!0,!1}if(c=n.avail_out,n.next_out&&(n.avail_out===0||o===G0))if(this.options.to==="string"){let h=Sp.utf8border(n.output,n.next_out),p=n.next_out-h,v=Sp.buf2string(n.output,h);n.next_out=p,n.avail_out=a-p,p&&n.output.set(n.output.subarray(h,h+p),0),this.onData(v)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(o===Af&&c===0)){if(o===G0)return o=So.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};Nf.prototype.onData=function(r){this.chunks.push(r)};Nf.prototype.onEnd=function(r){r===Af&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=iy.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function uS(r,e){const n=new Nf(e);if(n.push(r),n.err)throw n.msg||_p[n.err];return n.result}var cS=Nf,fS=uS,hS={Inflate:cS,inflate:fS};const{Inflate:dS,inflate:pS}=hS;var D2=dS,mS=pS;const vy=[];for(let r=0;r<256;r++){let e=r;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;vy[r]=e}const B2=4294967295;function gS(r,e,n){let a=r;for(let l=0;l<n;l++)a=vy[(a^e[l])&255]^a>>>8;return a}function yS(r,e){return(gS(B2,r,e)^B2)>>>0}function z2(r,e,n){const a=r.readUint32(),l=yS(new Uint8Array(r.buffer,r.byteOffset+r.offset-e-4,e),e);if(l!==a)throw new Error(`CRC mismatch for chunk ${n}. Expected ${a}, found ${l}`)}function by(r,e,n){for(let a=0;a<n;a++)e[a]=r[a]}function wy(r,e,n,a){let l=0;for(;l<a;l++)e[l]=r[l];for(;l<n;l++)e[l]=r[l]+e[l-a]&255}function xy(r,e,n,a){let l=0;if(n.length===0)for(;l<a;l++)e[l]=r[l];else for(;l<a;l++)e[l]=r[l]+n[l]&255}function _y(r,e,n,a,l){let o=0;if(n.length===0){for(;o<l;o++)e[o]=r[o];for(;o<a;o++)e[o]=r[o]+(e[o-l]>>1)&255}else{for(;o<l;o++)e[o]=r[o]+(n[o]>>1)&255;for(;o<a;o++)e[o]=r[o]+(e[o-l]+n[o]>>1)&255}}function Sy(r,e,n,a,l){let o=0;if(n.length===0){for(;o<l;o++)e[o]=r[o];for(;o<a;o++)e[o]=r[o]+e[o-l]&255}else{for(;o<l;o++)e[o]=r[o]+n[o]&255;for(;o<a;o++)e[o]=r[o]+vS(e[o-l],n[o],n[o-l])&255}}function vS(r,e,n){const a=r+e-n,l=Math.abs(a-r),o=Math.abs(a-e),f=Math.abs(a-n);return l<=o&&l<=f?r:o<=f?e:n}function bS(r,e,n,a,l,o){switch(r){case 0:by(e,n,l);break;case 1:wy(e,n,l,o);break;case 2:xy(e,n,a,l);break;case 3:_y(e,n,a,l,o);break;case 4:Sy(e,n,a,l,o);break;default:throw new Error(`Unsupported filter: ${r}`)}}const wS=new Uint16Array([255]),xS=new Uint8Array(wS.buffer),_S=xS[0]===255;function SS(r){const{data:e,width:n,height:a,channels:l,depth:o}=r,f=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],c=Math.ceil(o/8)*l,h=new Uint8Array(a*n*c);let p=0;for(let v=0;v<7;v++){const x=f[v],A=Math.ceil((n-x.x)/x.xStep),y=Math.ceil((a-x.y)/x.yStep);if(A<=0||y<=0)continue;const L=A*c,E=new Uint8Array(L);for(let j=0;j<y;j++){const O=e[p++],M=e.subarray(p,p+L);p+=L;const F=new Uint8Array(L);bS(O,M,F,E,L,c),E.set(F);for(let G=0;G<A;G++){const se=x.x+G*x.xStep,me=x.y+j*x.yStep;if(!(se>=n||me>=a))for(let Q=0;Q<c;Q++)h[(me*n+se)*c+Q]=F[G*c+Q]}}}if(o===16){const v=new Uint16Array(h.buffer);if(_S)for(let x=0;x<v.length;x++)v[x]=AS(v[x]);return v}else return h}function AS(r){return(r&255)<<8|r>>8&255}const ES=new Uint16Array([255]),TS=new Uint8Array(ES.buffer),kS=TS[0]===255,NS=new Uint8Array(0);function U2(r){const{data:e,width:n,height:a,channels:l,depth:o}=r,f=Math.ceil(o/8)*l,c=Math.ceil(o/8*l*n),h=new Uint8Array(a*c);let p=NS,v=0,x,A;for(let y=0;y<a;y++){switch(x=e.subarray(v+1,v+1+c),A=h.subarray(y*c,(y+1)*c),e[v]){case 0:by(x,A,c);break;case 1:wy(x,A,c,f);break;case 2:xy(x,A,p,c);break;case 3:_y(x,A,p,c,f);break;case 4:Sy(x,A,p,c,f);break;default:throw new Error(`Unsupported filter: ${e[v]}`)}p=A,v+=c+1}if(o===16){const y=new Uint16Array(h.buffer);if(kS)for(let L=0;L<y.length;L++)y[L]=LS(y[L]);return y}else return h}function LS(r){return(r&255)<<8|r>>8&255}const Mh=Uint8Array.of(137,80,78,71,13,10,26,10);function M2(r){if(!jS(r.readBytes(Mh.length)))throw new Error("wrong PNG signature")}function jS(r){if(r.length<Mh.length)return!1;for(let e=0;e<Mh.length;e++)if(r[e]!==Mh[e])return!1;return!0}const OS="tEXt",CS=0,Ay=new TextDecoder("latin1");function RS(r){if(BS(r),r.length===0||r.length>79)throw new Error("keyword length must be between 1 and 79")}const DS=/^[\u0000-\u00FF]*$/;function BS(r){if(!DS.test(r))throw new Error("invalid latin1 text")}function zS(r,e,n){const a=Ey(e);r[a]=US(e,n-a.length-1)}function Ey(r){for(r.mark();r.readByte()!==CS;);const e=r.offset;r.reset();const n=Ay.decode(r.readBytes(e-r.offset-1));return r.skip(1),RS(n),n}function US(r,e){return Ay.decode(r.readBytes(e))}const ua={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},V0={UNKNOWN:-1,DEFLATE:0},P2={UNKNOWN:-1,ADAPTIVE:0},Y0={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Ch={NONE:0,BACKGROUND:1,PREVIOUS:2},K0={SOURCE:0,OVER:1};class MS extends Yp{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,n={}){super(e);const{checkCrc:a=!1}=n;this._checkCrc=a,this._inflator=new D2,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=V0.UNKNOWN,this._filterMethod=P2.UNKNOWN,this._interlaceMethod=Y0.UNKNOWN,this._colorType=ua.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(M2(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeChunk(e,n)}return this.decodeImage(),this._png}decodeApng(){for(M2(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(e,n)}return this.decodeApngImage(),this._apng}decodeChunk(e,n){const a=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case OS:zS(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-a!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?z2(this,e+4,n):this.skip(4)}decodeApngChunk(e,n){const a=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,n),this.offset=a+e;break}if(this.offset-a!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?z2(this,e+4,n):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=PS(this.readUint8());const n=this.readUint8();this._colorType=n;let a;switch(n){case ua.GREYSCALE:a=1;break;case ua.TRUECOLOUR:a=3;break;case ua.INDEXED_COLOUR:a=1;break;case ua.GREYSCALE_ALPHA:a=2;break;case ua.TRUECOLOUR_ALPHA:a=4;break;case ua.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==V0.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const n=e/3;this._hasPalette=!0;const a=[];this._palette=a;for(let l=0;l<n;l++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const n=e,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let n=e,a=this.offset+this.byteOffset;if(a+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case ua.GREYSCALE:case ua.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let n=0;n<e/2;n++)this._transparency[n]=this.readUint16();break}case ua.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let n=0;for(;n<e;n++){const a=this.readByte();this._palette[n].push(a)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case ua.UNKNOWN:case ua.GREYSCALE_ALPHA:case ua.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const n=Ey(this),a=this.readUint8();if(a!==V0.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const l=this.readBytes(e-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:mS(l)}}decodepHYs(){const e=this.readUint32(),n=this.readUint32(),a=this.readByte();this._png.resolution={x:e,y:n,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const n={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(e);if(a){if(a.data=U2({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)n.data=a.data;else{const l=this._apng.frames.at(e-1);this.disposeFrame(a,l,n),this.addFrameDataToCanvas(n,a)}this._apng.frames.push(n)}}return this._apng}disposeFrame(e,n,a){switch(e.disposeOp){case Ch.NONE:break;case Ch.BACKGROUND:for(let l=0;l<this._png.height;l++)for(let o=0;o<this._png.width;o++){const f=(l*e.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)a.data[f+c]=0}break;case Ch.PREVIOUS:a.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,n){const a=1<<this._png.depth,l=(o,f)=>{const c=((o+n.yOffset)*this._png.width+n.xOffset+f)*this._png.channels,h=(o*n.width+f)*this._png.channels;return{index:c,frameIndex:h}};switch(n.blendOp){case K0.SOURCE:for(let o=0;o<n.height;o++)for(let f=0;f<n.width;f++){const{index:c,frameIndex:h}=l(o,f);for(let p=0;p<this._png.channels;p++)e.data[c+p]=n.data[h+p]}break;case K0.OVER:for(let o=0;o<n.height;o++)for(let f=0;f<n.width;f++){const{index:c,frameIndex:h}=l(o,f);for(let p=0;p<this._png.channels;p++){const v=n.data[h+this._png.channels-1]/a,x=p%(this._png.channels-1)===0?1:n.data[h+p],A=Math.floor(v*x+(1-v)*e.data[c+p]);e.data[c+p]+=A}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==P2.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Y0.NO_INTERLACE)this._png.data=U2({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Y0.ADAM7)this._png.data=SS({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,n=this._frames.at(-1);n?n.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Ch.NONE,blendOp:K0.SOURCE,data:e}),this._inflator=new D2,this._writingDataChunks=!1}}function PS(r){if(r!==1&&r!==2&&r!==4&&r!==8&&r!==16)throw new Error(`invalid bit depth: ${r}`);return r}var I2;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.METRE=1]="METRE"})(I2||(I2={}));function IS(r,e){return new MS(r,e).decode()}var It=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function J0(){It.console&&typeof It.console.log=="function"&&It.console.log.apply(It.console,arguments)}var zn={log:J0,warn:function(r){It.console&&(typeof It.console.warn=="function"?It.console.warn.apply(It.console,arguments):J0.call(null,arguments))},error:function(r){It.console&&(typeof It.console.error=="function"?It.console.error.apply(It.console,arguments):J0(r))}};function X0(r,e,n){var a=new XMLHttpRequest;a.open("GET",r),a.responseType="blob",a.onload=function(){Jl(a.response,e,n)},a.onerror=function(){zn.error("could not download file")},a.send()}function q2(r){var e=new XMLHttpRequest;e.open("HEAD",r,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Rh(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(e)}}var Jl=It.saveAs||((typeof window>"u"?"undefined":En(window))!=="object"||window!==It?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,e,n){var a=It.URL||It.webkitURL,l=document.createElement("a");e=e||r.name||"download",l.download=e,l.rel="noopener",typeof r=="string"?(l.href=r,l.origin!==location.origin?q2(l.href)?X0(r,e,n):Rh(l,l.target="_blank"):Rh(l)):(l.href=a.createObjectURL(r),setTimeout(function(){a.revokeObjectURL(l.href)},4e4),setTimeout(function(){Rh(l)},0))}:"msSaveOrOpenBlob"in navigator?function(r,e,n){if(e=e||r.name||"download",typeof r=="string")if(q2(r))X0(r,e,n);else{var a=document.createElement("a");a.href=r,a.target="_blank",setTimeout(function(){Rh(a)})}else navigator.msSaveOrOpenBlob((function(l,o){return o===void 0?o={autoBom:!1}:En(o)!=="object"&&(zn.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(l.type)?new Blob(["\uFEFF",l],{type:l.type}):l})(r,n),e)}:function(r,e,n,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),typeof r=="string")return X0(r,e,n);var l=r.type==="application/octet-stream",o=/constructor/i.test(It.HTMLElement)||It.safari,f=/CriOS\/[\d]+/.test(navigator.userAgent);if((f||l&&o)&&(typeof FileReader>"u"?"undefined":En(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var v=c.result;v=f?v:v.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=v:location=v,a=null},c.readAsDataURL(r)}else{var h=It.URL||It.webkitURL,p=h.createObjectURL(r);a?a.location=p:location.href=p,a=null,setTimeout(function(){h.revokeObjectURL(p)},4e4)}});function Ty(r){var e;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],a=0;a<n.length;a++){var l=n[a].re,o=n[a].process,f=l.exec(r);f&&(e=o(f),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),h=this.g.toString(16),p=this.b.toString(16);return c.length==1&&(c="0"+c),h.length==1&&(h="0"+h),p.length==1&&(p="0"+p),"#"+c+h+p}}var Ph=It.atob.bind(It),F2=It.btoa.bind(It);function Z0(r,e){var n=r[0],a=r[1],l=r[2],o=r[3];n=hi(n,a,l,o,e[0],7,-680876936),o=hi(o,n,a,l,e[1],12,-389564586),l=hi(l,o,n,a,e[2],17,606105819),a=hi(a,l,o,n,e[3],22,-1044525330),n=hi(n,a,l,o,e[4],7,-176418897),o=hi(o,n,a,l,e[5],12,1200080426),l=hi(l,o,n,a,e[6],17,-1473231341),a=hi(a,l,o,n,e[7],22,-45705983),n=hi(n,a,l,o,e[8],7,1770035416),o=hi(o,n,a,l,e[9],12,-1958414417),l=hi(l,o,n,a,e[10],17,-42063),a=hi(a,l,o,n,e[11],22,-1990404162),n=hi(n,a,l,o,e[12],7,1804603682),o=hi(o,n,a,l,e[13],12,-40341101),l=hi(l,o,n,a,e[14],17,-1502002290),n=di(n,a=hi(a,l,o,n,e[15],22,1236535329),l,o,e[1],5,-165796510),o=di(o,n,a,l,e[6],9,-1069501632),l=di(l,o,n,a,e[11],14,643717713),a=di(a,l,o,n,e[0],20,-373897302),n=di(n,a,l,o,e[5],5,-701558691),o=di(o,n,a,l,e[10],9,38016083),l=di(l,o,n,a,e[15],14,-660478335),a=di(a,l,o,n,e[4],20,-405537848),n=di(n,a,l,o,e[9],5,568446438),o=di(o,n,a,l,e[14],9,-1019803690),l=di(l,o,n,a,e[3],14,-187363961),a=di(a,l,o,n,e[8],20,1163531501),n=di(n,a,l,o,e[13],5,-1444681467),o=di(o,n,a,l,e[2],9,-51403784),l=di(l,o,n,a,e[7],14,1735328473),n=pi(n,a=di(a,l,o,n,e[12],20,-1926607734),l,o,e[5],4,-378558),o=pi(o,n,a,l,e[8],11,-2022574463),l=pi(l,o,n,a,e[11],16,1839030562),a=pi(a,l,o,n,e[14],23,-35309556),n=pi(n,a,l,o,e[1],4,-1530992060),o=pi(o,n,a,l,e[4],11,1272893353),l=pi(l,o,n,a,e[7],16,-155497632),a=pi(a,l,o,n,e[10],23,-1094730640),n=pi(n,a,l,o,e[13],4,681279174),o=pi(o,n,a,l,e[0],11,-358537222),l=pi(l,o,n,a,e[3],16,-722521979),a=pi(a,l,o,n,e[6],23,76029189),n=pi(n,a,l,o,e[9],4,-640364487),o=pi(o,n,a,l,e[12],11,-421815835),l=pi(l,o,n,a,e[15],16,530742520),n=mi(n,a=pi(a,l,o,n,e[2],23,-995338651),l,o,e[0],6,-198630844),o=mi(o,n,a,l,e[7],10,1126891415),l=mi(l,o,n,a,e[14],15,-1416354905),a=mi(a,l,o,n,e[5],21,-57434055),n=mi(n,a,l,o,e[12],6,1700485571),o=mi(o,n,a,l,e[3],10,-1894986606),l=mi(l,o,n,a,e[10],15,-1051523),a=mi(a,l,o,n,e[1],21,-2054922799),n=mi(n,a,l,o,e[8],6,1873313359),o=mi(o,n,a,l,e[15],10,-30611744),l=mi(l,o,n,a,e[6],15,-1560198380),a=mi(a,l,o,n,e[13],21,1309151649),n=mi(n,a,l,o,e[4],6,-145523070),o=mi(o,n,a,l,e[11],10,-1120210379),l=mi(l,o,n,a,e[2],15,718787259),a=mi(a,l,o,n,e[9],21,-343485551),r[0]=dl(n,r[0]),r[1]=dl(a,r[1]),r[2]=dl(l,r[2]),r[3]=dl(o,r[3])}function sd(r,e,n,a,l,o){return e=dl(dl(e,r),dl(a,o)),dl(e<<l|e>>>32-l,n)}function hi(r,e,n,a,l,o,f){return sd(e&n|~e&a,r,e,l,o,f)}function di(r,e,n,a,l,o,f){return sd(e&a|n&~a,r,e,l,o,f)}function pi(r,e,n,a,l,o,f){return sd(e^n^a,r,e,l,o,f)}function mi(r,e,n,a,l,o,f){return sd(n^(e|~a),r,e,l,o,f)}function ky(r){var e,n=r.length,a=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=r.length;e+=64)Z0(a,qS(r.substring(e-64,e)));r=r.substring(e-64);var l=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r.length;e++)l[e>>2]|=r.charCodeAt(e)<<(e%4<<3);if(l[e>>2]|=128<<(e%4<<3),e>55)for(Z0(a,l),e=0;e<16;e++)l[e]=0;return l[14]=8*n,Z0(a,l),a}function qS(r){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=r.charCodeAt(e)+(r.charCodeAt(e+1)<<8)+(r.charCodeAt(e+2)<<16)+(r.charCodeAt(e+3)<<24);return n}var H2="0123456789abcdef".split("");function FS(r){for(var e="",n=0;n<4;n++)e+=H2[r>>8*n+4&15]+H2[r>>8*n&15];return e}function HS(r){return String.fromCharCode(255&r,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function Ap(r){return ky(r).map(HS).join("")}var $S=(function(r){for(var e=0;e<r.length;e++)r[e]=FS(r[e]);return r.join("")})(ky("hello"))!="5d41402abc4b2a76b9719d911017c592";function dl(r,e){if($S){var n=(65535&r)+(65535&e);return(r>>16)+(e>>16)+(n>>16)<<16|65535&n}return r+e&4294967295}function Ep(r,e){var n,a,l,o;if(r!==n){for(var f=(l=r,o=1+(256/r.length|0),new Array(o+1).join(l)),c=[],h=0;h<256;h++)c[h]=h;var p=0;for(h=0;h<256;h++){var v=c[h];p=(p+v+f.charCodeAt(h))%256,c[h]=c[p],c[p]=v}n=r,a=c}else c=a;var x=e.length,A=0,y=0,L="";for(h=0;h<x;h++)y=(y+(v=c[A=(A+1)%256]))%256,c[A]=c[y],c[y]=v,f=c[(c[A]+c[y])%256],L+=String.fromCharCode(e.charCodeAt(h)^f);return L}var $2={print:4,modify:8,copy:16,"annot-forms":32};function cc(r,e,n,a){this.v=1,this.r=2;var l=192;r.forEach(function(c){if($2.perm!==void 0)throw new Error("Invalid permission: "+c);l+=$2[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),f=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,f),this.P=-(1+(255^l)),this.encryptionKey=Ap(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(a)).substr(0,5),this.U=Ep(this.encryptionKey,this.padding)}function fc(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var e="",n=r.length,a=0;a<n;a++){var l=r.charCodeAt(a);e+=l<33||l===35||l===37||l===40||l===41||l===47||l===60||l===62||l===91||l===93||l===123||l===125||l>126?"#"+("0"+l.toString(16)).slice(-2):r[a]}return e}function G2(r){if(En(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,a,l){if(l=l||!1,typeof n!="string"||typeof a!="function"||typeof l!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var o=Math.random().toString(35);return e[n][o]=[a,!!l],o},this.unsubscribe=function(n){for(var a in e)if(e[a][n])return delete e[a][n],Object.keys(e[a]).length===0&&delete e[a],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var a=Array.prototype.slice.call(arguments,1),l=[];for(var o in e[n]){var f=e[n][o];try{f[0].apply(r,a)}catch(c){It.console&&zn.error("jsPDF PubSub Error",c.message,c)}f[1]&&l.push(o)}l.length&&l.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Jh(r){if(!(this instanceof Jh))return new Jh(r);var e="opacity,stroke-opacity".split(",");for(var n in r)r.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=r[n]);this.id="",this.objectNumber=-1}function Ny(r,e){this.gState=r,this.matrix=e,this.id="",this.objectNumber=-1}function Ql(r,e,n,a,l){if(!(this instanceof Ql))return new Ql(r,e,n,a,l);this.type=r==="axial"?2:3,this.coords=e,this.colors=n,Ny.call(this,a,l)}function dc(r,e,n,a,l){if(!(this instanceof dc))return new dc(r,e,n,a,l);this.boundingBox=r,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,Ny.call(this,a,l)}function wt(r){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",a=arguments[1],l=arguments[2],o=arguments[3],f=[],c=1,h=16,p="S",v=null;En(r=r||{})==="object"&&(n=r.orientation,a=r.unit||a,l=r.format||l,o=r.compress||r.compressPdf||o,(v=r.encryption||null)!==null&&(v.userPassword=v.userPassword||"",v.ownerPassword=v.ownerPassword||"",v.userPermissions=v.userPermissions||[]),c=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(e=r.precision),r.floatPrecision!==void 0&&(h=r.floatPrecision),p=r.defaultPathOperation||"S"),f=r.filters||(o===!0?["FlateEncode"]:f),a=a||"mm",n=(""+(n||"P")).toLowerCase();var x=r.putOnlyUsedFonts||!1,A={},y={internal:{},__private__:{}};y.__private__.PubSub=G2;var L="1.3",E=y.__private__.getPdfVersion=function(){return L};y.__private__.setPdfVersion=function(w){L=w};var j={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};y.__private__.getPageFormats=function(){return j};var O=y.__private__.getPageFormat=function(w){return j[w]};l=l||"a4";var M="compat",F="advanced",G=M;function se(){this.saveGraphicsState(),B(new _t(kt,0,0,-kt,0,Wa()*kt).toString()+" cm"),this.setFontSize(this.getFontSize()/kt),p="n",G=F}function me(){this.restoreGraphicsState(),p="S",G=M}var Q=y.__private__.combineFontStyleAndFontWeight=function(w,R){if(w=="bold"&&R=="normal"||w=="bold"&&R==400||w=="normal"&&R=="italic"||w=="bold"&&R=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return R&&(w=R==400||R==="normal"?w==="italic"?"italic":"normal":R!=700&&R!=="bold"||w!=="normal"?(R==700?"bold":R)+""+w:"bold"),w};y.advancedAPI=function(w){var R=G===M;return R&&se.call(this),typeof w!="function"||(w(this),R&&me.call(this)),this},y.compatAPI=function(w){var R=G===F;return R&&me.call(this),typeof w!="function"||(w(this),R&&se.call(this)),this},y.isAdvancedAPI=function(){return G===F};var ee,$=function(w){if(G!==F)throw new Error(w+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},he=y.roundToPrecision=y.__private__.roundToPrecision=function(w,R){var Z=e||R;if(isNaN(w)||isNaN(Z))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return w.toFixed(Z).replace(/0+$/,"")};ee=y.hpf=y.__private__.hpf=typeof h=="number"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return he(w,h)}:h==="smart"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return he(w,w>-1&&w<1?16:5)}:function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return he(w,16)};var C=y.f2=y.__private__.f2=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f2");return he(w,2)},q=y.__private__.f3=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f3");return he(w,3)},re=y.scale=y.__private__.scale=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.scale");return G===M?w*kt:G===F?w:void 0},ie=function(w){return re((function(R){return G===M?Wa()-R:G===F?R:void 0})(w))};y.__private__.setPrecision=y.setPrecision=function(w){typeof parseInt(w,10)=="number"&&(e=parseInt(w,10))};var we,Y="00000000000000000000000000000000",le=y.__private__.getFileId=function(){return Y},ue=y.__private__.setFileId=function(w){return Y=w!==void 0&&/^[a-fA-F0-9]{32}$/.test(w)?w.toUpperCase():Y.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),v!==null&&(gr=new cc(v.userPermissions,v.userPassword,v.ownerPassword,Y)),Y};y.setFileId=function(w){return ue(w),this},y.getFileId=function(){return le()};var Se=y.__private__.convertDateToPDFDate=function(w){var R=w.getTimezoneOffset(),Z=R<0?"+":"-",ce=Math.floor(Math.abs(R/60)),ye=Math.abs(R%60),Pe=[Z,K(ce),"'",K(ye),"'"].join("");return["D:",w.getFullYear(),K(w.getMonth()+1),K(w.getDate()),K(w.getHours()),K(w.getMinutes()),K(w.getSeconds()),Pe].join("")},ze=y.__private__.convertPDFDateToDate=function(w){var R=parseInt(w.substr(2,4),10),Z=parseInt(w.substr(6,2),10)-1,ce=parseInt(w.substr(8,2),10),ye=parseInt(w.substr(10,2),10),Pe=parseInt(w.substr(12,2),10),Ge=parseInt(w.substr(14,2),10);return new Date(R,Z,ce,ye,Pe,Ge,0)},W=y.__private__.setCreationDate=function(w){var R;if(w===void 0&&(w=new Date),w instanceof Date)R=Se(w);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(w))throw new Error("Invalid argument passed to jsPDF.setCreationDate");R=w}return we=R},k=y.__private__.getCreationDate=function(w){var R=we;return w==="jsDate"&&(R=ze(we)),R};y.setCreationDate=function(w){return W(w),this},y.getCreationDate=function(w){return k(w)};var P,K=y.__private__.padd2=function(w){return("0"+parseInt(w)).slice(-2)},ne=y.__private__.padd2Hex=function(w){return("00"+(w=w.toString())).substr(w.length)},ae=0,de=[],Ne=[],Ae=0,Ue=[],We=[],Qe=!1,et=Ne;y.__private__.setCustomOutputDestination=function(w){Qe=!0,et=w};var xe=function(w){Qe||(et=w)};y.__private__.resetCustomOutputDestination=function(){Qe=!1,et=Ne};var B=y.__private__.out=function(w){return w=w.toString(),Ae+=w.length+1,et.push(w),et},je=y.__private__.write=function(w){return B(arguments.length===1?w.toString():Array.prototype.join.call(arguments," "))},Ke=y.__private__.getArrayBuffer=function(w){for(var R=w.length,Z=new ArrayBuffer(R),ce=new Uint8Array(Z);R--;)ce[R]=w.charCodeAt(R);return Z},Re=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];y.__private__.getStandardFonts=function(){return Re};var Oe=r.fontSize||16;y.__private__.setFontSize=y.setFontSize=function(w){return Oe=G===F?w/kt:w,this};var Ye,$e=y.__private__.getFontSize=y.getFontSize=function(){return G===M?Oe:Oe*kt},st=r.R2L||!1;y.__private__.setR2L=y.setR2L=function(w){return st=w,this},y.__private__.getR2L=y.getR2L=function(){return st};var ft,Lt=y.__private__.setZoomMode=function(w){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(w))Ye=w;else if(isNaN(w)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(w)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+w+'" is not recognized.');Ye=w}else Ye=parseInt(w,10)};y.__private__.getZoomMode=function(){return Ye};var Tt,yt=y.__private__.setPageMode=function(w){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(w)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+w+'" is not recognized.');ft=w};y.__private__.getPageMode=function(){return ft};var Nt=y.__private__.setLayoutMode=function(w){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(w)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+w+'" is not recognized.');Tt=w};y.__private__.getLayoutMode=function(){return Tt},y.__private__.setDisplayMode=y.setDisplayMode=function(w,R,Z){return Lt(w),Nt(R),yt(Z),this};var Mt={title:"",subject:"",author:"",keywords:"",creator:""};y.__private__.getDocumentProperty=function(w){if(Object.keys(Mt).indexOf(w)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Mt[w]},y.__private__.getDocumentProperties=function(){return Mt},y.__private__.setDocumentProperties=y.setProperties=y.setDocumentProperties=function(w){for(var R in Mt)Mt.hasOwnProperty(R)&&w[R]&&(Mt[R]=w[R]);return this},y.__private__.setDocumentProperty=function(w,R){if(Object.keys(Mt).indexOf(w)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Mt[w]=R};var nt,kt,ot,un,Xe,Ze={},rt={},jt=[],pt={},Yt={},xt={},Ot={},rn=null,qt=0,vt=[],Jt=new G2(y),an=r.hotfixes||[],Tn={},qr={},oi=[],_t=function w(R,Z,ce,ye,Pe,Ge){if(!(this instanceof w))return new w(R,Z,ce,ye,Pe,Ge);isNaN(R)&&(R=1),isNaN(Z)&&(Z=0),isNaN(ce)&&(ce=0),isNaN(ye)&&(ye=1),isNaN(Pe)&&(Pe=0),isNaN(Ge)&&(Ge=0),this._matrix=[R,Z,ce,ye,Pe,Ge]};Object.defineProperty(_t.prototype,"sx",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(_t.prototype,"shy",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(_t.prototype,"shx",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(_t.prototype,"sy",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(_t.prototype,"tx",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(_t.prototype,"ty",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(_t.prototype,"a",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(_t.prototype,"b",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(_t.prototype,"c",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(_t.prototype,"d",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(_t.prototype,"e",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(_t.prototype,"f",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(_t.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(_t.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(_t.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(_t.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),_t.prototype.join=function(w){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(ee).join(w)},_t.prototype.multiply=function(w){var R=w.sx*this.sx+w.shy*this.shx,Z=w.sx*this.shy+w.shy*this.sy,ce=w.shx*this.sx+w.sy*this.shx,ye=w.shx*this.shy+w.sy*this.sy,Pe=w.tx*this.sx+w.ty*this.shx+this.tx,Ge=w.tx*this.shy+w.ty*this.sy+this.ty;return new _t(R,Z,ce,ye,Pe,Ge)},_t.prototype.decompose=function(){var w=this.sx,R=this.shy,Z=this.shx,ce=this.sy,ye=this.tx,Pe=this.ty,Ge=Math.sqrt(w*w+R*R),ut=(w/=Ge)*Z+(R/=Ge)*ce;Z-=w*ut,ce-=R*ut;var mt=Math.sqrt(Z*Z+ce*ce);return ut/=mt,w*(ce/=mt)<R*(Z/=mt)&&(w=-w,R=-R,ut=-ut,Ge=-Ge),{scale:new _t(Ge,0,0,mt,0,0),translate:new _t(1,0,0,1,ye,Pe),rotate:new _t(w,R,-R,w,0,0),skew:new _t(1,0,ut,1,0,0)}},_t.prototype.toString=function(w){return this.join(" ")},_t.prototype.inversed=function(){var w=this.sx,R=this.shy,Z=this.shx,ce=this.sy,ye=this.tx,Pe=this.ty,Ge=1/(w*ce-R*Z),ut=ce*Ge,mt=-R*Ge,Bt=-Z*Ge,Ft=w*Ge;return new _t(ut,mt,Bt,Ft,-ut*ye-Bt*Pe,-mt*ye-Ft*Pe)},_t.prototype.applyToPoint=function(w){var R=w.x*this.sx+w.y*this.shx+this.tx,Z=w.x*this.shy+w.y*this.sy+this.ty;return new Li(R,Z)},_t.prototype.applyToRectangle=function(w){var R=this.applyToPoint(w),Z=this.applyToPoint(new Li(w.x+w.w,w.y+w.h));return new qa(R.x,R.y,Z.x-R.x,Z.y-R.y)},_t.prototype.clone=function(){var w=this.sx,R=this.shy,Z=this.shx,ce=this.sy,ye=this.tx,Pe=this.ty;return new _t(w,R,Z,ce,ye,Pe)},y.Matrix=_t;var Ua=y.matrixMult=function(w,R){return R.multiply(w)},ga=new _t(1,0,0,1,0,0);y.unitMatrix=y.identityMatrix=ga;var gi=function(w,R){if(!Yt[w]){var Z=(R instanceof Ql?"Sh":"P")+(Object.keys(pt).length+1).toString(10);R.id=Z,Yt[w]=Z,pt[Z]=R,Jt.publish("addPattern",R)}};y.ShadingPattern=Ql,y.TilingPattern=dc,y.addShadingPattern=function(w,R){return $("addShadingPattern()"),gi(w,R),this},y.beginTilingPattern=function(w){$("beginTilingPattern()"),Xs(w.boundingBox[0],w.boundingBox[1],w.boundingBox[2]-w.boundingBox[0],w.boundingBox[3]-w.boundingBox[1],w.matrix)},y.endTilingPattern=function(w,R){$("endTilingPattern()"),R.stream=We[P].join(`
`),gi(w,R),Jt.publish("endTilingPattern",R),oi.pop().restore()};var yi,Un=y.__private__.newObject=function(){var w=ar();return Sr(w,!0),w},ar=y.__private__.newObjectDeferred=function(){return ae++,de[ae]=function(){return Ae},ae},Sr=function(w,R){return R=typeof R=="boolean"&&R,de[w]=Ae,R&&B(w+" 0 obj"),w},bs=y.__private__.newAdditionalObject=function(){var w={objId:ar(),content:""};return Ue.push(w),w},Jr=ar(),xn=ar(),Pn=y.__private__.decodeColorString=function(w){var R=w.split(" ");if(R.length!==2||R[1]!=="g"&&R[1]!=="G")R.length!==5||R[4]!=="k"&&R[4]!=="K"||(R=[(1-R[0])*(1-R[3]),(1-R[1])*(1-R[3]),(1-R[2])*(1-R[3]),"r"]);else{var Z=parseFloat(R[0]);R=[Z,Z,Z,"r"]}for(var ce="#",ye=0;ye<3;ye++)ce+=("0"+Math.floor(255*parseFloat(R[ye])).toString(16)).slice(-2);return ce},Fr=y.__private__.encodeColorString=function(w){var R;typeof w=="string"&&(w={ch1:w});var Z=w.ch1,ce=w.ch2,ye=w.ch3,Pe=w.ch4,Ge=w.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Z=="string"&&Z.charAt(0)!=="#"){var ut=new Ty(Z);if(ut.ok)Z=ut.toHex();else if(!/^\d*\.?\d*$/.test(Z))throw new Error('Invalid color "'+Z+'" passed to jsPDF.encodeColorString.')}if(typeof Z=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Z)&&(Z="#"+Z[1]+Z[1]+Z[2]+Z[2]+Z[3]+Z[3]),typeof Z=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Z)){var mt=parseInt(Z.substr(1),16);Z=mt>>16&255,ce=mt>>8&255,ye=255&mt}if(ce===void 0||Pe===void 0&&Z===ce&&ce===ye)R=typeof Z=="string"?Z+" "+Ge[0]:w.precision===2?C(Z/255)+" "+Ge[0]:q(Z/255)+" "+Ge[0];else if(Pe===void 0||En(Pe)==="object"){if(Pe&&!isNaN(Pe.a)&&Pe.a===0)return["1.","1.","1.",Ge[1]].join(" ");R=typeof Z=="string"?[Z,ce,ye,Ge[1]].join(" "):w.precision===2?[C(Z/255),C(ce/255),C(ye/255),Ge[1]].join(" "):[q(Z/255),q(ce/255),q(ye/255),Ge[1]].join(" ")}else R=typeof Z=="string"?[Z,ce,ye,Pe,Ge[2]].join(" "):w.precision===2?[C(Z),C(ce),C(ye),C(Pe),Ge[2]].join(" "):[q(Z),q(ce),q(ye),q(Pe),Ge[2]].join(" ");return R},vi=y.__private__.getFilters=function(){return f},ki=y.__private__.putStream=function(w){var R=(w=w||{}).data||"",Z=w.filters||vi(),ce=w.alreadyAppliedFilters||[],ye=w.addLength1||!1,Pe=R.length,Ge=w.objectId,ut=function(yr){return yr};if(v!==null&&Ge===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");v!==null&&(ut=gr.encryptor(Ge,0));var mt={};Z===!0&&(Z=["FlateEncode"]);var Bt=w.additionalKeyValues||[],Ft=(mt=wt.API.processDataByFilters!==void 0?wt.API.processDataByFilters(R,Z):{data:R,reverseChain:[]}).reverseChain+(Array.isArray(ce)?ce.join(" "):ce.toString());if(mt.data.length!==0&&(Bt.push({key:"Length",value:mt.data.length}),ye===!0&&Bt.push({key:"Length1",value:Pe})),Ft.length!=0)if(Ft.split("/").length-1==1)Bt.push({key:"Filter",value:Ft});else{Bt.push({key:"Filter",value:"["+Ft+"]"});for(var sn=0;sn<Bt.length;sn+=1)if(Bt[sn].key==="DecodeParms"){for(var In=[],Qn=0;Qn<mt.reverseChain.split("/").length-1;Qn+=1)In.push("null");In.push(Bt[sn].value),Bt[sn].value="["+In.join(" ")+"]"}}B("<<");for(var kn=0;kn<Bt.length;kn++)B("/"+Bt[kn].key+" "+Bt[kn].value);B(">>"),mt.data.length!==0&&(B("stream"),B(ut(mt.data)),B("endstream"))},Gs=y.__private__.putPage=function(w){var R=w.number,Z=w.data,ce=w.objId,ye=w.contentsObjId;Sr(ce,!0),B("<</Type /Page"),B("/Parent "+w.rootDictionaryObjId+" 0 R"),B("/Resources "+w.resourceDictionaryObjId+" 0 R"),B("/MediaBox ["+parseFloat(ee(w.mediaBox.bottomLeftX))+" "+parseFloat(ee(w.mediaBox.bottomLeftY))+" "+ee(w.mediaBox.topRightX)+" "+ee(w.mediaBox.topRightY)+"]"),w.cropBox!==null&&B("/CropBox ["+ee(w.cropBox.bottomLeftX)+" "+ee(w.cropBox.bottomLeftY)+" "+ee(w.cropBox.topRightX)+" "+ee(w.cropBox.topRightY)+"]"),w.bleedBox!==null&&B("/BleedBox ["+ee(w.bleedBox.bottomLeftX)+" "+ee(w.bleedBox.bottomLeftY)+" "+ee(w.bleedBox.topRightX)+" "+ee(w.bleedBox.topRightY)+"]"),w.trimBox!==null&&B("/TrimBox ["+ee(w.trimBox.bottomLeftX)+" "+ee(w.trimBox.bottomLeftY)+" "+ee(w.trimBox.topRightX)+" "+ee(w.trimBox.topRightY)+"]"),w.artBox!==null&&B("/ArtBox ["+ee(w.artBox.bottomLeftX)+" "+ee(w.artBox.bottomLeftY)+" "+ee(w.artBox.topRightX)+" "+ee(w.artBox.topRightY)+"]"),typeof w.userUnit=="number"&&w.userUnit!==1&&B("/UserUnit "+w.userUnit),Jt.publish("putPage",{objId:ce,pageContext:vt[R],pageNumber:R,page:Z}),B("/Contents "+ye+" 0 R"),B(">>"),B("endobj");var Pe=Z.join(`
`);return G===F&&(Pe+=`
Q`),Sr(ye,!0),ki({data:Pe,filters:vi(),objectId:ye}),B("endobj"),ce},Wi=y.__private__.putPages=function(){var w,R,Z=[];for(w=1;w<=qt;w++)vt[w].objId=ar(),vt[w].contentsObjId=ar();for(w=1;w<=qt;w++)Z.push(Gs({number:w,data:We[w],objId:vt[w].objId,contentsObjId:vt[w].contentsObjId,mediaBox:vt[w].mediaBox,cropBox:vt[w].cropBox,bleedBox:vt[w].bleedBox,trimBox:vt[w].trimBox,artBox:vt[w].artBox,userUnit:vt[w].userUnit,rootDictionaryObjId:Jr,resourceDictionaryObjId:xn}));Sr(Jr,!0),B("<</Type /Pages");var ce="/Kids [";for(R=0;R<qt;R++)ce+=Z[R]+" 0 R ";B(ce+"]"),B("/Count "+qt),B(">>"),B("endobj"),Jt.publish("postPutPages")},Vi=function(w){Jt.publish("putFont",{font:w,out:B,newObject:Un,putStream:ki}),w.isAlreadyPutted!==!0&&(w.objectNumber=Un(),B("<<"),B("/Type /Font"),B("/BaseFont /"+fc(w.postScriptName)),B("/Subtype /Type1"),typeof w.encoding=="string"&&B("/Encoding /"+w.encoding),B("/FirstChar 32"),B("/LastChar 255"),B(">>"),B("endobj"))},ws=function(w){w.objectNumber=Un();var R=[];R.push({key:"Type",value:"/XObject"}),R.push({key:"Subtype",value:"/Form"}),R.push({key:"BBox",value:"["+[ee(w.x),ee(w.y),ee(w.x+w.width),ee(w.y+w.height)].join(" ")+"]"}),R.push({key:"Matrix",value:"["+w.matrix.toString()+"]"});var Z=w.pages[1].join(`
`);ki({data:Z,additionalKeyValues:R,objectId:w.objectNumber}),B("endobj")},Yi=function(w,R){R||(R=21);var Z=Un(),ce=(function(Ge,ut){var mt,Bt=[],Ft=1/(ut-1);for(mt=0;mt<1;mt+=Ft)Bt.push(mt);if(Bt.push(1),Ge[0].offset!=0){var sn={offset:0,color:Ge[0].color};Ge.unshift(sn)}if(Ge[Ge.length-1].offset!=1){var In={offset:1,color:Ge[Ge.length-1].color};Ge.push(In)}for(var Qn="",kn=0,yr=0;yr<Bt.length;yr++){for(mt=Bt[yr];mt>Ge[kn+1].offset;)kn++;var or=Ge[kn].offset,Cr=(mt-or)/(Ge[kn+1].offset-or),Va=Ge[kn].color,ea=Ge[kn+1].color;Qn+=ne(Math.round((1-Cr)*Va[0]+Cr*ea[0]).toString(16))+ne(Math.round((1-Cr)*Va[1]+Cr*ea[1]).toString(16))+ne(Math.round((1-Cr)*Va[2]+Cr*ea[2]).toString(16))}return Qn.trim()})(w.colors,R),ye=[];ye.push({key:"FunctionType",value:"0"}),ye.push({key:"Domain",value:"[0.0 1.0]"}),ye.push({key:"Size",value:"["+R+"]"}),ye.push({key:"BitsPerSample",value:"8"}),ye.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ye.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ki({data:ce,additionalKeyValues:ye,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Z}),B("endobj"),w.objectNumber=Un(),B("<< /ShadingType "+w.type),B("/ColorSpace /DeviceRGB");var Pe="/Coords ["+ee(parseFloat(w.coords[0]))+" "+ee(parseFloat(w.coords[1]))+" ";w.type===2?Pe+=ee(parseFloat(w.coords[2]))+" "+ee(parseFloat(w.coords[3])):Pe+=ee(parseFloat(w.coords[2]))+" "+ee(parseFloat(w.coords[3]))+" "+ee(parseFloat(w.coords[4]))+" "+ee(parseFloat(w.coords[5])),B(Pe+="]"),w.matrix&&B("/Matrix ["+w.matrix.toString()+"]"),B("/Function "+Z+" 0 R"),B("/Extend [true true]"),B(">>"),B("endobj")},Ki=function(w,R){var Z=ar(),ce=Un();R.push({resourcesOid:Z,objectOid:ce}),w.objectNumber=ce;var ye=[];ye.push({key:"Type",value:"/Pattern"}),ye.push({key:"PatternType",value:"1"}),ye.push({key:"PaintType",value:"1"}),ye.push({key:"TilingType",value:"1"}),ye.push({key:"BBox",value:"["+w.boundingBox.map(ee).join(" ")+"]"}),ye.push({key:"XStep",value:ee(w.xStep)}),ye.push({key:"YStep",value:ee(w.yStep)}),ye.push({key:"Resources",value:Z+" 0 R"}),w.matrix&&ye.push({key:"Matrix",value:"["+w.matrix.toString()+"]"}),ki({data:w.stream,additionalKeyValues:ye,objectId:w.objectNumber}),B("endobj")},Ws=function(w){for(var R in w.objectNumber=Un(),B("<<"),w)switch(R){case"opacity":B("/ca "+C(w[R]));break;case"stroke-opacity":B("/CA "+C(w[R]))}B(">>"),B("endobj")},ya=function(w){Sr(w.resourcesOid,!0),B("<<"),B("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var R in B("/Font <<"),Ze)Ze.hasOwnProperty(R)&&(x===!1||x===!0&&A.hasOwnProperty(R))&&B("/"+R+" "+Ze[R].objectNumber+" 0 R");B(">>")})(),(function(){if(Object.keys(pt).length>0){for(var R in B("/Shading <<"),pt)pt.hasOwnProperty(R)&&pt[R]instanceof Ql&&pt[R].objectNumber>=0&&B("/"+R+" "+pt[R].objectNumber+" 0 R");Jt.publish("putShadingPatternDict"),B(">>")}})(),(function(R){if(Object.keys(pt).length>0){for(var Z in B("/Pattern <<"),pt)pt.hasOwnProperty(Z)&&pt[Z]instanceof y.TilingPattern&&pt[Z].objectNumber>=0&&pt[Z].objectNumber<R&&B("/"+Z+" "+pt[Z].objectNumber+" 0 R");Jt.publish("putTilingPatternDict"),B(">>")}})(w.objectOid),(function(){if(Object.keys(xt).length>0){var R;for(R in B("/ExtGState <<"),xt)xt.hasOwnProperty(R)&&xt[R].objectNumber>=0&&B("/"+R+" "+xt[R].objectNumber+" 0 R");Jt.publish("putGStateDict"),B(">>")}})(),(function(){for(var R in B("/XObject <<"),Tn)Tn.hasOwnProperty(R)&&Tn[R].objectNumber>=0&&B("/"+R+" "+Tn[R].objectNumber+" 0 R");Jt.publish("putXobjectDict"),B(">>")})(),B(">>"),B("endobj")},Zn=function(w){rt[w.fontName]=rt[w.fontName]||{},rt[w.fontName][w.fontStyle]=w.id},ml=function(w,R,Z,ce,ye){var Pe={id:"F"+(Object.keys(Ze).length+1).toString(10),postScriptName:w,fontName:R,fontStyle:Z,encoding:ce,isStandardFont:ye||!1,metadata:{}};return Jt.publish("addFont",{font:Pe,instance:this}),Ze[Pe.id]=Pe,Zn(Pe),Pe.id},bi=y.__private__.pdfEscape=y.pdfEscape=function(w,R){return(function(Z,ce){var ye,Pe,Ge,ut,mt,Bt,Ft,sn,In;if(Ge=(ce=ce||{}).sourceEncoding||"Unicode",mt=ce.outputEncoding,(ce.autoencode||mt)&&Ze[nt].metadata&&Ze[nt].metadata[Ge]&&Ze[nt].metadata[Ge].encoding&&(ut=Ze[nt].metadata[Ge].encoding,!mt&&Ze[nt].encoding&&(mt=Ze[nt].encoding),!mt&&ut.codePages&&(mt=ut.codePages[0]),typeof mt=="string"&&(mt=ut[mt]),mt)){for(Ft=!1,Bt=[],ye=0,Pe=Z.length;ye<Pe;ye++)(sn=mt[Z.charCodeAt(ye)])?Bt.push(String.fromCharCode(sn)):Bt.push(Z[ye]),Bt[ye].charCodeAt(0)>>8&&(Ft=!0);Z=Bt.join("")}for(ye=Z.length;Ft===void 0&&ye!==0;)Z.charCodeAt(ye-1)>>8&&(Ft=!0),ye--;if(!Ft)return Z;for(Bt=ce.noBOM?[]:[254,255],ye=0,Pe=Z.length;ye<Pe;ye++){if((In=(sn=Z.charCodeAt(ye))>>8)>>8)throw new Error("Character at position "+ye+" of string '"+Z+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Bt.push(In),Bt.push(sn-(In<<8))}return String.fromCharCode.apply(void 0,Bt)})(w,R).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ji=y.__private__.beginPage=function(w){We[++qt]=[],vt[qt]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(w[0]),topRightY:Number(w[1])}},yl(qt),xe(We[P])},Ma=function(w,R){var Z,ce,ye;switch(n=R||n,typeof w=="string"&&(Z=O(w.toLowerCase()),Array.isArray(Z)&&(ce=Z[0],ye=Z[1])),Array.isArray(w)&&(ce=w[0]*kt,ye=w[1]*kt),isNaN(ce)&&(ce=l[0],ye=l[1]),(ce>14400||ye>14400)&&(zn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ce=Math.min(14400,ce),ye=Math.min(14400,ye)),l=[ce,ye],n.substr(0,1)){case"l":ye>ce&&(l=[ye,ce]);break;case"p":ce>ye&&(l=[ye,ce])}Ji(l),Ct(Ys),B(_i),Oo!==0&&B(Oo+" J"),Ar!==0&&B(Ar+" j"),Jt.publish("addPage",{pageNumber:qt})},gl=function(w){w>0&&w<=qt&&(We.splice(w,1),vt.splice(w,1),qt--,P>qt&&(P=qt),this.setPage(P))},yl=function(w){w>0&&w<=qt&&(P=w)},vl=y.__private__.getNumberOfPages=y.getNumberOfPages=function(){return We.length-1},ou=function(w,R,Z){var ce,ye=void 0;return Z=Z||{},w=w!==void 0?w:Ze[nt].fontName,R=R!==void 0?R:Ze[nt].fontStyle,ce=w.toLowerCase(),rt[ce]!==void 0&&rt[ce][R]!==void 0?ye=rt[ce][R]:rt[w]!==void 0&&rt[w][R]!==void 0?ye=rt[w][R]:Z.disableWarning===!1&&zn.warn("Unable to look up font label for font '"+w+"', '"+R+"'. Refer to getFontList() for available fonts."),ye||Z.noFallback||(ye=rt.times[R])==null&&(ye=rt.times.normal),ye},wi=y.__private__.putInfo=function(){var w=Un(),R=function(ce){return ce};for(var Z in v!==null&&(R=gr.encryptor(w,0)),B("<<"),B("/Producer ("+bi(R("jsPDF "+wt.version))+")"),Mt)Mt.hasOwnProperty(Z)&&Mt[Z]&&B("/"+Z.substr(0,1).toUpperCase()+Z.substr(1)+" ("+bi(R(Mt[Z]))+")");B("/CreationDate ("+bi(R(we))+")"),B(">>"),B("endobj")},Pa=y.__private__.putCatalog=function(w){var R=(w=w||{}).rootDictionaryObjId||Jr;switch(Un(),B("<<"),B("/Type /Catalog"),B("/Pages "+R+" 0 R"),Ye||(Ye="fullwidth"),Ye){case"fullwidth":B("/OpenAction [3 0 R /FitH null]");break;case"fullheight":B("/OpenAction [3 0 R /FitV null]");break;case"fullpage":B("/OpenAction [3 0 R /Fit]");break;case"original":B("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Z=""+Ye;Z.substr(Z.length-1)==="%"&&(Ye=parseInt(Ye)/100),typeof Ye=="number"&&B("/OpenAction [3 0 R /XYZ null null "+C(Ye)+"]")}switch(Tt||(Tt="continuous"),Tt){case"continuous":B("/PageLayout /OneColumn");break;case"single":B("/PageLayout /SinglePage");break;case"two":case"twoleft":B("/PageLayout /TwoColumnLeft");break;case"tworight":B("/PageLayout /TwoColumnRight")}ft&&B("/PageMode /"+ft),Jt.publish("putCatalog"),B(">>"),B("endobj")},Xi=y.__private__.putTrailer=function(){B("trailer"),B("<<"),B("/Size "+(ae+1)),B("/Root "+ae+" 0 R"),B("/Info "+(ae-1)+" 0 R"),v!==null&&B("/Encrypt "+gr.oid+" 0 R"),B("/ID [ <"+Y+"> <"+Y+"> ]"),B(">>")},dn=y.__private__.putHeader=function(){B("%PDF-"+L),B("%")},bl=y.__private__.putXRef=function(){var w="0000000000";B("xref"),B("0 "+(ae+1)),B("0000000000 65535 f ");for(var R=1;R<=ae;R++)typeof de[R]=="function"?B((w+de[R]()).slice(-10)+" 00000 n "):de[R]!==void 0?B((w+de[R]).slice(-10)+" 00000 n "):B("0000000000 00000 n ")},va=y.__private__.buildDocument=function(){var w;ae=0,Ae=0,Ne=[],de=[],Ue=[],Jr=ar(),xn=ar(),xe(Ne),Jt.publish("buildDocument"),dn(),Wi(),(function(){Jt.publish("putAdditionalObjects");for(var Z=0;Z<Ue.length;Z++){var ce=Ue[Z];Sr(ce.objId,!0),B(ce.content),B("endobj")}Jt.publish("postPutAdditionalObjects")})(),w=[],(function(){for(var Z in Ze)Ze.hasOwnProperty(Z)&&(x===!1||x===!0&&A.hasOwnProperty(Z))&&Vi(Ze[Z])})(),(function(){var Z;for(Z in xt)xt.hasOwnProperty(Z)&&Ws(xt[Z])})(),(function(){for(var Z in Tn)Tn.hasOwnProperty(Z)&&ws(Tn[Z])})(),(function(Z){var ce;for(ce in pt)pt.hasOwnProperty(ce)&&(pt[ce]instanceof Ql?Yi(pt[ce]):pt[ce]instanceof dc&&Ki(pt[ce],Z))})(w),Jt.publish("putResources"),w.forEach(ya),ya({resourcesOid:xn,objectOid:Number.MAX_SAFE_INTEGER}),Jt.publish("postPutResources"),v!==null&&(gr.oid=Un(),B("<<"),B("/Filter /Standard"),B("/V "+gr.v),B("/R "+gr.r),B("/U <"+gr.toHexString(gr.U)+">"),B("/O <"+gr.toHexString(gr.O)+">"),B("/P "+gr.P),B(">>"),B("endobj")),wi(),Pa();var R=Ae;return bl(),Xi(),B("startxref"),B(""+R),B("%%EOF"),xe(We[P]),Ne.join(`
`)},xs=y.__private__.getBlob=function(w){return new Blob([Ke(w)],{type:"application/pdf"})},wl=y.output=y.__private__.output=(yi=function(w,R){switch(typeof(R=R||{})=="string"?R={filename:R}:R.filename=R.filename||"generated.pdf",w){case void 0:return va();case"save":y.save(R.filename);break;case"arraybuffer":return Ke(va());case"blob":return xs(va());case"bloburi":case"bloburl":if(It.URL!==void 0&&typeof It.URL.createObjectURL=="function")return It.URL&&It.URL.createObjectURL(xs(va()))||void 0;zn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Z="",ce=va();try{Z=F2(ce)}catch{Z=F2(unescape(encodeURIComponent(ce)))}return"data:application/pdf;filename="+R.filename+";base64,"+Z;case"pdfobjectnewwindow":if(Object.prototype.toString.call(It)==="[object Window]"){var ye="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Pe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';R.pdfObjectUrl&&(ye=R.pdfObjectUrl,Pe="");var Ge='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ye+'"'+Pe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(R)+");<\/script></body></html>",ut=It.open();return ut!==null&&ut.document.write(Ge),ut}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(It)==="[object Window]"){var mt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(R.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+R.filename+'" width="500px" height="400px" /></body></html>',Bt=It.open();if(Bt!==null){Bt.document.write(mt);var Ft=this;Bt.document.documentElement.querySelector("#pdfViewer").onload=function(){Bt.document.title=R.filename,Bt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ft.output("bloburl"))}}return Bt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(It)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var sn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",R)+'"></iframe></body></html>',In=It.open();if(In!==null&&(In.document.write(sn),In.document.title=R.filename),In||typeof safari>"u")return In;break;case"datauri":case"dataurl":return It.document.location.href=this.output("datauristring",R);default:return null}},yi.foo=function(){try{return yi.apply(this,arguments)}catch(Z){var w=Z.stack||"";~w.indexOf(" at ")&&(w=w.split(" at ")[1]);var R="Error in function "+w.split(`
`)[0].split("<")[0]+": "+Z.message;if(!It.console)throw new Error(R);It.console.error(R,Z),It.alert&&alert(R)}},yi.foo.bar=yi,yi.foo),Xr=function(w){return Array.isArray(an)===!0&&an.indexOf(w)>-1};switch(a){case"pt":kt=1;break;case"mm":kt=72/25.4;break;case"cm":kt=72/2.54;break;case"in":kt=72;break;case"px":kt=Xr("px_scaling")==1?.75:96/72;break;case"pc":case"em":kt=12;break;case"ex":kt=6;break;default:if(typeof a!="number")throw new Error("Invalid unit: "+a);kt=a}var gr=null;W(),ue();var sr=y.__private__.getPageInfo=y.getPageInfo=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:vt[w].objId,pageNumber:w,pageContext:vt[w]}},Lo=y.__private__.getPageInfoByObjId=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var R in vt)if(vt[R].objId===w)break;return sr(R)},lu=y.__private__.getCurrentPageInfo=y.getCurrentPageInfo=function(){return{objId:vt[P].objId,pageNumber:P,pageContext:vt[P]}};y.addPage=function(){return Ma.apply(this,arguments),this},y.setPage=function(){return yl.apply(this,arguments),xe.call(this,We[P]),this},y.insertPage=function(w){return this.addPage(),this.movePage(P,w),this},y.movePage=function(w,R){var Z,ce;if(w>R){Z=We[w],ce=vt[w];for(var ye=w;ye>R;ye--)We[ye]=We[ye-1],vt[ye]=vt[ye-1];We[R]=Z,vt[R]=ce,this.setPage(R)}else if(w<R){Z=We[w],ce=vt[w];for(var Pe=w;Pe<R;Pe++)We[Pe]=We[Pe+1],vt[Pe]=vt[Pe+1];We[R]=Z,vt[R]=ce,this.setPage(R)}return this},y.deletePage=function(){return gl.apply(this,arguments),this},y.__private__.text=y.text=function(w,R,Z,ce,ye){var Pe,Ge,ut,mt,Bt,Ft,sn,In,Qn,kn=(ce=ce||{}).scope||this;if(typeof w=="number"&&typeof R=="number"&&(typeof Z=="string"||Array.isArray(Z))){var yr=Z;Z=R,R=w,w=yr}if(arguments[3]instanceof _t==0?(ut=arguments[4],mt=arguments[5],En(sn=arguments[3])==="object"&&sn!==null||(typeof ut=="string"&&(mt=ut,ut=null),typeof sn=="string"&&(mt=sn,sn=null),typeof sn=="number"&&(ut=sn,sn=null),ce={flags:sn,angle:ut,align:mt})):($("The transform parameter of text() with a Matrix value"),Qn=ye),isNaN(R)||isNaN(Z)||w==null)throw new Error("Invalid arguments passed to jsPDF.text");if(w.length===0)return kn;var or,Cr="",Va=typeof ce.lineHeightFactor=="number"?ce.lineHeightFactor:Ia,ea=kn.internal.scaleFactor;function Ya(pn){return pn=pn.split("	").join(Array(ce.TabLen||9).join(" ")),bi(pn,sn)}function Ll(pn){for(var on,Nn=pn.concat(),tr=[],Na=Nn.length;Na--;)typeof(on=Nn.shift())=="string"?tr.push(on):Array.isArray(pn)&&(on.length===1||on[1]===void 0&&on[2]===void 0)?tr.push(on[0]):tr.push([on[0],on[1],on[2]]);return tr}function Ro(pn,on){var Nn;if(typeof pn=="string")Nn=on(pn)[0];else if(Array.isArray(pn)){for(var tr,Na,ia=pn.concat(),to=[],Cl=ia.length;Cl--;)typeof(tr=ia.shift())=="string"?to.push(on(tr)[0]):Array.isArray(tr)&&typeof tr[0]=="string"&&(Na=on(tr[0],tr[1],tr[2]),to.push([Na[0],Na[1],Na[2]]));Nn=to}return Nn}var xa=!1,ta=!0;if(typeof w=="string")xa=!0;else if(Array.isArray(w)){var Qs=w.concat();Ge=[];for(var Ka,Er=Qs.length;Er--;)(typeof(Ka=Qs.shift())!="string"||Array.isArray(Ka)&&typeof Ka[0]!="string")&&(ta=!1);xa=ta}if(xa===!1)throw new Error('Type of text must be string or Array. "'+w+'" is not recognized.');typeof w=="string"&&(w=w.match(/[\r?\n]/)?w.split(/\r\n|\r|\n/g):[w]);var Ss=Oe/kn.internal.scaleFactor,As=Ss*(Va-1);switch(ce.baseline){case"bottom":Z-=As;break;case"top":Z+=Ss-As;break;case"hanging":Z+=Ss-2*As;break;case"middle":Z+=Ss/2-As}if((Ft=ce.maxWidth||0)>0&&(typeof w=="string"?w=kn.splitTextToSize(w,Ft):Object.prototype.toString.call(w)==="[object Array]"&&(w=w.reduce(function(pn,on){return pn.concat(kn.splitTextToSize(on,Ft))},[]))),Pe={text:w,x:R,y:Z,options:ce,mutex:{pdfEscape:bi,activeFontKey:nt,fonts:Ze,activeFontSize:Oe}},Jt.publish("preProcessText",Pe),w=Pe.text,ut=(ce=Pe.options).angle,Qn instanceof _t==0&&ut&&typeof ut=="number"){ut*=Math.PI/180,ce.rotationDirection===0&&(ut=-ut),G===F&&(ut=-ut);var Do=Math.cos(ut),_a=Math.sin(ut);Qn=new _t(Do,_a,-_a,Do,0,0)}else ut&&ut instanceof _t&&(Qn=ut);G!==F||Qn||(Qn=ga),(Bt=ce.charSpace||Ni)!==void 0&&(Cr+=ee(re(Bt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(In=ce.horizontalScale)!==void 0&&(Cr+=ee(100*In)+` Tz
`),ce.lang;var Qr=-1,Ja=ce.renderingMode!==void 0?ce.renderingMode:ce.stroke,Bo=kn.internal.getCurrentPageInfo().pageContext;switch(Ja){case 0:case!1:case"fill":Qr=0;break;case 1:case!0:case"stroke":Qr=1;break;case 2:case"fillThenStroke":Qr=2;break;case 3:case"invisible":Qr=3;break;case 4:case"fillAndAddForClipping":Qr=4;break;case 5:case"strokeAndAddPathForClipping":Qr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Qr=6;break;case 7:case"addToPathForClipping":Qr=7}var jl=Bo.usedRenderingMode!==void 0?Bo.usedRenderingMode:-1;Qr!==-1?Cr+=Qr+` Tr
`:jl!==-1&&(Cr+=`0 Tr
`),Qr!==-1&&(Bo.usedRenderingMode=Qr),mt=ce.align||"left";var Si,na=Oe*Va,Xa=kn.internal.pageSize.getWidth(),Ol=Ze[nt];Bt=ce.charSpace||Ni,Ft=ce.maxWidth||0,sn=Object.assign({autoencode:!0,noBOM:!0},ce.flags);var ra=[],Es=function(pn){return kn.getStringUnitWidth(pn,{font:Ol,charSpace:Bt,fontSize:Oe,doKerning:!1})*Oe/ea};if(Object.prototype.toString.call(w)==="[object Array]"){var ui;Ge=Ll(w),mt!=="left"&&(Si=Ge.map(Es));var ei,Sa=0;if(mt==="right"){R-=Si[0],w=[],Er=Ge.length;for(var Aa=0;Aa<Er;Aa++)Aa===0?(ei=xi(R),ui=Or(Z)):(ei=re(Sa-Si[Aa]),ui=-na),w.push([Ge[Aa],ei,ui]),Sa=Si[Aa]}else if(mt==="center"){R-=Si[0]/2,w=[],Er=Ge.length;for(var Za=0;Za<Er;Za++)Za===0?(ei=xi(R),ui=Or(Z)):(ei=re((Sa-Si[Za])/2),ui=-na),w.push([Ge[Za],ei,ui]),Sa=Si[Za]}else if(mt==="left"){w=[],Er=Ge.length;for(var zo=0;zo<Er;zo++)w.push(Ge[zo])}else if(mt==="justify"&&Ol.encoding==="Identity-H"){w=[],Er=Ge.length,Ft=Ft!==0?Ft:Xa;for(var Uo=0,er=0;er<Er;er++)if(ui=er===0?Or(Z):-na,ei=er===0?xi(R):Uo,er<Er-1){var yu=re((Ft-Si[er])/(Ge[er].split(" ").length-1)),Ea=Ge[er].split(" ");w.push([Ea[0]+" ",ei,ui]),Uo=0;for(var Ta=1;Ta<Ea.length;Ta++){var Rr=(Es(Ea[Ta-1]+" "+Ea[Ta])-Es(Ea[Ta]))*ea+yu;Ta==Ea.length-1?w.push([Ea[Ta],Rr,0]):w.push([Ea[Ta]+" ",Rr,0]),Uo-=Rr}}else w.push([Ge[er],ei,ui]);w.push(["",Uo,0])}else{if(mt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(w=[],Er=Ge.length,Ft=Ft!==0?Ft:Xa,er=0;er<Er;er++){ui=er===0?Or(Z):-na,ei=er===0?xi(R):0;var Qa=Ge[er].split(" ").length-1,Mo=Qa>0?(Ft-Si[er])/Qa:0;er<Er-1?ra.push(ee(re(Mo))):ra.push(0),w.push([Ge[er],ei,ui])}}}(typeof ce.R2L=="boolean"?ce.R2L:st)===!0&&(w=Ro(w,function(pn,on,Nn){return[pn.split("").reverse().join(""),on,Nn]})),Pe={text:w,x:R,y:Z,options:ce,mutex:{pdfEscape:bi,activeFontKey:nt,fonts:Ze,activeFontSize:Oe}},Jt.publish("postProcessText",Pe),w=Pe.text,or=Pe.mutex.isHex||!1;var Po=Ze[nt].encoding;Po!=="WinAnsiEncoding"&&Po!=="StandardEncoding"||(w=Ro(w,function(pn,on,Nn){return[Ya(pn),on,Nn]})),Ge=Ll(w),w=[];for(var es,ts,ka,eo=Array.isArray(Ge[0])?1:0,Ai="",ns=function(pn,on,Nn){var tr="";return Nn instanceof _t?(Nn=typeof ce.angle=="number"?Ua(Nn,new _t(1,0,0,1,pn,on)):Ua(new _t(1,0,0,1,pn,on),Nn),G===F&&(Nn=Ua(new _t(1,0,0,-1,0,0),Nn)),tr=Nn.join(" ")+` Tm
`):tr=ee(pn)+" "+ee(on)+` Td
`,tr},Hr=0;Hr<Ge.length;Hr++){switch(Ai="",eo){case 1:ka=(or?"<":"(")+Ge[Hr][0]+(or?">":")"),es=parseFloat(Ge[Hr][1]),ts=parseFloat(Ge[Hr][2]);break;case 0:ka=(or?"<":"(")+Ge[Hr]+(or?">":")"),es=xi(R),ts=Or(Z)}ra!==void 0&&ra[Hr]!==void 0&&(Ai=ra[Hr]+` Tw
`),Hr===0?w.push(Ai+ns(es,ts,Qn)+ka):eo===0?w.push(Ai+ka):eo===1&&w.push(Ai+ns(es,ts,Qn)+ka)}w=eo===0?w.join(` Tj
T* `):w.join(` Tj
`),w+=` Tj
`;var ji=`BT
/`;return ji+=nt+" "+Oe+` Tf
`,ji+=ee(Oe*Va)+` TL
`,ji+=ba+`
`,ji+=Cr,ji+=w,B(ji+="ET"),A[nt]=!0,kn};var xl=y.__private__.clip=y.clip=function(w){return B(w==="evenodd"?"W*":"W"),this};y.clipEvenOdd=function(){return xl("evenodd")},y.__private__.discardPath=y.discardPath=function(){return B("n"),this};var Zr=y.__private__.isValidStyle=function(w){var R=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(w)!==-1&&(R=!0),R};y.__private__.setDefaultPathOperation=y.setDefaultPathOperation=function(w){return Zr(w)&&(p=w),this};var _l=y.__private__.getStyle=y.getStyle=function(w){var R=p;switch(w){case"D":case"S":R="S";break;case"F":R="f";break;case"FD":case"DF":R="B";break;case"f":case"f*":case"B":case"B*":R=w}return R},Sl=y.close=function(){return B("h"),this};y.stroke=function(){return B("S"),this},y.fill=function(w){return Zi("f",w),this},y.fillEvenOdd=function(w){return Zi("f*",w),this},y.fillStroke=function(w){return Zi("B",w),this},y.fillStrokeEvenOdd=function(w){return Zi("B*",w),this};var Zi=function(w,R){En(R)==="object"?cu(R,w):B(w)},Vs=function(w){w===null||G===F&&w===void 0||(w=_l(w),B(w))};function uu(w,R,Z,ce,ye){var Pe=new dc(R||this.boundingBox,Z||this.xStep,ce||this.yStep,this.gState,ye||this.matrix);Pe.stream=this.stream;var Ge=w+"$$"+this.cloneIndex+++"$$";return gi(Ge,Pe),Pe}var cu=function(w,R){var Z=Yt[w.key],ce=pt[Z];if(ce instanceof Ql)B("q"),B(Al(R)),ce.gState&&y.setGState(ce.gState),B(w.matrix.toString()+" cm"),B("/"+Z+" sh"),B("Q");else if(ce instanceof dc){var ye=new _t(1,0,0,-1,0,Wa());w.matrix&&(ye=ye.multiply(w.matrix||ga),Z=uu.call(ce,w.key,w.boundingBox,w.xStep,w.yStep,ye).id),B("q"),B("/Pattern cs"),B("/"+Z+" scn"),ce.gState&&y.setGState(ce.gState),B(R),B("Q")}},Al=function(w){switch(w){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},El=y.moveTo=function(w,R){return B(ee(re(w))+" "+ee(ie(R))+" m"),this},fu=y.lineTo=function(w,R){return B(ee(re(w))+" "+ee(ie(R))+" l"),this},li=y.curveTo=function(w,R,Z,ce,ye,Pe){return B([ee(re(w)),ee(ie(R)),ee(re(Z)),ee(ie(ce)),ee(re(ye)),ee(ie(Pe)),"c"].join(" ")),this};y.__private__.line=y.line=function(w,R,Z,ce,ye){if(isNaN(w)||isNaN(R)||isNaN(Z)||isNaN(ce)||!Zr(ye))throw new Error("Invalid arguments passed to jsPDF.line");return G===M?this.lines([[Z-w,ce-R]],w,R,[1,1],ye||"S"):this.lines([[Z-w,ce-R]],w,R,[1,1]).stroke()},y.__private__.lines=y.lines=function(w,R,Z,ce,ye,Pe){var Ge,ut,mt,Bt,Ft,sn,In,Qn,kn,yr,or,Cr;if(typeof w=="number"&&(Cr=Z,Z=R,R=w,w=Cr),ce=ce||[1,1],Pe=Pe||!1,isNaN(R)||isNaN(Z)||!Array.isArray(w)||!Array.isArray(ce)||!Zr(ye)||typeof Pe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(El(R,Z),Ge=ce[0],ut=ce[1],Bt=w.length,yr=R,or=Z,mt=0;mt<Bt;mt++)(Ft=w[mt]).length===2?(yr=Ft[0]*Ge+yr,or=Ft[1]*ut+or,fu(yr,or)):(sn=Ft[0]*Ge+yr,In=Ft[1]*ut+or,Qn=Ft[2]*Ge+yr,kn=Ft[3]*ut+or,yr=Ft[4]*Ge+yr,or=Ft[5]*ut+or,li(sn,In,Qn,kn,yr,or));return Pe&&Sl(),Vs(ye),this},y.path=function(w){for(var R=0;R<w.length;R++){var Z=w[R],ce=Z.c;switch(Z.op){case"m":El(ce[0],ce[1]);break;case"l":fu(ce[0],ce[1]);break;case"c":li.apply(this,ce);break;case"h":Sl()}}return this},y.__private__.rect=y.rect=function(w,R,Z,ce,ye){if(isNaN(w)||isNaN(R)||isNaN(Z)||isNaN(ce)||!Zr(ye))throw new Error("Invalid arguments passed to jsPDF.rect");return G===M&&(ce=-ce),B([ee(re(w)),ee(ie(R)),ee(re(Z)),ee(re(ce)),"re"].join(" ")),Vs(ye),this},y.__private__.triangle=y.triangle=function(w,R,Z,ce,ye,Pe,Ge){if(isNaN(w)||isNaN(R)||isNaN(Z)||isNaN(ce)||isNaN(ye)||isNaN(Pe)||!Zr(Ge))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Z-w,ce-R],[ye-Z,Pe-ce],[w-ye,R-Pe]],w,R,[1,1],Ge,!0),this},y.__private__.roundedRect=y.roundedRect=function(w,R,Z,ce,ye,Pe,Ge){if(isNaN(w)||isNaN(R)||isNaN(Z)||isNaN(ce)||isNaN(ye)||isNaN(Pe)||!Zr(Ge))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ut=4/3*(Math.SQRT2-1);return ye=Math.min(ye,.5*Z),Pe=Math.min(Pe,.5*ce),this.lines([[Z-2*ye,0],[ye*ut,0,ye,Pe-Pe*ut,ye,Pe],[0,ce-2*Pe],[0,Pe*ut,-ye*ut,Pe,-ye,Pe],[2*ye-Z,0],[-ye*ut,0,-ye,-Pe*ut,-ye,-Pe],[0,2*Pe-ce],[0,-Pe*ut,ye*ut,-Pe,ye,-Pe]],w+ye,R,[1,1],Ge,!0),this},y.__private__.ellipse=y.ellipse=function(w,R,Z,ce,ye){if(isNaN(w)||isNaN(R)||isNaN(Z)||isNaN(ce)||!Zr(ye))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Pe=4/3*(Math.SQRT2-1)*Z,Ge=4/3*(Math.SQRT2-1)*ce;return El(w+Z,R),li(w+Z,R-Ge,w+Pe,R-ce,w,R-ce),li(w-Pe,R-ce,w-Z,R-Ge,w-Z,R),li(w-Z,R+Ge,w-Pe,R+ce,w,R+ce),li(w+Pe,R+ce,w+Z,R+Ge,w+Z,R),Vs(ye),this},y.__private__.circle=y.circle=function(w,R,Z,ce){if(isNaN(w)||isNaN(R)||isNaN(Z)||!Zr(ce))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(w,R,Z,Z,ce)},y.setFont=function(w,R,Z){return Z&&(R=Q(R,Z)),nt=ou(w,R,{disableWarning:!1}),this};var Qi=y.__private__.getFont=y.getFont=function(){return Ze[ou.apply(y,arguments)]};y.__private__.getFontList=y.getFontList=function(){var w,R,Z={};for(w in rt)if(rt.hasOwnProperty(w))for(R in Z[w]=[],rt[w])rt[w].hasOwnProperty(R)&&Z[w].push(R);return Z},y.addFont=function(w,R,Z,ce,ye){var Pe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Pe.indexOf(arguments[3])!==-1?ye=arguments[3]:arguments[3]&&Pe.indexOf(arguments[3])==-1&&(Z=Q(Z,ce)),ml.call(this,w,R,Z,ye=ye||"Identity-H")};var Ia,Ys=r.lineWidth||.200025,_s=y.__private__.getLineWidth=y.getLineWidth=function(){return Ys},Ct=y.__private__.setLineWidth=y.setLineWidth=function(w){return Ys=w,B(ee(re(w))+" w"),this};y.__private__.setLineDash=wt.API.setLineDash=wt.API.setLineDashPattern=function(w,R){if(w=w||[],R=R||0,isNaN(R)||!Array.isArray(w))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return w=w.map(function(Z){return ee(re(Z))}).join(" "),R=ee(re(R)),B("["+w+"] "+R+" d"),this};var hu=y.__private__.getLineHeight=y.getLineHeight=function(){return Oe*Ia};y.__private__.getLineHeight=y.getLineHeight=function(){return Oe*Ia};var Tl=y.__private__.setLineHeightFactor=y.setLineHeightFactor=function(w){return typeof(w=w||1.15)=="number"&&(Ia=w),this},du=y.__private__.getLineHeightFactor=y.getLineHeightFactor=function(){return Ia};Tl(r.lineHeight);var xi=y.__private__.getHorizontalCoordinate=function(w){return re(w)},Or=y.__private__.getVerticalCoordinate=function(w){return G===F?w:vt[P].mediaBox.topRightY-vt[P].mediaBox.bottomLeftY-re(w)},kl=y.__private__.getHorizontalCoordinateString=y.getHorizontalCoordinateString=function(w){return ee(xi(w))},Ks=y.__private__.getVerticalCoordinateString=y.getVerticalCoordinateString=function(w){return ee(Or(w))},_i=r.strokeColor||"0 G";y.__private__.getStrokeColor=y.getDrawColor=function(){return Pn(_i)},y.__private__.setStrokeColor=y.setDrawColor=function(w,R,Z,ce){return _i=Fr({ch1:w,ch2:R,ch3:Z,ch4:ce,pdfColorType:"draw",precision:2}),B(_i),this};var Js=r.fillColor||"0 g";y.__private__.getFillColor=y.getFillColor=function(){return Pn(Js)},y.__private__.setFillColor=y.setFillColor=function(w,R,Z,ce){return Js=Fr({ch1:w,ch2:R,ch3:Z,ch4:ce,pdfColorType:"fill",precision:2}),B(Js),this};var ba=r.textColor||"0 g",pu=y.__private__.getTextColor=y.getTextColor=function(){return Pn(ba)};y.__private__.setTextColor=y.setTextColor=function(w,R,Z,ce){return ba=Fr({ch1:w,ch2:R,ch3:Z,ch4:ce,pdfColorType:"text",precision:3}),this};var Ni=r.charSpace,jo=y.__private__.getCharSpace=y.getCharSpace=function(){return parseFloat(Ni||0)};y.__private__.setCharSpace=y.setCharSpace=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ni=w,this};var Oo=0;y.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},y.__private__.setLineCap=y.setLineCap=function(w){var R=y.CapJoinStyles[w];if(R===void 0)throw new Error("Line cap style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Oo=R,B(R+" J"),this};var Ar=0;y.__private__.setLineJoin=y.setLineJoin=function(w){var R=y.CapJoinStyles[w];if(R===void 0)throw new Error("Line join style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ar=R,B(R+" j"),this},y.__private__.setLineMiterLimit=y.__private__.setMiterLimit=y.setLineMiterLimit=y.setMiterLimit=function(w){if(w=w||0,isNaN(w))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return B(ee(re(w))+" M"),this},y.GState=Jh,y.setGState=function(w){(w=typeof w=="string"?xt[Ot[w]]:wa(null,w)).equals(rn)||(B("/"+w.id+" gs"),rn=w)};var wa=function(w,R){if(!w||!Ot[w]){var Z=!1;for(var ce in xt)if(xt.hasOwnProperty(ce)&&xt[ce].equals(R)){Z=!0;break}if(Z)R=xt[ce];else{var ye="GS"+(Object.keys(xt).length+1).toString(10);xt[ye]=R,R.id=ye}return w&&(Ot[w]=R.id),Jt.publish("addGState",R),R}};y.addGState=function(w,R){return wa(w,R),this},y.saveGraphicsState=function(){return B("q"),jt.push({key:nt,size:Oe,color:ba}),this},y.restoreGraphicsState=function(){B("Q");var w=jt.pop();return nt=w.key,Oe=w.size,ba=w.color,rn=null,this},y.setCurrentTransformationMatrix=function(w){return B(w.toString()+" cm"),this},y.comment=function(w){return B("#"+w),this};var Li=function(w,R){var Z=w||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Z},set:function(Pe){isNaN(Pe)||(Z=parseFloat(Pe))}});var ce=R||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ce},set:function(Pe){isNaN(Pe)||(ce=parseFloat(Pe))}});var ye="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ye},set:function(Pe){ye=Pe.toString()}}),this},qa=function(w,R,Z,ce){Li.call(this,w,R),this.type="rect";var ye=Z||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ye},set:function(Ge){isNaN(Ge)||(ye=parseFloat(Ge))}});var Pe=ce||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Pe},set:function(Ge){isNaN(Ge)||(Pe=parseFloat(Ge))}}),this},Co=function(){this.page=qt,this.currentPage=P,this.pages=We.slice(0),this.pagesContext=vt.slice(0),this.x=ot,this.y=un,this.matrix=Xe,this.width=Ha(P),this.height=Nl(P),this.outputDestination=et,this.id="",this.objectNumber=-1};Co.prototype.restore=function(){qt=this.page,P=this.currentPage,vt=this.pagesContext,We=this.pages,ot=this.x,un=this.y,Xe=this.matrix,Zs(P,this.width),$a(P,this.height),et=this.outputDestination};var Xs=function(w,R,Z,ce,ye){oi.push(new Co),qt=P=0,We=[],ot=w,un=R,Xe=ye,Ji([Z,ce])};for(var Fa in y.beginFormObject=function(w,R,Z,ce,ye){return Xs(w,R,Z,ce,ye),this},y.endFormObject=function(w){return(function(R){if(qr[R])oi.pop().restore();else{var Z=new Co,ce="Xo"+(Object.keys(Tn).length+1).toString(10);Z.id=ce,qr[R]=ce,Tn[ce]=Z,Jt.publish("addFormObject",Z),oi.pop().restore()}})(w),this},y.doFormObject=function(w,R){var Z=Tn[qr[w]];return B("q"),B(R.toString()+" cm"),B("/"+Z.id+" Do"),B("Q"),this},y.getFormObject=function(w){var R=Tn[qr[w]];return{x:R.x,y:R.y,width:R.width,height:R.height,matrix:R.matrix}},y.save=function(w,R){return w=w||"generated.pdf",(R=R||{}).returnPromise=R.returnPromise||!1,R.returnPromise===!1?(Jl(xs(va()),w),typeof Jl.unload=="function"&&It.setTimeout&&setTimeout(Jl.unload,911),this):new Promise(function(Z,ce){try{var ye=Jl(xs(va()),w);typeof Jl.unload=="function"&&It.setTimeout&&setTimeout(Jl.unload,911),Z(ye)}catch(Pe){ce(Pe.message)}})},wt.API)wt.API.hasOwnProperty(Fa)&&(Fa==="events"&&wt.API.events.length?(function(w,R){var Z,ce,ye;for(ye=R.length-1;ye!==-1;ye--)Z=R[ye][0],ce=R[ye][1],w.subscribe.apply(w,[Z].concat(typeof ce=="function"?[ce]:ce))})(Jt,wt.API.events):y[Fa]=wt.API[Fa]);function Ha(w){return vt[w].mediaBox.topRightX-vt[w].mediaBox.bottomLeftX}function Zs(w,R){vt[w].mediaBox.topRightX=R+vt[w].mediaBox.bottomLeftX}function Nl(w){return vt[w].mediaBox.topRightY-vt[w].mediaBox.bottomLeftY}function $a(w,R){vt[w].mediaBox.topRightY=R+vt[w].mediaBox.bottomLeftY}var Ga=y.getPageWidth=function(w){return Ha(w=w||P)/kt},mu=y.setPageWidth=function(w,R){Zs(w,R*kt)},Wa=y.getPageHeight=function(w){return Nl(w=w||P)/kt},gu=y.setPageHeight=function(w,R){$a(w,R*kt)};return y.internal={pdfEscape:bi,getStyle:_l,getFont:Qi,getFontSize:$e,getCharSpace:jo,getTextColor:pu,getLineHeight:hu,getLineHeightFactor:du,getLineWidth:_s,write:je,getHorizontalCoordinate:xi,getVerticalCoordinate:Or,getCoordinateString:kl,getVerticalCoordinateString:Ks,collections:{},newObject:Un,newAdditionalObject:bs,newObjectDeferred:ar,newObjectDeferredBegin:Sr,getFilters:vi,putStream:ki,events:Jt,scaleFactor:kt,pageSize:{getWidth:function(){return Ga(P)},setWidth:function(w){mu(P,w)},getHeight:function(){return Wa(P)},setHeight:function(w){gu(P,w)}},encryptionOptions:v,encryption:gr,getEncryptor:function(w){return v!==null?gr.encryptor(w,0):function(R){return R}},output:wl,getNumberOfPages:vl,get pages(){return We},out:B,f2:C,f3:q,getPageInfo:sr,getPageInfoByObjId:Lo,getCurrentPageInfo:lu,getPDFVersion:E,Point:Li,Rectangle:qa,Matrix:_t,hasHotfix:Xr},Object.defineProperty(y.internal.pageSize,"width",{get:function(){return Ga(P)},set:function(w){mu(P,w)},enumerable:!0,configurable:!0}),Object.defineProperty(y.internal.pageSize,"height",{get:function(){return Wa(P)},set:function(w){gu(P,w)},enumerable:!0,configurable:!0}),(function(w){for(var R=0,Z=Re.length;R<Z;R++){var ce=ml.call(this,w[R][0],w[R][1],w[R][2],Re[R][3],!0);x===!1&&(A[ce]=!0);var ye=w[R][0].split("-");Zn({id:ce,fontName:ye[0],fontStyle:ye[1]||""})}Jt.publish("addFonts",{fonts:Ze,dictionary:rt})}).call(y,Re),nt="F1",Ma(l,n),Jt.publish("initialized"),y}cc.prototype.lsbFirstWord=function(r){return String.fromCharCode(255&r,r>>8&255,r>>16&255,r>>24&255)},cc.prototype.toHexString=function(r){return r.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},cc.prototype.hexToBytes=function(r){for(var e=[],n=0;n<r.length;n+=2)e.push(String.fromCharCode(parseInt(r.substr(n,2),16)));return e.join("")},cc.prototype.processOwnerPassword=function(r,e){return Ep(Ap(e).substr(0,5),r)},cc.prototype.encryptor=function(r,e){var n=Ap(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&e,e>>8&255)).substr(0,10);return function(a){return Ep(n,a)}},Jh.prototype.equals=function(r){var e,n="id,objectNumber,equals";if(!r||En(r)!==En(this))return!1;var a=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!r.hasOwnProperty(e)||this[e]!==r[e])return!1;a++}for(e in r)r.hasOwnProperty(e)&&n.indexOf(e)<0&&a--;return a===0},wt.API={events:[]},wt.version="4.1.0";var pr=wt.API,Kp=1,su=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ic=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Xh=function(r){return r.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(e){var n=e.charCodeAt(0).toString(16).toUpperCase();return"#"+(n.length===1?"0"+n:n)})},Gt=function(r){return r.toFixed(2)},cl=function(r){return r.toFixed(5)};pr.__acroform__={};var Gi=function(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r},W2=function(r){return r*Kp},qs=function(r){var e=new jy,n=dt.internal.getHeight(r)||0,a=dt.internal.getWidth(r)||0;return e.BBox=[0,0,Number(Gt(a)),Number(Gt(n))],e},GS=pr.__acroform__.setBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|1<<e},WS=pr.__acroform__.clearBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&~(1<<e)},VS=pr.__acroform__.getBit=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return r&1<<e?1:0},wr=pr.__acroform__.getBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return VS(r,e-1)},xr=pr.__acroform__.setBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return GS(r,e-1)},_r=pr.__acroform__.clearBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return WS(r,e-1)},YS=pr.__acroform__.calculateCoordinates=function(r,e){var n=e.internal.getHorizontalCoordinate,a=e.internal.getVerticalCoordinate,l=r[0],o=r[1],f=r[2],c=r[3],h={};return h.lowerLeft_X=n(l)||0,h.lowerLeft_Y=a(o+c)||0,h.upperRight_X=n(l+f)||0,h.upperRight_Y=a(o)||0,[Number(Gt(h.lowerLeft_X)),Number(Gt(h.lowerLeft_Y)),Number(Gt(h.upperRight_X)),Number(Gt(h.upperRight_Y))]},KS=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var e=[],n=r._V||r.DV,a=Tp(r,n),l=r.scope.internal.getFont(r.fontName,r.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(r.scope.__private__.encodeColorString(r.color)),e.push("/"+l+" "+Gt(a.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(a.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=qs(r);return o.scope=r.scope,o.stream=e.join(`
`),o}},Tp=function(r,e){var n=r.fontSize===0?r.maxFontSize:r.fontSize,a={text:"",fontSize:""},l=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");l=r.multiline?l.map(function(C){return C.split(`
`)}):l.map(function(C){return[C]});var o=n,f=dt.internal.getHeight(r)||0;f=f<0?-f:f;var c=dt.internal.getWidth(r)||0;c=c<0?-c:c;var h=function(C,q,re){if(C+1<l.length){var ie=q+" "+l[C+1][0];return Dh(ie,r,re).width<=c-4}return!1};o++;e:for(;o>0;){e="",o--;var p,v,x=Dh("3",r,o).height,A=r.multiline?f-o:(f-x)/2,y=A+=2,L=0,E=0,j=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+Dh(e,r,o=12).width+", FieldWidth:"+c+`
`;break}for(var O="",M=0,F=0;F<l.length;F++)if(l.hasOwnProperty(F)){var G=!1;if(l[F].length!==1&&j!==l[F].length-1){if((x+2)*(M+2)+2>f)continue e;O+=l[F][j],G=!0,E=F,F--}else{O=(O+=l[F][j]+" ").substr(O.length-1)==" "?O.substr(0,O.length-1):O;var se=parseInt(F),me=h(se,O,o),Q=F>=l.length-1;if(me&&!Q){O+=" ",j=0;continue}if(me||Q){if(Q)E=se;else if(r.multiline&&(x+2)*(M+2)+2>f)continue e}else{if(!r.multiline||(x+2)*(M+2)+2>f)continue e;E=se}}for(var ee="",$=L;$<=E;$++){var he=l[$];if(r.multiline){if($===E){ee+=he[j]+" ",j=(j+1)%he.length;continue}if($===L){ee+=he[he.length-1]+" ";continue}}ee+=he[0]+" "}switch(ee=ee.substr(ee.length-1)==" "?ee.substr(0,ee.length-1):ee,v=Dh(ee,r,o).width,r.textAlign){case"right":p=c-v-2;break;case"center":p=(c-v)/2;break;default:p=2}e+=Gt(p)+" "+Gt(y)+` Td
`,e+="("+su(ee)+`) Tj
`,e+=-Gt(p)+` 0 Td
`,y=-(o+2),v=0,L=G?E:E+1,M++,O=""}break}return a.text=e,a.fontSize=o,a},Dh=function(r,e,n){var a=e.scope.internal.getFont(e.fontName,e.fontStyle),l=e.scope.getStringUnitWidth(r,{font:a,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:a,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:l}},JS={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},XS=function(r,e){var n={type:"reference",object:r};e.internal.getPageInfo(r.page).pageContext.annotations.find(function(a){return a.type===n.type&&a.object===n.object})===void 0&&e.internal.getPageInfo(r.page).pageContext.annotations.push(n)},ZS=function(r,e){if(e.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(ys.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(JS)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Kp=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new Oy,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var a=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var l in a)if(a.hasOwnProperty(l)){var o=a[l];o.objId=void 0,o.hasAnnotation&&XS(o,n)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(n){(function(a,l){var o=!a;for(var f in a||(l.internal.newObjectDeferredBegin(l.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),l.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),a=a||l.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(a.hasOwnProperty(f)){var c=a[f],h=[],p=c.Rect;if(c.Rect&&(c.Rect=YS(c.Rect,l)),l.internal.newObjectDeferredBegin(c.objId,!0),c.DA=dt.createDefaultAppearanceStream(c),En(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(h=c.getKeyValueListForStream()),c.Rect=p,c.hasAppearanceStream&&!c.appearanceStreamContent){var v=KS(c);h.push({key:"AP",value:"<</N "+v+">>"}),l.internal.acroformPlugin.xForms.push(v)}if(c.appearanceStreamContent){var x="";for(var A in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(A)){var y=c.appearanceStreamContent[A];if(x+="/"+A+" ",x+="<<",Object.keys(y).length>=1||Array.isArray(y)){for(var f in y)if(y.hasOwnProperty(f)){var L=y[f];typeof L=="function"&&(L=L.call(l,c)),x+="/"+f+" "+L+" ",l.internal.acroformPlugin.xForms.indexOf(L)>=0||l.internal.acroformPlugin.xForms.push(L)}}else typeof(L=y)=="function"&&(L=L.call(l,c)),x+="/"+f+" "+L,l.internal.acroformPlugin.xForms.indexOf(L)>=0||l.internal.acroformPlugin.xForms.push(L);x+=">>"}h.push({key:"AP",value:`<<
`+x+">>"})}l.internal.putStream({additionalKeyValues:h,objectId:c.objId}),l.internal.out("endobj")}o&&(function(E,j){for(var O in E)if(E.hasOwnProperty(O)){var M=O,F=E[O];j.internal.newObjectDeferredBegin(F.objId,!0),En(F)==="object"&&typeof F.putStream=="function"&&F.putStream(),delete E[M]}})(l.internal.acroformPlugin.xForms,l)})(n,r)}),r.internal.acroformPlugin.isInitialized=!0}},Ly=pr.__acroform__.arrayToPdfArray=function(r,e,n){var a=function(f){return f};if(Array.isArray(r)){for(var l="[",o=0;o<r.length;o++)switch(o!==0&&(l+=" "),En(r[o])){case"boolean":case"number":case"object":l+=r[o].toString();break;case"string":r[o].substr(0,1)==="/"?l+="/"+Xh(r[o].substr(1)):(e!==void 0&&n&&(a=n.internal.getEncryptor(e)),l+="("+su(a(r[o].toString()))+")")}return l+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Q0=function(r,e,n){var a=function(l){return l};return e!==void 0&&n&&(a=n.internal.getEncryptor(e)),(r=r||"").toString(),"("+su(a(r))+")"},Hs=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Hs.prototype.toString=function(){return this.objId+" 0 R"},Hs.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},Hs.prototype.getKeyValueListForStream=function(){var r=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var a=e[n],l=this[a];l&&(Array.isArray(l)?r.push({key:a,value:Ly(l,this.objId,this.scope)}):l instanceof Hs?(l.scope=this.scope,r.push({key:a,value:l.objId+" 0 R"})):typeof l!="function"&&r.push({key:a,value:l}))}return r};var jy=function(){Hs.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){r=n.trim()},get:function(){return r||null}})};Gi(jy,Hs);var Oy=function(){Hs.call(this);var r,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var n=function(a){return a};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+su(n(r))+")"}},set:function(n){r=n}})};Gi(Oy,Hs);var ys=function r(){Hs.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(O){if(isNaN(O))throw new Error('Invalid value "'+O+'" for attribute F supplied.');e=O}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!wr(e,3)},set:function(O){O?this.F=xr(e,3):this.F=_r(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(O){if(isNaN(O))throw new Error('Invalid value "'+O+'" for attribute Ff supplied.');n=O}});var a=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(a.length!==0)return a},set:function(O){a=O!==void 0?O:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[0])?0:a[0]},set:function(O){a[0]=O}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[1])?0:a[1]},set:function(O){a[1]=O}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[2])?0:a[2]},set:function(O){a[2]=O}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[3])?0:a[3]},set:function(O){a[3]=O}});var l="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return l},set:function(O){switch(O){case"/Btn":case"/Tx":case"/Ch":case"/Sig":l=O;break;default:throw new Error('Invalid value "'+O+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof Zh)return;o="FieldObject"+r.FieldNum++}var O=function(M){return M};return this.scope&&(O=this.scope.internal.getEncryptor(this.objId)),"("+su(O(o))+")"},set:function(O){o=O.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(O){o=O}});var f="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return f},set:function(O){f=O}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(O){c=O}});var h=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return h},set:function(O){h=O}});var p=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return p===void 0?50/Kp:p},set:function(O){p=O}});var v="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return v},set:function(O){v=O}});var x="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!x||this instanceof Zh||this instanceof nu))return Q0(x,this.objId,this.scope)},set:function(O){O=O.toString(),x=O}});var A=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(A)return this instanceof Kr==0?Q0(A,this.objId,this.scope):A},set:function(O){O=O.toString(),A=this instanceof Kr==0?O.substr(0,1)==="("?ic(O.substr(1,O.length-2)):ic(O):O}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Kr==1?ic(A.substr(1,A.length-1)):A},set:function(O){O=O.toString(),A=this instanceof Kr==1?"/"+Xh(O):O}});var y=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(y)return y},set:function(O){this.V=O}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof Kr==0?Q0(y,this.objId,this.scope):y},set:function(O){O=O.toString(),y=this instanceof Kr==0?O.substr(0,1)==="("?ic(O.substr(1,O.length-2)):ic(O):O}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Kr==1?ic(y.substr(1,y.length-1)):y},set:function(O){O=O.toString(),y=this instanceof Kr==1?"/"+Xh(O):O}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var L,E=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return E},set:function(O){O=!!O,E=O}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(L)return L},set:function(O){L=O}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!wr(this.Ff,1)},set:function(O){O?this.Ff=xr(this.Ff,1):this.Ff=_r(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!wr(this.Ff,2)},set:function(O){O?this.Ff=xr(this.Ff,2):this.Ff=_r(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!wr(this.Ff,3)},set:function(O){O?this.Ff=xr(this.Ff,3):this.Ff=_r(this.Ff,3)}});var j=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(j!==null)return j},set:function(O){if([0,1,2].indexOf(O)===-1)throw new Error('Invalid value "'+O+'" for attribute Q supplied.');j=O}}),Object.defineProperty(this,"textAlign",{get:function(){var O;switch(j){case 0:default:O="left";break;case 1:O="center";break;case 2:O="right"}return O},configurable:!0,enumerable:!0,set:function(O){switch(O){case"right":case 2:j=2;break;case"center":case 1:j=1;break;default:j=0}}})};Gi(ys,Hs);var mc=function(){ys.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(n){r=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(n){r=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Ly(e,this.objId,this.scope)},set:function(n){var a,l;l=[],typeof(a=n)=="string"&&(l=(function(o,f,c){c||(c=1);for(var h,p=[];h=f.exec(o);)p.push(h[c]);return p})(a,/\((.*?)\)/g)),e=l}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,a){for(a=a||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),a!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!wr(this.Ff,18)},set:function(n){n?this.Ff=xr(this.Ff,18):this.Ff=_r(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!wr(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=xr(this.Ff,19):this.Ff=_r(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!wr(this.Ff,20)},set:function(n){n?(this.Ff=xr(this.Ff,20),e.sort()):this.Ff=_r(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!wr(this.Ff,22)},set:function(n){n?this.Ff=xr(this.Ff,22):this.Ff=_r(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!wr(this.Ff,23)},set:function(n){n?this.Ff=xr(this.Ff,23):this.Ff=_r(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!wr(this.Ff,27)},set:function(n){n?this.Ff=xr(this.Ff,27):this.Ff=_r(this.Ff,27)}}),this.hasAppearanceStream=!1};Gi(mc,ys);var gc=function(){mc.call(this),this.fontName="helvetica",this.combo=!1};Gi(gc,mc);var yc=function(){gc.call(this),this.combo=!0};Gi(yc,gc);var Ih=function(){yc.call(this),this.edit=!0};Gi(Ih,yc);var Kr=function(){ys.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!wr(this.Ff,15)},set:function(n){n?this.Ff=xr(this.Ff,15):this.Ff=_r(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!wr(this.Ff,16)},set:function(n){n?this.Ff=xr(this.Ff,16):this.Ff=_r(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!wr(this.Ff,17)},set:function(n){n?this.Ff=xr(this.Ff,17):this.Ff=_r(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!wr(this.Ff,26)},set:function(n){n?this.Ff=xr(this.Ff,26):this.Ff=_r(this.Ff,26)}});var r,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(o){return o};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var a,l=[];for(a in l.push("<<"),e)l.push("/"+a+" ("+su(n(e[a]))+")");return l.push(">>"),l.join(`
`)}},set:function(n){En(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(n){r=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(n){r="/"+Xh(n)}})};Gi(Kr,ys);var qh=function(){Kr.call(this),this.pushButton=!0};Gi(qh,Kr);var vc=function(){Kr.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e!==void 0?e:[]}})};Gi(vc,Kr);var Zh=function(){var r,e;ys.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(l){r=l}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(l){e=l}});var n,a={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var l=function(c){return c};this.scope&&(l=this.scope.internal.getEncryptor(this.objId));var o,f=[];for(o in f.push("<<"),a)f.push("/"+o+" ("+su(l(a[o]))+")");return f.push(">>"),f.join(`
`)},set:function(l){En(l)==="object"&&(a=l)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return a.CA||""},set:function(l){typeof l=="string"&&(a.CA=l)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(l){n=l}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(l){n="/"+l}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=dt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Gi(Zh,ys),vc.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=r.createAppearanceStream(n.optionName),n.caption=r.getCA()}},vc.prototype.createOption=function(r){var e=new Zh;return e.Parent=this,e.optionName=r,this.Kids.push(e),QS.call(this.scope,e),e};var Fh=function(){Kr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=dt.CheckBox.createAppearanceStream()};Gi(Fh,Kr);var nu=function(){ys.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!wr(this.Ff,13)},set:function(e){e?this.Ff=xr(this.Ff,13):this.Ff=_r(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!wr(this.Ff,21)},set:function(e){e?this.Ff=xr(this.Ff,21):this.Ff=_r(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!wr(this.Ff,23)},set:function(e){e?this.Ff=xr(this.Ff,23):this.Ff=_r(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!wr(this.Ff,24)},set:function(e){e?this.Ff=xr(this.Ff,24):this.Ff=_r(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!wr(this.Ff,25)},set:function(e){e?this.Ff=xr(this.Ff,25):this.Ff=_r(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!wr(this.Ff,26)},set:function(e){e?this.Ff=xr(this.Ff,26):this.Ff=_r(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){Number.isInteger(e)&&(r=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Gi(nu,ys);var Hh=function(){nu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!wr(this.Ff,14)},set:function(r){r?this.Ff=xr(this.Ff,14):this.Ff=_r(this.Ff,14)}}),this.password=!0};Gi(Hh,nu);var dt={CheckBox:{createAppearanceStream:function(){return{N:{On:dt.CheckBox.YesNormal},D:{On:dt.CheckBox.YesPushDown,Off:dt.CheckBox.OffPushDown}}},YesPushDown:function(r){var e=qs(r);e.scope=r.scope;var n=[],a=r.scope.internal.getFont(r.fontName,r.fontStyle).id,l=r.scope.__private__.encodeColorString(r.color),o=Tp(r,r.caption);return n.push("0.749023 g"),n.push("0 0 "+Gt(dt.internal.getWidth(r))+" "+Gt(dt.internal.getHeight(r))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+a+" "+Gt(o.fontSize)+" Tf "+l),n.push("BT"),n.push(o.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(r){var e=qs(r);e.scope=r.scope;var n=r.scope.internal.getFont(r.fontName,r.fontStyle).id,a=r.scope.__private__.encodeColorString(r.color),l=[],o=dt.internal.getHeight(r),f=dt.internal.getWidth(r),c=Tp(r,r.caption);return l.push("1 g"),l.push("0 0 "+Gt(f)+" "+Gt(o)+" re"),l.push("f"),l.push("q"),l.push("0 0 1 rg"),l.push("0 0 "+Gt(f-1)+" "+Gt(o-1)+" re"),l.push("W"),l.push("n"),l.push("0 g"),l.push("BT"),l.push("/"+n+" "+Gt(c.fontSize)+" Tf "+a),l.push(c.text),l.push("ET"),l.push("Q"),e.stream=l.join(`
`),e},OffPushDown:function(r){var e=qs(r);e.scope=r.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Gt(dt.internal.getWidth(r))+" "+Gt(dt.internal.getHeight(r))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(r){var e={D:{Off:dt.RadioButton.Circle.OffPushDown},N:{}};return e.N[r]=dt.RadioButton.Circle.YesNormal,e.D[r]=dt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(r){var e=qs(r);e.scope=r.scope;var n=[],a=dt.internal.getWidth(r)<=dt.internal.getHeight(r)?dt.internal.getWidth(r)/4:dt.internal.getHeight(r)/4;a=Number((.9*a).toFixed(5));var l=dt.internal.Bezier_C,o=Number((a*l).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+cl(dt.internal.getWidth(r)/2)+" "+cl(dt.internal.getHeight(r)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),n.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),n.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),n.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(r){var e=qs(r);e.scope=r.scope;var n=[],a=dt.internal.getWidth(r)<=dt.internal.getHeight(r)?dt.internal.getWidth(r)/4:dt.internal.getHeight(r)/4;a=Number((.9*a).toFixed(5));var l=Number((2*a).toFixed(5)),o=Number((l*dt.internal.Bezier_C).toFixed(5)),f=Number((a*dt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+cl(dt.internal.getWidth(r)/2)+" "+cl(dt.internal.getHeight(r)/2)+" cm"),n.push(l+" 0 m"),n.push(l+" "+o+" "+o+" "+l+" 0 "+l+" c"),n.push("-"+o+" "+l+" -"+l+" "+o+" -"+l+" 0 c"),n.push("-"+l+" -"+o+" -"+o+" -"+l+" 0 -"+l+" c"),n.push(o+" -"+l+" "+l+" -"+o+" "+l+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+cl(dt.internal.getWidth(r)/2)+" "+cl(dt.internal.getHeight(r)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+f+" "+f+" "+a+" 0 "+a+" c"),n.push("-"+f+" "+a+" -"+a+" "+f+" -"+a+" 0 c"),n.push("-"+a+" -"+f+" -"+f+" -"+a+" 0 -"+a+" c"),n.push(f+" -"+a+" "+a+" -"+f+" "+a+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(r){var e=qs(r);e.scope=r.scope;var n=[],a=dt.internal.getWidth(r)<=dt.internal.getHeight(r)?dt.internal.getWidth(r)/4:dt.internal.getHeight(r)/4;a=Number((.9*a).toFixed(5));var l=Number((2*a).toFixed(5)),o=Number((l*dt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+cl(dt.internal.getWidth(r)/2)+" "+cl(dt.internal.getHeight(r)/2)+" cm"),n.push(l+" 0 m"),n.push(l+" "+o+" "+o+" "+l+" 0 "+l+" c"),n.push("-"+o+" "+l+" -"+l+" "+o+" -"+l+" 0 c"),n.push("-"+l+" -"+o+" -"+o+" -"+l+" 0 -"+l+" c"),n.push(o+" -"+l+" "+l+" -"+o+" "+l+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(r){var e={D:{Off:dt.RadioButton.Cross.OffPushDown},N:{}};return e.N[r]=dt.RadioButton.Cross.YesNormal,e.D[r]=dt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(r){var e=qs(r);e.scope=r.scope;var n=[],a=dt.internal.calculateCross(r);return n.push("q"),n.push("1 1 "+Gt(dt.internal.getWidth(r)-2)+" "+Gt(dt.internal.getHeight(r)-2)+" re"),n.push("W"),n.push("n"),n.push(Gt(a.x1.x)+" "+Gt(a.x1.y)+" m"),n.push(Gt(a.x2.x)+" "+Gt(a.x2.y)+" l"),n.push(Gt(a.x4.x)+" "+Gt(a.x4.y)+" m"),n.push(Gt(a.x3.x)+" "+Gt(a.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(r){var e=qs(r);e.scope=r.scope;var n=dt.internal.calculateCross(r),a=[];return a.push("0.749023 g"),a.push("0 0 "+Gt(dt.internal.getWidth(r))+" "+Gt(dt.internal.getHeight(r))+" re"),a.push("f"),a.push("q"),a.push("1 1 "+Gt(dt.internal.getWidth(r)-2)+" "+Gt(dt.internal.getHeight(r)-2)+" re"),a.push("W"),a.push("n"),a.push(Gt(n.x1.x)+" "+Gt(n.x1.y)+" m"),a.push(Gt(n.x2.x)+" "+Gt(n.x2.y)+" l"),a.push(Gt(n.x4.x)+" "+Gt(n.x4.y)+" m"),a.push(Gt(n.x3.x)+" "+Gt(n.x3.y)+" l"),a.push("s"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(r){var e=qs(r);e.scope=r.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Gt(dt.internal.getWidth(r))+" "+Gt(dt.internal.getHeight(r))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(r){var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,n=r.scope.__private__.encodeColorString(r.color);return"/"+e+" "+r.fontSize+" Tf "+n}};dt.internal={Bezier_C:.551915024494,calculateCross:function(r){var e=dt.internal.getWidth(r),n=dt.internal.getHeight(r),a=Math.min(e,n);return{x1:{x:(e-a)/2,y:(n-a)/2+a},x2:{x:(e-a)/2+a,y:(n-a)/2},x3:{x:(e-a)/2,y:(n-a)/2},x4:{x:(e-a)/2+a,y:(n-a)/2+a}}}},dt.internal.getWidth=function(r){var e=0;return En(r)==="object"&&(e=W2(r.Rect[2])),e},dt.internal.getHeight=function(r){var e=0;return En(r)==="object"&&(e=W2(r.Rect[3])),e};var QS=pr.addField=function(r){if(ZS(this,r),!(r instanceof ys))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=r).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};pr.AcroFormChoiceField=mc,pr.AcroFormListBox=gc,pr.AcroFormComboBox=yc,pr.AcroFormEditBox=Ih,pr.AcroFormButton=Kr,pr.AcroFormPushButton=qh,pr.AcroFormRadioButton=vc,pr.AcroFormCheckBox=Fh,pr.AcroFormTextField=nu,pr.AcroFormPasswordField=Hh,pr.AcroFormAppearance=dt,pr.AcroForm={ChoiceField:mc,ListBox:gc,ComboBox:yc,EditBox:Ih,Button:Kr,PushButton:qh,RadioButton:vc,CheckBox:Fh,TextField:nu,PasswordField:Hh,Appearance:dt},wt.AcroForm={ChoiceField:mc,ListBox:gc,ComboBox:yc,EditBox:Ih,Button:Kr,PushButton:qh,RadioButton:vc,CheckBox:Fh,TextField:nu,PasswordField:Hh,Appearance:dt};wt.AcroForm;function Cy(r){return r.reduce(function(e,n,a){return e[n]=a,e},{})}(function(r){var e="addImage_";r.__addimage__={};var n="UNKNOWN",a={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},l=r.__addimage__.getImageFileTypeByImageData=function(C,q){var re,ie,we,Y,le,ue=n;if((q=q||n)==="RGBA"||C.data!==void 0&&C.data instanceof Uint8ClampedArray&&"height"in C&&"width"in C)return"RGBA";if(me(C))for(le in a)for(we=a[le],re=0;re<we.length;re+=1){for(Y=!0,ie=0;ie<we[re].length;ie+=1)if(we[re][ie]!==void 0&&we[re][ie]!==C[ie]){Y=!1;break}if(Y===!0){ue=le;break}}else for(le in a)for(we=a[le],re=0;re<we.length;re+=1){for(Y=!0,ie=0;ie<we[re].length;ie+=1)if(we[re][ie]!==void 0&&we[re][ie]!==C.charCodeAt(ie)){Y=!1;break}if(Y===!0){ue=le;break}}return ue===n&&q!==n&&(ue=q),ue},o=function C(q){for(var re=this.internal.write,ie=this.internal.putStream,we=(0,this.internal.getFilters)();we.indexOf("FlateEncode")!==-1;)we.splice(we.indexOf("FlateEncode"),1);q.objectId=this.internal.newObject();var Y=[];if(Y.push({key:"Type",value:"/XObject"}),Y.push({key:"Subtype",value:"/Image"}),Y.push({key:"Width",value:q.width}),Y.push({key:"Height",value:q.height}),q.colorSpace===O.INDEXED?Y.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(q.palette.length/3-1)+" "+("sMask"in q&&q.sMask!==void 0?q.objectId+2:q.objectId+1)+" 0 R]"}):(Y.push({key:"ColorSpace",value:"/"+q.colorSpace}),q.colorSpace===O.DEVICE_CMYK&&Y.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Y.push({key:"BitsPerComponent",value:q.bitsPerComponent}),"decodeParameters"in q&&q.decodeParameters!==void 0&&Y.push({key:"DecodeParms",value:"<<"+q.decodeParameters+">>"}),"transparency"in q&&Array.isArray(q.transparency)&&q.transparency.length>0){for(var le="",ue=0,Se=q.transparency.length;ue<Se;ue++)le+=q.transparency[ue]+" "+q.transparency[ue]+" ";Y.push({key:"Mask",value:"["+le+"]"})}q.sMask!==void 0&&Y.push({key:"SMask",value:q.objectId+1+" 0 R"});var ze=q.filter!==void 0?["/"+q.filter]:void 0;if(ie({data:q.data,additionalKeyValues:Y,alreadyAppliedFilters:ze,objectId:q.objectId}),re("endobj"),"sMask"in q&&q.sMask!==void 0){var W,k=(W=q.sMaskBitsPerComponent)!==null&&W!==void 0?W:q.bitsPerComponent,P={width:q.width,height:q.height,colorSpace:"DeviceGray",bitsPerComponent:k,data:q.sMask};"filter"in q&&(P.decodeParameters="/Predictor ".concat(q.predictor," /Colors 1 /BitsPerComponent ").concat(k," /Columns ").concat(q.width),P.filter=q.filter),C.call(this,P)}if(q.colorSpace===O.INDEXED){var K=this.internal.newObject();ie({data:ee(new Uint8Array(q.palette)),objectId:K}),re("endobj")}},f=function(){var C=this.internal.collections[e+"images"];for(var q in C)o.call(this,C[q])},c=function(){var C,q=this.internal.collections[e+"images"],re=this.internal.write;for(var ie in q)re("/I"+(C=q[ie]).index,C.objectId,"0","R")},h=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",f),this.internal.events.subscribe("putXobjectDict",c))},p=function(){var C=this.internal.collections[e+"images"];return h.call(this),C},v=function(){return Object.keys(this.internal.collections[e+"images"]).length},x=function(C){return typeof r["process"+C.toUpperCase()]=="function"},A=function(C){return En(C)==="object"&&C.nodeType===1},y=function(C,q){if(C.nodeName==="IMG"&&C.hasAttribute("src")){var re=""+C.getAttribute("src");if(re.indexOf("data:image/")===0)return Ph(unescape(re).split("base64,").pop());var ie=r.loadFile(re,!0);if(ie!==void 0)return ie}if(C.nodeName==="CANVAS"){if(C.width===0||C.height===0)throw new Error("Given canvas must have data. Canvas width: "+C.width+", height: "+C.height);var we;switch(q){case"PNG":we="image/png";break;case"WEBP":we="image/webp";break;default:we="image/jpeg"}return Ph(C.toDataURL(we,1).split("base64,").pop())}},L=function(C){var q=this.internal.collections[e+"images"];if(q){for(var re in q)if(C===q[re].alias)return q[re]}},E=function(C,q,re){return C||q||(C=-96,q=-96),C<0&&(C=-1*re.width*72/C/this.internal.scaleFactor),q<0&&(q=-1*re.height*72/q/this.internal.scaleFactor),C===0&&(C=q*re.width/re.height),q===0&&(q=C*re.height/re.width),[C,q]},j=function(C,q,re,ie,we,Y){var le=E.call(this,re,ie,we),ue=this.internal.getCoordinateString,Se=this.internal.getVerticalCoordinateString,ze=p.call(this);if(re=le[0],ie=le[1],ze[we.index]=we,Y){Y*=Math.PI/180;var W=Math.cos(Y),k=Math.sin(Y),P=function(ne){return ne.toFixed(4)},K=[P(W),P(k),P(-1*k),P(W),0,0,"cm"]}this.internal.write("q"),Y?(this.internal.write([1,"0","0",1,ue(C),Se(q+ie),"cm"].join(" ")),this.internal.write(K.join(" ")),this.internal.write([ue(re),"0","0",ue(ie),"0","0","cm"].join(" "))):this.internal.write([ue(re),"0","0",ue(ie),ue(C),Se(q+ie),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+we.index+" Do"),this.internal.write("Q")},O=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var M=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},F=r.__addimage__.sHashCode=function(C){var q,re,ie=0;if(typeof C=="string")for(re=C.length,q=0;q<re;q++)ie=(ie<<5)-ie+C.charCodeAt(q),ie|=0;else if(me(C))for(re=C.byteLength/2,q=0;q<re;q++)ie=(ie<<5)-ie+C[q],ie|=0;return ie},G=r.__addimage__.validateStringAsBase64=function(C){(C=C||"").toString().trim();var q=!0;return C.length===0&&(q=!1),C.length%4!=0&&(q=!1),/^[A-Za-z0-9+/]+$/.test(C.substr(0,C.length-2))===!1&&(q=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(C.substr(-2))===!1&&(q=!1),q},se=r.__addimage__.extractImageFromDataUrl=function(C){if(C==null||!(C=C.trim()).startsWith("data:"))return null;var q=C.indexOf(",");return q<0?null:C.substring(0,q).trim().endsWith("base64")?C.substring(q+1):null};r.__addimage__.isArrayBuffer=function(C){return C instanceof ArrayBuffer};var me=r.__addimage__.isArrayBufferView=function(C){return C instanceof Int8Array||C instanceof Uint8Array||C instanceof Uint8ClampedArray||C instanceof Int16Array||C instanceof Uint16Array||C instanceof Int32Array||C instanceof Uint32Array||C instanceof Float32Array||C instanceof Float64Array},Q=r.__addimage__.binaryStringToUint8Array=function(C){for(var q=C.length,re=new Uint8Array(q),ie=0;ie<q;ie++)re[ie]=C.charCodeAt(ie);return re},ee=r.__addimage__.arrayBufferToBinaryString=function(C){for(var q="",re=me(C)?C:new Uint8Array(C),ie=0;ie<re.length;ie+=8192)q+=String.fromCharCode.apply(null,re.subarray(ie,ie+8192));return q};r.addImage=function(){var C,q,re,ie,we,Y,le,ue,Se;if(typeof arguments[1]=="number"?(q=n,re=arguments[1],ie=arguments[2],we=arguments[3],Y=arguments[4],le=arguments[5],ue=arguments[6],Se=arguments[7]):(q=arguments[1],re=arguments[2],ie=arguments[3],we=arguments[4],Y=arguments[5],le=arguments[6],ue=arguments[7],Se=arguments[8]),En(C=arguments[0])==="object"&&!A(C)&&"imageData"in C){var ze=C;C=ze.imageData,q=ze.format||q||n,re=ze.x||re||0,ie=ze.y||ie||0,we=ze.w||ze.width||we,Y=ze.h||ze.height||Y,le=ze.alias||le,ue=ze.compression||ue,Se=ze.rotation||ze.angle||Se}var W=this.internal.getFilters();if(ue===void 0&&W.indexOf("FlateEncode")!==-1&&(ue="SLOW"),isNaN(re)||isNaN(ie))throw new Error("Invalid coordinates passed to jsPDF.addImage");h.call(this);var k=$.call(this,C,q,le,ue);return j.call(this,re,ie,we,Y,k,Se),this};var $=function(C,q,re,ie){var we,Y,le;if(typeof C=="string"&&l(C)===n){C=unescape(C);var ue=he(C,!1);(ue!==""||(ue=r.loadFile(C,!0))!==void 0)&&(C=ue)}if(A(C)&&(C=y(C,q)),q=l(C,q),!x(q))throw new Error("addImage does not support files of type '"+q+"', please ensure that a plugin for '"+q+"' support is added.");if(((le=re)==null||le.length===0)&&(re=(function(Se){return typeof Se=="string"||me(Se)?F(Se):me(Se.data)?F(Se.data):null})(C)),(we=L.call(this,re))||(C instanceof Uint8Array||q==="RGBA"||(Y=C,C=Q(C)),we=this["process"+q.toUpperCase()](C,v.call(this),re,(function(Se){return Se&&typeof Se=="string"&&(Se=Se.toUpperCase()),Se in r.image_compression?Se:M.NONE})(ie),Y)),!we)throw new Error("An unknown error occurred whilst processing the image.");return we},he=r.__addimage__.convertBase64ToBinaryString=function(C,q){q=typeof q!="boolean"||q;var re,ie="";if(typeof C=="string"){var we;re=(we=se(C))!==null&&we!==void 0?we:C;try{ie=Ph(re)}catch(Y){if(q)throw G(re)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Y.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ie};r.getImageProperties=function(C){var q,re,ie="";if(A(C)&&(C=y(C)),typeof C=="string"&&l(C)===n&&((ie=he(C,!1))===""&&(ie=r.loadFile(C)||""),C=ie),re=l(C),!x(re))throw new Error("addImage does not support files of type '"+re+"', please ensure that a plugin for '"+re+"' support is added.");if(C instanceof Uint8Array||(C=Q(C)),!(q=this["process"+re.toUpperCase()](C)))throw new Error("An unknown error occurred whilst processing the image");return q.fileType=re,q}})(wt.API),(function(r){var e=function(n){if(n!==void 0&&n!="")return!0};wt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(n){for(var a,l,o,f=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,h=this.internal.getPageInfoByObjId(n.objId),p=n.pageContext.annotations,v=!1,x=0;x<p.length&&!v;x++)switch((a=p[x]).type){case"link":(e(a.options.url)||e(a.options.pageNumber))&&(v=!0);break;case"reference":case"text":case"freetext":v=!0}if(v!=0){this.internal.write("/Annots [");for(var A=0;A<p.length;A++){a=p[A];var y=this.internal.pdfEscape,L=this.internal.getEncryptor(n.objId);switch(a.type){case"reference":this.internal.write(" "+a.object.objId+" 0 R ");break;case"text":var E=this.internal.newAdditionalObject(),j=this.internal.newAdditionalObject(),O=this.internal.getEncryptor(E.objId),M=a.title||"Note";o="<</Type /Annot /Subtype /Text "+(l="/Rect ["+f(a.bounds.x)+" "+c(a.bounds.y+a.bounds.h)+" "+f(a.bounds.x+a.bounds.w)+" "+c(a.bounds.y)+"] ")+"/Contents ("+y(O(a.contents))+")",o+=" /Popup "+j.objId+" 0 R",o+=" /P "+h.objId+" 0 R",o+=" /T ("+y(O(M))+") >>",E.content=o;var F=E.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(l="/Rect ["+f(a.bounds.x+30)+" "+c(a.bounds.y+a.bounds.h)+" "+f(a.bounds.x+a.bounds.w+30)+" "+c(a.bounds.y)+"] ")+" /Parent "+F,a.open&&(o+=" /Open true"),o+=" >>",j.content=o,this.internal.write(E.objId,"0 R",j.objId,"0 R");break;case"freetext":l="/Rect ["+f(a.bounds.x)+" "+c(a.bounds.y)+" "+f(a.bounds.x+a.bounds.w)+" "+c(a.bounds.y+a.bounds.h)+"] ";var G=a.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+l+"/Contents ("+y(L(a.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+G+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(a.options.name){var se=this.annotations._nameMap[a.options.name];a.options.pageNumber=se.page,a.options.top=se.y}else a.options.top||(a.options.top=0);if(l="/Rect ["+a.finalBounds.x+" "+a.finalBounds.y+" "+a.finalBounds.w+" "+a.finalBounds.h+"] ",o="",a.options.url)o="<</Type /Annot /Subtype /Link "+l+"/Border [0 0 0] /A <</S /URI /URI ("+y(L(a.options.url))+") >>";else if(a.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+l+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(a.options.pageNumber).objId+" 0 R",a.options.magFactor=a.options.magFactor||"XYZ",a.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+a.options.top+"]";break;case"FitV":a.options.left=a.options.left||0,o+=" /FitV "+a.options.left+"]";break;default:var me=c(a.options.top);a.options.left=a.options.left||0,a.options.zoom===void 0&&(a.options.zoom=0),o+=" /XYZ "+a.options.left+" "+me+" "+a.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),r.createAnnotation=function(n){var a=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":a.pageContext.annotations.push(n)}},r.link=function(n,a,l,o,f){var c=this.internal.getCurrentPageInfo(),h=this.internal.getCoordinateString,p=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:h(n),y:p(a),w:h(n+l),h:p(a+o)},options:f,type:"link"})},r.textWithLink=function(n,a,l,o){var f,c,h=this.getTextWidth(n),p=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){c=o.maxWidth;var v=this.splitTextToSize(n,c).length;f=Math.ceil(p*v)}else c=h,f=p;return this.text(n,a,l,o),l+=.2*p,o.align==="center"&&(a-=h/2),o.align==="right"&&(a-=h),this.link(a,l-p,c,f,o),h},r.getTextWidth=function(n){var a=this.internal.getFontSize();return this.getStringUnitWidth(n)*a/this.internal.scaleFactor}})(wt.API),(function(r){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},a={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},l=[1570,1571,1573,1575];r.__arabicParser__={};var o=r.__arabicParser__.isInArabicSubstitutionA=function(E){return e[E.charCodeAt(0)]!==void 0},f=r.__arabicParser__.isArabicLetter=function(E){return typeof E=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(E)},c=r.__arabicParser__.isArabicEndLetter=function(E){return f(E)&&o(E)&&e[E.charCodeAt(0)].length<=2},h=r.__arabicParser__.isArabicAlfLetter=function(E){return f(E)&&l.indexOf(E.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(E){return f(E)&&o(E)&&e[E.charCodeAt(0)].length>=1};var p=r.__arabicParser__.arabicLetterHasFinalForm=function(E){return f(E)&&o(E)&&e[E.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(E){return f(E)&&o(E)&&e[E.charCodeAt(0)].length>=3};var v=r.__arabicParser__.arabicLetterHasMedialForm=function(E){return f(E)&&o(E)&&e[E.charCodeAt(0)].length==4},x=r.__arabicParser__.resolveLigatures=function(E){var j=0,O=n,M="",F=0;for(j=0;j<E.length;j+=1)O[E.charCodeAt(j)]!==void 0?(F++,typeof(O=O[E.charCodeAt(j)])=="number"&&(M+=String.fromCharCode(O),O=n,F=0),j===E.length-1&&(O=n,M+=E.charAt(j-(F-1)),j-=F-1,F=0)):(O=n,M+=E.charAt(j-F),j-=F,F=0);return M};r.__arabicParser__.isArabicDiacritic=function(E){return E!==void 0&&a[E.charCodeAt(0)]!==void 0};var A=r.__arabicParser__.getCorrectForm=function(E,j,O){return f(E)?o(E)===!1?-1:!p(E)||!f(j)&&!f(O)||!f(O)&&c(j)||c(E)&&!f(j)||c(E)&&h(j)||c(E)&&c(j)?0:v(E)&&f(j)&&!c(j)&&f(O)&&p(O)?3:c(E)||!f(O)?1:2:-1},y=function(E){var j=0,O=0,M=0,F="",G="",se="",me=(E=E||"").split("\\s+"),Q=[];for(j=0;j<me.length;j+=1){for(Q.push(""),O=0;O<me[j].length;O+=1)F=me[j][O],G=me[j][O-1],se=me[j][O+1],f(F)?(M=A(F,G,se),Q[j]+=M!==-1?String.fromCharCode(e[F.charCodeAt(0)][M]):F):Q[j]+=F;Q[j]=x(Q[j])}return Q.join(" ")},L=r.__arabicParser__.processArabic=r.processArabic=function(){var E,j=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,O=[];if(Array.isArray(j)){var M=0;for(O=[],M=0;M<j.length;M+=1)Array.isArray(j[M])?O.push([y(j[M][0]),j[M][1],j[M][2]]):O.push([y(j[M])]);E=O}else E=y(j);return typeof arguments[0]=="string"?E:(arguments[0].text=E,arguments[0])};r.events.push(["preProcessText",L])})(wt.API),wt.API.autoPrint=function(r){var e;return(r=r||{}).variant=r.variant||"non-conform",r.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(r){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(c){n=c}});var a=150;Object.defineProperty(this,"width",{get:function(){return a},set:function(c){a=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=a+1)}});var l=300;Object.defineProperty(this,"height",{get:function(){return l},set:function(c){l=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=l+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(c){o=c}});var f={};Object.defineProperty(this,"style",{get:function(){return f},set:function(c){f=c}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,a){var l;if((n=n||"2d")!=="2d")return null;for(l in a)this.pdf.context2d.hasOwnProperty(l)&&(this.pdf.context2d[l]=a[l]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(wt.API),(function(r){var e={left:0,top:0,bottom:0,right:0},n=!1,a=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),l.call(this))},l=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var h=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return h},set:function(E){h=E}});var p=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return p},set:function(E){p=E}});var v=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return v},set:function(E){v=E}});var x=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return x},set:function(E){x=E}});var A=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return A},set:function(E){A=E}});var y=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return y},set:function(E){y=E}});var L=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return L},set:function(E){L=E}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(h){return a.call(this),this.internal.__cell__.headerFunction=typeof h=="function"?h:void 0,this},r.getTextDimensions=function(h,p){a.call(this);var v=(p=p||{}).fontSize||this.getFontSize(),x=p.font||this.getFont(),A=p.scaleFactor||this.internal.scaleFactor,y=0,L=0,E=0,j=this;if(!Array.isArray(h)&&typeof h!="string"){if(typeof h!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");h=String(h)}var O=p.maxWidth;O>0?typeof h=="string"?h=this.splitTextToSize(h,O):Object.prototype.toString.call(h)==="[object Array]"&&(h=h.reduce(function(F,G){return F.concat(j.splitTextToSize(G,O))},[])):h=Array.isArray(h)?h:[h];for(var M=0;M<h.length;M++)y<(E=this.getStringUnitWidth(h[M],{font:x})*v)&&(y=E);return y!==0&&(L=h.length),{w:y/=A,h:Math.max((L*v*this.getLineHeightFactor()-v*(this.getLineHeightFactor()-1))/A,0)}},r.cellAddPage=function(){a.call(this),this.addPage();var h=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(h.left,h.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var f=r.cell=function(){var h;h=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),a.call(this);var p=this.internal.__cell__.lastCell,v=this.internal.__cell__.padding,x=this.internal.__cell__.margins||e,A=this.internal.__cell__.tableHeaderRow,y=this.internal.__cell__.printHeaders;return p.lineNumber!==void 0&&(p.lineNumber===h.lineNumber?(h.x=(p.x||0)+(p.width||0),h.y=p.y||0):p.y+p.height+h.height+x.bottom>this.getPageHeight()?(this.cellAddPage(),h.y=x.top,y&&A&&(this.printHeaderRow(h.lineNumber,!0),h.y+=A[0].height)):h.y=p.y+p.height||h.y),h.text[0]!==void 0&&(this.rect(h.x,h.y,h.width,h.height,n===!0?"FD":void 0),h.align==="right"?this.text(h.text,h.x+h.width-v,h.y+v,{align:"right",baseline:"top"}):h.align==="center"?this.text(h.text,h.x+h.width/2,h.y+v,{align:"center",baseline:"top",maxWidth:h.width-v-v}):this.text(h.text,h.x+v,h.y+v,{align:"left",baseline:"top",maxWidth:h.width-v-v})),this.internal.__cell__.lastCell=h,this};r.table=function(h,p,v,x,A){if(a.call(this),!v)throw new Error("No data for PDF table.");var y,L,E,j,O=[],M=[],F=[],G={},se={},me=[],Q=[],ee=(A=A||{}).autoSize||!1,$=A.printHeaders!==!1,he=A.css&&A.css["font-size"]!==void 0?16*A.css["font-size"]:A.fontSize||12,C=A.margins||Object.assign({width:this.getPageWidth()},e),q=typeof A.padding=="number"?A.padding:3,re=A.headerBackgroundColor||"#c8c8c8",ie=A.headerTextColor||"#000";if(l.call(this),this.internal.__cell__.printHeaders=$,this.internal.__cell__.margins=C,this.internal.__cell__.table_font_size=he,this.internal.__cell__.padding=q,this.internal.__cell__.headerBackgroundColor=re,this.internal.__cell__.headerTextColor=ie,this.setFontSize(he),x==null)M=O=Object.keys(v[0]),F=O.map(function(){return"left"});else if(Array.isArray(x)&&En(x[0])==="object")for(O=x.map(function(ze){return ze.name}),M=x.map(function(ze){return ze.prompt||ze.name||""}),F=x.map(function(ze){return ze.align||"left"}),y=0;y<x.length;y+=1)se[x[y].name]=.7499990551181103*x[y].width;else Array.isArray(x)&&typeof x[0]=="string"&&(M=O=x,F=O.map(function(){return"left"}));if(ee||Array.isArray(x)&&typeof x[0]=="string")for(y=0;y<O.length;y+=1){for(G[j=O[y]]=v.map(function(ze){return ze[j]}),this.setFont(void 0,"bold"),me.push(this.getTextDimensions(M[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),L=G[j],this.setFont(void 0,"normal"),E=0;E<L.length;E+=1)me.push(this.getTextDimensions(L[E],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);se[j]=Math.max.apply(null,me)+q+q,me=[]}if($){var we={};for(y=0;y<O.length;y+=1)we[O[y]]={},we[O[y]].text=M[y],we[O[y]].align=F[y];var Y=c.call(this,we,se);Q=O.map(function(ze){return new o(h,p,se[ze],Y,we[ze].text,void 0,we[ze].align)}),this.setTableHeaderRow(Q),this.printHeaderRow(1,!1)}var le=x.reduce(function(ze,W){return ze[W.name]=W.align,ze},{});for(y=0;y<v.length;y+=1){"rowStart"in A&&A.rowStart instanceof Function&&A.rowStart({row:y,data:v[y]},this);var ue=c.call(this,v[y],se);for(E=0;E<O.length;E+=1){var Se=v[y][O[E]];"cellStart"in A&&A.cellStart instanceof Function&&A.cellStart({row:y,col:E,data:Se},this),f.call(this,new o(h,p,se[O[E]],ue,Se,y+2,le[O[E]]))}}return this.internal.__cell__.table_x=h,this.internal.__cell__.table_y=p,this};var c=function(h,p){var v=this.internal.__cell__.padding,x=this.internal.__cell__.table_font_size,A=this.internal.scaleFactor;return Object.keys(h).map(function(y){var L=h[y];return this.splitTextToSize(L.hasOwnProperty("text")?L.text:L,p[y]-v-v)},this).map(function(y){return this.getLineHeightFactor()*y.length*x/A+v+v},this).reduce(function(y,L){return Math.max(y,L)},0)};r.setTableHeaderRow=function(h){a.call(this),this.internal.__cell__.tableHeaderRow=h},r.printHeaderRow=function(h,p){if(a.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var v;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var x=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(x[0],x[1],x[2],x[3],void 0,-1)}this.setFont(void 0,"bold");for(var A=[],y=0;y<this.internal.__cell__.tableHeaderRow.length;y+=1){v=this.internal.__cell__.tableHeaderRow[y].clone(),p&&(v.y=this.internal.__cell__.margins.top||0,A.push(v)),v.lineNumber=h;var L=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),f.call(this,v),this.setTextColor(L)}A.length>0&&this.setTableHeaderRow(A),this.setFont(void 0,"normal"),n=!1}})(wt.API);var Ry={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Dy=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],kp=Cy(Dy),By=[100,200,300,400,500,600,700,800,900],e6=Cy(By);function ep(r){var e=r.family.replace(/"|'/g,"").toLowerCase(),n=(function(o){return Ry[o=o||"normal"]?o:"normal"})(r.style),a=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(r.weight),l=(function(o){return typeof kp[o=o||"normal"]=="number"?o:"normal"})(r.stretch);return{family:e,style:n,weight:a,stretch:l,src:r.src||[],ref:r.ref||{name:e,style:[l,n,a].join(" ")}}}function V2(r,e,n,a){var l;for(l=n;l>=0&&l<e.length;l+=a)if(r[e[l]])return r[e[l]];for(l=n;l>=0&&l<e.length;l-=a)if(r[e[l]])return r[e[l]]}var t6={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Y2={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function K2(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function J2(r){return r.trimLeft()}function n6(r,e){for(var n=0;n<r.length;){if(r.charAt(n)===e)return[r.substring(0,n),r.substring(n+1)];n+=1}return null}function r6(r){var e=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],r.substring(e[0].length)]}var ac,Bh,X2,Z2,Q2,tp=["times"];function e5(r,e,n,a,l){var o=4,f=n5;switch(l){case wt.API.image_compression.FAST:o=1,f=t5;break;case wt.API.image_compression.MEDIUM:o=6,f=r5;break;case wt.API.image_compression.SLOW:o=9,f=i5}r=(function(h,p,v,x){for(var A,y=h.length/p,L=new Uint8Array(h.length+y),E=[i6,t5,n5,r5,i5],j=0;j<y;j+=1){var O=j*p,M=h.subarray(O,O+p);if(x)L.set(x(M,v,A),O+j);else{for(var F=E.length,G=[],se=0;se<F;se+=1)G[se]=E[se](M,v,A);var me=s6(G.concat());L.set(G[me],O+j)}A=M}return L})(r,e,Math.ceil(n*a/8),f);var c=wp(r,{level:o});return wt.API.__addimage__.arrayBufferToBinaryString(c)}function i6(r){var e=Array.apply([],r);return e.unshift(0),e}function t5(r,e){var n=r.length,a=[];a[0]=1;for(var l=0;l<n;l+=1){var o=r[l-e]||0;a[l+1]=r[l]-o+256&255}return a}function n5(r,e,n){var a=r.length,l=[];l[0]=2;for(var o=0;o<a;o+=1){var f=n&&n[o]||0;l[o+1]=r[o]-f+256&255}return l}function r5(r,e,n){var a=r.length,l=[];l[0]=3;for(var o=0;o<a;o+=1){var f=r[o-e]||0,c=n&&n[o]||0;l[o+1]=r[o]+256-(f+c>>>1)&255}return l}function i5(r,e,n){var a=r.length,l=[];l[0]=4;for(var o=0;o<a;o+=1){var f=a6(r[o-e]||0,n&&n[o]||0,n&&n[o-e]||0);l[o+1]=r[o]-f+256&255}return l}function a6(r,e,n){if(r===e&&e===n)return r;var a=Math.abs(e-n),l=Math.abs(r-n),o=Math.abs(r+e-n-n);return a<=l&&a<=o?r:l<=o?e:n}function s6(r){var e=r.map(function(n){return n.reduce(function(a,l){return a+Math.abs(l)},0)});return e.indexOf(Math.min.apply(null,e))}function np(r,e,n){var a=e*n,l=Math.floor(a/8),o=16-(a-8*l+n),f=(1<<n)-1;return zy(r,l)>>o&f}function a5(r,e,n,a){var l=n*a,o=Math.floor(l/8),f=16-(l-8*o+a),c=(1<<a)-1,h=(e&c)<<f;(function(p,v,x){if(v+1<p.byteLength)p.setUint16(v,x,!1);else{var A=x>>8&255;p.setUint8(v,A)}})(r,o,zy(r,o)&~(c<<f)&65535|h)}function zy(r,e){return e+1<r.byteLength?r.getUint16(e,!1):r.getUint8(e)<<8}function o6(r){var e=0;if(r[e++]!==71||r[e++]!==73||r[e++]!==70||r[e++]!==56||(r[e++]+1&253)!=56||r[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=r[e++]|r[e++]<<8,a=r[e++]|r[e++]<<8,l=r[e++],o=l>>7,f=1<<1+(7&l);r[e++],r[e++];var c=null,h=null;o&&(c=e,h=f,e+=3*f);var p=!0,v=[],x=0,A=null,y=0,L=null;for(this.width=n,this.height=a;p&&e<r.length;)switch(r[e++]){case 33:switch(r[e++]){case 255:if(r[e]!==11||r[e+1]==78&&r[e+2]==69&&r[e+3]==84&&r[e+4]==83&&r[e+5]==67&&r[e+6]==65&&r[e+7]==80&&r[e+8]==69&&r[e+9]==50&&r[e+10]==46&&r[e+11]==48&&r[e+12]==3&&r[e+13]==1&&r[e+16]==0)e+=14,L=r[e++]|r[e++]<<8,e++;else for(e+=12;;){if(!((C=r[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}break;case 249:if(r[e++]!==4||r[e+4]!==0)throw new Error("Invalid graphics extension block.");var E=r[e++];x=r[e++]|r[e++]<<8,A=r[e++],1&E||(A=null),y=E>>2&7,e++;break;case 254:for(;;){if(!((C=r[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}break;default:throw new Error("Unknown graphic control label: 0x"+r[e-1].toString(16))}break;case 44:var j=r[e++]|r[e++]<<8,O=r[e++]|r[e++]<<8,M=r[e++]|r[e++]<<8,F=r[e++]|r[e++]<<8,G=r[e++],se=G>>6&1,me=1<<1+(7&G),Q=c,ee=h,$=!1;G>>7&&($=!0,Q=e,ee=me,e+=3*me);var he=e;for(e++;;){var C;if(!((C=r[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}v.push({x:j,y:O,width:M,height:F,has_local_palette:$,palette_offset:Q,palette_size:ee,data_offset:he,data_length:e-he,transparent_index:A,interlaced:!!se,delay:x,disposal:y});break;case 59:p=!1;break;default:throw new Error("Unknown gif block: 0x"+r[e-1].toString(16))}this.numFrames=function(){return v.length},this.loopCount=function(){return L},this.frameInfo=function(q){if(q<0||q>=v.length)throw new Error("Frame index out of range.");return v[q]},this.decodeAndBlitFrameBGRA=function(q,re){var ie=this.frameInfo(q),we=ie.width*ie.height,Y=new Uint8Array(we);s5(r,ie.data_offset,Y,we);var le=ie.palette_offset,ue=ie.transparent_index;ue===null&&(ue=256);var Se=ie.width,ze=n-Se,W=Se,k=4*(ie.y*n+ie.x),P=4*((ie.y+ie.height)*n+ie.x),K=k,ne=4*ze;ie.interlaced===!0&&(ne+=4*n*7);for(var ae=8,de=0,Ne=Y.length;de<Ne;++de){var Ae=Y[de];if(W===0&&(W=Se,(K+=ne)>=P&&(ne=4*ze+4*n*(ae-1),K=k+(Se+ze)*(ae<<1),ae>>=1)),Ae===ue)K+=4;else{var Ue=r[le+3*Ae],We=r[le+3*Ae+1],Qe=r[le+3*Ae+2];re[K++]=Qe,re[K++]=We,re[K++]=Ue,re[K++]=255}--W}},this.decodeAndBlitFrameRGBA=function(q,re){var ie=this.frameInfo(q),we=ie.width*ie.height,Y=new Uint8Array(we);s5(r,ie.data_offset,Y,we);var le=ie.palette_offset,ue=ie.transparent_index;ue===null&&(ue=256);var Se=ie.width,ze=n-Se,W=Se,k=4*(ie.y*n+ie.x),P=4*((ie.y+ie.height)*n+ie.x),K=k,ne=4*ze;ie.interlaced===!0&&(ne+=4*n*7);for(var ae=8,de=0,Ne=Y.length;de<Ne;++de){var Ae=Y[de];if(W===0&&(W=Se,(K+=ne)>=P&&(ne=4*ze+4*n*(ae-1),K=k+(Se+ze)*(ae<<1),ae>>=1)),Ae===ue)K+=4;else{var Ue=r[le+3*Ae],We=r[le+3*Ae+1],Qe=r[le+3*Ae+2];re[K++]=Ue,re[K++]=We,re[K++]=Qe,re[K++]=255}--W}}}function s5(r,e,n,a){for(var l=r[e++],o=1<<l,f=o+1,c=f+1,h=l+1,p=(1<<h)-1,v=0,x=0,A=0,y=r[e++],L=new Int32Array(4096),E=null;;){for(;v<16&&y!==0;)x|=r[e++]<<v,v+=8,y===1?y=r[e++]:--y;if(v<h)break;var j=x&p;if(x>>=h,v-=h,j!==o){if(j===f)break;for(var O=j<c?j:E,M=0,F=O;F>o;)F=L[F]>>8,++M;var G=F;if(A+M+(O!==j?1:0)>a)return void zn.log("Warning, gif stream longer than expected.");n[A++]=G;var se=A+=M;for(O!==j&&(n[A++]=G),F=O;M--;)F=L[F],n[--se]=255&F,F>>=8;E!==null&&c<4096&&(L[c++]=E<<8|G,c>=p+1&&h<12&&(++h,p=p<<1|1)),E=j}else c=f+1,p=(1<<(h=l+1))-1,E=null}return A!==a&&zn.log("Warning, gif stream shorter than expected."),n}function rp(r){var e,n,a,l,o,f=Math.floor,c=new Array(64),h=new Array(64),p=new Array(64),v=new Array(64),x=new Array(65535),A=new Array(65535),y=new Array(64),L=new Array(64),E=[],j=0,O=7,M=new Array(64),F=new Array(64),G=new Array(64),se=new Array(256),me=new Array(2048),Q=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],ee=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],$=[0,1,2,3,4,5,6,7,8,9,10,11],he=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],C=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],q=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],re=[0,1,2,3,4,5,6,7,8,9,10,11],ie=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],we=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Y(k,P){for(var K=0,ne=0,ae=new Array,de=1;de<=16;de++){for(var Ne=1;Ne<=k[de];Ne++)ae[P[ne]]=[],ae[P[ne]][0]=K,ae[P[ne]][1]=de,ne++,K++;K*=2}return ae}function le(k){for(var P=k[0],K=k[1]-1;K>=0;)P&1<<K&&(j|=1<<O),K--,--O<0&&(j==255?(ue(255),ue(0)):ue(j),O=7,j=0)}function ue(k){E.push(k)}function Se(k){ue(k>>8&255),ue(255&k)}function ze(k,P,K,ne,ae){for(var de,Ne=ae[0],Ae=ae[240],Ue=(function(Oe,Ye){var $e,st,ft,Lt,Tt,yt,Nt,Mt,nt,kt,ot=0;for(nt=0;nt<8;++nt){$e=Oe[ot],st=Oe[ot+1],ft=Oe[ot+2],Lt=Oe[ot+3],Tt=Oe[ot+4],yt=Oe[ot+5],Nt=Oe[ot+6];var un=$e+(Mt=Oe[ot+7]),Xe=$e-Mt,Ze=st+Nt,rt=st-Nt,jt=ft+yt,pt=ft-yt,Yt=Lt+Tt,xt=Lt-Tt,Ot=un+Yt,rn=un-Yt,qt=Ze+jt,vt=Ze-jt;Oe[ot]=Ot+qt,Oe[ot+4]=Ot-qt;var Jt=.707106781*(vt+rn);Oe[ot+2]=rn+Jt,Oe[ot+6]=rn-Jt;var an=.382683433*((Ot=xt+pt)-(vt=rt+Xe)),Tn=.5411961*Ot+an,qr=1.306562965*vt+an,oi=.707106781*(qt=pt+rt),_t=Xe+oi,Ua=Xe-oi;Oe[ot+5]=Ua+Tn,Oe[ot+3]=Ua-Tn,Oe[ot+1]=_t+qr,Oe[ot+7]=_t-qr,ot+=8}for(ot=0,nt=0;nt<8;++nt){$e=Oe[ot],st=Oe[ot+8],ft=Oe[ot+16],Lt=Oe[ot+24],Tt=Oe[ot+32],yt=Oe[ot+40],Nt=Oe[ot+48];var ga=$e+(Mt=Oe[ot+56]),gi=$e-Mt,yi=st+Nt,Un=st-Nt,ar=ft+yt,Sr=ft-yt,bs=Lt+Tt,Jr=Lt-Tt,xn=ga+bs,Pn=ga-bs,Fr=yi+ar,vi=yi-ar;Oe[ot]=xn+Fr,Oe[ot+32]=xn-Fr;var ki=.707106781*(vi+Pn);Oe[ot+16]=Pn+ki,Oe[ot+48]=Pn-ki;var Gs=.382683433*((xn=Jr+Sr)-(vi=Un+gi)),Wi=.5411961*xn+Gs,Vi=1.306562965*vi+Gs,ws=.707106781*(Fr=Sr+Un),Yi=gi+ws,Ki=gi-ws;Oe[ot+40]=Ki+Wi,Oe[ot+24]=Ki-Wi,Oe[ot+8]=Yi+Vi,Oe[ot+56]=Yi-Vi,ot++}for(nt=0;nt<64;++nt)kt=Oe[nt]*Ye[nt],y[nt]=kt>0?kt+.5|0:kt-.5|0;return y})(k,P),We=0;We<64;++We)L[Q[We]]=Ue[We];var Qe=L[0]-K;K=L[0],Qe==0?le(ne[0]):(le(ne[A[de=32767+Qe]]),le(x[de]));for(var et=63;et>0&&L[et]==0;)et--;if(et==0)return le(Ne),K;for(var xe,B=1;B<=et;){for(var je=B;L[B]==0&&B<=et;)++B;var Ke=B-je;if(Ke>=16){xe=Ke>>4;for(var Re=1;Re<=xe;++Re)le(Ae);Ke&=15}de=32767+L[B],le(ae[(Ke<<4)+A[de]]),le(x[de]),B++}return et!=63&&le(Ne),K}function W(k){k=Math.min(Math.max(k,1),100),o!=k&&((function(P){for(var K=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ne=0;ne<64;ne++){var ae=f((K[ne]*P+50)/100);ae=Math.min(Math.max(ae,1),255),c[Q[ne]]=ae}for(var de=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ne=0;Ne<64;Ne++){var Ae=f((de[Ne]*P+50)/100);Ae=Math.min(Math.max(Ae,1),255),h[Q[Ne]]=Ae}for(var Ue=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],We=0,Qe=0;Qe<8;Qe++)for(var et=0;et<8;et++)p[We]=1/(c[Q[We]]*Ue[Qe]*Ue[et]*8),v[We]=1/(h[Q[We]]*Ue[Qe]*Ue[et]*8),We++})(k<50?Math.floor(5e3/k):Math.floor(200-2*k)),o=k)}this.encode=function(k,P){P&&W(P),E=new Array,j=0,O=7,Se(65496),Se(65504),Se(16),ue(74),ue(70),ue(73),ue(70),ue(0),ue(1),ue(1),ue(0),Se(1),Se(1),ue(0),ue(0),(function(){Se(65499),Se(132),ue(0);for(var st=0;st<64;st++)ue(c[st]);ue(1);for(var ft=0;ft<64;ft++)ue(h[ft])})(),(function(st,ft){Se(65472),Se(17),ue(8),Se(ft),Se(st),ue(3),ue(1),ue(17),ue(0),ue(2),ue(17),ue(1),ue(3),ue(17),ue(1)})(k.width,k.height),(function(){Se(65476),Se(418),ue(0);for(var st=0;st<16;st++)ue(ee[st+1]);for(var ft=0;ft<=11;ft++)ue($[ft]);ue(16);for(var Lt=0;Lt<16;Lt++)ue(he[Lt+1]);for(var Tt=0;Tt<=161;Tt++)ue(C[Tt]);ue(1);for(var yt=0;yt<16;yt++)ue(q[yt+1]);for(var Nt=0;Nt<=11;Nt++)ue(re[Nt]);ue(17);for(var Mt=0;Mt<16;Mt++)ue(ie[Mt+1]);for(var nt=0;nt<=161;nt++)ue(we[nt])})(),Se(65498),Se(12),ue(3),ue(1),ue(0),ue(2),ue(17),ue(3),ue(17),ue(0),ue(63),ue(0);var K=0,ne=0,ae=0;j=0,O=7,this.encode.displayName="_encode_";for(var de,Ne,Ae,Ue,We,Qe,et,xe,B,je=k.data,Ke=k.width,Re=k.height,Oe=4*Ke,Ye=0;Ye<Re;){for(de=0;de<Oe;){for(We=Oe*Ye+de,et=-1,xe=0,B=0;B<64;B++)Qe=We+(xe=B>>3)*Oe+(et=4*(7&B)),Ye+xe>=Re&&(Qe-=Oe*(Ye+1+xe-Re)),de+et>=Oe&&(Qe-=de+et-Oe+4),Ne=je[Qe++],Ae=je[Qe++],Ue=je[Qe++],M[B]=(me[Ne]+me[Ae+256|0]+me[Ue+512|0]>>16)-128,F[B]=(me[Ne+768|0]+me[Ae+1024|0]+me[Ue+1280|0]>>16)-128,G[B]=(me[Ne+1280|0]+me[Ae+1536|0]+me[Ue+1792|0]>>16)-128;K=ze(M,p,K,e,a),ne=ze(F,v,ne,n,l),ae=ze(G,v,ae,n,l),de+=32}Ye+=8}if(O>=0){var $e=[];$e[1]=O+1,$e[0]=(1<<O+1)-1,le($e)}return Se(65497),new Uint8Array(E)},r=r||50,(function(){for(var k=String.fromCharCode,P=0;P<256;P++)se[P]=k(P)})(),e=Y(ee,$),n=Y(q,re),a=Y(he,C),l=Y(ie,we),(function(){for(var k=1,P=2,K=1;K<=15;K++){for(var ne=k;ne<P;ne++)A[32767+ne]=K,x[32767+ne]=[],x[32767+ne][1]=K,x[32767+ne][0]=ne;for(var ae=-(P-1);ae<=-k;ae++)A[32767+ae]=K,x[32767+ae]=[],x[32767+ae][1]=K,x[32767+ae][0]=P-1+ae;k<<=1,P<<=1}})(),(function(){for(var k=0;k<256;k++)me[k]=19595*k,me[k+256|0]=38470*k,me[k+512|0]=7471*k+32768,me[k+768|0]=-11059*k,me[k+1024|0]=-21709*k,me[k+1280|0]=32768*k+8421375,me[k+1536|0]=-27439*k,me[k+1792|0]=-5329*k})(),W(r)}function fs(r,e){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function o5(r){function e($){if(!$)throw Error("assert :P")}function n($,he,C){for(var q=0;4>q;q++)if($[he+q]!=C.charCodeAt(q))return!0;return!1}function a($,he,C,q,re){for(var ie=0;ie<re;ie++)$[he+ie]=C[q+ie]}function l($,he,C,q){for(var re=0;re<q;re++)$[he+re]=C}function o($){return new Int32Array($)}function f($,he){for(var C=[],q=0;q<$;q++)C.push(new he);return C}function c($,he){var C=[];return(function q(re,ie,we){for(var Y=we[ie],le=0;le<Y&&(re.push(we.length>ie+1?[]:new he),!(we.length<ie+1));le++)q(re[le],ie+1,we)})(C,0,$),C}var h=function(){var $=this;function he(d,g){for(var _=1<<g-1>>>0;d&_;)_>>>=1;return _?(d&_-1)+_:d}function C(d,g,_,T,D){e(!(T%_));do d[g+(T-=_)]=D;while(0<T)}function q(d,g,_,T,D){if(e(2328>=D),512>=D)var z=o(512);else if((z=o(D))==null)return 0;return(function(U,H,V,X,fe,Ee){var J,ge,be=H,Be=1<<V,_e=o(16),De=o(16);for(e(fe!=0),e(X!=null),e(U!=null),e(0<V),ge=0;ge<fe;++ge){if(15<X[ge])return 0;++_e[X[ge]]}if(_e[0]==fe)return 0;for(De[1]=0,J=1;15>J;++J){if(_e[J]>1<<J)return 0;De[J+1]=De[J]+_e[J]}for(ge=0;ge<fe;++ge)J=X[ge],0<X[ge]&&(Ee[De[J]++]=ge);if(De[15]==1)return(X=new re).g=0,X.value=Ee[0],C(U,be,1,Be,X),Be;var Ie,Ve=-1,He=Be-1,ht=0,it=1,Pt=1,lt=1<<V;for(ge=0,J=1,fe=2;J<=V;++J,fe<<=1){if(it+=Pt<<=1,0>(Pt-=_e[J]))return 0;for(;0<_e[J];--_e[J])(X=new re).g=J,X.value=Ee[ge++],C(U,be+ht,fe,lt,X),ht=he(ht,J)}for(J=V+1,fe=2;15>=J;++J,fe<<=1){if(it+=Pt<<=1,0>(Pt-=_e[J]))return 0;for(;0<_e[J];--_e[J]){if(X=new re,(ht&He)!=Ve){for(be+=lt,Ie=1<<(Ve=J)-V;15>Ve&&!(0>=(Ie-=_e[Ve]));)++Ve,Ie<<=1;Be+=lt=1<<(Ie=Ve-V),U[H+(Ve=ht&He)].g=Ie+V,U[H+Ve].value=be-H-Ve}X.g=J-V,X.value=Ee[ge++],C(U,be+(ht>>V),fe,lt,X),ht=he(ht,J)}}return it!=2*De[15]-1?0:Be})(d,g,_,T,D,z)}function re(){this.value=this.g=0}function ie(){this.value=this.g=0}function we(){this.G=f(5,re),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=f(Es,ie)}function Y(d,g,_,T){e(d!=null),e(g!=null),e(2147483648>T),d.Ca=254,d.I=0,d.b=-8,d.Ka=0,d.oa=g,d.pa=_,d.Jd=g,d.Yc=_+T,d.Zc=4<=T?_+T-4+1:_,Ne(d)}function le(d,g){for(var _=0;0<g--;)_|=Ue(d,128)<<g;return _}function ue(d,g){var _=le(d,g);return Ae(d)?-_:_}function Se(d,g,_,T){var D,z=0;for(e(d!=null),e(g!=null),e(4294967288>T),d.Sb=T,d.Ra=0,d.u=0,d.h=0,4<T&&(T=4),D=0;D<T;++D)z+=g[_+D]<<8*D;d.Ra=z,d.bb=T,d.oa=g,d.pa=_}function ze(d){for(;8<=d.u&&d.bb<d.Sb;)d.Ra>>>=8,d.Ra+=d.oa[d.pa+d.bb]<<Sa-8>>>0,++d.bb,d.u-=8;ne(d)&&(d.h=1,d.u=0)}function W(d,g){if(e(0<=g),!d.h&&g<=ei){var _=K(d)&ui[g];return d.u+=g,ze(d),_}return d.h=1,d.u=0}function k(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function P(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function K(d){return d.Ra>>>(d.u&Sa-1)>>>0}function ne(d){return e(d.bb<=d.Sb),d.h||d.bb==d.Sb&&d.u>Sa}function ae(d,g){d.u=g,d.h=ne(d)}function de(d){d.u>=Aa&&(e(d.u>=Aa),ze(d))}function Ne(d){e(d!=null&&d.oa!=null),d.pa<d.Zc?(d.I=(d.oa[d.pa++]|d.I<<8)>>>0,d.b+=8):(e(d!=null&&d.oa!=null),d.pa<d.Yc?(d.b+=8,d.I=d.oa[d.pa++]|d.I<<8):d.Ka?d.b=0:(d.I<<=8,d.b+=8,d.Ka=1))}function Ae(d){return le(d,1)}function Ue(d,g){var _=d.Ca;0>d.b&&Ne(d);var T=d.b,D=_*g>>>8,z=(d.I>>>T>D)+0;for(z?(_-=D,d.I-=D+1<<T>>>0):_=D+1,T=_,D=0;256<=T;)D+=8,T>>=8;return T=7^D+Za[T],d.b-=T,d.Ca=(_<<T)-1,z}function We(d,g,_){d[g+0]=_>>24&255,d[g+1]=_>>16&255,d[g+2]=_>>8&255,d[g+3]=255&_}function Qe(d,g){return d[g+0]|d[g+1]<<8}function et(d,g){return Qe(d,g)|d[g+2]<<16}function xe(d,g){return Qe(d,g)|Qe(d,g+2)<<16}function B(d,g){var _=1<<g;return e(d!=null),e(0<g),d.X=o(_),d.X==null?0:(d.Mb=32-g,d.Xa=g,1)}function je(d,g){e(d!=null),e(g!=null),e(d.Xa==g.Xa),a(g.X,0,d.X,0,1<<g.Xa)}function Ke(){this.X=[],this.Xa=this.Mb=0}function Re(d,g,_,T){e(_!=null),e(T!=null);var D=_[0],z=T[0];return D==0&&(D=(d*z+g/2)/g),z==0&&(z=(g*D+d/2)/d),0>=D||0>=z?0:(_[0]=D,T[0]=z,1)}function Oe(d,g){return d+(1<<g)-1>>>g}function Ye(d,g){return((4278255360&d)+(4278255360&g)>>>0&4278255360)+((16711935&d)+(16711935&g)>>>0&16711935)>>>0}function $e(d,g){$[g]=function(_,T,D,z,U,H,V){var X;for(X=0;X<U;++X){var fe=$[d](H[V+X-1],D,z+X);H[V+X]=Ye(_[T+X],fe)}}}function st(){this.ud=this.hd=this.jd=0}function ft(d,g){return((4278124286&(d^g))>>>1)+(d&g)>>>0}function Lt(d){return 0<=d&&256>d?d:0>d?0:255<d?255:void 0}function Tt(d,g){return Lt(d+(d-g+.5>>1))}function yt(d,g,_){return Math.abs(g-_)-Math.abs(d-_)}function Nt(d,g,_,T,D,z,U){for(T=z[U-1],_=0;_<D;++_)z[U+_]=T=Ye(d[g+_],T)}function Mt(d,g,_,T,D){var z;for(z=0;z<_;++z){var U=d[g+z],H=U>>8&255,V=16711935&(V=(V=16711935&U)+((H<<16)+H));T[D+z]=(4278255360&U)+V>>>0}}function nt(d,g){g.jd=255&d,g.hd=d>>8&255,g.ud=d>>16&255}function kt(d,g,_,T,D,z){var U;for(U=0;U<T;++U){var H=g[_+U],V=H>>>8,X=H,fe=255&(fe=(fe=H>>>16)+((d.jd<<24>>24)*(V<<24>>24)>>>5));X=255&(X=(X+=(d.hd<<24>>24)*(V<<24>>24)>>>5)+((d.ud<<24>>24)*(fe<<24>>24)>>>5)),D[z+U]=(4278255360&H)+(fe<<16)+X}}function ot(d,g,_,T,D){$[g]=function(z,U,H,V,X,fe,Ee,J,ge){for(V=Ee;V<J;++V)for(Ee=0;Ee<ge;++Ee)X[fe++]=D(H[T(z[U++])])},$[d]=function(z,U,H,V,X,fe,Ee){var J=8>>z.b,ge=z.Ea,be=z.K[0],Be=z.w;if(8>J)for(z=(1<<z.b)-1,Be=(1<<J)-1;U<H;++U){var _e,De=0;for(_e=0;_e<ge;++_e)_e&z||(De=T(V[X++])),fe[Ee++]=D(be[De&Be]),De>>=J}else $["VP8LMapColor"+_](V,X,be,Be,fe,Ee,U,H,ge)}}function un(d,g,_,T,D){for(_=g+_;g<_;){var z=d[g++];T[D++]=z>>16&255,T[D++]=z>>8&255,T[D++]=255&z}}function Xe(d,g,_,T,D){for(_=g+_;g<_;){var z=d[g++];T[D++]=z>>16&255,T[D++]=z>>8&255,T[D++]=255&z,T[D++]=z>>24&255}}function Ze(d,g,_,T,D){for(_=g+_;g<_;){var z=(U=d[g++])>>16&240|U>>12&15,U=240&U|U>>28&15;T[D++]=z,T[D++]=U}}function rt(d,g,_,T,D){for(_=g+_;g<_;){var z=(U=d[g++])>>16&248|U>>13&7,U=U>>5&224|U>>3&31;T[D++]=z,T[D++]=U}}function jt(d,g,_,T,D){for(_=g+_;g<_;){var z=d[g++];T[D++]=255&z,T[D++]=z>>8&255,T[D++]=z>>16&255}}function pt(d,g,_,T,D,z){if(z==0)for(_=g+_;g<_;)We(T,((z=d[g++])[0]>>24|z[1]>>8&65280|z[2]<<8&16711680|z[3]<<24)>>>0),D+=32;else a(T,D,d,g,_)}function Yt(d,g){$[g][0]=$[d+"0"],$[g][1]=$[d+"1"],$[g][2]=$[d+"2"],$[g][3]=$[d+"3"],$[g][4]=$[d+"4"],$[g][5]=$[d+"5"],$[g][6]=$[d+"6"],$[g][7]=$[d+"7"],$[g][8]=$[d+"8"],$[g][9]=$[d+"9"],$[g][10]=$[d+"10"],$[g][11]=$[d+"11"],$[g][12]=$[d+"12"],$[g][13]=$[d+"13"],$[g][14]=$[d+"0"],$[g][15]=$[d+"0"]}function xt(d){return d==Ml||d==_u||d==qo||d==Su}function Ot(){this.eb=[],this.size=this.A=this.fb=0}function rn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function qt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ot,this.f.kb=new rn,this.sd=null}function vt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Jt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function an(d){return alert("todo:WebPSamplerProcessPlane"),d.T}function Tn(d,g){var _=d.T,T=g.ba.f.RGBA,D=T.eb,z=T.fb+d.ka*T.A,U=zr[g.ba.S],H=d.y,V=d.O,X=d.f,fe=d.N,Ee=d.ea,J=d.W,ge=g.cc,be=g.dc,Be=g.Mc,_e=g.Nc,De=d.ka,Ie=d.ka+d.T,Ve=d.U,He=Ve+1>>1;for(De==0?U(H,V,null,null,X,fe,Ee,J,X,fe,Ee,J,D,z,null,null,Ve):(U(g.ec,g.fc,H,V,ge,be,Be,_e,X,fe,Ee,J,D,z-T.A,D,z,Ve),++_);De+2<Ie;De+=2)ge=X,be=fe,Be=Ee,_e=J,fe+=d.Rc,J+=d.Rc,z+=2*T.A,U(H,(V+=2*d.fa)-d.fa,H,V,ge,be,Be,_e,X,fe,Ee,J,D,z-T.A,D,z,Ve);return V+=d.fa,d.j+Ie<d.o?(a(g.ec,g.fc,H,V,Ve),a(g.cc,g.dc,X,fe,He),a(g.Mc,g.Nc,Ee,J,He),_--):1&Ie||U(H,V,null,null,X,fe,Ee,J,X,fe,Ee,J,D,z+T.A,null,null,Ve),_}function qr(d,g,_){var T=d.F,D=[d.J];if(T!=null){var z=d.U,U=g.ba.S,H=U==Ul||U==qo;g=g.ba.f.RGBA;var V=[0],X=d.ka;V[0]=d.T,d.Kb&&(X==0?--V[0]:(--X,D[0]-=d.width),d.j+d.ka+d.T==d.o&&(V[0]=d.o-d.j-X));var fe=g.eb;X=g.fb+X*g.A,d=Rl(T,D[0],d.width,z,V,fe,X+(H?0:3),g.A),e(_==V),d&&xt(U)&&no(fe,X,H,z,V,g.A)}return 0}function oi(d){var g=d.ma,_=g.ba.S,T=11>_,D=_==Gr||_==Ci||_==Ul||_==Io||_==12||xt(_);if(g.memory=null,g.Ib=null,g.Jb=null,g.Nd=null,!Xa(g.Oa,d,D?11:12))return 0;if(D&&xt(_)&&Ll(),d.da)alert("todo:use_scaling");else{if(T){if(g.Ib=an,d.Kb){if(_=d.U+1>>1,g.memory=o(d.U+2*_),g.memory==null)return 0;g.ec=g.memory,g.fc=0,g.cc=g.ec,g.dc=g.fc+d.U,g.Mc=g.cc,g.Nc=g.dc+_,g.Ib=Tn,Ll()}}else alert("todo:EmitYUV");D&&(g.Jb=qr,T&&ea())}if(T&&!Cs){for(d=0;256>d;++d)Ur[d]=89858*(d-128)+$o>>Mi,od[d]=-22014*(d-128)+$o,Df[d]=-45773*(d-128),Nu[d]=113618*(d-128)+$o>>Mi;for(d=so;d<Os;++d)g=76283*(d-16)+$o>>Mi,ld[d-so]=wi(g,255),ud[d-so]=wi(g+8>>4,15);Cs=1}return 1}function _t(d){var g=d.ma,_=d.U,T=d.T;return e(!(1&d.ka)),0>=_||0>=T?0:(_=g.Ib(d,g),g.Jb!=null&&g.Jb(d,g,_),g.Dc+=_,1)}function Ua(d){d.ma.memory=null}function ga(d,g,_,T){return W(d,8)!=47?0:(g[0]=W(d,14)+1,_[0]=W(d,14)+1,T[0]=W(d,1),W(d,3)!=0?0:!d.h)}function gi(d,g){if(4>d)return d+1;var _=d-2>>1;return(2+(1&d)<<_)+W(g,_)+1}function yi(d,g){return 120<g?g-120:1<=(_=((_=Di[g-1])>>4)*d+(8-(15&_)))?_:1;var _}function Un(d,g,_){var T=K(_),D=d[g+=255&T].g-8;return 0<D&&(ae(_,_.u+8),T=K(_),g+=d[g].value,g+=T&(1<<D)-1),ae(_,_.u+d[g].g),d[g].value}function ar(d,g,_){return _.g+=d.g,_.value+=d.value<<g>>>0,e(8>=_.g),d.g}function Sr(d,g,_){var T=d.xc;return e((g=T==0?0:d.vc[d.md*(_>>T)+(g>>T)])<d.Wb),d.Ya[g]}function bs(d,g,_,T){var D=d.ab,z=d.c*g,U=d.C;g=U+g;var H=_,V=T;for(T=d.Ta,_=d.Ua;0<D--;){var X=d.gc[D],fe=U,Ee=g,J=H,ge=V,be=(V=T,H=_,X.Ea);switch(e(fe<Ee),e(Ee<=X.nc),X.hc){case 2:er(J,ge,(Ee-fe)*be,V,H);break;case 0:var Be=fe,_e=Ee,De=V,Ie=H,Ve=(lt=X).Ea;Be==0&&(zo(J,ge,null,null,1,De,Ie),Nt(J,ge+1,0,0,Ve-1,De,Ie+1),ge+=Ve,Ie+=Ve,++Be);for(var He=1<<lt.b,ht=He-1,it=Oe(Ve,lt.b),Pt=lt.K,lt=lt.w+(Be>>lt.b)*it;Be<_e;){var Xt=Pt,Dn=lt,Ht=1;for(Uo(J,ge,De,Ie-Ve,1,De,Ie);Ht<Ve;){var at=(Ht&~ht)+He;at>Ve&&(at=Ve),(0,Qa[Xt[Dn++]>>8&15])(J,ge+ +Ht,De,Ie+Ht-Ve,at-Ht,De,Ie+Ht),Ht=at}ge+=Ve,Ie+=Ve,++Be&ht||(lt+=it)}Ee!=X.nc&&a(V,H-be,V,H+(Ee-fe-1)*be,be);break;case 1:for(be=J,_e=ge,Ve=(J=X.Ea)-(Ie=J&~(De=(ge=1<<X.b)-1)),Be=Oe(J,X.b),He=X.K,X=X.w+(fe>>X.b)*Be;fe<Ee;){for(ht=He,it=X,Pt=new st,lt=_e+Ie,Xt=_e+J;_e<lt;)nt(ht[it++],Pt),Mo(Pt,be,_e,ge,V,H),_e+=ge,H+=ge;_e<Xt&&(nt(ht[it++],Pt),Mo(Pt,be,_e,Ve,V,H),_e+=Ve,H+=Ve),++fe&De||(X+=Be)}break;case 3:if(J==V&&ge==H&&0<X.b){for(_e=V,J=be=H+(Ee-fe)*be-(Ie=(Ee-fe)*Oe(X.Ea,X.b)),ge=V,De=H,Be=[],Ie=(Ve=Ie)-1;0<=Ie;--Ie)Be[Ie]=ge[De+Ie];for(Ie=Ve-1;0<=Ie;--Ie)_e[J+Ie]=Be[Ie];yu(X,fe,Ee,V,be,V,H)}else yu(X,fe,Ee,J,ge,V,H)}H=T,V=_}V!=_&&a(T,_,H,V,z)}function Jr(d,g){var _=d.V,T=d.Ba+d.c*d.C,D=g-d.C;if(e(g<=d.l.o),e(16>=D),0<D){var z=d.l,U=d.Ta,H=d.Ua,V=z.width;if(bs(d,D,_,T),D=H=[H],e((_=d.C)<(T=g)),e(z.v<z.va),T>z.o&&(T=z.o),_<z.j){var X=z.j-_;_=z.j,D[0]+=X*V}if(_>=T?_=0:(D[0]+=4*z.v,z.ka=_-z.j,z.U=z.va-z.v,z.T=T-_,_=1),_){if(H=H[0],11>(_=d.ca).S){var fe=_.f.RGBA,Ee=(T=_.S,D=z.U,z=z.T,X=fe.eb,fe.A),J=z;for(fe=fe.fb+d.Ma*fe.A;0<J--;){var ge=U,be=H,Be=D,_e=X,De=fe;switch(T){case wu:Po(ge,be,Be,_e,De);break;case Gr:es(ge,be,Be,_e,De);break;case Ml:es(ge,be,Be,_e,De),no(_e,De,0,Be,1,0);break;case xu:eo(ge,be,Be,_e,De);break;case Ci:pt(ge,be,Be,_e,De,1);break;case _u:pt(ge,be,Be,_e,De,1),no(_e,De,0,Be,1,0);break;case Ul:pt(ge,be,Be,_e,De,0);break;case qo:pt(ge,be,Be,_e,De,0),no(_e,De,1,Be,1,0);break;case Io:ts(ge,be,Be,_e,De);break;case Su:ts(ge,be,Be,_e,De),Oi(_e,De,Be,1,0);break;case Ts:ka(ge,be,Be,_e,De);break;default:e(0)}H+=V,fe+=Ee}d.Ma+=z}else alert("todo:EmitRescaledRowsYUVA");e(d.Ma<=_.height)}}d.C=g,e(d.C<=d.i)}function xn(d){var g;if(0<d.ua)return 0;for(g=0;g<d.Wb;++g){var _=d.Ya[g].G,T=d.Ya[g].H;if(0<_[1][T[1]+0].g||0<_[2][T[2]+0].g||0<_[3][T[3]+0].g)return 0}return 1}function Pn(d,g,_,T,D,z){if(d.Z!=0){var U=d.qd,H=d.rd;for(e(is[d.Z]!=null);g<_;++g)is[d.Z](U,H,T,D,T,D,z),U=T,H=D,D+=z;d.qd=U,d.rd=H}}function Fr(d,g){var _=d.l.ma,T=_.Z==0||_.Z==1?d.l.j:d.C;if(T=d.C<T?T:d.C,e(g<=d.l.o),g>T){var D=d.l.width,z=_.ca,U=_.tb+D*T,H=d.V,V=d.Ba+d.c*T,X=d.gc;e(d.ab==1),e(X[0].hc==3),Ta(X[0],T,g,H,V,z,U),Pn(_,T,g,z,U,D)}d.C=d.Ma=g}function vi(d,g,_,T,D,z,U){var H=d.$/T,V=d.$%T,X=d.m,fe=d.s,Ee=_+d.$,J=Ee;D=_+T*D;var ge=_+T*z,be=280+fe.ua,Be=d.Pb?H:16777216,_e=0<fe.ua?fe.Wa:null,De=fe.wc,Ie=Ee<ge?Sr(fe,V,H):null;e(d.C<z),e(ge<=D);var Ve=!1;e:for(;;){for(;Ve||Ee<ge;){var He=0;if(H>=Be){var ht=Ee-_;e((Be=d).Pb),Be.wd=Be.m,Be.xd=ht,0<Be.s.ua&&je(Be.s.Wa,Be.s.vb),Be=H+ks}if(V&De||(Ie=Sr(fe,V,H)),e(Ie!=null),Ie.Qb&&(g[Ee]=Ie.qb,Ve=!0),!Ve)if(de(X),Ie.jc){He=X,ht=g;var it=Ee,Pt=Ie.pd[K(He)&Es-1];e(Ie.jc),256>Pt.g?(ae(He,He.u+Pt.g),ht[it]=Pt.value,He=0):(ae(He,He.u+Pt.g-256),e(256<=Pt.value),He=Pt.value),He==0&&(Ve=!0)}else He=Un(Ie.G[0],Ie.H[0],X);if(X.h)break;if(Ve||256>He){if(!Ve)if(Ie.nd)g[Ee]=(Ie.qb|He<<8)>>>0;else{if(de(X),Ve=Un(Ie.G[1],Ie.H[1],X),de(X),ht=Un(Ie.G[2],Ie.H[2],X),it=Un(Ie.G[3],Ie.H[3],X),X.h)break;g[Ee]=(it<<24|Ve<<16|He<<8|ht)>>>0}if(Ve=!1,++Ee,++V>=T&&(V=0,++H,U!=null&&H<=z&&!(H%16)&&U(d,H),_e!=null))for(;J<Ee;)He=g[J++],_e.X[(506832829*He&4294967295)>>>_e.Mb]=He}else if(280>He){if(He=gi(He-256,X),ht=Un(Ie.G[4],Ie.H[4],X),de(X),ht=yi(T,ht=gi(ht,X)),X.h)break;if(Ee-_<ht||D-Ee<He)break e;for(it=0;it<He;++it)g[Ee+it]=g[Ee+it-ht];for(Ee+=He,V+=He;V>=T;)V-=T,++H,U!=null&&H<=z&&!(H%16)&&U(d,H);if(e(Ee<=D),V&De&&(Ie=Sr(fe,V,H)),_e!=null)for(;J<Ee;)He=g[J++],_e.X[(506832829*He&4294967295)>>>_e.Mb]=He}else{if(!(He<be))break e;for(Ve=He-280,e(_e!=null);J<Ee;)He=g[J++],_e.X[(506832829*He&4294967295)>>>_e.Mb]=He;He=Ee,e(!(Ve>>>(ht=_e).Xa)),g[He]=ht.X[Ve],Ve=!0}Ve||e(X.h==ne(X))}if(d.Pb&&X.h&&Ee<D)e(d.m.h),d.a=5,d.m=d.wd,d.$=d.xd,0<d.s.ua&&je(d.s.vb,d.s.Wa);else{if(X.h)break e;U?.(d,H>z?z:H),d.a=0,d.$=Ee-_}return 1}return d.a=3,0}function ki(d){e(d!=null),d.vc=null,d.yc=null,d.Ya=null;var g=d.Wa;g!=null&&(g.X=null),d.vb=null,e(d!=null)}function Gs(){var d=new Bt;return d==null?null:(d.a=0,d.xb=kc,Yt("Predictor","VP8LPredictors"),Yt("Predictor","VP8LPredictors_C"),Yt("PredictorAdd","VP8LPredictorsAdd"),Yt("PredictorAdd","VP8LPredictorsAdd_C"),er=Mt,Mo=kt,Po=un,es=Xe,ts=Ze,ka=rt,eo=jt,$.VP8LMapColor32b=Ea,$.VP8LMapColor8b=Rr,d)}function Wi(d,g,_,T,D){var z=1,U=[d],H=[g],V=T.m,X=T.s,fe=null,Ee=0;e:for(;;){if(_)for(;z&&W(V,1);){var J=U,ge=H,be=T,Be=1,_e=be.m,De=be.gc[be.ab],Ie=W(_e,2);if(be.Oc&1<<Ie)z=0;else{switch(be.Oc|=1<<Ie,De.hc=Ie,De.Ea=J[0],De.nc=ge[0],De.K=[null],++be.ab,e(4>=be.ab),Ie){case 0:case 1:De.b=W(_e,3)+2,Be=Wi(Oe(De.Ea,De.b),Oe(De.nc,De.b),0,be,De.K),De.K=De.K[0];break;case 3:var Ve,He=W(_e,8)+1,ht=16<He?0:4<He?1:2<He?2:3;if(J[0]=Oe(De.Ea,ht),De.b=ht,Ve=Be=Wi(He,1,0,be,De.K)){var it,Pt=He,lt=De,Xt=1<<(8>>lt.b),Dn=o(Xt);if(Dn==null)Ve=0;else{var Ht=lt.K[0],at=lt.w;for(Dn[0]=lt.K[0][0],it=1;it<1*Pt;++it)Dn[it]=Ye(Ht[at+it],Dn[it-1]);for(;it<4*Xt;++it)Dn[it]=0;lt.K[0]=null,lt.K[0]=Dn,Ve=1}}Be=Ve;break;case 2:break;default:e(0)}z=Be}}if(U=U[0],H=H[0],z&&W(V,1)&&!(z=1<=(Ee=W(V,4))&&11>=Ee)){T.a=3;break e}var Je;if(Je=z)t:{var qn,Rt,Wt,vn=T,vr=U,Mr=H,Ln=Ee,lr=_,Wr=vn.m,ur=vn.s,Kt=[null],cn=1,Fn=0,mn=Bi[Ln];n:for(;;){if(lr&&W(Wr,1)){var br=W(Wr,3)+2,Hn=Oe(vr,br),fn=Oe(Mr,br),rr=Hn*fn;if(!Wi(Hn,fn,0,vn,Kt))break n;for(Kt=Kt[0],ur.xc=br,qn=0;qn<rr;++qn){var bn=Kt[qn]>>8&65535;Kt[qn]=bn,bn>=cn&&(cn=bn+1)}}if(Wr.h)break n;for(Rt=0;5>Rt;++Rt){var cr=io[Rt];!Rt&&0<Ln&&(cr+=1<<Ln),Fn<cr&&(Fn=cr)}var fr=f(cn*mn,re),_n=cn,ln=f(_n,we);if(ln==null)var Vr=null;else e(65536>=_n),Vr=ln;var Vn=o(Fn);if(Vr==null||Vn==null||fr==null){vn.a=1;break n}var St=fr;for(qn=Wt=0;qn<cn;++qn){var At=Vr[qn],hn=At.G,ci=At.H,Pi=0,ni=1,hr=0;for(Rt=0;5>Rt;++Rt){cr=io[Rt],hn[Rt]=St,ci[Rt]=Wt,!Rt&&0<Ln&&(cr+=1<<Ln);i:{var Rs,Ds=cr,ju=vn,jn=Vn,Lc=St,jc=Wt,Ou=0,as=ju.m,cd=W(as,1);if(l(jn,0,0,Ds),cd){var Oc=W(as,1)+1,Cc=W(as,1),Cu=W(as,Cc==0?1:8);jn[Cu]=1,Oc==2&&(jn[Cu=W(as,8)]=1);var Tr=1}else{var Yn=o(19),Fl=W(as,4)+4;if(19<Fl){ju.a=3;var Bs=0;break i}for(Rs=0;Rs<Fl;++Rs)Yn[Pl[Rs]]=W(as,3);var Wo=void 0,oo=void 0,ja=ju,Ru=Yn,Vo=Ds,Du=jn,Bu=0,ss=ja.m,Rc=8,Dc=f(128,re);r:for(;q(Dc,0,7,Ru,19);){if(W(ss,1)){var Bf=2+2*W(ss,3);if((Wo=2+W(ss,Bf))>Vo)break r}else Wo=Vo;for(oo=0;oo<Vo&&Wo--;){de(ss);var Bc=Dc[0+(127&K(ss))];ae(ss,ss.u+Bc.g);var zs=Bc.value;if(16>zs)Du[oo++]=zs,zs!=0&&(Rc=zs);else{var zf=zs==16,Uf=zs-16,Mf=Fo[Uf],zc=W(ss,Ri[Uf])+Mf;if(oo+zc>Vo)break r;for(var Pf=zf?Rc:0;0<zc--;)Du[oo++]=Pf}}Bu=1;break r}Bu||(ja.a=3),Tr=Bu}(Tr=Tr&&!as.h)&&(Ou=q(Lc,jc,8,jn,Ds)),Tr&&Ou!=0?Bs=Ou:(ju.a=3,Bs=0)}if(Bs==0)break n;if(ni&&Au[Rt]==1&&(ni=St[Wt].g==0),Pi+=St[Wt].g,Wt+=Bs,3>=Rt){var lo,zu=Vn[0];for(lo=1;lo<cr;++lo)Vn[lo]>zu&&(zu=Vn[lo]);hr+=zu}}if(At.nd=ni,At.Qb=0,ni&&(At.qb=(hn[3][ci[3]+0].value<<24|hn[1][ci[1]+0].value<<16|hn[2][ci[2]+0].value)>>>0,Pi==0&&256>hn[0][ci[0]+0].value&&(At.Qb=1,At.qb+=hn[0][ci[0]+0].value<<8)),At.jc=!At.Qb&&6>hr,At.jc){var Hl,Oa=At;for(Hl=0;Hl<Es;++Hl){var os=Hl,ls=Oa.pd[os],Uu=Oa.G[0][Oa.H[0]+os];256<=Uu.value?(ls.g=Uu.g+256,ls.value=Uu.value):(ls.g=0,ls.value=0,os>>=ar(Uu,8,ls),os>>=ar(Oa.G[1][Oa.H[1]+os],16,ls),os>>=ar(Oa.G[2][Oa.H[2]+os],0,ls),ar(Oa.G[3][Oa.H[3]+os],24,ls))}}}ur.vc=Kt,ur.Wb=cn,ur.Ya=Vr,ur.yc=fr,Je=1;break t}Je=0}if(!(z=Je)){T.a=3;break e}if(0<Ee){if(X.ua=1<<Ee,!B(X.Wa,Ee)){T.a=1,z=0;break e}}else X.ua=0;var Mu=T,uo=U,If=H,Yo=Mu.s,Ko=Yo.xc;if(Mu.c=uo,Mu.i=If,Yo.md=Oe(uo,Ko),Yo.wc=Ko==0?-1:(1<<Ko)-1,_){T.xb=Ns;break e}if((fe=o(U*H))==null){T.a=1,z=0;break e}z=(z=vi(T,fe,0,U,H,H,null))&&!V.h;break e}return z?(D!=null?D[0]=fe:(e(fe==null),e(_)),T.$=0,_||ki(X)):ki(X),z}function Vi(d,g){var _=d.c*d.i,T=_+g+16*g;return e(d.c<=g),d.V=o(T),d.V==null?(d.Ta=null,d.Ua=0,d.a=1,0):(d.Ta=d.V,d.Ua=d.Ba+_+g,1)}function ws(d,g){var _=d.C,T=g-_,D=d.V,z=d.Ba+d.c*_;for(e(g<=d.l.o);0<T;){var U=16<T?16:T,H=d.l.ma,V=d.l.width,X=V*U,fe=H.ca,Ee=H.tb+V*_,J=d.Ta,ge=d.Ua;bs(d,U,D,z),Ei(J,ge,fe,Ee,X),Pn(H,_,_+U,fe,Ee,V),T-=U,D+=U*d.c,_+=U}e(_==g),d.C=d.Ma=g}function Yi(){this.ub=this.yd=this.td=this.Rb=0}function Ki(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ws(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function ya(){this.Yb=(function(){var d=[];return(function g(_,T,D){for(var z=D[T],U=0;U<z&&(_.push(D.length>T+1?[]:0),!(D.length<T+1));U++)g(_[U],T+1,D)})(d,0,[3,11]),d})()}function Zn(){this.jb=o(3),this.Wc=c([4,8],ya),this.Xc=c([4,17],ya)}function ml(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function bi(){this.ld=this.La=this.dd=this.tc=0}function Ji(){this.Na=this.la=0}function Ma(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function gl(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function yl(){this.uc=this.M=this.Nb=0,this.wa=Array(new bi),this.Y=0,this.ya=Array(new gl),this.aa=0,this.l=new Pa}function vl(){this.y=o(16),this.f=o(8),this.ea=o(8)}function ou(){this.cb=this.a=0,this.sc="",this.m=new k,this.Od=new Yi,this.Kc=new Ki,this.ed=new ml,this.Qa=new Ws,this.Ic=this.$c=this.Aa=0,this.D=new yl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=f(8,k),this.ia=0,this.pb=f(4,Ma),this.Pa=new Zn,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new vl),this.Hd=0,this.rb=Array(new Ji),this.sb=0,this.wa=Array(new bi),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new gl),this.L=this.aa=0,this.gd=c([4,2],bi),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function wi(d,g){return 0>d?0:d>g?g:d}function Pa(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Xi(){var d=new ou;return d!=null&&(d.a=0,d.sc="OK",d.cb=0,d.Xb=0,Ti||(Ti=xs)),d}function dn(d,g,_){return d.a==0&&(d.a=g,d.sc=_,d.cb=0),0}function bl(d,g,_){return 3<=_&&d[g+0]==157&&d[g+1]==1&&d[g+2]==42}function va(d,g){if(d==null)return 0;if(d.a=0,d.sc="OK",g==null)return dn(d,2,"null VP8Io passed to VP8GetHeaders()");var _=g.data,T=g.w,D=g.ha;if(4>D)return dn(d,7,"Truncated header.");var z=_[T+0]|_[T+1]<<8|_[T+2]<<16,U=d.Od;if(U.Rb=!(1&z),U.td=z>>1&7,U.yd=z>>4&1,U.ub=z>>5,3<U.td)return dn(d,3,"Incorrect keyframe parameters.");if(!U.yd)return dn(d,4,"Frame not displayable.");T+=3,D-=3;var H=d.Kc;if(U.Rb){if(7>D)return dn(d,7,"cannot parse picture header");if(!bl(_,T,D))return dn(d,3,"Bad code word");H.c=16383&(_[T+4]<<8|_[T+3]),H.Td=_[T+4]>>6,H.i=16383&(_[T+6]<<8|_[T+5]),H.Ud=_[T+6]>>6,T+=7,D-=7,d.za=H.c+15>>4,d.Ub=H.i+15>>4,g.width=H.c,g.height=H.i,g.Da=0,g.j=0,g.v=0,g.va=g.width,g.o=g.height,g.da=0,g.ib=g.width,g.hb=g.height,g.U=g.width,g.T=g.height,l((z=d.Pa).jb,0,255,z.jb.length),e((z=d.Qa)!=null),z.Cb=0,z.Bb=0,z.Fb=1,l(z.Zb,0,0,z.Zb.length),l(z.Lb,0,0,z.Lb)}if(U.ub>D)return dn(d,7,"bad partition length");Y(z=d.m,_,T,U.ub),T+=U.ub,D-=U.ub,U.Rb&&(H.Ld=Ae(z),H.Kd=Ae(z)),H=d.Qa;var V,X=d.Pa;if(e(z!=null),e(H!=null),H.Cb=Ae(z),H.Cb){if(H.Bb=Ae(z),Ae(z)){for(H.Fb=Ae(z),V=0;4>V;++V)H.Zb[V]=Ae(z)?ue(z,7):0;for(V=0;4>V;++V)H.Lb[V]=Ae(z)?ue(z,6):0}if(H.Bb)for(V=0;3>V;++V)X.jb[V]=Ae(z)?le(z,8):255}else H.Bb=0;if(z.Ka)return dn(d,3,"cannot parse segment header");if((H=d.ed).zd=Ae(z),H.Tb=le(z,6),H.wb=le(z,3),H.Pc=Ae(z),H.Pc&&Ae(z)){for(X=0;4>X;++X)Ae(z)&&(H.vd[X]=ue(z,6));for(X=0;4>X;++X)Ae(z)&&(H.od[X]=ue(z,6))}if(d.L=H.Tb==0?0:H.zd?1:2,z.Ka)return dn(d,3,"cannot parse filter header");var fe=D;if(D=V=T,T=V+fe,H=fe,d.Xb=(1<<le(d.m,2))-1,fe<3*(X=d.Xb))_=7;else{for(V+=3*X,H-=3*X,fe=0;fe<X;++fe){var Ee=_[D+0]|_[D+1]<<8|_[D+2]<<16;Ee>H&&(Ee=H),Y(d.Jc[+fe],_,V,Ee),V+=Ee,H-=Ee,D+=3}Y(d.Jc[+X],_,V,H),_=V<T?0:5}if(_!=0)return dn(d,_,"cannot parse partitions");for(_=le(V=d.m,7),D=Ae(V)?ue(V,4):0,T=Ae(V)?ue(V,4):0,H=Ae(V)?ue(V,4):0,X=Ae(V)?ue(V,4):0,V=Ae(V)?ue(V,4):0,fe=d.Qa,Ee=0;4>Ee;++Ee){if(fe.Cb){var J=fe.Zb[Ee];fe.Fb||(J+=_)}else{if(0<Ee){d.pb[Ee]=d.pb[0];continue}J=_}var ge=d.pb[Ee];ge.Sc[0]=zi[wi(J+D,127)],ge.Sc[1]=Ui[wi(J+0,127)],ge.Eb[0]=2*zi[wi(J+T,127)],ge.Eb[1]=101581*Ui[wi(J+H,127)]>>16,8>ge.Eb[1]&&(ge.Eb[1]=8),ge.Qc[0]=zi[wi(J+X,117)],ge.Qc[1]=Ui[wi(J+V,127)],ge.lc=J+V}if(!U.Rb)return dn(d,4,"Not a key frame.");for(Ae(z),U=d.Pa,_=0;4>_;++_){for(D=0;8>D;++D)for(T=0;3>T;++T)for(H=0;11>H;++H)X=Ue(z,Rn[_][D][T][H])?le(z,8):Rf[_][D][T][H],U.Wc[_][D].Yb[T][H]=X;for(D=0;17>D;++D)U.Xc[_][D]=U.Wc[_][Zt[D]]}return d.kc=Ae(z),d.kc&&(d.Bd=le(z,8)),d.cb=1}function xs(d,g,_,T,D,z,U){var H=g[D].Yb[_];for(_=0;16>D;++D){if(!Ue(d,H[_+0]))return D;for(;!Ue(d,H[_+1]);)if(H=g[++D].Yb[0],_=0,D==16)return 16;var V=g[D+1].Yb;if(Ue(d,H[_+2])){var X=d,fe=0;if(Ue(X,(J=H)[(Ee=_)+3]))if(Ue(X,J[Ee+6])){for(H=0,Ee=2*(fe=Ue(X,J[Ee+8]))+(J=Ue(X,J[Ee+9+fe])),fe=0,J=Cf[Ee];J[H];++H)fe+=fe+Ue(X,J[H]);fe+=3+(8<<Ee)}else Ue(X,J[Ee+7])?(fe=7+2*Ue(X,165),fe+=Ue(X,145)):fe=5+Ue(X,159);else fe=Ue(X,J[Ee+4])?3+Ue(X,J[Ee+5]):2;H=V[2]}else fe=1,H=V[1];V=U+Tc[D],0>(X=d).b&&Ne(X);var Ee,J=X.b,ge=(Ee=X.Ca>>1)-(X.I>>J)>>31;--X.b,X.Ca+=ge,X.Ca|=1,X.I-=(Ee+1&ge)<<J,z[V]=((fe^ge)-ge)*T[(0<D)+0]}return 16}function wl(d){var g=d.rb[d.sb-1];g.la=0,g.Na=0,l(d.zc,0,0,d.zc.length),d.ja=0}function Xr(d,g,_,T,D){D=d[g+_+32*T]+(D>>3),d[g+_+32*T]=-256&D?0>D?0:255:D}function gr(d,g,_,T,D,z){Xr(d,g,0,_,T+D),Xr(d,g,1,_,T+z),Xr(d,g,2,_,T-z),Xr(d,g,3,_,T-D)}function sr(d){return(20091*d>>16)+d}function Lo(d,g,_,T){var D,z=0,U=o(16);for(D=0;4>D;++D){var H=d[g+0]+d[g+8],V=d[g+0]-d[g+8],X=(35468*d[g+4]>>16)-sr(d[g+12]),fe=sr(d[g+4])+(35468*d[g+12]>>16);U[z+0]=H+fe,U[z+1]=V+X,U[z+2]=V-X,U[z+3]=H-fe,z+=4,g++}for(D=z=0;4>D;++D)H=(d=U[z+0]+4)+U[z+8],V=d-U[z+8],X=(35468*U[z+4]>>16)-sr(U[z+12]),Xr(_,T,0,0,H+(fe=sr(U[z+4])+(35468*U[z+12]>>16))),Xr(_,T,1,0,V+X),Xr(_,T,2,0,V-X),Xr(_,T,3,0,H-fe),z++,T+=32}function lu(d,g,_,T){var D=d[g+0]+4,z=35468*d[g+4]>>16,U=sr(d[g+4]),H=35468*d[g+1]>>16;gr(_,T,0,D+U,d=sr(d[g+1]),H),gr(_,T,1,D+z,d,H),gr(_,T,2,D-z,d,H),gr(_,T,3,D-U,d,H)}function xl(d,g,_,T,D){Lo(d,g,_,T),D&&Lo(d,g+16,_,T+4)}function Zr(d,g,_,T){ns(d,g+0,_,T,1),ns(d,g+32,_,T+128,1)}function _l(d,g,_,T){var D;for(d=d[g+0]+4,D=0;4>D;++D)for(g=0;4>g;++g)Xr(_,T,g,D,d)}function Sl(d,g,_,T){d[g+0]&&pn(d,g+0,_,T),d[g+16]&&pn(d,g+16,_,T+4),d[g+32]&&pn(d,g+32,_,T+128),d[g+48]&&pn(d,g+48,_,T+128+4)}function Zi(d,g,_,T){var D,z=o(16);for(D=0;4>D;++D){var U=d[g+0+D]+d[g+12+D],H=d[g+4+D]+d[g+8+D],V=d[g+4+D]-d[g+8+D],X=d[g+0+D]-d[g+12+D];z[0+D]=U+H,z[8+D]=U-H,z[4+D]=X+V,z[12+D]=X-V}for(D=0;4>D;++D)U=(d=z[0+4*D]+3)+z[3+4*D],H=z[1+4*D]+z[2+4*D],V=z[1+4*D]-z[2+4*D],X=d-z[3+4*D],_[T+0]=U+H>>3,_[T+16]=X+V>>3,_[T+32]=U-H>>3,_[T+48]=X-V>>3,T+=64}function Vs(d,g,_){var T,D=g-32,z=$r,U=255-d[D-1];for(T=0;T<_;++T){var H,V=z,X=U+d[g-1];for(H=0;H<_;++H)d[g+H]=V[X+d[D+H]];g+=32}}function uu(d,g){Vs(d,g,4)}function cu(d,g){Vs(d,g,8)}function Al(d,g){Vs(d,g,16)}function El(d,g){var _;for(_=0;16>_;++_)a(d,g+32*_,d,g-32,16)}function fu(d,g){var _;for(_=16;0<_;--_)l(d,g,d[g-1],16),g+=32}function li(d,g,_){var T;for(T=0;16>T;++T)l(g,_+32*T,d,16)}function Qi(d,g){var _,T=16;for(_=0;16>_;++_)T+=d[g-1+32*_]+d[g+_-32];li(T>>5,d,g)}function Ia(d,g){var _,T=8;for(_=0;16>_;++_)T+=d[g-1+32*_];li(T>>4,d,g)}function Ys(d,g){var _,T=8;for(_=0;16>_;++_)T+=d[g+_-32];li(T>>4,d,g)}function _s(d,g){li(128,d,g)}function Ct(d,g,_){return d+2*g+_+2>>2}function hu(d,g){var _,T=g-32;for(T=new Uint8Array([Ct(d[T-1],d[T+0],d[T+1]),Ct(d[T+0],d[T+1],d[T+2]),Ct(d[T+1],d[T+2],d[T+3]),Ct(d[T+2],d[T+3],d[T+4])]),_=0;4>_;++_)a(d,g+32*_,T,0,T.length)}function Tl(d,g){var _=d[g-1],T=d[g-1+32],D=d[g-1+64],z=d[g-1+96];We(d,g+0,16843009*Ct(d[g-1-32],_,T)),We(d,g+32,16843009*Ct(_,T,D)),We(d,g+64,16843009*Ct(T,D,z)),We(d,g+96,16843009*Ct(D,z,z))}function du(d,g){var _,T=4;for(_=0;4>_;++_)T+=d[g+_-32]+d[g-1+32*_];for(T>>=3,_=0;4>_;++_)l(d,g+32*_,T,4)}function xi(d,g){var _=d[g-1+0],T=d[g-1+32],D=d[g-1+64],z=d[g-1-32],U=d[g+0-32],H=d[g+1-32],V=d[g+2-32],X=d[g+3-32];d[g+0+96]=Ct(T,D,d[g-1+96]),d[g+1+96]=d[g+0+64]=Ct(_,T,D),d[g+2+96]=d[g+1+64]=d[g+0+32]=Ct(z,_,T),d[g+3+96]=d[g+2+64]=d[g+1+32]=d[g+0+0]=Ct(U,z,_),d[g+3+64]=d[g+2+32]=d[g+1+0]=Ct(H,U,z),d[g+3+32]=d[g+2+0]=Ct(V,H,U),d[g+3+0]=Ct(X,V,H)}function Or(d,g){var _=d[g+1-32],T=d[g+2-32],D=d[g+3-32],z=d[g+4-32],U=d[g+5-32],H=d[g+6-32],V=d[g+7-32];d[g+0+0]=Ct(d[g+0-32],_,T),d[g+1+0]=d[g+0+32]=Ct(_,T,D),d[g+2+0]=d[g+1+32]=d[g+0+64]=Ct(T,D,z),d[g+3+0]=d[g+2+32]=d[g+1+64]=d[g+0+96]=Ct(D,z,U),d[g+3+32]=d[g+2+64]=d[g+1+96]=Ct(z,U,H),d[g+3+64]=d[g+2+96]=Ct(U,H,V),d[g+3+96]=Ct(H,V,V)}function kl(d,g){var _=d[g-1+0],T=d[g-1+32],D=d[g-1+64],z=d[g-1-32],U=d[g+0-32],H=d[g+1-32],V=d[g+2-32],X=d[g+3-32];d[g+0+0]=d[g+1+64]=z+U+1>>1,d[g+1+0]=d[g+2+64]=U+H+1>>1,d[g+2+0]=d[g+3+64]=H+V+1>>1,d[g+3+0]=V+X+1>>1,d[g+0+96]=Ct(D,T,_),d[g+0+64]=Ct(T,_,z),d[g+0+32]=d[g+1+96]=Ct(_,z,U),d[g+1+32]=d[g+2+96]=Ct(z,U,H),d[g+2+32]=d[g+3+96]=Ct(U,H,V),d[g+3+32]=Ct(H,V,X)}function Ks(d,g){var _=d[g+0-32],T=d[g+1-32],D=d[g+2-32],z=d[g+3-32],U=d[g+4-32],H=d[g+5-32],V=d[g+6-32],X=d[g+7-32];d[g+0+0]=_+T+1>>1,d[g+1+0]=d[g+0+64]=T+D+1>>1,d[g+2+0]=d[g+1+64]=D+z+1>>1,d[g+3+0]=d[g+2+64]=z+U+1>>1,d[g+0+32]=Ct(_,T,D),d[g+1+32]=d[g+0+96]=Ct(T,D,z),d[g+2+32]=d[g+1+96]=Ct(D,z,U),d[g+3+32]=d[g+2+96]=Ct(z,U,H),d[g+3+64]=Ct(U,H,V),d[g+3+96]=Ct(H,V,X)}function _i(d,g){var _=d[g-1+0],T=d[g-1+32],D=d[g-1+64],z=d[g-1+96];d[g+0+0]=_+T+1>>1,d[g+2+0]=d[g+0+32]=T+D+1>>1,d[g+2+32]=d[g+0+64]=D+z+1>>1,d[g+1+0]=Ct(_,T,D),d[g+3+0]=d[g+1+32]=Ct(T,D,z),d[g+3+32]=d[g+1+64]=Ct(D,z,z),d[g+3+64]=d[g+2+64]=d[g+0+96]=d[g+1+96]=d[g+2+96]=d[g+3+96]=z}function Js(d,g){var _=d[g-1+0],T=d[g-1+32],D=d[g-1+64],z=d[g-1+96],U=d[g-1-32],H=d[g+0-32],V=d[g+1-32],X=d[g+2-32];d[g+0+0]=d[g+2+32]=_+U+1>>1,d[g+0+32]=d[g+2+64]=T+_+1>>1,d[g+0+64]=d[g+2+96]=D+T+1>>1,d[g+0+96]=z+D+1>>1,d[g+3+0]=Ct(H,V,X),d[g+2+0]=Ct(U,H,V),d[g+1+0]=d[g+3+32]=Ct(_,U,H),d[g+1+32]=d[g+3+64]=Ct(T,_,U),d[g+1+64]=d[g+3+96]=Ct(D,T,_),d[g+1+96]=Ct(z,D,T)}function ba(d,g){var _;for(_=0;8>_;++_)a(d,g+32*_,d,g-32,8)}function pu(d,g){var _;for(_=0;8>_;++_)l(d,g,d[g-1],8),g+=32}function Ni(d,g,_){var T;for(T=0;8>T;++T)l(g,_+32*T,d,8)}function jo(d,g){var _,T=8;for(_=0;8>_;++_)T+=d[g+_-32]+d[g-1+32*_];Ni(T>>4,d,g)}function Oo(d,g){var _,T=4;for(_=0;8>_;++_)T+=d[g+_-32];Ni(T>>3,d,g)}function Ar(d,g){var _,T=4;for(_=0;8>_;++_)T+=d[g-1+32*_];Ni(T>>3,d,g)}function wa(d,g){Ni(128,d,g)}function Li(d,g,_){var T=d[g-_],D=d[g+0],z=3*(D-T)+rs[1020+d[g-2*_]-d[g+_]],U=zl[112+(z+4>>3)];d[g-_]=$r[255+T+zl[112+(z+3>>3)]],d[g+0]=$r[255+D-U]}function qa(d,g,_,T){var D=d[g+0],z=d[g+_];return Dr[255+d[g-2*_]-d[g-_]]>T||Dr[255+z-D]>T}function Co(d,g,_,T){return 4*Dr[255+d[g-_]-d[g+0]]+Dr[255+d[g-2*_]-d[g+_]]<=T}function Xs(d,g,_,T,D){var z=d[g-3*_],U=d[g-2*_],H=d[g-_],V=d[g+0],X=d[g+_],fe=d[g+2*_],Ee=d[g+3*_];return 4*Dr[255+H-V]+Dr[255+U-X]>T?0:Dr[255+d[g-4*_]-z]<=D&&Dr[255+z-U]<=D&&Dr[255+U-H]<=D&&Dr[255+Ee-fe]<=D&&Dr[255+fe-X]<=D&&Dr[255+X-V]<=D}function Fa(d,g,_,T){var D=2*T+1;for(T=0;16>T;++T)Co(d,g+T,_,D)&&Li(d,g+T,_)}function Ha(d,g,_,T){var D=2*T+1;for(T=0;16>T;++T)Co(d,g+T*_,1,D)&&Li(d,g+T*_,1)}function Zs(d,g,_,T){var D;for(D=3;0<D;--D)Fa(d,g+=4*_,_,T)}function Nl(d,g,_,T){var D;for(D=3;0<D;--D)Ha(d,g+=4,_,T)}function $a(d,g,_,T,D,z,U,H){for(z=2*z+1;0<D--;){if(Xs(d,g,_,z,U))if(qa(d,g,_,H))Li(d,g,_);else{var V=d,X=g,fe=_,Ee=V[X-2*fe],J=V[X-fe],ge=V[X+0],be=V[X+fe],Be=V[X+2*fe],_e=27*(Ie=rs[1020+3*(ge-J)+rs[1020+Ee-be]])+63>>7,De=18*Ie+63>>7,Ie=9*Ie+63>>7;V[X-3*fe]=$r[255+V[X-3*fe]+Ie],V[X-2*fe]=$r[255+Ee+De],V[X-fe]=$r[255+J+_e],V[X+0]=$r[255+ge-_e],V[X+fe]=$r[255+be-De],V[X+2*fe]=$r[255+Be-Ie]}g+=T}}function Ga(d,g,_,T,D,z,U,H){for(z=2*z+1;0<D--;){if(Xs(d,g,_,z,U))if(qa(d,g,_,H))Li(d,g,_);else{var V=d,X=g,fe=_,Ee=V[X-fe],J=V[X+0],ge=V[X+fe],be=zl[112+(4+(Be=3*(J-Ee))>>3)],Be=zl[112+(Be+3>>3)],_e=be+1>>1;V[X-2*fe]=$r[255+V[X-2*fe]+_e],V[X-fe]=$r[255+Ee+Be],V[X+0]=$r[255+J-be],V[X+fe]=$r[255+ge-_e]}g+=T}}function mu(d,g,_,T,D,z){$a(d,g,_,1,16,T,D,z)}function Wa(d,g,_,T,D,z){$a(d,g,1,_,16,T,D,z)}function gu(d,g,_,T,D,z){var U;for(U=3;0<U;--U)Ga(d,g+=4*_,_,1,16,T,D,z)}function w(d,g,_,T,D,z){var U;for(U=3;0<U;--U)Ga(d,g+=4,1,_,16,T,D,z)}function R(d,g,_,T,D,z,U,H){$a(d,g,D,1,8,z,U,H),$a(_,T,D,1,8,z,U,H)}function Z(d,g,_,T,D,z,U,H){$a(d,g,1,D,8,z,U,H),$a(_,T,1,D,8,z,U,H)}function ce(d,g,_,T,D,z,U,H){Ga(d,g+4*D,D,1,8,z,U,H),Ga(_,T+4*D,D,1,8,z,U,H)}function ye(d,g,_,T,D,z,U,H){Ga(d,g+4,1,D,8,z,U,H),Ga(_,T+4,1,D,8,z,U,H)}function Pe(){this.ba=new qt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Jt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ge(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ut(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function mt(){this.ua=0,this.Wa=new Ke,this.vb=new Ke,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new we,this.yc=new re}function Bt(){this.xb=this.a=0,this.l=new Pa,this.ca=new qt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new P,this.Pb=0,this.wd=new P,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new mt,this.ab=0,this.gc=f(4,ut),this.Oc=0}function Ft(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Pa,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function sn(d,g,_,T,D,z,U){for(d=d==null?0:d[g+0],g=0;g<U;++g)D[z+g]=d+_[T+g]&255,d=D[z+g]}function In(d,g,_,T,D,z,U){var H;if(d==null)sn(null,null,_,T,D,z,U);else for(H=0;H<U;++H)D[z+H]=d[g+H]+_[T+H]&255}function Qn(d,g,_,T,D,z,U){if(d==null)sn(null,null,_,T,D,z,U);else{var H,V=d[g+0],X=V,fe=V;for(H=0;H<U;++H)X=fe+(V=d[g+H])-X,fe=_[T+H]+(-256&X?0>X?0:255:X)&255,X=V,D[z+H]=fe}}function kn(d,g,_,T){var D=g.width,z=g.o;if(e(d!=null&&g!=null),0>_||0>=T||_+T>z)return null;if(!d.Cc){if(d.ga==null){var U;if(d.ga=new Ft,(U=d.ga==null)||(U=g.width*g.o,e(d.Gb.length==0),d.Gb=o(U),d.Uc=0,d.Gb==null?U=0:(d.mb=d.Gb,d.nb=d.Uc,d.rc=null,U=1),U=!U),!U){U=d.ga;var H=d.Fa,V=d.P,X=d.qc,fe=d.mb,Ee=d.nb,J=V+1,ge=X-1,be=U.l;if(e(H!=null&&fe!=null&&g!=null),is[0]=null,is[1]=sn,is[2]=In,is[3]=Qn,U.ca=fe,U.tb=Ee,U.c=g.width,U.i=g.height,e(0<U.c&&0<U.i),1>=X)g=0;else if(U.$a=3&H[V+0],U.Z=H[V+0]>>2&3,U.Lc=H[V+0]>>4&3,V=H[V+0]>>6&3,0>U.$a||1<U.$a||4<=U.Z||1<U.Lc||V)g=0;else if(be.put=_t,be.ac=oi,be.bc=Ua,be.ma=U,be.width=g.width,be.height=g.height,be.Da=g.Da,be.v=g.v,be.va=g.va,be.j=g.j,be.o=g.o,U.$a)e:{e(U.$a==1),g=Gs();t:for(;;){if(g==null){g=0;break e}if(e(U!=null),U.mc=g,g.c=U.c,g.i=U.i,g.l=U.l,g.l.ma=U,g.l.width=U.c,g.l.height=U.i,g.a=0,Se(g.m,H,J,ge),!Wi(U.c,U.i,1,g,null)||(g.ab==1&&g.gc[0].hc==3&&xn(g.s)?(U.ic=1,H=g.c*g.i,g.Ta=null,g.Ua=0,g.V=o(H),g.Ba=0,g.V==null?(g.a=1,g=0):g=1):(U.ic=0,g=Vi(g,U.c)),!g))break t;g=1;break e}U.mc=null,g=0}else g=ge>=U.c*U.i;U=!g}if(U)return null;d.ga.Lc!=1?d.Ga=0:T=z-_}e(d.ga!=null),e(_+T<=z);e:{if(g=(H=d.ga).c,z=H.l.o,H.$a==0){if(J=d.rc,ge=d.Vc,be=d.Fa,V=d.P+1+_*g,X=d.mb,fe=d.nb+_*g,e(V<=d.P+d.qc),H.Z!=0)for(e(is[H.Z]!=null),U=0;U<T;++U)is[H.Z](J,ge,be,V,X,fe,g),J=X,ge=fe,fe+=g,V+=g;else for(U=0;U<T;++U)a(X,fe,be,V,g),J=X,ge=fe,fe+=g,V+=g;d.rc=J,d.Vc=ge}else{if(e(H.mc!=null),g=_+T,e((U=H.mc)!=null),e(g<=U.i),U.C>=g)g=1;else if(H.ic||ea(),H.ic){H=U.V,J=U.Ba,ge=U.c;var Be=U.i,_e=(be=1,V=U.$/ge,X=U.$%ge,fe=U.m,Ee=U.s,U.$),De=ge*Be,Ie=ge*g,Ve=Ee.wc,He=_e<Ie?Sr(Ee,X,V):null;e(_e<=De),e(g<=Be),e(xn(Ee));t:for(;;){for(;!fe.h&&_e<Ie;){if(X&Ve||(He=Sr(Ee,X,V)),e(He!=null),de(fe),256>(Be=Un(He.G[0],He.H[0],fe)))H[J+_e]=Be,++_e,++X>=ge&&(X=0,++V<=g&&!(V%16)&&Fr(U,V));else{if(!(280>Be)){be=0;break t}Be=gi(Be-256,fe);var ht,it=Un(He.G[4],He.H[4],fe);if(de(fe),!(_e>=(it=yi(ge,it=gi(it,fe)))&&De-_e>=Be)){be=0;break t}for(ht=0;ht<Be;++ht)H[J+_e+ht]=H[J+_e+ht-it];for(_e+=Be,X+=Be;X>=ge;)X-=ge,++V<=g&&!(V%16)&&Fr(U,V);_e<Ie&&X&Ve&&(He=Sr(Ee,X,V))}e(fe.h==ne(fe))}Fr(U,V>g?g:V);break t}!be||fe.h&&_e<De?(be=0,U.a=fe.h?5:3):U.$=_e,g=be}else g=vi(U,U.V,U.Ba,U.c,U.i,g,ws);if(!g){T=0;break e}}_+T>=z&&(d.Cc=1),T=1}if(!T)return null;if(d.Cc&&((T=d.ga)!=null&&(T.mc=null),d.ga=null,0<d.Ga))return alert("todo:WebPDequantizeLevels"),null}return d.nb+_*D}function yr(d,g,_,T,D,z){for(;0<D--;){var U,H=d,V=g+(_?1:0),X=d,fe=g+(_?0:3);for(U=0;U<T;++U){var Ee=X[fe+4*U];Ee!=255&&(Ee*=32897,H[V+4*U+0]=H[V+4*U+0]*Ee>>23,H[V+4*U+1]=H[V+4*U+1]*Ee>>23,H[V+4*U+2]=H[V+4*U+2]*Ee>>23)}g+=z}}function or(d,g,_,T,D){for(;0<T--;){var z;for(z=0;z<_;++z){var U=d[g+2*z+0],H=15&(X=d[g+2*z+1]),V=4369*H,X=(240&X|X>>4)*V>>16;d[g+2*z+0]=(240&U|U>>4)*V>>16&240|(15&U|U<<4)*V>>16>>4&15,d[g+2*z+1]=240&X|H}g+=D}}function Cr(d,g,_,T,D,z,U,H){var V,X,fe=255;for(X=0;X<D;++X){for(V=0;V<T;++V){var Ee=d[g+V];z[U+4*V]=Ee,fe&=Ee}g+=_,U+=H}return fe!=255}function Va(d,g,_,T,D){var z;for(z=0;z<D;++z)_[T+z]=d[g+z]>>8}function ea(){no=yr,Oi=or,Rl=Cr,Ei=Va}function Ya(d,g,_){$[d]=function(T,D,z,U,H,V,X,fe,Ee,J,ge,be,Be,_e,De,Ie,Ve){var He,ht=Ve-1>>1,it=H[V+0]|X[fe+0]<<16,Pt=Ee[J+0]|ge[be+0]<<16;e(T!=null);var lt=3*it+Pt+131074>>2;for(g(T[D+0],255&lt,lt>>16,Be,_e),z!=null&&(lt=3*Pt+it+131074>>2,g(z[U+0],255&lt,lt>>16,De,Ie)),He=1;He<=ht;++He){var Xt=H[V+He]|X[fe+He]<<16,Dn=Ee[J+He]|ge[be+He]<<16,Ht=it+Xt+Pt+Dn+524296,at=Ht+2*(Xt+Pt)>>3;lt=at+it>>1,it=(Ht=Ht+2*(it+Dn)>>3)+Xt>>1,g(T[D+2*He-1],255&lt,lt>>16,Be,_e+(2*He-1)*_),g(T[D+2*He-0],255&it,it>>16,Be,_e+(2*He-0)*_),z!=null&&(lt=Ht+Pt>>1,it=at+Dn>>1,g(z[U+2*He-1],255&lt,lt>>16,De,Ie+(2*He-1)*_),g(z[U+2*He+0],255&it,it>>16,De,Ie+(2*He+0)*_)),it=Xt,Pt=Dn}1&Ve||(lt=3*it+Pt+131074>>2,g(T[D+Ve-1],255&lt,lt>>16,Be,_e+(Ve-1)*_),z!=null&&(lt=3*Pt+it+131074>>2,g(z[U+Ve-1],255&lt,lt>>16,De,Ie+(Ve-1)*_)))}}function Ll(){zr[wu]=ao,zr[Gr]=Ho,zr[xu]=Nc,zr[Ci]=Tu,zr[Ul]=Ls,zr[Io]=La,zr[Ts]=js,zr[Ml]=Ho,zr[_u]=Tu,zr[qo]=Ls,zr[Su]=La}function Ro(d){return d&-16384?0>d?0:255:d>>ku}function xa(d,g){return Ro((19077*d>>8)+(26149*g>>8)-14234)}function ta(d,g,_){return Ro((19077*d>>8)-(6419*g>>8)-(13320*_>>8)+8708)}function Qs(d,g){return Ro((19077*d>>8)+(33050*g>>8)-17685)}function Ka(d,g,_,T,D){T[D+0]=xa(d,_),T[D+1]=ta(d,g,_),T[D+2]=Qs(d,g)}function Er(d,g,_,T,D){T[D+0]=Qs(d,g),T[D+1]=ta(d,g,_),T[D+2]=xa(d,_)}function Ss(d,g,_,T,D){var z=ta(d,g,_);g=z<<3&224|Qs(d,g)>>3,T[D+0]=248&xa(d,_)|z>>5,T[D+1]=g}function As(d,g,_,T,D){var z=240&Qs(d,g)|15;T[D+0]=240&xa(d,_)|ta(d,g,_)>>4,T[D+1]=z}function Do(d,g,_,T,D){T[D+0]=255,Ka(d,g,_,T,D+1)}function _a(d,g,_,T,D){Er(d,g,_,T,D),T[D+3]=255}function Qr(d,g,_,T,D){Ka(d,g,_,T,D),T[D+3]=255}function Ja(d,g,_){$[d]=function(T,D,z,U,H,V,X,fe,Ee){for(var J=fe+(-2&Ee)*_;fe!=J;)g(T[D+0],z[U+0],H[V+0],X,fe),g(T[D+1],z[U+0],H[V+0],X,fe+_),D+=2,++U,++V,fe+=2*_;1&Ee&&g(T[D+0],z[U+0],H[V+0],X,fe)}}function Bo(d,g,_){return _==0?d==0?g==0?6:5:g==0?4:0:_}function jl(d,g,_,T,D){switch(d>>>30){case 3:ns(g,_,T,D,0);break;case 2:Hr(g,_,T,D);break;case 1:pn(g,_,T,D)}}function Si(d,g){var _,T,D=g.M,z=g.Nb,U=d.oc,H=d.pc+40,V=d.oc,X=d.pc+584,fe=d.oc,Ee=d.pc+600;for(_=0;16>_;++_)U[H+32*_-1]=129;for(_=0;8>_;++_)V[X+32*_-1]=129,fe[Ee+32*_-1]=129;for(0<D?U[H-1-32]=V[X-1-32]=fe[Ee-1-32]=129:(l(U,H-32-1,127,21),l(V,X-32-1,127,9),l(fe,Ee-32-1,127,9)),T=0;T<d.za;++T){var J=g.ya[g.aa+T];if(0<T){for(_=-1;16>_;++_)a(U,H+32*_-4,U,H+32*_+12,4);for(_=-1;8>_;++_)a(V,X+32*_-4,V,X+32*_+4,4),a(fe,Ee+32*_-4,fe,Ee+32*_+4,4)}var ge=d.Gd,be=d.Hd+T,Be=J.ad,_e=J.Hc;if(0<D&&(a(U,H-32,ge[be].y,0,16),a(V,X-32,ge[be].f,0,8),a(fe,Ee-32,ge[be].ea,0,8)),J.Za){var De=U,Ie=H-32+16;for(0<D&&(T>=d.za-1?l(De,Ie,ge[be].y[15],4):a(De,Ie,ge[be+1].y,0,4)),_=0;4>_;_++)De[Ie+128+_]=De[Ie+256+_]=De[Ie+384+_]=De[Ie+0+_];for(_=0;16>_;++_,_e<<=2)De=U,Ie=H+nr[_],Wn[J.Ob[_]](De,Ie),jl(_e,Be,16*+_,De,Ie)}else if(De=Bo(T,D,J.Ob[0]),ti[De](U,H),_e!=0)for(_=0;16>_;++_,_e<<=2)jl(_e,Be,16*+_,U,H+nr[_]);for(_=J.Gc,De=Bo(T,D,J.Dd),aa[De](V,X),aa[De](fe,Ee),_e=Be,De=V,Ie=X,255&(J=0|_)&&(170&J?ji(_e,256,De,Ie):on(_e,256,De,Ie)),J=fe,_e=Ee,255&(_>>=8)&&(170&_?ji(Be,320,J,_e):on(Be,320,J,_e)),D<d.Ub-1&&(a(ge[be].y,0,U,H+480,16),a(ge[be].f,0,V,X+224,8),a(ge[be].ea,0,fe,Ee+224,8)),_=8*z*d.B,ge=d.sa,be=d.ta+16*T+16*z*d.R,Be=d.qa,J=d.ra+8*T+_,_e=d.Ha,De=d.Ia+8*T+_,_=0;16>_;++_)a(ge,be+_*d.R,U,H+32*_,16);for(_=0;8>_;++_)a(Be,J+_*d.B,V,X+32*_,8),a(_e,De+_*d.B,fe,Ee+32*_,8)}}function na(d,g,_,T,D,z,U,H,V){var X=[0],fe=[0],Ee=0,J=V!=null?V.kd:0,ge=V??new Ge;if(d==null||12>_)return 7;ge.data=d,ge.w=g,ge.ha=_,g=[g],_=[_],ge.gb=[ge.gb];e:{var be=g,Be=_,_e=ge.gb;if(e(d!=null),e(Be!=null),e(_e!=null),_e[0]=0,12<=Be[0]&&!n(d,be[0],"RIFF")){if(n(d,be[0]+8,"WEBP")){_e=3;break e}var De=xe(d,be[0]+4);if(12>De||4294967286<De){_e=3;break e}if(J&&De>Be[0]-8){_e=7;break e}_e[0]=De,be[0]+=12,Be[0]-=12}_e=0}if(_e!=0)return _e;for(De=0<ge.gb[0],_=_[0];;){e:{var Ie=d;Be=g,_e=_;var Ve=X,He=fe,ht=be=[0];if((lt=Ee=[Ee])[0]=0,8>_e[0])_e=7;else{if(!n(Ie,Be[0],"VP8X")){if(xe(Ie,Be[0]+4)!=10){_e=3;break e}if(18>_e[0]){_e=7;break e}var it=xe(Ie,Be[0]+8),Pt=1+et(Ie,Be[0]+12);if(2147483648<=Pt*(Ie=1+et(Ie,Be[0]+15))){_e=3;break e}ht!=null&&(ht[0]=it),Ve!=null&&(Ve[0]=Pt),He!=null&&(He[0]=Ie),Be[0]+=18,_e[0]-=18,lt[0]=1}_e=0}}if(Ee=Ee[0],be=be[0],_e!=0)return _e;if(Be=!!(2&be),!De&&Ee)return 3;if(z!=null&&(z[0]=!!(16&be)),U!=null&&(U[0]=Be),H!=null&&(H[0]=0),U=X[0],be=fe[0],Ee&&Be&&V==null){_e=0;break}if(4>_){_e=7;break}if(De&&Ee||!De&&!Ee&&!n(d,g[0],"ALPH")){_=[_],ge.na=[ge.na],ge.P=[ge.P],ge.Sa=[ge.Sa];e:{it=d,_e=g,De=_;var lt=ge.gb;Ve=ge.na,He=ge.P,ht=ge.Sa,Pt=22,e(it!=null),e(De!=null),Ie=_e[0];var Xt=De[0];for(e(Ve!=null),e(ht!=null),Ve[0]=null,He[0]=null,ht[0]=0;;){if(_e[0]=Ie,De[0]=Xt,8>Xt){_e=7;break e}var Dn=xe(it,Ie+4);if(4294967286<Dn){_e=3;break e}var Ht=8+Dn+1&-2;if(Pt+=Ht,0<lt&&Pt>lt){_e=3;break e}if(!n(it,Ie,"VP8 ")||!n(it,Ie,"VP8L")){_e=0;break e}if(Xt[0]<Ht){_e=7;break e}n(it,Ie,"ALPH")||(Ve[0]=it,He[0]=Ie+8,ht[0]=Dn),Ie+=Ht,Xt-=Ht}}if(_=_[0],ge.na=ge.na[0],ge.P=ge.P[0],ge.Sa=ge.Sa[0],_e!=0)break}_=[_],ge.Ja=[ge.Ja],ge.xa=[ge.xa];e:if(lt=d,_e=g,De=_,Ve=ge.gb[0],He=ge.Ja,ht=ge.xa,it=_e[0],Ie=!n(lt,it,"VP8 "),Pt=!n(lt,it,"VP8L"),e(lt!=null),e(De!=null),e(He!=null),e(ht!=null),8>De[0])_e=7;else{if(Ie||Pt){if(lt=xe(lt,it+4),12<=Ve&&lt>Ve-12){_e=3;break e}if(J&&lt>De[0]-8){_e=7;break e}He[0]=lt,_e[0]+=8,De[0]-=8,ht[0]=Pt}else ht[0]=5<=De[0]&&lt[it+0]==47&&!(lt[it+4]>>5),He[0]=De[0];_e=0}if(_=_[0],ge.Ja=ge.Ja[0],ge.xa=ge.xa[0],g=g[0],_e!=0)break;if(4294967286<ge.Ja)return 3;if(H==null||Be||(H[0]=ge.xa?2:1),U=[U],be=[be],ge.xa){if(5>_){_e=7;break}H=U,J=be,Be=z,d==null||5>_?d=0:5<=_&&d[g+0]==47&&!(d[g+4]>>5)?(De=[0],lt=[0],Ve=[0],Se(He=new P,d,g,_),ga(He,De,lt,Ve)?(H!=null&&(H[0]=De[0]),J!=null&&(J[0]=lt[0]),Be!=null&&(Be[0]=Ve[0]),d=1):d=0):d=0}else{if(10>_){_e=7;break}H=be,d==null||10>_||!bl(d,g+3,_-3)?d=0:(J=d[g+0]|d[g+1]<<8|d[g+2]<<16,Be=16383&(d[g+7]<<8|d[g+6]),d=16383&(d[g+9]<<8|d[g+8]),1&J||3<(J>>1&7)||!(J>>4&1)||J>>5>=ge.Ja||!Be||!d?d=0:(U&&(U[0]=Be),H&&(H[0]=d),d=1))}if(!d||(U=U[0],be=be[0],Ee&&(X[0]!=U||fe[0]!=be)))return 3;V!=null&&(V[0]=ge,V.offset=g-V.w,e(4294967286>g-V.w),e(V.offset==V.ha-_));break}return _e==0||_e==7&&Ee&&V==null?(z!=null&&(z[0]|=ge.na!=null&&0<ge.na.length),T!=null&&(T[0]=U),D!=null&&(D[0]=be),0):_e}function Xa(d,g,_){var T=g.width,D=g.height,z=0,U=0,H=T,V=D;if(g.Da=d!=null&&0<d.Da,g.Da&&(H=d.cd,V=d.bd,z=d.v,U=d.j,11>_||(z&=-2,U&=-2),0>z||0>U||0>=H||0>=V||z+H>T||U+V>D))return 0;if(g.v=z,g.j=U,g.va=z+H,g.o=U+V,g.U=H,g.T=V,g.da=d!=null&&0<d.da,g.da){if(!Re(H,V,_=[d.ib],z=[d.hb]))return 0;g.ib=_[0],g.hb=z[0]}return g.ob=d!=null&&d.ob,g.Kb=d==null||!d.Sd,g.da&&(g.ob=g.ib<3*T/4&&g.hb<3*D/4,g.Kb=0),1}function Ol(d){if(d==null)return 2;if(11>d.S){var g=d.f.RGBA;g.fb+=(d.height-1)*g.A,g.A=-g.A}else g=d.f.kb,d=d.height,g.O+=(d-1)*g.fa,g.fa=-g.fa,g.N+=(d-1>>1)*g.Ab,g.Ab=-g.Ab,g.W+=(d-1>>1)*g.Db,g.Db=-g.Db,g.F!=null&&(g.J+=(d-1)*g.lb,g.lb=-g.lb);return 0}function ra(d,g,_,T){if(T==null||0>=d||0>=g)return 2;if(_!=null){if(_.Da){var D=_.cd,z=_.bd,U=-2&_.v,H=-2&_.j;if(0>U||0>H||0>=D||0>=z||U+D>d||H+z>g)return 2;d=D,g=z}if(_.da){if(!Re(d,g,D=[_.ib],z=[_.hb]))return 2;d=D[0],g=z[0]}}T.width=d,T.height=g;e:{var V=T.width,X=T.height;if(d=T.S,0>=V||0>=X||!(d>=wu&&13>d))d=2;else{if(0>=T.Rd&&T.sd==null){U=z=D=g=0;var fe=(H=V*Lu[d])*X;if(11>d||(z=(X+1)/2*(g=(V+1)/2),d==12&&(U=(D=V)*X)),(X=o(fe+2*z+U))==null){d=1;break e}T.sd=X,11>d?((V=T.f.RGBA).eb=X,V.fb=0,V.A=H,V.size=fe):((V=T.f.kb).y=X,V.O=0,V.fa=H,V.Fd=fe,V.f=X,V.N=0+fe,V.Ab=g,V.Cd=z,V.ea=X,V.W=0+fe+z,V.Db=g,V.Ed=z,d==12&&(V.F=X,V.J=0+fe+2*z),V.Tc=U,V.lb=D)}if(g=1,D=T.S,z=T.width,U=T.height,D>=wu&&13>D)if(11>D)d=T.f.RGBA,g&=(H=Math.abs(d.A))*(U-1)+z<=d.size,g&=H>=z*Lu[D],g&=d.eb!=null;else{d=T.f.kb,H=(z+1)/2,fe=(U+1)/2,V=Math.abs(d.fa),X=Math.abs(d.Ab);var Ee=Math.abs(d.Db),J=Math.abs(d.lb),ge=J*(U-1)+z;g&=V*(U-1)+z<=d.Fd,g&=X*(fe-1)+H<=d.Cd,g=(g&=Ee*(fe-1)+H<=d.Ed)&V>=z&X>=H&Ee>=H,g&=d.y!=null,g&=d.f!=null,g&=d.ea!=null,D==12&&(g&=J>=z,g&=ge<=d.Tc,g&=d.F!=null)}else g=0;d=g?0:2}}return d!=0||_!=null&&_.fd&&(d=Ol(T)),d}var Es=64,ui=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ei=24,Sa=32,Aa=8,Za=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];$e("Predictor0","PredictorAdd0"),$.Predictor0=function(){return 4278190080},$.Predictor1=function(d){return d},$.Predictor2=function(d,g,_){return g[_+0]},$.Predictor3=function(d,g,_){return g[_+1]},$.Predictor4=function(d,g,_){return g[_-1]},$.Predictor5=function(d,g,_){return ft(ft(d,g[_+1]),g[_+0])},$.Predictor6=function(d,g,_){return ft(d,g[_-1])},$.Predictor7=function(d,g,_){return ft(d,g[_+0])},$.Predictor8=function(d,g,_){return ft(g[_-1],g[_+0])},$.Predictor9=function(d,g,_){return ft(g[_+0],g[_+1])},$.Predictor10=function(d,g,_){return ft(ft(d,g[_-1]),ft(g[_+0],g[_+1]))},$.Predictor11=function(d,g,_){var T=g[_+0];return 0>=yt(T>>24&255,d>>24&255,(g=g[_-1])>>24&255)+yt(T>>16&255,d>>16&255,g>>16&255)+yt(T>>8&255,d>>8&255,g>>8&255)+yt(255&T,255&d,255&g)?T:d},$.Predictor12=function(d,g,_){var T=g[_+0];return(Lt((d>>24&255)+(T>>24&255)-((g=g[_-1])>>24&255))<<24|Lt((d>>16&255)+(T>>16&255)-(g>>16&255))<<16|Lt((d>>8&255)+(T>>8&255)-(g>>8&255))<<8|Lt((255&d)+(255&T)-(255&g)))>>>0},$.Predictor13=function(d,g,_){var T=g[_-1];return(Tt((d=ft(d,g[_+0]))>>24&255,T>>24&255)<<24|Tt(d>>16&255,T>>16&255)<<16|Tt(d>>8&255,T>>8&255)<<8|Tt(255&d,255&T))>>>0};var zo=$.PredictorAdd0;$.PredictorAdd1=Nt,$e("Predictor2","PredictorAdd2"),$e("Predictor3","PredictorAdd3"),$e("Predictor4","PredictorAdd4"),$e("Predictor5","PredictorAdd5"),$e("Predictor6","PredictorAdd6"),$e("Predictor7","PredictorAdd7"),$e("Predictor8","PredictorAdd8"),$e("Predictor9","PredictorAdd9"),$e("Predictor10","PredictorAdd10"),$e("Predictor11","PredictorAdd11"),$e("Predictor12","PredictorAdd12"),$e("Predictor13","PredictorAdd13");var Uo=$.PredictorAdd2;ot("ColorIndexInverseTransform","MapARGB","32b",function(d){return d>>8&255},function(d){return d}),ot("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(d){return d},function(d){return d>>8&255});var er,yu=$.ColorIndexInverseTransform,Ea=$.MapARGB,Ta=$.VP8LColorIndexInverseTransformAlpha,Rr=$.MapAlpha,Qa=$.VP8LPredictorsAdd=[];Qa.length=16,($.VP8LPredictors=[]).length=16,($.VP8LPredictorsAdd_C=[]).length=16,($.VP8LPredictors_C=[]).length=16;var Mo,Po,es,ts,ka,eo,Ai,ns,Hr,ji,pn,on,Nn,tr,Na,ia,to,Cl,Sc,Lf,jf,Of,Ac,Ec,no,Oi,Rl,Ei,ro=o(511),vu=o(2041),Dl=o(225),Bl=o(767),bu=0,rs=vu,zl=Dl,$r=Bl,Dr=ro,wu=0,Gr=1,xu=2,Ci=3,Ul=4,Io=5,Ts=6,Ml=7,_u=8,qo=9,Su=10,Ri=[2,3,7],Fo=[3,3,11],io=[280,256,256,256,40],Au=[0,1,1,1,0],Pl=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Di=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Bi=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ks=8,zi=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ui=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ti=null,Cf=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Tc=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Eu=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Rf=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Br=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Rn=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Zt=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ti=[],Wn=[],aa=[],Ns=1,kc=2,is=[],zr=[];Ya("UpsampleRgbLinePair",Ka,3),Ya("UpsampleBgrLinePair",Er,3),Ya("UpsampleRgbaLinePair",Qr,4),Ya("UpsampleBgraLinePair",_a,4),Ya("UpsampleArgbLinePair",Do,4),Ya("UpsampleRgba4444LinePair",As,2),Ya("UpsampleRgb565LinePair",Ss,2);var ao=$.UpsampleRgbLinePair,Nc=$.UpsampleBgrLinePair,Ho=$.UpsampleRgbaLinePair,Tu=$.UpsampleBgraLinePair,Ls=$.UpsampleArgbLinePair,La=$.UpsampleRgba4444LinePair,js=$.UpsampleRgb565LinePair,Mi=16,$o=1<<Mi-1,so=-227,Os=482,ku=6,Cs=0,Ur=o(256),Nu=o(256),Df=o(256),od=o(256),ld=o(Os-so),ud=o(Os-so);Ja("YuvToRgbRow",Ka,3),Ja("YuvToBgrRow",Er,3),Ja("YuvToRgbaRow",Qr,4),Ja("YuvToBgraRow",_a,4),Ja("YuvToArgbRow",Do,4),Ja("YuvToRgba4444Row",As,2),Ja("YuvToRgb565Row",Ss,2);var nr=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Go=[0,2,8],Il=[8,7,6,4,4,2,2,2,1,1,1,1],ql=1;this.WebPDecodeRGBA=function(d,g,_,T,D){var z=Gr,U=new Pe,H=new qt;U.ba=H,H.S=z,H.width=[H.width],H.height=[H.height];var V=H.width,X=H.height,fe=new vt;if(fe==null||d==null)var Ee=2;else e(fe!=null),Ee=na(d,g,_,fe.width,fe.height,fe.Pd,fe.Qd,fe.format,null);if(Ee!=0?V=0:(V!=null&&(V[0]=fe.width[0]),X!=null&&(X[0]=fe.height[0]),V=1),V){H.width=H.width[0],H.height=H.height[0],T!=null&&(T[0]=H.width),D!=null&&(D[0]=H.height);e:{if(T=new Pa,(D=new Ge).data=d,D.w=g,D.ha=_,D.kd=1,g=[0],e(D!=null),((d=na(D.data,D.w,D.ha,null,null,null,g,null,D))==0||d==7)&&g[0]&&(d=4),(g=d)==0){if(e(U!=null),T.data=D.data,T.w=D.w+D.offset,T.ha=D.ha-D.offset,T.put=_t,T.ac=oi,T.bc=Ua,T.ma=U,D.xa){if((d=Gs())==null){U=1;break e}if((function(J,ge){var be=[0],Be=[0],_e=[0];t:for(;;){if(J==null)return 0;if(ge==null)return J.a=2,0;if(J.l=ge,J.a=0,Se(J.m,ge.data,ge.w,ge.ha),!ga(J.m,be,Be,_e)){J.a=3;break t}if(J.xb=kc,ge.width=be[0],ge.height=Be[0],!Wi(be[0],Be[0],1,J,null))break t;return 1}return e(J.a!=0),0})(d,T)){if(T=(g=ra(T.width,T.height,U.Oa,U.ba))==0){t:{T=d;n:for(;;){if(T==null){T=0;break t}if(e(T.s.yc!=null),e(T.s.Ya!=null),e(0<T.s.Wb),e((_=T.l)!=null),e((D=_.ma)!=null),T.xb!=0){if(T.ca=D.ba,T.tb=D.tb,e(T.ca!=null),!Xa(D.Oa,_,Ci)){T.a=2;break n}if(!Vi(T,_.width)||_.da)break n;if((_.da||xt(T.ca.S))&&ea(),11>T.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),T.ca.f.kb.F!=null&&ea()),T.Pb&&0<T.s.ua&&T.s.vb.X==null&&!B(T.s.vb,T.s.Wa.Xa)){T.a=1;break n}T.xb=0}if(!vi(T,T.V,T.Ba,T.c,T.i,_.o,Jr))break n;D.Dc=T.Ma,T=1;break t}e(T.a!=0),T=0}T=!T}T&&(g=d.a)}else g=d.a}else{if((d=new Xi)==null){U=1;break e}if(d.Fa=D.na,d.P=D.P,d.qc=D.Sa,va(d,T)){if((g=ra(T.width,T.height,U.Oa,U.ba))==0){if(d.Aa=0,_=U.Oa,e((D=d)!=null),_!=null){if(0<(V=0>(V=_.Md)?0:100<V?255:255*V/100)){for(X=fe=0;4>X;++X)12>(Ee=D.pb[X]).lc&&(Ee.ia=V*Il[0>Ee.lc?0:Ee.lc]>>3),fe|=Ee.ia;fe&&(alert("todo:VP8InitRandom"),D.ia=1)}D.Ga=_.Id,100<D.Ga?D.Ga=100:0>D.Ga&&(D.Ga=0)}(function(J,ge){if(J==null)return 0;if(ge==null)return dn(J,2,"NULL VP8Io parameter in VP8Decode().");if(!J.cb&&!va(J,ge))return 0;if(e(J.cb),ge.ac==null||ge.ac(ge)){ge.ob&&(J.L=0);var be=Go[J.L];if(J.L==2?(J.yb=0,J.zb=0):(J.yb=ge.v-be>>4,J.zb=ge.j-be>>4,0>J.yb&&(J.yb=0),0>J.zb&&(J.zb=0)),J.Va=ge.o+15+be>>4,J.Hb=ge.va+15+be>>4,J.Hb>J.za&&(J.Hb=J.za),J.Va>J.Ub&&(J.Va=J.Ub),0<J.L){var Be=J.ed;for(be=0;4>be;++be){var _e;if(J.Qa.Cb){var De=J.Qa.Lb[be];J.Qa.Fb||(De+=Be.Tb)}else De=Be.Tb;for(_e=0;1>=_e;++_e){var Ie=J.gd[be][_e],Ve=De;if(Be.Pc&&(Ve+=Be.vd[0],_e&&(Ve+=Be.od[0])),0<(Ve=0>Ve?0:63<Ve?63:Ve)){var He=Ve;0<Be.wb&&(He=4<Be.wb?He>>2:He>>1)>9-Be.wb&&(He=9-Be.wb),1>He&&(He=1),Ie.dd=He,Ie.tc=2*Ve+He,Ie.ld=40<=Ve?2:15<=Ve?1:0}else Ie.tc=0;Ie.La=_e}}}be=0}else dn(J,6,"Frame setup failed"),be=J.a;if(be=be==0){if(be){J.$c=0,0<J.Aa||(J.Ic=ql);t:{be=J.Ic,Be=4*(He=J.za);var ht=32*He,it=He+1,Pt=0<J.L?He*(0<J.Aa?2:1):0,lt=(J.Aa==2?2:1)*He;if((Ie=Be+832+(_e=3*(16*be+Go[J.L])/2*ht)+(De=J.Fa!=null&&0<J.Fa.length?J.Kc.c*J.Kc.i:0))!=Ie)be=0;else{if(Ie>J.Vb){if(J.Vb=0,J.Ec=o(Ie),J.Fc=0,J.Ec==null){be=dn(J,1,"no memory during frame initialization.");break t}J.Vb=Ie}Ie=J.Ec,Ve=J.Fc,J.Ac=Ie,J.Bc=Ve,Ve+=Be,J.Gd=f(ht,vl),J.Hd=0,J.rb=f(it+1,Ji),J.sb=1,J.wa=Pt?f(Pt,bi):null,J.Y=0,J.D.Nb=0,J.D.wa=J.wa,J.D.Y=J.Y,0<J.Aa&&(J.D.Y+=He),e(!0),J.oc=Ie,J.pc=Ve,Ve+=832,J.ya=f(lt,gl),J.aa=0,J.D.ya=J.ya,J.D.aa=J.aa,J.Aa==2&&(J.D.aa+=He),J.R=16*He,J.B=8*He,He=(ht=Go[J.L])*J.R,ht=ht/2*J.B,J.sa=Ie,J.ta=Ve+He,J.qa=J.sa,J.ra=J.ta+16*be*J.R+ht,J.Ha=J.qa,J.Ia=J.ra+8*be*J.B+ht,J.$c=0,Ve+=_e,J.mb=De?Ie:null,J.nb=De?Ve:null,e(Ve+De<=J.Fc+J.Vb),wl(J),l(J.Ac,J.Bc,0,Be),be=1}}if(be){if(ge.ka=0,ge.y=J.sa,ge.O=J.ta,ge.f=J.qa,ge.N=J.ra,ge.ea=J.Ha,ge.Vd=J.Ia,ge.fa=J.R,ge.Rc=J.B,ge.F=null,ge.J=0,!bu){for(be=-255;255>=be;++be)ro[255+be]=0>be?-be:be;for(be=-1020;1020>=be;++be)vu[1020+be]=-128>be?-128:127<be?127:be;for(be=-112;112>=be;++be)Dl[112+be]=-16>be?-16:15<be?15:be;for(be=-255;510>=be;++be)Bl[255+be]=0>be?0:255<be?255:be;bu=1}Ai=Zi,ns=xl,ji=Zr,pn=_l,on=Sl,Hr=lu,Nn=mu,tr=Wa,Na=R,ia=Z,to=gu,Cl=w,Sc=ce,Lf=ye,jf=Fa,Of=Ha,Ac=Zs,Ec=Nl,Wn[0]=du,Wn[1]=uu,Wn[2]=hu,Wn[3]=Tl,Wn[4]=xi,Wn[5]=kl,Wn[6]=Or,Wn[7]=Ks,Wn[8]=Js,Wn[9]=_i,ti[0]=Qi,ti[1]=Al,ti[2]=El,ti[3]=fu,ti[4]=Ia,ti[5]=Ys,ti[6]=_s,aa[0]=jo,aa[1]=cu,aa[2]=ba,aa[3]=pu,aa[4]=Ar,aa[5]=Oo,aa[6]=wa,be=1}else be=0}be&&(be=(function(Xt,Dn){for(Xt.M=0;Xt.M<Xt.Va;++Xt.M){var Ht,at=Xt.Jc[Xt.M&Xt.Xb],Je=Xt.m,qn=Xt;for(Ht=0;Ht<qn.za;++Ht){var Rt=Je,Wt=qn,vn=Wt.Ac,vr=Wt.Bc+4*Ht,Mr=Wt.zc,Ln=Wt.ya[Wt.aa+Ht];if(Wt.Qa.Bb?Ln.$b=Ue(Rt,Wt.Pa.jb[0])?2+Ue(Rt,Wt.Pa.jb[2]):Ue(Rt,Wt.Pa.jb[1]):Ln.$b=0,Wt.kc&&(Ln.Ad=Ue(Rt,Wt.Bd)),Ln.Za=!Ue(Rt,145)+0,Ln.Za){var lr=Ln.Ob,Wr=0;for(Wt=0;4>Wt;++Wt){var ur,Kt=Mr[0+Wt];for(ur=0;4>ur;++ur){Kt=Br[vn[vr+ur]][Kt];for(var cn=Eu[Ue(Rt,Kt[0])];0<cn;)cn=Eu[2*cn+Ue(Rt,Kt[cn])];Kt=-cn,vn[vr+ur]=Kt}a(lr,Wr,vn,vr,4),Wr+=4,Mr[0+Wt]=Kt}}else Kt=Ue(Rt,156)?Ue(Rt,128)?1:3:Ue(Rt,163)?2:0,Ln.Ob[0]=Kt,l(vn,vr,Kt,4),l(Mr,0,Kt,4);Ln.Dd=Ue(Rt,142)?Ue(Rt,114)?Ue(Rt,183)?1:3:2:0}if(qn.m.Ka)return dn(Xt,7,"Premature end-of-partition0 encountered.");for(;Xt.ja<Xt.za;++Xt.ja){if(qn=at,Rt=(Je=Xt).rb[Je.sb-1],vn=Je.rb[Je.sb+Je.ja],Ht=Je.ya[Je.aa+Je.ja],vr=Je.kc?Ht.Ad:0)Rt.la=vn.la=0,Ht.Za||(Rt.Na=vn.Na=0),Ht.Hc=0,Ht.Gc=0,Ht.ia=0;else{var Fn,mn;if(Rt=vn,vn=qn,vr=Je.Pa.Xc,Mr=Je.ya[Je.aa+Je.ja],Ln=Je.pb[Mr.$b],Wt=Mr.ad,lr=0,Wr=Je.rb[Je.sb-1],Kt=ur=0,l(Wt,lr,0,384),Mr.Za)var br=0,Hn=vr[3];else{cn=o(16);var fn=Rt.Na+Wr.Na;if(fn=Ti(vn,vr[1],fn,Ln.Eb,0,cn,0),Rt.Na=Wr.Na=(0<fn)+0,1<fn)Ai(cn,0,Wt,lr);else{var rr=cn[0]+3>>3;for(cn=0;256>cn;cn+=16)Wt[lr+cn]=rr}br=1,Hn=vr[0]}var bn=15&Rt.la,cr=15&Wr.la;for(cn=0;4>cn;++cn){var fr=1&cr;for(rr=mn=0;4>rr;++rr)bn=bn>>1|(fr=(fn=Ti(vn,Hn,fn=fr+(1&bn),Ln.Sc,br,Wt,lr))>br)<<7,mn=mn<<2|(3<fn?3:1<fn?2:Wt[lr+0]!=0),lr+=16;bn>>=4,cr=cr>>1|fr<<7,ur=(ur<<8|mn)>>>0}for(Hn=bn,br=cr>>4,Fn=0;4>Fn;Fn+=2){for(mn=0,bn=Rt.la>>4+Fn,cr=Wr.la>>4+Fn,cn=0;2>cn;++cn){for(fr=1&cr,rr=0;2>rr;++rr)fn=fr+(1&bn),bn=bn>>1|(fr=0<(fn=Ti(vn,vr[2],fn,Ln.Qc,0,Wt,lr)))<<3,mn=mn<<2|(3<fn?3:1<fn?2:Wt[lr+0]!=0),lr+=16;bn>>=2,cr=cr>>1|fr<<5}Kt|=mn<<4*Fn,Hn|=bn<<4<<Fn,br|=(240&cr)<<Fn}Rt.la=Hn,Wr.la=br,Mr.Hc=ur,Mr.Gc=Kt,Mr.ia=43690&Kt?0:Ln.ia,vr=!(ur|Kt)}if(0<Je.L&&(Je.wa[Je.Y+Je.ja]=Je.gd[Ht.$b][Ht.Za],Je.wa[Je.Y+Je.ja].La|=!vr),qn.Ka)return dn(Xt,7,"Premature end-of-file encountered.")}if(wl(Xt),Je=Dn,qn=1,Ht=(at=Xt).D,Rt=0<at.L&&at.M>=at.zb&&at.M<=at.Va,at.Aa==0)t:{if(Ht.M=at.M,Ht.uc=Rt,Si(at,Ht),qn=1,Ht=(mn=at.D).Nb,Rt=(Kt=Go[at.L])*at.R,vn=Kt/2*at.B,cn=16*Ht*at.R,rr=8*Ht*at.B,vr=at.sa,Mr=at.ta-Rt+cn,Ln=at.qa,Wt=at.ra-vn+rr,lr=at.Ha,Wr=at.Ia-vn+rr,cr=(bn=mn.M)==0,ur=bn>=at.Va-1,at.Aa==2&&Si(at,mn),mn.uc)for(fr=(fn=at).D.M,e(fn.D.uc),mn=fn.yb;mn<fn.Hb;++mn){br=mn,Hn=fr;var _n=(ln=(hr=fn).D).Nb;Fn=hr.R;var ln=ln.wa[ln.Y+br],Vr=hr.sa,Vn=hr.ta+16*_n*Fn+16*br,St=ln.dd,At=ln.tc;if(At!=0)if(e(3<=At),hr.L==1)0<br&&Of(Vr,Vn,Fn,At+4),ln.La&&Ec(Vr,Vn,Fn,At),0<Hn&&jf(Vr,Vn,Fn,At+4),ln.La&&Ac(Vr,Vn,Fn,At);else{var hn=hr.B,ci=hr.qa,Pi=hr.ra+8*_n*hn+8*br,ni=hr.Ha,hr=hr.Ia+8*_n*hn+8*br;_n=ln.ld,0<br&&(tr(Vr,Vn,Fn,At+4,St,_n),ia(ci,Pi,ni,hr,hn,At+4,St,_n)),ln.La&&(Cl(Vr,Vn,Fn,At,St,_n),Lf(ci,Pi,ni,hr,hn,At,St,_n)),0<Hn&&(Nn(Vr,Vn,Fn,At+4,St,_n),Na(ci,Pi,ni,hr,hn,At+4,St,_n)),ln.La&&(to(Vr,Vn,Fn,At,St,_n),Sc(ci,Pi,ni,hr,hn,At,St,_n))}}if(at.ia&&alert("todo:DitherRow"),Je.put!=null){if(mn=16*bn,bn=16*(bn+1),cr?(Je.y=at.sa,Je.O=at.ta+cn,Je.f=at.qa,Je.N=at.ra+rr,Je.ea=at.Ha,Je.W=at.Ia+rr):(mn-=Kt,Je.y=vr,Je.O=Mr,Je.f=Ln,Je.N=Wt,Je.ea=lr,Je.W=Wr),ur||(bn-=Kt),bn>Je.o&&(bn=Je.o),Je.F=null,Je.J=null,at.Fa!=null&&0<at.Fa.length&&mn<bn&&(Je.J=kn(at,Je,mn,bn-mn),Je.F=at.mb,Je.F==null&&Je.F.length==0)){qn=dn(at,3,"Could not decode alpha data.");break t}mn<Je.j&&(Kt=Je.j-mn,mn=Je.j,e(!(1&Kt)),Je.O+=at.R*Kt,Je.N+=at.B*(Kt>>1),Je.W+=at.B*(Kt>>1),Je.F!=null&&(Je.J+=Je.width*Kt)),mn<bn&&(Je.O+=Je.v,Je.N+=Je.v>>1,Je.W+=Je.v>>1,Je.F!=null&&(Je.J+=Je.v),Je.ka=mn-Je.j,Je.U=Je.va-Je.v,Je.T=bn-mn,qn=Je.put(Je))}Ht+1!=at.Ic||ur||(a(at.sa,at.ta-Rt,vr,Mr+16*at.R,Rt),a(at.qa,at.ra-vn,Ln,Wt+8*at.B,vn),a(at.Ha,at.Ia-vn,lr,Wr+8*at.B,vn))}if(!qn)return dn(Xt,6,"Output aborted.")}return 1})(J,ge)),ge.bc!=null&&ge.bc(ge),be&=1}return be?(J.cb=0,be):0})(d,T)||(g=d.a)}}else g=d.a}g==0&&U.Oa!=null&&U.Oa.fd&&(g=Ol(U.ba))}U=g}z=U!=0?null:11>z?H.f.RGBA.eb:H.f.kb.y}else z=null;return z};var Lu=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function p($,he){for(var C="",q=0;q<4;q++)C+=String.fromCharCode($[he++]);return C}function v($,he){return $[he+0]|$[he+1]<<8}function x($,he){return($[he+0]|$[he+1]<<8|$[he+2]<<16)>>>0}function A($,he){return($[he+0]|$[he+1]<<8|$[he+2]<<16|$[he+3]<<24)>>>0}new h;var y=[0],L=[0],E=[],j=new h,O=r,M=(function($,he){var C={},q=0,re=!1,ie=0,we=0;if(C.frames=[],!(function(k,P){for(var K=0;K<4;K++)if(k[P+K]!="RIFF".charCodeAt(K))return!0;return!1})($,he)){for(A($,he+=4),he+=8;he<$.length;){var Y=p($,he),le=A($,he+=4);he+=4;var ue=le+(1&le);switch(Y){case"VP8 ":case"VP8L":C.frames[q]===void 0&&(C.frames[q]={}),(W=C.frames[q]).src_off=re?we:he-8,W.src_size=ie+le+8,q++,re&&(re=!1,ie=0,we=0);break;case"VP8X":(W=C.header={}).feature_flags=$[he];var Se=he+4;W.canvas_width=1+x($,Se),Se+=3,W.canvas_height=1+x($,Se),Se+=3;break;case"ALPH":re=!0,ie=ue+8,we=he-8;break;case"ANIM":(W=C.header).bgcolor=A($,he),Se=he+4,W.loop_count=v($,Se),Se+=2;break;case"ANMF":var ze,W;(W=C.frames[q]={}).offset_x=2*x($,he),he+=3,W.offset_y=2*x($,he),he+=3,W.width=1+x($,he),he+=3,W.height=1+x($,he),he+=3,W.duration=x($,he),he+=3,ze=$[he++],W.dispose=1&ze,W.blend=ze>>1&1}Y!="ANMF"&&(he+=ue)}return C}})(O,0);M.response=O,M.rgbaoutput=!0,M.dataurl=!1;var F=M.header?M.header:null,G=M.frames?M.frames:null;if(F){F.loop_counter=F.loop_count,y=[F.canvas_height],L=[F.canvas_width];for(var se=0;se<G.length&&G[se].blend!=0;se++);}var me=G[0],Q=j.WebPDecodeRGBA(O,me.src_off,me.src_size,L,y);me.rgba=Q,me.imgwidth=L[0],me.imgheight=y[0];for(var ee=0;ee<L[0]*y[0]*4;ee++)E[ee]=Q[ee];return this.width=L,this.height=y,this.data=E,this}function l6(){var r,e=this.internal.__metadata__.metadata,n=unescape(encodeURIComponent(e));r=this.internal.__metadata__.rawXml?n:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+r.length+" >>"),this.internal.write("stream"),this.internal.write(r),this.internal.write("endstream"),this.internal.write("endobj")}function u6(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(r){var e,n,a,l,o,f,c,h,p,v=function(k){return k=k||{},this.isStrokeTransparent=k.isStrokeTransparent||!1,this.strokeOpacity=k.strokeOpacity||1,this.strokeStyle=k.strokeStyle||"#000000",this.fillStyle=k.fillStyle||"#000000",this.isFillTransparent=k.isFillTransparent||!1,this.fillOpacity=k.fillOpacity||1,this.font=k.font||"10px sans-serif",this.textBaseline=k.textBaseline||"alphabetic",this.textAlign=k.textAlign||"left",this.lineWidth=k.lineWidth||1,this.lineJoin=k.lineJoin||"miter",this.lineCap=k.lineCap||"butt",this.path=k.path||[],this.transform=k.transform!==void 0?k.transform.clone():new h,this.globalCompositeOperation=k.globalCompositeOperation||"normal",this.globalAlpha=k.globalAlpha||1,this.clip_path=k.clip_path||[],this.currentPoint=k.currentPoint||new f,this.miterLimit=k.miterLimit||10,this.lastPoint=k.lastPoint||new f,this.lineDashOffset=k.lineDashOffset||0,this.lineDash=k.lineDash||[],this.margin=k.margin||[0,0,0,0],this.prevPageLastElemOffset=k.prevPageLastElemOffset||0,this.ignoreClearRect=typeof k.ignoreClearRect!="boolean"||k.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new x(this),e=this.internal.f2,n=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,f=this.internal.Point,c=this.internal.Rectangle,h=this.internal.Matrix,p=new v}]);var x=function(k){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var P=k;Object.defineProperty(this,"pdf",{get:function(){return P}});var K=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return K},set:function(B){K=!!B}});var ne=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ne},set:function(B){ne=!!B}});var ae=0;Object.defineProperty(this,"posX",{get:function(){return ae},set:function(B){isNaN(B)||(ae=B)}});var de=0;Object.defineProperty(this,"posY",{get:function(){return de},set:function(B){isNaN(B)||(de=B)}}),Object.defineProperty(this,"margin",{get:function(){return p.margin},set:function(B){var je;typeof B=="number"?je=[B,B,B,B]:((je=new Array(4))[0]=B[0],je[1]=B.length>=2?B[1]:je[0],je[2]=B.length>=3?B[2]:je[0],je[3]=B.length>=4?B[3]:je[1]),p.margin=je}});var Ne=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ne},set:function(B){Ne=B}});var Ae=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ae},set:function(B){Ae=B}});var Ue=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ue},set:function(B){Ue=B}}),Object.defineProperty(this,"ctx",{get:function(){return p},set:function(B){B instanceof v&&(p=B)}}),Object.defineProperty(this,"path",{get:function(){return p.path},set:function(B){p.path=B}});var We=[];Object.defineProperty(this,"ctxStack",{get:function(){return We},set:function(B){We=B}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(B){var je;je=A(B),this.ctx.fillStyle=je.style,this.ctx.isFillTransparent=je.a===0,this.ctx.fillOpacity=je.a,this.pdf.setFillColor(je.r,je.g,je.b,{a:je.a}),this.pdf.setTextColor(je.r,je.g,je.b,{a:je.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(B){var je=A(B);this.ctx.strokeStyle=je.style,this.ctx.isStrokeTransparent=je.a===0,this.ctx.strokeOpacity=je.a,je.a===0?this.pdf.setDrawColor(255,255,255):(je.a,this.pdf.setDrawColor(je.r,je.g,je.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(B){["butt","round","square"].indexOf(B)!==-1&&(this.ctx.lineCap=B,this.pdf.setLineCap(B))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(B){isNaN(B)||(this.ctx.lineWidth=B,this.pdf.setLineWidth(B))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(B){["bevel","round","miter"].indexOf(B)!==-1&&(this.ctx.lineJoin=B,this.pdf.setLineJoin(B))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(B){isNaN(B)||(this.ctx.miterLimit=B,this.pdf.setMiterLimit(B))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(B){this.ctx.textBaseline=B}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(B){["right","end","center","left","start"].indexOf(B)!==-1&&(this.ctx.textAlign=B)}});var Qe=null,et=null,xe=null;Object.defineProperty(this,"fontFaces",{get:function(){return xe},set:function(B){Qe=null,et=null,xe=B}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(B){var je;if(this.ctx.font=B,(je=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(B))!==null){var Ke=je[1];je[2];var Re=je[3],Oe=je[4];je[5];var Ye=je[6],$e=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Oe)[2];Oe=Math.floor($e==="px"?parseFloat(Oe)*this.pdf.internal.scaleFactor:$e==="em"?parseFloat(Oe)*this.pdf.getFontSize():parseFloat(Oe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Oe);var st=(function(ot){var un,Xe,Ze=[],rt=ot.trim();if(rt==="")return tp;if(rt in Y2)return[Y2[rt]];for(;rt!=="";){switch(Xe=null,un=(rt=J2(rt)).charAt(0)){case'"':case"'":Xe=n6(rt.substring(1),un);break;default:Xe=r6(rt)}if(Xe===null||(Ze.push(Xe[0]),(rt=J2(Xe[1]))!==""&&rt.charAt(0)!==","))return tp;rt=rt.replace(/^,/,"")}return Ze})(Ye);if(this.fontFaces){var ft=(function(ot,un){var Xe=ot.getFontList(),Ze=JSON.stringify(Xe);if(Qe===null||et!==Ze){var rt=(function(jt){var pt=[];return Object.keys(jt).forEach(function(Yt){jt[Yt].forEach(function(xt){var Ot=null;switch(xt){case"bold":Ot={family:Yt,weight:"bold"};break;case"italic":Ot={family:Yt,style:"italic"};break;case"bolditalic":Ot={family:Yt,weight:"bold",style:"italic"};break;case"":case"normal":Ot={family:Yt}}Ot!==null&&(Ot.ref={name:Yt,style:xt},pt.push(Ot))})}),pt})(Xe);Qe=(function(jt){for(var pt={},Yt=0;Yt<jt.length;++Yt){var xt=ep(jt[Yt]),Ot=xt.family,rn=xt.stretch,qt=xt.style,vt=xt.weight;pt[Ot]=pt[Ot]||{},pt[Ot][rn]=pt[Ot][rn]||{},pt[Ot][rn][qt]=pt[Ot][rn][qt]||{},pt[Ot][rn][qt][vt]=xt}return pt})(rt.concat(un)),et=Ze}return Qe})(this.pdf,this.fontFaces),Lt=st.map(function(ot){return{family:ot,stretch:"normal",weight:Re,style:Ke}}),Tt=(function(ot,un,Xe){for(var Ze=(Xe=Xe||{}).defaultFontFamily||"times",rt=Object.assign({},t6,Xe.genericFontFamilies||{}),jt=null,pt=null,Yt=0;Yt<un.length;++Yt)if(rt[(jt=ep(un[Yt])).family]&&(jt.family=rt[jt.family]),ot.hasOwnProperty(jt.family)){pt=ot[jt.family];break}if(!(pt=pt||ot[Ze]))throw new Error("Could not find a font-family for the rule '"+K2(jt)+"' and default family '"+Ze+"'.");if(pt=(function(xt,Ot){if(Ot[xt])return Ot[xt];var rn=kp[xt],qt=rn<=kp.normal?-1:1,vt=V2(Ot,Dy,rn,qt);if(!vt)throw new Error("Could not find a matching font-stretch value for "+xt);return vt})(jt.stretch,pt),pt=(function(xt,Ot){if(Ot[xt])return Ot[xt];for(var rn=Ry[xt],qt=0;qt<rn.length;++qt)if(Ot[rn[qt]])return Ot[rn[qt]];throw new Error("Could not find a matching font-style for "+xt)})(jt.style,pt),!(pt=(function(xt,Ot){if(Ot[xt])return Ot[xt];if(xt===400&&Ot[500])return Ot[500];if(xt===500&&Ot[400])return Ot[400];var rn=e6[xt],qt=V2(Ot,By,rn,xt<400?-1:1);if(!qt)throw new Error("Could not find a matching font-weight for value "+xt);return qt})(jt.weight,pt)))throw new Error("Failed to resolve a font for the rule '"+K2(jt)+"'.");return pt})(ft,Lt);this.pdf.setFont(Tt.ref.name,Tt.ref.style)}else{var yt="";(Re==="bold"||parseInt(Re,10)>=700||Ke==="bold")&&(yt="bold"),Ke==="italic"&&(yt+="italic"),yt.length===0&&(yt="normal");for(var Nt="",Mt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},nt=0;nt<st.length;nt++){if(this.pdf.internal.getFont(st[nt],yt,{noFallback:!0,disableWarning:!0})!==void 0){Nt=st[nt];break}if(yt==="bolditalic"&&this.pdf.internal.getFont(st[nt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Nt=st[nt],yt="bold";else if(this.pdf.internal.getFont(st[nt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Nt=st[nt],yt="normal";break}}if(Nt===""){for(var kt=0;kt<st.length;kt++)if(Mt[st[kt]]){Nt=Mt[st[kt]];break}}Nt=Nt===""?"Times":Nt,this.pdf.setFont(Nt,yt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(B){this.ctx.globalCompositeOperation=B}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(B){this.ctx.globalAlpha=B}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(B){this.ctx.lineDashOffset=B,W.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(B){this.ctx.lineDash=B,W.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(B){this.ctx.ignoreClearRect=!!B}})};x.prototype.setLineDash=function(k){this.lineDash=k},x.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},x.prototype.fill=function(){G.call(this,"fill",!1)},x.prototype.stroke=function(){G.call(this,"stroke",!1)},x.prototype.beginPath=function(){this.path=[{type:"begin"}]},x.prototype.moveTo=function(k,P){if(isNaN(k)||isNaN(P))throw zn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var K=this.ctx.transform.applyToPoint(new f(k,P));this.path.push({type:"mt",x:K.x,y:K.y}),this.ctx.lastPoint=new f(k,P)},x.prototype.closePath=function(){var k=new f(0,0),P=0;for(P=this.path.length-1;P!==-1;P--)if(this.path[P].type==="begin"&&En(this.path[P+1])==="object"&&typeof this.path[P+1].x=="number"){k=new f(this.path[P+1].x,this.path[P+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new f(k.x,k.y)},x.prototype.lineTo=function(k,P){if(isNaN(k)||isNaN(P))throw zn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var K=this.ctx.transform.applyToPoint(new f(k,P));this.path.push({type:"lt",x:K.x,y:K.y}),this.ctx.lastPoint=new f(K.x,K.y)},x.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),G.call(this,null,!0)},x.prototype.quadraticCurveTo=function(k,P,K,ne){if(isNaN(K)||isNaN(ne)||isNaN(k)||isNaN(P))throw zn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ae=this.ctx.transform.applyToPoint(new f(K,ne)),de=this.ctx.transform.applyToPoint(new f(k,P));this.path.push({type:"qct",x1:de.x,y1:de.y,x:ae.x,y:ae.y}),this.ctx.lastPoint=new f(ae.x,ae.y)},x.prototype.bezierCurveTo=function(k,P,K,ne,ae,de){if(isNaN(ae)||isNaN(de)||isNaN(k)||isNaN(P)||isNaN(K)||isNaN(ne))throw zn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ne=this.ctx.transform.applyToPoint(new f(ae,de)),Ae=this.ctx.transform.applyToPoint(new f(k,P)),Ue=this.ctx.transform.applyToPoint(new f(K,ne));this.path.push({type:"bct",x1:Ae.x,y1:Ae.y,x2:Ue.x,y2:Ue.y,x:Ne.x,y:Ne.y}),this.ctx.lastPoint=new f(Ne.x,Ne.y)},x.prototype.arc=function(k,P,K,ne,ae,de){if(isNaN(k)||isNaN(P)||isNaN(K)||isNaN(ne)||isNaN(ae))throw zn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(de=!!de,!this.ctx.transform.isIdentity){var Ne=this.ctx.transform.applyToPoint(new f(k,P));k=Ne.x,P=Ne.y;var Ae=this.ctx.transform.applyToPoint(new f(0,K)),Ue=this.ctx.transform.applyToPoint(new f(0,0));K=Math.sqrt(Math.pow(Ae.x-Ue.x,2)+Math.pow(Ae.y-Ue.y,2))}Math.abs(ae-ne)>=2*Math.PI&&(ne=0,ae=2*Math.PI),this.path.push({type:"arc",x:k,y:P,radius:K,startAngle:ne,endAngle:ae,counterclockwise:de})},x.prototype.arcTo=function(k,P,K,ne,ae){throw new Error("arcTo not implemented.")},x.prototype.rect=function(k,P,K,ne){if(isNaN(k)||isNaN(P)||isNaN(K)||isNaN(ne))throw zn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(k,P),this.lineTo(k+K,P),this.lineTo(k+K,P+ne),this.lineTo(k,P+ne),this.lineTo(k,P),this.lineTo(k+K,P),this.lineTo(k,P)},x.prototype.fillRect=function(k,P,K,ne){if(isNaN(k)||isNaN(P)||isNaN(K)||isNaN(ne))throw zn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!y.call(this)){var ae={};this.lineCap!=="butt"&&(ae.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ae.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(k,P,K,ne),this.fill(),ae.hasOwnProperty("lineCap")&&(this.lineCap=ae.lineCap),ae.hasOwnProperty("lineJoin")&&(this.lineJoin=ae.lineJoin)}},x.prototype.strokeRect=function(k,P,K,ne){if(isNaN(k)||isNaN(P)||isNaN(K)||isNaN(ne))throw zn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");L.call(this)||(this.beginPath(),this.rect(k,P,K,ne),this.stroke())},x.prototype.clearRect=function(k,P,K,ne){if(isNaN(k)||isNaN(P)||isNaN(K)||isNaN(ne))throw zn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(k,P,K,ne))},x.prototype.save=function(k){k=typeof k!="boolean"||k;for(var P=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("q");if(this.pdf.setPage(P),k){this.ctx.fontSize=this.pdf.internal.getFontSize();var ne=new v(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ne}},x.prototype.restore=function(k){k=typeof k!="boolean"||k;for(var P=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("Q");this.pdf.setPage(P),k&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},x.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var A=function(k){var P,K,ne,ae;if(k.isCanvasGradient===!0&&(k=k.getColor()),!k)return{r:0,g:0,b:0,a:0,style:k};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(k))P=0,K=0,ne=0,ae=0;else{var de=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(k);if(de!==null)P=parseInt(de[1]),K=parseInt(de[2]),ne=parseInt(de[3]),ae=1;else if((de=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(k))!==null)P=parseInt(de[1]),K=parseInt(de[2]),ne=parseInt(de[3]),ae=parseFloat(de[4]);else{if(ae=1,typeof k=="string"&&k.charAt(0)!=="#"){var Ne=new Ty(k);k=Ne.ok?Ne.toHex():"#000000"}k.length===4?(P=k.substring(1,2),P+=P,K=k.substring(2,3),K+=K,ne=k.substring(3,4),ne+=ne):(P=k.substring(1,3),K=k.substring(3,5),ne=k.substring(5,7)),P=parseInt(P,16),K=parseInt(K,16),ne=parseInt(ne,16)}}return{r:P,g:K,b:ne,a:ae,style:k}},y=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},L=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};x.prototype.fillText=function(k,P,K,ne){if(isNaN(P)||isNaN(K)||typeof k!="string")throw zn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ne=isNaN(ne)?void 0:ne,!y.call(this)){var ae=ue(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;q.call(this,{text:k,x:P,y:K,scale:de,angle:ae,align:this.textAlign,maxWidth:ne})}},x.prototype.strokeText=function(k,P,K,ne){if(isNaN(P)||isNaN(K)||typeof k!="string")throw zn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!L.call(this)){ne=isNaN(ne)?void 0:ne;var ae=ue(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;q.call(this,{text:k,x:P,y:K,scale:de,renderingMode:"stroke",angle:ae,align:this.textAlign,maxWidth:ne})}},x.prototype.measureText=function(k){if(typeof k!="string")throw zn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var P=this.pdf,K=this.pdf.internal.scaleFactor,ne=P.internal.getFontSize(),ae=P.getStringUnitWidth(k)*ne/P.internal.scaleFactor;return new function(de){var Ne=(de=de||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ne}}),this}({width:ae*=Math.round(96*K/72*1e4)/1e4})},x.prototype.scale=function(k,P){if(isNaN(k)||isNaN(P))throw zn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var K=new h(k,0,0,P,0,0);this.ctx.transform=this.ctx.transform.multiply(K)},x.prototype.rotate=function(k){if(isNaN(k))throw zn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var P=new h(Math.cos(k),Math.sin(k),-Math.sin(k),Math.cos(k),0,0);this.ctx.transform=this.ctx.transform.multiply(P)},x.prototype.translate=function(k,P){if(isNaN(k)||isNaN(P))throw zn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var K=new h(1,0,0,1,k,P);this.ctx.transform=this.ctx.transform.multiply(K)},x.prototype.transform=function(k,P,K,ne,ae,de){if(isNaN(k)||isNaN(P)||isNaN(K)||isNaN(ne)||isNaN(ae)||isNaN(de))throw zn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ne=new h(k,P,K,ne,ae,de);this.ctx.transform=this.ctx.transform.multiply(Ne)},x.prototype.setTransform=function(k,P,K,ne,ae,de){k=isNaN(k)?1:k,P=isNaN(P)?0:P,K=isNaN(K)?0:K,ne=isNaN(ne)?1:ne,ae=isNaN(ae)?0:ae,de=isNaN(de)?0:de,this.ctx.transform=new h(k,P,K,ne,ae,de)};var E=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};x.prototype.drawImage=function(k,P,K,ne,ae,de,Ne,Ae,Ue){var We=this.pdf.getImageProperties(k),Qe=1,et=1,xe=1,B=1;ne!==void 0&&Ae!==void 0&&(xe=Ae/ne,B=Ue/ae,Qe=We.width/ne*Ae/ne,et=We.height/ae*Ue/ae),de===void 0&&(de=P,Ne=K,P=0,K=0),ne!==void 0&&Ae===void 0&&(Ae=ne,Ue=ae),ne===void 0&&Ae===void 0&&(Ae=We.width,Ue=We.height);var je=this.ctx.transform.decompose(),Ke=ue(je.rotate.shx),Re=new h,Oe=(Re=(Re=(Re=Re.multiply(je.translate)).multiply(je.skew)).multiply(je.scale)).applyToRectangle(new c(de-P*xe,Ne-K*B,ne*Qe,ae*et));if(this.autoPaging){for(var Ye,$e=j.call(this,Oe),st=[],ft=0;ft<$e.length;ft+=1)st.indexOf($e[ft])===-1&&st.push($e[ft]);F(st);for(var Lt=st[0],Tt=st[st.length-1],yt=Lt;yt<Tt+1;yt++){this.pdf.setPage(yt);var Nt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Mt=yt===1?this.posY+this.margin[0]:this.margin[0],nt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],kt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ot=yt===1?0:nt+(yt-2)*kt;if(this.ctx.clip_path.length!==0){var un=this.path;Ye=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=M(Ye,this.posX+this.margin[3],-ot+Mt+this.ctx.prevPageLastElemOffset),se.call(this,"fill",!0),this.path=un}var Xe=JSON.parse(JSON.stringify(Oe));Xe=M([Xe],this.posX+this.margin[3],-ot+Mt+this.ctx.prevPageLastElemOffset)[0];var Ze=(yt>Lt||yt<Tt)&&E.call(this);Ze&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Nt,kt,null).clip().discardPath()),this.pdf.addImage(k,"JPEG",Xe.x,Xe.y,Xe.w,Xe.h,null,null,Ke),Ze&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(k,"JPEG",Oe.x,Oe.y,Oe.w,Oe.h,null,null,Ke)};var j=function(k,P,K){var ne=[];P=P||this.pdf.internal.pageSize.width,K=K||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ae=this.posY+this.ctx.prevPageLastElemOffset;switch(k.type){default:case"mt":case"lt":ne.push(Math.floor((k.y+ae)/K)+1);break;case"arc":ne.push(Math.floor((k.y+ae-k.radius)/K)+1),ne.push(Math.floor((k.y+ae+k.radius)/K)+1);break;case"qct":var de=Se(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x,k.y);ne.push(Math.floor((de.y+ae)/K)+1),ne.push(Math.floor((de.y+de.h+ae)/K)+1);break;case"bct":var Ne=ze(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x2,k.y2,k.x,k.y);ne.push(Math.floor((Ne.y+ae)/K)+1),ne.push(Math.floor((Ne.y+Ne.h+ae)/K)+1);break;case"rect":ne.push(Math.floor((k.y+ae)/K)+1),ne.push(Math.floor((k.y+k.h+ae)/K)+1)}for(var Ae=0;Ae<ne.length;Ae+=1)for(;this.pdf.internal.getNumberOfPages()<ne[Ae];)O.call(this);return ne},O=function(){var k=this.fillStyle,P=this.strokeStyle,K=this.font,ne=this.lineCap,ae=this.lineWidth,de=this.lineJoin;this.pdf.addPage(),this.fillStyle=k,this.strokeStyle=P,this.font=K,this.lineCap=ne,this.lineWidth=ae,this.lineJoin=de},M=function(k,P,K){for(var ne=0;ne<k.length;ne++)switch(k[ne].type){case"bct":k[ne].x2+=P,k[ne].y2+=K;case"qct":k[ne].x1+=P,k[ne].y1+=K;default:k[ne].x+=P,k[ne].y+=K}return k},F=function(k){return k.sort(function(P,K){return P-K})},G=function(k,P){var K=this.fillStyle,ne=this.strokeStyle,ae=this.lineCap,de=this.lineWidth,Ne=Math.abs(de*this.ctx.transform.scaleX),Ae=this.lineJoin;if(this.autoPaging){for(var Ue,We,Qe=JSON.parse(JSON.stringify(this.path)),et=JSON.parse(JSON.stringify(this.path)),xe=[],B=0;B<et.length;B++)if(et[B].x!==void 0)for(var je=j.call(this,et[B]),Ke=0;Ke<je.length;Ke+=1)xe.indexOf(je[Ke])===-1&&xe.push(je[Ke]);for(var Re=0;Re<xe.length;Re++)for(;this.pdf.internal.getNumberOfPages()<xe[Re];)O.call(this);F(xe);for(var Oe=xe[0],Ye=xe[xe.length-1],$e=Oe;$e<Ye+1;$e++){this.pdf.setPage($e),this.fillStyle=K,this.strokeStyle=ne,this.lineCap=ae,this.lineWidth=Ne,this.lineJoin=Ae;var st=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ft=$e===1?this.posY+this.margin[0]:this.margin[0],Lt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Tt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],yt=$e===1?0:Lt+($e-2)*Tt;if(this.ctx.clip_path.length!==0){var Nt=this.path;Ue=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=M(Ue,this.posX+this.margin[3],-yt+ft+this.ctx.prevPageLastElemOffset),se.call(this,k,!0),this.path=Nt}if(We=JSON.parse(JSON.stringify(Qe)),this.path=M(We,this.posX+this.margin[3],-yt+ft+this.ctx.prevPageLastElemOffset),P===!1||$e===0){var Mt=($e>Oe||$e<Ye)&&E.call(this);Mt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],st,Tt,null).clip().discardPath()),se.call(this,k,P),Mt&&this.pdf.restoreGraphicsState()}this.lineWidth=de}this.path=Qe}else this.lineWidth=Ne,se.call(this,k,P),this.lineWidth=de},se=function(k,P){if((k!=="stroke"||P||!L.call(this))&&(k==="stroke"||P||!y.call(this))){for(var K,ne,ae=[],de=this.path,Ne=0;Ne<de.length;Ne++){var Ae=de[Ne];switch(Ae.type){case"begin":ae.push({begin:!0});break;case"close":ae.push({close:!0});break;case"mt":ae.push({start:Ae,deltas:[],abs:[]});break;case"lt":var Ue=ae.length;if(de[Ne-1]&&!isNaN(de[Ne-1].x)&&(K=[Ae.x-de[Ne-1].x,Ae.y-de[Ne-1].y],Ue>0)){for(;Ue>=0;Ue--)if(ae[Ue-1].close!==!0&&ae[Ue-1].begin!==!0){ae[Ue-1].deltas.push(K),ae[Ue-1].abs.push(Ae);break}}break;case"bct":K=[Ae.x1-de[Ne-1].x,Ae.y1-de[Ne-1].y,Ae.x2-de[Ne-1].x,Ae.y2-de[Ne-1].y,Ae.x-de[Ne-1].x,Ae.y-de[Ne-1].y],ae[ae.length-1].deltas.push(K);break;case"qct":var We=de[Ne-1].x+2/3*(Ae.x1-de[Ne-1].x),Qe=de[Ne-1].y+2/3*(Ae.y1-de[Ne-1].y),et=Ae.x+2/3*(Ae.x1-Ae.x),xe=Ae.y+2/3*(Ae.y1-Ae.y),B=Ae.x,je=Ae.y;K=[We-de[Ne-1].x,Qe-de[Ne-1].y,et-de[Ne-1].x,xe-de[Ne-1].y,B-de[Ne-1].x,je-de[Ne-1].y],ae[ae.length-1].deltas.push(K);break;case"arc":ae.push({deltas:[],abs:[],arc:!0}),Array.isArray(ae[ae.length-1].abs)&&ae[ae.length-1].abs.push(Ae)}}ne=P?null:k==="stroke"?"stroke":"fill";for(var Ke=!1,Re=0;Re<ae.length;Re++)if(ae[Re].arc)for(var Oe=ae[Re].abs,Ye=0;Ye<Oe.length;Ye++){var $e=Oe[Ye];$e.type==="arc"?ee.call(this,$e.x,$e.y,$e.radius,$e.startAngle,$e.endAngle,$e.counterclockwise,void 0,P,!Ke):re.call(this,$e.x,$e.y),Ke=!0}else if(ae[Re].close===!0)this.pdf.internal.out("h"),Ke=!1;else if(ae[Re].begin!==!0){var st=ae[Re].start.x,ft=ae[Re].start.y;ie.call(this,ae[Re].deltas,st,ft),Ke=!0}ne&&$.call(this,ne),P&&he.call(this)}},me=function(k){var P=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,K=P*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return k-K;case"top":return k+P-K;case"hanging":return k+P-2*K;case"middle":return k+P/2-K;default:return k}},Q=function(k){return k+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};x.prototype.createLinearGradient=function(){var k=function(){};return k.colorStops=[],k.addColorStop=function(P,K){this.colorStops.push([P,K])},k.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},k.isCanvasGradient=!0,k},x.prototype.createPattern=function(){return this.createLinearGradient()},x.prototype.createRadialGradient=function(){return this.createLinearGradient()};var ee=function(k,P,K,ne,ae,de,Ne,Ae,Ue){for(var We=Y.call(this,K,ne,ae,de),Qe=0;Qe<We.length;Qe++){var et=We[Qe];Qe===0&&(Ue?C.call(this,et.x1+k,et.y1+P):re.call(this,et.x1+k,et.y1+P)),we.call(this,k,P,et.x2,et.y2,et.x3,et.y3,et.x4,et.y4)}Ae?he.call(this):$.call(this,Ne)},$=function(k){switch(k){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},he=function(){this.pdf.clip(),this.pdf.discardPath()},C=function(k,P){this.pdf.internal.out(n(k)+" "+a(P)+" m")},q=function(k){var P;switch(k.align){case"right":case"end":P="right";break;case"center":P="center";break;default:P="left"}var K,ne,ae,de=this.pdf.getTextDimensions(k.text),Ne=me.call(this,k.y),Ae=Q.call(this,Ne)-de.h,Ue=this.ctx.transform.applyToPoint(new f(k.x,Ne));if(this.autoPaging){var We=this.ctx.transform.decompose(),Qe=new h;Qe=(Qe=(Qe=Qe.multiply(We.translate)).multiply(We.skew)).multiply(We.scale);for(var et=this.ctx.transform.applyToRectangle(new c(k.x,Ne,de.w,de.h)),xe=Qe.applyToRectangle(new c(k.x,Ae,de.w,de.h)),B=j.call(this,xe),je=[],Ke=0;Ke<B.length;Ke+=1)je.indexOf(B[Ke])===-1&&je.push(B[Ke]);F(je);for(var Re=je[0],Oe=je[je.length-1],Ye=Re;Ye<Oe+1;Ye++){this.pdf.setPage(Ye);var $e=Ye===1?this.posY+this.margin[0]:this.margin[0],st=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ft=this.pdf.internal.pageSize.height-this.margin[2],Lt=ft-this.margin[0],Tt=this.pdf.internal.pageSize.width-this.margin[1],yt=Tt-this.margin[3],Nt=Ye===1?0:st+(Ye-2)*Lt;if(this.ctx.clip_path.length!==0){var Mt=this.path;K=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=M(K,this.posX+this.margin[3],-1*Nt+$e),se.call(this,"fill",!0),this.path=Mt}var nt=M([JSON.parse(JSON.stringify(xe))],this.posX+this.margin[3],-Nt+$e+this.ctx.prevPageLastElemOffset)[0];k.scale>=.01&&(ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ne*k.scale),ae=this.lineWidth,this.lineWidth=ae*k.scale);var kt=this.autoPaging!=="text";if(kt||nt.y+nt.h<=ft){if(kt||nt.y>=$e&&nt.x<=Tt){var ot=kt?k.text:this.pdf.splitTextToSize(k.text,k.maxWidth||Tt-nt.x)[0],un=M([JSON.parse(JSON.stringify(et))],this.posX+this.margin[3],-Nt+$e+this.ctx.prevPageLastElemOffset)[0],Xe=kt&&(Ye>Re||Ye<Oe)&&E.call(this);Xe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],yt,Lt,null).clip().discardPath()),this.pdf.text(ot,un.x,un.y,{angle:k.angle,align:P,renderingMode:k.renderingMode}),Xe&&this.pdf.restoreGraphicsState()}}else nt.y<ft&&(this.ctx.prevPageLastElemOffset+=ft-nt.y);k.scale>=.01&&(this.pdf.setFontSize(ne),this.lineWidth=ae)}}else k.scale>=.01&&(ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ne*k.scale),ae=this.lineWidth,this.lineWidth=ae*k.scale),this.pdf.text(k.text,Ue.x+this.posX,Ue.y+this.posY,{angle:k.angle,align:P,renderingMode:k.renderingMode,maxWidth:k.maxWidth}),k.scale>=.01&&(this.pdf.setFontSize(ne),this.lineWidth=ae)},re=function(k,P,K,ne){K=K||0,ne=ne||0,this.pdf.internal.out(n(k+K)+" "+a(P+ne)+" l")},ie=function(k,P,K){return this.pdf.lines(k,P,K,null,null)},we=function(k,P,K,ne,ae,de,Ne,Ae){this.pdf.internal.out([e(l(K+k)),e(o(ne+P)),e(l(ae+k)),e(o(de+P)),e(l(Ne+k)),e(o(Ae+P)),"c"].join(" "))},Y=function(k,P,K,ne){for(var ae=2*Math.PI,de=Math.PI/2;P>K;)P-=ae;var Ne=Math.abs(K-P);Ne<ae&&ne&&(Ne=ae-Ne);for(var Ae=[],Ue=ne?-1:1,We=P;Ne>1e-5;){var Qe=We+Ue*Math.min(Ne,de);Ae.push(le.call(this,k,We,Qe)),Ne-=Math.abs(Qe-We),We=Qe}return Ae},le=function(k,P,K){var ne=(K-P)/2,ae=k*Math.cos(ne),de=k*Math.sin(ne),Ne=ae,Ae=-de,Ue=Ne*Ne+Ae*Ae,We=Ue+Ne*ae+Ae*de,Qe=4/3*(Math.sqrt(2*Ue*We)-We)/(Ne*de-Ae*ae),et=Ne-Qe*Ae,xe=Ae+Qe*Ne,B=et,je=-xe,Ke=ne+P,Re=Math.cos(Ke),Oe=Math.sin(Ke);return{x1:k*Math.cos(P),y1:k*Math.sin(P),x2:et*Re-xe*Oe,y2:et*Oe+xe*Re,x3:B*Re-je*Oe,y3:B*Oe+je*Re,x4:k*Math.cos(K),y4:k*Math.sin(K)}},ue=function(k){return 180*k/Math.PI},Se=function(k,P,K,ne,ae,de){var Ne=k+.5*(K-k),Ae=P+.5*(ne-P),Ue=ae+.5*(K-ae),We=de+.5*(ne-de),Qe=Math.min(k,ae,Ne,Ue),et=Math.max(k,ae,Ne,Ue),xe=Math.min(P,de,Ae,We),B=Math.max(P,de,Ae,We);return new c(Qe,xe,et-Qe,B-xe)},ze=function(k,P,K,ne,ae,de,Ne,Ae){var Ue,We,Qe,et,xe,B,je,Ke,Re,Oe,Ye,$e,st,ft,Lt=K-k,Tt=ne-P,yt=ae-K,Nt=de-ne,Mt=Ne-ae,nt=Ae-de;for(We=0;We<41;We++)Re=(je=(Qe=k+(Ue=We/40)*Lt)+Ue*((xe=K+Ue*yt)-Qe))+Ue*(xe+Ue*(ae+Ue*Mt-xe)-je),Oe=(Ke=(et=P+Ue*Tt)+Ue*((B=ne+Ue*Nt)-et))+Ue*(B+Ue*(de+Ue*nt-B)-Ke),We==0?(Ye=Re,$e=Oe,st=Re,ft=Oe):(Ye=Math.min(Ye,Re),$e=Math.min($e,Oe),st=Math.max(st,Re),ft=Math.max(ft,Oe));return new c(Math.round(Ye),Math.round($e),Math.round(st-Ye),Math.round(ft-$e))},W=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var k,P,K=(k=this.ctx.lineDash,P=this.ctx.lineDashOffset,JSON.stringify({lineDash:k,lineDashOffset:P}));this.prevLineDash!==K&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=K)}}})(wt.API),(function(r){var e=function(f){var c,h,p,v,x,A,y,L,E,j;for(h=[],p=0,v=(f+=c="\0\0\0\0".slice(f.length%4||4)).length;v>p;p+=4)(x=(f.charCodeAt(p)<<24)+(f.charCodeAt(p+1)<<16)+(f.charCodeAt(p+2)<<8)+f.charCodeAt(p+3))!==0?(A=(x=((x=((x=((x=(x-(j=x%85))/85)-(E=x%85))/85)-(L=x%85))/85)-(y=x%85))/85)%85,h.push(A+33,y+33,L+33,E+33,j+33)):h.push(122);return(function(O,M){for(var F=M;F>0;F--)O.pop()})(h,c.length),String.fromCharCode.apply(String,h)+"~>"},n=function(f){var c,h,p,v,x,A=String,y="length",L=255,E="charCodeAt",j="slice",O="replace";for(f[j](-2),f=f[j](0,-2)[O](/\s/g,"")[O]("z","!!!!!"),p=[],v=0,x=(f+=c="uuuuu"[j](f[y]%5||5))[y];x>v;v+=5)h=52200625*(f[E](v)-33)+614125*(f[E](v+1)-33)+7225*(f[E](v+2)-33)+85*(f[E](v+3)-33)+(f[E](v+4)-33),p.push(L&h>>24,L&h>>16,L&h>>8,L&h);return(function(M,F){for(var G=F;G>0;G--)M.pop()})(p,c[y]),A.fromCharCode.apply(A,p)},a=function(f){return f.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">"},l=function(f){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((f=f.replace(/\s/g,"")).indexOf(">")!==-1&&(f=f.substr(0,f.indexOf(">"))),f.length%2&&(f+="0"),c.test(f)===!1)return"";for(var h="",p=0;p<f.length;p+=2)h+=String.fromCharCode("0x"+(f[p]+f[p+1]));return h},o=function(f){for(var c=new Uint8Array(f.length),h=f.length;h--;)c[h]=f.charCodeAt(h);return(c=wp(c)).reduce(function(p,v){return p+String.fromCharCode(v)},"")};r.processDataByFilters=function(f,c){var h=0,p=f||"",v=[];for(typeof(c=c||[])=="string"&&(c=[c]),h=0;h<c.length;h+=1)switch(c[h]){case"ASCII85Decode":case"/ASCII85Decode":p=n(p),v.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":p=e(p),v.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":p=l(p),v.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":p=a(p),v.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":p=o(p),v.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[h]+'" is not implemented')}return{data:p,reverseChain:v.reverse().join(" ")}}})(wt.API),(function(r){r.loadFile=function(e,n,a){return(function(l,o,f){o=o!==!1,f=typeof f=="function"?f:function(){};var c=void 0;try{c=(function(h,p,v){var x=new XMLHttpRequest,A=0,y=function(L){var E=L.length,j=[],O=String.fromCharCode;for(A=0;A<E;A+=1)j.push(O(255&L.charCodeAt(A)));return j.join("")};if(x.open("GET",h,!p),x.overrideMimeType("text/plain; charset=x-user-defined"),p===!1&&(x.onload=function(){x.status===200?v(y(this.responseText)):v(void 0)}),x.send(null),p&&x.status===200)return y(x.responseText)})(l,o,f)}catch{}return c})(e,n,a)},r.allowFsRead=void 0,r.loadImageFile=r.loadFile})(wt.API),(function(r){function e(){return(It.html2canvas?Promise.resolve(It.html2canvas):z0(()=>import("./html2canvas.esm-DXEQVQnt.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function n(){return(It.DOMPurify?Promise.resolve(It.DOMPurify):z0(()=>import("./purify.es-Bzr520pe.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var a=function(c){var h=En(c);return h==="undefined"?"undefined":h==="string"||c instanceof String?"string":h==="number"||c instanceof Number?"number":h==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":h==="object"?"object":"unknown"},l=function(c,h){var p=document.createElement(c);for(var v in h.className&&(p.className=h.className),h.innerHTML&&h.dompurify&&(p.innerHTML=h.dompurify.sanitize(h.innerHTML)),h.style)p.style[v]=h.style[v];return p},o=function c(h,p){for(var v=h.nodeType===3?document.createTextNode(h.nodeValue):h.cloneNode(!1),x=h.firstChild;x;x=x.nextSibling)p!==!0&&x.nodeType===1&&x.nodeName==="SCRIPT"||v.appendChild(c(x,p));return h.nodeType===1&&(h.nodeName==="CANVAS"?(v.width=h.width,v.height=h.height,v.getContext("2d").drawImage(h,0,0)):h.nodeName!=="TEXTAREA"&&h.nodeName!=="SELECT"||(v.value=h.value),v.addEventListener("load",function(){v.scrollTop=h.scrollTop,v.scrollLeft=h.scrollLeft},!0)),v},f=function c(h){var p=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),v=c.convert(Promise.resolve(),p);return(v=v.setProgress(1,c,1,[c])).set(h)};(f.prototype=Object.create(Promise.prototype)).constructor=f,f.convert=function(c,h){return c.__proto__=h||f.prototype,c},f.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},f.prototype.from=function(c,h){return this.then(function(){switch(h=h||(function(p){switch(a(p)){case"string":return"string";case"element":return p.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(c),h){case"string":return this.then(n).then(function(p){return this.set({src:l("div",{innerHTML:c,dompurify:p})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},f.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},f.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},h=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);h.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=l("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=l("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(h),this.prop.container.firstChild.appendChild(l("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},f.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(h){var p=Object.assign({},this.opt.html2canvas);return delete p.onrendered,h(this.prop.container,p)}).then(function(h){(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},f.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(h){var p=this.opt.jsPDF,v=this.opt.fontFaces,x=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,A=Object.assign({async:!0,allowTaint:!0,scale:x,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete A.onrendered,p.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,p.context2d.posX=this.opt.x,p.context2d.posY=this.opt.y,p.context2d.margin=this.opt.margin,p.context2d.fontFaces=v,v)for(var y=0;y<v.length;++y){var L=v[y],E=L.src.find(function(j){return j.format==="truetype"});E&&p.addFont(E.url,L.ref.name,L.ref.style)}return A.windowHeight=A.windowHeight||0,A.windowHeight=A.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):A.windowHeight,p.context2d.save(!0),h(this.prop.container,A)}).then(function(h){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},f.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},f.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},f.prototype.output=function(c,h,p){return(p=p||"pdf").toLowerCase()==="img"||p.toLowerCase()==="image"?this.outputImg(c,h):this.outputPdf(c,h)},f.prototype.outputPdf=function(c,h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,h)})},f.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},f.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},f.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},f.prototype.set=function(c){if(a(c)!=="object")return this;var h=Object.keys(c||{}).map(function(p){if(p in f.template.prop)return function(){this.prop[p]=c[p]};switch(p){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[p]=c[p]}}},this);return this.then(function(){return this.thenList(h)})},f.prototype.get=function(c,h){return this.then(function(){var p=c in f.template.prop?this.prop[c]:this.opt[c];return h?h(p):p})},f.prototype.setMargin=function(c){return this.then(function(){switch(a(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},f.prototype.setPageSize=function(c){function h(p,v){return Math.floor(p*v/72*96)}return this.then(function(){(c=c||wt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:h(c.inner.width,c.k),height:h(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},f.prototype.setProgress=function(c,h,p,v){return c!=null&&(this.progress.val=c),h!=null&&(this.progress.state=h),p!=null&&(this.progress.n=p),v!=null&&(this.progress.stack=v),this.progress.ratio=this.progress.val/this.progress.state,this},f.prototype.updateProgress=function(c,h,p,v){return this.setProgress(c?this.progress.val+c:null,h||null,p?this.progress.n+p:null,v?this.progress.stack.concat(v):null)},f.prototype.then=function(c,h){var p=this;return this.thenCore(c,h,function(v,x){return p.updateProgress(null,null,1,[v]),Promise.prototype.then.call(this,function(A){return p.updateProgress(null,v),A}).then(v,x).then(function(A){return p.updateProgress(1),A})})},f.prototype.thenCore=function(c,h,p){p=p||Promise.prototype.then;var v=this;c&&(c=c.bind(v)),h&&(h=h.bind(v));var x=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?v:f.convert(Object.assign({},v),Promise.prototype),A=p.call(x,c,h);return f.convert(A,v.__proto__)},f.prototype.thenExternal=function(c,h){return Promise.prototype.then.call(this,c,h)},f.prototype.thenList=function(c){var h=this;return c.forEach(function(p){h=h.thenCore(p)}),h},f.prototype.catch=function(c){c&&(c=c.bind(this));var h=Promise.prototype.catch.call(this,c);return f.convert(h,this)},f.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},f.prototype.error=function(c){return this.then(function(){throw new Error(c)})},f.prototype.using=f.prototype.set,f.prototype.saveAs=f.prototype.save,f.prototype.export=f.prototype.output,f.prototype.run=f.prototype.then,wt.getPageSize=function(c,h,p){if(En(c)==="object"){var v=c;c=v.orientation,h=v.unit||h,p=v.format||p}h=h||"mm",p=p||"a4",c=(""+(c||"P")).toLowerCase();var x,A=(""+p).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(h){case"pt":x=1;break;case"mm":x=72/25.4;break;case"cm":x=72/2.54;break;case"in":x=72;break;case"px":x=.75;break;case"pc":case"em":x=12;break;case"ex":x=6;break;default:throw"Invalid unit: "+h}var L,E=0,j=0;if(y.hasOwnProperty(A))E=y[A][1]/x,j=y[A][0]/x;else try{E=p[1],j=p[0]}catch{throw new Error("Invalid format: "+p)}if(c==="p"||c==="portrait")c="p",j>E&&(L=j,j=E,E=L);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",E>j&&(L=j,j=E,E=L)}return{width:j,height:E,unit:h,k:x,orientation:c}},r.html=function(c,h){(h=h||{}).callback=h.callback||function(){},h.html2canvas=h.html2canvas||{},h.html2canvas.canvas=h.html2canvas.canvas||this.canvas,h.jsPDF=h.jsPDF||this,h.fontFaces=h.fontFaces?h.fontFaces.map(ep):null;var p=new f(h);return h.worker?p:p.from(c).doCallback()}})(wt.API),wt.API.addJS=function(r){var e,n,a=r;return this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(e+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),n=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+a+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){e!==void 0&&n!==void 0&&this.internal.out("/Names <</JavaScript "+e+" 0 R>>")}),this},(function(r){var e;r.events.push(["postPutResources",function(){var n=this,a=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var l=n.outline.render().split(/\r\n/),o=0;o<l.length;o++){var f=l[o],c=a.exec(f);if(c!=null){var h=c[1];n.internal.newObjectDeferredBegin(h,!1)}n.internal.write(f)}if(this.outline.createNamedDestinations){var p=this.internal.pages.length,v=[];for(o=0;o<p;o++){var x=n.internal.newObject();v.push(x);var A=n.internal.getPageInfo(o+1);n.internal.write("<< /D["+A.objId+" 0 R /XYZ null null null]>> endobj")}var y=n.internal.newObject();for(n.internal.write("<< /Names [ "),o=0;o<v.length;o++)n.internal.write("(page_"+(o+1)+")"+v[o]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+y+" 0 R"),n.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),r.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(a,l,o){var f={title:l,options:o,children:[]};return a==null&&(a=this.root),a.children.push(f),f},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(a){a.id=n.internal.newObjectDeferred();for(var l=0;l<a.children.length;l++)this.genIds_r(a.children[l])},n.outline.renderRoot=function(a){this.objStart(a),this.line("/Type /Outlines"),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1]))),this.line("/Count "+this.count_r({count:0},a)),this.objEnd()},n.outline.renderItems=function(a){for(var l=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<a.children.length;o++){var f=a.children[o];this.objStart(f),this.line("/Title "+this.makeString(f.title)),this.line("/Parent "+this.makeRef(a)),o>0&&this.line("/Prev "+this.makeRef(a.children[o-1])),o<a.children.length-1&&this.line("/Next "+this.makeRef(a.children[o+1])),f.children.length>0&&(this.line("/First "+this.makeRef(f.children[0])),this.line("/Last "+this.makeRef(f.children[f.children.length-1])));var c=this.count=this.count_r({count:0},f);if(c>0&&this.line("/Count "+c),f.options&&f.options.pageNumber){var h=n.internal.getPageInfo(f.options.pageNumber);this.line("/Dest ["+h.objId+" 0 R /XYZ 0 "+l(0)+" 0]")}this.objEnd()}for(var p=0;p<a.children.length;p++)this.renderItems(a.children[p])},n.outline.line=function(a){this.ctx.val+=a+`\r
`},n.outline.makeRef=function(a){return a.id+" 0 R"},n.outline.makeString=function(a){return"("+n.internal.pdfEscape(a)+")"},n.outline.objStart=function(a){this.ctx.val+=`\r
`+a.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(a,l){for(var o=0;o<l.children.length;o++)a.count++,this.count_r(a,l.children[o]);return a.count}}])})(wt.API),(function(r){var e=[192,193,194,195,196,197,198,199];r.processJPEG=function(n,a,l,o,f,c){var h,p=this.decode.DCT_DECODE,v=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=f||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,h=(function(x){for(var A,y=256*x.charCodeAt(4)+x.charCodeAt(5),L=x.length,E={width:0,height:0,numcomponents:1},j=4;j<L;j+=2){if(j+=y,e.indexOf(x.charCodeAt(j+1))!==-1){A=256*x.charCodeAt(j+5)+x.charCodeAt(j+6),E={width:256*x.charCodeAt(j+7)+x.charCodeAt(j+8),height:A,numcomponents:x.charCodeAt(j+9)};break}y=256*x.charCodeAt(j+2)+x.charCodeAt(j+3)}return E})(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),h.numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}v={data:n,width:h.width,height:h.height,colorSpace:c,bitsPerComponent:8,filter:p,index:a,alias:l}}return v}})(wt.API),wt.API.processPNG=function(r,e,n,a){if(this.__addimage__.isArrayBuffer(r)&&(r=new Uint8Array(r)),this.__addimage__.isArrayBufferView(r)){var l,o=IS(r,{checkCrc:!0}),f=o.width,c=o.height,h=o.channels,p=o.palette,v=o.depth;l=p&&h===1?(function(ee){for(var $=ee.width,he=ee.height,C=ee.data,q=ee.palette,re=ee.depth,ie=!1,we=[],Y=[],le=void 0,ue=!1,Se=0,ze=0;ze<q.length;ze++){var W=n2(q[ze],4),k=W[0],P=W[1],K=W[2],ne=W[3];we.push(k,P,K),ne!=null&&(ne===0?(Se++,Y.length<1&&Y.push(ze)):ne<255&&(ue=!0))}if(ue||Se>1){ie=!0,Y=void 0;var ae=$*he;le=new Uint8Array(ae);for(var de=new DataView(C.buffer),Ne=0;Ne<ae;Ne++){var Ae=np(de,Ne,re),Ue=n2(q[Ae],4)[3];le[Ne]=Ue}}else Se===0&&(Y=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:ie?8:void 0,colorBytes:C,alphaBytes:le,needSMask:ie,palette:we,mask:Y}})(o):h===2||h===4?(function(ee){for(var $=ee.data,he=ee.width,C=ee.height,q=ee.channels,re=ee.depth,ie=q===2?"DeviceGray":"DeviceRGB",we=q-1,Y=he*C,le=we,ue=Y*le,Se=1*Y,ze=Math.ceil(ue*re/8),W=Math.ceil(Se*re/8),k=new Uint8Array(ze),P=new Uint8Array(W),K=new DataView($.buffer),ne=new DataView(k.buffer),ae=new DataView(P.buffer),de=!1,Ne=0;Ne<Y;Ne++){for(var Ae=Ne*q,Ue=0;Ue<le;Ue++)a5(ne,np(K,Ae+Ue,re),Ne*le+Ue,re);var We=np(K,Ae+le,re);We<(1<<re)-1&&(de=!0),a5(ae,We,1*Ne,re)}return{colorSpace:ie,colorsPerPixel:we,sMaskBitsPerComponent:de?re:void 0,colorBytes:k,alphaBytes:P,needSMask:de}})(o):(function(ee){var $=ee.data,he=ee.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:he,colorsPerPixel:he==="DeviceGray"?1:3,colorBytes:$ instanceof Uint16Array?(function(C){for(var q=C.length,re=new Uint8Array(2*q),ie=new DataView(re.buffer,re.byteOffset,re.byteLength),we=0;we<q;we++)ie.setUint16(2*we,C[we],!1);return re})($):$,needSMask:!1}})(o);var x,A,y,L=l,E=L.colorSpace,j=L.colorsPerPixel,O=L.sMaskBitsPerComponent,M=L.colorBytes,F=L.alphaBytes,G=L.needSMask,se=L.palette,me=L.mask,Q=null;return a!==wt.API.image_compression.NONE&&typeof wp=="function"?(Q=(function(ee){var $;switch(ee){case wt.API.image_compression.FAST:$=11;break;case wt.API.image_compression.MEDIUM:$=13;break;case wt.API.image_compression.SLOW:$=14;break;default:$=12}return $})(a),x=this.decode.FLATE_DECODE,A="/Predictor ".concat(Q," /Colors ").concat(j," /BitsPerComponent ").concat(v," /Columns ").concat(f),r=e5(M,Math.ceil(f*j*v/8),j,v,a),G&&(y=e5(F,Math.ceil(f*O/8),1,O,a))):(x=void 0,A=void 0,r=M,G&&(y=F)),(this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r))&&(r=this.__addimage__.arrayBufferToBinaryString(r)),(y&&this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y))&&(y=this.__addimage__.arrayBufferToBinaryString(y)),{alias:n,data:r,index:e,filter:x,decodeParameters:A,transparency:me,palette:se,sMask:y,predictor:Q,width:f,height:c,bitsPerComponent:v,sMaskBitsPerComponent:O,colorSpace:E}}},(function(r){r.processGIF89A=function(e,n,a,l){var o=new o6(e),f=o.width,c=o.height,h=[];o.decodeAndBlitFrameRGBA(0,h);var p={data:h,width:f,height:c},v=new rp(100).encode(p,100);return r.processJPEG.call(this,v,n,a,l)},r.processGIF87A=r.processGIF89A})(wt.API),fs.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var e=0;e<r;e++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:l,green:a,blue:n,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},fs.prototype.parseBGR=function(){this.pos=this.offset;var r="bit"+this.bitPP,e=this.width*this.height*4;if(e>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(e);try{this[r]()}catch(n){zn.log("bit decode error:"+n)}},fs.prototype.bit1=function(){var r,e=Math.ceil(this.width/8),n=e%4;for(r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,l=0;l<e;l++)for(var o=this.datav.getUint8(this.pos++,!0),f=a*this.width*4+8*l*4,c=0;c<8&&8*l+c<this.width;c++){var h=this.palette[o>>7-c&1];this.data[f+4*c]=h.blue,this.data[f+4*c+1]=h.green,this.data[f+4*c+2]=h.red,this.data[f+4*c+3]=255}n!==0&&(this.pos+=4-n)}},fs.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),e=r%4,n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,l=0;l<r;l++){var o=this.datav.getUint8(this.pos++,!0),f=a*this.width*4+2*l*4,c=o>>4,h=15&o,p=this.palette[c];if(this.data[f]=p.blue,this.data[f+1]=p.green,this.data[f+2]=p.red,this.data[f+3]=255,2*l+1>=this.width)break;p=this.palette[h],this.data[f+4]=p.blue,this.data[f+4+1]=p.green,this.data[f+4+2]=p.red,this.data[f+4+3]=255}e!==0&&(this.pos+=4-e)}},fs.prototype.bit8=function(){for(var r=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<this.width;a++){var l=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+4*a;if(l<this.palette.length){var f=this.palette[l];this.data[o]=f.red,this.data[o+1]=f.green,this.data[o+2]=f.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}r!==0&&(this.pos+=4-r)}},fs.prototype.bit15=function(){for(var r=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,l=0;l<this.width;l++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var f=(o&e)/e*255|0,c=(o>>5&e)/e*255|0,h=(o>>10&e)/e*255|0,p=o>>15?255:0,v=a*this.width*4+4*l;this.data[v]=h,this.data[v+1]=c,this.data[v+2]=f,this.data[v+3]=p}this.pos+=r}},fs.prototype.bit16=function(){for(var r=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),a=this.height-1;a>=0;a--){for(var l=this.bottom_up?a:this.height-1-a,o=0;o<this.width;o++){var f=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(f&e)/e*255|0,h=(f>>5&n)/n*255|0,p=(f>>11)/e*255|0,v=l*this.width*4+4*o;this.data[v]=p,this.data[v+1]=h,this.data[v+2]=c,this.data[v+3]=255}this.pos+=r}},fs.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var e=this.bottom_up?r:this.height-1-r,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),f=e*this.width*4+4*n;this.data[f]=o,this.data[f+1]=l,this.data[f+2]=a,this.data[f+3]=255}this.pos+=this.width%4}},fs.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var e=this.bottom_up?r:this.height-1-r,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),f=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*n;this.data[c]=o,this.data[c+1]=l,this.data[c+2]=a,this.data[c+3]=f}},fs.prototype.getData=function(){return this.data},(function(r){r.processBMP=function(e,n,a,l){var o=new fs(e,!1),f=o.width,c=o.height,h={data:o.getData(),width:f,height:c},p=new rp(100).encode(h,100);return r.processJPEG.call(this,p,n,a,l)}})(wt.API),o5.prototype.getData=function(){return this.data},(function(r){r.processWEBP=function(e,n,a,l){var o=new o5(e),f=o.width,c=o.height,h={data:o.getData(),width:f,height:c},p=new rp(100).encode(h,100);return r.processJPEG.call(this,p,n,a,l)}})(wt.API),wt.API.processRGBA=function(r,e,n){for(var a=r.data,l=a.length,o=new Uint8Array(l/4*3),f=new Uint8Array(l/4),c=0,h=0,p=0;p<l;p+=4){var v=a[p],x=a[p+1],A=a[p+2],y=a[p+3];o[c++]=v,o[c++]=x,o[c++]=A,f[h++]=y}var L=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(f),data:L,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},wt.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ac=wt.API,Bh=ac.getCharWidthsArray=function(r,e){var n,a,l=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),f=e.charSpace||this.internal.getCharSpace(),c=e.widths?e.widths:l.metadata.Unicode.widths,h=c.fof?c.fof:1,p=e.kerning?e.kerning:l.metadata.Unicode.kerning,v=p.fof?p.fof:1,x=e.doKerning!==!1,A=0,y=r.length,L=0,E=c[0]||h,j=[];for(n=0;n<y;n++)a=r.charCodeAt(n),typeof l.metadata.widthOfString=="function"?j.push((l.metadata.widthOfGlyph(l.metadata.characterToGlyph(a))+f*(1e3/o)||0)/1e3):(A=x&&En(p[a])==="object"&&!isNaN(parseInt(p[a][L],10))?p[a][L]/v:0,j.push((c[a]||E)/h+A)),L=a;return j},X2=ac.getStringUnitWidth=function(r,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),a=e.font||this.internal.getFont(),l=e.charSpace||this.internal.getCharSpace();return ac.processArabic&&(r=ac.processArabic(r)),typeof a.metadata.widthOfString=="function"?a.metadata.widthOfString(r,n,l)/n:Bh.apply(this,arguments).reduce(function(o,f){return o+f},0)},Z2=function(r,e,n,a){for(var l=[],o=0,f=r.length,c=0;o!==f&&c+e[o]<n;)c+=e[o],o++;l.push(r.slice(0,o));var h=o;for(c=0;o!==f;)c+e[o]>a&&(l.push(r.slice(h,o)),c=0,h=o),c+=e[o],o++;return h!==o&&l.push(r.slice(h,o)),l},Q2=function(r,e,n){n||(n={});var a,l,o,f,c,h,p,v=[],x=[v],A=n.textIndent||0,y=0,L=0,E=r.split(" "),j=Bh.apply(this,[" ",n])[0];if(h=n.lineIndent===-1?E[0].length+2:n.lineIndent||0){var O=Array(h).join(" "),M=[];E.map(function(G){(G=G.split(/\s*\n/)).length>1?M=M.concat(G.map(function(se,me){return(me&&se.length?`
`:"")+se})):M.push(G[0])}),E=M,h=X2.apply(this,[O,n])}for(o=0,f=E.length;o<f;o++){var F=0;if(a=E[o],h&&a[0]==`
`&&(a=a.substr(1),F=1),A+y+(L=(l=Bh.apply(this,[a,n])).reduce(function(G,se){return G+se},0))>e||F){if(L>e){for(c=Z2.apply(this,[a,l,e-(A+y),e]),v.push(c.shift()),v=[c.pop()];c.length;)x.push([c.shift()]);L=l.slice(a.length-(v[0]?v[0].length:0)).reduce(function(G,se){return G+se},0)}else v=[a];x.push(v),A=L+h,y=j}else v.push(a),A+=y+L,y=j}return p=h?function(G,se){return(se?O:"")+G.join(" ")}:function(G){return G.join(" ")},x.map(p)},ac.splitTextToSize=function(r,e,n){var a,l=(n=n||{}).fontSize||this.internal.getFontSize(),o=(function(v){if(v.widths&&v.kerning)return{widths:v.widths,kerning:v.kerning};var x=this.internal.getFont(v.fontName,v.fontStyle),A="Unicode";return x.metadata[A]?{widths:x.metadata[A].widths||{0:1},kerning:x.metadata[A].kerning||{}}:{font:x.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);a=Array.isArray(r)?r:String(r).split(/\r?\n/);var f=1*this.internal.scaleFactor*e/l;o.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/l:0,o.lineIndent=n.lineIndent;var c,h,p=[];for(c=0,h=a.length;c<h;c++)p=p.concat(Q2.apply(this,[a[c],f,o]));return p},(function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",a={},l={},o=0;o<16;o++)a[n[o]]=e[o],l[e[o]]=n[o];var f=function(A){return"0x"+parseInt(A,10).toString(16)},c=r.__fontmetrics__.compress=function(A){var y,L,E,j,O=["{"];for(var M in A){if(y=A[M],isNaN(parseInt(M,10))?L="'"+M+"'":(M=parseInt(M,10),L=(L=f(M).slice(2)).slice(0,-1)+l[L.slice(-1)]),typeof y=="number")y<0?(E=f(y).slice(3),j="-"):(E=f(y).slice(2),j=""),E=j+E.slice(0,-1)+l[E.slice(-1)];else{if(En(y)!=="object")throw new Error("Don't know what to do with value type "+En(y)+".");E=c(y)}O.push(L+E)}return O.push("}"),O.join("")},h=r.__fontmetrics__.uncompress=function(A){if(typeof A!="string")throw new Error("Invalid argument passed to uncompress.");for(var y,L,E,j,O={},M=1,F=O,G=[],se="",me="",Q=A.length-1,ee=1;ee<Q;ee+=1)(j=A[ee])=="'"?y?(E=y.join(""),y=void 0):y=[]:y?y.push(j):j=="{"?(G.push([F,E]),F={},E=void 0):j=="}"?((L=G.pop())[0][L[1]]=F,E=void 0,F=L[0]):j=="-"?M=-1:E===void 0?a.hasOwnProperty(j)?(se+=a[j],E=parseInt(se,16)*M,M=1,se=""):se+=j:a.hasOwnProperty(j)?(me+=a[j],F[E]=parseInt(me,16)*M,M=1,E=void 0,me=""):me+=j;return O},p={codePages:["WinAnsiEncoding"],WinAnsiEncoding:h("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},v={Unicode:{Courier:p,"Courier-Bold":p,"Courier-BoldOblique":p,"Courier-Oblique":p,Helvetica:p,"Helvetica-Bold":p,"Helvetica-BoldOblique":p,"Helvetica-Oblique":p,"Times-Roman":p,"Times-Bold":p,"Times-BoldItalic":p,"Times-Italic":p}},x={Unicode:{"Courier-Oblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":h("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":h("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:h("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:h("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":h("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":h("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(A){var y=A.font,L=x.Unicode[y.postScriptName];L&&(y.metadata.Unicode={},y.metadata.Unicode.widths=L.widths,y.metadata.Unicode.kerning=L.kerning);var E=v.Unicode[y.postScriptName];E&&(y.metadata.Unicode.encoding=E,y.encoding=E.codePages[0])}])})(wt.API),(function(r){var e=function(n){for(var a=n.length,l=new Uint8Array(a),o=0;o<a;o++)l[o]=n.charCodeAt(o);return l};r.API.events.push(["addFont",function(n){var a=void 0,l=n.font,o=n.instance;if(!l.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+l.postScriptName+"').");if(typeof(a=o.existsFileInVFS(l.postScriptName)===!1?o.loadFile(l.postScriptName):o.getFileFromVFS(l.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+l.postScriptName+"').");(function(f,c){c=/^\x00\x01\x00\x00/.test(c)?e(c):e(Ph(c)),f.metadata=r.API.TTFFont.open(c),f.metadata.Unicode=f.metadata.Unicode||{encoding:{},kerning:{},widths:[]},f.metadata.glyIdsUsed=[0]})(l,a)}}])})(wt),wt.API.addSvgAsImage=function(r,e,n,a,l,o,f,c){if(isNaN(e)||isNaN(n))throw zn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(l))throw zn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=a,h.height=l;var p=h.getContext("2d");p.fillStyle="#fff",p.fillRect(0,0,h.width,h.height);var v={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},x=this;return(It.canvg?Promise.resolve(It.canvg):z0(()=>import("./index.es-BqoxWPQk.js"),[])).catch(function(A){return Promise.reject(new Error("Could not load canvg: "+A))}).then(function(A){return A.default?A.default:A}).then(function(A){return A.fromString(p,r,v)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(A){return A.render(v)}).then(function(){x.addImage(h.toDataURL("image/jpeg",1),e,n,a,l,f,c)})},wt.API.putTotalPages=function(r){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(r,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var a=1;a<=this.internal.getNumberOfPages();a++)for(var l=0;l<this.internal.pages[a].length;l++)this.internal.pages[a][l]=this.internal.pages[a][l].replace(e,n);return this},wt.API.viewerPreferences=function(r,e){var n;r=r||{},e=e||!1;var a,l,o,f={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(f),h=[],p=0,v=0,x=0;function A(L,E){var j,O=!1;for(j=0;j<L.length;j+=1)L[j]===E&&(O=!0);return O}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(f)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,r==="reset"||e===!0){var y=c.length;for(x=0;x<y;x+=1)n[c[x]].value=n[c[x]].defaultValue,n[c[x]].explicitSet=!1}if(En(r)==="object"){for(l in r)if(o=r[l],A(c,l)&&o!==void 0){if(n[l].type==="boolean"&&typeof o=="boolean")n[l].value=o;else if(n[l].type==="name"&&A(n[l].valueSet,o))n[l].value=o;else if(n[l].type==="integer"&&Number.isInteger(o))n[l].value=o;else if(n[l].type==="array"){for(p=0;p<o.length;p+=1)if(a=!0,o[p].length===1&&typeof o[p][0]=="number")h.push(String(o[p]-1));else if(o[p].length>1){for(v=0;v<o[p].length;v+=1)typeof o[p][v]!="number"&&(a=!1);a===!0&&h.push([o[p][0]-1,o[p][1]-1].join(" "))}n[l].value="["+h.join(" ")+"]"}else n[l].value=n[l].defaultValue;n[l].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var L,E=[];for(L in n)n[L].explicitSet===!0&&(n[L].type==="name"?E.push("/"+L+" /"+n[L].value):E.push("/"+L+" "+n[L].value));E.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+E.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},wt.API.addMetadata=function(r,e){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceUri:e??"http://jspdf.default.namespaceuri/",rawXml:typeof e=="boolean"&&e},this.internal.events.subscribe("putCatalog",u6),this.internal.events.subscribe("postPutResources",l6)),this},(function(r){var e=r.API,n=e.pdfEscape16=function(o,f){for(var c,h=f.metadata.Unicode.widths,p=["","0","00","000","0000"],v=[""],x=0,A=o.length;x<A;++x){if(c=f.metadata.characterToGlyph(o.charCodeAt(x)),f.metadata.glyIdsUsed.push(c),f.metadata.toUnicode[c]=o.charCodeAt(x),h.indexOf(c)==-1&&(h.push(c),h.push([parseInt(f.metadata.widthOfGlyph(c),10)])),c=="0")return v.join("");c=c.toString(16),v.push(p[4-c.length],c)}return v.join("")},a=function(o){var f,c,h,p,v,x,A;for(v=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,h=[],x=0,A=(c=Object.keys(o).sort(function(y,L){return y-L})).length;x<A;x++)f=c[x],h.length>=100&&(v+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar`,h=[]),o[f]!==void 0&&o[f]!==null&&typeof o[f].toString=="function"&&(p=("0000"+o[f].toString(16)).slice(-4),f=("0000"+(+f).toString(16)).slice(-4),h.push("<"+f+"><"+p+">"));return h.length&&(v+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar
`),v+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(f){var c=f.font,h=f.out,p=f.newObject,v=f.putStream;if(c.metadata instanceof r.API.TTFFont&&c.encoding==="Identity-H"){for(var x=c.metadata.Unicode.widths,A=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),y="",L=0;L<A.length;L++)y+=String.fromCharCode(A[L]);var E=p();v({data:y,addLength1:!0,objectId:E}),h("endobj");var j=p();v({data:a(c.metadata.toUnicode),addLength1:!0,objectId:j}),h("endobj");var O=p();h("<<"),h("/Type /FontDescriptor"),h("/FontName /"+fc(c.fontName)),h("/FontFile2 "+E+" 0 R"),h("/FontBBox "+r.API.PDFObject.convert(c.metadata.bbox)),h("/Flags "+c.metadata.flags),h("/StemV "+c.metadata.stemV),h("/ItalicAngle "+c.metadata.italicAngle),h("/Ascent "+c.metadata.ascender),h("/Descent "+c.metadata.decender),h("/CapHeight "+c.metadata.capHeight),h(">>"),h("endobj");var M=p();h("<<"),h("/Type /Font"),h("/BaseFont /"+fc(c.fontName)),h("/FontDescriptor "+O+" 0 R"),h("/W "+r.API.PDFObject.convert(x)),h("/CIDToGIDMap /Identity"),h("/DW 1000"),h("/Subtype /CIDFontType2"),h("/CIDSystemInfo"),h("<<"),h("/Supplement 0"),h("/Registry (Adobe)"),h("/Ordering ("+c.encoding+")"),h(">>"),h(">>"),h("endobj"),c.objectNumber=p(),h("<<"),h("/Type /Font"),h("/Subtype /Type0"),h("/ToUnicode "+j+" 0 R"),h("/BaseFont /"+fc(c.fontName)),h("/Encoding /"+c.encoding),h("/DescendantFonts ["+M+" 0 R]"),h(">>"),h("endobj"),c.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(f){var c=f.font,h=f.out,p=f.newObject,v=f.putStream;if(c.metadata instanceof r.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var x=c.metadata.rawData,A="",y=0;y<x.length;y++)A+=String.fromCharCode(x[y]);var L=p();v({data:A,addLength1:!0,objectId:L}),h("endobj");var E=p();v({data:a(c.metadata.toUnicode),addLength1:!0,objectId:E}),h("endobj");var j=p();h("<<"),h("/Descent "+c.metadata.decender),h("/CapHeight "+c.metadata.capHeight),h("/StemV "+c.metadata.stemV),h("/Type /FontDescriptor"),h("/FontFile2 "+L+" 0 R"),h("/Flags 96"),h("/FontBBox "+r.API.PDFObject.convert(c.metadata.bbox)),h("/FontName /"+fc(c.fontName)),h("/ItalicAngle "+c.metadata.italicAngle),h("/Ascent "+c.metadata.ascender),h(">>"),h("endobj"),c.objectNumber=p();for(var O=0;O<c.metadata.hmtx.widths.length;O++)c.metadata.hmtx.widths[O]=parseInt(c.metadata.hmtx.widths[O]*(1e3/c.metadata.head.unitsPerEm));h("<</Subtype/TrueType/Type/Font/ToUnicode "+E+" 0 R/BaseFont/"+fc(c.fontName)+"/FontDescriptor "+j+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),h("endobj"),c.isAlreadyPutted=!0}})(o)}]);var l=function(o){var f,c=o.text||"",h=o.x,p=o.y,v=o.options||{},x=o.mutex||{},A=x.pdfEscape,y=x.activeFontKey,L=x.fonts,E=y,j="",O=0,M="",F=L[E].encoding;if(L[E].encoding!=="Identity-H")return{text:c,x:h,y:p,options:v,mutex:x};for(M=c,E=y,Array.isArray(c)&&(M=c[0]),O=0;O<M.length;O+=1)L[E].metadata.hasOwnProperty("cmap")&&(f=L[E].metadata.cmap.unicode.codeMap[M[O].charCodeAt(0)]),f||M[O].charCodeAt(0)<256&&L[E].metadata.hasOwnProperty("Unicode")?j+=M[O]:j+="";var G="";return parseInt(E.slice(1))<14||F==="WinAnsiEncoding"?G=A(j,E).split("").map(function(se){return se.charCodeAt(0).toString(16)}).join(""):F==="Identity-H"&&(G=n(j,L[E])),x.isHex=!0,{text:G,x:h,y:p,options:v,mutex:x}};e.events.push(["postProcessText",function(o){var f=o.text||"",c=[],h={text:f,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(f)){var p=0;for(p=0;p<f.length;p+=1)Array.isArray(f[p])&&f[p].length===3?c.push([l(Object.assign({},h,{text:f[p][0]})).text,f[p][1],f[p][2]]):c.push(l(Object.assign({},h,{text:f[p]})).text);o.text=c}else o.text=l(Object.assign({},h,{text:f})).text}])})(wt),(function(r){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},r.addFileToVFS=function(n,a){return e.call(this),this.internal.vFS[n]=a,this},r.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}})(wt.API),(function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(a){var l,o,f,c,h,p,v,x=e,A=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],y=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],L={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},E={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},j=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],O=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),M=!1,F=0;this.__bidiEngine__={};var G=function(C){var q=C.charCodeAt(),re=q>>8,ie=E[re];return ie!==void 0?x[256*ie+(255&q)]:re===252||re===253?"AL":O.test(re)?"L":re===8?"R":"N"},se=function(C){for(var q,re=0;re<C.length;re++){if((q=G(C.charAt(re)))==="L")return!1;if(q==="R")return!0}return!1},me=function(C,q,re,ie){var we,Y,le,ue,Se=q[ie];switch(Se){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":M=!1;break;case"N":case"AN":break;case"EN":M&&(Se="AN");break;case"AL":M=!0,Se="R";break;case"WS":case"BN":Se="N";break;case"CS":ie<1||ie+1>=q.length||(we=re[ie-1])!=="EN"&&we!=="AN"||(Y=q[ie+1])!=="EN"&&Y!=="AN"?Se="N":M&&(Y="AN"),Se=Y===we?Y:"N";break;case"ES":Se=(we=ie>0?re[ie-1]:"B")==="EN"&&ie+1<q.length&&q[ie+1]==="EN"?"EN":"N";break;case"ET":if(ie>0&&re[ie-1]==="EN"){Se="EN";break}if(M){Se="N";break}for(le=ie+1,ue=q.length;le<ue&&q[le]==="ET";)le++;Se=le<ue&&q[le]==="EN"?"EN":"N";break;case"NSM":if(f&&!c){for(ue=q.length,le=ie+1;le<ue&&q[le]==="NSM";)le++;if(le<ue){var ze=C[ie],W=ze>=1425&&ze<=2303||ze===64286;if(we=q[le],W&&(we==="R"||we==="AL")){Se="R";break}}}Se=ie<1||(we=q[ie-1])==="B"?"N":re[ie-1];break;case"B":M=!1,l=!0,Se=F;break;case"S":o=!0,Se="N"}return Se},Q=function(C,q,re){var ie=C.split("");return re&&ee(ie,re,{hiLevel:F}),ie.reverse(),q&&q.reverse(),ie.join("")},ee=function(C,q,re){var ie,we,Y,le,ue,Se=-1,ze=C.length,W=0,k=[],P=F?y:A,K=[];for(M=!1,l=!1,o=!1,we=0;we<ze;we++)K[we]=G(C[we]);for(Y=0;Y<ze;Y++){if(ue=W,k[Y]=me(C,K,k,Y),ie=240&(W=P[ue][L[k[Y]]]),W&=15,q[Y]=le=P[W][5],ie>0)if(ie===16){for(we=Se;we<Y;we++)q[we]=1;Se=-1}else Se=-1;if(P[W][6])Se===-1&&(Se=Y);else if(Se>-1){for(we=Se;we<Y;we++)q[we]=le;Se=-1}K[Y]==="B"&&(q[Y]=0),re.hiLevel|=le}o&&(function(ne,ae,de){for(var Ne=0;Ne<de;Ne++)if(ne[Ne]==="S"){ae[Ne]=F;for(var Ae=Ne-1;Ae>=0&&ne[Ae]==="WS";Ae--)ae[Ae]=F}})(K,q,ze)},$=function(C,q,re,ie,we){if(!(we.hiLevel<C)){if(C===1&&F===1&&!l)return q.reverse(),void(re&&re.reverse());for(var Y,le,ue,Se,ze=q.length,W=0;W<ze;){if(ie[W]>=C){for(ue=W+1;ue<ze&&ie[ue]>=C;)ue++;for(Se=W,le=ue-1;Se<le;Se++,le--)Y=q[Se],q[Se]=q[le],q[le]=Y,re&&(Y=re[Se],re[Se]=re[le],re[le]=Y);W=ue}W++}}},he=function(C,q,re){var ie=C.split(""),we={hiLevel:F};return re||(re=[]),ee(ie,re,we),(function(Y,le,ue){if(ue.hiLevel!==0&&v)for(var Se,ze=0;ze<Y.length;ze++)le[ze]===1&&(Se=j.indexOf(Y[ze]))>=0&&(Y[ze]=j[Se+1])})(ie,re,we),$(2,ie,q,re,we),$(1,ie,q,re,we),ie.join("")};return this.__bidiEngine__.doBidiReorder=function(C,q,re){if((function(we,Y){if(Y)for(var le=0;le<we.length;le++)Y[le]=le;c===void 0&&(c=se(we)),p===void 0&&(p=se(we))})(C,q),f||!h||p)if(f&&h&&c^p)F=c?1:0,C=Q(C,q,re);else if(!f&&h&&p)F=c?1:0,C=he(C,q,re),C=Q(C,q);else if(!f||c||h||p){if(f&&!h&&c^p)C=Q(C,q),c?(F=0,C=he(C,q,re)):(F=1,C=he(C,q,re),C=Q(C,q));else if(f&&c&&!h&&p)F=1,C=he(C,q,re),C=Q(C,q);else if(!f&&!h&&c^p){var ie=v;c?(F=1,C=he(C,q,re),F=0,v=!1,C=he(C,q,re),v=ie):(F=0,C=he(C,q,re),C=Q(C,q),F=1,v=!1,C=he(C,q,re),v=ie,C=Q(C,q))}}else F=0,C=he(C,q,re);else F=c?1:0,C=he(C,q,re);return C},this.__bidiEngine__.setOptions=function(C){C&&(f=C.isInputVisual,h=C.isOutputVisual,c=C.isInputRtl,p=C.isOutputRtl,v=C.isSymmetricSwapping)},this.__bidiEngine__.setOptions(a),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(a){var l=a.text;a.x,a.y;var o=a.options||{};a.mutex,o.lang;var f=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,n.setOptions(o),Object.prototype.toString.call(l)==="[object Array]"){var c=0;for(f=[],c=0;c<l.length;c+=1)Object.prototype.toString.call(l[c])==="[object Array]"?f.push([n.doBidiReorder(l[c][0]),l[c][1],l[c][2]]):f.push([n.doBidiReorder(l[c])]);a.text=f}else a.text=n.doBidiReorder(l);n.setOptions({isInputVisual:!0})}])})(wt),wt.API.TTFFont=(function(){function r(e){var n;if(this.rawData=e,n=this.contents=new pl(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new A6(this),this.registerTTF()}return r.open=function(e){return new r(e)},r.prototype.parse=function(){return this.directory=new c6(this.contents),this.head=new h6(this),this.name=new y6(this),this.cmap=new Uy(this),this.toUnicode={},this.hhea=new d6(this),this.maxp=new v6(this),this.hmtx=new b6(this),this.post=new m6(this),this.os2=new p6(this),this.loca=new S6(this),this.glyf=new w6(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var e,n,a,l,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var f,c,h,p;for(p=[],f=0,c=(h=this.bbox).length;f<c;f++)e=h[f],p.push(Math.round(e*this.scaleFactor));return p}).call(this),this.stemV=0,this.post.exists?(a=255&(l=this.post.italic_angle),32768&(n=l>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+a)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},r.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},r.prototype.widthOfString=function(e,n,a){var l,o,f,c;for(f=0,o=0,c=(e=""+e).length;0<=c?o<c:o>c;o=0<=c?++o:--o)l=e.charCodeAt(o),f+=this.widthOfGlyph(this.characterToGlyph(l))+a*(1e3/n)||0;return f*(n/1e3)},r.prototype.lineHeight=function(e,n){var a;return n==null&&(n=!1),a=n?this.lineGap:0,(this.ascender+a-this.decender)/1e3*e},r})();var vs,pl=(function(){function r(e){this.data=e??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(e){return this.data[this.pos++]=e},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},r.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},r.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},r.prototype.readString=function(e){var n,a;for(a=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)a[n]=String.fromCharCode(this.readByte());return a.join("")},r.prototype.writeString=function(e){var n,a,l;for(l=[],n=0,a=e.length;0<=a?n<a:n>a;n=0<=a?++n:--n)l.push(this.writeByte(e.charCodeAt(n)));return l},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(e){return this.writeInt16(e)},r.prototype.readLongLong=function(){var e,n,a,l,o,f,c,h;return e=this.readByte(),n=this.readByte(),a=this.readByte(),l=this.readByte(),o=this.readByte(),f=this.readByte(),c=this.readByte(),h=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^a)+4294967296*(255^l)+16777216*(255^o)+65536*(255^f)+256*(255^c)+(255^h)+1):72057594037927940*e+281474976710656*n+1099511627776*a+4294967296*l+16777216*o+65536*f+256*c+h},r.prototype.writeLongLong=function(e){var n,a;return n=Math.floor(e/4294967296),a=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(a>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(e){return this.writeInt32(e)},r.prototype.read=function(e){var n,a;for(n=[],a=0;0<=e?a<e:a>e;a=0<=e?++a:--a)n.push(this.readByte());return n},r.prototype.write=function(e){var n,a,l,o;for(o=[],a=0,l=e.length;a<l;a++)n=e[a],o.push(this.writeByte(n));return o},r})(),c6=(function(){var r;function e(n){var a,l,o;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},l=0,o=this.tableCount;0<=o?l<o:l>o;l=0<=o?++l:--l)a={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[a.tag]=a}return e.prototype.encode=function(n){var a,l,o,f,c,h,p,v,x,A,y,L,E;for(E in y=Object.keys(n).length,h=Math.log(2),x=16*Math.floor(Math.log(y)/h),f=Math.floor(x/h),v=16*y-x,(l=new pl).writeInt(this.scalarType),l.writeShort(y),l.writeShort(x),l.writeShort(f),l.writeShort(v),o=16*y,p=l.pos+o,c=null,L=[],n)for(A=n[E],l.writeString(E),l.writeInt(r(A)),l.writeInt(p),l.writeInt(A.length),L=L.concat(A),E==="head"&&(c=p),p+=A.length;p%4;)L.push(0),p++;return l.write(L),a=2981146554-r(l.data),l.pos=c+8,l.writeUInt32(a),l.data},r=function(n){var a,l,o,f;for(n=My.call(n);n.length%4;)n.push(0);for(o=new pl(n),l=0,a=0,f=n.length;a<f;a=a+=4)l+=o.readUInt32();return 4294967295&l},e})(),f6={}.hasOwnProperty,$s=function(r,e){for(var n in e)f6.call(e,n)&&(r[n]=e[n]);function a(){this.constructor=r}return a.prototype=e.prototype,r.prototype=new a,r.__super__=e.prototype,r};vs=(function(){function r(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r})();var h6=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return $s(r,vs),r.prototype.tag="head",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},r.prototype.encode=function(e){var n;return(n=new pl).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},r})(),l5=(function(){function r(e,n){var a,l,o,f,c,h,p,v,x,A,y,L,E,j,O,M,F;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),x=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(h=0;h<256;++h)this.codeMap[h]=e.readByte();break;case 4:for(y=e.readUInt16(),A=y/2,e.pos+=6,o=(function(){var G,se;for(se=[],h=G=0;0<=A?G<A:G>A;h=0<=A?++G:--G)se.push(e.readUInt16());return se})(),e.pos+=2,E=(function(){var G,se;for(se=[],h=G=0;0<=A?G<A:G>A;h=0<=A?++G:--G)se.push(e.readUInt16());return se})(),p=(function(){var G,se;for(se=[],h=G=0;0<=A?G<A:G>A;h=0<=A?++G:--G)se.push(e.readUInt16());return se})(),v=(function(){var G,se;for(se=[],h=G=0;0<=A?G<A:G>A;h=0<=A?++G:--G)se.push(e.readUInt16());return se})(),l=(this.length-e.pos+this.offset)/2,c=(function(){var G,se;for(se=[],h=G=0;0<=l?G<l:G>l;h=0<=l?++G:--G)se.push(e.readUInt16());return se})(),h=O=0,F=o.length;O<F;h=++O)for(j=o[h],a=M=L=E[h];L<=j?M<=j:M>=j;a=L<=j?++M:--M)v[h]===0?f=a+p[h]:(f=c[v[h]/2+(a-L)-(A-h)]||0)!==0&&(f+=p[h]),this.codeMap[a]=65535&f}e.pos=x}return r.encode=function(e,n){var a,l,o,f,c,h,p,v,x,A,y,L,E,j,O,M,F,G,se,me,Q,ee,$,he,C,q,re,ie,we,Y,le,ue,Se,ze,W,k,P,K,ne,ae,de,Ne,Ae,Ue,We,Qe;switch(ie=new pl,f=Object.keys(e).sort(function(et,xe){return et-xe}),n){case"macroman":for(E=0,j=(function(){var et=[];for(L=0;L<256;++L)et.push(0);return et})(),M={0:0},o={},we=0,Se=f.length;we<Se;we++)M[Ae=e[l=f[we]]]==null&&(M[Ae]=++E),o[l]={old:e[l],new:M[e[l]]},j[l]=M[e[l]];return ie.writeUInt16(1),ie.writeUInt16(0),ie.writeUInt32(12),ie.writeUInt16(0),ie.writeUInt16(262),ie.writeUInt16(0),ie.write(j),{charMap:o,subtable:ie.data,maxGlyphID:E+1};case"unicode":for(q=[],x=[],F=0,M={},a={},O=p=null,Y=0,ze=f.length;Y<ze;Y++)M[se=e[l=f[Y]]]==null&&(M[se]=++F),a[l]={old:se,new:M[se]},c=M[se]-l,O!=null&&c===p||(O&&x.push(O),q.push(l),p=c),O=l;for(O&&x.push(O),x.push(65535),q.push(65535),he=2*($=q.length),ee=2*Math.pow(Math.log($)/Math.LN2,2),A=Math.log(ee/2)/Math.LN2,Q=2*$-ee,h=[],me=[],y=[],L=le=0,W=q.length;le<W;L=++le){if(C=q[L],v=x[L],C===65535){h.push(0),me.push(0);break}if(C-(re=a[C].new)>=32768)for(h.push(0),me.push(2*(y.length+$-L)),l=ue=C;C<=v?ue<=v:ue>=v;l=C<=v?++ue:--ue)y.push(a[l].new);else h.push(re-C),me.push(0)}for(ie.writeUInt16(3),ie.writeUInt16(1),ie.writeUInt32(12),ie.writeUInt16(4),ie.writeUInt16(16+8*$+2*y.length),ie.writeUInt16(0),ie.writeUInt16(he),ie.writeUInt16(ee),ie.writeUInt16(A),ie.writeUInt16(Q),de=0,k=x.length;de<k;de++)l=x[de],ie.writeUInt16(l);for(ie.writeUInt16(0),Ne=0,P=q.length;Ne<P;Ne++)l=q[Ne],ie.writeUInt16(l);for(Ue=0,K=h.length;Ue<K;Ue++)c=h[Ue],ie.writeUInt16(c);for(We=0,ne=me.length;We<ne;We++)G=me[We],ie.writeUInt16(G);for(Qe=0,ae=y.length;Qe<ae;Qe++)E=y[Qe],ie.writeUInt16(E);return{charMap:a,subtable:ie.data,maxGlyphID:F+1}}},r})(),Uy=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return $s(r,vs),r.prototype.tag="cmap",r.prototype.parse=function(e){var n,a,l;for(e.pos=this.offset,this.version=e.readUInt16(),l=e.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=l?a<l:a>l;a=0<=l?++a:--a)n=new l5(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},r.encode=function(e,n){var a,l;return n==null&&(n="macroman"),a=l5.encode(e,n),(l=new pl).writeUInt16(0),l.writeUInt16(1),a.table=l.data.concat(a.subtable),a},r})(),d6=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return $s(r,vs),r.prototype.tag="hhea",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},r})(),p6=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return $s(r,vs),r.prototype.tag="OS/2",r.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var n,a;for(a=[],n=0;n<10;++n)a.push(e.readByte());return a})(),this.charRange=(function(){var n,a;for(a=[],n=0;n<4;++n)a.push(e.readInt());return a})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(e.readInt());return a})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},r})(),m6=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return $s(r,vs),r.prototype.tag="post",r.prototype.parse=function(e){var n,a,l;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(a=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=a?o<a:o>a;o=0<=a?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],l=[];e.pos<this.offset+this.length;)n=e.readByte(),l.push(this.names.push(e.readString(n)));return l;case 151552:return a=e.readUInt16(),this.offsets=e.read(a);case 262144:return this.map=(function(){var f,c,h;for(h=[],o=f=0,c=this.file.maxp.numGlyphs;0<=c?f<c:f>c;o=0<=c?++f:--f)h.push(e.readUInt32());return h}).call(this)}},r})(),g6=function(r,e){this.raw=r,this.length=r.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},y6=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return $s(r,vs),r.prototype.tag="name",r.prototype.parse=function(e){var n,a,l,o,f,c,h,p,v,x,A;for(e.pos=this.offset,e.readShort(),n=e.readShort(),c=e.readShort(),a=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)a.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+c+e.readShort()});for(h={},o=v=0,x=a.length;v<x;o=++v)l=a[o],e.pos=l.offset,p=e.readString(l.length),f=new g6(p,l),h[A=l.nameID]==null&&(h[A]=[]),h[l.nameID].push(f);this.strings=h,this.copyright=h[0],this.fontFamily=h[1],this.fontSubfamily=h[2],this.uniqueSubfamily=h[3],this.fontName=h[4],this.version=h[5];try{this.postscriptName=h[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=h[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=h[7],this.manufacturer=h[8],this.designer=h[9],this.description=h[10],this.vendorUrl=h[11],this.designerUrl=h[12],this.license=h[13],this.licenseUrl=h[14],this.preferredFamily=h[15],this.preferredSubfamily=h[17],this.compatibleFull=h[18],this.sampleText=h[19]},r})(),v6=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return $s(r,vs),r.prototype.tag="maxp",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},r})(),b6=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return $s(r,vs),r.prototype.tag="hmtx",r.prototype.parse=function(e){var n,a,l,o,f,c,h;for(e.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(l=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var p,v;for(v=[],n=p=0;0<=l?p<l:p>l;n=0<=l?++p:--p)v.push(e.readInt16());return v})(),this.widths=(function(){var p,v,x,A;for(A=[],p=0,v=(x=this.metrics).length;p<v;p++)o=x[p],A.push(o.advance);return A}).call(this),a=this.widths[this.widths.length-1],h=[],n=f=0;0<=l?f<l:f>l;n=0<=l?++f:--f)h.push(this.widths.push(a));return h},r.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},r})(),My=[].slice,w6=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return $s(r,vs),r.prototype.tag="glyf",r.prototype.parse=function(){return this.cache={}},r.prototype.glyphFor=function(e){var n,a,l,o,f,c,h,p,v,x;return e in this.cache?this.cache[e]:(o=this.file.loca,n=this.file.contents,a=o.indexOf(e),(l=o.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+a,f=(c=new pl(n.read(l))).readShort(),p=c.readShort(),x=c.readShort(),h=c.readShort(),v=c.readShort(),this.cache[e]=f===-1?new _6(c,p,x,h,v):new x6(c,f,p,x,h,v),this.cache[e]))},r.prototype.encode=function(e,n,a){var l,o,f,c,h;for(f=[],o=[],c=0,h=n.length;c<h;c++)l=e[n[c]],o.push(f.length),l&&(f=f.concat(l.encode(a)));return o.push(f.length),{table:f,offsets:o}},r})(),x6=(function(){function r(e,n,a,l,o,f){this.raw=e,this.numberOfContours=n,this.xMin=a,this.yMin=l,this.xMax=o,this.yMax=f,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r})(),_6=(function(){function r(e,n,a,l,o){var f,c;for(this.raw=e,this.xMin=n,this.yMin=a,this.xMax=l,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],f=this.raw;c=f.readShort(),this.glyphOffsets.push(f.pos),this.glyphIDs.push(f.readUInt16()),32&c;)f.pos+=1&c?4:2,128&c?f.pos+=8:64&c?f.pos+=4:8&c&&(f.pos+=2)}return r.prototype.encode=function(){var e,n,a;for(n=new pl(My.call(this.raw.data)),e=0,a=this.glyphIDs.length;e<a;++e)n.pos=this.glyphOffsets[e];return n.data},r})(),S6=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return $s(r,vs),r.prototype.tag="loca",r.prototype.parse=function(e){var n,a;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var l,o;for(o=[],a=0,l=this.length;a<l;a+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var l,o;for(o=[],a=0,l=this.length;a<l;a+=4)o.push(e.readUInt32());return o}).call(this)},r.prototype.indexOf=function(e){return this.offsets[e]},r.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},r.prototype.encode=function(e,n){for(var a=new Uint32Array(this.offsets.length),l=0,o=0,f=0;f<a.length;++f)if(a[f]=l,o<n.length&&n[o]==f){++o,a[f]=l;var c=this.offsets[f],h=this.offsets[f+1]-c;h>0&&(l+=h)}for(var p=new Array(4*a.length),v=0;v<a.length;++v)p[4*v+3]=255&a[v],p[4*v+2]=(65280&a[v])>>8,p[4*v+1]=(16711680&a[v])>>16,p[4*v]=(4278190080&a[v])>>24;return p},r})(),A6=(function(){function r(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var e,n,a,l,o;for(n in l=this.font.cmap.tables[0].codeMap,e={},o=this.subset)a=o[n],e[n]=l[a];return e},r.prototype.glyphsFor=function(e){var n,a,l,o,f,c,h;for(l={},f=0,c=e.length;f<c;f++)l[o=e[f]]=this.font.glyf.glyphFor(o);for(o in n=[],l)(a=l[o])!=null&&a.compound&&n.push.apply(n,a.glyphIDs);if(n.length>0)for(o in h=this.glyphsFor(n))a=h[o],l[o]=a;return l},r.prototype.encode=function(e,n){var a,l,o,f,c,h,p,v,x,A,y,L,E,j,O;for(l in a=Uy.encode(this.generateCmap(),"unicode"),f=this.glyphsFor(e),y={0:0},O=a.charMap)y[(h=O[l]).old]=h.new;for(L in A=a.maxGlyphID,f)L in y||(y[L]=A++);return v=(function(M){var F,G;for(F in G={},M)G[M[F]]=F;return G})(y),x=Object.keys(v).sort(function(M,F){return M-F}),E=(function(){var M,F,G;for(G=[],M=0,F=x.length;M<F;M++)c=x[M],G.push(v[c]);return G})(),o=this.font.glyf.encode(f,E,y),p=this.font.loca.encode(o.offsets,E),j={cmap:this.font.cmap.raw(),glyf:o.table,loca:p,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(j["OS/2"]=this.font.os2.raw()),this.font.directory.encode(j)},r})();wt.API.PDFObject=(function(){var r;function e(){}return r=function(n,a){return(Array(a+1).join("0")+n).slice(-a)},e.convert=function(n){var a,l,o,f;if(Array.isArray(n))return"["+(function(){var c,h,p;for(p=[],c=0,h=n.length;c<h;c++)a=n[c],p.push(e.convert(a));return p})().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n?.isString)return"("+n+")";if(n instanceof Date)return"(D:"+r(n.getUTCFullYear(),4)+r(n.getUTCMonth(),2)+r(n.getUTCDate(),2)+r(n.getUTCHours(),2)+r(n.getUTCMinutes(),2)+r(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(l in o=["<<"],n)f=n[l],o.push("/"+l+" "+e.convert(f));return o.push(">>"),o.join(`
`)}return""+n},e})();function E6(){const{business:r}=No(),[e,n]=te.useState("pending"),[a,l]=te.useState(!1),[o,f]=te.useState([]),[c,h]=te.useState(!1),[p,v]=te.useState(!0),[x,A]=te.useState(null),[y,L]=te.useState(""),[E,j]=te.useState(!1),[O,M]=te.useState([]),[F,G]=te.useState(!1),{orders:se,loading:me,error:Q}=C_(r?.id,{status:"completed",orderBy:"completed_at",ascending:!1}),ee=(xe=new Date)=>new Date(xe.toLocaleString("en-US",{timeZone:"Europe/Istanbul"})),$=()=>{const xe=new Date(new Date().toLocaleString("en-US",{timeZone:"Europe/Istanbul"})),B=xe.getFullYear(),je=String(xe.getMonth()+1).padStart(2,"0"),Ke=String(xe.getDate()).padStart(2,"0");return`${B}-${je}-${Ke}`},he=xe=>xe?new Date(xe).toLocaleString("tr-TR",{timeZone:"Europe/Istanbul",day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"}):"",C=async()=>{if(r?.id)try{const xe=new Date(new Date().toLocaleString("en-US",{timeZone:"Europe/Istanbul"})),B=xe.getFullYear(),je=xe.getMonth(),Ke=xe.getDate(),Re=$(),Oe=new Date(B,je,Ke,0,0,0,0),Ye=new Date(B,je,Ke,23,59,59,999),{data:$e,error:st}=await tt.from("payments").select(`
          order_id,
          payment_date,
          orders!inner (
            *,
            order_items (
              id,
              product_name,
              product_price,
              quantity,
              subtotal
            )
          )
        `).eq("business_id",r.id).gte("payment_date",Oe.toISOString()).lt("payment_date",Ye.toISOString());if(st)throw st;const Tt=($e?.map(Xe=>Xe.orders).filter(Xe=>Xe&&Xe.status==="completed")||[]||[]).sort((Xe,Ze)=>{const rt=Xe.completed_at?new Date(Xe.completed_at).getTime():0,jt=Ze.completed_at?new Date(Ze.completed_at).getTime():0;return rt-jt}),yt=Tt.reduce((Xe,Ze)=>{const rt=parseFloat(Ze.total_amount||0);return isNaN(rt)?(console.warn("Invalid total_amount for order:",Ze.id,Ze.total_amount),Xe):Xe+rt},0),Nt=Tt.length;console.log("UpdateTodayReport - Total Orders:",Nt,"Total Amount:",yt),console.log("UpdateTodayReport - Paid Orders:",Tt.map(Xe=>({id:Xe.id.slice(0,8),total_amount:Xe.total_amount})));const Mt=new Date(B,je,Ke);let nt=`GN SONU RAPORU
${r?.name||"letme"}
Tarih: ${Mt.toLocaleDateString("tr-TR")}

---------------------------------------

TOPLAM SPAR: ${Nt} adet
TOPLAM TUTAR: ${yt.toFixed(2)} TL

---------------------------------------

SPAR DETAYLARI:

`;Tt.length>0?Tt.forEach((Xe,Ze)=>{nt+=`${Ze+1}. Sipari #${Xe.id.slice(0,8)}
   Masa: ${Xe.table_number||"N/A"}
   Tarih: ${he(Xe.completed_at)}
   Tutar: ${parseFloat(Xe.total_amount).toFixed(2)} TL
   
   rnler:
`,Xe.order_items?.forEach(rt=>{nt+=`   - ${rt.product_name}  ${rt.quantity} = ${parseFloat(rt.subtotal).toFixed(2)} TL
`}),Ze<Tt.length-1?nt+=`
---------------------------------------

`:nt+=`
`}):nt+=`Henz denmi sipari yok.
`;const{data:kt}=await tt.from("daily_reports").select("*").eq("business_id",r.id).eq("report_date",Re).single();let ot=null,un=null;if(kt){ot=kt.id,un=kt.created_at;const{error:Xe}=await tt.from("daily_reports").update({report_data:{orders:Tt,summary:{total_orders:Nt,total_amount:yt}},total_orders:Nt,total_amount:yt,report_text:nt}).eq("id",kt.id);if(Xe)throw console.error("Error updating daily report:",Xe),Xe;console.log("Daily report updated successfully - Total Amount:",yt)}else{const{data:Xe,error:Ze}=await tt.from("daily_reports").insert({business_id:r.id,report_date:Re,report_data:{orders:Tt,summary:{total_orders:Nt,total_amount:yt}},total_orders:Nt,total_amount:yt,report_text:nt}).select().single();if(Ze)throw console.error("Error inserting daily report:",Ze),Ze;ot=Xe.id,un=Xe.created_at,console.log("Daily report created successfully - Total Amount:",yt)}}catch(xe){console.error("Update today report error:",xe)}};te.useEffect(()=>{if(!r?.id)return;const xe=tt.channel(`payments:${r.id}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"orders",filter:`business_id=eq.${r.id}`},async B=>{console.log(" Order updated in Supabase:",B.new.id,"payment_status:",B.new.payment_status);const{data:je,error:Ke}=await tt.from("orders").select(`
              *,
              order_items (
                id,
                product_name,
                product_price,
                quantity,
                notes,
                subtotal
              )
            `).eq("id",B.new.id).single();if(Ke||!je){console.error("Error fetching order with items:",Ke);return}B.new.payment_status==="paid"?(re(Re=>Re.find(Ye=>Ye.id===je.id)?Re.map(Ye=>Ye.id===je.id?je:Ye):[je,...Re]),we(Re=>Re.filter(Oe=>Oe.id!==je.id))):B.new.payment_status==="pending"&&(we(Re=>Re.find(Ye=>Ye.id===je.id)?Re.map(Ye=>Ye.id===je.id?je:Ye):[je,...Re]),re(Re=>Re.filter(Oe=>Oe.id!==je.id))),B.new.payment_status==="paid"&&B.old.payment_status!=="paid"&&C()}).on("postgres_changes",{event:"DELETE",schema:"public",table:"orders",filter:`business_id=eq.${r.id}`},B=>{console.log(" Order deleted from Supabase (Realtime):",B.old.id),console.log(" Deleted order details:",B.old),re(je=>{const Ke=je.filter(Re=>Re.id!==B.old.id);return console.log(` Paid orders: ${je.length}  ${Ke.length}`),Ke}),we(je=>{const Ke=je.filter(Re=>Re.id!==B.old.id);return console.log(` Pending orders: ${je.length}  ${Ke.length}`),Ke}),C()}).on("postgres_changes",{event:"INSERT",schema:"public",table:"payments",filter:`business_id=eq.${r.id}`},async B=>{console.log(" New payment added:",B.new.order_id);const{data:je,error:Ke}=await tt.from("orders").select(`
              *,
              order_items (
                id,
                product_name,
                product_price,
                quantity,
                notes,
                subtotal
              )
            `).eq("id",B.new.order_id).single();je&&!Ke&&je.status==="completed"&&(re(Re=>Re.find(Ye=>Ye.id===je.id)?Re:[je,...Re]),we(Re=>Re.filter(Oe=>Oe.id!==je.id)),C())}).on("postgres_changes",{event:"DELETE",schema:"public",table:"payments",filter:`business_id=eq.${r.id}`},B=>{console.log(" Payment deleted:",B.old.order_id),re(je=>je.filter(Ke=>Ke.id!==B.old.order_id)),C()}).on("postgres_changes",{event:"*",schema:"public",table:"daily_reports",filter:`business_id=eq.${r.id}`},async B=>{console.log(" Daily report changed (Realtime):",B.eventType,B.new?.report_date||B.old?.report_date);try{const je=ee(),Ke=new Date(je);Ke.setDate(Ke.getDate()-30);const Re=`${Ke.getFullYear()}-${String(Ke.getMonth()+1).padStart(2,"0")}-${String(Ke.getDate()).padStart(2,"0")}`,{data:Oe,error:Ye}=await tt.from("daily_reports").select("*").eq("business_id",r.id).gte("report_date",Re).order("report_date",{ascending:!1});if(Ye)throw Ye;const $e=(Oe||[]).filter(st=>st.report_date&&st.id);f($e),console.log(" Daily reports state updated (Realtime):",$e.length,"reports")}catch(je){console.error("Load reports error (Realtime):",je)}}).subscribe();return()=>{tt.removeChannel(xe)}},[r?.id]),te.useEffect(()=>{if(!r?.id)return;const xe=async()=>{try{const Re=ee(),Oe=Re.getFullYear(),Ye=Re.getMonth(),$e=Re.getDate(),st=new Date(Oe,Ye,$e-1),ft=st.getFullYear(),Lt=st.getMonth(),Tt=st.getDate(),yt=`${ft}-${String(Lt+1).padStart(2,"0")}-${String(Tt).padStart(2,"0")}`,Nt=new Date(ft,Lt,Tt,0,0,0,0),Mt=new Date(ft,Lt,Tt,23,59,59,999),{data:nt,error:kt}=await tt.from("payments").select(`
            order_id,
            payment_date,
            orders!inner (
              *,
              order_items (
                id,
                product_name,
                product_price,
                quantity,
                subtotal
              )
            )
          `).eq("business_id",r.id).gte("payment_date",Nt.toISOString()).lt("payment_date",Mt.toISOString());if(kt)throw kt;const ot=nt?.map(an=>an.orders).filter(an=>an&&an.status==="completed")||[],{data:un}=await tt.from("daily_reports").select("*").eq("business_id",r.id).eq("report_date",yt).single(),Ze=(ot||[]).sort((an,Tn)=>{const qr=an.completed_at?new Date(an.completed_at).getTime():0,oi=Tn.completed_at?new Date(Tn.completed_at).getTime():0;return qr-oi}),rt=Ze.reduce((an,Tn)=>an+parseFloat(Tn.total_amount||0),0),jt=Ze.length,pt=new Date(ft,Lt,Tt);let Yt=`GN SONU RAPORU
${r?.name||"letme"}
Tarih: ${pt.toLocaleDateString("tr-TR")}

---------------------------------------

TOPLAM SPAR: ${jt} adet
TOPLAM TUTAR: ${rt.toFixed(2)} TL

---------------------------------------

SPAR DETAYLARI:

`;Ze.length>0?Ze.forEach((an,Tn)=>{Yt+=`${Tn+1}. Sipari #${an.id.slice(0,8)}
   Masa: ${an.table_number||"N/A"}
   Tarih: ${he(an.completed_at)}
   Tutar: ${parseFloat(an.total_amount).toFixed(2)} TL
   
   rnler:
`,an.order_items?.forEach(qr=>{Yt+=`   - ${qr.product_name}  ${qr.quantity} = ${parseFloat(qr.subtotal).toFixed(2)} TL
`}),Tn<Ze.length-1?Yt+=`
---------------------------------------

`:Yt+=`
`}):Yt+=`Henz denmi sipari yok.
`;let xt=!0;if(un){const an=un.total_orders||0,Tn=parseFloat(un.total_amount||0);an===jt&&Math.abs(Tn-rt)<.01&&(xt=!1)}xt&&(un?await tt.from("daily_reports").update({report_data:{orders:Ze,summary:{total_orders:jt,total_amount:rt}},total_orders:jt,total_amount:rt,report_text:Yt}).eq("id",un.id):await tt.from("daily_reports").insert({business_id:r.id,report_date:yt,report_data:{orders:Ze,summary:{total_orders:jt,total_amount:rt}},total_orders:jt,total_amount:rt,report_text:Yt})),await tt.from("payments").delete().eq("business_id",r.id).lt("payment_date",Nt.toISOString()),await tt.from("orders").delete().eq("business_id",r.id).eq("status","completed").eq("payment_status","paid").not("completed_at","is",null).lt("completed_at",Nt.toISOString()),await tt.from("orders").delete().eq("business_id",r.id).eq("status","completed").eq("payment_status","paid").is("completed_at",null).lt("created_at",Nt.toISOString());const{data:Ot}=await tt.from("orders").select("id").eq("business_id",r.id).eq("status","cancelled").not("completed_at","is",null).lt("completed_at",Nt.toISOString()),{data:rn}=await tt.from("orders").select("id").eq("business_id",r.id).eq("status","cancelled").is("completed_at",null).lt("created_at",Nt.toISOString()),qt=[...(Ot||[]).map(an=>an.id),...(rn||[]).map(an=>an.id)];qt.length>0&&await tt.from("orders").delete().in("id",qt);const vt=new Date(Oe,Ye,$e,0,0,0,0),Jt=new Date(vt);Jt.setDate(Jt.getDate()-30),await tt.from("daily_reports").delete().eq("business_id",r.id).lt("created_at",Jt.toISOString())}catch(Re){console.error("Cleanup error:",Re)}};let B=null;return(()=>{const Re=ee(),Oe=new Date(Re);Oe.setDate(Oe.getDate()+1),Oe.setHours(0,0,0,0);const Ye=Oe.getTime()-Re.getTime(),$e=setTimeout(()=>{xe(),B=setInterval(()=>{xe()},1440*60*1e3)},Ye);return()=>{clearTimeout($e),B&&clearInterval(B)}})()},[r?.id]),te.useEffect(()=>{if(!r?.id){h(!1),v(!1);return}if(!p)return;(async()=>{try{h(!0),await C();const B=ee(),je=new Date(B);je.setDate(je.getDate()-30);const Ke=`${je.getFullYear()}-${String(je.getMonth()+1).padStart(2,"0")}-${String(je.getDate()).padStart(2,"0")}`,{data:Re,error:Oe}=await tt.from("daily_reports").select("*").eq("business_id",r.id).gte("report_date",Ke).order("report_date",{ascending:!1});if(Oe)throw Oe;const Ye=(Re||[]).filter($e=>$e.report_date&&$e.id);f(Ye)}catch(B){console.error("Load reports error:",B),f([])}finally{h(!1),v(!1)}})()},[r?.id,p]);const[q,re]=te.useState([]),[ie,we]=te.useState([]),[Y,le]=te.useState(!0),[ue,Se]=te.useState(!0);te.useEffect(()=>{if(!r?.id){le(!1);return}const xe=async()=>{try{console.log(" Fetching PAID orders from payments table...");const{data:je,error:Ke}=await tt.from("payments").select(`
            order_id,
            orders!inner (
              *,
              order_items (
                id,
                product_name,
                product_price,
                quantity,
                notes,
                subtotal
              )
            )
          `).eq("business_id",r.id).order("payment_date",{ascending:!1});if(Ke)throw Ke;const Re=je?.map(Oe=>Oe.orders).filter(Oe=>Oe&&Oe.status==="completed")||[];console.log(" PAID Orders fetched from payments table:",Re.length,"orders"),console.log(" PAID Order IDs:",Re.map(Oe=>Oe.id.slice(0,8))||[]),console.log(" Payments count:",je?.length||0),re(Re)}catch(je){console.error(" Fetch PAID orders error:",je),re([])}},B=async()=>{try{console.log(" Fetching PENDING orders from Supabase...");const{data:je,error:Ke}=await tt.from("orders").select(`
            *,
            order_items (
              id,
              product_name,
              product_price,
              quantity,
              notes,
              subtotal
            )
          `).eq("business_id",r.id).eq("status","completed").eq("payment_status","pending").order("completed_at",{ascending:!1});if(Ke)throw Ke;console.log(" PENDING Orders fetched from Supabase:",je?.length||0,"orders"),console.log(" PENDING Order IDs:",je?.map(Re=>Re.id.slice(0,8))||[]),we(je||[])}catch(je){console.error(" Fetch PENDING orders error:",je),we([])}};Promise.all([xe(),B()]).finally(()=>{le(!1),Se(!1)})},[r?.id]);const ze=e==="paid"?q:e==="pending"?ie:se;te.useEffect(()=>{(e==="paid"||e==="pending")&&console.log(" Debug ordersToUse:",{selectedTab:e,isInitialLoad:ue,loadingOrders:Y,paidOrdersFromSupabaseCount:q.length,pendingOrdersFromSupabaseCount:ie.length,allOrdersCount:se.length,ordersToUseCount:ze.length,ordersToUseIDs:ze.map(xe=>xe.id.slice(0,8))})},[e,ue,Y,q,ie,se,ze]);const W=ie,k=q,P=e==="pending"?W:e==="paid"?k:[];te.useEffect(()=>{const xe=()=>{l(window.innerWidth<768)};return xe(),window.addEventListener("resize",xe),()=>window.removeEventListener("resize",xe)},[]),te.useEffect(()=>{const xe=()=>{const Ke=new Date().toLocaleString("tr-TR",{timeZone:"Europe/Istanbul",day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"});L(Ke)};xe();const B=setInterval(xe,1e3);return()=>clearInterval(B)},[]),te.useEffect(()=>r?.id?(()=>{const je=ee(),Ke=new Date(je);Ke.setDate(Ke.getDate()+1),Ke.setHours(0,0,0,0);const Re=Ke.getTime()-je.getTime(),Oe=setTimeout(()=>{window.location.reload();const Ye=setInterval(()=>{window.location.reload()},1440*60*1e3);return()=>clearInterval(Ye)},Re);return()=>clearTimeout(Oe)})():void 0,[r?.id]);const K=async()=>{if(r?.id&&confirm(" Dn ve ncesindeki tm tamamlanan sipariler, iptal edilen sipariler ve demeler silinecek. Bu ilem geri alnamaz. Devam etmek istiyor musunuz?")){j(!0);try{const{data:xe,error:B}=await tt.rpc("cleanup_old_orders_manual",{business_uuid:r.id});if(B)throw B;alert(" Temizleme ilemi baaryla tamamland!"),await ne(),window.location.reload()}catch(xe){console.error("Manual cleanup error:",xe),alert(" Temizleme ilemi srasnda hata olutu: "+xe.message)}finally{j(!1)}}},ne=async()=>{if(r?.id)try{const{data:xe,error:B}=await tt.rpc("get_cleanup_logs",{business_uuid:r.id,limit_count:10});if(B)throw B;M(xe||[])}catch(xe){console.error("Load cleanup logs error:",xe),M([])}};te.useEffect(()=>{r?.id&&ne()},[r?.id]),te.useEffect(()=>{const xe=B=>{x&&!B.target.closest("[data-report-menu]")&&A(null)};return document.addEventListener("click",xe),()=>document.removeEventListener("click",xe)},[x]);const ae=async(xe,B)=>{try{const{data:je,error:Ke}=await tt.from("payments").insert({order_id:xe,business_id:r.id,amount:B,payment_method:"cash",payment_date:new Date().toISOString()}).select().single();if(Ke)throw Ke;const{error:Re}=await tt.from("orders").update({payment_status:"paid",updated_at:new Date().toISOString()}).eq("id",xe);if(Re)throw Re;let Oe=0,Ye=!1;for(;Oe<5&&!Ye;){await new Promise(st=>setTimeout(st,200));const{data:$e}=await tt.from("orders").select("payment_status").eq("id",xe).single();$e&&$e.payment_status==="paid"?Ye=!0:Oe++}await C(),alert(" deme baaryla kaydedildi!")}catch(je){console.error("Payment error:",je),alert(" deme kaydedilirken hata olutu: "+je.message)}},de=xe=>xe?new Date(xe).toLocaleDateString("tr-TR",{timeZone:"Europe/Istanbul",day:"numeric",month:"long",year:"numeric"}):"",Ne=xe=>{if(!xe)return"";const B=new Date(xe),je=B.toLocaleDateString("tr-TR",{timeZone:"Europe/Istanbul",day:"2-digit"}),Ke=B.toLocaleDateString("tr-TR",{timeZone:"Europe/Istanbul",month:"2-digit"}),Re=B.toLocaleDateString("tr-TR",{timeZone:"Europe/Istanbul",year:"numeric"});return`${je}.${Ke}.${Re}`},Ae=xe=>xe?xe.replace(//g,"s").replace(//g,"S").replace(//g,"g").replace(//g,"G").replace(//g,"u").replace(//g,"U").replace(//g,"o").replace(//g,"O").replace(//g,"c").replace(//g,"C").replace(//g,"i").replace(//g,"I").replace(//g,"TL"):"",Ue=async(xe,B,je,Ke)=>{const Re=new wt,Oe=Re.internal.pageSize.width,Ye=Oe/2;let $e=20;if(r?.logo_url)try{const Xe=new Image;Xe.crossOrigin="anonymous",await new Promise(Ze=>{const rt=setTimeout(()=>{console.warn("Logo ykleme zaman am"),Ze()},5e3);Xe.onload=()=>{clearTimeout(rt);try{const pt=Xe.width/Xe.height,Yt=Math.min(40,Xe.height),xt=Yt*pt,Ot=Ye-xt/2;let rn="PNG";r.logo_url.toLowerCase().includes(".jpg")||r.logo_url.toLowerCase().includes(".jpeg")?rn="JPEG":r.logo_url.toLowerCase().includes(".png")&&(rn="PNG"),Re.addImage(Xe,rn,Ot,$e,xt,Yt),$e+=Yt+10,Ze()}catch(jt){console.warn("Logo PDF'e eklenemedi:",jt),clearTimeout(rt),Ze()}},Xe.onerror=()=>{clearTimeout(rt),console.warn("Logo yklenemedi"),Ze()},Xe.src=r.logo_url})}catch(Xe){console.warn("Logo ileme hatas:",Xe)}Re.setFontSize(18),Re.setFont("helvetica","bold");const st=Ae("GN SONU RAPORU");Re.text(st,Ye,$e,{align:"center"}),$e+=10,Re.setFontSize(14),Re.setFont("helvetica","normal");const ft=Ae(r?.name||"letme");Re.text(ft,Ye,$e,{align:"center"}),$e+=8,Re.setFontSize(12);const Lt=`Tarih: ${B}`;Re.text(Lt,Ye,$e,{align:"center"}),$e+=10,Re.setLineWidth(.5),Re.line(20,$e,Oe-20,$e),$e+=10,Re.setFontSize(12),Re.setFont("helvetica","bold");const Tt=Ae(`TOPLAM SPAR: ${je} adet`);Re.text(Tt,20,$e),$e+=8;const yt=Ae(`TOPLAM TUTAR: ${parseFloat(Ke||0).toFixed(2)} TL`);Re.text(yt,20,$e),$e+=10,Re.line(20,$e,Oe-20,$e),$e+=10,Re.setFontSize(10),Re.setFont("helvetica","normal");const Mt=xe.replace(/%P+/g,"").replace(/%[A-Z0-9]+/g,"").replace(/+/g,"-").replace(/S0PAR0\^/g,"SPAR").replace(/SOPAR0\^/g,"SPAR").replace(/SOPAR/g,"SPAR").replace(/SPAR/g,"SPAR").replace(//g,"").replace(//g,"").replace(/\u00B0/g,"").replace(/\u00BA/g,"").replace(/\u00A0/g," ").split(`
`),nt=Re.internal.pageSize.height,ot=Oe-20*2;Mt.forEach(Xe=>{if($e>nt-20&&(Re.addPage(),$e=20),Xe.trim()===""){$e+=4;return}let Ze=Xe.replace(/%P+/g,"").replace(/%[A-Z0-9]+/g,"").replace(/+/g,"-").replace(/S0PAR0\^/g,"SPAR").replace(/SOPAR0\^/g,"SPAR").replace(//g,"").replace(//g,"").replace(/\u00B0/g,"").replace(/\u00BA/g,"").replace(/\u00A0/g," ");try{Re.splitTextToSize(Ze,ot).forEach(jt=>{$e>nt-20&&(Re.addPage(),$e=20);const pt=Ae(jt);Re.text(pt,20,$e),$e+=6})}catch(rt){console.warn("Satr eklenemedi:",Xe.substring(0,50),rt)}});const un=B.replace(/\s+/g,"-").replace(/[^a-zA-Z0-9-]/g,"");Re.save(`gun-sonu-raporu-${un}.pdf`)},We=async(xe,B="txt")=>{try{if(B==="pdf"){const je=Ne(xe.report_date);await Ue(xe.report_text||"",je,xe.total_orders||0,xe.total_amount||0)}else{const Ke="\uFEFF"+(xe.report_text||""),Re=new Blob([Ke],{type:"text/plain;charset=utf-8"}),Oe=URL.createObjectURL(Re),Ye=document.createElement("a");Ye.href=Oe,Ye.download=`gun-sonu-raporu-${xe.report_date}.txt`,document.body.appendChild(Ye),Ye.click(),document.body.removeChild(Ye),URL.revokeObjectURL(Oe)}}catch(je){console.error("Download error:",je),alert(" Rapor indirilirken hata olutu: "+je.message)}};if(me)return S.jsx(pa,{children:S.jsx(Da,{message:"demeler ykleniyor..."})});if(Q)return S.jsx(pa,{children:S.jsx("div",{style:{background:"white",padding:"2rem",borderRadius:"8px",textAlign:"center",color:"#ef4444"},children:S.jsxs("p",{children:[" Hata: ",Q]})})});const Qe=W.reduce((xe,B)=>xe+parseFloat(B.total_amount||0),0),et=k.reduce((xe,B)=>xe+parseFloat(B.total_amount||0),0);return S.jsx(pa,{children:S.jsxs("div",{children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:a?"1.5rem":"2rem",flexWrap:"wrap",gap:"1rem"},children:[S.jsx("h1",{style:{margin:0,fontSize:a?"1.5rem":"2rem",color:"#1e293b"},children:" demeler"}),S.jsxs("div",{style:{display:"flex",gap:"0.75rem",alignItems:"center",flexWrap:"wrap"},children:[y&&S.jsxs("div",{style:{padding:"0.5rem 1rem",background:"linear-gradient(135deg, #0f172a 0%, #1e293b 100%)",borderRadius:"8px",color:"white",fontSize:a?"0.75rem":"0.875rem",fontWeight:"500",boxShadow:"0 2px 4px rgba(15, 23, 42, 0.3)",border:"1px solid #334155"},children:[" ",y]}),S.jsx("button",{onClick:K,disabled:E,style:{padding:"0.5rem 1rem",background:E?"#94a3b8":"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",color:"white",border:"none",borderRadius:"8px",fontSize:a?"0.75rem":"0.875rem",fontWeight:"600",cursor:E?"not-allowed":"pointer",boxShadow:"0 2px 4px rgba(239, 68, 68, 0.3)",transition:"all 0.2s",opacity:E?.7:1},onMouseEnter:xe=>{E||(xe.currentTarget.style.transform="translateY(-1px)",xe.currentTarget.style.boxShadow="0 4px 8px rgba(239, 68, 68, 0.4)")},onMouseLeave:xe=>{E||(xe.currentTarget.style.transform="translateY(0)",xe.currentTarget.style.boxShadow="0 2px 4px rgba(239, 68, 68, 0.3)")},children:E?" Temizleniyor...":" Manuel Temizleme"}),S.jsxs("button",{onClick:()=>{G(!F),F||ne()},style:{padding:"0.5rem 1rem",background:F?"linear-gradient(135deg, #6366f1 0%, #312e81 100%)":"linear-gradient(135deg, #64748b 0%, #475569 100%)",color:"white",border:"none",borderRadius:"8px",fontSize:a?"0.75rem":"0.875rem",fontWeight:"600",cursor:"pointer",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)",transition:"all 0.2s"},children:[" ",F?"Loglar Gizle":"Temizleme Loglar"]})]})]}),F&&S.jsxs("div",{style:{background:"white",padding:"1.5rem",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",marginBottom:"2rem",border:"2px solid #6366f1"},children:[S.jsx("h3",{style:{margin:"0 0 1rem 0",fontSize:"1.25rem",color:"#1e293b",display:"flex",alignItems:"center",gap:"0.5rem"},children:" Son Temizleme lemleri"}),O.length===0?S.jsx("p",{style:{color:"#64748b",margin:0},children:"Henz temizleme ilemi yaplmam."}):S.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:O.map(xe=>S.jsxs("div",{style:{padding:"1rem",background:xe.error_message?"#fef2f2":"#f0fdf4",borderRadius:"6px",border:`1px solid ${xe.error_message?"#fecaca":"#bbf7d0"}`,borderLeft:`4px solid ${xe.error_message?"#ef4444":"#10b981"}`},children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",flexWrap:"wrap",gap:"0.5rem"},children:[S.jsxs("div",{children:[S.jsxs("div",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#1e293b",marginBottom:"0.25rem"},children:[" ",new Date(xe.cleanup_date).toLocaleDateString("tr-TR")]}),S.jsxs("div",{style:{fontSize:"0.75rem",color:"#64748b"},children:[" ",new Date(xe.created_at).toLocaleString("tr-TR")]})]}),S.jsxs("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap"},children:[xe.deleted_orders_count>0&&S.jsxs("div",{style:{fontSize:"0.875rem",color:"#1e293b"},children:[" ",xe.deleted_orders_count," sipari"]}),xe.deleted_payments_count>0&&S.jsxs("div",{style:{fontSize:"0.875rem",color:"#1e293b"},children:[" ",xe.deleted_payments_count," deme"]}),xe.deleted_cancelled_orders_count>0&&S.jsxs("div",{style:{fontSize:"0.875rem",color:"#1e293b"},children:[" ",xe.deleted_cancelled_orders_count," iptal"]})]})]}),xe.error_message&&S.jsxs("div",{style:{marginTop:"0.5rem",padding:"0.5rem",background:"#fee2e2",borderRadius:"4px",fontSize:"0.75rem",color:"#991b1b"},children:[" Hata: ",xe.error_message]})]},xe.id))})]}),S.jsxs("div",{style:{display:"grid",gridTemplateColumns:a?"1fr":"repeat(2, 1fr)",gap:"1rem",marginBottom:"2rem"},children:[S.jsxs("div",{style:{background:"white",padding:"1.5rem",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",borderLeft:"4px solid #f59e0b"},children:[S.jsx("p",{style:{margin:0,color:"#64748b",fontSize:"0.875rem"},children:"deme Yaplacak"}),S.jsxs("p",{style:{margin:"0.5rem 0 0 0",fontSize:"1.5rem",fontWeight:"bold",color:"#1e293b"},children:[W.length," sipari"]}),S.jsxs("p",{style:{margin:"0.25rem 0 0 0",fontSize:"1.25rem",fontWeight:"600",color:"#f59e0b"},children:["",Qe.toFixed(2)]})]}),S.jsxs("div",{style:{background:"white",padding:"1.5rem",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",borderLeft:"4px solid #10b981"},children:[S.jsx("p",{style:{margin:0,color:"#64748b",fontSize:"0.875rem"},children:"dendi"}),S.jsxs("p",{style:{margin:"0.5rem 0 0 0",fontSize:"1.5rem",fontWeight:"bold",color:"#1e293b"},children:[k.length," sipari"]}),S.jsxs("p",{style:{margin:"0.25rem 0 0 0",fontSize:"1.25rem",fontWeight:"600",color:"#10b981"},children:["",et.toFixed(2)]})]})]}),S.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1.5rem",borderBottom:"2px solid #e2e8f0"},children:[S.jsxs("button",{onClick:()=>n("pending"),style:{background:e==="pending"?"#f59e0b":"transparent",color:e==="pending"?"white":"#64748b",border:"none",padding:"0.75rem 1.5rem",fontSize:"1rem",fontWeight:"600",cursor:"pointer",borderBottom:e==="pending"?"3px solid #f59e0b":"3px solid transparent",transition:"all 0.2s"},children:[" deme Yaplacak (",W.length,")"]}),S.jsxs("button",{onClick:()=>n("paid"),style:{background:e==="paid"?"#10b981":"transparent",color:e==="paid"?"white":"#64748b",border:"none",padding:"0.75rem 1.5rem",fontSize:"1rem",fontWeight:"600",cursor:"pointer",borderBottom:e==="paid"?"3px solid #10b981":"3px solid transparent",transition:"all 0.2s"},children:[" dendi (",k.length,")"]}),S.jsx("button",{onClick:()=>n("history"),style:{background:e==="history"?"linear-gradient(135deg, #6366f1 0%, #312e81 100%)":"transparent",color:e==="history"?"white":"#64748b",border:"none",padding:"0.75rem 1.5rem",fontSize:"1rem",fontWeight:"600",cursor:"pointer",borderBottom:e==="history"?"3px solid #6366f1":"3px solid transparent",transition:"all 0.2s"},children:" Gemi Kaytlar"})]}),(e==="pending"||e==="paid")&&(Y&&ue?S.jsx(Da,{message:"Sipariler ykleniyor..."}):P.length===0?S.jsx("div",{style:{background:"white",padding:"3rem",borderRadius:"8px",textAlign:"center",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:S.jsx("p",{style:{color:"#64748b",fontSize:a?"1rem":"1.125rem"},children:e==="pending"?" Henz deme bekleyen sipari yok":" Henz denmi sipari yok"})}):S.jsx("div",{style:{display:"grid",gridTemplateColumns:a?"1fr":"repeat(auto-fill, minmax(350px, 1fr))",gap:a?"1rem":"1.5rem"},children:P.map(xe=>S.jsx(T6,{order:xe,isMobile:a,formatDate:he,markAsPaid:ae,isPaid:e==="paid"},xe.id))})),e==="history"&&(c&&p?S.jsx(Da,{message:"Gemi kaytlar ykleniyor..."}):o.length===0?S.jsx("div",{style:{background:"white",padding:"3rem",borderRadius:"8px",textAlign:"center",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:S.jsx("p",{style:{color:"#64748b",fontSize:a?"1rem":"1.125rem"},children:" Henz gemi kayt yok"})}):S.jsx("div",{style:{display:"grid",gridTemplateColumns:a?"1fr":"repeat(auto-fill, minmax(400px, 1fr))",gap:a?"1rem":"1.5rem"},children:o.map(xe=>S.jsxs("div",{style:{padding:a?"1rem":"1.5rem",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",borderLeft:"4px solid #6366f1",background:"linear-gradient(135deg, #ffffff 0%, #faf5ff 100%)"},children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[S.jsxs("div",{children:[S.jsxs("h3",{style:{margin:0,fontSize:a?"1.125rem":"1.25rem",color:"#1e293b"},children:[" ",de(xe.report_date)]}),S.jsxs("p",{style:{margin:"0.5rem 0 0 0",color:"#64748b",fontSize:a?"0.75rem":"0.875rem"},children:[xe.total_orders," sipari"]})]}),S.jsxs("div",{style:{fontSize:a?"1.25rem":"1.5rem",fontWeight:"bold",background:"linear-gradient(135deg, #6366f1 0%, #312e81 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:["",parseFloat(xe.total_amount).toFixed(2)]})]}),S.jsxs("div",{style:{position:"relative",width:"100%"},"data-report-menu":!0,children:[S.jsxs("button",{onClick:B=>{B.stopPropagation(),A(x===xe.id?null:xe.id)},style:{width:"100%",background:"linear-gradient(135deg, #6366f1 0%, #312e81 100%)",color:"white",border:"none",borderRadius:"8px",padding:"0.75rem",fontSize:a?"0.875rem":"1rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},onMouseEnter:B=>{B.currentTarget.style.background="linear-gradient(135deg, #4f46e5 0%, #1e1b4b 100%)",B.currentTarget.style.transform="translateY(-1px)",B.currentTarget.style.boxShadow="0 4px 12px rgba(99, 102, 241, 0.4)"},onMouseLeave:B=>{B.currentTarget.style.background="linear-gradient(135deg, #6366f1 0%, #312e81 100%)",B.currentTarget.style.transform="translateY(0)",B.currentTarget.style.boxShadow="none"},children:[" Raporu ndir",S.jsx("span",{style:{fontSize:"0.75rem"},children:""})]}),x===xe.id&&S.jsxs("div",{style:{position:"absolute",top:"100%",left:0,right:0,marginTop:"0.5rem",borderRadius:"8px",border:"2px solid #6366f1",background:"linear-gradient(135deg, #ffffff 0%, #faf5ff 100%)",boxShadow:"0 8px 16px rgba(99, 102, 241, 0.15), 0 2px 4px rgba(0,0,0,0.1)",zIndex:1e3,overflow:"hidden"},children:[S.jsx("button",{onClick:B=>{B.stopPropagation(),We(xe,"pdf"),A(null)},style:{width:"100%",padding:"0.875rem 1rem",border:"none",background:"#ffffff",textAlign:"left",cursor:"pointer",fontSize:"0.875rem",color:"#1e293b",display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.2s",fontWeight:"500"},onMouseEnter:B=>{B.currentTarget.style.background="linear-gradient(135deg, #6366f1 0%, #312e81 100%)",B.currentTarget.style.color="white"},onMouseLeave:B=>{B.currentTarget.style.background="#ffffff",B.currentTarget.style.color="#1e293b"},children:" PDF Olarak ndir"}),S.jsx("div",{style:{height:"1px",background:"#e2e8f0",margin:"0.25rem 0"}}),S.jsx("button",{onClick:B=>{B.stopPropagation(),We(xe,"txt"),A(null)},style:{width:"100%",padding:"0.875rem 1rem",border:"none",background:"#ffffff",textAlign:"left",cursor:"pointer",fontSize:"0.875rem",color:"#1e293b",display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.2s",fontWeight:"500"},onMouseEnter:B=>{B.currentTarget.style.background="linear-gradient(135deg, #6366f1 0%, #312e81 100%)",B.currentTarget.style.color="white"},onMouseLeave:B=>{B.currentTarget.style.background="#ffffff",B.currentTarget.style.color="#1e293b"},children:" TXT Olarak ndir"})]})]})]},xe.id))}))]})})}function T6({order:r,isMobile:e,formatDate:n,markAsPaid:a,isPaid:l}){const[o,f]=te.useState(!1),c=r.order_items?.slice(0,3)||[],h=r.order_items?.slice(3)||[],p=h.length>0,v=()=>l?"#f5fef7":"#fffef7",x=()=>l?"#10b981":"#f59e0b",A=y=>{if(!y)return"";const L=new Date(y),E=String(L.getDate()).padStart(2,"0"),j=String(L.getMonth()+1).padStart(2,"0"),O=L.getFullYear(),M=String(L.getHours()).padStart(2,"0"),F=String(L.getMinutes()).padStart(2,"0");if(l)return`${E}/${j}/${O} ${M}.${F}`;const se=new Date-L,me=Math.floor(se/6e4),Q=Math.floor(se/36e5),ee=Math.floor(se/864e5);let $="";return me<1?$="az nce":me<60?$=`${me} dakika nce`:Q<24?$=`${Q} saat nce`:ee<7?$=`${ee} gn nce`:$="",`${E}/${j}/${O} ${M}.${F}${$?` (${$})`:""}`};return S.jsxs("div",{style:{background:v(),padding:e?"1rem":"1.5rem",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",borderLeft:`4px solid ${x()}`},children:[S.jsx("div",{style:{display:"flex",flexDirection:e?"column":"row",justifyContent:"space-between",alignItems:e?"flex-start":"center",marginBottom:"1rem",gap:e?"0.75rem":0},children:S.jsxs("div",{style:{flex:1},children:[S.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",flexWrap:"wrap"},children:S.jsxs("h3",{style:{margin:0,fontSize:e?"1.125rem":"1.25rem",color:"#1e293b"},children:[" Sipari #",r.id.slice(0,8)]})}),S.jsxs("p",{style:{margin:"0.5rem 0 0 0",color:"#64748b",fontSize:e?"0.75rem":"0.875rem"},children:[" ",A(r.completed_at||r.created_at)]}),r.table_number&&S.jsxs("div",{style:{marginTop:"0.5rem",display:"inline-block",padding:"0.25rem 0.75rem",background:"linear-gradient(135deg, #9333ea 0%, #7c3aed 100%)",color:"white",borderRadius:"6px",fontSize:e?"0.75rem":"0.8125rem",fontWeight:"600",boxShadow:"0 2px 6px rgba(147, 51, 234, 0.4)"},children:[" Masa ",r.table_number]}),S.jsxs("div",{style:{marginTop:"0.75rem"},children:[S.jsx("div",{style:{fontSize:e?"0.75rem":"0.8125rem",color:"#1e293b",marginBottom:"0.25rem",fontWeight:"600"},children:"Toplam:"}),S.jsx("div",{style:{fontSize:e?"2rem":"2.5rem",fontWeight:"800",letterSpacing:"0.5px",display:"inline-block",padding:"0.5rem 1rem",borderRadius:"8px",boxShadow:"0 4px 12px rgba(30, 41, 59, 0.25), 0 0 20px rgba(30, 41, 59, 0.15)",border:"2px solid rgba(30, 41, 59, 0.3)",background:"linear-gradient(135deg, rgba(30, 41, 59, 0.1) 0%, rgba(15, 23, 42, 0.05) 100%)"},children:S.jsxs("span",{style:{color:"#1e293b",fontWeight:"800",textShadow:"0 2px 8px rgba(30, 41, 59, 0.3)"},children:["",parseFloat(r.total_amount).toFixed(2)]})})]})]})}),r.order_items&&r.order_items.length>0&&S.jsxs("div",{style:{marginBottom:"1rem",padding:e?"1rem":"1.25rem",background:"#f8fafc",borderRadius:"8px",border:"1px solid #e2e8f0"},children:[c.map((y,L)=>S.jsxs("div",{style:{padding:L<c.length-1||p?"0.75rem 0":"0.75rem 0 0 0",borderBottom:L<c.length-1||p?"1px solid #cbd5e1":"none"},children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"1rem"},children:[S.jsxs("div",{style:{flex:1},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.25rem"},children:[S.jsxs("span",{style:{fontSize:e?"0.875rem":"0.9375rem",fontWeight:"600",color:"#64748b",minWidth:"1.5rem",textAlign:"center"},children:[y.quantity,""]}),S.jsx("span",{style:{fontSize:e?"0.875rem":"0.9375rem",fontWeight:"500",color:"#64748b",flex:1},children:y.product_name})]}),S.jsxs("div",{style:{marginLeft:e?"2rem":"2.25rem",fontSize:e?"0.6875rem":"0.75rem",color:"#94a3b8"},children:["",parseFloat(y.product_price).toFixed(2),"  ",y.quantity]})]}),S.jsx("div",{style:{textAlign:"right",minWidth:"5rem"},children:S.jsxs("div",{style:{fontSize:e?"1rem":"1.125rem",fontWeight:"700",color:"#1e293b",letterSpacing:"0.3px"},children:["",parseFloat(y.subtotal).toFixed(2)]})})]}),y.notes&&S.jsx("div",{style:{marginTop:"0.5rem",padding:"0.375rem 0.75rem",background:"#fef3c7",borderRadius:"4px",borderLeft:"3px solid #f59e0b"},children:S.jsxs("p",{style:{margin:0,color:"#92400e",fontSize:e?"0.75rem":"0.8125rem",fontStyle:"italic",fontWeight:"500"},children:[" ",y.notes]})})]},y.id)),p&&S.jsxs(S.Fragment,{children:[!o&&S.jsxs("div",{style:{marginTop:"0.75rem"},children:[S.jsxs("button",{onClick:()=>f(!0),className:"pulse-button",style:{width:"100%",padding:"0.375rem 0.75rem",background:"#c7d2fe",color:"#1e293b",border:"2px solid #6366f1",borderRadius:"6px",cursor:"pointer",fontSize:e?"0.75rem":"0.8125rem",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.375rem",transition:"all 0.3s ease",boxShadow:"0 1px 3px rgba(99, 102, 241, 0.2)",position:"relative",overflow:"hidden",minHeight:"1.875rem",height:"1.875rem"},onMouseEnter:y=>{y.currentTarget.style.background="#6366f1",y.currentTarget.style.color="white",y.currentTarget.style.boxShadow="0 4px 12px rgba(99, 102, 241, 0.4)",y.currentTarget.style.transform="translateY(-1px)";const L=y.currentTarget.querySelector("span:first-child"),E=y.currentTarget.querySelector("span:last-child");L&&(L.style.color="white"),E&&(E.style.color="white")},onMouseLeave:y=>{y.currentTarget.style.background="#c7d2fe",y.currentTarget.style.color="#1e293b",y.currentTarget.style.boxShadow="0 1px 3px rgba(99, 102, 241, 0.2)",y.currentTarget.style.transform="translateY(0)";const L=y.currentTarget.querySelector("span:first-child"),E=y.currentTarget.querySelector("span:last-child");L&&(L.style.color="#1e293b"),E&&(E.style.color="#1e293b")},children:[S.jsx("span",{style:{fontSize:"1.125rem",transition:"all 0.3s ease",display:"inline-block",fontWeight:"bold",animation:"arrowPulse 1.5s ease-in-out infinite",color:"#1e293b"},children:""}),S.jsx("span",{style:{color:"#1e293b",transition:"color 0.3s ease"},children:`+ ${h.length} rn daha`})]}),S.jsx("style",{children:`
                    @keyframes arrowPulse {
                      0%, 100% {
                        opacity: 1;
                        transform: translateY(0) scale(1);
                      }
                      50% {
                        opacity: 0.6;
                        transform: translateY(4px) scale(1.1);
                      }
                    }
                    .pulse-button {
                      animation: backgroundPulse 2s ease-in-out infinite;
                    }
                    @keyframes backgroundPulse {
                      0%, 100% {
                        background-color: #c7d2fe;
                        border-color: #6366f1;
                      }
                      50% {
                        background-color: #a5b4fc;
                        border-color: #818cf8;
                        box-shadow: 0 2px 8px rgba(99, 102, 241, 0.3);
                      }
                    }
                  `})]}),o&&p&&S.jsxs("div",{style:{marginTop:"0.75rem",paddingTop:"0.75rem",borderTop:"2px solid #e2e8f0",animation:"slideDown 0.3s ease"},children:[h.map((y,L)=>S.jsxs("div",{style:{padding:L<h.length-1?"0.75rem 0":"0.75rem 0 0 0",borderBottom:L<h.length-1?"1px solid #cbd5e1":"none"},children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"1rem"},children:[S.jsxs("div",{style:{flex:1},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.25rem"},children:[S.jsxs("span",{style:{fontSize:e?"0.875rem":"0.9375rem",fontWeight:"600",color:"#64748b",minWidth:"1.5rem",textAlign:"center"},children:[y.quantity,""]}),S.jsx("span",{style:{fontSize:e?"0.875rem":"0.9375rem",fontWeight:"500",color:"#64748b",flex:1},children:y.product_name})]}),S.jsxs("div",{style:{marginLeft:e?"2rem":"2.25rem",fontSize:e?"0.6875rem":"0.75rem",color:"#94a3b8"},children:["",parseFloat(y.product_price).toFixed(2),"  ",y.quantity]})]}),S.jsx("div",{style:{textAlign:"right",minWidth:"5rem"},children:S.jsxs("div",{style:{fontSize:e?"1rem":"1.125rem",fontWeight:"700",color:"#1e293b",letterSpacing:"0.3px"},children:["",parseFloat(y.subtotal).toFixed(2)]})})]}),y.notes&&S.jsx("div",{style:{marginTop:"0.5rem",padding:"0.375rem 0.75rem",background:"#fef3c7",borderRadius:"4px",borderLeft:"3px solid #f59e0b"},children:S.jsxs("p",{style:{margin:0,color:"#92400e",fontSize:e?"0.75rem":"0.8125rem",fontStyle:"italic",fontWeight:"500"},children:[" ",y.notes]})})]},y.id)),S.jsx("div",{style:{marginTop:"0.75rem",paddingTop:"0.75rem",borderTop:"1px solid #cbd5e1"},children:S.jsxs("button",{onClick:()=>f(!1),style:{width:"100%",padding:"0.375rem 0.75rem",background:"transparent",color:"#6366f1",border:"2px solid #6366f1",borderRadius:"6px",cursor:"pointer",fontSize:e?"0.75rem":"0.8125rem",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.375rem",transition:"all 0.3s ease",minHeight:"1.875rem",height:"1.875rem"},onMouseEnter:y=>{y.currentTarget.style.background="#6366f1",y.currentTarget.style.color="white"},onMouseLeave:y=>{y.currentTarget.style.background="transparent",y.currentTarget.style.color="#6366f1"},children:[S.jsx("span",{style:{fontSize:"0.875rem",transform:"rotate(180deg)",transition:"transform 0.2s ease",display:"inline-block"},children:""}),S.jsx("span",{children:"Daha Az Gster"})]})})]})]})]}),!l&&S.jsx("button",{onClick:()=>a(r.id,r.total_amount),style:{width:"100%",background:"#10b981",color:"white",border:"none",borderRadius:"8px",padding:"0.875rem",fontSize:e?"0.9375rem":"1rem",fontWeight:"600",cursor:"pointer",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",transition:"all 0.2s"},onMouseEnter:y=>{y.currentTarget.style.background="#059669",y.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:y=>{y.currentTarget.style.background="#10b981",y.currentTarget.style.transform="translateY(0)"},children:"deme Yapld"})]})}function sc({children:r}){const{user:e,loading:n}=No();return n?S.jsx(Da,{message:"Ykleniyor..."}):e?r:S.jsx(Zb,{to:"/admin",replace:!0})}function k6({slug:r}){return S.jsx(S_,{slug:r})}function N6(){return S.jsx(Aw,{basename:"/erzurumkafe",children:S.jsxs(ew,{children:[S.jsx(Is,{path:"/admin",element:S.jsx(E_,{})}),S.jsx(Is,{path:"/admin/dashboard",element:S.jsx(sc,{children:S.jsx(T_,{})})}),S.jsx(Is,{path:"/admin/products",element:S.jsx(sc,{children:S.jsx(N_,{})})}),S.jsx(Is,{path:"/admin/categories",element:S.jsx(sc,{children:S.jsx(k_,{})})}),S.jsx(Is,{path:"/admin/settings",element:S.jsx(sc,{children:S.jsx(L_,{})})}),S.jsx(Is,{path:"/admin/orders",element:S.jsx(sc,{children:S.jsx(j_,{})})}),S.jsx(Is,{path:"/admin/payments",element:S.jsx(sc,{children:S.jsx(E6,{})})}),S.jsx(Is,{path:"/",element:S.jsx(v_,{})}),S.jsx(Is,{path:"/:table",element:S.jsx(k6,{slug:"erzurumkafe"})})]})})}function L6(){return S.jsx(g_,{children:S.jsx(N6,{})})}tb.createRoot(document.getElementById("root")).render(S.jsx(te.StrictMode,{children:S.jsx(A_,{children:S.jsx(L6,{})})}));export{En as _};
