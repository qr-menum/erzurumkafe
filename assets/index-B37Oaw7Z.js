(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var mT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Dp={exports:{}},Df={};var Y2;function Kx(){if(Y2)return Df;Y2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var c in s)c!=="key"&&(o[c]=s[c])}else o=s;return s=o.ref,{$$typeof:t,type:i,key:u,ref:s!==void 0?s:null,props:o}}return Df.Fragment=e,Df.jsx=n,Df.jsxs=n,Df}var V2;function Xx(){return V2||(V2=1,Dp.exports=Kx()),Dp.exports}var _=Xx(),Ip={exports:{}},Kt={};var K2;function Jx(){if(K2)return Kt;K2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),b=Symbol.iterator;function g(Z){return Z===null||typeof Z!="object"?null:(Z=b&&Z[b]||Z["@@iterator"],typeof Z=="function"?Z:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,k={};function T(Z,j,G){this.props=Z,this.context=j,this.refs=k,this.updater=G||S}T.prototype.isReactComponent={},T.prototype.setState=function(Z,j){if(typeof Z!="object"&&typeof Z!="function"&&Z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Z,j,"setState")},T.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};function z(){}z.prototype=T.prototype;function B(Z,j,G){this.props=Z,this.context=j,this.refs=k,this.updater=G||S}var D=B.prototype=new z;D.constructor=B,E(D,T.prototype),D.isPureReactComponent=!0;var ne=Array.isArray;function H(){}var te={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function L(Z,j,G){var V=G.ref;return{$$typeof:t,type:Z,key:j,ref:V!==void 0?V:null,props:G}}function K(Z,j){return L(Z.type,j,Z.props)}function N(Z){return typeof Z=="object"&&Z!==null&&Z.$$typeof===t}function P(Z){var j={"=":"=0",":":"=2"};return"$"+Z.replace(/[=:]/g,function(G){return j[G]})}var Y=/\/+/g;function F(Z,j){return typeof Z=="object"&&Z!==null&&Z.key!=null?P(""+Z.key):j.toString(36)}function X(Z){switch(Z.status){case"fulfilled":return Z.value;case"rejected":throw Z.reason;default:switch(typeof Z.status=="string"?Z.then(H,H):(Z.status="pending",Z.then(function(j){Z.status==="pending"&&(Z.status="fulfilled",Z.value=j)},function(j){Z.status==="pending"&&(Z.status="rejected",Z.reason=j)})),Z.status){case"fulfilled":return Z.value;case"rejected":throw Z.reason}}throw Z}function O(Z,j,G,V,ee){var q=typeof Z;(q==="undefined"||q==="boolean")&&(Z=null);var ae=!1;if(Z===null)ae=!0;else switch(q){case"bigint":case"string":case"number":ae=!0;break;case"object":switch(Z.$$typeof){case t:case e:ae=!0;break;case p:return ae=Z._init,O(ae(Z._payload),j,G,V,ee)}}if(ae)return ee=ee(Z),ae=V===""?"."+F(Z,0):V,ne(ee)?(G="",ae!=null&&(G=ae.replace(Y,"$&/")+"/"),O(ee,j,G,"",function(_e){return _e})):ee!=null&&(N(ee)&&(ee=K(ee,G+(ee.key==null||Z&&Z.key===ee.key?"":(""+ee.key).replace(Y,"$&/")+"/")+ae)),j.push(ee)),1;ae=0;var pe=V===""?".":V+":";if(ne(Z))for(var ye=0;ye<Z.length;ye++)V=Z[ye],q=pe+F(V,ye),ae+=O(V,j,G,q,ee);else if(ye=g(Z),typeof ye=="function")for(Z=ye.call(Z),ye=0;!(V=Z.next()).done;)V=V.value,q=pe+F(V,ye++),ae+=O(V,j,G,q,ee);else if(q==="object"){if(typeof Z.then=="function")return O(X(Z),j,G,V,ee);throw j=String(Z),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(Z).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return ae}function R(Z,j,G){if(Z==null)return Z;var V=[],ee=0;return O(Z,V,"","",function(q){return j.call(G,q,ee++)}),V}function se(Z){if(Z._status===-1){var j=Z._result;j=j(),j.then(function(G){(Z._status===0||Z._status===-1)&&(Z._status=1,Z._result=G)},function(G){(Z._status===0||Z._status===-1)&&(Z._status=2,Z._result=G)}),Z._status===-1&&(Z._status=0,Z._result=j)}if(Z._status===1)return Z._result.default;throw Z._result}var le=typeof reportError=="function"?reportError:function(Z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Z=="object"&&Z!==null&&typeof Z.message=="string"?String(Z.message):String(Z),error:Z});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Z);return}console.error(Z)},me={map:R,forEach:function(Z,j,G){R(Z,function(){j.apply(this,arguments)},G)},count:function(Z){var j=0;return R(Z,function(){j++}),j},toArray:function(Z){return R(Z,function(j){return j})||[]},only:function(Z){if(!N(Z))throw Error("React.Children.only expected to receive a single React element child.");return Z}};return Kt.Activity=y,Kt.Children=me,Kt.Component=T,Kt.Fragment=n,Kt.Profiler=s,Kt.PureComponent=B,Kt.StrictMode=i,Kt.Suspense=f,Kt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=te,Kt.__COMPILER_RUNTIME={__proto__:null,c:function(Z){return te.H.useMemoCache(Z)}},Kt.cache=function(Z){return function(){return Z.apply(null,arguments)}},Kt.cacheSignal=function(){return null},Kt.cloneElement=function(Z,j,G){if(Z==null)throw Error("The argument must be a React element, but you passed "+Z+".");var V=E({},Z.props),ee=Z.key;if(j!=null)for(q in j.key!==void 0&&(ee=""+j.key),j)!I.call(j,q)||q==="key"||q==="__self"||q==="__source"||q==="ref"&&j.ref===void 0||(V[q]=j[q]);var q=arguments.length-2;if(q===1)V.children=G;else if(1<q){for(var ae=Array(q),pe=0;pe<q;pe++)ae[pe]=arguments[pe+2];V.children=ae}return L(Z.type,ee,V)},Kt.createContext=function(Z){return Z={$$typeof:u,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null},Z.Provider=Z,Z.Consumer={$$typeof:o,_context:Z},Z},Kt.createElement=function(Z,j,G){var V,ee={},q=null;if(j!=null)for(V in j.key!==void 0&&(q=""+j.key),j)I.call(j,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(ee[V]=j[V]);var ae=arguments.length-2;if(ae===1)ee.children=G;else if(1<ae){for(var pe=Array(ae),ye=0;ye<ae;ye++)pe[ye]=arguments[ye+2];ee.children=pe}if(Z&&Z.defaultProps)for(V in ae=Z.defaultProps,ae)ee[V]===void 0&&(ee[V]=ae[V]);return L(Z,q,ee)},Kt.createRef=function(){return{current:null}},Kt.forwardRef=function(Z){return{$$typeof:c,render:Z}},Kt.isValidElement=N,Kt.lazy=function(Z){return{$$typeof:p,_payload:{_status:-1,_result:Z},_init:se}},Kt.memo=function(Z,j){return{$$typeof:h,type:Z,compare:j===void 0?null:j}},Kt.startTransition=function(Z){var j=te.T,G={};te.T=G;try{var V=Z(),ee=te.S;ee!==null&&ee(G,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(H,le)}catch(q){le(q)}finally{j!==null&&G.types!==null&&(j.types=G.types),te.T=j}},Kt.unstable_useCacheRefresh=function(){return te.H.useCacheRefresh()},Kt.use=function(Z){return te.H.use(Z)},Kt.useActionState=function(Z,j,G){return te.H.useActionState(Z,j,G)},Kt.useCallback=function(Z,j){return te.H.useCallback(Z,j)},Kt.useContext=function(Z){return te.H.useContext(Z)},Kt.useDebugValue=function(){},Kt.useDeferredValue=function(Z,j){return te.H.useDeferredValue(Z,j)},Kt.useEffect=function(Z,j){return te.H.useEffect(Z,j)},Kt.useEffectEvent=function(Z){return te.H.useEffectEvent(Z)},Kt.useId=function(){return te.H.useId()},Kt.useImperativeHandle=function(Z,j,G){return te.H.useImperativeHandle(Z,j,G)},Kt.useInsertionEffect=function(Z,j){return te.H.useInsertionEffect(Z,j)},Kt.useLayoutEffect=function(Z,j){return te.H.useLayoutEffect(Z,j)},Kt.useMemo=function(Z,j){return te.H.useMemo(Z,j)},Kt.useOptimistic=function(Z,j){return te.H.useOptimistic(Z,j)},Kt.useReducer=function(Z,j,G){return te.H.useReducer(Z,j,G)},Kt.useRef=function(Z){return te.H.useRef(Z)},Kt.useState=function(Z){return te.H.useState(Z)},Kt.useSyncExternalStore=function(Z,j,G){return te.H.useSyncExternalStore(Z,j,G)},Kt.useTransition=function(){return te.H.useTransition()},Kt.version="19.2.3",Kt}var X2;function ng(){return X2||(X2=1,Ip.exports=Jx()),Ip.exports}var W=ng();const hr=Vx(W);var Mp={exports:{}},If={},zp={exports:{}},Up={};var J2;function Qx(){return J2||(J2=1,(function(t){function e(O,R){var se=O.length;O.push(R);e:for(;0<se;){var le=se-1>>>1,me=O[le];if(0<s(me,R))O[le]=R,O[se]=me,se=le;else break e}}function n(O){return O.length===0?null:O[0]}function i(O){if(O.length===0)return null;var R=O[0],se=O.pop();if(se!==R){O[0]=se;e:for(var le=0,me=O.length,Z=me>>>1;le<Z;){var j=2*(le+1)-1,G=O[j],V=j+1,ee=O[V];if(0>s(G,se))V<me&&0>s(ee,G)?(O[le]=ee,O[V]=se,le=V):(O[le]=G,O[j]=se,le=j);else if(V<me&&0>s(ee,se))O[le]=ee,O[V]=se,le=V;else break e}}return R}function s(O,R){var se=O.sortIndex-R.sortIndex;return se!==0?se:O.id-R.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,c=u.now();t.unstable_now=function(){return u.now()-c}}var f=[],h=[],p=1,y=null,b=3,g=!1,S=!1,E=!1,k=!1,T=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function D(O){for(var R=n(h);R!==null;){if(R.callback===null)i(h);else if(R.startTime<=O)i(h),R.sortIndex=R.expirationTime,e(f,R);else break;R=n(h)}}function ne(O){if(E=!1,D(O),!S)if(n(f)!==null)S=!0,H||(H=!0,P());else{var R=n(h);R!==null&&X(ne,R.startTime-O)}}var H=!1,te=-1,I=5,L=-1;function K(){return k?!0:!(t.unstable_now()-L<I)}function N(){if(k=!1,H){var O=t.unstable_now();L=O;var R=!0;try{e:{S=!1,E&&(E=!1,z(te),te=-1),g=!0;var se=b;try{t:{for(D(O),y=n(f);y!==null&&!(y.expirationTime>O&&K());){var le=y.callback;if(typeof le=="function"){y.callback=null,b=y.priorityLevel;var me=le(y.expirationTime<=O);if(O=t.unstable_now(),typeof me=="function"){y.callback=me,D(O),R=!0;break t}y===n(f)&&i(f),D(O)}else i(f);y=n(f)}if(y!==null)R=!0;else{var Z=n(h);Z!==null&&X(ne,Z.startTime-O),R=!1}}break e}finally{y=null,b=se,g=!1}R=void 0}}finally{R?P():H=!1}}}var P;if(typeof B=="function")P=function(){B(N)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,F=Y.port2;Y.port1.onmessage=N,P=function(){F.postMessage(null)}}else P=function(){T(N,0)};function X(O,R){te=T(function(){O(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(O){switch(b){case 1:case 2:case 3:var R=3;break;default:R=b}var se=b;b=R;try{return O()}finally{b=se}},t.unstable_requestPaint=function(){k=!0},t.unstable_runWithPriority=function(O,R){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var se=b;b=O;try{return R()}finally{b=se}},t.unstable_scheduleCallback=function(O,R,se){var le=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?le+se:le):se=le,O){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=se+me,O={id:p++,callback:R,priorityLevel:O,startTime:se,expirationTime:me,sortIndex:-1},se>le?(O.sortIndex=se,e(h,O),n(f)===null&&O===n(h)&&(E?(z(te),te=-1):E=!0,X(ne,se-le))):(O.sortIndex=me,e(f,O),S||g||(S=!0,H||(H=!0,P()))),O},t.unstable_shouldYield=K,t.unstable_wrapCallback=function(O){var R=b;return function(){var se=b;b=R;try{return O.apply(this,arguments)}finally{b=se}}}})(Up)),Up}var Q2;function Zx(){return Q2||(Q2=1,zp.exports=Qx()),zp.exports}var Bp={exports:{}},_i={};var Z2;function e3(){if(Z2)return _i;Z2=1;var t=ng();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(f,h,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:y==null?null:""+y,children:f,containerInfo:h,implementation:p}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return _i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,_i.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return o(f,h,null,p)},_i.flushSync=function(f){var h=u.T,p=i.p;try{if(u.T=null,i.p=2,f)return f()}finally{u.T=h,i.p=p,i.d.f()}},_i.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(f,h))},_i.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},_i.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,y=c(p,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,g=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?i.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:g}):p==="script"&&i.d.X(f,{crossOrigin:y,integrity:b,fetchPriority:g,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},_i.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=c(h.as,h.crossOrigin);i.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(f)},_i.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,y=c(p,h.crossOrigin);i.d.L(f,p,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},_i.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=c(h.as,h.crossOrigin);i.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(f)},_i.requestFormReset=function(f){i.d.r(f)},_i.unstable_batchedUpdates=function(f,h){return f(h)},_i.useFormState=function(f,h,p){return u.H.useFormState(f,h,p)},_i.useFormStatus=function(){return u.H.useHostTransitionStatus()},_i.version="19.2.3",_i}var e5;function ub(){if(e5)return Bp.exports;e5=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Bp.exports=e3(),Bp.exports}var t5;function t3(){if(t5)return If;t5=1;var t=Zx(),e=ng(),n=ub();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var a=r,l=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(l=a.return),r=a.return;while(r)}return a.tag===3?l:null}function u(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function c(r){if(r.tag===31){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function f(r){if(o(r)!==r)throw Error(i(188))}function h(r){var a=r.alternate;if(!a){if(a=o(r),a===null)throw Error(i(188));return a!==r?null:r}for(var l=r,d=a;;){var v=l.return;if(v===null)break;var x=v.alternate;if(x===null){if(d=v.return,d!==null){l=d;continue}break}if(v.child===x.child){for(x=v.child;x;){if(x===l)return f(v),r;if(x===d)return f(v),a;x=x.sibling}throw Error(i(188))}if(l.return!==d.return)l=v,d=x;else{for(var U=!1,oe=v.child;oe;){if(oe===l){U=!0,l=v,d=x;break}if(oe===d){U=!0,d=v,l=x;break}oe=oe.sibling}if(!U){for(oe=x.child;oe;){if(oe===l){U=!0,l=x,d=v;break}if(oe===d){U=!0,d=x,l=v;break}oe=oe.sibling}if(!U)throw Error(i(189))}}if(l.alternate!==d)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?r:a}function p(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=p(r),a!==null)return a;r=r.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),z=Symbol.for("react.consumer"),B=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function P(r){return r===null||typeof r!="object"?null:(r=N&&r[N]||r["@@iterator"],typeof r=="function"?r:null)}var Y=Symbol.for("react.client.reference");function F(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===Y?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case E:return"Fragment";case T:return"Profiler";case k:return"StrictMode";case ne:return"Suspense";case H:return"SuspenseList";case L:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case S:return"Portal";case B:return r.displayName||"Context";case z:return(r._context.displayName||"Context")+".Consumer";case D:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case te:return a=r.displayName||null,a!==null?a:F(r.type)||"Memo";case I:a=r._payload,r=r._init;try{return F(r(a))}catch{}}return null}var X=Array.isArray,O=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},le=[],me=-1;function Z(r){return{current:r}}function j(r){0>me||(r.current=le[me],le[me]=null,me--)}function G(r,a){me++,le[me]=r.current,r.current=a}var V=Z(null),ee=Z(null),q=Z(null),ae=Z(null);function pe(r,a){switch(G(q,a),G(ee,r),G(V,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?m2(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=m2(a),r=y2(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}j(V),G(V,r)}function ye(){j(V),j(ee),j(q)}function _e(r){r.memoizedState!==null&&G(ae,r);var a=V.current,l=y2(a,r.type);a!==l&&(G(ee,r),G(V,l))}function Be(r){ee.current===r&&(j(V),j(ee)),ae.current===r&&(j(ae),jf._currentValue=se)}var Qe,nt;function be(r){if(Qe===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Qe=a&&a[1]||"",nt=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qe+r+nt}var $=!1;function ge(r,a){if(!r||$)return"";$=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(a){var it=function(){throw Error()};if(Object.defineProperty(it.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(it,[])}catch(He){var Pe=He}Reflect.construct(r,[],it)}else{try{it.call()}catch(He){Pe=He}r.call(it.prototype)}}else{try{throw Error()}catch(He){Pe=He}(it=r())&&typeof it.catch=="function"&&it.catch(function(){})}}catch(He){if(He&&Pe&&typeof He.stack=="string")return[He.stack,Pe.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=d.DetermineComponentFrameRoot(),U=x[0],oe=x[1];if(U&&oe){var we=U.split(`
`),ze=oe.split(`
`);for(v=d=0;d<we.length&&!we[d].includes("DetermineComponentFrameRoot");)d++;for(;v<ze.length&&!ze[v].includes("DetermineComponentFrameRoot");)v++;if(d===we.length||v===ze.length)for(d=we.length-1,v=ze.length-1;1<=d&&0<=v&&we[d]!==ze[v];)v--;for(;1<=d&&0<=v;d--,v--)if(we[d]!==ze[v]){if(d!==1||v!==1)do if(d--,v--,0>v||we[d]!==ze[v]){var Xe=`
`+we[d].replace(" at new "," at ");return r.displayName&&Xe.includes("<anonymous>")&&(Xe=Xe.replace("<anonymous>",r.displayName)),Xe}while(1<=d&&0<=v);break}}}finally{$=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?be(l):""}function Oe(r,a){switch(r.tag){case 26:case 27:case 5:return be(r.type);case 16:return be("Lazy");case 13:return r.child!==a&&a!==null?be("Suspense Fallback"):be("Suspense");case 19:return be("SuspenseList");case 0:case 15:return ge(r.type,!1);case 11:return ge(r.type.render,!1);case 1:return ge(r.type,!0);case 31:return be("Activity");default:return""}}function Te(r){try{var a="",l=null;do a+=Oe(r,l),l=r,r=r.return;while(r);return a}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var Ee=Object.prototype.hasOwnProperty,qe=t.unstable_scheduleCallback,Me=t.unstable_cancelCallback,lt=t.unstable_shouldYield,ct=t.unstable_requestPaint,dt=t.unstable_now,ve=t.unstable_getCurrentPriorityLevel,Re=t.unstable_ImmediatePriority,Ge=t.unstable_UserBlockingPriority,Fe=t.unstable_NormalPriority,Ue=t.unstable_LowPriority,Ke=t.unstable_IdlePriority,Ve=t.log,ot=t.unstable_setDisableYieldValue,Je=null,$e=null;function tt(r){if(typeof Ve=="function"&&ot(r),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(Je,r)}catch{}}var _t=Math.clz32?Math.clz32:yt,mt=Math.log,Ht=Math.LN2;function yt(r){return r>>>=0,r===0?32:31-(mt(r)/Ht|0)|0}var gt=256,vt=262144,bt=4194304;function ft(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Ct(r,a,l){var d=r.pendingLanes;if(d===0)return 0;var v=0,x=r.suspendedLanes,U=r.pingedLanes;r=r.warmLanes;var oe=d&134217727;return oe!==0?(d=oe&~x,d!==0?v=ft(d):(U&=oe,U!==0?v=ft(U):l||(l=oe&~r,l!==0&&(v=ft(l))))):(oe=d&~x,oe!==0?v=ft(oe):U!==0?v=ft(U):l||(l=d&~r,l!==0&&(v=ft(l)))),v===0?0:a!==0&&a!==v&&(a&x)===0&&(x=v&-v,l=a&-a,x>=l||x===32&&(l&4194048)!==0)?a:v}function tn(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function Qt(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function on(){var r=bt;return bt<<=1,(bt&62914560)===0&&(bt=4194304),r}function Gt(r){for(var a=[],l=0;31>l;l++)a.push(r);return a}function Lt(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function kn(r,a,l,d,v,x){var U=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var oe=r.entanglements,we=r.expirationTimes,ze=r.hiddenUpdates;for(l=U&~l;0<l;){var Xe=31-_t(l),it=1<<Xe;oe[Xe]=0,we[Xe]=-1;var Pe=ze[Xe];if(Pe!==null)for(ze[Xe]=null,Xe=0;Xe<Pe.length;Xe++){var He=Pe[Xe];He!==null&&(He.lane&=-536870913)}l&=~it}d!==0&&Ar(r,d,0),x!==0&&v===0&&r.tag!==0&&(r.suspendedLanes|=x&~(U&~a))}function Ar(r,a,l){r.pendingLanes|=a,r.suspendedLanes&=~a;var d=31-_t(a);r.entangledLanes|=a,r.entanglements[d]=r.entanglements[d]|1073741824|l&261930}function $n(r,a){var l=r.entangledLanes|=a;for(r=r.entanglements;l;){var d=31-_t(l),v=1<<d;v&a|r[d]&a&&(r[d]|=a),l&=~v}}function Gn(r,a){var l=a&-a;return l=(l&42)!==0?1:wn(l),(l&(r.suspendedLanes|a))!==0?0:l}function wn(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function On(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Tn(){var r=R.p;return r!==0?r:(r=window.event,r===void 0?32:P2(r.type))}function bi(r,a){var l=R.p;try{return R.p=r,a()}finally{R.p=l}}var Er=Math.random().toString(36).slice(2),Ln="__reactFiber$"+Er,Yn="__reactProps$"+Er,Zr="__reactContainer$"+Er,Li="__reactEvents$"+Er,Ui="__reactListeners$"+Er,ao="__reactHandles$"+Er,ia="__reactResources$"+Er,aa="__reactMarker$"+Er;function Os(r){delete r[Ln],delete r[Yn],delete r[Li],delete r[Ui],delete r[ao]}function sa(r){var a=r[Ln];if(a)return a;for(var l=r.parentNode;l;){if(a=l[Zr]||l[Ln]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(r=A2(r);r!==null;){if(l=r[Ln])return l;r=A2(r)}return a}r=l,l=r.parentNode}return null}function oa(r){if(r=r[Ln]||r[Zr]){var a=r.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return r}return null}function so(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function La(r){var a=r[ia];return a||(a=r[ia]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function sr(r){r[aa]=!0}var Il=new Set,Ci={};function la(r,a){Ka(r,a),Ka(r+"Capture",a)}function Ka(r,a){for(Ci[r]=a,r=0;r<a.length;r++)Il.add(a[r])}var Ml=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zl={},Ul={};function ju(r){return Ee.call(Ul,r)?!0:Ee.call(zl,r)?!1:Ml.test(r)?Ul[r]=!0:(zl[r]=!0,!1)}function ji(r,a,l){if(ju(a))if(l===null)r.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var d=a.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+l)}}function Xa(r,a,l){if(l===null)r.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+l)}}function ua(r,a,l,d){if(d===null)r.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(a,l,""+d)}}function yn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Bl(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ca(r,a,l){var d=Object.getOwnPropertyDescriptor(r.constructor.prototype,a);if(!r.hasOwnProperty(a)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var v=d.get,x=d.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return v.call(this)},set:function(U){l=""+U,x.call(this,U)}}),Object.defineProperty(r,a,{enumerable:d.enumerable}),{getValue:function(){return l},setValue:function(U){l=""+U},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function Ds(r){if(!r._valueTracker){var a=Bl(r)?"checked":"value";r._valueTracker=Ca(r,a,""+r[a])}}function Pl(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var l=a.getValue(),d="";return r&&(d=Bl(r)?r.checked?"true":"false":r.value),r=d,r!==l?(a.setValue(r),!0):!1}function li(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var kr=/[\n"\\]/g;function pr(r){return r.replace(kr,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Go(r,a,l,d,v,x,U,oe){r.name="",U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?r.type=U:r.removeAttribute("type"),a!=null?U==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+yn(a)):r.value!==""+yn(a)&&(r.value=""+yn(a)):U!=="submit"&&U!=="reset"||r.removeAttribute("value"),a!=null?ql(r,U,yn(a)):l!=null?ql(r,U,yn(l)):d!=null&&r.removeAttribute("value"),v==null&&x!=null&&(r.defaultChecked=!!x),v!=null&&(r.checked=v&&typeof v!="function"&&typeof v!="symbol"),oe!=null&&typeof oe!="function"&&typeof oe!="symbol"&&typeof oe!="boolean"?r.name=""+yn(oe):r.removeAttribute("name")}function Nu(r,a,l,d,v,x,U,oe){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(r.type=x),a!=null||l!=null){if(!(x!=="submit"&&x!=="reset"||a!=null)){Ds(r);return}l=l!=null?""+yn(l):"",a=a!=null?""+yn(a):l,oe||a===r.value||(r.value=a),r.defaultValue=a}d=d??v,d=typeof d!="function"&&typeof d!="symbol"&&!!d,r.checked=oe?r.checked:!!d,r.defaultChecked=!!d,U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"&&(r.name=U),Ds(r)}function ql(r,a,l){a==="number"&&li(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function ui(r,a,l,d){if(r=r.options,a){a={};for(var v=0;v<l.length;v++)a["$"+l[v]]=!0;for(l=0;l<r.length;l++)v=a.hasOwnProperty("$"+r[l].value),r[l].selected!==v&&(r[l].selected=v),v&&d&&(r[l].defaultSelected=!0)}else{for(l=""+yn(l),a=null,v=0;v<r.length;v++){if(r[v].value===l){r[v].selected=!0,d&&(r[v].defaultSelected=!0);return}a!==null||r[v].disabled||(a=r[v])}a!==null&&(a.selected=!0)}}function Fl(r,a,l){if(a!=null&&(a=""+yn(a),a!==r.value&&(r.value=a),l==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=l!=null?""+yn(l):""}function Hl(r,a,l,d){if(a==null){if(d!=null){if(l!=null)throw Error(i(92));if(X(d)){if(1<d.length)throw Error(i(93));d=d[0]}l=d}l==null&&(l=""),a=l}l=yn(a),r.defaultValue=l,d=r.textContent,d===l&&d!==""&&d!==null&&(r.value=d),Ds(r)}function ca(r,a){if(a){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=a;return}}r.textContent=a}var oo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ru(r,a,l){var d=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?d?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":d?r.setProperty(a,l):typeof l!="number"||l===0||oo.has(a)?a==="float"?r.cssFloat=l:r[a]=(""+l).trim():r[a]=l+"px"}function Ou(r,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,l!=null){for(var d in l)!l.hasOwnProperty(d)||a!=null&&a.hasOwnProperty(d)||(d.indexOf("--")===0?r.setProperty(d,""):d==="float"?r.cssFloat="":r[d]="");for(var v in a)d=a[v],a.hasOwnProperty(v)&&l[v]!==d&&Ru(r,v,d)}else for(var x in a)a.hasOwnProperty(x)&&Ru(r,x,a[x])}function $l(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Du=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vi(r){return Du.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function fa(){}var Ja=null;function lo(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Is=null,zt=null;function Iu(r){var a=oa(r);if(a&&(r=a.stateNode)){var l=r[Yn]||null;e:switch(r=a.stateNode,a.type){case"input":if(Go(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+pr(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var d=l[a];if(d!==r&&d.form===r.form){var v=d[Yn]||null;if(!v)throw Error(i(90));Go(d,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(a=0;a<l.length;a++)d=l[a],d.form===r.form&&Pl(d)}break e;case"textarea":Fl(r,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&ui(r,!!l.multiple,a,!1)}}}var Gl=!1;function Mu(r,a,l){if(Gl)return r(a,l);Gl=!0;try{var d=r(a);return d}finally{if(Gl=!1,(Is!==null||zt!==null)&&(Bd(),Is&&(a=Is,r=zt,zt=Is=null,Iu(a),r)))for(a=0;a<r.length;a++)Iu(r[a])}}function Ni(r,a){var l=r.stateNode;if(l===null)return null;var d=l[Yn]||null;if(d===null)return null;l=d[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var Pr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yl=!1;if(Pr)try{var uo={};Object.defineProperty(uo,"passive",{get:function(){Yl=!0}}),window.addEventListener("test",uo,uo),window.removeEventListener("test",uo,uo)}catch{Yl=!1}var Ri=null,co=null,ja=null;function zu(){if(ja)return ja;var r,a=co,l=a.length,d,v="value"in Ri?Ri.value:Ri.textContent,x=v.length;for(r=0;r<l&&a[r]===v[r];r++);var U=l-r;for(d=1;d<=U&&a[l-d]===v[x-d];d++);return ja=v.slice(r,1<d?1-d:void 0)}function Bi(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function Yo(){return!0}function Vo(){return!1}function Or(r){function a(l,d,v,x,U){this._reactName=l,this._targetInst=v,this.type=d,this.nativeEvent=x,this.target=U,this.currentTarget=null;for(var oe in r)r.hasOwnProperty(oe)&&(l=r[oe],this[oe]=l?l(x):x[oe]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Yo:Vo,this.isPropagationStopped=Vo,this}return y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Yo)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Yo)},persist:function(){},isPersistent:Yo}),a}var Na={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pi=Or(Na),Qa=y({},Na,{view:0,detail:0}),Ko=Or(Qa),fo,Za,es,ho=y({},Qa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pt,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==es&&(es&&r.type==="mousemove"?(fo=r.screenX-es.screenX,Za=r.screenY-es.screenY):Za=fo=0,es=r),fo)},movementY:function(r){return"movementY"in r?r.movementY:Za}}),Vl=Or(ho),ts=y({},ho,{dataTransfer:0}),ns=Or(ts),Uu=y({},Qa,{relatedTarget:0}),rs=Or(Uu),Bu=y({},Na,{animationName:0,elapsedTime:0,pseudoElement:0}),A=Or(Bu),J=y({},Na,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),he=Or(J),xe=y({},Na,{data:0}),Le=Or(xe),Ze={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},st={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},At={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jt(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=At[r])?!!a[r]:!1}function Pt(){return jt}var Yt=y({},Qa,{key:function(r){if(r.key){var a=Ze[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=Bi(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?st[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pt,charCode:function(r){return r.type==="keypress"?Bi(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Bi(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),cn=Or(Yt),Vn=y({},ho,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),or=Or(Vn),Dn=y({},Qa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pt}),Tr=Or(Dn),gr=y({},Na,{propertyName:0,elapsedTime:0,pseudoElement:0}),qr=Or(gr),is=y({},ho,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),da=Or(is),as=y({},Na,{newState:0,oldState:0}),Kl=Or(as),Xo=[9,13,27,32],Ra=Pr&&"CompositionEvent"in window,ha=null;Pr&&"documentMode"in document&&(ha=document.documentMode);var po=Pr&&"TextEvent"in window&&!ha,ss=Pr&&(!Ra||ha&&8<ha&&11>=ha),Dr=" ",Ms=!1;function zs(r,a){switch(r){case"keyup":return Xo.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jo(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Oa=!1;function ci(r,a){switch(r){case"compositionend":return Jo(a);case"keypress":return a.which!==32?null:(Ms=!0,Dr);case"textInput":return r=a.data,r===Dr&&Ms?null:r;default:return null}}function os(r,a){if(Oa)return r==="compositionend"||!Ra&&zs(r,a)?(r=zu(),ja=co=Ri=null,Oa=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return ss&&a.locale!=="ko"?null:a.data;default:return null}}var Qo={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xl(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!Qo[r.type]:a==="textarea"}function Oi(r,a,l,d){Is?zt?zt.push(d):zt=[d]:Is=d,a=Gd(a,"onChange"),0<a.length&&(l=new Pi("onChange","change",null,l,d),r.push({event:l,listeners:a}))}var pa=null,ls=null;function Jl(r){c2(r,0)}function ga(r){var a=so(r);if(Pl(a))return r}function Us(r,a){if(r==="change")return a}var wi=!1;if(Pr){var fi;if(Pr){var Da="oninput"in document;if(!Da){var Ia=document.createElement("div");Ia.setAttribute("oninput","return;"),Da=typeof Ia.oninput=="function"}fi=Da}else fi=!1;wi=fi&&(!document.documentMode||9<document.documentMode)}function us(){pa&&(pa.detachEvent("onpropertychange",Zo),ls=pa=null)}function Zo(r){if(r.propertyName==="value"&&ga(ls)){var a=[];Oi(a,ls,r,lo(r)),Mu(Jl,a)}}function el(r,a,l){r==="focusin"?(us(),pa=a,ls=l,pa.attachEvent("onpropertychange",Zo)):r==="focusout"&&us()}function lr(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ga(ls)}function Pu(r,a){if(r==="click")return ga(a)}function Ma(r,a){if(r==="input"||r==="change")return ga(a)}function za(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var Fr=typeof Object.is=="function"?Object.is:za;function cs(r,a){if(Fr(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var l=Object.keys(r),d=Object.keys(a);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var v=l[d];if(!Ee.call(a,v)||!Fr(r[v],a[v]))return!1}return!0}function tl(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function nl(r,a){var l=tl(r);r=0;for(var d;l;){if(l.nodeType===3){if(d=r+l.textContent.length,r<=a&&d>=a)return{node:l,offset:a-r};r=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=tl(l)}}function fs(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?fs(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function ds(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=li(r.document);a instanceof r.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)r=a.contentWindow;else break;a=li(r.document)}return a}function Ua(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var go=Pr&&"documentMode"in document&&11>=document.documentMode,Di=null,hs=null,ei=null,qi=!1;function bn(r,a,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;qi||Di==null||Di!==li(d)||(d=Di,"selectionStart"in d&&Ua(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),ei&&cs(ei,d)||(ei=d,d=Gd(hs,"onSelect"),0<d.length&&(a=new Pi("onSelect","select",null,a,l),r.push({event:a,listeners:d}),a.target=Di)))}function fn(r,a){var l={};return l[r.toLowerCase()]=a.toLowerCase(),l["Webkit"+r]="webkit"+a,l["Moz"+r]="moz"+a,l}var In={animationend:fn("Animation","AnimationEnd"),animationiteration:fn("Animation","AnimationIteration"),animationstart:fn("Animation","AnimationStart"),transitionrun:fn("Transition","TransitionRun"),transitionstart:fn("Transition","TransitionStart"),transitioncancel:fn("Transition","TransitionCancel"),transitionend:fn("Transition","TransitionEnd")},ur={},Ba={};Pr&&(Ba=document.createElement("div").style,"AnimationEvent"in window||(delete In.animationend.animation,delete In.animationiteration.animation,delete In.animationstart.animation),"TransitionEvent"in window||delete In.transitionend.transition);function ma(r){if(ur[r])return ur[r];if(!In[r])return r;var a=In[r],l;for(l in a)if(a.hasOwnProperty(l)&&l in Ba)return ur[r]=a[l];return r}var mo=ma("animationend"),Ql=ma("animationiteration"),Qc=ma("animationstart"),gd=ma("transitionrun"),md=ma("transitionstart"),yd=ma("transitioncancel"),Zc=ma("transitionend"),ef=new Map,yo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yo.push("scrollEnd");function Fi(r,a){ef.set(r,a),la(a,[r])}var Zl=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},Ii=[],bo=0,qu=0;function eu(){for(var r=bo,a=qu=bo=0;a<r;){var l=Ii[a];Ii[a++]=null;var d=Ii[a];Ii[a++]=null;var v=Ii[a];Ii[a++]=null;var x=Ii[a];if(Ii[a++]=null,d!==null&&v!==null){var U=d.pending;U===null?v.next=v:(v.next=U.next,U.next=v),d.pending=v}x!==0&&nu(l,v,x)}}function tu(r,a,l,d){Ii[bo++]=r,Ii[bo++]=a,Ii[bo++]=l,Ii[bo++]=d,qu|=d,r.lanes|=d,r=r.alternate,r!==null&&(r.lanes|=d)}function Fu(r,a,l,d){return tu(r,a,l,d),ti(r)}function ps(r,a){return tu(r,null,null,a),ti(r)}function nu(r,a,l){r.lanes|=l;var d=r.alternate;d!==null&&(d.lanes|=l);for(var v=!1,x=r.return;x!==null;)x.childLanes|=l,d=x.alternate,d!==null&&(d.childLanes|=l),x.tag===22&&(r=x.stateNode,r===null||r._visibility&1||(v=!0)),r=x,x=x.return;return r.tag===3?(x=r.stateNode,v&&a!==null&&(v=31-_t(l),r=x.hiddenUpdates,d=r[v],d===null?r[v]=[a]:d.push(a),a.lane=l|536870912),x):null}function ti(r){if(50<Sf)throw Sf=0,ip=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var Hr={};function Hu(r,a,l,d){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ni(r,a,l,d){return new Hu(r,a,l,d)}function $u(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Hi(r,a){var l=r.alternate;return l===null?(l=ni(r.tag,a,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=a,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&65011712,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,a=r.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function ru(r,a){r.flags&=65011714;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,a=l.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function rl(r,a,l,d,v,x){var U=0;if(d=r,typeof r=="function")$u(r)&&(U=1);else if(typeof r=="string")U=Mx(r,l,V.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case L:return r=ni(31,l,a,v),r.elementType=L,r.lanes=x,r;case E:return Bs(l.children,v,x,a);case k:U=8,v|=24;break;case T:return r=ni(12,l,a,v|2),r.elementType=T,r.lanes=x,r;case ne:return r=ni(13,l,a,v),r.elementType=ne,r.lanes=x,r;case H:return r=ni(19,l,a,v),r.elementType=H,r.lanes=x,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case B:U=10;break e;case z:U=9;break e;case D:U=11;break e;case te:U=14;break e;case I:U=16,d=null;break e}U=29,l=Error(i(130,r===null?"null":typeof r,"")),d=null}return a=ni(U,l,a,v),a.elementType=r,a.type=d,a.lanes=x,a}function Bs(r,a,l,d){return r=ni(7,r,d,a),r.lanes=l,r}function iu(r,a,l){return r=ni(6,r,null,a),r.lanes=l,r}function Wu(r){var a=ni(18,null,null,0);return a.stateNode=r,a}function il(r,a,l){return a=ni(4,r.children!==null?r.children:[],r.key,a),a.lanes=l,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var Gu=new WeakMap;function $i(r,a){if(typeof r=="object"&&r!==null){var l=Gu.get(r);return l!==void 0?l:(a={value:r,source:a,stack:Te(a)},Gu.set(r,a),a)}return{value:r,source:a,stack:Te(a)}}var al=[],vo=0,Yu=null,au=0,Wi=[],Gi=0,Ps=null,Yi=1,Vi="";function Mi(r,a){al[vo++]=au,al[vo++]=Yu,Yu=r,au=a}function bd(r,a,l){Wi[Gi++]=Yi,Wi[Gi++]=Vi,Wi[Gi++]=Ps,Ps=r;var d=Yi;r=Vi;var v=32-_t(d)-1;d&=~(1<<v),l+=1;var x=32-_t(a)+v;if(30<x){var U=v-v%5;x=(d&(1<<U)-1).toString(32),d>>=U,v-=U,Yi=1<<32-_t(a)+v|l<<v|d,Vi=x+r}else Yi=1<<x|l<<v|d,Vi=r}function tf(r){r.return!==null&&(Mi(r,1),bd(r,1,0))}function Vu(r){for(;r===Yu;)Yu=al[--vo],al[vo]=null,au=al[--vo],al[vo]=null;for(;r===Ps;)Ps=Wi[--Gi],Wi[Gi]=null,Vi=Wi[--Gi],Wi[Gi]=null,Yi=Wi[--Gi],Wi[Gi]=null}function vd(r,a){Wi[Gi++]=Yi,Wi[Gi++]=Vi,Wi[Gi++]=Ps,Yi=a.id,Vi=a.overflow,Ps=r}var $r=null,Pn=null,rn=!1,di=null,er=!1,ya=Error(i(519));function qs(r){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw sl($i(a,r)),ya}function nf(r){var a=r.stateNode,l=r.type,d=r.memoizedProps;switch(a[Ln]=r,a[Yn]=d,l){case"dialog":sn("cancel",a),sn("close",a);break;case"iframe":case"object":case"embed":sn("load",a);break;case"video":case"audio":for(l=0;l<Ef.length;l++)sn(Ef[l],a);break;case"source":sn("error",a);break;case"img":case"image":case"link":sn("error",a),sn("load",a);break;case"details":sn("toggle",a);break;case"input":sn("invalid",a),Nu(a,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":sn("invalid",a);break;case"textarea":sn("invalid",a),Hl(a,d.value,d.defaultValue,d.children)}l=d.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||d.suppressHydrationWarning===!0||p2(a.textContent,l)?(d.popover!=null&&(sn("beforetoggle",a),sn("toggle",a)),d.onScroll!=null&&sn("scroll",a),d.onScrollEnd!=null&&sn("scrollend",a),d.onClick!=null&&(a.onclick=fa),a=!0):a=!1,a||qs(r,!0)}function gs(r){for($r=r.return;$r;)switch($r.tag){case 5:case 31:case 13:er=!1;return;case 27:case 3:er=!0;return;default:$r=$r.return}}function Wr(r){if(r!==$r)return!1;if(!rn)return gs(r),rn=!0,!1;var a=r.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||vp(r.type,r.memoizedProps)),l=!l),l&&Pn&&qs(r),gs(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));Pn=S2(r)}else if(a===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));Pn=S2(r)}else a===27?(a=Pn,wl(r.type)?(r=Ap,Ap=null,Pn=r):Pn=a):Pn=$r?Ha(r.stateNode.nextSibling):null;return!0}function wo(){Pn=$r=null,rn=!1}function rf(){var r=di;return r!==null&&(ea===null?ea=r:ea.push.apply(ea,r),di=null),r}function sl(r){di===null?di=[r]:di.push(r)}var Ku=Z(null),Fs=null,Pa=null;function Hs(r,a,l){G(Ku,a._currentValue),a._currentValue=l}function Ki(r){r._currentValue=Ku.current,j(Ku)}function ol(r,a,l){for(;r!==null;){var d=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,d!==null&&(d.childLanes|=a)):d!==null&&(d.childLanes&a)!==a&&(d.childLanes|=a),r===l)break;r=r.return}}function xo(r,a,l,d){var v=r.child;for(v!==null&&(v.return=r);v!==null;){var x=v.dependencies;if(x!==null){var U=v.child;x=x.firstContext;e:for(;x!==null;){var oe=x;x=v;for(var we=0;we<a.length;we++)if(oe.context===a[we]){x.lanes|=l,oe=x.alternate,oe!==null&&(oe.lanes|=l),ol(x.return,l,r),d||(U=null);break e}x=oe.next}}else if(v.tag===18){if(U=v.return,U===null)throw Error(i(341));U.lanes|=l,x=U.alternate,x!==null&&(x.lanes|=l),ol(U,l,r),U=null}else U=v.child;if(U!==null)U.return=v;else for(U=v;U!==null;){if(U===r){U=null;break}if(v=U.sibling,v!==null){v.return=U.return,U=v;break}U=U.return}v=U}}function $s(r,a,l,d){r=null;for(var v=a,x=!1;v!==null;){if(!x){if((v.flags&524288)!==0)x=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var U=v.alternate;if(U===null)throw Error(i(387));if(U=U.memoizedProps,U!==null){var oe=v.type;Fr(v.pendingProps.value,U.value)||(r!==null?r.push(oe):r=[oe])}}else if(v===ae.current){if(U=v.alternate,U===null)throw Error(i(387));U.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(r!==null?r.push(jf):r=[jf])}v=v.return}r!==null&&xo(a,r,l,d),a.flags|=262144}function Xu(r){for(r=r.firstContext;r!==null;){if(!Fr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Ws(r){Fs=r,Pa=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Gr(r){return wd(Fs,r)}function Ju(r,a){return Fs===null&&Ws(r),wd(r,a)}function wd(r,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Pa===null){if(r===null)throw Error(i(308));Pa=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else Pa=Pa.next=a;return l}var S0=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(l,d){r.push(d)}};this.abort=function(){a.aborted=!0,r.forEach(function(l){return l()})}},A0=t.unstable_scheduleCallback,E0=t.unstable_NormalPriority,cr={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ll(){return{controller:new S0,data:new Map,refCount:0}}function su(r){r.refCount--,r.refCount===0&&A0(E0,function(){r.controller.abort()})}var ou=null,Qu=0,m=0,w=null;function C(r,a){if(ou===null){var l=ou=[];Qu=0,m=cp(),w={status:"pending",value:void 0,then:function(d){l.push(d)}}}return Qu++,a.then(M,M),a}function M(){if(--Qu===0&&ou!==null){w!==null&&(w.status="fulfilled");var r=ou;ou=null,m=0,w=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function Q(r,a){var l=[],d={status:"pending",value:null,reason:null,then:function(v){l.push(v)}};return r.then(function(){d.status="fulfilled",d.value=a;for(var v=0;v<l.length;v++)(0,l[v])(a)},function(v){for(d.status="rejected",d.reason=v,v=0;v<l.length;v++)(0,l[v])(void 0)}),d}var re=O.S;O.S=function(r,a){Um=dt(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&C(r,a),re!==null&&re(r,a)};var ie=Z(null);function ue(){var r=ie.current;return r!==null?r:Fn.pooledCache}function ce(r,a){a===null?G(ie,ie.current):G(ie,a.pool)}function de(){var r=ue();return r===null?null:{parent:cr._currentValue,pool:r}}var Se=Error(i(460)),De=Error(i(474)),fe=Error(i(542)),ke={then:function(){}};function je(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Ye(r,a,l){switch(l=r[l],l===void 0?r.push(a):l!==a&&(a.then(fa,fa),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,ut(r),r;default:if(typeof a.status=="string")a.then(fa,fa);else{if(r=Fn,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(d){if(a.status==="pending"){var v=a;v.status="fulfilled",v.value=d}},function(d){if(a.status==="pending"){var v=a;v.status="rejected",v.reason=d}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,ut(r),r}throw We=a,Se}}function Ne(r){try{var a=r._init;return a(r._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(We=l,Se):l}}var We=null;function et(){if(We===null)throw Error(i(459));var r=We;return We=null,r}function ut(r){if(r===Se||r===fe)throw Error(i(483))}var at=null,kt=0;function wt(r){var a=kt;return kt+=1,at===null&&(at=[]),Ye(at,r,a)}function $t(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function St(r,a){throw a.$$typeof===b?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function nn(r){function a(Ce,Ae){if(r){var Ie=Ce.deletions;Ie===null?(Ce.deletions=[Ae],Ce.flags|=16):Ie.push(Ae)}}function l(Ce,Ae){if(!r)return null;for(;Ae!==null;)a(Ce,Ae),Ae=Ae.sibling;return null}function d(Ce){for(var Ae=new Map;Ce!==null;)Ce.key!==null?Ae.set(Ce.key,Ce):Ae.set(Ce.index,Ce),Ce=Ce.sibling;return Ae}function v(Ce,Ae){return Ce=Hi(Ce,Ae),Ce.index=0,Ce.sibling=null,Ce}function x(Ce,Ae,Ie){return Ce.index=Ie,r?(Ie=Ce.alternate,Ie!==null?(Ie=Ie.index,Ie<Ae?(Ce.flags|=67108866,Ae):Ie):(Ce.flags|=67108866,Ae)):(Ce.flags|=1048576,Ae)}function U(Ce){return r&&Ce.alternate===null&&(Ce.flags|=67108866),Ce}function oe(Ce,Ae,Ie,rt){return Ae===null||Ae.tag!==6?(Ae=iu(Ie,Ce.mode,rt),Ae.return=Ce,Ae):(Ae=v(Ae,Ie),Ae.return=Ce,Ae)}function we(Ce,Ae,Ie,rt){var Mt=Ie.type;return Mt===E?Xe(Ce,Ae,Ie.props.children,rt,Ie.key):Ae!==null&&(Ae.elementType===Mt||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===I&&Ne(Mt)===Ae.type)?(Ae=v(Ae,Ie.props),$t(Ae,Ie),Ae.return=Ce,Ae):(Ae=rl(Ie.type,Ie.key,Ie.props,null,Ce.mode,rt),$t(Ae,Ie),Ae.return=Ce,Ae)}function ze(Ce,Ae,Ie,rt){return Ae===null||Ae.tag!==4||Ae.stateNode.containerInfo!==Ie.containerInfo||Ae.stateNode.implementation!==Ie.implementation?(Ae=il(Ie,Ce.mode,rt),Ae.return=Ce,Ae):(Ae=v(Ae,Ie.children||[]),Ae.return=Ce,Ae)}function Xe(Ce,Ae,Ie,rt,Mt){return Ae===null||Ae.tag!==7?(Ae=Bs(Ie,Ce.mode,rt,Mt),Ae.return=Ce,Ae):(Ae=v(Ae,Ie),Ae.return=Ce,Ae)}function it(Ce,Ae,Ie){if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint")return Ae=iu(""+Ae,Ce.mode,Ie),Ae.return=Ce,Ae;if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case g:return Ie=rl(Ae.type,Ae.key,Ae.props,null,Ce.mode,Ie),$t(Ie,Ae),Ie.return=Ce,Ie;case S:return Ae=il(Ae,Ce.mode,Ie),Ae.return=Ce,Ae;case I:return Ae=Ne(Ae),it(Ce,Ae,Ie)}if(X(Ae)||P(Ae))return Ae=Bs(Ae,Ce.mode,Ie,null),Ae.return=Ce,Ae;if(typeof Ae.then=="function")return it(Ce,wt(Ae),Ie);if(Ae.$$typeof===B)return it(Ce,Ju(Ce,Ae),Ie);St(Ce,Ae)}return null}function Pe(Ce,Ae,Ie,rt){var Mt=Ae!==null?Ae.key:null;if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number"||typeof Ie=="bigint")return Mt!==null?null:oe(Ce,Ae,""+Ie,rt);if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case g:return Ie.key===Mt?we(Ce,Ae,Ie,rt):null;case S:return Ie.key===Mt?ze(Ce,Ae,Ie,rt):null;case I:return Ie=Ne(Ie),Pe(Ce,Ae,Ie,rt)}if(X(Ie)||P(Ie))return Mt!==null?null:Xe(Ce,Ae,Ie,rt,null);if(typeof Ie.then=="function")return Pe(Ce,Ae,wt(Ie),rt);if(Ie.$$typeof===B)return Pe(Ce,Ae,Ju(Ce,Ie),rt);St(Ce,Ie)}return null}function He(Ce,Ae,Ie,rt,Mt){if(typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint")return Ce=Ce.get(Ie)||null,oe(Ae,Ce,""+rt,Mt);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case g:return Ce=Ce.get(rt.key===null?Ie:rt.key)||null,we(Ae,Ce,rt,Mt);case S:return Ce=Ce.get(rt.key===null?Ie:rt.key)||null,ze(Ae,Ce,rt,Mt);case I:return rt=Ne(rt),He(Ce,Ae,Ie,rt,Mt)}if(X(rt)||P(rt))return Ce=Ce.get(Ie)||null,Xe(Ae,Ce,rt,Mt,null);if(typeof rt.then=="function")return He(Ce,Ae,Ie,wt(rt),Mt);if(rt.$$typeof===B)return He(Ce,Ae,Ie,Ju(Ae,rt),Mt);St(Ae,rt)}return null}function Et(Ce,Ae,Ie,rt){for(var Mt=null,xn=null,Nt=Ae,Zt=Ae=0,un=null;Nt!==null&&Zt<Ie.length;Zt++){Nt.index>Zt?(un=Nt,Nt=null):un=Nt.sibling;var _n=Pe(Ce,Nt,Ie[Zt],rt);if(_n===null){Nt===null&&(Nt=un);break}r&&Nt&&_n.alternate===null&&a(Ce,Nt),Ae=x(_n,Ae,Zt),xn===null?Mt=_n:xn.sibling=_n,xn=_n,Nt=un}if(Zt===Ie.length)return l(Ce,Nt),rn&&Mi(Ce,Zt),Mt;if(Nt===null){for(;Zt<Ie.length;Zt++)Nt=it(Ce,Ie[Zt],rt),Nt!==null&&(Ae=x(Nt,Ae,Zt),xn===null?Mt=Nt:xn.sibling=Nt,xn=Nt);return rn&&Mi(Ce,Zt),Mt}for(Nt=d(Nt);Zt<Ie.length;Zt++)un=He(Nt,Ce,Zt,Ie[Zt],rt),un!==null&&(r&&un.alternate!==null&&Nt.delete(un.key===null?Zt:un.key),Ae=x(un,Ae,Zt),xn===null?Mt=un:xn.sibling=un,xn=un);return r&&Nt.forEach(function(El){return a(Ce,El)}),rn&&Mi(Ce,Zt),Mt}function Bt(Ce,Ae,Ie,rt){if(Ie==null)throw Error(i(151));for(var Mt=null,xn=null,Nt=Ae,Zt=Ae=0,un=null,_n=Ie.next();Nt!==null&&!_n.done;Zt++,_n=Ie.next()){Nt.index>Zt?(un=Nt,Nt=null):un=Nt.sibling;var El=Pe(Ce,Nt,_n.value,rt);if(El===null){Nt===null&&(Nt=un);break}r&&Nt&&El.alternate===null&&a(Ce,Nt),Ae=x(El,Ae,Zt),xn===null?Mt=El:xn.sibling=El,xn=El,Nt=un}if(_n.done)return l(Ce,Nt),rn&&Mi(Ce,Zt),Mt;if(Nt===null){for(;!_n.done;Zt++,_n=Ie.next())_n=it(Ce,_n.value,rt),_n!==null&&(Ae=x(_n,Ae,Zt),xn===null?Mt=_n:xn.sibling=_n,xn=_n);return rn&&Mi(Ce,Zt),Mt}for(Nt=d(Nt);!_n.done;Zt++,_n=Ie.next())_n=He(Nt,Ce,Zt,_n.value,rt),_n!==null&&(r&&_n.alternate!==null&&Nt.delete(_n.key===null?Zt:_n.key),Ae=x(_n,Ae,Zt),xn===null?Mt=_n:xn.sibling=_n,xn=_n);return r&&Nt.forEach(function(Yx){return a(Ce,Yx)}),rn&&Mi(Ce,Zt),Mt}function Bn(Ce,Ae,Ie,rt){if(typeof Ie=="object"&&Ie!==null&&Ie.type===E&&Ie.key===null&&(Ie=Ie.props.children),typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case g:e:{for(var Mt=Ie.key;Ae!==null;){if(Ae.key===Mt){if(Mt=Ie.type,Mt===E){if(Ae.tag===7){l(Ce,Ae.sibling),rt=v(Ae,Ie.props.children),rt.return=Ce,Ce=rt;break e}}else if(Ae.elementType===Mt||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===I&&Ne(Mt)===Ae.type){l(Ce,Ae.sibling),rt=v(Ae,Ie.props),$t(rt,Ie),rt.return=Ce,Ce=rt;break e}l(Ce,Ae);break}else a(Ce,Ae);Ae=Ae.sibling}Ie.type===E?(rt=Bs(Ie.props.children,Ce.mode,rt,Ie.key),rt.return=Ce,Ce=rt):(rt=rl(Ie.type,Ie.key,Ie.props,null,Ce.mode,rt),$t(rt,Ie),rt.return=Ce,Ce=rt)}return U(Ce);case S:e:{for(Mt=Ie.key;Ae!==null;){if(Ae.key===Mt)if(Ae.tag===4&&Ae.stateNode.containerInfo===Ie.containerInfo&&Ae.stateNode.implementation===Ie.implementation){l(Ce,Ae.sibling),rt=v(Ae,Ie.children||[]),rt.return=Ce,Ce=rt;break e}else{l(Ce,Ae);break}else a(Ce,Ae);Ae=Ae.sibling}rt=il(Ie,Ce.mode,rt),rt.return=Ce,Ce=rt}return U(Ce);case I:return Ie=Ne(Ie),Bn(Ce,Ae,Ie,rt)}if(X(Ie))return Et(Ce,Ae,Ie,rt);if(P(Ie)){if(Mt=P(Ie),typeof Mt!="function")throw Error(i(150));return Ie=Mt.call(Ie),Bt(Ce,Ae,Ie,rt)}if(typeof Ie.then=="function")return Bn(Ce,Ae,wt(Ie),rt);if(Ie.$$typeof===B)return Bn(Ce,Ae,Ju(Ce,Ie),rt);St(Ce,Ie)}return typeof Ie=="string"&&Ie!==""||typeof Ie=="number"||typeof Ie=="bigint"?(Ie=""+Ie,Ae!==null&&Ae.tag===6?(l(Ce,Ae.sibling),rt=v(Ae,Ie),rt.return=Ce,Ce=rt):(l(Ce,Ae),rt=iu(Ie,Ce.mode,rt),rt.return=Ce,Ce=rt),U(Ce)):l(Ce,Ae)}return function(Ce,Ae,Ie,rt){try{kt=0;var Mt=Bn(Ce,Ae,Ie,rt);return at=null,Mt}catch(Nt){if(Nt===Se||Nt===fe)throw Nt;var xn=ni(29,Nt,null,Ce.mode);return xn.lanes=rt,xn.return=Ce,xn}}}var qn=nn(!0),Vt=nn(!1),xt=!1;function pt(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kn(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Ut(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Jt(r,a,l){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(En&2)!==0){var v=d.pending;return v===null?a.next=a:(a.next=v.next,v.next=a),d.pending=a,a=ti(r),nu(r,null,l),a}return tu(r,d,a,l),ti(r)}function Sn(r,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var d=a.lanes;d&=r.pendingLanes,l|=d,a.lanes=l,$n(r,l)}}function Lr(r,a){var l=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var v=null,x=null;if(l=l.firstBaseUpdate,l!==null){do{var U={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};x===null?v=x=U:x=x.next=U,l=l.next}while(l!==null);x===null?v=x=a:x=x.next=a}else v=x=a;l={baseState:d.baseState,firstBaseUpdate:v,lastBaseUpdate:x,shared:d.shared,callbacks:d.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=a:r.next=a,l.lastBaseUpdate=a}var Yr=!1;function Mn(){if(Yr){var r=w;if(r!==null)throw r}}function mr(r,a,l,d){Yr=!1;var v=r.updateQueue;xt=!1;var x=v.firstBaseUpdate,U=v.lastBaseUpdate,oe=v.shared.pending;if(oe!==null){v.shared.pending=null;var we=oe,ze=we.next;we.next=null,U===null?x=ze:U.next=ze,U=we;var Xe=r.alternate;Xe!==null&&(Xe=Xe.updateQueue,oe=Xe.lastBaseUpdate,oe!==U&&(oe===null?Xe.firstBaseUpdate=ze:oe.next=ze,Xe.lastBaseUpdate=we))}if(x!==null){var it=v.baseState;U=0,Xe=ze=we=null,oe=x;do{var Pe=oe.lane&-536870913,He=Pe!==oe.lane;if(He?(ln&Pe)===Pe:(d&Pe)===Pe){Pe!==0&&Pe===m&&(Yr=!0),Xe!==null&&(Xe=Xe.next={lane:0,tag:oe.tag,payload:oe.payload,callback:null,next:null});e:{var Et=r,Bt=oe;Pe=a;var Bn=l;switch(Bt.tag){case 1:if(Et=Bt.payload,typeof Et=="function"){it=Et.call(Bn,it,Pe);break e}it=Et;break e;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=Bt.payload,Pe=typeof Et=="function"?Et.call(Bn,it,Pe):Et,Pe==null)break e;it=y({},it,Pe);break e;case 2:xt=!0}}Pe=oe.callback,Pe!==null&&(r.flags|=64,He&&(r.flags|=8192),He=v.callbacks,He===null?v.callbacks=[Pe]:He.push(Pe))}else He={lane:Pe,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null},Xe===null?(ze=Xe=He,we=it):Xe=Xe.next=He,U|=Pe;if(oe=oe.next,oe===null){if(oe=v.shared.pending,oe===null)break;He=oe,oe=He.next,He.next=null,v.lastBaseUpdate=He,v.shared.pending=null}}while(!0);Xe===null&&(we=it),v.baseState=we,v.firstBaseUpdate=ze,v.lastBaseUpdate=Xe,x===null&&(v.shared.lanes=0),gl|=U,r.lanes=U,r.memoizedState=it}}function ri(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function yr(r,a){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)ri(l[r],a)}var en=Z(null),pn=Z(0);function Xn(r,a){r=No,G(pn,r),G(en,a),No=r|a.baseLanes}function vn(){G(pn,No),G(en,en.current)}function Cr(){No=pn.current,j(en),j(pn)}var Jn=Z(null),gn=null;function fr(r){var a=r.alternate;G(dn,dn.current&1),G(Jn,r),gn===null&&(a===null||en.current!==null||a.memoizedState!==null)&&(gn=r)}function An(r){G(dn,dn.current),G(Jn,r),gn===null&&(gn=r)}function br(r){r.tag===22?(G(dn,dn.current),G(Jn,r),gn===null&&(gn=r)):vr()}function vr(){G(dn,dn.current),G(Jn,Jn.current)}function Cn(r){j(Jn),gn===r&&(gn=null),j(dn)}var dn=Z(0);function ii(r){for(var a=r;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||_p(l)||Sp(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var tr=0,Dt=null,It=null,mn=null,xi=!1,Xi=!1,hi=!1,wr=0,Gs=0,Ys=null,Zu=0;function zn(){throw Error(i(321))}function af(r,a){if(a===null)return!1;for(var l=0;l<a.length&&l<r.length;l++)if(!Fr(r[l],a[l]))return!1;return!0}function sf(r,a,l,d,v,x){return tr=x,Dt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,O.H=r===null||r.memoizedState===null?Kg:O0,hi=!1,x=l(d,v),hi=!1,Xi&&(x=ms(a,l,d,v)),ec(r),x}function ec(r){O.H=pf;var a=It!==null&&It.next!==null;if(tr=0,mn=It=Dt=null,xi=!1,Gs=0,Ys=null,a)throw Error(i(300));r===null||Mr||(r=r.dependencies,r!==null&&Xu(r)&&(Mr=!0))}function ms(r,a,l,d){Dt=r;var v=0;do{if(Xi&&(Ys=null),Gs=0,Xi=!1,25<=v)throw Error(i(301));if(v+=1,mn=It=null,r.updateQueue!=null){var x=r.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}O.H=Xg,x=a(l,d)}while(Xi);return x}function k0(){var r=O.H,a=r.useState()[0];return a=typeof a.then=="function"?Vs(a):a,r=r.useState()[0],(It!==null?It.memoizedState:null)!==r&&(Dt.flags|=1024),a}function of(){var r=wr!==0;return wr=0,r}function lf(r,a,l){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~l}function tc(r){if(xi){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}xi=!1}tr=0,mn=It=Dt=null,Xi=!1,Gs=wr=0,Ys=null}function Ir(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mn===null?Dt.memoizedState=mn=r:mn=mn.next=r,mn}function nr(){if(It===null){var r=Dt.alternate;r=r!==null?r.memoizedState:null}else r=It.next;var a=mn===null?Dt.memoizedState:mn.next;if(a!==null)mn=a,It=r;else{if(r===null)throw Dt.alternate===null?Error(i(467)):Error(i(310));It=r,r={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},mn===null?Dt.memoizedState=mn=r:mn=mn.next=r}return mn}function lu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vs(r){var a=Gs;return Gs+=1,Ys===null&&(Ys=[]),r=Ye(Ys,r,a),a=Dt,(mn===null?a.memoizedState:mn.next)===null&&(a=a.alternate,O.H=a===null||a.memoizedState===null?Kg:O0),r}function ul(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Vs(r);if(r.$$typeof===B)return Gr(r)}throw Error(i(438,String(r)))}function _o(r){var a=null,l=Dt.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var d=Dt.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(a={data:d.data.map(function(v){return v.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=lu(),Dt.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(r),d=0;d<r;d++)l[d]=K;return a.index++,l}function qa(r,a){return typeof a=="function"?a(r):a}function nc(r){var a=nr();return cl(a,It,r)}function cl(r,a,l){var d=r.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=l;var v=r.baseQueue,x=d.pending;if(x!==null){if(v!==null){var U=v.next;v.next=x.next,x.next=U}a.baseQueue=v=x,d.pending=null}if(x=r.baseState,v===null)r.memoizedState=x;else{a=v.next;var oe=U=null,we=null,ze=a,Xe=!1;do{var it=ze.lane&-536870913;if(it!==ze.lane?(ln&it)===it:(tr&it)===it){var Pe=ze.revertLane;if(Pe===0)we!==null&&(we=we.next={lane:0,revertLane:0,gesture:null,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null}),it===m&&(Xe=!0);else if((tr&Pe)===Pe){ze=ze.next,Pe===m&&(Xe=!0);continue}else it={lane:0,revertLane:ze.revertLane,gesture:null,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null},we===null?(oe=we=it,U=x):we=we.next=it,Dt.lanes|=Pe,gl|=Pe;it=ze.action,hi&&l(x,it),x=ze.hasEagerState?ze.eagerState:l(x,it)}else Pe={lane:it,revertLane:ze.revertLane,gesture:ze.gesture,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null},we===null?(oe=we=Pe,U=x):we=we.next=Pe,Dt.lanes|=it,gl|=it;ze=ze.next}while(ze!==null&&ze!==a);if(we===null?U=x:we.next=oe,!Fr(x,r.memoizedState)&&(Mr=!0,Xe&&(l=w,l!==null)))throw l;r.memoizedState=x,r.baseState=U,r.baseQueue=we,d.lastRenderedState=x}return v===null&&(d.lanes=0),[r.memoizedState,d.dispatch]}function rc(r){var a=nr(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=r;var d=l.dispatch,v=l.pending,x=a.memoizedState;if(v!==null){l.pending=null;var U=v=v.next;do x=r(x,U.action),U=U.next;while(U!==v);Fr(x,a.memoizedState)||(Mr=!0),a.memoizedState=x,a.baseQueue===null&&(a.baseState=x),l.lastRenderedState=x}return[x,d]}function ic(r,a,l){var d=Dt,v=nr(),x=rn;if(x){if(l===void 0)throw Error(i(407));l=l()}else l=a();var U=!Fr((It||v).memoizedState,l);if(U&&(v.memoizedState=l,Mr=!0),v=v.queue,T0(cf.bind(null,d,v,r),[r]),v.getSnapshot!==a||U||mn!==null&&mn.memoizedState.tag&1){if(d.flags|=2048,Ao(9,{destroy:void 0},uf.bind(null,d,v,l,a),null),Fn===null)throw Error(i(349));x||(tr&127)!==0||ys(d,a,l)}return l}function ys(r,a,l){r.flags|=16384,r={getSnapshot:a,value:l},a=Dt.updateQueue,a===null?(a=lu(),Dt.updateQueue=a,a.stores=[r]):(l=a.stores,l===null?a.stores=[r]:l.push(r))}function uf(r,a,l,d){a.value=l,a.getSnapshot=d,xd(a)&&ff(r)}function cf(r,a,l){return l(function(){xd(a)&&ff(r)})}function xd(r){var a=r.getSnapshot;r=r.value;try{var l=a();return!Fr(r,l)}catch{return!0}}function ff(r){var a=ps(r,2);a!==null&&ta(a,r,2)}function Ks(r){var a=Ir();if(typeof r=="function"){var l=r;if(r=l(),hi){tt(!0);try{l()}finally{tt(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:r},a}function _d(r,a,l,d){return r.baseState=l,cl(r,It,typeof d=="function"?d:qa)}function Sd(r,a,l,d,v){if(Td(r))throw Error(i(485));if(r=a.action,r!==null){var x={payload:v,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(U){x.listeners.push(U)}};O.T!==null?l(!0):x.isTransition=!1,d(x),l=a.pending,l===null?(x.next=a.pending=x,Ad(a,x)):(x.next=l.next,a.pending=l.next=x)}}function Ad(r,a){var l=a.action,d=a.payload,v=r.state;if(a.isTransition){var x=O.T,U={};O.T=U;try{var oe=l(v,d),we=O.S;we!==null&&we(U,oe),df(r,a,oe)}catch(ze){So(r,a,ze)}finally{x!==null&&U.types!==null&&(x.types=U.types),O.T=x}}else try{x=l(v,d),df(r,a,x)}catch(ze){So(r,a,ze)}}function df(r,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(d){Ed(r,a,d)},function(d){return So(r,a,d)}):Ed(r,a,l)}function Ed(r,a,l){a.status="fulfilled",a.value=l,ac(a),r.state=l,a=r.pending,a!==null&&(l=a.next,l===a?r.pending=null:(l=l.next,a.next=l,Ad(r,l)))}function So(r,a,l){var d=r.pending;if(r.pending=null,d!==null){d=d.next;do a.status="rejected",a.reason=l,ac(a),a=a.next;while(a!==d)}r.action=null}function ac(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function uu(r,a){return a}function Fa(r,a){if(rn){var l=Fn.formState;if(l!==null){e:{var d=Dt;if(rn){if(Pn){t:{for(var v=Pn,x=er;v.nodeType!==8;){if(!x){v=null;break t}if(v=Ha(v.nextSibling),v===null){v=null;break t}}x=v.data,v=x==="F!"||x==="F"?v:null}if(v){Pn=Ha(v.nextSibling),d=v.data==="F!";break e}}qs(d)}d=!1}d&&(a=l[0])}}return l=Ir(),l.memoizedState=l.baseState=a,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:uu,lastRenderedState:a},l.queue=d,l=Gg.bind(null,Dt,d),d.dispatch=l,d=Ks(!1),x=R0.bind(null,Dt,!1,d.queue),d=Ir(),v={state:a,dispatch:null,action:r,pending:null},d.queue=v,l=Sd.bind(null,Dt,v,x,l),v.dispatch=l,d.memoizedState=r,[a,l,!1]}function bs(r){var a=nr();return vs(a,It,r)}function vs(r,a,l){if(a=cl(r,a,uu)[0],r=nc(qa)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var d=Vs(a)}catch(U){throw U===Se?fe:U}else d=a;a=nr();var v=a.queue,x=v.dispatch;return l!==a.memoizedState&&(Dt.flags|=2048,Ao(9,{destroy:void 0},sc.bind(null,v,l),null)),[d,x,r]}function sc(r,a){r.action=a}function oc(r){var a=nr(),l=It;if(l!==null)return vs(a,l,r);nr(),a=a.memoizedState,l=nr();var d=l.queue.dispatch;return l.memoizedState=r,[a,d,!1]}function Ao(r,a,l,d){return r={tag:r,create:l,deps:d,inst:a,next:null},a=Dt.updateQueue,a===null&&(a=lu(),Dt.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=r.next=r:(d=l.next,l.next=r,r.next=d,a.lastEffect=r),r}function kd(){return nr().memoizedState}function fl(r,a,l,d){var v=Ir();Dt.flags|=r,v.memoizedState=Ao(1|a,{destroy:void 0},l,d===void 0?null:d)}function dl(r,a,l,d){var v=nr();d=d===void 0?null:d;var x=v.memoizedState.inst;It!==null&&d!==null&&af(d,It.memoizedState.deps)?v.memoizedState=Ao(a,x,l,d):(Dt.flags|=r,v.memoizedState=Ao(1|a,x,l,d))}function Rg(r,a){fl(8390656,8,r,a)}function T0(r,a){dl(2048,8,r,a)}function qw(r){Dt.flags|=4;var a=Dt.updateQueue;if(a===null)a=lu(),Dt.updateQueue=a,a.events=[r];else{var l=a.events;l===null?a.events=[r]:l.push(r)}}function Og(r){var a=nr().memoizedState;return qw({ref:a,nextImpl:r}),function(){if((En&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function Dg(r,a){return dl(4,2,r,a)}function Ig(r,a){return dl(4,4,r,a)}function Mg(r,a){if(typeof a=="function"){r=r();var l=a(r);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function zg(r,a,l){l=l!=null?l.concat([r]):null,dl(4,4,Mg.bind(null,a,r),l)}function L0(){}function Ug(r,a){var l=nr();a=a===void 0?null:a;var d=l.memoizedState;return a!==null&&af(a,d[1])?d[0]:(l.memoizedState=[r,a],r)}function Bg(r,a){var l=nr();a=a===void 0?null:a;var d=l.memoizedState;if(a!==null&&af(a,d[1]))return d[0];if(d=r(),hi){tt(!0);try{r()}finally{tt(!1)}}return l.memoizedState=[d,a],d}function C0(r,a,l){return l===void 0||(tr&1073741824)!==0&&(ln&261930)===0?r.memoizedState=a:(r.memoizedState=l,r=Pm(),Dt.lanes|=r,gl|=r,l)}function Pg(r,a,l,d){return Fr(l,a)?l:en.current!==null?(r=C0(r,l,d),Fr(r,a)||(Mr=!0),r):(tr&42)===0||(tr&1073741824)!==0&&(ln&261930)===0?(Mr=!0,r.memoizedState=l):(r=Pm(),Dt.lanes|=r,gl|=r,a)}function qg(r,a,l,d,v){var x=R.p;R.p=x!==0&&8>x?x:8;var U=O.T,oe={};O.T=oe,R0(r,!1,a,l);try{var we=v(),ze=O.S;if(ze!==null&&ze(oe,we),we!==null&&typeof we=="object"&&typeof we.then=="function"){var Xe=Q(we,d);hf(r,a,Xe,wa(r))}else hf(r,a,d,wa(r))}catch(it){hf(r,a,{then:function(){},status:"rejected",reason:it},wa())}finally{R.p=x,U!==null&&oe.types!==null&&(U.types=oe.types),O.T=U}}function Fw(){}function j0(r,a,l,d){if(r.tag!==5)throw Error(i(476));var v=Fg(r).queue;qg(r,v,a,se,l===null?Fw:function(){return Hg(r),l(d)})}function Fg(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:se},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:l},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function Hg(r){var a=Fg(r);a.next===null&&(a=r.alternate.memoizedState),hf(r,a.next.queue,{},wa())}function N0(){return Gr(jf)}function $g(){return nr().memoizedState}function Wg(){return nr().memoizedState}function Hw(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var l=wa();r=Ut(l);var d=Jt(a,r,l);d!==null&&(ta(d,a,l),Sn(d,a,l)),a={cache:ll()},r.payload=a;return}a=a.return}}function $w(r,a,l){var d=wa();l={lane:d,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Td(r)?Yg(a,l):(l=Fu(r,a,l,d),l!==null&&(ta(l,r,d),Vg(l,a,d)))}function Gg(r,a,l){var d=wa();hf(r,a,l,d)}function hf(r,a,l,d){var v={lane:d,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Td(r))Yg(a,v);else{var x=r.alternate;if(r.lanes===0&&(x===null||x.lanes===0)&&(x=a.lastRenderedReducer,x!==null))try{var U=a.lastRenderedState,oe=x(U,l);if(v.hasEagerState=!0,v.eagerState=oe,Fr(oe,U))return tu(r,a,v,0),Fn===null&&eu(),!1}catch{}if(l=Fu(r,a,v,d),l!==null)return ta(l,r,d),Vg(l,a,d),!0}return!1}function R0(r,a,l,d){if(d={lane:2,revertLane:cp(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Td(r)){if(a)throw Error(i(479))}else a=Fu(r,l,d,2),a!==null&&ta(a,r,2)}function Td(r){var a=r.alternate;return r===Dt||a!==null&&a===Dt}function Yg(r,a){Xi=xi=!0;var l=r.pending;l===null?a.next=a:(a.next=l.next,l.next=a),r.pending=a}function Vg(r,a,l){if((l&4194048)!==0){var d=a.lanes;d&=r.pendingLanes,l|=d,a.lanes=l,$n(r,l)}}var pf={readContext:Gr,use:ul,useCallback:zn,useContext:zn,useEffect:zn,useImperativeHandle:zn,useLayoutEffect:zn,useInsertionEffect:zn,useMemo:zn,useReducer:zn,useRef:zn,useState:zn,useDebugValue:zn,useDeferredValue:zn,useTransition:zn,useSyncExternalStore:zn,useId:zn,useHostTransitionStatus:zn,useFormState:zn,useActionState:zn,useOptimistic:zn,useMemoCache:zn,useCacheRefresh:zn};pf.useEffectEvent=zn;var Kg={readContext:Gr,use:ul,useCallback:function(r,a){return Ir().memoizedState=[r,a===void 0?null:a],r},useContext:Gr,useEffect:Rg,useImperativeHandle:function(r,a,l){l=l!=null?l.concat([r]):null,fl(4194308,4,Mg.bind(null,a,r),l)},useLayoutEffect:function(r,a){return fl(4194308,4,r,a)},useInsertionEffect:function(r,a){fl(4,2,r,a)},useMemo:function(r,a){var l=Ir();a=a===void 0?null:a;var d=r();if(hi){tt(!0);try{r()}finally{tt(!1)}}return l.memoizedState=[d,a],d},useReducer:function(r,a,l){var d=Ir();if(l!==void 0){var v=l(a);if(hi){tt(!0);try{l(a)}finally{tt(!1)}}}else v=a;return d.memoizedState=d.baseState=v,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:v},d.queue=r,r=r.dispatch=$w.bind(null,Dt,r),[d.memoizedState,r]},useRef:function(r){var a=Ir();return r={current:r},a.memoizedState=r},useState:function(r){r=Ks(r);var a=r.queue,l=Gg.bind(null,Dt,a);return a.dispatch=l,[r.memoizedState,l]},useDebugValue:L0,useDeferredValue:function(r,a){var l=Ir();return C0(l,r,a)},useTransition:function(){var r=Ks(!1);return r=qg.bind(null,Dt,r.queue,!0,!1),Ir().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,l){var d=Dt,v=Ir();if(rn){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),Fn===null)throw Error(i(349));(ln&127)!==0||ys(d,a,l)}v.memoizedState=l;var x={value:l,getSnapshot:a};return v.queue=x,Rg(cf.bind(null,d,x,r),[r]),d.flags|=2048,Ao(9,{destroy:void 0},uf.bind(null,d,x,l,a),null),l},useId:function(){var r=Ir(),a=Fn.identifierPrefix;if(rn){var l=Vi,d=Yi;l=(d&~(1<<32-_t(d)-1)).toString(32)+l,a="_"+a+"R_"+l,l=wr++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=Zu++,a="_"+a+"r_"+l.toString(32)+"_";return r.memoizedState=a},useHostTransitionStatus:N0,useFormState:Fa,useActionState:Fa,useOptimistic:function(r){var a=Ir();a.memoizedState=a.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=R0.bind(null,Dt,!0,l),l.dispatch=a,[r,a]},useMemoCache:_o,useCacheRefresh:function(){return Ir().memoizedState=Hw.bind(null,Dt)},useEffectEvent:function(r){var a=Ir(),l={impl:r};return a.memoizedState=l,function(){if((En&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},O0={readContext:Gr,use:ul,useCallback:Ug,useContext:Gr,useEffect:T0,useImperativeHandle:zg,useInsertionEffect:Dg,useLayoutEffect:Ig,useMemo:Bg,useReducer:nc,useRef:kd,useState:function(){return nc(qa)},useDebugValue:L0,useDeferredValue:function(r,a){var l=nr();return Pg(l,It.memoizedState,r,a)},useTransition:function(){var r=nc(qa)[0],a=nr().memoizedState;return[typeof r=="boolean"?r:Vs(r),a]},useSyncExternalStore:ic,useId:$g,useHostTransitionStatus:N0,useFormState:bs,useActionState:bs,useOptimistic:function(r,a){var l=nr();return _d(l,It,r,a)},useMemoCache:_o,useCacheRefresh:Wg};O0.useEffectEvent=Og;var Xg={readContext:Gr,use:ul,useCallback:Ug,useContext:Gr,useEffect:T0,useImperativeHandle:zg,useInsertionEffect:Dg,useLayoutEffect:Ig,useMemo:Bg,useReducer:rc,useRef:kd,useState:function(){return rc(qa)},useDebugValue:L0,useDeferredValue:function(r,a){var l=nr();return It===null?C0(l,r,a):Pg(l,It.memoizedState,r,a)},useTransition:function(){var r=rc(qa)[0],a=nr().memoizedState;return[typeof r=="boolean"?r:Vs(r),a]},useSyncExternalStore:ic,useId:$g,useHostTransitionStatus:N0,useFormState:oc,useActionState:oc,useOptimistic:function(r,a){var l=nr();return It!==null?_d(l,It,r,a):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:_o,useCacheRefresh:Wg};Xg.useEffectEvent=Og;function D0(r,a,l,d){a=r.memoizedState,l=l(d,a),l=l==null?a:y({},a,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var I0={enqueueSetState:function(r,a,l){r=r._reactInternals;var d=wa(),v=Ut(d);v.payload=a,l!=null&&(v.callback=l),a=Jt(r,v,d),a!==null&&(ta(a,r,d),Sn(a,r,d))},enqueueReplaceState:function(r,a,l){r=r._reactInternals;var d=wa(),v=Ut(d);v.tag=1,v.payload=a,l!=null&&(v.callback=l),a=Jt(r,v,d),a!==null&&(ta(a,r,d),Sn(a,r,d))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var l=wa(),d=Ut(l);d.tag=2,a!=null&&(d.callback=a),a=Jt(r,d,l),a!==null&&(ta(a,r,l),Sn(a,r,l))}};function Jg(r,a,l,d,v,x,U){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,x,U):a.prototype&&a.prototype.isPureReactComponent?!cs(l,d)||!cs(v,x):!0}function Qg(r,a,l,d){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,d),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,d),a.state!==r&&I0.enqueueReplaceState(a,a.state,null)}function cu(r,a){var l=a;if("ref"in a){l={};for(var d in a)d!=="ref"&&(l[d]=a[d])}if(r=r.defaultProps){l===a&&(l=y({},l));for(var v in r)l[v]===void 0&&(l[v]=r[v])}return l}function Zg(r){Zl(r)}function em(r){console.error(r)}function tm(r){Zl(r)}function Ld(r,a){try{var l=r.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(d){setTimeout(function(){throw d})}}function nm(r,a,l){try{var d=r.onCaughtError;d(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function M0(r,a,l){return l=Ut(l),l.tag=3,l.payload={element:null},l.callback=function(){Ld(r,a)},l}function rm(r){return r=Ut(r),r.tag=3,r}function im(r,a,l,d){var v=l.type.getDerivedStateFromError;if(typeof v=="function"){var x=d.value;r.payload=function(){return v(x)},r.callback=function(){nm(a,l,d)}}var U=l.stateNode;U!==null&&typeof U.componentDidCatch=="function"&&(r.callback=function(){nm(a,l,d),typeof v!="function"&&(ml===null?ml=new Set([this]):ml.add(this));var oe=d.stack;this.componentDidCatch(d.value,{componentStack:oe!==null?oe:""})})}function Ww(r,a,l,d,v){if(l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(a=l.alternate,a!==null&&$s(a,l,v,!0),l=Jn.current,l!==null){switch(l.tag){case 31:case 13:return gn===null?Pd():l.alternate===null&&xr===0&&(xr=3),l.flags&=-257,l.flags|=65536,l.lanes=v,d===ke?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([d]):a.add(d),op(r,d,v)),!1;case 22:return l.flags|=65536,d===ke?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([d])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([d]):l.add(d)),op(r,d,v)),!1}throw Error(i(435,l.tag))}return op(r,d,v),Pd(),!1}if(rn)return a=Jn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=v,d!==ya&&(r=Error(i(422),{cause:d}),sl($i(r,l)))):(d!==ya&&(a=Error(i(423),{cause:d}),sl($i(a,l))),r=r.current.alternate,r.flags|=65536,v&=-v,r.lanes|=v,d=$i(d,l),v=M0(r.stateNode,d,v),Lr(r,v),xr!==4&&(xr=2)),!1;var x=Error(i(520),{cause:d});if(x=$i(x,l),_f===null?_f=[x]:_f.push(x),xr!==4&&(xr=2),a===null)return!0;d=$i(d,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,r=v&-v,l.lanes|=r,r=M0(l.stateNode,d,r),Lr(l,r),!1;case 1:if(a=l.type,x=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(ml===null||!ml.has(x))))return l.flags|=65536,v&=-v,l.lanes|=v,v=rm(v),im(v,r,l,d),Lr(l,v),!1}l=l.return}while(l!==null);return!1}var z0=Error(i(461)),Mr=!1;function pi(r,a,l,d){a.child=r===null?Vt(a,null,l,d):qn(a,r.child,l,d)}function am(r,a,l,d,v){l=l.render;var x=a.ref;if("ref"in d){var U={};for(var oe in d)oe!=="ref"&&(U[oe]=d[oe])}else U=d;return Ws(a),d=sf(r,a,l,U,x,v),oe=of(),r!==null&&!Mr?(lf(r,a,v),Eo(r,a,v)):(rn&&oe&&tf(a),a.flags|=1,pi(r,a,d,v),a.child)}function sm(r,a,l,d,v){if(r===null){var x=l.type;return typeof x=="function"&&!$u(x)&&x.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=x,om(r,a,x,d,v)):(r=rl(l.type,null,d,a,a.mode,v),r.ref=a.ref,r.return=a,a.child=r)}if(x=r.child,!W0(r,v)){var U=x.memoizedProps;if(l=l.compare,l=l!==null?l:cs,l(U,d)&&r.ref===a.ref)return Eo(r,a,v)}return a.flags|=1,r=Hi(x,d),r.ref=a.ref,r.return=a,a.child=r}function om(r,a,l,d,v){if(r!==null){var x=r.memoizedProps;if(cs(x,d)&&r.ref===a.ref)if(Mr=!1,a.pendingProps=d=x,W0(r,v))(r.flags&131072)!==0&&(Mr=!0);else return a.lanes=r.lanes,Eo(r,a,v)}return U0(r,a,l,d,v)}function lm(r,a,l,d){var v=d.children,x=r!==null?r.memoizedState:null;if(r===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((a.flags&128)!==0){if(x=x!==null?x.baseLanes|l:l,r!==null){for(d=a.child=r.child,v=0;d!==null;)v=v|d.lanes|d.childLanes,d=d.sibling;d=v&~x}else d=0,a.child=null;return um(r,a,x,l,d)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&ce(a,x!==null?x.cachePool:null),x!==null?Xn(a,x):vn(),br(a);else return d=a.lanes=536870912,um(r,a,x!==null?x.baseLanes|l:l,l,d)}else x!==null?(ce(a,x.cachePool),Xn(a,x),vr(),a.memoizedState=null):(r!==null&&ce(a,null),vn(),vr());return pi(r,a,v,l),a.child}function gf(r,a){return r!==null&&r.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function um(r,a,l,d,v){var x=ue();return x=x===null?null:{parent:cr._currentValue,pool:x},a.memoizedState={baseLanes:l,cachePool:x},r!==null&&ce(a,null),vn(),br(a),r!==null&&$s(r,a,d,!0),a.childLanes=v,null}function Cd(r,a){return a=Nd({mode:a.mode,children:a.children},r.mode),a.ref=r.ref,r.child=a,a.return=r,a}function cm(r,a,l){return qn(a,r.child,null,l),r=Cd(a,a.pendingProps),r.flags|=2,Cn(a),a.memoizedState=null,r}function Gw(r,a,l){var d=a.pendingProps,v=(a.flags&128)!==0;if(a.flags&=-129,r===null){if(rn){if(d.mode==="hidden")return r=Cd(a,d),a.lanes=536870912,gf(null,r);if(An(a),(r=Pn)?(r=_2(r,er),r=r!==null&&r.data==="&"?r:null,r!==null&&(a.memoizedState={dehydrated:r,treeContext:Ps!==null?{id:Yi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},l=Wu(r),l.return=a,a.child=l,$r=a,Pn=null)):r=null,r===null)throw qs(a);return a.lanes=536870912,null}return Cd(a,d)}var x=r.memoizedState;if(x!==null){var U=x.dehydrated;if(An(a),v)if(a.flags&256)a.flags&=-257,a=cm(r,a,l);else if(a.memoizedState!==null)a.child=r.child,a.flags|=128,a=null;else throw Error(i(558));else if(Mr||$s(r,a,l,!1),v=(l&r.childLanes)!==0,Mr||v){if(d=Fn,d!==null&&(U=Gn(d,l),U!==0&&U!==x.retryLane))throw x.retryLane=U,ps(r,U),ta(d,r,U),z0;Pd(),a=cm(r,a,l)}else r=x.treeContext,Pn=Ha(U.nextSibling),$r=a,rn=!0,di=null,er=!1,r!==null&&vd(a,r),a=Cd(a,d),a.flags|=4096;return a}return r=Hi(r.child,{mode:d.mode,children:d.children}),r.ref=a.ref,a.child=r,r.return=a,r}function jd(r,a){var l=a.ref;if(l===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(r===null||r.ref!==l)&&(a.flags|=4194816)}}function U0(r,a,l,d,v){return Ws(a),l=sf(r,a,l,d,void 0,v),d=of(),r!==null&&!Mr?(lf(r,a,v),Eo(r,a,v)):(rn&&d&&tf(a),a.flags|=1,pi(r,a,l,v),a.child)}function fm(r,a,l,d,v,x){return Ws(a),a.updateQueue=null,l=ms(a,d,l,v),ec(r),d=of(),r!==null&&!Mr?(lf(r,a,x),Eo(r,a,x)):(rn&&d&&tf(a),a.flags|=1,pi(r,a,l,x),a.child)}function dm(r,a,l,d,v){if(Ws(a),a.stateNode===null){var x=Hr,U=l.contextType;typeof U=="object"&&U!==null&&(x=Gr(U)),x=new l(d,x),a.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=I0,a.stateNode=x,x._reactInternals=a,x=a.stateNode,x.props=d,x.state=a.memoizedState,x.refs={},pt(a),U=l.contextType,x.context=typeof U=="object"&&U!==null?Gr(U):Hr,x.state=a.memoizedState,U=l.getDerivedStateFromProps,typeof U=="function"&&(D0(a,l,U,d),x.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(U=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),U!==x.state&&I0.enqueueReplaceState(x,x.state,null),mr(a,d,x,v),Mn(),x.state=a.memoizedState),typeof x.componentDidMount=="function"&&(a.flags|=4194308),d=!0}else if(r===null){x=a.stateNode;var oe=a.memoizedProps,we=cu(l,oe);x.props=we;var ze=x.context,Xe=l.contextType;U=Hr,typeof Xe=="object"&&Xe!==null&&(U=Gr(Xe));var it=l.getDerivedStateFromProps;Xe=typeof it=="function"||typeof x.getSnapshotBeforeUpdate=="function",oe=a.pendingProps!==oe,Xe||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(oe||ze!==U)&&Qg(a,x,d,U),xt=!1;var Pe=a.memoizedState;x.state=Pe,mr(a,d,x,v),Mn(),ze=a.memoizedState,oe||Pe!==ze||xt?(typeof it=="function"&&(D0(a,l,it,d),ze=a.memoizedState),(we=xt||Jg(a,l,we,d,Pe,ze,U))?(Xe||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(a.flags|=4194308)):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=d,a.memoizedState=ze),x.props=d,x.state=ze,x.context=U,d=we):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),d=!1)}else{x=a.stateNode,Kn(r,a),U=a.memoizedProps,Xe=cu(l,U),x.props=Xe,it=a.pendingProps,Pe=x.context,ze=l.contextType,we=Hr,typeof ze=="object"&&ze!==null&&(we=Gr(ze)),oe=l.getDerivedStateFromProps,(ze=typeof oe=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(U!==it||Pe!==we)&&Qg(a,x,d,we),xt=!1,Pe=a.memoizedState,x.state=Pe,mr(a,d,x,v),Mn();var He=a.memoizedState;U!==it||Pe!==He||xt||r!==null&&r.dependencies!==null&&Xu(r.dependencies)?(typeof oe=="function"&&(D0(a,l,oe,d),He=a.memoizedState),(Xe=xt||Jg(a,l,Xe,d,Pe,He,we)||r!==null&&r.dependencies!==null&&Xu(r.dependencies))?(ze||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(d,He,we),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(d,He,we)),typeof x.componentDidUpdate=="function"&&(a.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof x.componentDidUpdate!="function"||U===r.memoizedProps&&Pe===r.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||U===r.memoizedProps&&Pe===r.memoizedState||(a.flags|=1024),a.memoizedProps=d,a.memoizedState=He),x.props=d,x.state=He,x.context=we,d=Xe):(typeof x.componentDidUpdate!="function"||U===r.memoizedProps&&Pe===r.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||U===r.memoizedProps&&Pe===r.memoizedState||(a.flags|=1024),d=!1)}return x=d,jd(r,a),d=(a.flags&128)!==0,x||d?(x=a.stateNode,l=d&&typeof l.getDerivedStateFromError!="function"?null:x.render(),a.flags|=1,r!==null&&d?(a.child=qn(a,r.child,null,v),a.child=qn(a,null,l,v)):pi(r,a,l,v),a.memoizedState=x.state,r=a.child):r=Eo(r,a,v),r}function hm(r,a,l,d){return wo(),a.flags|=256,pi(r,a,l,d),a.child}var B0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function P0(r){return{baseLanes:r,cachePool:de()}}function q0(r,a,l){return r=r!==null?r.childLanes&~l:0,a&&(r|=va),r}function pm(r,a,l){var d=a.pendingProps,v=!1,x=(a.flags&128)!==0,U;if((U=x)||(U=r!==null&&r.memoizedState===null?!1:(dn.current&2)!==0),U&&(v=!0,a.flags&=-129),U=(a.flags&32)!==0,a.flags&=-33,r===null){if(rn){if(v?fr(a):vr(),(r=Pn)?(r=_2(r,er),r=r!==null&&r.data!=="&"?r:null,r!==null&&(a.memoizedState={dehydrated:r,treeContext:Ps!==null?{id:Yi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},l=Wu(r),l.return=a,a.child=l,$r=a,Pn=null)):r=null,r===null)throw qs(a);return Sp(r)?a.lanes=32:a.lanes=536870912,null}var oe=d.children;return d=d.fallback,v?(vr(),v=a.mode,oe=Nd({mode:"hidden",children:oe},v),d=Bs(d,v,l,null),oe.return=a,d.return=a,oe.sibling=d,a.child=oe,d=a.child,d.memoizedState=P0(l),d.childLanes=q0(r,U,l),a.memoizedState=B0,gf(null,d)):(fr(a),F0(a,oe))}var we=r.memoizedState;if(we!==null&&(oe=we.dehydrated,oe!==null)){if(x)a.flags&256?(fr(a),a.flags&=-257,a=H0(r,a,l)):a.memoizedState!==null?(vr(),a.child=r.child,a.flags|=128,a=null):(vr(),oe=d.fallback,v=a.mode,d=Nd({mode:"visible",children:d.children},v),oe=Bs(oe,v,l,null),oe.flags|=2,d.return=a,oe.return=a,d.sibling=oe,a.child=d,qn(a,r.child,null,l),d=a.child,d.memoizedState=P0(l),d.childLanes=q0(r,U,l),a.memoizedState=B0,a=gf(null,d));else if(fr(a),Sp(oe)){if(U=oe.nextSibling&&oe.nextSibling.dataset,U)var ze=U.dgst;U=ze,d=Error(i(419)),d.stack="",d.digest=U,sl({value:d,source:null,stack:null}),a=H0(r,a,l)}else if(Mr||$s(r,a,l,!1),U=(l&r.childLanes)!==0,Mr||U){if(U=Fn,U!==null&&(d=Gn(U,l),d!==0&&d!==we.retryLane))throw we.retryLane=d,ps(r,d),ta(U,r,d),z0;_p(oe)||Pd(),a=H0(r,a,l)}else _p(oe)?(a.flags|=192,a.child=r.child,a=null):(r=we.treeContext,Pn=Ha(oe.nextSibling),$r=a,rn=!0,di=null,er=!1,r!==null&&vd(a,r),a=F0(a,d.children),a.flags|=4096);return a}return v?(vr(),oe=d.fallback,v=a.mode,we=r.child,ze=we.sibling,d=Hi(we,{mode:"hidden",children:d.children}),d.subtreeFlags=we.subtreeFlags&65011712,ze!==null?oe=Hi(ze,oe):(oe=Bs(oe,v,l,null),oe.flags|=2),oe.return=a,d.return=a,d.sibling=oe,a.child=d,gf(null,d),d=a.child,oe=r.child.memoizedState,oe===null?oe=P0(l):(v=oe.cachePool,v!==null?(we=cr._currentValue,v=v.parent!==we?{parent:we,pool:we}:v):v=de(),oe={baseLanes:oe.baseLanes|l,cachePool:v}),d.memoizedState=oe,d.childLanes=q0(r,U,l),a.memoizedState=B0,gf(r.child,d)):(fr(a),l=r.child,r=l.sibling,l=Hi(l,{mode:"visible",children:d.children}),l.return=a,l.sibling=null,r!==null&&(U=a.deletions,U===null?(a.deletions=[r],a.flags|=16):U.push(r)),a.child=l,a.memoizedState=null,l)}function F0(r,a){return a=Nd({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function Nd(r,a){return r=ni(22,r,null,a),r.lanes=0,r}function H0(r,a,l){return qn(a,r.child,null,l),r=F0(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function gm(r,a,l){r.lanes|=a;var d=r.alternate;d!==null&&(d.lanes|=a),ol(r.return,a,l)}function $0(r,a,l,d,v,x){var U=r.memoizedState;U===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:v,treeForkCount:x}:(U.isBackwards=a,U.rendering=null,U.renderingStartTime=0,U.last=d,U.tail=l,U.tailMode=v,U.treeForkCount=x)}function mm(r,a,l){var d=a.pendingProps,v=d.revealOrder,x=d.tail;d=d.children;var U=dn.current,oe=(U&2)!==0;if(oe?(U=U&1|2,a.flags|=128):U&=1,G(dn,U),pi(r,a,d,l),d=rn?au:0,!oe&&r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&gm(r,l,a);else if(r.tag===19)gm(r,l,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(v){case"forwards":for(l=a.child,v=null;l!==null;)r=l.alternate,r!==null&&ii(r)===null&&(v=l),l=l.sibling;l=v,l===null?(v=a.child,a.child=null):(v=l.sibling,l.sibling=null),$0(a,!1,v,l,x,d);break;case"backwards":case"unstable_legacy-backwards":for(l=null,v=a.child,a.child=null;v!==null;){if(r=v.alternate,r!==null&&ii(r)===null){a.child=v;break}r=v.sibling,v.sibling=l,l=v,v=r}$0(a,!0,l,null,x,d);break;case"together":$0(a,!1,null,null,void 0,d);break;default:a.memoizedState=null}return a.child}function Eo(r,a,l){if(r!==null&&(a.dependencies=r.dependencies),gl|=a.lanes,(l&a.childLanes)===0)if(r!==null){if($s(r,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,l=Hi(r,r.pendingProps),a.child=l,l.return=a;r.sibling!==null;)r=r.sibling,l=l.sibling=Hi(r,r.pendingProps),l.return=a;l.sibling=null}return a.child}function W0(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&Xu(r)))}function Yw(r,a,l){switch(a.tag){case 3:pe(a,a.stateNode.containerInfo),Hs(a,cr,r.memoizedState.cache),wo();break;case 27:case 5:_e(a);break;case 4:pe(a,a.stateNode.containerInfo);break;case 10:Hs(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,An(a),null;break;case 13:var d=a.memoizedState;if(d!==null)return d.dehydrated!==null?(fr(a),a.flags|=128,null):(l&a.child.childLanes)!==0?pm(r,a,l):(fr(a),r=Eo(r,a,l),r!==null?r.sibling:null);fr(a);break;case 19:var v=(r.flags&128)!==0;if(d=(l&a.childLanes)!==0,d||($s(r,a,l,!1),d=(l&a.childLanes)!==0),v){if(d)return mm(r,a,l);a.flags|=128}if(v=a.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),G(dn,dn.current),d)break;return null;case 22:return a.lanes=0,lm(r,a,l,a.pendingProps);case 24:Hs(a,cr,r.memoizedState.cache)}return Eo(r,a,l)}function ym(r,a,l){if(r!==null)if(r.memoizedProps!==a.pendingProps)Mr=!0;else{if(!W0(r,l)&&(a.flags&128)===0)return Mr=!1,Yw(r,a,l);Mr=(r.flags&131072)!==0}else Mr=!1,rn&&(a.flags&1048576)!==0&&bd(a,au,a.index);switch(a.lanes=0,a.tag){case 16:e:{var d=a.pendingProps;if(r=Ne(a.elementType),a.type=r,typeof r=="function")$u(r)?(d=cu(r,d),a.tag=1,a=dm(null,a,r,d,l)):(a.tag=0,a=U0(null,a,r,d,l));else{if(r!=null){var v=r.$$typeof;if(v===D){a.tag=11,a=am(null,a,r,d,l);break e}else if(v===te){a.tag=14,a=sm(null,a,r,d,l);break e}}throw a=F(r)||r,Error(i(306,a,""))}}return a;case 0:return U0(r,a,a.type,a.pendingProps,l);case 1:return d=a.type,v=cu(d,a.pendingProps),dm(r,a,d,v,l);case 3:e:{if(pe(a,a.stateNode.containerInfo),r===null)throw Error(i(387));d=a.pendingProps;var x=a.memoizedState;v=x.element,Kn(r,a),mr(a,d,null,l);var U=a.memoizedState;if(d=U.cache,Hs(a,cr,d),d!==x.cache&&xo(a,[cr],l,!0),Mn(),d=U.element,x.isDehydrated)if(x={element:d,isDehydrated:!1,cache:U.cache},a.updateQueue.baseState=x,a.memoizedState=x,a.flags&256){a=hm(r,a,d,l);break e}else if(d!==v){v=$i(Error(i(424)),a),sl(v),a=hm(r,a,d,l);break e}else for(r=a.stateNode.containerInfo,r.nodeType===9?r=r.body:r=r.nodeName==="HTML"?r.ownerDocument.body:r,Pn=Ha(r.firstChild),$r=a,rn=!0,di=null,er=!0,l=Vt(a,null,d,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(wo(),d===v){a=Eo(r,a,l);break e}pi(r,a,d,l)}a=a.child}return a;case 26:return jd(r,a),r===null?(l=L2(a.type,null,a.pendingProps,null))?a.memoizedState=l:rn||(l=a.type,r=a.pendingProps,d=Yd(q.current).createElement(l),d[Ln]=a,d[Yn]=r,gi(d,l,r),sr(d),a.stateNode=d):a.memoizedState=L2(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return _e(a),r===null&&rn&&(d=a.stateNode=E2(a.type,a.pendingProps,q.current),$r=a,er=!0,v=Pn,wl(a.type)?(Ap=v,Pn=Ha(d.firstChild)):Pn=v),pi(r,a,a.pendingProps.children,l),jd(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&rn&&((v=d=Pn)&&(d=Sx(d,a.type,a.pendingProps,er),d!==null?(a.stateNode=d,$r=a,Pn=Ha(d.firstChild),er=!1,v=!0):v=!1),v||qs(a)),_e(a),v=a.type,x=a.pendingProps,U=r!==null?r.memoizedProps:null,d=x.children,vp(v,x)?d=null:U!==null&&vp(v,U)&&(a.flags|=32),a.memoizedState!==null&&(v=sf(r,a,k0,null,null,l),jf._currentValue=v),jd(r,a),pi(r,a,d,l),a.child;case 6:return r===null&&rn&&((r=l=Pn)&&(l=Ax(l,a.pendingProps,er),l!==null?(a.stateNode=l,$r=a,Pn=null,r=!0):r=!1),r||qs(a)),null;case 13:return pm(r,a,l);case 4:return pe(a,a.stateNode.containerInfo),d=a.pendingProps,r===null?a.child=qn(a,null,d,l):pi(r,a,d,l),a.child;case 11:return am(r,a,a.type,a.pendingProps,l);case 7:return pi(r,a,a.pendingProps,l),a.child;case 8:return pi(r,a,a.pendingProps.children,l),a.child;case 12:return pi(r,a,a.pendingProps.children,l),a.child;case 10:return d=a.pendingProps,Hs(a,a.type,d.value),pi(r,a,d.children,l),a.child;case 9:return v=a.type._context,d=a.pendingProps.children,Ws(a),v=Gr(v),d=d(v),a.flags|=1,pi(r,a,d,l),a.child;case 14:return sm(r,a,a.type,a.pendingProps,l);case 15:return om(r,a,a.type,a.pendingProps,l);case 19:return mm(r,a,l);case 31:return Gw(r,a,l);case 22:return lm(r,a,l,a.pendingProps);case 24:return Ws(a),d=Gr(cr),r===null?(v=ue(),v===null&&(v=Fn,x=ll(),v.pooledCache=x,x.refCount++,x!==null&&(v.pooledCacheLanes|=l),v=x),a.memoizedState={parent:d,cache:v},pt(a),Hs(a,cr,v)):((r.lanes&l)!==0&&(Kn(r,a),mr(a,null,null,l),Mn()),v=r.memoizedState,x=a.memoizedState,v.parent!==d?(v={parent:d,cache:d},a.memoizedState=v,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=v),Hs(a,cr,d)):(d=x.cache,Hs(a,cr,d),d!==v.cache&&xo(a,[cr],l,!0))),pi(r,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function ko(r){r.flags|=4}function G0(r,a,l,d,v){if((a=(r.mode&32)!==0)&&(a=!1),a){if(r.flags|=16777216,(v&335544128)===v)if(r.stateNode.complete)r.flags|=8192;else if($m())r.flags|=8192;else throw We=ke,De}else r.flags&=-16777217}function bm(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!O2(a))if($m())r.flags|=8192;else throw We=ke,De}function Rd(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?on():536870912,r.lanes|=a,fc|=a)}function mf(r,a){if(!rn)switch(r.tailMode){case"hidden":a=r.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function Qn(r){var a=r.alternate!==null&&r.alternate.child===r.child,l=0,d=0;if(a)for(var v=r.child;v!==null;)l|=v.lanes|v.childLanes,d|=v.subtreeFlags&65011712,d|=v.flags&65011712,v.return=r,v=v.sibling;else for(v=r.child;v!==null;)l|=v.lanes|v.childLanes,d|=v.subtreeFlags,d|=v.flags,v.return=r,v=v.sibling;return r.subtreeFlags|=d,r.childLanes=l,a}function Vw(r,a,l){var d=a.pendingProps;switch(Vu(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qn(a),null;case 1:return Qn(a),null;case 3:return l=a.stateNode,d=null,r!==null&&(d=r.memoizedState.cache),a.memoizedState.cache!==d&&(a.flags|=2048),Ki(cr),ye(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(Wr(a)?ko(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,rf())),Qn(a),null;case 26:var v=a.type,x=a.memoizedState;return r===null?(ko(a),x!==null?(Qn(a),bm(a,x)):(Qn(a),G0(a,v,null,d,l))):x?x!==r.memoizedState?(ko(a),Qn(a),bm(a,x)):(Qn(a),a.flags&=-16777217):(r=r.memoizedProps,r!==d&&ko(a),Qn(a),G0(a,v,r,d,l)),null;case 27:if(Be(a),l=q.current,v=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==d&&ko(a);else{if(!d){if(a.stateNode===null)throw Error(i(166));return Qn(a),null}r=V.current,Wr(a)?nf(a):(r=E2(v,d,l),a.stateNode=r,ko(a))}return Qn(a),null;case 5:if(Be(a),v=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==d&&ko(a);else{if(!d){if(a.stateNode===null)throw Error(i(166));return Qn(a),null}if(x=V.current,Wr(a))nf(a);else{var U=Yd(q.current);switch(x){case 1:x=U.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:x=U.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":x=U.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":x=U.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":x=U.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof d.is=="string"?U.createElement("select",{is:d.is}):U.createElement("select"),d.multiple?x.multiple=!0:d.size&&(x.size=d.size);break;default:x=typeof d.is=="string"?U.createElement(v,{is:d.is}):U.createElement(v)}}x[Ln]=a,x[Yn]=d;e:for(U=a.child;U!==null;){if(U.tag===5||U.tag===6)x.appendChild(U.stateNode);else if(U.tag!==4&&U.tag!==27&&U.child!==null){U.child.return=U,U=U.child;continue}if(U===a)break e;for(;U.sibling===null;){if(U.return===null||U.return===a)break e;U=U.return}U.sibling.return=U.return,U=U.sibling}a.stateNode=x;e:switch(gi(x,v,d),v){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&ko(a)}}return Qn(a),G0(a,a.type,r===null?null:r.memoizedProps,a.pendingProps,l),null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==d&&ko(a);else{if(typeof d!="string"&&a.stateNode===null)throw Error(i(166));if(r=q.current,Wr(a)){if(r=a.stateNode,l=a.memoizedProps,d=null,v=$r,v!==null)switch(v.tag){case 27:case 5:d=v.memoizedProps}r[Ln]=a,r=!!(r.nodeValue===l||d!==null&&d.suppressHydrationWarning===!0||p2(r.nodeValue,l)),r||qs(a,!0)}else r=Yd(r).createTextNode(d),r[Ln]=a,a.stateNode=r}return Qn(a),null;case 31:if(l=a.memoizedState,r===null||r.memoizedState!==null){if(d=Wr(a),l!==null){if(r===null){if(!d)throw Error(i(318));if(r=a.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[Ln]=a}else wo(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Qn(a),r=!1}else l=rf(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=l),r=!0;if(!r)return a.flags&256?(Cn(a),a):(Cn(a),null);if((a.flags&128)!==0)throw Error(i(558))}return Qn(a),null;case 13:if(d=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(v=Wr(a),d!==null&&d.dehydrated!==null){if(r===null){if(!v)throw Error(i(318));if(v=a.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(i(317));v[Ln]=a}else wo(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Qn(a),v=!1}else v=rf(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=v),v=!0;if(!v)return a.flags&256?(Cn(a),a):(Cn(a),null)}return Cn(a),(a.flags&128)!==0?(a.lanes=l,a):(l=d!==null,r=r!==null&&r.memoizedState!==null,l&&(d=a.child,v=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(v=d.alternate.memoizedState.cachePool.pool),x=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(x=d.memoizedState.cachePool.pool),x!==v&&(d.flags|=2048)),l!==r&&l&&(a.child.flags|=8192),Rd(a,a.updateQueue),Qn(a),null);case 4:return ye(),r===null&&pp(a.stateNode.containerInfo),Qn(a),null;case 10:return Ki(a.type),Qn(a),null;case 19:if(j(dn),d=a.memoizedState,d===null)return Qn(a),null;if(v=(a.flags&128)!==0,x=d.rendering,x===null)if(v)mf(d,!1);else{if(xr!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(x=ii(r),x!==null){for(a.flags|=128,mf(d,!1),r=x.updateQueue,a.updateQueue=r,Rd(a,r),a.subtreeFlags=0,r=l,l=a.child;l!==null;)ru(l,r),l=l.sibling;return G(dn,dn.current&1|2),rn&&Mi(a,d.treeForkCount),a.child}r=r.sibling}d.tail!==null&&dt()>zd&&(a.flags|=128,v=!0,mf(d,!1),a.lanes=4194304)}else{if(!v)if(r=ii(x),r!==null){if(a.flags|=128,v=!0,r=r.updateQueue,a.updateQueue=r,Rd(a,r),mf(d,!0),d.tail===null&&d.tailMode==="hidden"&&!x.alternate&&!rn)return Qn(a),null}else 2*dt()-d.renderingStartTime>zd&&l!==536870912&&(a.flags|=128,v=!0,mf(d,!1),a.lanes=4194304);d.isBackwards?(x.sibling=a.child,a.child=x):(r=d.last,r!==null?r.sibling=x:a.child=x,d.last=x)}return d.tail!==null?(r=d.tail,d.rendering=r,d.tail=r.sibling,d.renderingStartTime=dt(),r.sibling=null,l=dn.current,G(dn,v?l&1|2:l&1),rn&&Mi(a,d.treeForkCount),r):(Qn(a),null);case 22:case 23:return Cn(a),Cr(),d=a.memoizedState!==null,r!==null?r.memoizedState!==null!==d&&(a.flags|=8192):d&&(a.flags|=8192),d?(l&536870912)!==0&&(a.flags&128)===0&&(Qn(a),a.subtreeFlags&6&&(a.flags|=8192)):Qn(a),l=a.updateQueue,l!==null&&Rd(a,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),d=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),d!==l&&(a.flags|=2048),r!==null&&j(ie),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Ki(cr),Qn(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function Kw(r,a){switch(Vu(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return Ki(cr),ye(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return Be(a),null;case 31:if(a.memoizedState!==null){if(Cn(a),a.alternate===null)throw Error(i(340));wo()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 13:if(Cn(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));wo()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return j(dn),null;case 4:return ye(),null;case 10:return Ki(a.type),null;case 22:case 23:return Cn(a),Cr(),r!==null&&j(ie),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return Ki(cr),null;case 25:return null;default:return null}}function vm(r,a){switch(Vu(a),a.tag){case 3:Ki(cr),ye();break;case 26:case 27:case 5:Be(a);break;case 4:ye();break;case 31:a.memoizedState!==null&&Cn(a);break;case 13:Cn(a);break;case 19:j(dn);break;case 10:Ki(a.type);break;case 22:case 23:Cn(a),Cr(),r!==null&&j(ie);break;case 24:Ki(cr)}}function yf(r,a){try{var l=a.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var v=d.next;l=v;do{if((l.tag&r)===r){d=void 0;var x=l.create,U=l.inst;d=x(),U.destroy=d}l=l.next}while(l!==v)}}catch(oe){Nn(a,a.return,oe)}}function hl(r,a,l){try{var d=a.updateQueue,v=d!==null?d.lastEffect:null;if(v!==null){var x=v.next;d=x;do{if((d.tag&r)===r){var U=d.inst,oe=U.destroy;if(oe!==void 0){U.destroy=void 0,v=a;var we=l,ze=oe;try{ze()}catch(Xe){Nn(v,we,Xe)}}}d=d.next}while(d!==x)}}catch(Xe){Nn(a,a.return,Xe)}}function wm(r){var a=r.updateQueue;if(a!==null){var l=r.stateNode;try{yr(a,l)}catch(d){Nn(r,r.return,d)}}}function xm(r,a,l){l.props=cu(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(d){Nn(r,a,d)}}function bf(r,a){try{var l=r.ref;if(l!==null){switch(r.tag){case 26:case 27:case 5:var d=r.stateNode;break;case 30:d=r.stateNode;break;default:d=r.stateNode}typeof l=="function"?r.refCleanup=l(d):l.current=d}}catch(v){Nn(r,a,v)}}function Xs(r,a){var l=r.ref,d=r.refCleanup;if(l!==null)if(typeof d=="function")try{d()}catch(v){Nn(r,a,v)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(v){Nn(r,a,v)}else l.current=null}function _m(r){var a=r.type,l=r.memoizedProps,d=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&d.focus();break e;case"img":l.src?d.src=l.src:l.srcSet&&(d.srcset=l.srcSet)}}catch(v){Nn(r,r.return,v)}}function Y0(r,a,l){try{var d=r.stateNode;yx(d,r.type,l,a),d[Yn]=a}catch(v){Nn(r,r.return,v)}}function Sm(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&wl(r.type)||r.tag===4}function V0(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Sm(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&wl(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function K0(r,a,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(r,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(r),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=fa));else if(d!==4&&(d===27&&wl(r.type)&&(l=r.stateNode,a=null),r=r.child,r!==null))for(K0(r,a,l),r=r.sibling;r!==null;)K0(r,a,l),r=r.sibling}function Od(r,a,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,a?l.insertBefore(r,a):l.appendChild(r);else if(d!==4&&(d===27&&wl(r.type)&&(l=r.stateNode),r=r.child,r!==null))for(Od(r,a,l),r=r.sibling;r!==null;)Od(r,a,l),r=r.sibling}function Am(r){var a=r.stateNode,l=r.memoizedProps;try{for(var d=r.type,v=a.attributes;v.length;)a.removeAttributeNode(v[0]);gi(a,d,l),a[Ln]=r,a[Yn]=l}catch(x){Nn(r,r.return,x)}}var To=!1,zr=!1,X0=!1,Em=typeof WeakSet=="function"?WeakSet:Set,ai=null;function Xw(r,a){if(r=r.containerInfo,yp=eh,r=ds(r),Ua(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var v=d.anchorOffset,x=d.focusNode;d=d.focusOffset;try{l.nodeType,x.nodeType}catch{l=null;break e}var U=0,oe=-1,we=-1,ze=0,Xe=0,it=r,Pe=null;t:for(;;){for(var He;it!==l||v!==0&&it.nodeType!==3||(oe=U+v),it!==x||d!==0&&it.nodeType!==3||(we=U+d),it.nodeType===3&&(U+=it.nodeValue.length),(He=it.firstChild)!==null;)Pe=it,it=He;for(;;){if(it===r)break t;if(Pe===l&&++ze===v&&(oe=U),Pe===x&&++Xe===d&&(we=U),(He=it.nextSibling)!==null)break;it=Pe,Pe=it.parentNode}it=He}l=oe===-1||we===-1?null:{start:oe,end:we}}else l=null}l=l||{start:0,end:0}}else l=null;for(bp={focusedElem:r,selectionRange:l},eh=!1,ai=a;ai!==null;)if(a=ai,r=a.child,(a.subtreeFlags&1028)!==0&&r!==null)r.return=a,ai=r;else for(;ai!==null;){switch(a=ai,x=a.alternate,r=a.flags,a.tag){case 0:if((r&4)!==0&&(r=a.updateQueue,r=r!==null?r.events:null,r!==null))for(l=0;l<r.length;l++)v=r[l],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&x!==null){r=void 0,l=a,v=x.memoizedProps,x=x.memoizedState,d=l.stateNode;try{var Et=cu(l.type,v);r=d.getSnapshotBeforeUpdate(Et,x),d.__reactInternalSnapshotBeforeUpdate=r}catch(Bt){Nn(l,l.return,Bt)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,l=r.nodeType,l===9)xp(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":xp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,ai=r;break}ai=a.return}}function km(r,a,l){var d=l.flags;switch(l.tag){case 0:case 11:case 15:Co(r,l),d&4&&yf(5,l);break;case 1:if(Co(r,l),d&4)if(r=l.stateNode,a===null)try{r.componentDidMount()}catch(U){Nn(l,l.return,U)}else{var v=cu(l.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(v,a,r.__reactInternalSnapshotBeforeUpdate)}catch(U){Nn(l,l.return,U)}}d&64&&wm(l),d&512&&bf(l,l.return);break;case 3:if(Co(r,l),d&64&&(r=l.updateQueue,r!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{yr(r,a)}catch(U){Nn(l,l.return,U)}}break;case 27:a===null&&d&4&&Am(l);case 26:case 5:Co(r,l),a===null&&d&4&&_m(l),d&512&&bf(l,l.return);break;case 12:Co(r,l);break;case 31:Co(r,l),d&4&&Cm(r,l);break;case 13:Co(r,l),d&4&&jm(r,l),d&64&&(r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(l=ax.bind(null,l),Ex(r,l))));break;case 22:if(d=l.memoizedState!==null||To,!d){a=a!==null&&a.memoizedState!==null||zr,v=To;var x=zr;To=d,(zr=a)&&!x?jo(r,l,(l.subtreeFlags&8772)!==0):Co(r,l),To=v,zr=x}break;case 30:break;default:Co(r,l)}}function Tm(r){var a=r.alternate;a!==null&&(r.alternate=null,Tm(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&Os(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var rr=null,Ji=!1;function Lo(r,a,l){for(l=l.child;l!==null;)Lm(r,a,l),l=l.sibling}function Lm(r,a,l){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(Je,l)}catch{}switch(l.tag){case 26:zr||Xs(l,a),Lo(r,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:zr||Xs(l,a);var d=rr,v=Ji;wl(l.type)&&(rr=l.stateNode,Ji=!1),Lo(r,a,l),Tf(l.stateNode),rr=d,Ji=v;break;case 5:zr||Xs(l,a);case 6:if(d=rr,v=Ji,rr=null,Lo(r,a,l),rr=d,Ji=v,rr!==null)if(Ji)try{(rr.nodeType===9?rr.body:rr.nodeName==="HTML"?rr.ownerDocument.body:rr).removeChild(l.stateNode)}catch(x){Nn(l,a,x)}else try{rr.removeChild(l.stateNode)}catch(x){Nn(l,a,x)}break;case 18:rr!==null&&(Ji?(r=rr,w2(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.stateNode),vc(r)):w2(rr,l.stateNode));break;case 4:d=rr,v=Ji,rr=l.stateNode.containerInfo,Ji=!0,Lo(r,a,l),rr=d,Ji=v;break;case 0:case 11:case 14:case 15:hl(2,l,a),zr||hl(4,l,a),Lo(r,a,l);break;case 1:zr||(Xs(l,a),d=l.stateNode,typeof d.componentWillUnmount=="function"&&xm(l,a,d)),Lo(r,a,l);break;case 21:Lo(r,a,l);break;case 22:zr=(d=zr)||l.memoizedState!==null,Lo(r,a,l),zr=d;break;default:Lo(r,a,l)}}function Cm(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{vc(r)}catch(l){Nn(a,a.return,l)}}}function jm(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{vc(r)}catch(l){Nn(a,a.return,l)}}function Jw(r){switch(r.tag){case 31:case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new Em),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new Em),a;default:throw Error(i(435,r.tag))}}function Dd(r,a){var l=Jw(r);a.forEach(function(d){if(!l.has(d)){l.add(d);var v=sx.bind(null,r,d);d.then(v,v)}})}function Qi(r,a){var l=a.deletions;if(l!==null)for(var d=0;d<l.length;d++){var v=l[d],x=r,U=a,oe=U;e:for(;oe!==null;){switch(oe.tag){case 27:if(wl(oe.type)){rr=oe.stateNode,Ji=!1;break e}break;case 5:rr=oe.stateNode,Ji=!1;break e;case 3:case 4:rr=oe.stateNode.containerInfo,Ji=!0;break e}oe=oe.return}if(rr===null)throw Error(i(160));Lm(x,U,v),rr=null,Ji=!1,x=v.alternate,x!==null&&(x.return=null),v.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)Nm(a,r),a=a.sibling}var ws=null;function Nm(r,a){var l=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Qi(a,r),Zi(r),d&4&&(hl(3,r,r.return),yf(3,r),hl(5,r,r.return));break;case 1:Qi(a,r),Zi(r),d&512&&(zr||l===null||Xs(l,l.return)),d&64&&To&&(r=r.updateQueue,r!==null&&(d=r.callbacks,d!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?d:l.concat(d))));break;case 26:var v=ws;if(Qi(a,r),Zi(r),d&512&&(zr||l===null||Xs(l,l.return)),d&4){var x=l!==null?l.memoizedState:null;if(d=r.memoizedState,l===null)if(d===null)if(r.stateNode===null){e:{d=r.type,l=r.memoizedProps,v=v.ownerDocument||v;t:switch(d){case"title":x=v.getElementsByTagName("title")[0],(!x||x[aa]||x[Ln]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=v.createElement(d),v.head.insertBefore(x,v.querySelector("head > title"))),gi(x,d,l),x[Ln]=r,sr(x),d=x;break e;case"link":var U=N2("link","href",v).get(d+(l.href||""));if(U){for(var oe=0;oe<U.length;oe++)if(x=U[oe],x.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&x.getAttribute("rel")===(l.rel==null?null:l.rel)&&x.getAttribute("title")===(l.title==null?null:l.title)&&x.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){U.splice(oe,1);break t}}x=v.createElement(d),gi(x,d,l),v.head.appendChild(x);break;case"meta":if(U=N2("meta","content",v).get(d+(l.content||""))){for(oe=0;oe<U.length;oe++)if(x=U[oe],x.getAttribute("content")===(l.content==null?null:""+l.content)&&x.getAttribute("name")===(l.name==null?null:l.name)&&x.getAttribute("property")===(l.property==null?null:l.property)&&x.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&x.getAttribute("charset")===(l.charSet==null?null:l.charSet)){U.splice(oe,1);break t}}x=v.createElement(d),gi(x,d,l),v.head.appendChild(x);break;default:throw Error(i(468,d))}x[Ln]=r,sr(x),d=x}r.stateNode=d}else R2(v,r.type,r.stateNode);else r.stateNode=j2(v,d,r.memoizedProps);else x!==d?(x===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):x.count--,d===null?R2(v,r.type,r.stateNode):j2(v,d,r.memoizedProps)):d===null&&r.stateNode!==null&&Y0(r,r.memoizedProps,l.memoizedProps)}break;case 27:Qi(a,r),Zi(r),d&512&&(zr||l===null||Xs(l,l.return)),l!==null&&d&4&&Y0(r,r.memoizedProps,l.memoizedProps);break;case 5:if(Qi(a,r),Zi(r),d&512&&(zr||l===null||Xs(l,l.return)),r.flags&32){v=r.stateNode;try{ca(v,"")}catch(Et){Nn(r,r.return,Et)}}d&4&&r.stateNode!=null&&(v=r.memoizedProps,Y0(r,v,l!==null?l.memoizedProps:v)),d&1024&&(X0=!0);break;case 6:if(Qi(a,r),Zi(r),d&4){if(r.stateNode===null)throw Error(i(162));d=r.memoizedProps,l=r.stateNode;try{l.nodeValue=d}catch(Et){Nn(r,r.return,Et)}}break;case 3:if(Xd=null,v=ws,ws=Vd(a.containerInfo),Qi(a,r),ws=v,Zi(r),d&4&&l!==null&&l.memoizedState.isDehydrated)try{vc(a.containerInfo)}catch(Et){Nn(r,r.return,Et)}X0&&(X0=!1,Rm(r));break;case 4:d=ws,ws=Vd(r.stateNode.containerInfo),Qi(a,r),Zi(r),ws=d;break;case 12:Qi(a,r),Zi(r);break;case 31:Qi(a,r),Zi(r),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,Dd(r,d)));break;case 13:Qi(a,r),Zi(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Md=dt()),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,Dd(r,d)));break;case 22:v=r.memoizedState!==null;var we=l!==null&&l.memoizedState!==null,ze=To,Xe=zr;if(To=ze||v,zr=Xe||we,Qi(a,r),zr=Xe,To=ze,Zi(r),d&8192)e:for(a=r.stateNode,a._visibility=v?a._visibility&-2:a._visibility|1,v&&(l===null||we||To||zr||fu(r)),l=null,a=r;;){if(a.tag===5||a.tag===26){if(l===null){we=l=a;try{if(x=we.stateNode,v)U=x.style,typeof U.setProperty=="function"?U.setProperty("display","none","important"):U.display="none";else{oe=we.stateNode;var it=we.memoizedProps.style,Pe=it!=null&&it.hasOwnProperty("display")?it.display:null;oe.style.display=Pe==null||typeof Pe=="boolean"?"":(""+Pe).trim()}}catch(Et){Nn(we,we.return,Et)}}}else if(a.tag===6){if(l===null){we=a;try{we.stateNode.nodeValue=v?"":we.memoizedProps}catch(Et){Nn(we,we.return,Et)}}}else if(a.tag===18){if(l===null){we=a;try{var He=we.stateNode;v?x2(He,!0):x2(we.stateNode,!1)}catch(Et){Nn(we,we.return,Et)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}d&4&&(d=r.updateQueue,d!==null&&(l=d.retryQueue,l!==null&&(d.retryQueue=null,Dd(r,l))));break;case 19:Qi(a,r),Zi(r),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,Dd(r,d)));break;case 30:break;case 21:break;default:Qi(a,r),Zi(r)}}function Zi(r){var a=r.flags;if(a&2){try{for(var l,d=r.return;d!==null;){if(Sm(d)){l=d;break}d=d.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var v=l.stateNode,x=V0(r);Od(r,x,v);break;case 5:var U=l.stateNode;l.flags&32&&(ca(U,""),l.flags&=-33);var oe=V0(r);Od(r,oe,U);break;case 3:case 4:var we=l.stateNode.containerInfo,ze=V0(r);K0(r,ze,we);break;default:throw Error(i(161))}}catch(Xe){Nn(r,r.return,Xe)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function Rm(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;Rm(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function Co(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)km(r,a.alternate,a),a=a.sibling}function fu(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:hl(4,a,a.return),fu(a);break;case 1:Xs(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&xm(a,a.return,l),fu(a);break;case 27:Tf(a.stateNode);case 26:case 5:Xs(a,a.return),fu(a);break;case 22:a.memoizedState===null&&fu(a);break;case 30:fu(a);break;default:fu(a)}r=r.sibling}}function jo(r,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var d=a.alternate,v=r,x=a,U=x.flags;switch(x.tag){case 0:case 11:case 15:jo(v,x,l),yf(4,x);break;case 1:if(jo(v,x,l),d=x,v=d.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(ze){Nn(d,d.return,ze)}if(d=x,v=d.updateQueue,v!==null){var oe=d.stateNode;try{var we=v.shared.hiddenCallbacks;if(we!==null)for(v.shared.hiddenCallbacks=null,v=0;v<we.length;v++)ri(we[v],oe)}catch(ze){Nn(d,d.return,ze)}}l&&U&64&&wm(x),bf(x,x.return);break;case 27:Am(x);case 26:case 5:jo(v,x,l),l&&d===null&&U&4&&_m(x),bf(x,x.return);break;case 12:jo(v,x,l);break;case 31:jo(v,x,l),l&&U&4&&Cm(v,x);break;case 13:jo(v,x,l),l&&U&4&&jm(v,x);break;case 22:x.memoizedState===null&&jo(v,x,l),bf(x,x.return);break;case 30:break;default:jo(v,x,l)}a=a.sibling}}function J0(r,a){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&su(l))}function Q0(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&su(r))}function xs(r,a,l,d){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Om(r,a,l,d),a=a.sibling}function Om(r,a,l,d){var v=a.flags;switch(a.tag){case 0:case 11:case 15:xs(r,a,l,d),v&2048&&yf(9,a);break;case 1:xs(r,a,l,d);break;case 3:xs(r,a,l,d),v&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&su(r)));break;case 12:if(v&2048){xs(r,a,l,d),r=a.stateNode;try{var x=a.memoizedProps,U=x.id,oe=x.onPostCommit;typeof oe=="function"&&oe(U,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(we){Nn(a,a.return,we)}}else xs(r,a,l,d);break;case 31:xs(r,a,l,d);break;case 13:xs(r,a,l,d);break;case 23:break;case 22:x=a.stateNode,U=a.alternate,a.memoizedState!==null?x._visibility&2?xs(r,a,l,d):vf(r,a):x._visibility&2?xs(r,a,l,d):(x._visibility|=2,lc(r,a,l,d,(a.subtreeFlags&10256)!==0||!1)),v&2048&&J0(U,a);break;case 24:xs(r,a,l,d),v&2048&&Q0(a.alternate,a);break;default:xs(r,a,l,d)}}function lc(r,a,l,d,v){for(v=v&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var x=r,U=a,oe=l,we=d,ze=U.flags;switch(U.tag){case 0:case 11:case 15:lc(x,U,oe,we,v),yf(8,U);break;case 23:break;case 22:var Xe=U.stateNode;U.memoizedState!==null?Xe._visibility&2?lc(x,U,oe,we,v):vf(x,U):(Xe._visibility|=2,lc(x,U,oe,we,v)),v&&ze&2048&&J0(U.alternate,U);break;case 24:lc(x,U,oe,we,v),v&&ze&2048&&Q0(U.alternate,U);break;default:lc(x,U,oe,we,v)}a=a.sibling}}function vf(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=r,d=a,v=d.flags;switch(d.tag){case 22:vf(l,d),v&2048&&J0(d.alternate,d);break;case 24:vf(l,d),v&2048&&Q0(d.alternate,d);break;default:vf(l,d)}a=a.sibling}}var wf=8192;function uc(r,a,l){if(r.subtreeFlags&wf)for(r=r.child;r!==null;)Dm(r,a,l),r=r.sibling}function Dm(r,a,l){switch(r.tag){case 26:uc(r,a,l),r.flags&wf&&r.memoizedState!==null&&zx(l,ws,r.memoizedState,r.memoizedProps);break;case 5:uc(r,a,l);break;case 3:case 4:var d=ws;ws=Vd(r.stateNode.containerInfo),uc(r,a,l),ws=d;break;case 22:r.memoizedState===null&&(d=r.alternate,d!==null&&d.memoizedState!==null?(d=wf,wf=16777216,uc(r,a,l),wf=d):uc(r,a,l));break;default:uc(r,a,l)}}function Im(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function xf(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var d=a[l];ai=d,zm(d,r)}Im(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Mm(r),r=r.sibling}function Mm(r){switch(r.tag){case 0:case 11:case 15:xf(r),r.flags&2048&&hl(9,r,r.return);break;case 3:xf(r);break;case 12:xf(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,Id(r)):xf(r);break;default:xf(r)}}function Id(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var d=a[l];ai=d,zm(d,r)}Im(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:hl(8,a,a.return),Id(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Id(a));break;default:Id(a)}r=r.sibling}}function zm(r,a){for(;ai!==null;){var l=ai;switch(l.tag){case 0:case 11:case 15:hl(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var d=l.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:su(l.memoizedState.cache)}if(d=l.child,d!==null)d.return=l,ai=d;else e:for(l=r;ai!==null;){d=ai;var v=d.sibling,x=d.return;if(Tm(d),d===l){ai=null;break e}if(v!==null){v.return=x,ai=v;break e}ai=x}}}var Qw={getCacheForType:function(r){var a=Gr(cr),l=a.data.get(r);return l===void 0&&(l=r(),a.data.set(r,l)),l},cacheSignal:function(){return Gr(cr).controller.signal}},Zw=typeof WeakMap=="function"?WeakMap:Map,En=0,Fn=null,an=null,ln=0,jn=0,ba=null,pl=!1,cc=!1,Z0=!1,No=0,xr=0,gl=0,du=0,ep=0,va=0,fc=0,_f=null,ea=null,tp=!1,Md=0,Um=0,zd=1/0,Ud=null,ml=null,Vr=0,yl=null,dc=null,Ro=0,np=0,rp=null,Bm=null,Sf=0,ip=null;function wa(){return(En&2)!==0&&ln!==0?ln&-ln:O.T!==null?cp():Tn()}function Pm(){if(va===0)if((ln&536870912)===0||rn){var r=vt;vt<<=1,(vt&3932160)===0&&(vt=262144),va=r}else va=536870912;return r=Jn.current,r!==null&&(r.flags|=32),va}function ta(r,a,l){(r===Fn&&(jn===2||jn===9)||r.cancelPendingCommit!==null)&&(hc(r,0),bl(r,ln,va,!1)),Lt(r,l),((En&2)===0||r!==Fn)&&(r===Fn&&((En&2)===0&&(du|=l),xr===4&&bl(r,ln,va,!1)),Js(r))}function qm(r,a,l){if((En&6)!==0)throw Error(i(327));var d=!l&&(a&127)===0&&(a&r.expiredLanes)===0||tn(r,a),v=d?nx(r,a):sp(r,a,!0),x=d;do{if(v===0){cc&&!d&&bl(r,a,0,!1);break}else{if(l=r.current.alternate,x&&!ex(l)){v=sp(r,a,!1),x=!1;continue}if(v===2){if(x=a,r.errorRecoveryDisabledLanes&x)var U=0;else U=r.pendingLanes&-536870913,U=U!==0?U:U&536870912?536870912:0;if(U!==0){a=U;e:{var oe=r;v=_f;var we=oe.current.memoizedState.isDehydrated;if(we&&(hc(oe,U).flags|=256),U=sp(oe,U,!1),U!==2){if(Z0&&!we){oe.errorRecoveryDisabledLanes|=x,du|=x,v=4;break e}x=ea,ea=v,x!==null&&(ea===null?ea=x:ea.push.apply(ea,x))}v=U}if(x=!1,v!==2)continue}}if(v===1){hc(r,0),bl(r,a,0,!0);break}e:{switch(d=r,x=v,x){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:bl(d,a,va,!pl);break e;case 2:ea=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(v=Md+300-dt(),10<v)){if(bl(d,a,va,!pl),Ct(d,0,!0)!==0)break e;Ro=a,d.timeoutHandle=b2(Fm.bind(null,d,l,ea,Ud,tp,a,va,du,fc,pl,x,"Throttled",-0,0),v);break e}Fm(d,l,ea,Ud,tp,a,va,du,fc,pl,x,null,-0,0)}}break}while(!0);Js(r)}function Fm(r,a,l,d,v,x,U,oe,we,ze,Xe,it,Pe,He){if(r.timeoutHandle=-1,it=a.subtreeFlags,it&8192||(it&16785408)===16785408){it={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fa},Dm(a,x,it);var Et=(x&62914560)===x?Md-dt():(x&4194048)===x?Um-dt():0;if(Et=Ux(it,Et),Et!==null){Ro=x,r.cancelPendingCommit=Et(Xm.bind(null,r,a,x,l,d,v,U,oe,we,Xe,it,null,Pe,He)),bl(r,x,U,!ze);return}}Xm(r,a,x,l,d,v,U,oe,we)}function ex(r){for(var a=r;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var d=0;d<l.length;d++){var v=l[d],x=v.getSnapshot;v=v.value;try{if(!Fr(x(),v))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function bl(r,a,l,d){a&=~ep,a&=~du,r.suspendedLanes|=a,r.pingedLanes&=~a,d&&(r.warmLanes|=a),d=r.expirationTimes;for(var v=a;0<v;){var x=31-_t(v),U=1<<x;d[x]=-1,v&=~U}l!==0&&Ar(r,l,a)}function Bd(){return(En&6)===0?(Af(0),!1):!0}function ap(){if(an!==null){if(jn===0)var r=an.return;else r=an,Pa=Fs=null,tc(r),at=null,kt=0,r=an;for(;r!==null;)vm(r.alternate,r),r=r.return;an=null}}function hc(r,a){var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,wx(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),Ro=0,ap(),Fn=r,an=l=Hi(r.current,null),ln=a,jn=0,ba=null,pl=!1,cc=tn(r,a),Z0=!1,fc=va=ep=du=gl=xr=0,ea=_f=null,tp=!1,(a&8)!==0&&(a|=a&32);var d=r.entangledLanes;if(d!==0)for(r=r.entanglements,d&=a;0<d;){var v=31-_t(d),x=1<<v;a|=r[v],d&=~x}return No=a,eu(),l}function Hm(r,a){Dt=null,O.H=pf,a===Se||a===fe?(a=et(),jn=3):a===De?(a=et(),jn=4):jn=a===z0?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,ba=a,an===null&&(xr=1,Ld(r,$i(a,r.current)))}function $m(){var r=Jn.current;return r===null?!0:(ln&4194048)===ln?gn===null:(ln&62914560)===ln||(ln&536870912)!==0?r===gn:!1}function Wm(){var r=O.H;return O.H=pf,r===null?pf:r}function Gm(){var r=O.A;return O.A=Qw,r}function Pd(){xr=4,pl||(ln&4194048)!==ln&&Jn.current!==null||(cc=!0),(gl&134217727)===0&&(du&134217727)===0||Fn===null||bl(Fn,ln,va,!1)}function sp(r,a,l){var d=En;En|=2;var v=Wm(),x=Gm();(Fn!==r||ln!==a)&&(Ud=null,hc(r,a)),a=!1;var U=xr;e:do try{if(jn!==0&&an!==null){var oe=an,we=ba;switch(jn){case 8:ap(),U=6;break e;case 3:case 2:case 9:case 6:Jn.current===null&&(a=!0);var ze=jn;if(jn=0,ba=null,pc(r,oe,we,ze),l&&cc){U=0;break e}break;default:ze=jn,jn=0,ba=null,pc(r,oe,we,ze)}}tx(),U=xr;break}catch(Xe){Hm(r,Xe)}while(!0);return a&&r.shellSuspendCounter++,Pa=Fs=null,En=d,O.H=v,O.A=x,an===null&&(Fn=null,ln=0,eu()),U}function tx(){for(;an!==null;)Ym(an)}function nx(r,a){var l=En;En|=2;var d=Wm(),v=Gm();Fn!==r||ln!==a?(Ud=null,zd=dt()+500,hc(r,a)):cc=tn(r,a);e:do try{if(jn!==0&&an!==null){a=an;var x=ba;t:switch(jn){case 1:jn=0,ba=null,pc(r,a,x,1);break;case 2:case 9:if(je(x)){jn=0,ba=null,Vm(a);break}a=function(){jn!==2&&jn!==9||Fn!==r||(jn=7),Js(r)},x.then(a,a);break e;case 3:jn=7;break e;case 4:jn=5;break e;case 7:je(x)?(jn=0,ba=null,Vm(a)):(jn=0,ba=null,pc(r,a,x,7));break;case 5:var U=null;switch(an.tag){case 26:U=an.memoizedState;case 5:case 27:var oe=an;if(U?O2(U):oe.stateNode.complete){jn=0,ba=null;var we=oe.sibling;if(we!==null)an=we;else{var ze=oe.return;ze!==null?(an=ze,qd(ze)):an=null}break t}}jn=0,ba=null,pc(r,a,x,5);break;case 6:jn=0,ba=null,pc(r,a,x,6);break;case 8:ap(),xr=6;break e;default:throw Error(i(462))}}rx();break}catch(Xe){Hm(r,Xe)}while(!0);return Pa=Fs=null,O.H=d,O.A=v,En=l,an!==null?0:(Fn=null,ln=0,eu(),xr)}function rx(){for(;an!==null&&!lt();)Ym(an)}function Ym(r){var a=ym(r.alternate,r,No);r.memoizedProps=r.pendingProps,a===null?qd(r):an=a}function Vm(r){var a=r,l=a.alternate;switch(a.tag){case 15:case 0:a=fm(l,a,a.pendingProps,a.type,void 0,ln);break;case 11:a=fm(l,a,a.pendingProps,a.type.render,a.ref,ln);break;case 5:tc(a);default:vm(l,a),a=an=ru(a,No),a=ym(l,a,No)}r.memoizedProps=r.pendingProps,a===null?qd(r):an=a}function pc(r,a,l,d){Pa=Fs=null,tc(a),at=null,kt=0;var v=a.return;try{if(Ww(r,v,a,l,ln)){xr=1,Ld(r,$i(l,r.current)),an=null;return}}catch(x){if(v!==null)throw an=v,x;xr=1,Ld(r,$i(l,r.current)),an=null;return}a.flags&32768?(rn||d===1?r=!0:cc||(ln&536870912)!==0?r=!1:(pl=r=!0,(d===2||d===9||d===3||d===6)&&(d=Jn.current,d!==null&&d.tag===13&&(d.flags|=16384))),Km(a,r)):qd(a)}function qd(r){var a=r;do{if((a.flags&32768)!==0){Km(a,pl);return}r=a.return;var l=Vw(a.alternate,a,No);if(l!==null){an=l;return}if(a=a.sibling,a!==null){an=a;return}an=a=r}while(a!==null);xr===0&&(xr=5)}function Km(r,a){do{var l=Kw(r.alternate,r);if(l!==null){l.flags&=32767,an=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(r=r.sibling,r!==null)){an=r;return}an=r=l}while(r!==null);xr=6,an=null}function Xm(r,a,l,d,v,x,U,oe,we){r.cancelPendingCommit=null;do Fd();while(Vr!==0);if((En&6)!==0)throw Error(i(327));if(a!==null){if(a===r.current)throw Error(i(177));if(x=a.lanes|a.childLanes,x|=qu,kn(r,l,x,U,oe,we),r===Fn&&(an=Fn=null,ln=0),dc=a,yl=r,Ro=l,np=x,rp=v,Bm=d,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,ox(Fe,function(){return t2(),null})):(r.callbackNode=null,r.callbackPriority=0),d=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||d){d=O.T,O.T=null,v=R.p,R.p=2,U=En,En|=4;try{Xw(r,a,l)}finally{En=U,R.p=v,O.T=d}}Vr=1,Jm(),Qm(),Zm()}}function Jm(){if(Vr===1){Vr=0;var r=yl,a=dc,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=O.T,O.T=null;var d=R.p;R.p=2;var v=En;En|=4;try{Nm(a,r);var x=bp,U=ds(r.containerInfo),oe=x.focusedElem,we=x.selectionRange;if(U!==oe&&oe&&oe.ownerDocument&&fs(oe.ownerDocument.documentElement,oe)){if(we!==null&&Ua(oe)){var ze=we.start,Xe=we.end;if(Xe===void 0&&(Xe=ze),"selectionStart"in oe)oe.selectionStart=ze,oe.selectionEnd=Math.min(Xe,oe.value.length);else{var it=oe.ownerDocument||document,Pe=it&&it.defaultView||window;if(Pe.getSelection){var He=Pe.getSelection(),Et=oe.textContent.length,Bt=Math.min(we.start,Et),Bn=we.end===void 0?Bt:Math.min(we.end,Et);!He.extend&&Bt>Bn&&(U=Bn,Bn=Bt,Bt=U);var Ce=nl(oe,Bt),Ae=nl(oe,Bn);if(Ce&&Ae&&(He.rangeCount!==1||He.anchorNode!==Ce.node||He.anchorOffset!==Ce.offset||He.focusNode!==Ae.node||He.focusOffset!==Ae.offset)){var Ie=it.createRange();Ie.setStart(Ce.node,Ce.offset),He.removeAllRanges(),Bt>Bn?(He.addRange(Ie),He.extend(Ae.node,Ae.offset)):(Ie.setEnd(Ae.node,Ae.offset),He.addRange(Ie))}}}}for(it=[],He=oe;He=He.parentNode;)He.nodeType===1&&it.push({element:He,left:He.scrollLeft,top:He.scrollTop});for(typeof oe.focus=="function"&&oe.focus(),oe=0;oe<it.length;oe++){var rt=it[oe];rt.element.scrollLeft=rt.left,rt.element.scrollTop=rt.top}}eh=!!yp,bp=yp=null}finally{En=v,R.p=d,O.T=l}}r.current=a,Vr=2}}function Qm(){if(Vr===2){Vr=0;var r=yl,a=dc,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=O.T,O.T=null;var d=R.p;R.p=2;var v=En;En|=4;try{km(r,a.alternate,a)}finally{En=v,R.p=d,O.T=l}}Vr=3}}function Zm(){if(Vr===4||Vr===3){Vr=0,ct();var r=yl,a=dc,l=Ro,d=Bm;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Vr=5:(Vr=0,dc=yl=null,e2(r,r.pendingLanes));var v=r.pendingLanes;if(v===0&&(ml=null),On(l),a=a.stateNode,$e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(Je,a,void 0,(a.current.flags&128)===128)}catch{}if(d!==null){a=O.T,v=R.p,R.p=2,O.T=null;try{for(var x=r.onRecoverableError,U=0;U<d.length;U++){var oe=d[U];x(oe.value,{componentStack:oe.stack})}}finally{O.T=a,R.p=v}}(Ro&3)!==0&&Fd(),Js(r),v=r.pendingLanes,(l&261930)!==0&&(v&42)!==0?r===ip?Sf++:(Sf=0,ip=r):Sf=0,Af(0)}}function e2(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,su(a)))}function Fd(){return Jm(),Qm(),Zm(),t2()}function t2(){if(Vr!==5)return!1;var r=yl,a=np;np=0;var l=On(Ro),d=O.T,v=R.p;try{R.p=32>l?32:l,O.T=null,l=rp,rp=null;var x=yl,U=Ro;if(Vr=0,dc=yl=null,Ro=0,(En&6)!==0)throw Error(i(331));var oe=En;if(En|=4,Mm(x.current),Om(x,x.current,U,l),En=oe,Af(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(Je,x)}catch{}return!0}finally{R.p=v,O.T=d,e2(r,a)}}function n2(r,a,l){a=$i(l,a),a=M0(r.stateNode,a,2),r=Jt(r,a,2),r!==null&&(Lt(r,2),Js(r))}function Nn(r,a,l){if(r.tag===3)n2(r,r,l);else for(;a!==null;){if(a.tag===3){n2(a,r,l);break}else if(a.tag===1){var d=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(ml===null||!ml.has(d))){r=$i(l,r),l=rm(2),d=Jt(a,l,2),d!==null&&(im(l,d,a,r),Lt(d,2),Js(d));break}}a=a.return}}function op(r,a,l){var d=r.pingCache;if(d===null){d=r.pingCache=new Zw;var v=new Set;d.set(a,v)}else v=d.get(a),v===void 0&&(v=new Set,d.set(a,v));v.has(l)||(Z0=!0,v.add(l),r=ix.bind(null,r,a,l),a.then(r,r))}function ix(r,a,l){var d=r.pingCache;d!==null&&d.delete(a),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,Fn===r&&(ln&l)===l&&(xr===4||xr===3&&(ln&62914560)===ln&&300>dt()-Md?(En&2)===0&&hc(r,0):ep|=l,fc===ln&&(fc=0)),Js(r)}function r2(r,a){a===0&&(a=on()),r=ps(r,a),r!==null&&(Lt(r,a),Js(r))}function ax(r){var a=r.memoizedState,l=0;a!==null&&(l=a.retryLane),r2(r,l)}function sx(r,a){var l=0;switch(r.tag){case 31:case 13:var d=r.stateNode,v=r.memoizedState;v!==null&&(l=v.retryLane);break;case 19:d=r.stateNode;break;case 22:d=r.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(a),r2(r,l)}function ox(r,a){return qe(r,a)}var Hd=null,gc=null,lp=!1,$d=!1,up=!1,vl=0;function Js(r){r!==gc&&r.next===null&&(gc===null?Hd=gc=r:gc=gc.next=r),$d=!0,lp||(lp=!0,ux())}function Af(r,a){if(!up&&$d){up=!0;do for(var l=!1,d=Hd;d!==null;){if(r!==0){var v=d.pendingLanes;if(v===0)var x=0;else{var U=d.suspendedLanes,oe=d.pingedLanes;x=(1<<31-_t(42|r)+1)-1,x&=v&~(U&~oe),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(l=!0,o2(d,x))}else x=ln,x=Ct(d,d===Fn?x:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(x&3)===0||tn(d,x)||(l=!0,o2(d,x));d=d.next}while(l);up=!1}}function lx(){i2()}function i2(){$d=lp=!1;var r=0;vl!==0&&vx()&&(r=vl);for(var a=dt(),l=null,d=Hd;d!==null;){var v=d.next,x=a2(d,a);x===0?(d.next=null,l===null?Hd=v:l.next=v,v===null&&(gc=l)):(l=d,(r!==0||(x&3)!==0)&&($d=!0)),d=v}Vr!==0&&Vr!==5||Af(r),vl!==0&&(vl=0)}function a2(r,a){for(var l=r.suspendedLanes,d=r.pingedLanes,v=r.expirationTimes,x=r.pendingLanes&-62914561;0<x;){var U=31-_t(x),oe=1<<U,we=v[U];we===-1?((oe&l)===0||(oe&d)!==0)&&(v[U]=Qt(oe,a)):we<=a&&(r.expiredLanes|=oe),x&=~oe}if(a=Fn,l=ln,l=Ct(r,r===a?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d=r.callbackNode,l===0||r===a&&(jn===2||jn===9)||r.cancelPendingCommit!==null)return d!==null&&d!==null&&Me(d),r.callbackNode=null,r.callbackPriority=0;if((l&3)===0||tn(r,l)){if(a=l&-l,a===r.callbackPriority)return a;switch(d!==null&&Me(d),On(l)){case 2:case 8:l=Ge;break;case 32:l=Fe;break;case 268435456:l=Ke;break;default:l=Fe}return d=s2.bind(null,r),l=qe(l,d),r.callbackPriority=a,r.callbackNode=l,a}return d!==null&&d!==null&&Me(d),r.callbackPriority=2,r.callbackNode=null,2}function s2(r,a){if(Vr!==0&&Vr!==5)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if(Fd()&&r.callbackNode!==l)return null;var d=ln;return d=Ct(r,r===Fn?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d===0?null:(qm(r,d,a),a2(r,dt()),r.callbackNode!=null&&r.callbackNode===l?s2.bind(null,r):null)}function o2(r,a){if(Fd())return null;qm(r,a,!0)}function ux(){xx(function(){(En&6)!==0?qe(Re,lx):i2()})}function cp(){if(vl===0){var r=m;r===0&&(r=gt,gt<<=1,(gt&261888)===0&&(gt=256)),vl=r}return vl}function l2(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:vi(""+r)}function u2(r,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,r.id&&l.setAttribute("form",r.id),a.parentNode.insertBefore(l,a),r=new FormData(r),l.parentNode.removeChild(l),r}function cx(r,a,l,d,v){if(a==="submit"&&l&&l.stateNode===v){var x=l2((v[Yn]||null).action),U=d.submitter;U&&(a=(a=U[Yn]||null)?l2(a.formAction):U.getAttribute("formAction"),a!==null&&(x=a,U=null));var oe=new Pi("action","action",null,d,v);r.push({event:oe,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(vl!==0){var we=U?u2(v,U):new FormData(v);j0(l,{pending:!0,data:we,method:v.method,action:x},null,we)}}else typeof x=="function"&&(oe.preventDefault(),we=U?u2(v,U):new FormData(v),j0(l,{pending:!0,data:we,method:v.method,action:x},x,we))},currentTarget:v}]})}}for(var fp=0;fp<yo.length;fp++){var dp=yo[fp],fx=dp.toLowerCase(),dx=dp[0].toUpperCase()+dp.slice(1);Fi(fx,"on"+dx)}Fi(mo,"onAnimationEnd"),Fi(Ql,"onAnimationIteration"),Fi(Qc,"onAnimationStart"),Fi("dblclick","onDoubleClick"),Fi("focusin","onFocus"),Fi("focusout","onBlur"),Fi(gd,"onTransitionRun"),Fi(md,"onTransitionStart"),Fi(yd,"onTransitionCancel"),Fi(Zc,"onTransitionEnd"),Ka("onMouseEnter",["mouseout","mouseover"]),Ka("onMouseLeave",["mouseout","mouseover"]),Ka("onPointerEnter",["pointerout","pointerover"]),Ka("onPointerLeave",["pointerout","pointerover"]),la("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),la("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),la("onBeforeInput",["compositionend","keypress","textInput","paste"]),la("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),la("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),la("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ef="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ef));function c2(r,a){a=(a&4)!==0;for(var l=0;l<r.length;l++){var d=r[l],v=d.event;d=d.listeners;e:{var x=void 0;if(a)for(var U=d.length-1;0<=U;U--){var oe=d[U],we=oe.instance,ze=oe.currentTarget;if(oe=oe.listener,we!==x&&v.isPropagationStopped())break e;x=oe,v.currentTarget=ze;try{x(v)}catch(Xe){Zl(Xe)}v.currentTarget=null,x=we}else for(U=0;U<d.length;U++){if(oe=d[U],we=oe.instance,ze=oe.currentTarget,oe=oe.listener,we!==x&&v.isPropagationStopped())break e;x=oe,v.currentTarget=ze;try{x(v)}catch(Xe){Zl(Xe)}v.currentTarget=null,x=we}}}}function sn(r,a){var l=a[Li];l===void 0&&(l=a[Li]=new Set);var d=r+"__bubble";l.has(d)||(f2(a,r,2,!1),l.add(d))}function hp(r,a,l){var d=0;a&&(d|=4),f2(l,r,d,a)}var Wd="_reactListening"+Math.random().toString(36).slice(2);function pp(r){if(!r[Wd]){r[Wd]=!0,Il.forEach(function(l){l!=="selectionchange"&&(hx.has(l)||hp(l,!1,r),hp(l,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[Wd]||(a[Wd]=!0,hp("selectionchange",!1,a))}}function f2(r,a,l,d){switch(P2(a)){case 2:var v=qx;break;case 8:v=Fx;break;default:v=Cp}l=v.bind(null,a,l,r),v=void 0,!Yl||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(v=!0),d?v!==void 0?r.addEventListener(a,l,{capture:!0,passive:v}):r.addEventListener(a,l,!0):v!==void 0?r.addEventListener(a,l,{passive:v}):r.addEventListener(a,l,!1)}function gp(r,a,l,d,v){var x=d;if((a&1)===0&&(a&2)===0&&d!==null)e:for(;;){if(d===null)return;var U=d.tag;if(U===3||U===4){var oe=d.stateNode.containerInfo;if(oe===v)break;if(U===4)for(U=d.return;U!==null;){var we=U.tag;if((we===3||we===4)&&U.stateNode.containerInfo===v)return;U=U.return}for(;oe!==null;){if(U=sa(oe),U===null)return;if(we=U.tag,we===5||we===6||we===26||we===27){d=x=U;continue e}oe=oe.parentNode}}d=d.return}Mu(function(){var ze=x,Xe=lo(l),it=[];e:{var Pe=ef.get(r);if(Pe!==void 0){var He=Pi,Et=r;switch(r){case"keypress":if(Bi(l)===0)break e;case"keydown":case"keyup":He=cn;break;case"focusin":Et="focus",He=rs;break;case"focusout":Et="blur",He=rs;break;case"beforeblur":case"afterblur":He=rs;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":He=Vl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":He=ns;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":He=Tr;break;case mo:case Ql:case Qc:He=A;break;case Zc:He=qr;break;case"scroll":case"scrollend":He=Ko;break;case"wheel":He=da;break;case"copy":case"cut":case"paste":He=he;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":He=or;break;case"toggle":case"beforetoggle":He=Kl}var Bt=(a&4)!==0,Bn=!Bt&&(r==="scroll"||r==="scrollend"),Ce=Bt?Pe!==null?Pe+"Capture":null:Pe;Bt=[];for(var Ae=ze,Ie;Ae!==null;){var rt=Ae;if(Ie=rt.stateNode,rt=rt.tag,rt!==5&&rt!==26&&rt!==27||Ie===null||Ce===null||(rt=Ni(Ae,Ce),rt!=null&&Bt.push(kf(Ae,rt,Ie))),Bn)break;Ae=Ae.return}0<Bt.length&&(Pe=new He(Pe,Et,null,l,Xe),it.push({event:Pe,listeners:Bt}))}}if((a&7)===0){e:{if(Pe=r==="mouseover"||r==="pointerover",He=r==="mouseout"||r==="pointerout",Pe&&l!==Ja&&(Et=l.relatedTarget||l.fromElement)&&(sa(Et)||Et[Zr]))break e;if((He||Pe)&&(Pe=Xe.window===Xe?Xe:(Pe=Xe.ownerDocument)?Pe.defaultView||Pe.parentWindow:window,He?(Et=l.relatedTarget||l.toElement,He=ze,Et=Et?sa(Et):null,Et!==null&&(Bn=o(Et),Bt=Et.tag,Et!==Bn||Bt!==5&&Bt!==27&&Bt!==6)&&(Et=null)):(He=null,Et=ze),He!==Et)){if(Bt=Vl,rt="onMouseLeave",Ce="onMouseEnter",Ae="mouse",(r==="pointerout"||r==="pointerover")&&(Bt=or,rt="onPointerLeave",Ce="onPointerEnter",Ae="pointer"),Bn=He==null?Pe:so(He),Ie=Et==null?Pe:so(Et),Pe=new Bt(rt,Ae+"leave",He,l,Xe),Pe.target=Bn,Pe.relatedTarget=Ie,rt=null,sa(Xe)===ze&&(Bt=new Bt(Ce,Ae+"enter",Et,l,Xe),Bt.target=Ie,Bt.relatedTarget=Bn,rt=Bt),Bn=rt,He&&Et)t:{for(Bt=px,Ce=He,Ae=Et,Ie=0,rt=Ce;rt;rt=Bt(rt))Ie++;rt=0;for(var Mt=Ae;Mt;Mt=Bt(Mt))rt++;for(;0<Ie-rt;)Ce=Bt(Ce),Ie--;for(;0<rt-Ie;)Ae=Bt(Ae),rt--;for(;Ie--;){if(Ce===Ae||Ae!==null&&Ce===Ae.alternate){Bt=Ce;break t}Ce=Bt(Ce),Ae=Bt(Ae)}Bt=null}else Bt=null;He!==null&&d2(it,Pe,He,Bt,!1),Et!==null&&Bn!==null&&d2(it,Bn,Et,Bt,!0)}}e:{if(Pe=ze?so(ze):window,He=Pe.nodeName&&Pe.nodeName.toLowerCase(),He==="select"||He==="input"&&Pe.type==="file")var xn=Us;else if(Xl(Pe))if(wi)xn=Ma;else{xn=lr;var Nt=el}else He=Pe.nodeName,!He||He.toLowerCase()!=="input"||Pe.type!=="checkbox"&&Pe.type!=="radio"?ze&&$l(ze.elementType)&&(xn=Us):xn=Pu;if(xn&&(xn=xn(r,ze))){Oi(it,xn,l,Xe);break e}Nt&&Nt(r,Pe,ze),r==="focusout"&&ze&&Pe.type==="number"&&ze.memoizedProps.value!=null&&ql(Pe,"number",Pe.value)}switch(Nt=ze?so(ze):window,r){case"focusin":(Xl(Nt)||Nt.contentEditable==="true")&&(Di=Nt,hs=ze,ei=null);break;case"focusout":ei=hs=Di=null;break;case"mousedown":qi=!0;break;case"contextmenu":case"mouseup":case"dragend":qi=!1,bn(it,l,Xe);break;case"selectionchange":if(go)break;case"keydown":case"keyup":bn(it,l,Xe)}var Zt;if(Ra)e:{switch(r){case"compositionstart":var un="onCompositionStart";break e;case"compositionend":un="onCompositionEnd";break e;case"compositionupdate":un="onCompositionUpdate";break e}un=void 0}else Oa?zs(r,l)&&(un="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(un="onCompositionStart");un&&(ss&&l.locale!=="ko"&&(Oa||un!=="onCompositionStart"?un==="onCompositionEnd"&&Oa&&(Zt=zu()):(Ri=Xe,co="value"in Ri?Ri.value:Ri.textContent,Oa=!0)),Nt=Gd(ze,un),0<Nt.length&&(un=new Le(un,r,null,l,Xe),it.push({event:un,listeners:Nt}),Zt?un.data=Zt:(Zt=Jo(l),Zt!==null&&(un.data=Zt)))),(Zt=po?ci(r,l):os(r,l))&&(un=Gd(ze,"onBeforeInput"),0<un.length&&(Nt=new Le("onBeforeInput","beforeinput",null,l,Xe),it.push({event:Nt,listeners:un}),Nt.data=Zt)),cx(it,r,ze,l,Xe)}c2(it,a)})}function kf(r,a,l){return{instance:r,listener:a,currentTarget:l}}function Gd(r,a){for(var l=a+"Capture",d=[];r!==null;){var v=r,x=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||x===null||(v=Ni(r,l),v!=null&&d.unshift(kf(r,v,x)),v=Ni(r,a),v!=null&&d.push(kf(r,v,x))),r.tag===3)return d;r=r.return}return[]}function px(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function d2(r,a,l,d,v){for(var x=a._reactName,U=[];l!==null&&l!==d;){var oe=l,we=oe.alternate,ze=oe.stateNode;if(oe=oe.tag,we!==null&&we===d)break;oe!==5&&oe!==26&&oe!==27||ze===null||(we=ze,v?(ze=Ni(l,x),ze!=null&&U.unshift(kf(l,ze,we))):v||(ze=Ni(l,x),ze!=null&&U.push(kf(l,ze,we)))),l=l.return}U.length!==0&&r.push({event:a,listeners:U})}var gx=/\r\n?/g,mx=/\u0000|\uFFFD/g;function h2(r){return(typeof r=="string"?r:""+r).replace(gx,`
`).replace(mx,"")}function p2(r,a){return a=h2(a),h2(r)===a}function Un(r,a,l,d,v,x){switch(l){case"children":typeof d=="string"?a==="body"||a==="textarea"&&d===""||ca(r,d):(typeof d=="number"||typeof d=="bigint")&&a!=="body"&&ca(r,""+d);break;case"className":Xa(r,"class",d);break;case"tabIndex":Xa(r,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Xa(r,l,d);break;case"style":Ou(r,d,x);break;case"data":if(a!=="object"){Xa(r,"data",d);break}case"src":case"href":if(d===""&&(a!=="a"||l!=="href")){r.removeAttribute(l);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(l);break}d=vi(""+d),r.setAttribute(l,d);break;case"action":case"formAction":if(typeof d=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(l==="formAction"?(a!=="input"&&Un(r,a,"name",v.name,v,null),Un(r,a,"formEncType",v.formEncType,v,null),Un(r,a,"formMethod",v.formMethod,v,null),Un(r,a,"formTarget",v.formTarget,v,null)):(Un(r,a,"encType",v.encType,v,null),Un(r,a,"method",v.method,v,null),Un(r,a,"target",v.target,v,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(l);break}d=vi(""+d),r.setAttribute(l,d);break;case"onClick":d!=null&&(r.onclick=fa);break;case"onScroll":d!=null&&sn("scroll",r);break;case"onScrollEnd":d!=null&&sn("scrollend",r);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(l=d.__html,l!=null){if(v.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"multiple":r.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":r.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){r.removeAttribute("xlink:href");break}l=vi(""+d),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(l,""+d):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":d===!0?r.setAttribute(l,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(l,d):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?r.setAttribute(l,d):r.removeAttribute(l);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?r.removeAttribute(l):r.setAttribute(l,d);break;case"popover":sn("beforetoggle",r),sn("toggle",r),ji(r,"popover",d);break;case"xlinkActuate":ua(r,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":ua(r,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":ua(r,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":ua(r,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":ua(r,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":ua(r,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":ua(r,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":ua(r,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":ua(r,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":ji(r,"is",d);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Wl.get(l)||l,ji(r,l,d))}}function mp(r,a,l,d,v,x){switch(l){case"style":Ou(r,d,x);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(l=d.__html,l!=null){if(v.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"children":typeof d=="string"?ca(r,d):(typeof d=="number"||typeof d=="bigint")&&ca(r,""+d);break;case"onScroll":d!=null&&sn("scroll",r);break;case"onScrollEnd":d!=null&&sn("scrollend",r);break;case"onClick":d!=null&&(r.onclick=fa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ci.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(v=l.endsWith("Capture"),a=l.slice(2,v?l.length-7:void 0),x=r[Yn]||null,x=x!=null?x[l]:null,typeof x=="function"&&r.removeEventListener(a,x,v),typeof d=="function")){typeof x!="function"&&x!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(a,d,v);break e}l in r?r[l]=d:d===!0?r.setAttribute(l,""):ji(r,l,d)}}}function gi(r,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":sn("error",r),sn("load",r);var d=!1,v=!1,x;for(x in l)if(l.hasOwnProperty(x)){var U=l[x];if(U!=null)switch(x){case"src":d=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Un(r,a,x,U,l,null)}}v&&Un(r,a,"srcSet",l.srcSet,l,null),d&&Un(r,a,"src",l.src,l,null);return;case"input":sn("invalid",r);var oe=x=U=v=null,we=null,ze=null;for(d in l)if(l.hasOwnProperty(d)){var Xe=l[d];if(Xe!=null)switch(d){case"name":v=Xe;break;case"type":U=Xe;break;case"checked":we=Xe;break;case"defaultChecked":ze=Xe;break;case"value":x=Xe;break;case"defaultValue":oe=Xe;break;case"children":case"dangerouslySetInnerHTML":if(Xe!=null)throw Error(i(137,a));break;default:Un(r,a,d,Xe,l,null)}}Nu(r,x,oe,we,ze,U,v,!1);return;case"select":sn("invalid",r),d=U=x=null;for(v in l)if(l.hasOwnProperty(v)&&(oe=l[v],oe!=null))switch(v){case"value":x=oe;break;case"defaultValue":U=oe;break;case"multiple":d=oe;default:Un(r,a,v,oe,l,null)}a=x,l=U,r.multiple=!!d,a!=null?ui(r,!!d,a,!1):l!=null&&ui(r,!!d,l,!0);return;case"textarea":sn("invalid",r),x=v=d=null;for(U in l)if(l.hasOwnProperty(U)&&(oe=l[U],oe!=null))switch(U){case"value":d=oe;break;case"defaultValue":v=oe;break;case"children":x=oe;break;case"dangerouslySetInnerHTML":if(oe!=null)throw Error(i(91));break;default:Un(r,a,U,oe,l,null)}Hl(r,d,v,x);return;case"option":for(we in l)l.hasOwnProperty(we)&&(d=l[we],d!=null)&&(we==="selected"?r.selected=d&&typeof d!="function"&&typeof d!="symbol":Un(r,a,we,d,l,null));return;case"dialog":sn("beforetoggle",r),sn("toggle",r),sn("cancel",r),sn("close",r);break;case"iframe":case"object":sn("load",r);break;case"video":case"audio":for(d=0;d<Ef.length;d++)sn(Ef[d],r);break;case"image":sn("error",r),sn("load",r);break;case"details":sn("toggle",r);break;case"embed":case"source":case"link":sn("error",r),sn("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ze in l)if(l.hasOwnProperty(ze)&&(d=l[ze],d!=null))switch(ze){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Un(r,a,ze,d,l,null)}return;default:if($l(a)){for(Xe in l)l.hasOwnProperty(Xe)&&(d=l[Xe],d!==void 0&&mp(r,a,Xe,d,l,void 0));return}}for(oe in l)l.hasOwnProperty(oe)&&(d=l[oe],d!=null&&Un(r,a,oe,d,l,null))}function yx(r,a,l,d){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,x=null,U=null,oe=null,we=null,ze=null,Xe=null;for(He in l){var it=l[He];if(l.hasOwnProperty(He)&&it!=null)switch(He){case"checked":break;case"value":break;case"defaultValue":we=it;default:d.hasOwnProperty(He)||Un(r,a,He,null,d,it)}}for(var Pe in d){var He=d[Pe];if(it=l[Pe],d.hasOwnProperty(Pe)&&(He!=null||it!=null))switch(Pe){case"type":x=He;break;case"name":v=He;break;case"checked":ze=He;break;case"defaultChecked":Xe=He;break;case"value":U=He;break;case"defaultValue":oe=He;break;case"children":case"dangerouslySetInnerHTML":if(He!=null)throw Error(i(137,a));break;default:He!==it&&Un(r,a,Pe,He,d,it)}}Go(r,U,oe,we,ze,Xe,x,v);return;case"select":He=U=oe=Pe=null;for(x in l)if(we=l[x],l.hasOwnProperty(x)&&we!=null)switch(x){case"value":break;case"multiple":He=we;default:d.hasOwnProperty(x)||Un(r,a,x,null,d,we)}for(v in d)if(x=d[v],we=l[v],d.hasOwnProperty(v)&&(x!=null||we!=null))switch(v){case"value":Pe=x;break;case"defaultValue":oe=x;break;case"multiple":U=x;default:x!==we&&Un(r,a,v,x,d,we)}a=oe,l=U,d=He,Pe!=null?ui(r,!!l,Pe,!1):!!d!=!!l&&(a!=null?ui(r,!!l,a,!0):ui(r,!!l,l?[]:"",!1));return;case"textarea":He=Pe=null;for(oe in l)if(v=l[oe],l.hasOwnProperty(oe)&&v!=null&&!d.hasOwnProperty(oe))switch(oe){case"value":break;case"children":break;default:Un(r,a,oe,null,d,v)}for(U in d)if(v=d[U],x=l[U],d.hasOwnProperty(U)&&(v!=null||x!=null))switch(U){case"value":Pe=v;break;case"defaultValue":He=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(i(91));break;default:v!==x&&Un(r,a,U,v,d,x)}Fl(r,Pe,He);return;case"option":for(var Et in l)Pe=l[Et],l.hasOwnProperty(Et)&&Pe!=null&&!d.hasOwnProperty(Et)&&(Et==="selected"?r.selected=!1:Un(r,a,Et,null,d,Pe));for(we in d)Pe=d[we],He=l[we],d.hasOwnProperty(we)&&Pe!==He&&(Pe!=null||He!=null)&&(we==="selected"?r.selected=Pe&&typeof Pe!="function"&&typeof Pe!="symbol":Un(r,a,we,Pe,d,He));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Bt in l)Pe=l[Bt],l.hasOwnProperty(Bt)&&Pe!=null&&!d.hasOwnProperty(Bt)&&Un(r,a,Bt,null,d,Pe);for(ze in d)if(Pe=d[ze],He=l[ze],d.hasOwnProperty(ze)&&Pe!==He&&(Pe!=null||He!=null))switch(ze){case"children":case"dangerouslySetInnerHTML":if(Pe!=null)throw Error(i(137,a));break;default:Un(r,a,ze,Pe,d,He)}return;default:if($l(a)){for(var Bn in l)Pe=l[Bn],l.hasOwnProperty(Bn)&&Pe!==void 0&&!d.hasOwnProperty(Bn)&&mp(r,a,Bn,void 0,d,Pe);for(Xe in d)Pe=d[Xe],He=l[Xe],!d.hasOwnProperty(Xe)||Pe===He||Pe===void 0&&He===void 0||mp(r,a,Xe,Pe,d,He);return}}for(var Ce in l)Pe=l[Ce],l.hasOwnProperty(Ce)&&Pe!=null&&!d.hasOwnProperty(Ce)&&Un(r,a,Ce,null,d,Pe);for(it in d)Pe=d[it],He=l[it],!d.hasOwnProperty(it)||Pe===He||Pe==null&&He==null||Un(r,a,it,Pe,d,He)}function g2(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function bx(){if(typeof performance.getEntriesByType=="function"){for(var r=0,a=0,l=performance.getEntriesByType("resource"),d=0;d<l.length;d++){var v=l[d],x=v.transferSize,U=v.initiatorType,oe=v.duration;if(x&&oe&&g2(U)){for(U=0,oe=v.responseEnd,d+=1;d<l.length;d++){var we=l[d],ze=we.startTime;if(ze>oe)break;var Xe=we.transferSize,it=we.initiatorType;Xe&&g2(it)&&(we=we.responseEnd,U+=Xe*(we<oe?1:(oe-ze)/(we-ze)))}if(--d,a+=8*(x+U)/(v.duration/1e3),r++,10<r)break}}if(0<r)return a/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var yp=null,bp=null;function Yd(r){return r.nodeType===9?r:r.ownerDocument}function m2(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function y2(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function vp(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var wp=null;function vx(){var r=window.event;return r&&r.type==="popstate"?r===wp?!1:(wp=r,!0):(wp=null,!1)}var b2=typeof setTimeout=="function"?setTimeout:void 0,wx=typeof clearTimeout=="function"?clearTimeout:void 0,v2=typeof Promise=="function"?Promise:void 0,xx=typeof queueMicrotask=="function"?queueMicrotask:typeof v2<"u"?function(r){return v2.resolve(null).then(r).catch(_x)}:b2;function _x(r){setTimeout(function(){throw r})}function wl(r){return r==="head"}function w2(r,a){var l=a,d=0;do{var v=l.nextSibling;if(r.removeChild(l),v&&v.nodeType===8)if(l=v.data,l==="/$"||l==="/&"){if(d===0){r.removeChild(v),vc(a);return}d--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")d++;else if(l==="html")Tf(r.ownerDocument.documentElement);else if(l==="head"){l=r.ownerDocument.head,Tf(l);for(var x=l.firstChild;x;){var U=x.nextSibling,oe=x.nodeName;x[aa]||oe==="SCRIPT"||oe==="STYLE"||oe==="LINK"&&x.rel.toLowerCase()==="stylesheet"||l.removeChild(x),x=U}}else l==="body"&&Tf(r.ownerDocument.body);l=v}while(l);vc(a)}function x2(r,a){var l=r;r=0;do{var d=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),d&&d.nodeType===8)if(l=d.data,l==="/$"){if(r===0)break;r--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||r++;l=d}while(l)}function xp(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":xp(l),Os(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function Sx(r,a,l,d){for(;r.nodeType===1;){var v=l;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!d&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(d){if(!r[aa])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(x=r.getAttribute("rel"),x==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(x!==v.rel||r.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||r.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||r.getAttribute("title")!==(v.title==null?null:v.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(x=r.getAttribute("src"),(x!==(v.src==null?null:v.src)||r.getAttribute("type")!==(v.type==null?null:v.type)||r.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&x&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var x=v.name==null?null:""+v.name;if(v.type==="hidden"&&r.getAttribute("name")===x)return r}else return r;if(r=Ha(r.nextSibling),r===null)break}return null}function Ax(r,a,l){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=Ha(r.nextSibling),r===null))return null;return r}function _2(r,a){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!a||(r=Ha(r.nextSibling),r===null))return null;return r}function _p(r){return r.data==="$?"||r.data==="$~"}function Sp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function Ex(r,a){var l=r.ownerDocument;if(r.data==="$~")r._reactRetry=a;else if(r.data!=="$?"||l.readyState!=="loading")a();else{var d=function(){a(),l.removeEventListener("DOMContentLoaded",d)};l.addEventListener("DOMContentLoaded",d),r._reactRetry=d}}function Ha(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return r}var Ap=null;function S2(r){r=r.nextSibling;for(var a=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"||l==="/&"){if(a===0)return Ha(r.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}r=r.nextSibling}return null}function A2(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return r;a--}else l!=="/$"&&l!=="/&"||a++}r=r.previousSibling}return null}function E2(r,a,l){switch(a=Yd(l),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Tf(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);Os(r)}var $a=new Map,k2=new Set;function Vd(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Oo=R.d;R.d={f:kx,r:Tx,D:Lx,C:Cx,L:jx,m:Nx,X:Ox,S:Rx,M:Dx};function kx(){var r=Oo.f(),a=Bd();return r||a}function Tx(r){var a=oa(r);a!==null&&a.tag===5&&a.type==="form"?Hg(a):Oo.r(r)}var mc=typeof document>"u"?null:document;function T2(r,a,l){var d=mc;if(d&&typeof a=="string"&&a){var v=pr(a);v='link[rel="'+r+'"][href="'+v+'"]',typeof l=="string"&&(v+='[crossorigin="'+l+'"]'),k2.has(v)||(k2.add(v),r={rel:r,crossOrigin:l,href:a},d.querySelector(v)===null&&(a=d.createElement("link"),gi(a,"link",r),sr(a),d.head.appendChild(a)))}}function Lx(r){Oo.D(r),T2("dns-prefetch",r,null)}function Cx(r,a){Oo.C(r,a),T2("preconnect",r,a)}function jx(r,a,l){Oo.L(r,a,l);var d=mc;if(d&&r&&a){var v='link[rel="preload"][as="'+pr(a)+'"]';a==="image"&&l&&l.imageSrcSet?(v+='[imagesrcset="'+pr(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(v+='[imagesizes="'+pr(l.imageSizes)+'"]')):v+='[href="'+pr(r)+'"]';var x=v;switch(a){case"style":x=yc(r);break;case"script":x=bc(r)}$a.has(x)||(r=y({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:r,as:a},l),$a.set(x,r),d.querySelector(v)!==null||a==="style"&&d.querySelector(Lf(x))||a==="script"&&d.querySelector(Cf(x))||(a=d.createElement("link"),gi(a,"link",r),sr(a),d.head.appendChild(a)))}}function Nx(r,a){Oo.m(r,a);var l=mc;if(l&&r){var d=a&&typeof a.as=="string"?a.as:"script",v='link[rel="modulepreload"][as="'+pr(d)+'"][href="'+pr(r)+'"]',x=v;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=bc(r)}if(!$a.has(x)&&(r=y({rel:"modulepreload",href:r},a),$a.set(x,r),l.querySelector(v)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Cf(x)))return}d=l.createElement("link"),gi(d,"link",r),sr(d),l.head.appendChild(d)}}}function Rx(r,a,l){Oo.S(r,a,l);var d=mc;if(d&&r){var v=La(d).hoistableStyles,x=yc(r);a=a||"default";var U=v.get(x);if(!U){var oe={loading:0,preload:null};if(U=d.querySelector(Lf(x)))oe.loading=5;else{r=y({rel:"stylesheet",href:r,"data-precedence":a},l),(l=$a.get(x))&&Ep(r,l);var we=U=d.createElement("link");sr(we),gi(we,"link",r),we._p=new Promise(function(ze,Xe){we.onload=ze,we.onerror=Xe}),we.addEventListener("load",function(){oe.loading|=1}),we.addEventListener("error",function(){oe.loading|=2}),oe.loading|=4,Kd(U,a,d)}U={type:"stylesheet",instance:U,count:1,state:oe},v.set(x,U)}}}function Ox(r,a){Oo.X(r,a);var l=mc;if(l&&r){var d=La(l).hoistableScripts,v=bc(r),x=d.get(v);x||(x=l.querySelector(Cf(v)),x||(r=y({src:r,async:!0},a),(a=$a.get(v))&&kp(r,a),x=l.createElement("script"),sr(x),gi(x,"link",r),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},d.set(v,x))}}function Dx(r,a){Oo.M(r,a);var l=mc;if(l&&r){var d=La(l).hoistableScripts,v=bc(r),x=d.get(v);x||(x=l.querySelector(Cf(v)),x||(r=y({src:r,async:!0,type:"module"},a),(a=$a.get(v))&&kp(r,a),x=l.createElement("script"),sr(x),gi(x,"link",r),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},d.set(v,x))}}function L2(r,a,l,d){var v=(v=q.current)?Vd(v):null;if(!v)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=yc(l.href),l=La(v).hoistableStyles,d=l.get(a),d||(d={type:"style",instance:null,count:0,state:null},l.set(a,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=yc(l.href);var x=La(v).hoistableStyles,U=x.get(r);if(U||(v=v.ownerDocument||v,U={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(r,U),(x=v.querySelector(Lf(r)))&&!x._p&&(U.instance=x,U.state.loading=5),$a.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},$a.set(r,l),x||Ix(v,r,l,U.state))),a&&d===null)throw Error(i(528,""));return U}if(a&&d!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=bc(l),l=La(v).hoistableScripts,d=l.get(a),d||(d={type:"script",instance:null,count:0,state:null},l.set(a,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function yc(r){return'href="'+pr(r)+'"'}function Lf(r){return'link[rel="stylesheet"]['+r+"]"}function C2(r){return y({},r,{"data-precedence":r.precedence,precedence:null})}function Ix(r,a,l,d){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?d.loading=1:(a=r.createElement("link"),d.preload=a,a.addEventListener("load",function(){return d.loading|=1}),a.addEventListener("error",function(){return d.loading|=2}),gi(a,"link",l),sr(a),r.head.appendChild(a))}function bc(r){return'[src="'+pr(r)+'"]'}function Cf(r){return"script[async]"+r}function j2(r,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var d=r.querySelector('style[data-href~="'+pr(l.href)+'"]');if(d)return a.instance=d,sr(d),d;var v=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return d=(r.ownerDocument||r).createElement("style"),sr(d),gi(d,"style",v),Kd(d,l.precedence,r),a.instance=d;case"stylesheet":v=yc(l.href);var x=r.querySelector(Lf(v));if(x)return a.state.loading|=4,a.instance=x,sr(x),x;d=C2(l),(v=$a.get(v))&&Ep(d,v),x=(r.ownerDocument||r).createElement("link"),sr(x);var U=x;return U._p=new Promise(function(oe,we){U.onload=oe,U.onerror=we}),gi(x,"link",d),a.state.loading|=4,Kd(x,l.precedence,r),a.instance=x;case"script":return x=bc(l.src),(v=r.querySelector(Cf(x)))?(a.instance=v,sr(v),v):(d=l,(v=$a.get(x))&&(d=y({},l),kp(d,v)),r=r.ownerDocument||r,v=r.createElement("script"),sr(v),gi(v,"link",d),r.head.appendChild(v),a.instance=v);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(d=a.instance,a.state.loading|=4,Kd(d,l.precedence,r));return a.instance}function Kd(r,a,l){for(var d=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=d.length?d[d.length-1]:null,x=v,U=0;U<d.length;U++){var oe=d[U];if(oe.dataset.precedence===a)x=oe;else if(x!==v)break}x?x.parentNode.insertBefore(r,x.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(r,a.firstChild))}function Ep(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function kp(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var Xd=null;function N2(r,a,l){if(Xd===null){var d=new Map,v=Xd=new Map;v.set(l,d)}else v=Xd,d=v.get(l),d||(d=new Map,v.set(l,d));if(d.has(r))return d;for(d.set(r,null),l=l.getElementsByTagName(r),v=0;v<l.length;v++){var x=l[v];if(!(x[aa]||x[Ln]||r==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var U=x.getAttribute(a)||"";U=r+U;var oe=d.get(U);oe?oe.push(x):d.set(U,[x])}}return d}function R2(r,a,l){r=r.ownerDocument||r,r.head.insertBefore(l,a==="title"?r.querySelector("head > title"):null)}function Mx(r,a,l){if(l===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(r=a.disabled,typeof a.precedence=="string"&&r==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function O2(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function zx(r,a,l,d){if(l.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var v=yc(d.href),x=a.querySelector(Lf(v));if(x){a=x._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(r.count++,r=Jd.bind(r),a.then(r,r)),l.state.loading|=4,l.instance=x,sr(x);return}x=a.ownerDocument||a,d=C2(d),(v=$a.get(v))&&Ep(d,v),x=x.createElement("link"),sr(x);var U=x;U._p=new Promise(function(oe,we){U.onload=oe,U.onerror=we}),gi(x,"link",d),l.instance=x}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(r.count++,l=Jd.bind(r),a.addEventListener("load",l),a.addEventListener("error",l))}}var Tp=0;function Ux(r,a){return r.stylesheets&&r.count===0&&Zd(r,r.stylesheets),0<r.count||0<r.imgCount?function(l){var d=setTimeout(function(){if(r.stylesheets&&Zd(r,r.stylesheets),r.unsuspend){var x=r.unsuspend;r.unsuspend=null,x()}},6e4+a);0<r.imgBytes&&Tp===0&&(Tp=62500*bx());var v=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&Zd(r,r.stylesheets),r.unsuspend)){var x=r.unsuspend;r.unsuspend=null,x()}},(r.imgBytes>Tp?50:800)+a);return r.unsuspend=l,function(){r.unsuspend=null,clearTimeout(d),clearTimeout(v)}}:null}function Jd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zd(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Qd=null;function Zd(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Qd=new Map,a.forEach(Bx,r),Qd=null,Jd.call(r))}function Bx(r,a){if(!(a.state.loading&4)){var l=Qd.get(r);if(l)var d=l.get(null);else{l=new Map,Qd.set(r,l);for(var v=r.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<v.length;x++){var U=v[x];(U.nodeName==="LINK"||U.getAttribute("media")!=="not all")&&(l.set(U.dataset.precedence,U),d=U)}d&&l.set(null,d)}v=a.instance,U=v.getAttribute("data-precedence"),x=l.get(U)||d,x===d&&l.set(null,v),l.set(U,v),this.count++,d=Jd.bind(this),v.addEventListener("load",d),v.addEventListener("error",d),x?x.parentNode.insertBefore(v,x.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(v,r.firstChild)),a.state.loading|=4}}var jf={$$typeof:B,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function Px(r,a,l,d,v,x,U,oe,we){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gt(0),this.hiddenUpdates=Gt(null),this.identifierPrefix=d,this.onUncaughtError=v,this.onCaughtError=x,this.onRecoverableError=U,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=we,this.incompleteTransitions=new Map}function D2(r,a,l,d,v,x,U,oe,we,ze,Xe,it){return r=new Px(r,a,l,U,we,ze,Xe,it,oe),a=1,x===!0&&(a|=24),x=ni(3,null,null,a),r.current=x,x.stateNode=r,a=ll(),a.refCount++,r.pooledCache=a,a.refCount++,x.memoizedState={element:d,isDehydrated:l,cache:a},pt(x),r}function I2(r){return r?(r=Hr,r):Hr}function M2(r,a,l,d,v,x){v=I2(v),d.context===null?d.context=v:d.pendingContext=v,d=Ut(a),d.payload={element:l},x=x===void 0?null:x,x!==null&&(d.callback=x),l=Jt(r,d,a),l!==null&&(ta(l,r,a),Sn(l,r,a))}function z2(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<a?l:a}}function Lp(r,a){z2(r,a),(r=r.alternate)&&z2(r,a)}function U2(r){if(r.tag===13||r.tag===31){var a=ps(r,67108864);a!==null&&ta(a,r,67108864),Lp(r,67108864)}}function B2(r){if(r.tag===13||r.tag===31){var a=wa();a=wn(a);var l=ps(r,a);l!==null&&ta(l,r,a),Lp(r,a)}}var eh=!0;function qx(r,a,l,d){var v=O.T;O.T=null;var x=R.p;try{R.p=2,Cp(r,a,l,d)}finally{R.p=x,O.T=v}}function Fx(r,a,l,d){var v=O.T;O.T=null;var x=R.p;try{R.p=8,Cp(r,a,l,d)}finally{R.p=x,O.T=v}}function Cp(r,a,l,d){if(eh){var v=jp(d);if(v===null)gp(r,a,d,th,l),q2(r,d);else if($x(v,r,a,l,d))d.stopPropagation();else if(q2(r,d),a&4&&-1<Hx.indexOf(r)){for(;v!==null;){var x=oa(v);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var U=ft(x.pendingLanes);if(U!==0){var oe=x;for(oe.pendingLanes|=2,oe.entangledLanes|=2;U;){var we=1<<31-_t(U);oe.entanglements[1]|=we,U&=~we}Js(x),(En&6)===0&&(zd=dt()+500,Af(0))}}break;case 31:case 13:oe=ps(x,2),oe!==null&&ta(oe,x,2),Bd(),Lp(x,2)}if(x=jp(d),x===null&&gp(r,a,d,th,l),x===v)break;v=x}v!==null&&d.stopPropagation()}else gp(r,a,d,null,l)}}function jp(r){return r=lo(r),Np(r)}var th=null;function Np(r){if(th=null,r=sa(r),r!==null){var a=o(r);if(a===null)r=null;else{var l=a.tag;if(l===13){if(r=u(a),r!==null)return r;r=null}else if(l===31){if(r=c(a),r!==null)return r;r=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return th=r,null}function P2(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ve()){case Re:return 2;case Ge:return 8;case Fe:case Ue:return 32;case Ke:return 268435456;default:return 32}default:return 32}}var Rp=!1,xl=null,_l=null,Sl=null,Nf=new Map,Rf=new Map,Al=[],Hx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function q2(r,a){switch(r){case"focusin":case"focusout":xl=null;break;case"dragenter":case"dragleave":_l=null;break;case"mouseover":case"mouseout":Sl=null;break;case"pointerover":case"pointerout":Nf.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rf.delete(a.pointerId)}}function Of(r,a,l,d,v,x){return r===null||r.nativeEvent!==x?(r={blockedOn:a,domEventName:l,eventSystemFlags:d,nativeEvent:x,targetContainers:[v]},a!==null&&(a=oa(a),a!==null&&U2(a)),r):(r.eventSystemFlags|=d,a=r.targetContainers,v!==null&&a.indexOf(v)===-1&&a.push(v),r)}function $x(r,a,l,d,v){switch(a){case"focusin":return xl=Of(xl,r,a,l,d,v),!0;case"dragenter":return _l=Of(_l,r,a,l,d,v),!0;case"mouseover":return Sl=Of(Sl,r,a,l,d,v),!0;case"pointerover":var x=v.pointerId;return Nf.set(x,Of(Nf.get(x)||null,r,a,l,d,v)),!0;case"gotpointercapture":return x=v.pointerId,Rf.set(x,Of(Rf.get(x)||null,r,a,l,d,v)),!0}return!1}function F2(r){var a=sa(r.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){r.blockedOn=a,bi(r.priority,function(){B2(l)});return}}else if(a===31){if(a=c(l),a!==null){r.blockedOn=a,bi(r.priority,function(){B2(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function nh(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var l=jp(r.nativeEvent);if(l===null){l=r.nativeEvent;var d=new l.constructor(l.type,l);Ja=d,l.target.dispatchEvent(d),Ja=null}else return a=oa(l),a!==null&&U2(a),r.blockedOn=l,!1;a.shift()}return!0}function H2(r,a,l){nh(r)&&l.delete(a)}function Wx(){Rp=!1,xl!==null&&nh(xl)&&(xl=null),_l!==null&&nh(_l)&&(_l=null),Sl!==null&&nh(Sl)&&(Sl=null),Nf.forEach(H2),Rf.forEach(H2)}function rh(r,a){r.blockedOn===a&&(r.blockedOn=null,Rp||(Rp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Wx)))}var ih=null;function $2(r){ih!==r&&(ih=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){ih===r&&(ih=null);for(var a=0;a<r.length;a+=3){var l=r[a],d=r[a+1],v=r[a+2];if(typeof d!="function"){if(Np(d||l)===null)continue;break}var x=oa(l);x!==null&&(r.splice(a,3),a-=3,j0(x,{pending:!0,data:v,method:l.method,action:d},d,v))}}))}function vc(r){function a(we){return rh(we,r)}xl!==null&&rh(xl,r),_l!==null&&rh(_l,r),Sl!==null&&rh(Sl,r),Nf.forEach(a),Rf.forEach(a);for(var l=0;l<Al.length;l++){var d=Al[l];d.blockedOn===r&&(d.blockedOn=null)}for(;0<Al.length&&(l=Al[0],l.blockedOn===null);)F2(l),l.blockedOn===null&&Al.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(d=0;d<l.length;d+=3){var v=l[d],x=l[d+1],U=v[Yn]||null;if(typeof x=="function")U||$2(l);else if(U){var oe=null;if(x&&x.hasAttribute("formAction")){if(v=x,U=x[Yn]||null)oe=U.formAction;else if(Np(v)!==null)continue}else oe=U.action;typeof oe=="function"?l[d+1]=oe:(l.splice(d,3),d-=3),$2(l)}}}function W2(){function r(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(U){return v=U})},focusReset:"manual",scroll:"manual"})}function a(){v!==null&&(v(),v=null),d||setTimeout(l,20)}function l(){if(!d&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,v=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){d=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),v!==null&&(v(),v=null)}}}function Op(r){this._internalRoot=r}ah.prototype.render=Op.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,d=wa();M2(l,d,r,a,null,null)},ah.prototype.unmount=Op.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;M2(r.current,2,null,r,null,null),Bd(),a[Zr]=null}};function ah(r){this._internalRoot=r}ah.prototype.unstable_scheduleHydration=function(r){if(r){var a=Tn();r={blockedOn:null,target:r,priority:a};for(var l=0;l<Al.length&&a!==0&&a<Al[l].priority;l++);Al.splice(l,0,r),l===0&&F2(r)}};var G2=e.version;if(G2!=="19.2.3")throw Error(i(527,G2,"19.2.3"));R.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=h(a),r=r!==null?p(r):null,r=r===null?null:r.stateNode,r};var Gx={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sh.isDisabled&&sh.supportsFiber)try{Je=sh.inject(Gx),$e=sh}catch{}}return If.createRoot=function(r,a){if(!s(r))throw Error(i(299));var l=!1,d="",v=Zg,x=em,U=tm;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(v=a.onUncaughtError),a.onCaughtError!==void 0&&(x=a.onCaughtError),a.onRecoverableError!==void 0&&(U=a.onRecoverableError)),a=D2(r,1,!1,null,null,l,d,null,v,x,U,W2),r[Zr]=a.current,pp(r),new Op(a)},If.hydrateRoot=function(r,a,l){if(!s(r))throw Error(i(299));var d=!1,v="",x=Zg,U=em,oe=tm,we=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onUncaughtError!==void 0&&(x=l.onUncaughtError),l.onCaughtError!==void 0&&(U=l.onCaughtError),l.onRecoverableError!==void 0&&(oe=l.onRecoverableError),l.formState!==void 0&&(we=l.formState)),a=D2(r,1,!0,a,l??null,d,v,we,x,U,oe,W2),a.context=I2(null),l=a.current,d=wa(),d=wn(d),v=Ut(d),v.callback=null,Jt(l,v,d),l=d,a.current.lanes=l,Lt(a,l),Js(a),r[Zr]=a.current,pp(r),new ah(a)},If.version="19.2.3",If}var n5;function n3(){if(n5)return Mp.exports;n5=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Mp.exports=t3(),Mp.exports}var r3=n3();let i3={data:""},a3=t=>{if(typeof window=="object"){let e=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||i3},s3=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,o3=/\/\*[^]*?\*\/|  +/g,r5=/\n+/g,jl=(t,e)=>{let n="",i="",s="";for(let o in t){let u=t[o];o[0]=="@"?o[1]=="i"?n=o+" "+u+";":i+=o[1]=="f"?jl(u,o):o+"{"+jl(u,o[1]=="k"?"":e)+"}":typeof u=="object"?i+=jl(u,e?e.replace(/([^,])+/g,c=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,f=>/&/.test(f)?f.replace(/&/g,c):c?c+" "+f:f)):o):u!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=jl.p?jl.p(o,u):o+":"+u+";")}return n+(e&&s?e+"{"+s+"}":s)+i},Do={},cb=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+cb(t[n]);return e}return t},l3=(t,e,n,i,s)=>{let o=cb(t),u=Do[o]||(Do[o]=(f=>{let h=0,p=11;for(;h<f.length;)p=101*p+f.charCodeAt(h++)>>>0;return"go"+p})(o));if(!Do[u]){let f=o!==t?t:(h=>{let p,y,b=[{}];for(;p=s3.exec(h.replace(o3,""));)p[4]?b.shift():p[3]?(y=p[3].replace(r5," ").trim(),b.unshift(b[0][y]=b[0][y]||{})):b[0][p[1]]=p[2].replace(r5," ").trim();return b[0]})(t);Do[u]=jl(s?{["@keyframes "+u]:f}:f,n?"":"."+u)}let c=n&&Do.g?Do.g:null;return n&&(Do.g=Do[u]),((f,h,p,y)=>{y?h.data=h.data.replace(y,f):h.data.indexOf(f)===-1&&(h.data=p?f+h.data:h.data+f)})(Do[u],e,i,c),u},u3=(t,e,n)=>t.reduce((i,s,o)=>{let u=e[o];if(u&&u.call){let c=u(n),f=c&&c.props&&c.props.className||/^go/.test(c)&&c;u=f?"."+f:c&&typeof c=="object"?c.props?"":jl(c,""):c===!1?"":c}return i+s+(u??"")},"");function i0(t){let e=this||{},n=t.call?t(e.p):t;return l3(n.unshift?n.raw?u3(n,[].slice.call(arguments,1),e.p):n.reduce((i,s)=>Object.assign(i,s&&s.call?s(e.p):s),{}):n,a3(e.target),e.g,e.o,e.k)}let fb,E1,k1;i0.bind({g:1});let Po=i0.bind({k:1});function c3(t,e,n,i){jl.p=e,fb=t,E1=n,k1=i}function Dl(t,e){let n=this||{};return function(){let i=arguments;function s(o,u){let c=Object.assign({},o),f=c.className||s.className;n.p=Object.assign({theme:E1&&E1()},c),n.o=/ *go\d+/.test(f),c.className=i0.apply(n,i)+(f?" "+f:"");let h=t;return t[0]&&(h=c.as||t,delete c.as),k1&&h[0]&&k1(c),fb(h,c)}return s}}var f3=t=>typeof t=="function",zh=(t,e)=>f3(t)?t(e):t,d3=(()=>{let t=0;return()=>(++t).toString()})(),db=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),h3=20,rg="default",hb=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(u=>u.id===e.toast.id?{...u,...e.toast}:u)};case 2:let{toast:i}=e;return hb(t,{type:t.toasts.find(u=>u.id===i.id)?1:0,toast:i});case 3:let{toastId:s}=e;return{...t,toasts:t.toasts.map(u=>u.id===s||s===void 0?{...u,dismissed:!0,visible:!1}:u)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(u=>u.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let o=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(u=>({...u,pauseDuration:u.pauseDuration+o}))}}},kh=[],pb={toasts:[],pausedAt:void 0,settings:{toastLimit:h3}},no={},gb=(t,e=rg)=>{no[e]=hb(no[e]||pb,t),kh.forEach(([n,i])=>{n===e&&i(no[e])})},mb=t=>Object.keys(no).forEach(e=>gb(t,e)),p3=t=>Object.keys(no).find(e=>no[e].toasts.some(n=>n.id===t)),a0=(t=rg)=>e=>{gb(e,t)},g3={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},m3=(t={},e=rg)=>{let[n,i]=W.useState(no[e]||pb),s=W.useRef(no[e]);W.useEffect(()=>(s.current!==no[e]&&i(no[e]),kh.push([e,i]),()=>{let u=kh.findIndex(([c])=>c===e);u>-1&&kh.splice(u,1)}),[e]);let o=n.toasts.map(u=>{var c,f,h;return{...t,...t[u.type],...u,removeDelay:u.removeDelay||((c=t[u.type])==null?void 0:c.removeDelay)||t?.removeDelay,duration:u.duration||((f=t[u.type])==null?void 0:f.duration)||t?.duration||g3[u.type],style:{...t.style,...(h=t[u.type])==null?void 0:h.style,...u.style}}});return{...n,toasts:o}},y3=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:n?.id||d3()}),sd=t=>(e,n)=>{let i=y3(e,t,n);return a0(i.toasterId||p3(i.id))({type:2,toast:i}),i.id},Jr=(t,e)=>sd("blank")(t,e);Jr.error=sd("error");Jr.success=sd("success");Jr.loading=sd("loading");Jr.custom=sd("custom");Jr.dismiss=(t,e)=>{let n={type:3,toastId:t};e?a0(e)(n):mb(n)};Jr.dismissAll=t=>Jr.dismiss(void 0,t);Jr.remove=(t,e)=>{let n={type:4,toastId:t};e?a0(e)(n):mb(n)};Jr.removeAll=t=>Jr.remove(void 0,t);Jr.promise=(t,e,n)=>{let i=Jr.loading(e.loading,{...n,...n?.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let o=e.success?zh(e.success,s):void 0;return o?Jr.success(o,{id:i,...n,...n?.success}):Jr.dismiss(i),s}).catch(s=>{let o=e.error?zh(e.error,s):void 0;o?Jr.error(o,{id:i,...n,...n?.error}):Jr.dismiss(i)}),t};var b3=1e3,v3=(t,e="default")=>{let{toasts:n,pausedAt:i}=m3(t,e),s=W.useRef(new Map).current,o=W.useCallback((y,b=b3)=>{if(s.has(y))return;let g=setTimeout(()=>{s.delete(y),u({type:4,toastId:y})},b);s.set(y,g)},[]);W.useEffect(()=>{if(i)return;let y=Date.now(),b=n.map(g=>{if(g.duration===1/0)return;let S=(g.duration||0)+g.pauseDuration-(y-g.createdAt);if(S<0){g.visible&&Jr.dismiss(g.id);return}return setTimeout(()=>Jr.dismiss(g.id,e),S)});return()=>{b.forEach(g=>g&&clearTimeout(g))}},[n,i,e]);let u=W.useCallback(a0(e),[e]),c=W.useCallback(()=>{u({type:5,time:Date.now()})},[u]),f=W.useCallback((y,b)=>{u({type:1,toast:{id:y,height:b}})},[u]),h=W.useCallback(()=>{i&&u({type:6,time:Date.now()})},[i,u]),p=W.useCallback((y,b)=>{let{reverseOrder:g=!1,gutter:S=8,defaultPosition:E}=b||{},k=n.filter(B=>(B.position||E)===(y.position||E)&&B.height),T=k.findIndex(B=>B.id===y.id),z=k.filter((B,D)=>D<T&&B.visible).length;return k.filter(B=>B.visible).slice(...g?[z+1]:[0,z]).reduce((B,D)=>B+(D.height||0)+S,0)},[n]);return W.useEffect(()=>{n.forEach(y=>{if(y.dismissed)o(y.id,y.removeDelay);else{let b=s.get(y.id);b&&(clearTimeout(b),s.delete(y.id))}})},[n,o]),{toasts:n,handlers:{updateHeight:f,startPause:c,endPause:h,calculateOffset:p}}},w3=Po`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,x3=Po`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,_3=Po`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,S3=Dl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${w3} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${x3} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${_3} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,A3=Po`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,E3=Dl("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${A3} 1s linear infinite;
`,k3=Po`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,T3=Po`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,L3=Dl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${k3} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${T3} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,C3=Dl("div")`
  position: absolute;
`,j3=Dl("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,N3=Po`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,R3=Dl("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${N3} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,O3=({toast:t})=>{let{icon:e,type:n,iconTheme:i}=t;return e!==void 0?typeof e=="string"?W.createElement(R3,null,e):e:n==="blank"?null:W.createElement(j3,null,W.createElement(E3,{...i}),n!=="loading"&&W.createElement(C3,null,n==="error"?W.createElement(S3,{...i}):W.createElement(L3,{...i})))},D3=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,I3=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,M3="0%{opacity:0;} 100%{opacity:1;}",z3="0%{opacity:1;} 100%{opacity:0;}",U3=Dl("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,B3=Dl("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,P3=(t,e)=>{let n=t.includes("top")?1:-1,[i,s]=db()?[M3,z3]:[D3(n),I3(n)];return{animation:e?`${Po(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Po(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},q3=W.memo(({toast:t,position:e,style:n,children:i})=>{let s=t.height?P3(t.position||e||"top-center",t.visible):{opacity:0},o=W.createElement(O3,{toast:t}),u=W.createElement(B3,{...t.ariaProps},zh(t.message,t));return W.createElement(U3,{className:t.className,style:{...s,...n,...t.style}},typeof i=="function"?i({icon:o,message:u}):W.createElement(W.Fragment,null,o,u))});c3(W.createElement);var F3=({id:t,className:e,style:n,onHeightUpdate:i,children:s})=>{let o=W.useCallback(u=>{if(u){let c=()=>{let f=u.getBoundingClientRect().height;i(t,f)};c(),new MutationObserver(c).observe(u,{subtree:!0,childList:!0,characterData:!0})}},[t,i]);return W.createElement("div",{ref:o,className:e,style:n},s)},H3=(t,e)=>{let n=t.includes("top"),i=n?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:db()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...i,...s}},$3=i0`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,oh=16,W3=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:i,children:s,toasterId:o,containerStyle:u,containerClassName:c})=>{let{toasts:f,handlers:h}=v3(n,o);return W.createElement("div",{"data-rht-toaster":o||"",style:{position:"fixed",zIndex:9999,top:oh,left:oh,right:oh,bottom:oh,pointerEvents:"none",...u},className:c,onMouseEnter:h.startPause,onMouseLeave:h.endPause},f.map(p=>{let y=p.position||e,b=h.calculateOffset(p,{reverseOrder:t,gutter:i,defaultPosition:e}),g=H3(y,b);return W.createElement(F3,{id:p.id,key:p.id,onHeightUpdate:h.updateHeight,className:p.visible?$3:"",style:g},p.type==="custom"?zh(p.message,p):s?s(p):W.createElement(q3,{toast:p,position:y}))}))},lh=Jr;var i5="popstate";function G3(t={}){function e(i,s){let{pathname:o,search:u,hash:c}=i.location;return T1("",{pathname:o,search:u,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){return typeof s=="string"?s:Vf(s)}return V3(e,n,null,t)}function ar(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ya(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Y3(){return Math.random().toString(36).substring(2,10)}function a5(t,e){return{usr:t.state,key:t.key,idx:e}}function T1(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Wc(e):e,state:n,key:e&&e.key||i||Y3()}}function Vf({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Wc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function V3(t,e,n,i={}){let{window:s=document.defaultView,v5Compat:o=!1}=i,u=s.history,c="POP",f=null,h=p();h==null&&(h=0,u.replaceState({...u.state,idx:h},""));function p(){return(u.state||{idx:null}).idx}function y(){c="POP";let k=p(),T=k==null?null:k-h;h=k,f&&f({action:c,location:E.location,delta:T})}function b(k,T){c="PUSH";let z=T1(E.location,k,T);h=p()+1;let B=a5(z,h),D=E.createHref(z);try{u.pushState(B,"",D)}catch(ne){if(ne instanceof DOMException&&ne.name==="DataCloneError")throw ne;s.location.assign(D)}o&&f&&f({action:c,location:E.location,delta:1})}function g(k,T){c="REPLACE";let z=T1(E.location,k,T);h=p();let B=a5(z,h),D=E.createHref(z);u.replaceState(B,"",D),o&&f&&f({action:c,location:E.location,delta:0})}function S(k){return K3(k)}let E={get action(){return c},get location(){return t(s,u)},listen(k){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(i5,y),f=k,()=>{s.removeEventListener(i5,y),f=null}},createHref(k){return e(s,k)},createURL:S,encodeLocation(k){let T=S(k);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:b,replace:g,go(k){return u.go(k)}};return E}function K3(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ar(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Vf(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function yb(t,e,n="/"){return X3(t,e,n,!1)}function X3(t,e,n,i){let s=typeof e=="string"?Wc(e):e,o=qo(s.pathname||"/",n);if(o==null)return null;let u=bb(t);J3(u);let c=null;for(let f=0;c==null&&f<u.length;++f){let h=l4(o);c=s4(u[f],h,i)}return c}function bb(t,e=[],n=[],i="",s=!1){let o=(u,c,f=s,h)=>{let p={relativePath:h===void 0?u.path||"":h,caseSensitive:u.caseSensitive===!0,childrenIndex:c,route:u};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(i)&&f)return;ar(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length)}let y=Bo([i,p.relativePath]),b=n.concat(p);u.children&&u.children.length>0&&(ar(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),bb(u.children,e,b,y,f)),!(u.path==null&&!u.index)&&e.push({path:y,score:i4(y,u.index),routesMeta:b})};return t.forEach((u,c)=>{if(u.path===""||!u.path?.includes("?"))o(u,c);else for(let f of vb(u.path))o(u,c,!0,f)}),e}function vb(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(i.length===0)return s?[o,""]:[o];let u=vb(i.join("/")),c=[];return c.push(...u.map(f=>f===""?o:[o,f].join("/"))),s&&c.push(...u),c.map(f=>t.startsWith("/")&&f===""?"/":f)}function J3(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:a4(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var Q3=/^:[\w-]+$/,Z3=3,e4=2,t4=1,n4=10,r4=-2,s5=t=>t==="*";function i4(t,e){let n=t.split("/"),i=n.length;return n.some(s5)&&(i+=r4),e&&(i+=e4),n.filter(s=>!s5(s)).reduce((s,o)=>s+(Q3.test(o)?Z3:o===""?t4:n4),i)}function a4(t,e){return t.length===e.length&&t.slice(0,-1).every((i,s)=>i===e[s])?t[t.length-1]-e[e.length-1]:0}function s4(t,e,n=!1){let{routesMeta:i}=t,s={},o="/",u=[];for(let c=0;c<i.length;++c){let f=i[c],h=c===i.length-1,p=o==="/"?e:e.slice(o.length)||"/",y=Uh({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},p),b=f.route;if(!y&&h&&n&&!i[i.length-1].route.index&&(y=Uh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!y)return null;Object.assign(s,y.params),u.push({params:s,pathname:Bo([o,y.pathname]),pathnameBase:d4(Bo([o,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(o=Bo([o,y.pathnameBase]))}return u}function Uh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=o4(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],u=o.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:i.reduce((h,{paramName:p,isOptional:y},b)=>{if(p==="*"){let S=c[b]||"";u=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const g=c[b];return y&&!g?h[p]=void 0:h[p]=(g||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:u,pattern:t}}function o4(t,e=!1,n=!0){Ya(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,c,f)=>(i.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function l4(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ya(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function qo(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var wb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,u4=t=>wb.test(t);function c4(t,e="/"){let{pathname:n,search:i="",hash:s=""}=typeof t=="string"?Wc(t):t,o;if(n)if(u4(n))o=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),Ya(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?o=o5(n.substring(1),"/"):o=o5(n,e)}else o=e;return{pathname:o,search:h4(i),hash:p4(s)}}function o5(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Pp(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function f4(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ig(t){let e=f4(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function ag(t,e,n,i=!1){let s;typeof t=="string"?s=Wc(t):(s={...t},ar(!s.pathname||!s.pathname.includes("?"),Pp("?","pathname","search",s)),ar(!s.pathname||!s.pathname.includes("#"),Pp("#","pathname","hash",s)),ar(!s.search||!s.search.includes("#"),Pp("#","search","hash",s)));let o=t===""||s.pathname==="",u=o?"/":s.pathname,c;if(u==null)c=n;else{let y=e.length-1;if(!i&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),y-=1;s.pathname=b.join("/")}c=y>=0?e[y]:"/"}let f=c4(s,c),h=u&&u!=="/"&&u.endsWith("/"),p=(o||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||p)&&(f.pathname+="/"),f}var Bo=t=>t.join("/").replace(/\/\/+/g,"/"),d4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),h4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,p4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,g4=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function m4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function y4(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var xb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function _b(t,e){let n=t;if(typeof n!="string"||!wb.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,s=!1;if(xb)try{let o=new URL(window.location.href),u=n.startsWith("//")?new URL(o.protocol+n):new URL(n),c=qo(u.pathname,e);u.origin===o.origin&&c!=null?n=c+u.search+u.hash:s=!0}catch{Ya(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:s,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Sb=["POST","PUT","PATCH","DELETE"];new Set(Sb);var b4=["GET",...Sb];new Set(b4);var Gc=W.createContext(null);Gc.displayName="DataRouter";var s0=W.createContext(null);s0.displayName="DataRouterState";var v4=W.createContext(!1),Ab=W.createContext({isTransitioning:!1});Ab.displayName="ViewTransition";var w4=W.createContext(new Map);w4.displayName="Fetchers";var x4=W.createContext(null);x4.displayName="Await";var Ta=W.createContext(null);Ta.displayName="Navigation";var od=W.createContext(null);od.displayName="Location";var js=W.createContext({outlet:null,matches:[],isDataRoute:!1});js.displayName="Route";var sg=W.createContext(null);sg.displayName="RouteError";var Eb="REACT_ROUTER_ERROR",_4="REDIRECT",S4="ROUTE_ERROR_RESPONSE";function A4(t){if(t.startsWith(`${Eb}:${_4}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function E4(t){if(t.startsWith(`${Eb}:${S4}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new g4(e.status,e.statusText,e.data)}catch{}}function k4(t,{relative:e}={}){ar(Yc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=W.useContext(Ta),{hash:s,pathname:o,search:u}=ld(t,{relative:e}),c=o;return n!=="/"&&(c=o==="/"?n:Bo([n,o])),i.createHref({pathname:c,search:u,hash:s})}function Yc(){return W.useContext(od)!=null}function Fo(){return ar(Yc(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(od).location}var kb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Tb(t){W.useContext(Ta).static||W.useLayoutEffect(t)}function o0(){let{isDataRoute:t}=W.useContext(js);return t?P4():T4()}function T4(){ar(Yc(),"useNavigate() may be used only in the context of a <Router> component.");let t=W.useContext(Gc),{basename:e,navigator:n}=W.useContext(Ta),{matches:i}=W.useContext(js),{pathname:s}=Fo(),o=JSON.stringify(ig(i)),u=W.useRef(!1);return Tb(()=>{u.current=!0}),W.useCallback((f,h={})=>{if(Ya(u.current,kb),!u.current)return;if(typeof f=="number"){n.go(f);return}let p=ag(f,JSON.parse(o),s,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Bo([e,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[e,n,o,s,t])}W.createContext(null);function L4(){let{matches:t}=W.useContext(js),e=t[t.length-1];return e?e.params:{}}function ld(t,{relative:e}={}){let{matches:n}=W.useContext(js),{pathname:i}=Fo(),s=JSON.stringify(ig(n));return W.useMemo(()=>ag(t,JSON.parse(s),i,e==="path"),[t,s,i,e])}function C4(t,e){return Lb(t,e)}function Lb(t,e,n,i,s){ar(Yc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=W.useContext(Ta),{matches:u}=W.useContext(js),c=u[u.length-1],f=c?c.params:{},h=c?c.pathname:"/",p=c?c.pathnameBase:"/",y=c&&c.route;{let z=y&&y.path||"";jb(h,!y||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let b=Fo(),g;if(e){let z=typeof e=="string"?Wc(e):e;ar(p==="/"||z.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${z.pathname}" was given in the \`location\` prop.`),g=z}else g=b;let S=g.pathname||"/",E=S;if(p!=="/"){let z=p.replace(/^\//,"").split("/");E="/"+S.replace(/^\//,"").split("/").slice(z.length).join("/")}let k=yb(t,{pathname:E});Ya(y||k!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Ya(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=D4(k&&k.map(z=>Object.assign({},z,{params:Object.assign({},f,z.params),pathname:Bo([p,o.encodeLocation?o.encodeLocation(z.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?p:Bo([p,o.encodeLocation?o.encodeLocation(z.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathnameBase])})),u,n,i,s);return e&&T?W.createElement(od.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},T):T}function j4(){let t=B4(),e=m4(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=W.createElement(W.Fragment,null,W.createElement("p",null," Hey developer "),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:o},"ErrorBoundary")," or"," ",W.createElement("code",{style:o},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),n?W.createElement("pre",{style:s},n):null,u)}var N4=W.createElement(j4,null),Cb=class extends W.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=E4(t.digest);n&&(t=n)}let e=t!==void 0?W.createElement(js.Provider,{value:this.props.routeContext},W.createElement(sg.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?W.createElement(R4,{error:t},e):e}};Cb.contextType=v4;var qp=new WeakMap;function R4({children:t,error:e}){let{basename:n}=W.useContext(Ta);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=A4(e.digest);if(i){let s=qp.get(e);if(s)throw s;let o=_b(i.location,n);if(xb&&!qp.get(e))if(o.isExternal||i.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:i.replace}));throw qp.set(e,u),u}return W.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return t}function O4({routeContext:t,match:e,children:n}){let i=W.useContext(Gc);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),W.createElement(js.Provider,{value:t},n)}function D4(t,e=[],n=null,i=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,u=n?.errors;if(u!=null){let p=o.findIndex(y=>y.route.id&&u?.[y.route.id]!==void 0);ar(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let c=!1,f=-1;if(n)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=p),y.route.id){let{loaderData:b,errors:g}=n,S=y.route.loader&&!b.hasOwnProperty(y.route.id)&&(!g||g[y.route.id]===void 0);if(y.route.lazy||S){c=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}let h=n&&i?(p,y)=>{i(p,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:y4(n.matches),errorInfo:y})}:void 0;return o.reduceRight((p,y,b)=>{let g,S=!1,E=null,k=null;n&&(g=u&&y.route.id?u[y.route.id]:void 0,E=y.route.errorElement||N4,c&&(f<0&&b===0?(jb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,k=null):f===b&&(S=!0,k=y.route.hydrateFallbackElement||null)));let T=e.concat(o.slice(0,b+1)),z=()=>{let B;return g?B=E:S?B=k:y.route.Component?B=W.createElement(y.route.Component,null):y.route.element?B=y.route.element:B=p,W.createElement(O4,{match:y,routeContext:{outlet:p,matches:T,isDataRoute:n!=null},children:B})};return n&&(y.route.ErrorBoundary||y.route.errorElement||b===0)?W.createElement(Cb,{location:n.location,revalidation:n.revalidation,component:E,error:g,children:z(),routeContext:{outlet:null,matches:T,isDataRoute:!0},onError:h}):z()},null)}function og(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function I4(t){let e=W.useContext(Gc);return ar(e,og(t)),e}function M4(t){let e=W.useContext(s0);return ar(e,og(t)),e}function z4(t){let e=W.useContext(js);return ar(e,og(t)),e}function lg(t){let e=z4(t),n=e.matches[e.matches.length-1];return ar(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function U4(){return lg("useRouteId")}function B4(){let t=W.useContext(sg),e=M4("useRouteError"),n=lg("useRouteError");return t!==void 0?t:e.errors?.[n]}function P4(){let{router:t}=I4("useNavigate"),e=lg("useNavigate"),n=W.useRef(!1);return Tb(()=>{n.current=!0}),W.useCallback(async(s,o={})=>{Ya(n.current,kb),n.current&&(typeof s=="number"?await t.navigate(s):await t.navigate(s,{fromRouteId:e,...o}))},[t,e])}var l5={};function jb(t,e,n){!e&&!l5[t]&&(l5[t]=!0,Ya(!1,n))}W.memo(q4);function q4({routes:t,future:e,state:n,onError:i}){return Lb(t,void 0,n,i,e)}function F4({to:t,replace:e,state:n,relative:i}){ar(Yc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=W.useContext(Ta);Ya(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=W.useContext(js),{pathname:u}=Fo(),c=o0(),f=ag(t,ig(o),u,i==="path"),h=JSON.stringify(f);return W.useEffect(()=>{c(JSON.parse(h),{replace:e,state:n,relative:i})},[c,h,i,e,n]),null}function Zs(t){ar(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function H4({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:s,static:o=!1,unstable_useTransitions:u}){ar(!Yc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),f=W.useMemo(()=>({basename:c,navigator:s,static:o,unstable_useTransitions:u,future:{}}),[c,s,o,u]);typeof n=="string"&&(n=Wc(n));let{pathname:h="/",search:p="",hash:y="",state:b=null,key:g="default"}=n,S=W.useMemo(()=>{let E=qo(h,c);return E==null?null:{location:{pathname:E,search:p,hash:y,state:b,key:g},navigationType:i}},[c,h,p,y,b,g,i]);return Ya(S!=null,`<Router basename="${c}"> is not able to match the URL "${h}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:W.createElement(Ta.Provider,{value:f},W.createElement(od.Provider,{children:e,value:S}))}function $4({children:t,location:e}){return C4(L1(t),e)}function L1(t,e=[]){let n=[];return W.Children.forEach(t,(i,s)=>{if(!W.isValidElement(i))return;let o=[...e,s];if(i.type===W.Fragment){n.push.apply(n,L1(i.props.children,o));return}ar(i.type===Zs,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ar(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=L1(i.props.children,o)),n.push(u)}),n}var Th="get",Lh="application/x-www-form-urlencoded";function l0(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function W4(t){return l0(t)&&t.tagName.toLowerCase()==="button"}function G4(t){return l0(t)&&t.tagName.toLowerCase()==="form"}function Y4(t){return l0(t)&&t.tagName.toLowerCase()==="input"}function V4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function K4(t,e){return t.button===0&&(!e||e==="_self")&&!V4(t)}var uh=null;function X4(){if(uh===null)try{new FormData(document.createElement("form"),0),uh=!1}catch{uh=!0}return uh}var J4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fp(t){return t!=null&&!J4.has(t)?(Ya(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Lh}"`),null):t}function Q4(t,e){let n,i,s,o,u;if(G4(t)){let c=t.getAttribute("action");i=c?qo(c,e):null,n=t.getAttribute("method")||Th,s=Fp(t.getAttribute("enctype"))||Lh,o=new FormData(t)}else if(W4(t)||Y4(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||c.getAttribute("action");if(i=f?qo(f,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||Th,s=Fp(t.getAttribute("formenctype"))||Fp(c.getAttribute("enctype"))||Lh,o=new FormData(c,t),!X4()){let{name:h,type:p,value:y}=t;if(p==="image"){let b=h?`${h}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else h&&o.append(h,y)}}else{if(l0(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Th,i=null,s=Lh,u=t}return o&&s==="text/plain"&&(u=o,o=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:o,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ug(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Z4(t,e,n,i){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${i}`:s.pathname=`${s.pathname}.${i}`:s.pathname==="/"?s.pathname=`_root.${i}`:e&&qo(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${i}`,s}async function e_(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function t_(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function n_(t,e,n){let i=await Promise.all(t.map(async s=>{let o=e.routes[s.route.id];if(o){let u=await e_(o,n);return u.links?u.links():[]}return[]}));return s_(i.flat(1).filter(t_).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function u5(t,e,n,i,s,o){let u=(f,h)=>n[h]?f.route.id!==n[h].route.id:!0,c=(f,h)=>n[h].pathname!==f.pathname||n[h].route.path?.endsWith("*")&&n[h].params["*"]!==f.params["*"];return o==="assets"?e.filter((f,h)=>u(f,h)||c(f,h)):o==="data"?e.filter((f,h)=>{let p=i.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(u(f,h)||c(f,h))return!0;if(f.route.shouldRevalidate){let y=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function r_(t,e,{includeHydrateFallback:n}={}){return i_(t.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function i_(t){return[...new Set(t)]}function a_(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function s_(t,e){let n=new Set;return new Set(e),t.reduce((i,s)=>{let o=JSON.stringify(a_(s));return n.has(o)||(n.add(o),i.push({key:o,link:s})),i},[])}function Nb(){let t=W.useContext(Gc);return ug(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function o_(){let t=W.useContext(s0);return ug(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var cg=W.createContext(void 0);cg.displayName="FrameworkContext";function Rb(){let t=W.useContext(cg);return ug(t,"You must render this element inside a <HydratedRouter> element"),t}function l_(t,e){let n=W.useContext(cg),[i,s]=W.useState(!1),[o,u]=W.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:h,onMouseLeave:p,onTouchStart:y}=e,b=W.useRef(null);W.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let E=T=>{T.forEach(z=>{u(z.isIntersecting)})},k=new IntersectionObserver(E,{threshold:.5});return b.current&&k.observe(b.current),()=>{k.disconnect()}}},[t]),W.useEffect(()=>{if(i){let E=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(E)}}},[i]);let g=()=>{s(!0)},S=()=>{s(!1),u(!1)};return n?t!=="intent"?[o,b,{}]:[o,b,{onFocus:Mf(c,g),onBlur:Mf(f,S),onMouseEnter:Mf(h,g),onMouseLeave:Mf(p,S),onTouchStart:Mf(y,g)}]:[!1,b,{}]}function Mf(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function u_({page:t,...e}){let{router:n}=Nb(),i=W.useMemo(()=>yb(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?W.createElement(f_,{page:t,matches:i,...e}):null}function c_(t){let{manifest:e,routeModules:n}=Rb(),[i,s]=W.useState([]);return W.useEffect(()=>{let o=!1;return n_(t,e,n).then(u=>{o||s(u)}),()=>{o=!0}},[t,e,n]),i}function f_({page:t,matches:e,...n}){let i=Fo(),{future:s,manifest:o,routeModules:u}=Rb(),{basename:c}=Nb(),{loaderData:f,matches:h}=o_(),p=W.useMemo(()=>u5(t,e,h,o,i,"data"),[t,e,h,o,i]),y=W.useMemo(()=>u5(t,e,h,o,i,"assets"),[t,e,h,o,i]),b=W.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let E=new Set,k=!1;if(e.forEach(z=>{let B=o.routes[z.route.id];!B||!B.hasLoader||(!p.some(D=>D.route.id===z.route.id)&&z.route.id in f&&u[z.route.id]?.shouldRevalidate||B.hasClientLoader?k=!0:E.add(z.route.id))}),E.size===0)return[];let T=Z4(t,c,s.unstable_trailingSlashAwareDataRequests,"data");return k&&E.size>0&&T.searchParams.set("_routes",e.filter(z=>E.has(z.route.id)).map(z=>z.route.id).join(",")),[T.pathname+T.search]},[c,s.unstable_trailingSlashAwareDataRequests,f,i,o,p,e,t,u]),g=W.useMemo(()=>r_(y,o),[y,o]),S=c_(y);return W.createElement(W.Fragment,null,b.map(E=>W.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),g.map(E=>W.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),S.map(({key:E,link:k})=>W.createElement("link",{key:E,nonce:n.nonce,...k})))}function d_(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var h_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{h_&&(window.__reactRouterVersion="7.12.0")}catch{}function p_({basename:t,children:e,unstable_useTransitions:n,window:i}){let s=W.useRef();s.current==null&&(s.current=G3({window:i,v5Compat:!0}));let o=s.current,[u,c]=W.useState({action:o.action,location:o.location}),f=W.useCallback(h=>{n===!1?c(h):W.startTransition(()=>c(h))},[n]);return W.useLayoutEffect(()=>o.listen(f),[o,f]),W.createElement(H4,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:o,unstable_useTransitions:n})}var Ob=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fg=W.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:s,reloadDocument:o,replace:u,state:c,target:f,to:h,preventScrollReset:p,viewTransition:y,unstable_defaultShouldRevalidate:b,...g},S){let{basename:E,unstable_useTransitions:k}=W.useContext(Ta),T=typeof h=="string"&&Ob.test(h),z=_b(h,E);h=z.to;let B=k4(h,{relative:s}),[D,ne,H]=l_(i,g),te=b_(h,{replace:u,state:c,target:f,preventScrollReset:p,relative:s,viewTransition:y,unstable_defaultShouldRevalidate:b,unstable_useTransitions:k});function I(K){e&&e(K),K.defaultPrevented||te(K)}let L=W.createElement("a",{...g,...H,href:z.absoluteURL||B,onClick:z.isExternal||o?e:I,ref:d_(S,ne),target:f,"data-discover":!T&&n==="render"?"true":void 0});return D&&!T?W.createElement(W.Fragment,null,L,W.createElement(u_,{page:B})):L});fg.displayName="Link";var g_=W.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:s=!1,style:o,to:u,viewTransition:c,children:f,...h},p){let y=ld(u,{relative:h.relative}),b=Fo(),g=W.useContext(s0),{navigator:S,basename:E}=W.useContext(Ta),k=g!=null&&S_(y)&&c===!0,T=S.encodeLocation?S.encodeLocation(y).pathname:y.pathname,z=b.pathname,B=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(z=z.toLowerCase(),B=B?B.toLowerCase():null,T=T.toLowerCase()),B&&E&&(B=qo(B,E)||B);const D=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let ne=z===T||!s&&z.startsWith(T)&&z.charAt(D)==="/",H=B!=null&&(B===T||!s&&B.startsWith(T)&&B.charAt(T.length)==="/"),te={isActive:ne,isPending:H,isTransitioning:k},I=ne?e:void 0,L;typeof i=="function"?L=i(te):L=[i,ne?"active":null,H?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let K=typeof o=="function"?o(te):o;return W.createElement(fg,{...h,"aria-current":I,className:L,ref:p,style:K,to:u,viewTransition:c},typeof f=="function"?f(te):f)});g_.displayName="NavLink";var m_=W.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:s,state:o,method:u=Th,action:c,onSubmit:f,relative:h,preventScrollReset:p,viewTransition:y,unstable_defaultShouldRevalidate:b,...g},S)=>{let{unstable_useTransitions:E}=W.useContext(Ta),k=x_(),T=__(c,{relative:h}),z=u.toLowerCase()==="get"?"get":"post",B=typeof c=="string"&&Ob.test(c),D=ne=>{if(f&&f(ne),ne.defaultPrevented)return;ne.preventDefault();let H=ne.nativeEvent.submitter,te=H?.getAttribute("formmethod")||u,I=()=>k(H||ne.currentTarget,{fetcherKey:e,method:te,navigate:n,replace:s,state:o,relative:h,preventScrollReset:p,viewTransition:y,unstable_defaultShouldRevalidate:b});E&&n!==!1?W.startTransition(()=>I()):I()};return W.createElement("form",{ref:S,method:z,action:T,onSubmit:i?f:D,...g,"data-discover":!B&&t==="render"?"true":void 0})});m_.displayName="Form";function y_(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Db(t){let e=W.useContext(Gc);return ar(e,y_(t)),e}function b_(t,{target:e,replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:u,unstable_defaultShouldRevalidate:c,unstable_useTransitions:f}={}){let h=o0(),p=Fo(),y=ld(t,{relative:o});return W.useCallback(b=>{if(K4(b,e)){b.preventDefault();let g=n!==void 0?n:Vf(p)===Vf(y),S=()=>h(t,{replace:g,state:i,preventScrollReset:s,relative:o,viewTransition:u,unstable_defaultShouldRevalidate:c});f?W.startTransition(()=>S()):S()}},[p,h,y,n,i,e,t,s,o,u,c,f])}var v_=0,w_=()=>`__${String(++v_)}__`;function x_(){let{router:t}=Db("useSubmit"),{basename:e}=W.useContext(Ta),n=U4(),i=t.fetch,s=t.navigate;return W.useCallback(async(o,u={})=>{let{action:c,method:f,encType:h,formData:p,body:y}=Q4(o,e);if(u.navigate===!1){let b=u.fetcherKey||w_();await i(b,n,u.action||c,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:p,body:y,formMethod:u.method||f,formEncType:u.encType||h,flushSync:u.flushSync})}else await s(u.action||c,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:p,body:y,formMethod:u.method||f,formEncType:u.encType||h,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[i,s,e,n])}function __(t,{relative:e}={}){let{basename:n}=W.useContext(Ta),i=W.useContext(js);ar(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),o={...ld(t||".",{relative:e})},u=Fo();if(t==null){o.search=u.search;let c=new URLSearchParams(o.search),f=c.getAll("index");if(f.some(p=>p==="")){c.delete("index"),f.filter(y=>y).forEach(y=>c.append("index",y));let p=c.toString();o.search=p?`?${p}`:""}}return(!t||t===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Bo([n,o.pathname])),Vf(o)}function S_(t,{relative:e}={}){let n=W.useContext(Ab);ar(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Db("useViewTransitionState"),s=ld(t,{relative:e});if(!n.isTransitioning)return!1;let o=qo(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=qo(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Uh(s.pathname,u)!=null||Uh(s.pathname,o)!=null}var Ic=ub();function u0(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}function A_(t,e,n,i){function s(o){return o instanceof n?o:new n(function(u){u(o)})}return new(n||(n=Promise))(function(o,u){function c(p){try{h(i.next(p))}catch(y){u(y)}}function f(p){try{h(i.throw(p))}catch(y){u(y)}}function h(p){p.done?o(p.value):s(p.value).then(c,f)}h((i=i.apply(t,e||[])).next())})}const E_=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class dg extends Error{constructor(e,n="FunctionsError",i){super(e),this.name=n,this.context=i}}class k_ extends dg{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class c5 extends dg{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class f5 extends dg{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var C1;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(C1||(C1={}));class T_{constructor(e,{headers:n={},customFetch:i,region:s=C1.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=E_(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return A_(this,arguments,void 0,function*(n,i={}){var s;let o,u;try{const{headers:c,method:f,body:h,signal:p,timeout:y}=i;let b={},{region:g}=i;g||(g=this.region);const S=new URL(`${this.url}/${n}`);g&&g!=="any"&&(b["x-region"]=g,S.searchParams.set("forceFunctionRegion",g));let E;h&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",E=h):typeof h=="string"?(b["Content-Type"]="text/plain",E=h):typeof FormData<"u"&&h instanceof FormData?E=h:(b["Content-Type"]="application/json",E=JSON.stringify(h)):h&&typeof h!="string"&&!(typeof Blob<"u"&&h instanceof Blob)&&!(h instanceof ArrayBuffer)&&!(typeof FormData<"u"&&h instanceof FormData)?E=JSON.stringify(h):E=h;let k=p;y&&(u=new AbortController,o=setTimeout(()=>u.abort(),y),p?(k=u.signal,p.addEventListener("abort",()=>u.abort())):k=u.signal);const T=yield this.fetch(S.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),c),body:E,signal:k}).catch(ne=>{throw new k_(ne)}),z=T.headers.get("x-relay-error");if(z&&z==="true")throw new c5(T);if(!T.ok)throw new f5(T);let B=((s=T.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),D;return B==="application/json"?D=yield T.json():B==="application/octet-stream"||B==="application/pdf"?D=yield T.blob():B==="text/event-stream"?D=T:B==="multipart/form-data"?D=yield T.formData():D=yield T.text(),{data:D,error:null,response:T}}catch(c){return{data:null,error:c,response:c instanceof f5||c instanceof c5?c.context:void 0}}finally{o&&clearTimeout(o)}})}}var L_=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},C_=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let s=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let u=null,c=null,f=null,h=o.status,p=o.statusText;if(o.ok){var y,b;if(n.method!=="HEAD"){var g;const T=await o.text();T===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((g=n.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?c=T:c=JSON.parse(T))}const E=(y=n.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),k=(b=o.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");E&&k&&k.length>1&&(f=parseInt(k[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,f=null,h=406,p="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{var S;const E=await o.text();try{u=JSON.parse(E),Array.isArray(u)&&o.status===404&&(c=[],u=null,h=200,p="OK")}catch{o.status===404&&E===""?(h=204,p="No Content"):u={message:E}}if(u&&n.isMaybeSingle&&(!(u==null||(S=u.details)===null||S===void 0)&&S.includes("0 rows"))&&(u=null,h=200,p="OK"),u&&n.shouldThrowOnError)throw new L_(u)}return{error:u,data:c,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(s=s.catch(o=>{var u;let c="";const f=o?.cause;if(f){var h,p,y,b;const S=(h=f?.message)!==null&&h!==void 0?h:"",E=(p=f?.code)!==null&&p!==void 0?p:"";c=`${(y=o?.name)!==null&&y!==void 0?y:"FetchError"}: ${o?.message}`,c+=`

Caused by: ${(b=f?.name)!==null&&b!==void 0?b:"Error"}: ${S}`,E&&(c+=` (${E})`),f?.stack&&(c+=`
${f.stack}`)}else{var g;c=(g=o?.stack)!==null&&g!==void 0?g:""}return{error:{message:`${(u=o?.name)!==null&&u!==void 0?u:"FetchError"}: ${o?.message}`,details:c,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(t,e)}returns(){return this}overrideTypes(){return this}},j_=class extends C_{select(t){let e=!1;const n=(t??"*").split("").map(i=>/\s/.test(i)&&!e?"":(i==='"'&&(e=!e),i)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.order`:"order",u=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${u?`${u},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:i=n}={}){const s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(o,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var u;const c=[t?"analyze":null,e?"verbose":null,n?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),f=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${f}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const d5=new RegExp("[,()]");var jc=class extends j_{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(i=>typeof i=="string"&&d5.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(i=>typeof i=="string"&&d5.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${s}fts${o}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},N_=class{constructor(t,{headers:e={},schema:n,fetch:i}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:n=!1,count:i}=e??{},s=n?"HEAD":"GET";let o=!1;const u=(t??"*").split("").map(h=>/\s/.test(h)&&!o?"":(h==='"'&&(o=!o),h)).join(""),{url:c,headers:f}=this.cloneRequestState();return c.searchParams.set("select",u),i&&f.append("Prefer",`count=${i}`),new jc({method:s,url:c,headers:f,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var i;const s="POST",{url:o,headers:u}=this.cloneRequestState();if(e&&u.append("Prefer",`count=${e}`),n||u.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(c.length>0){const f=[...new Set(c)].map(h=>`"${h}"`);o.searchParams.set("columns",f.join(","))}}return new jc({method:s,url:o,headers:u,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:i,defaultToNull:s=!0}={}){var o;const u="POST",{url:c,headers:f}=this.cloneRequestState();if(f.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&c.searchParams.set("on_conflict",e),i&&f.append("Prefer",`count=${i}`),s||f.append("Prefer","missing=default"),Array.isArray(t)){const h=t.reduce((p,y)=>p.concat(Object.keys(y)),[]);if(h.length>0){const p=[...new Set(h)].map(y=>`"${y}"`);c.searchParams.set("columns",p.join(","))}}return new jc({method:u,url:c,headers:f,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:e}={}){var n;const i="PATCH",{url:s,headers:o}=this.cloneRequestState();return e&&o.append("Prefer",`count=${e}`),new jc({method:i,url:s,headers:o,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE",{url:i,headers:s}=this.cloneRequestState();return t&&s.append("Prefer",`count=${t}`),new jc({method:n,url:i,headers:s,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},R_=class Ib{constructor(e,{headers:n={},schema:i,fetch:s}={}){this.url=e,this.headers=new Headers(n),this.schemaName=i,this.fetch=s}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new N_(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Ib(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:i=!1,get:s=!1,count:o}={}){var u;let c;const f=new URL(`${this.url}/rpc/${e}`);let h;const p=g=>g!==null&&typeof g=="object"&&(!Array.isArray(g)||g.some(p)),y=i&&Object.values(n).some(p);y?(c="POST",h=n):i||s?(c=i?"HEAD":"GET",Object.entries(n).filter(([g,S])=>S!==void 0).map(([g,S])=>[g,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([g,S])=>{f.searchParams.append(g,S)})):(c="POST",h=n);const b=new Headers(this.headers);return y?b.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&b.set("Prefer",`count=${o}`),new jc({method:c,url:f,headers:b,schema:this.schemaName,body:h,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};class O_{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const i=n.versions;if(i&&i.node){const s=i.node,o=parseInt(s.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const i=this.getWebSocketConstructor();return new i(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const D_="2.91.0",I_=`realtime-js/${D_}`,M_="1.0.0",Mb="2.0.0",h5=Mb,j1=1e4,z_=1e3,U_=100;var Ll;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ll||(Ll={}));var Kr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Kr||(Kr={}));var ks;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ks||(ks={}));var N1;(function(t){t.websocket="websocket"})(N1||(N1={}));var yu;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(yu||(yu={}));class B_{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let i=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,i;const s=(i=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var n,i;const s=(i=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&i!==void 0?i:{},u=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(e,n,i){var s,o;const u=e.topic,c=(s=e.ref)!==null&&s!==void 0?s:"",f=(o=e.join_ref)!==null&&o!==void 0?o:"",h=e.payload.event,p=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},y=Object.keys(p).length===0?"":JSON.stringify(p);if(f.length>255)throw new Error(`joinRef length ${f.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`ref length ${c.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`userEvent length ${h.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`metadata length ${y.length} exceeds maximum of 255`);const b=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+c.length+u.length+h.length+y.length,g=new ArrayBuffer(this.HEADER_LENGTH+b);let S=new DataView(g),E=0;S.setUint8(E++,this.KINDS.userBroadcastPush),S.setUint8(E++,f.length),S.setUint8(E++,c.length),S.setUint8(E++,u.length),S.setUint8(E++,h.length),S.setUint8(E++,y.length),S.setUint8(E++,n),Array.from(f,T=>S.setUint8(E++,T.charCodeAt(0))),Array.from(c,T=>S.setUint8(E++,T.charCodeAt(0))),Array.from(u,T=>S.setUint8(E++,T.charCodeAt(0))),Array.from(h,T=>S.setUint8(E++,T.charCodeAt(0))),Array.from(y,T=>S.setUint8(E++,T.charCodeAt(0)));var k=new Uint8Array(g.byteLength+i.byteLength);return k.set(new Uint8Array(g),0),k.set(new Uint8Array(i),g.byteLength),k.buffer}decode(e,n){if(this._isArrayBuffer(e)){let i=this._binaryDecode(e);return n(i)}if(typeof e=="string"){const i=JSON.parse(e),[s,o,u,c,f]=i;return n({join_ref:s,ref:o,topic:u,event:c,payload:f})}return n({})}_binaryDecode(e){const n=new DataView(e),i=n.getUint8(0),s=new TextDecoder;if(i===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,n,s)}_decodeUserBroadcast(e,n,i){const s=n.getUint8(1),o=n.getUint8(2),u=n.getUint8(3),c=n.getUint8(4);let f=this.HEADER_LENGTH+4;const h=i.decode(e.slice(f,f+s));f=f+s;const p=i.decode(e.slice(f,f+o));f=f+o;const y=i.decode(e.slice(f,f+u));f=f+u;const b=e.slice(f,e.byteLength),g=c===this.JSON_ENCODING?JSON.parse(i.decode(b)):b,S={type:this.BROADCAST_EVENT,event:p,payload:g};return u>0&&(S.meta=JSON.parse(y)),{join_ref:null,ref:null,topic:h,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([i])=>n.includes(i)))}}class zb{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Wn;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Wn||(Wn={}));const p5=(t,e,n={})=>{var i;const s=(i=n.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((o,u)=>(o[u]=P_(u,t,e,s),o),{}):{}},P_=(t,e,n,i)=>{const s=e.find(c=>c.name===t),o=s?.type,u=n[t];return o&&!i.includes(o)?Ub(o,u):R1(u)},Ub=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return $_(e,n)}switch(t){case Wn.bool:return q_(e);case Wn.float4:case Wn.float8:case Wn.int2:case Wn.int4:case Wn.int8:case Wn.numeric:case Wn.oid:return F_(e);case Wn.json:case Wn.jsonb:return H_(e);case Wn.timestamp:return W_(e);case Wn.abstime:case Wn.date:case Wn.daterange:case Wn.int4range:case Wn.int8range:case Wn.money:case Wn.reltime:case Wn.text:case Wn.time:case Wn.timestamptz:case Wn.timetz:case Wn.tsrange:case Wn.tstzrange:return R1(e);default:return R1(e)}},R1=t=>t,q_=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},F_=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},H_=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},$_=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,i=t[n];if(t[0]==="{"&&i==="}"){let o;const u=t.slice(1,n);try{o=JSON.parse("["+u+"]")}catch{o=u?u.split(","):[]}return o.map(c=>Ub(e,c))}return t},W_=t=>typeof t=="string"?t.replace(" ","T"):t,Bb=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Hp{constructor(e,n,i={},s=j1){this.channel=e,this.event=n,this.payload=i,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var i;return this._hasReceived(e)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var g5;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(g5||(g5={}));class qf{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},s=>{const{onJoin:o,onLeave:u,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=qf.syncState(this.state,s,o,u),this.pendingDiffs.forEach(f=>{this.state=qf.syncDiff(this.state,f,o,u)}),this.pendingDiffs=[],c()}),this.channel._on(i.diff,{},s=>{const{onJoin:o,onLeave:u,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=qf.syncDiff(this.state,s,o,u),c())}),this.onJoin((s,o,u)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:u})}),this.onLeave((s,o,u)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,i,s){const o=this.cloneDeep(e),u=this.transformState(n),c={},f={};return this.map(o,(h,p)=>{u[h]||(f[h]=p)}),this.map(u,(h,p)=>{const y=o[h];if(y){const b=p.map(k=>k.presence_ref),g=y.map(k=>k.presence_ref),S=p.filter(k=>g.indexOf(k.presence_ref)<0),E=y.filter(k=>b.indexOf(k.presence_ref)<0);S.length>0&&(c[h]=S),E.length>0&&(f[h]=E)}else c[h]=p}),this.syncDiff(o,{joins:c,leaves:f},i,s)}static syncDiff(e,n,i,s){const{joins:o,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),s||(s=()=>{}),this.map(o,(c,f)=>{var h;const p=(h=e[c])!==null&&h!==void 0?h:[];if(e[c]=this.cloneDeep(f),p.length>0){const y=e[c].map(g=>g.presence_ref),b=p.filter(g=>y.indexOf(g.presence_ref)<0);e[c].unshift(...b)}i(c,p,f)}),this.map(u,(c,f)=>{let h=e[c];if(!h)return;const p=f.map(y=>y.presence_ref);h=h.filter(y=>p.indexOf(y.presence_ref)<0),e[c]=h,s(c,h,f),h.length===0&&delete e[c]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(i=>n(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,i)=>{const s=e[i];return"metas"in s?n[i]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[i]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var m5;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(m5||(m5={}));var Ff;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ff||(Ff={}));var zo;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(zo||(zo={}));class Mc{constructor(e,n={config:{}},i){var s,o;if(this.topic=e,this.params=n,this.socket=i,this.bindings={},this.state=Kr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Hp(this,ks.join,this.params,this.timeout),this.rejoinTimer=new zb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Kr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Kr.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Kr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Kr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Kr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ks.reply,{},(u,c)=>{this._trigger(this._replyEventName(c),u)}),this.presence=new qf(this),this.broadcastEndpointURL=Bb(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var i,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Kr.closed){const{config:{broadcast:u,presence:c,private:f}}=this.params,h=(s=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(g=>g.filter))!==null&&s!==void 0?s:[],p=!!this.bindings[Ff.PRESENCE]&&this.bindings[Ff.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,y={},b={broadcast:u,presence:Object.assign(Object.assign({},c),{enabled:p}),postgres_changes:h,private:f};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(g=>e?.(zo.CHANNEL_ERROR,g)),this._onClose(()=>e?.(zo.CLOSED)),this.updateJoinPayload(Object.assign({config:b},y)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:g})=>{var S;if(this.socket._isManualToken()||this.socket.setAuth(),g===void 0){e?.(zo.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,k=(S=E?.length)!==null&&S!==void 0?S:0,T=[];for(let z=0;z<k;z++){const B=E[z],{filter:{event:D,schema:ne,table:H,filter:te}}=B,I=g&&g[z];if(I&&I.event===D&&Mc.isFilterValueEqual(I.schema,ne)&&Mc.isFilterValueEqual(I.table,H)&&Mc.isFilterValueEqual(I.filter,te))T.push(Object.assign(Object.assign({},B),{id:I.id}));else{this.unsubscribe(),this.state=Kr.errored,e?.(zo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,e&&e(zo.SUBSCRIBED);return}}).receive("error",g=>{this.state=Kr.errored,e?.(zo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{e?.(zo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,i){return this.state===Kr.joined&&e===Ff.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,i)}async httpSend(e,n,i={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(s=i.timeout)!==null&&s!==void 0?s:this.timeout);if(c.status===202)return{success:!0};let f=c.statusText;try{const h=await c.json();f=h.error||h.message||f}catch{}return Promise.reject(new Error(f))}async send(e,n={}){var i,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:u}=e,c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:u,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((s=h.body)===null||s===void 0?void 0:s.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var u,c,f;const h=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(c=(u=this.params)===null||u===void 0?void 0:u.config)===null||c===void 0?void 0:c.broadcast)===null||f===void 0)&&f.ack)&&o("ok"),h.receive("ok",()=>o("ok")),h.receive("error",()=>o("error")),h.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Kr.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ks.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(s=>{i=new Hp(this,ks.leave,{},e),i.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Kr.closed,this.bindings={}}async _fetchWithTimeout(e,n,i){const s=new AbortController,o=setTimeout(()=>s.abort(),i),u=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),u}_push(e,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Hp(this,e,n,i);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>U_){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,i){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,i){var s,o;const u=e.toLocaleLowerCase(),{close:c,error:f,leave:h,join:p}=ks;if(i&&[c,f,h,p].indexOf(u)>=0&&i!==this._joinRef())return;let b=this._onMessage(u,n,i);if(n&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var S,E,k;return((S=g.filter)===null||S===void 0?void 0:S.event)==="*"||((k=(E=g.filter)===null||E===void 0?void 0:E.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===u}).map(g=>g.callback(b,i)):(o=this.bindings[u])===null||o===void 0||o.filter(g=>{var S,E,k,T,z,B,D,ne;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in g){const H=g.id,te=(S=g.filter)===null||S===void 0?void 0:S.event;return H&&((E=n.ids)===null||E===void 0?void 0:E.includes(H))&&(te==="*"||te?.toLocaleLowerCase()===((k=n.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))&&(!(!((T=g.filter)===null||T===void 0)&&T.table)||g.filter.table===((z=n.data)===null||z===void 0?void 0:z.table))}else{const H=(D=(B=g?.filter)===null||B===void 0?void 0:B.event)===null||D===void 0?void 0:D.toLocaleLowerCase();return H==="*"||H===((ne=n?.event)===null||ne===void 0?void 0:ne.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===u}).map(g=>{if(typeof b=="object"&&"ids"in b){const S=b.data,{schema:E,table:k,commit_timestamp:T,type:z,errors:B}=S;b=Object.assign(Object.assign({},{schema:E,table:k,commit_timestamp:T,eventType:z,new:{},old:{},errors:B}),this._getPayloadRecords(S))}g.callback(b,i)})}_isClosed(){return this.state===Kr.closed}_isJoined(){return this.state===Kr.joined}_isJoining(){return this.state===Kr.joining}_isLeaving(){return this.state===Kr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,i){const s=e.toLocaleLowerCase(),o={type:s,filter:n,callback:i};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(e,n){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===i&&Mc.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const i in e)if(e[i]!==n[i])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ks.close,{},e)}_onError(e){this._on(ks.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Kr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=p5(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=p5(e.columns,e.old_record)),n}}const $p=()=>{},ch={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},G_=[1e3,2e3,5e3,1e4],Y_=1e4,V_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class K_{constructor(e,n){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=j1,this.transport=null,this.heartbeatIntervalMs=ch.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=$p,this.ref=0,this.reconnectTimer=null,this.vsn=h5,this.logger=$p,this.conn=null,this.sendBuffer=[],this.serializer=new B_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...o)=>s(...o):(...o)=>fetch(...o),!(!((i=n?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${N1.websocket}`,this.httpEndpoint=Bb(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=O_.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,i){this.logger(e,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Ll.connecting:return yu.Connecting;case Ll.open:return yu.Open;case Ll.closing:return yu.Closing;default:return yu.Closed}}isConnected(){return this.connectionState()===yu.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const i=`realtime:${e}`,s=this.getChannels().find(o=>o.topic===i);if(s)return s;{const o=new Mc(`realtime:${e}`,n,this);return this.channels.push(o),o}}push(e){const{topic:n,event:i,payload:s,ref:o}=e,u=()=>{this.encode(e,c=>{var f;(f=this.conn)===null||f===void 0||f.send(c)})};this.log("push",`${n} ${i} (${o})`,s),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(z_,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ch.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const h=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",h)}catch(p){this.log("error","error in heartbeat callback",p)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:i,event:s,payload:o,ref:u}=n,c=u?`(${u})`:"",f=o.status||"";this.log("receive",`${f} ${i} ${s} ${c}`.trim(),o),this.channels.filter(h=>h._isMember(i)).forEach(h=>h._trigger(s,o,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Ll.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ll.open||this.conn.readyState===Ll.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ks.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const i=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${i}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const i=new Blob([V_],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,i=!1;if(e)n=e,i=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const o={access_token:n,version:I_};n&&s.updateJoinPayload(o),s.joinedOnce&&s._isJoined()&&s._push(ks.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new zb(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ch.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,i,s,o,u,c,f,h,p,y,b,g;switch(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(i=e?.timeout)!==null&&i!==void 0?i:j1,this.heartbeatIntervalMs=(s=e?.heartbeatIntervalMs)!==null&&s!==void 0?s:ch.HEARTBEAT_INTERVAL,this.worker=(o=e?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(u=e?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(c=e?.heartbeatCallback)!==null&&c!==void 0?c:$p,this.vsn=(f=e?.vsn)!==null&&f!==void 0?f:h5,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=e?.reconnectAfterMs)!==null&&h!==void 0?h:(S=>G_[S-1]||Y_),this.vsn){case M_:this.encode=(p=e?.encode)!==null&&p!==void 0?p:((S,E)=>E(JSON.stringify(S))),this.decode=(y=e?.decode)!==null&&y!==void 0?y:((S,E)=>E(JSON.parse(S)));break;case Mb:this.encode=(b=e?.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(g=e?.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var Kf=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function X_(t,e,n){const i=new URL(e,t);if(n)for(const[s,o]of Object.entries(n))o!==void 0&&i.searchParams.set(s,o);return i.toString()}async function J_(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function Q_(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:i,query:s,body:o,headers:u}){const c=X_(t.baseUrl,i,s),f=await J_(t.auth),h=await e(c,{method:n,headers:{...o?{"Content-Type":"application/json"}:{},...f,...u},body:o?JSON.stringify(o):void 0}),p=await h.text(),y=(h.headers.get("content-type")||"").includes("application/json"),b=y&&p?JSON.parse(p):p;if(!h.ok){const g=y?b:void 0,S=g?.error;throw new Kf(S?.message??`Request failed with status ${h.status}`,{status:h.status,icebergType:S?.type,icebergCode:S?.code,details:g})}return{status:h.status,headers:h.headers,data:b}}}}function fh(t){return t.join("")}var Z_=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:fh(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${fh(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${fh(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${fh(t.namespace)}`}),!0}catch(e){if(e instanceof Kf&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof Kf&&n.status===409)return;throw n}}};function wc(t){return t.join("")}var e6=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${wc(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${wc(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${wc(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${wc(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${wc(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${wc(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof Kf&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof Kf&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},t6=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=Q_({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new Z_(this.client,e),this.tableOps=new e6(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},c0=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function dr(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var n6=class extends c0{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},O1=class extends c0{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const hg=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),r6=()=>Response,D1=t=>{if(Array.isArray(t))return t.map(n=>D1(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,i])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[s]=D1(i)}),e},i6=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},a6=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Xf(t){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xf(t)}function s6(t,e){if(Xf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(Xf(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function o6(t){var e=s6(t,"string");return Xf(e)=="symbol"?e:e+""}function l6(t,e,n){return(e=o6(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function Ft(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y5(Object(n),!0).forEach(function(i){l6(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y5(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}const Wp=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},u6=async(t,e,n)=>{t instanceof await r6()&&!n?.noResolveJson?t.json().then(i=>{const s=t.status||500,o=i?.statusCode||s+"";e(new n6(Wp(i),s,o))}).catch(i=>{e(new O1(Wp(i),i))}):e(new O1(Wp(t),t))},c6=(t,e,n,i)=>{const s={method:t,headers:e?.headers||{}};return t==="GET"||!i?s:(i6(i)?(s.headers=Ft({"Content-Type":"application/json"},e?.headers),s.body=JSON.stringify(i)):s.body=i,e?.duplex&&(s.duplex=e.duplex),Ft(Ft({},s),n))};async function ud(t,e,n,i,s,o){return new Promise((u,c)=>{t(n,c6(e,i,s,o)).then(f=>{if(!f.ok)throw f;return i?.noResolveJson?f:f.json()}).then(f=>u(f)).catch(f=>u6(f,c,i))})}async function Jf(t,e,n,i){return ud(t,"GET",e,n,i)}async function Es(t,e,n,i,s){return ud(t,"POST",e,i,s,n)}async function I1(t,e,n,i,s){return ud(t,"PUT",e,i,s,n)}async function f6(t,e,n,i){return ud(t,"HEAD",e,Ft(Ft({},n),{},{noResolveJson:!0}),i)}async function pg(t,e,n,i,s){return ud(t,"DELETE",e,i,s,n)}var d6=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(dr(e))return{data:null,error:e};throw e}}};let Pb;Pb=Symbol.toStringTag;var h6=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[Pb]="BlobDownloadBuilder",this.promise=null}asStream(){return new d6(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(dr(e))return{data:null,error:e};throw e}}};const p6={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},b5={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var g6=class{constructor(t,e={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=hg(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,i){var s=this;try{let o;const u=Ft(Ft({},b5),i);let c=Ft(Ft({},s.headers),t==="POST"&&{"x-upsert":String(u.upsert)});const f=u.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",u.cacheControl),f&&o.append("metadata",s.encodeMetadata(f)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",u.cacheControl),f&&!o.has("metadata")&&o.append("metadata",s.encodeMetadata(f))):(o=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType,f&&(c["x-metadata"]=s.toBase64(s.encodeMetadata(f))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!u.duplex&&(u.duplex="half")),i?.headers&&(c=Ft(Ft({},c),i.headers));const h=s._removeEmptyFolders(e),p=s._getFinalPath(h),y=await(t=="PUT"?I1:Es)(s.fetch,`${s.url}/object/${p}`,o,Ft({headers:c},u?.duplex?{duplex:u.duplex}:{}));return{data:{path:h,id:y.Id,fullPath:y.Key},error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(dr(o))return{data:null,error:o};throw o}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,i){var s=this;const o=s._removeEmptyFolders(t),u=s._getFinalPath(o),c=new URL(s.url+`/object/upload/sign/${u}`);c.searchParams.set("token",e);try{let f;const h=Ft({upsert:b5.upsert},i),p=Ft(Ft({},s.headers),{"x-upsert":String(h.upsert)});return typeof Blob<"u"&&n instanceof Blob?(f=new FormData,f.append("cacheControl",h.cacheControl),f.append("",n)):typeof FormData<"u"&&n instanceof FormData?(f=n,f.append("cacheControl",h.cacheControl)):(f=n,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType),{data:{path:o,fullPath:(await I1(s.fetch,c.toString(),f,{headers:p})).Key},error:null}}catch(f){if(s.shouldThrowOnError)throw f;if(dr(f))return{data:null,error:f};throw f}}async createSignedUploadUrl(t,e){var n=this;try{let i=n._getFinalPath(t);const s=Ft({},n.headers);e?.upsert&&(s["x-upsert"]="true");const o=await Es(n.fetch,`${n.url}/object/upload/sign/${i}`,{},{headers:s}),u=new URL(n.url+o.url),c=u.searchParams.get("token");if(!c)throw new c0("No token returned by API");return{data:{signedUrl:u.toString(),path:t,token:c},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(dr(i))return{data:null,error:i};throw i}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var i=this;try{return{data:await Es(i.fetch,`${i.url}/object/move`,{bucketId:i.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:i.headers}),error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(dr(s))return{data:null,error:s};throw s}}async copy(t,e,n){var i=this;try{return{data:{path:(await Es(i.fetch,`${i.url}/object/copy`,{bucketId:i.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:i.headers})).Key},error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(dr(s))return{data:null,error:s};throw s}}async createSignedUrl(t,e,n){var i=this;try{let s=i._getFinalPath(t),o=await Es(i.fetch,`${i.url}/object/sign/${s}`,Ft({expiresIn:e},n?.transform?{transform:n.transform}:{}),{headers:i.headers});const u=n?.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${i.url}${o.signedURL}${u}`)},{data:o,error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(dr(s))return{data:null,error:s};throw s}}async createSignedUrls(t,e,n){var i=this;try{const s=await Es(i.fetch,`${i.url}/object/sign/${i.bucketId}`,{expiresIn:e,paths:t},{headers:i.headers}),o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(u=>Ft(Ft({},u),{},{signedUrl:u.signedURL?encodeURI(`${i.url}${u.signedURL}${o}`):null})),error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(dr(s))return{data:null,error:s};throw s}}download(t,e){const n=typeof e?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(e?.transform||{}),s=i?`?${i}`:"",o=this._getFinalPath(t),u=()=>Jf(this.fetch,`${this.url}/${n}/${o}${s}`,{headers:this.headers,noResolveJson:!0});return new h6(u,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:D1(await Jf(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(dr(i))return{data:null,error:i};throw i}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await f6(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(dr(i)&&i instanceof O1){const s=i.originalError;if([400,404].includes(s?.status))return{data:!1,error:i}}throw i}}getPublicUrl(t,e){const n=this._getFinalPath(t),i=[],s=e?.download?`download=${e.download===!0?"":e.download}`:"";s!==""&&i.push(s);const o=typeof e?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(e?.transform||{});u!==""&&i.push(u);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}async remove(t){var e=this;try{return{data:await pg(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(dr(n))return{data:null,error:n};throw n}}async list(t,e,n){var i=this;try{const s=Ft(Ft(Ft({},p6),e),{},{prefix:t||""});return{data:await Es(i.fetch,`${i.url}/object/list/${i.bucketId}`,s,{headers:i.headers},n),error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(dr(s))return{data:null,error:s};throw s}}async listV2(t,e){var n=this;try{const i=Ft({},t);return{data:await Es(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,i,{headers:n.headers},e),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(dr(i))return{data:null,error:i};throw i}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const qb="2.91.0",Fb={"X-Client-Info":`storage-js/${qb}`};var m6=class{constructor(t,e={},n,i){this.shouldThrowOnError=!1;const s=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Ft(Ft({},Fb),e),this.fetch=hg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await Jf(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(dr(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await Jf(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(dr(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await Es(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(dr(i))return{data:null,error:i};throw i}}async updateBucket(t,e){var n=this;try{return{data:await I1(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(dr(i))return{data:null,error:i};throw i}}async emptyBucket(t){var e=this;try{return{data:await Es(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(dr(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await pg(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(dr(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},y6=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Ft(Ft({},Fb),e),this.fetch=hg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Es(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(dr(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const i=n.toString(),s=i?`${e.url}/bucket?${i}`:`${e.url}/bucket`;return{data:await Jf(e.fetch,s,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(dr(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await pg(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(dr(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!a6(t))throw new c0("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new t6({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(n,{get(s,o){const u=s[o];return typeof u!="function"?u:async(...c)=>{try{return{data:await u.apply(s,c),error:null}}catch(f){if(i)throw f;return{data:null,error:f}}}}})}};const gg={"X-Client-Info":`storage-js/${qb}`,"Content-Type":"application/json"};var Hb=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Sa(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var Gp=class extends Hb{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},b6=class extends Hb{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const mg=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),v6=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},v5=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),w6=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!n?.noResolveJson){const i=t.status||500,s=t;if(typeof s.json=="function")s.json().then(o=>{const u=o?.statusCode||o?.code||i+"";e(new Gp(v5(o),i,u))}).catch(()=>{const o=i+"";e(new Gp(s.statusText||`HTTP ${i} error`,i,o))});else{const o=i+"";e(new Gp(s.statusText||`HTTP ${i} error`,i,o))}}else e(new b6(v5(t),t))},x6=(t,e,n,i)=>{const s={method:t,headers:e?.headers||{}};return i?(v6(i)?(s.headers=Ft({"Content-Type":"application/json"},e?.headers),s.body=JSON.stringify(i)):s.body=i,Ft(Ft({},s),n)):s};async function _6(t,e,n,i,s,o){return new Promise((u,c)=>{t(n,x6(e,i,s,o)).then(f=>{if(!f.ok)throw f;if(i?.noResolveJson)return f;const h=f.headers.get("content-type");return!h||!h.includes("application/json")?{}:f.json()}).then(f=>u(f)).catch(f=>w6(f,c,i))})}async function Aa(t,e,n,i,s){return _6(t,"POST",e,i,s,n)}var S6=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Ft(Ft({},gg),e),this.fetch=mg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await Aa(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Sa(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await Aa(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Sa(i))return{data:null,error:i};throw i}}async listIndexes(t){var e=this;try{return{data:await Aa(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Sa(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await Aa(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Sa(i))return{data:null,error:i};throw i}}},A6=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Ft(Ft({},gg),e),this.fetch=mg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Aa(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Sa(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await Aa(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Sa(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await Aa(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Sa(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await Aa(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Sa(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Aa(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Sa(n))return{data:null,error:n};throw n}}},E6=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Ft(Ft({},gg),e),this.fetch=mg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Aa(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Sa(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await Aa(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Sa(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await Aa(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Sa(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Aa(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Sa(n))return{data:null,error:n};throw n}}},k6=class extends E6{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new T6(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},T6=class extends S6{constructor(t,e,n,i){super(t,e,i),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,Ft(Ft({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,Ft(Ft({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new L6(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},L6=class extends A6{constructor(t,e,n,i,s){super(t,e,s),this.vectorBucketName=n,this.indexName=i}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,Ft(Ft({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,Ft(Ft({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,Ft(Ft({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,Ft(Ft({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,Ft(Ft({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},C6=class extends m6{constructor(t,e={},n,i){super(t,e,n,i)}from(t){return new g6(this.url,this.headers,t,this.fetch)}get vectors(){return new k6(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new y6(this.url+"/iceberg",this.headers,this.fetch)}};const $b="2.91.0",Nc=30*1e3,M1=3,Yp=M1*Nc,j6="http://localhost:9999",N6="supabase.auth.token",R6={"X-Client-Info":`gotrue-js/${$b}`},z1="X-Supabase-Api-Version",Wb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},O6=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,D6=600*1e3;class Qf extends Error{constructor(e,n,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function Rt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class I6 extends Qf{constructor(e,n,i){super(e,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function M6(t){return Rt(t)&&t.name==="AuthApiError"}class bu extends Qf{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Ho extends Qf{constructor(e,n,i,s){super(e,i,s),this.name=n,this.status=i}}class _a extends Ho{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function z6(t){return Rt(t)&&t.name==="AuthSessionMissingError"}class xc extends Ho{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class dh extends Ho{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class hh extends Ho{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function U6(t){return Rt(t)&&t.name==="AuthImplicitGrantRedirectError"}class w5 extends Ho{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class B6 extends Ho{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class U1 extends Ho{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Vp(t){return Rt(t)&&t.name==="AuthRetryableFetchError"}class x5 extends Ho{constructor(e,n,i){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class B1 extends Ho{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Bh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),_5=` 	
\r=`.split(""),P6=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<_5.length;e+=1)t[_5[e].charCodeAt(0)]=-2;for(let e=0;e<Bh.length;e+=1)t[Bh[e].charCodeAt(0)]=e;return t})();function S5(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(Bh[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(Bh[i]),e.queuedBits-=6}}function Gb(t,e,n){const i=P6[t];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function A5(t){const e=[],n=u=>{e.push(String.fromCodePoint(u))},i={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=u=>{H6(u,i,n)};for(let u=0;u<t.length;u+=1)Gb(t.charCodeAt(u),s,o);return e.join("")}function q6(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function F6(t,e){for(let n=0;n<t.length;n+=1){let i=t.charCodeAt(n);if(i>55295&&i<=56319){const s=(i-55296)*1024&65535;i=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}q6(i,e)}}function H6(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let i=1;i<6;i+=1)if((t>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Bc(t){const e=[],n={queue:0,queuedBits:0},i=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Gb(t.charCodeAt(s),n,i);return new Uint8Array(e)}function $6(t){const e=[];return F6(t,n=>e.push(n)),new Uint8Array(e)}function wu(t){const e=[],n={queue:0,queuedBits:0},i=s=>{e.push(s)};return t.forEach(s=>S5(s,n,i)),S5(null,n,i),e.join("")}function W6(t){return Math.round(Date.now()/1e3)+t}function G6(){return Symbol("auth-callback")}const yi=()=>typeof window<"u"&&typeof document<"u",hu={tested:!1,writable:!1},Yb=()=>{if(!yi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(hu.tested)return hu.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),hu.tested=!0,hu.writable=!0}catch{hu.tested=!0,hu.writable=!1}return hu.writable};function Y6(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{e[o]=s})}catch{}return n.searchParams.forEach((i,s)=>{e[s]=i}),e}const Vb=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),V6=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Rc=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},pu=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},mi=async(t,e)=>{await t.removeItem(e)};class f0{constructor(){this.promise=new f0.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}f0.promiseConstructor=Promise;function Kp(t){const e=t.split(".");if(e.length!==3)throw new B1("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!O6.test(e[i]))throw new B1("JWT not in base64url format");return{header:JSON.parse(A5(e[0])),payload:JSON.parse(A5(e[1])),signature:Bc(e[2]),raw:{header:e[0],payload:e[1]}}}async function K6(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function X6(t,e){return new Promise((i,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const u=await t(o);if(!e(o,null,u)){i(u);return}}catch(u){if(!e(o,u)){s(u);return}}})()})}function J6(t){return("0"+t.toString(16)).substr(-2)}function Q6(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*i));return s}return crypto.getRandomValues(e),Array.from(e,J6).join("")}async function Z6(t){const n=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(i);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function eS(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Z6(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function _c(t,e,n=!1){const i=Q6();let s=i;n&&(s+="/PASSWORD_RECOVERY"),await Rc(t,`${e}-code-verifier`,s);const o=await eS(i);return[o,i===o?"plain":"s256"]}const tS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function nS(t){const e=t.headers.get(z1);if(!e||!e.match(tS))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function rS(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function iS(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const aS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Sc(t){if(!aS.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Xp(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function sS(t,e){return new Proxy(t,{get:(n,i,s)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const o=i.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,i,s)}return!e.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,i,s)}})}function E5(t){return JSON.parse(JSON.stringify(t))}const gu=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),oS=[502,503,504];async function k5(t){var e;if(!V6(t))throw new U1(gu(t),0);if(oS.includes(t.status))throw new U1(gu(t),t.status);let n;try{n=await t.json()}catch(o){throw new bu(gu(o),o)}let i;const s=nS(t);if(s&&s.getTime()>=Wb["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new x5(gu(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new _a}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,u)=>o&&typeof u=="string",!0))throw new x5(gu(n),t.status,n.weak_password.reasons);throw new I6(gu(n),t.status||500,i)}const lS=(t,e,n,i)=>{const s={method:t,headers:e?.headers||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),s.body=JSON.stringify(i),Object.assign(Object.assign({},s),n))};async function qt(t,e,n,i){var s;const o=Object.assign({},i?.headers);o[z1]||(o[z1]=Wb["2024-01-01"].name),i?.jwt&&(o.Authorization=`Bearer ${i.jwt}`);const u=(s=i?.query)!==null&&s!==void 0?s:{};i?.redirectTo&&(u.redirect_to=i.redirectTo);const c=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",f=await uS(t,e,n+c,{headers:o,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(f):{data:Object.assign({},f),error:null}}async function uS(t,e,n,i,s,o){const u=lS(e,i,s,o);let c;try{c=await t(n,Object.assign({},u))}catch(f){throw console.error(f),new U1(gu(f),0)}if(c.ok||await k5(c),i?.noResolveJson)return c;try{return await c.json()}catch(f){await k5(f)}}function Ss(t){var e;let n=null;dS(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=W6(t.expires_in)));const i=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:i},error:null}}function T5(t){const e=Ss(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Nl(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function cS(t){return{data:t,error:null}}function fS(t){const{action_link:e,email_otp:n,hashed_token:i,redirect_to:s,verification_type:o}=t,u=u0(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:n,hashed_token:i,redirect_to:s,verification_type:o},f=Object.assign({},u);return{data:{properties:c,user:f},error:null}}function L5(t){return t}function dS(t){return t.access_token&&t.refresh_token&&t.expires_in}const Jp=["global","local","others"];class hS{constructor({url:e="",headers:n={},fetch:i}){this.url=e,this.headers=n,this.fetch=Vb(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Jp[0]){if(Jp.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Jp.join(", ")}`);try{return await qt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Rt(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,n={}){try{return await qt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Nl})}catch(i){if(Rt(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:n}=e,i=u0(e,["options"]),s=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(s.new_email=i?.newEmail,delete s.newEmail),await qt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:fS,redirectTo:n?.redirectTo})}catch(n){if(Rt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await qt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Nl})}catch(n){if(Rt(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,i,s,o,u,c,f;try{const h={nextPage:null,lastPage:0,total:0},p=await qt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(o=(s=e?.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:L5});if(p.error)throw p.error;const y=await p.json(),b=(u=p.headers.get("x-total-count"))!==null&&u!==void 0?u:0,g=(f=(c=p.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&f!==void 0?f:[];return g.length>0&&(g.forEach(S=>{const E=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(S.split(";")[1].split("=")[1]);h[`${k}Page`]=E}),h.total=parseInt(b)),{data:Object.assign(Object.assign({},y),h),error:null}}catch(h){if(Rt(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){Sc(e);try{return await qt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Nl})}catch(n){if(Rt(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Sc(e);try{return await qt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Nl})}catch(i){if(Rt(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,n=!1){Sc(e);try{return await qt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Nl})}catch(i){if(Rt(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){Sc(e.userId);try{const{data:n,error:i}=await qt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:i}}catch(n){if(Rt(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Sc(e.userId),Sc(e.id);try{return{data:await qt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Rt(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,i,s,o,u,c,f;try{const h={nextPage:null,lastPage:0,total:0},p=await qt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(o=(s=e?.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:L5});if(p.error)throw p.error;const y=await p.json(),b=(u=p.headers.get("x-total-count"))!==null&&u!==void 0?u:0,g=(f=(c=p.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&f!==void 0?f:[];return g.length>0&&(g.forEach(S=>{const E=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(S.split(";")[1].split("=")[1]);h[`${k}Page`]=E}),h.total=parseInt(b)),{data:Object.assign(Object.assign({},y),h),error:null}}catch(h){if(Rt(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(e){try{return await qt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Rt(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await qt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Rt(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await qt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(Rt(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(e){try{return await qt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Rt(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await qt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Rt(n))return{data:null,error:n};throw n}}}function C5(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Ac={debug:!!(globalThis&&Yb()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Kb extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class pS extends Kb{}async function gS(t,e,n){Ac.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),Ac.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async s=>{if(s){Ac.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{Ac.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Ac.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new pS(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ac.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function mS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Xb(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function yS(t){return parseInt(t,16)}function bS(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function vS(t){var e;const{chainId:n,domain:i,expirationTime:s,issuedAt:o=new Date,nonce:u,notBefore:c,requestId:f,resources:h,scheme:p,uri:y,version:b}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const g=Xb(t.address),S=p?`${p}://${i}`:i,E=t.statement?`${t.statement}
`:"",k=`${S} wants you to sign in with your Ethereum account:
${g}

${E}`;let T=`URI: ${y}
Version: ${b}
Chain ID: ${n}${u?`
Nonce: ${u}`:""}
Issued At: ${o.toISOString()}`;if(s&&(T+=`
Expiration Time: ${s.toISOString()}`),c&&(T+=`
Not Before: ${c.toISOString()}`),f&&(T+=`
Request ID: ${f}`),h){let z=`
Resources:`;for(const B of h){if(!B||typeof B!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${B}`);z+=`
- ${B}`}T+=z}return`${k}
${T}`}class Ur extends Error{constructor({message:e,code:n,cause:i,name:s}){var o;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(o=s??(i instanceof Error?i.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class Ph extends Ur{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function wS({error:t,options:e}){var n,i,s;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ur({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Ur({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Ur({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Ur({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Ur({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Ur({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new Ur({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Ur({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const u=window.location.hostname;if(Jb(u)){if(o.rp.id!==u)return new Ur({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ur({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Ur({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Ur({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ur({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function xS({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ur({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Ur({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const i=window.location.hostname;if(Jb(i)){if(n.rpId!==i)return new Ur({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ur({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Ur({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ur({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class _S{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const SS=new _S;function AS(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:i}=t,s=u0(t,["challenge","user","excludeCredentials"]),o=Bc(e).buffer,u=Object.assign(Object.assign({},n),{id:Bc(n.id).buffer}),c=Object.assign(Object.assign({},s),{challenge:o,user:u});if(i&&i.length>0){c.excludeCredentials=new Array(i.length);for(let f=0;f<i.length;f++){const h=i[f];c.excludeCredentials[f]=Object.assign(Object.assign({},h),{id:Bc(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return c}function ES(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,i=u0(t,["challenge","allowCredentials"]),s=Bc(e).buffer,o=Object.assign(Object.assign({},i),{challenge:s});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const c=n[u];o.allowCredentials[u]=Object.assign(Object.assign({},c),{id:Bc(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return o}function kS(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:wu(new Uint8Array(t.response.attestationObject)),clientDataJSON:wu(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function TS(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,i=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:wu(new Uint8Array(s.authenticatorData)),clientDataJSON:wu(new Uint8Array(s.clientDataJSON)),signature:wu(new Uint8Array(s.signature)),userHandle:s.userHandle?wu(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Jb(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function j5(){var t,e;return!!(yi()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function LS(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ph("Browser returned unexpected credential type",e)}:{data:null,error:new Ph("Empty credential response",e)}}catch(e){return{data:null,error:wS({error:e,options:t})}}}async function CS(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ph("Browser returned unexpected credential type",e)}:{data:null,error:new Ph("Empty credential response",e)}}catch(e){return{data:null,error:xS({error:e,options:t})}}}const jS={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},NS={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function qh(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),i={};for(const s of t)if(s)for(const o in s){const u=s[o];if(u!==void 0)if(Array.isArray(u))i[o]=u;else if(n(u))i[o]=u;else if(e(u)){const c=i[o];e(c)?i[o]=qh(c,u):i[o]=qh(u)}else i[o]=u}return i}function RS(t,e){return qh(jS,t,e||{})}function OS(t,e){return qh(NS,t,e||{})}class DS{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:i,signal:s},o){try{const{data:u,error:c}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!u)return{data:null,error:c};const f=s??SS.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:h}=u.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${i}`),h.displayName||(h.displayName=h.name)}switch(u.webauthn.type){case"create":{const h=RS(u.webauthn.credential_options.publicKey,o?.create),{data:p,error:y}=await LS({publicKey:h,signal:f});return p?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:p}},error:null}:{data:null,error:y}}case"request":{const h=OS(u.webauthn.credential_options.publicKey,o?.request),{data:p,error:y}=await CS(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:h,signal:f}));return p?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:p}},error:null}:{data:null,error:y}}}}catch(u){return Rt(u)?{data:null,error:u}:{data:null,error:new bu("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:n,webauthn:i}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!n)return{data:null,error:new Qf("rpId is required for WebAuthn authentication")};try{if(!j5())return{data:null,error:new bu("Browser does not support WebAuthn",null)};const{data:u,error:c}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:i},signal:s},{request:o});if(!u)return{data:null,error:c};const{webauthn:f}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:f.type,rpId:n,rpOrigins:i,credential_response:f.credential_response}})}catch(u){return Rt(u)?{data:null,error:u}:{data:null,error:new bu("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!n)return{data:null,error:new Qf("rpId is required for WebAuthn registration")};try{if(!j5())return{data:null,error:new bu("Browser does not support WebAuthn",null)};const{data:u,error:c}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(p=>{var y;return(y=p.data)===null||y===void 0?void 0:y.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===e&&b.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p?.id}):void 0),{data:null,error:c};const{data:f,error:h}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:n,rpOrigins:i},signal:s},{create:o});return f?this._verify({factorId:u.id,challengeId:f.challengeId,webauthn:{rpId:n,rpOrigins:i,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:h}}catch(u){return Rt(u)?{data:null,error:u}:{data:null,error:new bu("Unexpected error in register",u)}}}}mS();const IS={url:j6,storageKey:N6,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:R6,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function N5(t,e,n){return await n()}const Ec={};class Zf{get jwks(){var e,n;return(n=(e=Ec[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Ec[this.storageKey]=Object.assign(Object.assign({},Ec[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Ec[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ec[this.storageKey]=Object.assign(Object.assign({},Ec[this.storageKey]),{cachedAt:e})}constructor(e){var n,i,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},IS),e);if(this.storageKey=o.storageKey,this.instanceID=(n=Zf.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Zf.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&yi()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new hS({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Vb(o.fetch),this.lock=o.lock||N5,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,this.lockAcquireTimeout=o.lockAcquireTimeout,o.lock?this.lock=o.lock:this.persistSession&&yi()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=gS:this.lock=N5,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new DS(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:Yb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=C5(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=C5(this.memoryStorage)),yi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${$b}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},i="none";if(yi()&&(n=Y6(window.location.href),this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce")),yi()&&this.detectSessionInUrl&&i!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,i);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),U6(o)){const f=(e=o.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:o}}return{error:o}}const{session:u,redirectType:c}=s;return this._debug("#_initialize()","detected session in URL",u,"redirect type",c),await this._saveSession(u),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Rt(n)?this._returnResult({error:n}):this._returnResult({error:new bu("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,i,s;try{const o=await qt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(s=e?.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ss}),{data:u,error:c}=o;if(c||!u)return this._returnResult({data:{user:null,session:null},error:c});const f=u.session,h=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(o){if(Rt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var n,i,s;try{let o;if("email"in e){const{email:p,password:y,options:b}=e;let g=null,S=null;this.flowType==="pkce"&&([g,S]=await _c(this.storage,this.storageKey)),o=await qt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b?.emailRedirectTo,body:{email:p,password:y,data:(n=b?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:g,code_challenge_method:S},xform:Ss})}else if("phone"in e){const{phone:p,password:y,options:b}=e;o=await qt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:y,data:(i=b?.data)!==null&&i!==void 0?i:{},channel:(s=b?.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:Ss})}else throw new dh("You must provide either an email or phone number and a password");const{data:u,error:c}=o;if(c||!u)return await mi(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});const f=u.session,h=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(o){if(await mi(this.storage,`${this.storageKey}-code-verifier`),Rt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let n;if("email"in e){const{email:o,password:u,options:c}=e;n=await qt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:u,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:T5})}else if("phone"in e){const{phone:o,password:u,options:c}=e;n=await qt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:u,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:T5})}else throw new dh("You must provide either an email or phone number and a password");const{data:i,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!i||!i.session||!i.user){const o=new xc;return this._returnResult({data:{user:null,session:null},error:o})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:s})}catch(n){if(Rt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,i,s,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,i,s,o,u,c,f,h,p,y,b;let g,S;if("message"in e)g=e.message,S=e.signature;else{const{chain:E,wallet:k,statement:T,options:z}=e;let B;if(yi())if(typeof k=="object")B=k;else{const L=window;if("ethereum"in L&&typeof L.ethereum=="object"&&"request"in L.ethereum&&typeof L.ethereum.request=="function")B=L.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!z?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=k}const D=new URL((n=z?.url)!==null&&n!==void 0?n:window.location.href),ne=await B.request({method:"eth_requestAccounts"}).then(L=>L).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ne||ne.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const H=Xb(ne[0]);let te=(i=z?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!te){const L=await B.request({method:"eth_chainId"});te=yS(L)}const I={domain:D.host,address:H,statement:T,uri:D.href,version:"1",chainId:te,nonce:(s=z?.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(u=(o=z?.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(c=z?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(f=z?.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(h=z?.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(p=z?.signInWithEthereum)===null||p===void 0?void 0:p.resources};g=vS(I),S=await B.request({method:"personal_sign",params:[bS(g),H]})}try{const{data:E,error:k}=await qt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:S},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Ss});if(k)throw k;if(!E||!E.session||!E.user){const T=new xc;return this._returnResult({data:{user:null,session:null},error:T})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:k})}catch(E){if(Rt(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(e){var n,i,s,o,u,c,f,h,p,y,b,g;let S,E;if("message"in e)S=e.message,E=e.signature;else{const{chain:k,wallet:T,statement:z,options:B}=e;let D;if(yi())if(typeof T=="object")D=T;else{const H=window;if("solana"in H&&typeof H.solana=="object"&&("signIn"in H.solana&&typeof H.solana.signIn=="function"||"signMessage"in H.solana&&typeof H.solana.signMessage=="function"))D=H.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!B?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=T}const ne=new URL((n=B?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in D&&D.signIn){const H=await D.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},B?.signInWithSolana),{version:"1",domain:ne.host,uri:ne.href}),z?{statement:z}:null));let te;if(Array.isArray(H)&&H[0]&&typeof H[0]=="object")te=H[0];else if(H&&typeof H=="object"&&"signedMessage"in H&&"signature"in H)te=H;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in te&&"signature"in te&&(typeof te.signedMessage=="string"||te.signedMessage instanceof Uint8Array)&&te.signature instanceof Uint8Array)S=typeof te.signedMessage=="string"?te.signedMessage:new TextDecoder().decode(te.signedMessage),E=te.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in D)||typeof D.signMessage!="function"||!("publicKey"in D)||typeof D!="object"||!D.publicKey||!("toBase58"in D.publicKey)||typeof D.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${ne.host} wants you to sign in with your Solana account:`,D.publicKey.toBase58(),...z?["",z,""]:[""],"Version: 1",`URI: ${ne.href}`,`Issued At: ${(s=(i=B?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=B?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${B.signInWithSolana.notBefore}`]:[],...!((u=B?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${B.signInWithSolana.expirationTime}`]:[],...!((c=B?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${B.signInWithSolana.chainId}`]:[],...!((f=B?.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${B.signInWithSolana.nonce}`]:[],...!((h=B?.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${B.signInWithSolana.requestId}`]:[],...!((y=(p=B?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||y===void 0)&&y.length?["Resources",...B.signInWithSolana.resources.map(te=>`- ${te}`)]:[]].join(`
`);const H=await D.signMessage(new TextEncoder().encode(S),"utf8");if(!H||!(H instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=H}}try{const{data:k,error:T}=await qt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:wu(E)},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Ss});if(T)throw T;if(!k||!k.session||!k.user){const z=new xc;return this._returnResult({data:{user:null,session:null},error:z})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:T})}catch(k){if(Rt(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async _exchangeCodeForSession(e){const n=await pu(this.storage,`${this.storageKey}-code-verifier`),[i,s]=(n??"").split("/");try{if(!i&&this.flowType==="pkce")throw new B6;const{data:o,error:u}=await qt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:Ss});if(await mi(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!o||!o.session||!o.user){const c=new xc;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return o.session&&(await this._saveSession(o.session),setTimeout(async()=>{await this._notifyAllSubscribers("SIGNED_IN",o.session)},0)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:u})}catch(o){if(await mi(this.storage,`${this.storageKey}-code-verifier`),Rt(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:n,provider:i,token:s,access_token:o,nonce:u}=e,c=await qt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:s,access_token:o,nonce:u,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Ss}),{data:f,error:h}=c;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!f||!f.session||!f.user){const p=new xc;return this._returnResult({data:{user:null,session:null},error:p})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:h})}catch(n){if(Rt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,i,s,o,u;try{if("email"in e){const{email:c,options:f}=e;let h=null,p=null;this.flowType==="pkce"&&([h,p]=await _c(this.storage,this.storageKey));const{error:y}=await qt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=f?.data)!==null&&n!==void 0?n:{},create_user:(i=f?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:h,code_challenge_method:p},redirectTo:f?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:y})}if("phone"in e){const{phone:c,options:f}=e,{data:h,error:p}=await qt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(s=f?.data)!==null&&s!==void 0?s:{},create_user:(o=f?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},channel:(u=f?.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:p})}throw new dh("You must provide either an email or phone number.")}catch(c){if(await mi(this.storage,`${this.storageKey}-code-verifier`),Rt(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(e){var n,i;try{let s,o;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,o=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:u,error:c}=await qt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Ss});if(c)throw c;if(!u)throw new Error("An error occurred on token verification.");const f=u.session,h=u.user;return f?.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(s){if(Rt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var n,i,s,o,u;try{let c=null,f=null;this.flowType==="pkce"&&([c,f]=await _c(this.storage,this.storageKey));const h=await qt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((s=e?.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:f}),headers:this.headers,xform:cS});return!((o=h.data)===null||o===void 0)&&o.url&&yi()&&!(!((u=e.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(h.data.url),this._returnResult(h)}catch(c){if(await mi(this.storage,`${this.storageKey}-code-verifier`),Rt(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:i}=e;if(i)throw i;if(!n)throw new _a;const{error:s}=await qt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(Rt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:i,type:s,options:o}=e,{error:u}=await qt(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:s,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:i,type:s,options:o}=e,{data:u,error:c}=await qt(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:s,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:c})}throw new dh("You must provide either an email or phone number and a type")}catch(n){if(Rt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await pu(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<Yp:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const u=await pu(this.userStorage,this.storageKey+"-user");u?.user?e.user=u.user:e.user=Xp()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=sS(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await qt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Nl}):await this._useSession(async n=>{var i,s,o;const{data:u,error:c}=n;if(c)throw c;return!(!((i=u.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new _a}:await qt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=u.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Nl})})}catch(n){if(Rt(n))return z6(n)&&(await this._removeSession(),await mi(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async i=>{const{data:s,error:o}=i;if(o)throw o;if(!s.session)throw new _a;const u=s.session;let c=null,f=null;this.flowType==="pkce"&&e.email!=null&&([c,f]=await _c(this.storage,this.storageKey));const{data:h,error:p}=await qt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:f}),jwt:u.access_token,xform:Nl});if(p)throw p;return u.user=h.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(i){if(await mi(this.storage,`${this.storageKey}-code-verifier`),Rt(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new _a;const n=Date.now()/1e3;let i=n,s=!0,o=null;const{payload:u}=Kp(e.access_token);if(u.exp&&(i=u.exp,s=i<=n),s){const{data:c,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!c)return{data:{user:null,session:null},error:null};o=c}else{const{data:c,error:f}=await this._getUser(e.access_token);if(f)throw f;o={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(Rt(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var i;if(!e){const{data:u,error:c}=n;if(c)throw c;e=(i=u.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new _a;const{data:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Rt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!yi())throw new hh("No browser detected.");if(e.error||e.error_description||e.error_code)throw new hh(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new w5("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new hh("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new w5("No code detected.");const{data:z,error:B}=await this._exchangeCodeForSession(e.code);if(B)throw B;const D=new URL(window.location.href);return D.searchParams.delete("code"),window.history.replaceState(window.history.state,"",D.toString()),{data:{session:z.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:s,access_token:o,refresh_token:u,expires_in:c,expires_at:f,token_type:h}=e;if(!o||!c||!u||!h)throw new hh("No session defined in URL");const p=Math.round(Date.now()/1e3),y=parseInt(c);let b=p+y;f&&(b=parseInt(f));const g=b-p;g*1e3<=Nc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${y}s`);const S=b-y;p-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,b,p):p-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,b,p);const{data:E,error:k}=await this._getUser(o);if(k)throw k;const T={provider_token:i,provider_refresh_token:s,access_token:o,expires_in:y,expires_at:b,refresh_token:u,token_type:h,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:T,redirectType:e.type},error:null})}catch(i){if(Rt(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await pu(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:s,error:o}=n;if(o)return this._returnResult({error:o});const u=(i=s.session)===null||i===void 0?void 0:i.access_token;if(u){const{error:c}=await this.admin.signOut(u,e);if(c&&!(M6(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return e!=="others"&&(await this._removeSession(),await mi(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=G6(),i={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async n=>{var i,s;try{const{data:{session:o},error:u}=n;if(u)throw u;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,n={}){let i=null,s=null;this.flowType==="pkce"&&([i,s]=await _c(this.storage,this.storageKey,!0));try{return await qt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(await mi(this.storage,`${this.storageKey}-code-verifier`),Rt(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(Rt(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:i,error:s}=await this._useSession(async o=>{var u,c,f,h,p;const{data:y,error:b}=o;if(b)throw b;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await qt(this.fetch,"GET",g,{headers:this.headers,jwt:(p=(h=y.session)===null||h===void 0?void 0:h.access_token)!==null&&p!==void 0?p:void 0})});if(s)throw s;return yi()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:e.provider,url:i?.url},error:null})}catch(i){if(Rt(i))return this._returnResult({data:{provider:e.provider,url:null},error:i});throw i}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var i;try{const{error:s,data:{session:o}}=n;if(s)throw s;const{options:u,provider:c,token:f,access_token:h,nonce:p}=e,y=await qt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=o?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:c,id_token:f,access_token:h,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:Ss}),{data:b,error:g}=y;return g?this._returnResult({data:{user:null,session:null},error:g}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new xc}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:g}))}catch(s){if(await mi(this.storage,`${this.storageKey}-code-verifier`),Rt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var i,s;const{data:o,error:u}=n;if(u)throw u;return await qt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Rt(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await X6(async s=>(s>0&&await K6(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await qt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ss})),(s,o)=>{const u=200*Math.pow(2,s);return o&&Vp(o)&&Date.now()+u-i<Nc})}catch(i){if(this._debug(n,"error",i),Rt(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",i),yi()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,n;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const s=await pu(this.storage,this.storageKey);if(s&&this.userStorage){let u=await pu(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:s.user},await Rc(this.userStorage,this.storageKey+"-user",u)),s.user=(e=u?.user)!==null&&e!==void 0?e:Xp()}else if(s&&!s.user&&!s.user){const u=await pu(this.storage,this.storageKey+"-user");u&&u?.user?(s.user=u.user,await mi(this.storage,this.storageKey+"-user"),await Rc(this.storage,this.storageKey,s)):s.user=Xp()}if(this._debug(i,"session from storage",s),!this._isValidSession(s)){this._debug(i,"session is not valid"),s!==null&&await this._removeSession();return}const o=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Yp;if(this._debug(i,`session has${o?"":" not"} expired with margin of ${Yp}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:u}=await this._callRefreshToken(s.refresh_token);u&&(console.error(u),Vp(u)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:c}=await this._getUser(s.access_token);!c&&u?.user?(s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(i,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(i,"error",s),console.error(s);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var n,i;if(!e)throw new _a;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new f0;const{data:o,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!o.session)throw new _a;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const c={data:o.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(o){if(this._debug(s,"error",o),Rt(o)){const u={data:null,error:o};return Vp(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,i=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:n});const o=[],u=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,n)}catch(f){o.push(f)}});if(await Promise.all(u),o.length>0){for(let c=0;c<o.length;c+=1)console.error(o[c]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await mi(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),i=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&n.user&&await Rc(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const o=E5(s);await Rc(this.storage,this.storageKey,o)}else{const s=E5(n);await Rc(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await mi(this.storage,this.storageKey),await mi(this.storage,this.storageKey+"-code-verifier"),await mi(this.storage,this.storageKey+"-user"),this.userStorage&&await mi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&yi()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Nc);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((i.expires_at*1e3-e)/Nc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Nc}ms, refresh threshold is ${M1} ticks`),s<=M1&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Kb)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!yi()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,i){const s=[`provider=${encodeURIComponent(n)}`];if(i?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&s.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[o,u]=await _c(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(u)}`});s.push(c.toString())}if(i?.queryParams){const o=new URLSearchParams(i.queryParams);s.push(o.toString())}return i?.skipBrowserRedirect&&s.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var i;const{data:s,error:o}=n;return o?this._returnResult({data:null,error:o}):await qt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(Rt(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var i,s;const{data:o,error:u}=n;if(u)return this._returnResult({data:null,error:u});const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:f,error:h}=await qt(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return h?this._returnResult({data:null,error:h}):(e.factorType==="totp"&&f.type==="totp"&&(!((s=f?.totp)===null||s===void 0)&&s.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(n){if(Rt(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var i;const{data:s,error:o}=n;if(o)return this._returnResult({data:null,error:o});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?kS(e.webauthn.credential_response):TS(e.webauthn.credential_response)})}:{code:e.code}),{data:c,error:f}=await qt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:f}))})}catch(n){if(Rt(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var i;const{data:s,error:o}=n;if(o)return this._returnResult({data:null,error:o});const u=await qt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});if(u.error)return u;const{data:c}=u;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:AS(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:ES(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Rt(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:i}=await this._challenge({factorId:e.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:i}=await this.getUser();if(i)return{data:null,error:i};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=n?.factors)!==null&&e!==void 0?e:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:i},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Kp(i.access_token);let u=null;o.aal&&(u=o.aal);let c=u;((n=(e=i.user.factors)===null||e===void 0?void 0:e.filter(p=>p.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const h=o.amr||[];return{data:{currentLevel:u,nextLevel:c,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;return s?this._returnResult({data:null,error:s}):i?await qt(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:i.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new _a})})}catch(n){if(Rt(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async i=>{const{data:{session:s},error:o}=i;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new _a});const u=await qt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return u.data&&u.data.redirect_url&&yi()&&!n?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(i){if(Rt(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(e,n){try{return await this._useSession(async i=>{const{data:{session:s},error:o}=i;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new _a});const u=await qt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return u.data&&u.data.redirect_url&&yi()&&!n?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(i){if(Rt(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:i}=e;return i?this._returnResult({data:null,error:i}):n?await qt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new _a})})}catch(e){if(Rt(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;return s?this._returnResult({data:null,error:s}):i?(await qt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new _a})})}catch(n){if(Rt(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let i=n.keys.find(c=>c.kid===e);if(i)return i;const s=Date.now();if(i=this.jwks.keys.find(c=>c.kid===e),i&&this.jwks_cached_at+D6>s)return i;const{data:o,error:u}=await qt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,i=o.keys.find(c=>c.kid===e),!i)?null:i}async getClaims(e,n={}){try{let i=e;if(!i){const{data:g,error:S}=await this.getSession();if(S||!g.session)return this._returnResult({data:null,error:S});i=g.session.access_token}const{header:s,payload:o,signature:u,raw:{header:c,payload:f}}=Kp(i);n?.allowExpired||rS(o.exp);const h=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!h){const{error:g}=await this.getUser(i);if(g)throw g;return{data:{claims:o,header:s,signature:u},error:null}}const p=iS(s.alg),y=await crypto.subtle.importKey("jwk",h,p,!0,["verify"]);if(!await crypto.subtle.verify(p,y,u,$6(`${c}.${f}`)))throw new B1("Invalid JWT signature");return{data:{claims:o,header:s,signature:u},error:null}}catch(i){if(Rt(i))return this._returnResult({data:null,error:i});throw i}}}Zf.nextInstanceID={};const MS=Zf,zS="2.91.0";let Pf="";typeof Deno<"u"?Pf="deno":typeof document<"u"?Pf="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Pf="react-native":Pf="node";const US={"X-Client-Info":`supabase-js-${Pf}/${zS}`},BS={headers:US},PS={schema:"public"},qS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},FS={};function ed(t){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ed(t)}function HS(t,e){if(ed(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(ed(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $S(t){var e=HS(t,"string");return ed(e)=="symbol"?e:e+""}function WS(t,e,n){return(e=$S(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function Sr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R5(Object(n),!0).forEach(function(i){WS(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R5(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}const GS=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),YS=()=>Headers,VS=(t,e,n)=>{const i=GS(n),s=YS();return async(o,u)=>{var c;const f=(c=await e())!==null&&c!==void 0?c:t;let h=new s(u?.headers);return h.has("apikey")||h.set("apikey",t),h.has("Authorization")||h.set("Authorization",`Bearer ${f}`),i(o,Sr(Sr({},u),{},{headers:h}))}};function KS(t){return t.endsWith("/")?t:t+"/"}function XS(t,e){var n,i;const{db:s,auth:o,realtime:u,global:c}=t,{db:f,auth:h,realtime:p,global:y}=e,b={db:Sr(Sr({},f),s),auth:Sr(Sr({},h),o),realtime:Sr(Sr({},p),u),storage:{},global:Sr(Sr(Sr({},y),c),{},{headers:Sr(Sr({},(n=y?.headers)!==null&&n!==void 0?n:{}),(i=c?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return t.accessToken?b.accessToken=t.accessToken:delete b.accessToken,b}function JS(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(KS(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var QS=class extends MS{constructor(t){super(t)}},ZS=class{constructor(t,e,n){var i,s;this.supabaseUrl=t,this.supabaseKey=e;const o=JS(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const u=`sb-${o.hostname.split(".")[0]}-auth-token`,c={db:PS,realtime:FS,auth:Sr(Sr({},qS),{},{storageKey:u}),global:BS},f=XS(n??{},c);if(this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=f.global.headers)!==null&&s!==void 0?s:{},f.accessToken)this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(p,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}});else{var h;this.auth=this._initSupabaseAuthClient((h=f.auth)!==null&&h!==void 0?h:{},this.headers,f.global.fetch)}this.fetch=VS(e,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Sr({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new R_(new URL("rest/v1",o).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new C6(this.storageUrl.href,this.headers,this.fetch,n?.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new T_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:i}=await t.auth.getSession();return(e=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:i,userStorage:s,storageKey:o,flowType:u,lock:c,debug:f,throwOnError:h},p,y){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new QS({url:this.authUrl.href,headers:Sr(Sr({},b),p),storageKey:o,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:i,userStorage:s,flowType:u,lock:c,debug:f,throwOnError:h,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new K_(this.realtimeUrl.href,Sr(Sr({},t),{},{params:Sr(Sr({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const e8=(t,e,n)=>new ZS(t,e,n);function t8(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}t8()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const n8="https://kdfjtgbxxbuowbrvirwb.supabase.co",r8="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtkZmp0Z2J4eGJ1b3dicnZpcndiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjgyNDkyOTUsImV4cCI6MjA4MzgyNTI5NX0.__Dpbm0TewjsOdCHVCn0ncnLNNHNN2O-G4hf91Nmzd4",ht=e8(n8,r8);function i8(t){const[e,n]=W.useState(null),[i,s]=W.useState(!0),[o,u]=W.useState(null);return W.useEffect(()=>{(async()=>{try{s(!0),u(null);const{data:f,error:h}=await ht.from("businesses").select("*").eq("id",t).single();if(h)throw h;n(f)}catch(f){u(f.message),console.error("Business fetch error:",f)}finally{s(!1)}})()},[t]),{business:e,loading:i,error:o}}function yg(t){const[e,n]=W.useState([]),[i,s]=W.useState(!0),[o,u]=W.useState(null);return W.useEffect(()=>{if(!t){s(!1);return}(async()=>{try{s(!0),u(null);const{data:f,error:h}=await ht.from("categories").select("*").eq("business_id",t).eq("is_active",!0).order("order_index",{ascending:!0});if(h)throw h;n(f||[])}catch(f){u(f.message),console.error("Categories fetch error:",f)}finally{s(!1)}})()},[t]),{categories:e,loading:i,error:o}}function bg(t,e=null){const[n,i]=W.useState([]),[s,o]=W.useState(!0),[u,c]=W.useState(null);return W.useEffect(()=>{if(!t){o(!1);return}(async()=>{try{o(!0),c(null);let h=ht.from("products").select("*, categories(name)").eq("business_id",t);e&&(h=h.eq("category_id",e));const{data:p,error:y}=await h.order("order_index",{ascending:!0}).order("created_at",{ascending:!0});if(y)throw y;const b=(p||[]).sort((g,S)=>g.is_active!==S.is_active?g.is_active?-1:1:(g.order_index||0)-(S.order_index||0));i(b)}catch(h){c(h.message),console.error("Products fetch error:",h)}finally{o(!1)}})()},[t,e]),{products:n,loading:s,error:u}}function Ga({message:t="Ykleniyor..."}){return _.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2rem",gap:"1rem"},children:[_.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid #f3f3f3",borderTop:"4px solid #007bff",borderRadius:"50%",animation:"spin 1s linear infinite"}}),_.jsx("p",{style:{color:"#666",margin:0},children:t}),_.jsx("style",{children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `})]})}function Qb({categories:t,isMobile:e}){const[n,i]=W.useState(!1),s=o=>{i(!1),setTimeout(()=>{const u=document.getElementById(`category-${o}`);u?(u.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"}),setTimeout(()=>{const c=u.getBoundingClientRect(),f=window.pageYOffset||document.documentElement.scrollTop,y=c.top+f-120;Math.abs(window.pageYOffset-y)>10&&window.scrollTo({top:y,behavior:"smooth"})},100)):console.warn(`Category element not found: category-${o}`)},150)};return _.jsxs(_.Fragment,{children:[_.jsx("button",{onClick:()=>i(!n),style:{position:"fixed",top:"1rem",right:"1rem",zIndex:1001,background:"#ffffff",color:"#1a1a1a",border:"1px solid #e5e7eb",borderRadius:"10px",padding:"0.75rem",cursor:"pointer",fontSize:"1.5rem",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",transition:"all 0.2s ease",width:"48px",height:"48px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"600"},onMouseEnter:o=>{o.currentTarget.style.background="#f9fafb",o.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.15)"},onMouseLeave:o=>{o.currentTarget.style.background="#ffffff",o.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.1)"},children:n?"":""}),n&&_.jsx("div",{onClick:()=>i(!1),style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",zIndex:999,transition:"opacity 0.3s"}}),_.jsxs("div",{style:{position:"fixed",top:0,right:n?0:"-320px",width:e?"280px":"320px",height:"100vh",background:"#ffffff",zIndex:1e3,boxShadow:"-2px 0 16px rgba(0,0,0,0.1)",transition:"right 0.3s ease",overflowY:"auto",padding:"1.5rem"},children:[_.jsx("div",{style:{padding:"1rem 0",borderBottom:"2px solid #e5e7eb",marginBottom:"1.5rem"},children:_.jsx("h3",{style:{margin:0,fontSize:"1.25rem",color:"#1a1a1a",fontWeight:"700",letterSpacing:"-0.01em"},children:" Kategoriler"})}),_.jsx("nav",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:t.map(o=>_.jsx("button",{onClick:()=>s(o.id),style:{width:"100%",padding:"1rem 1.25rem",background:"#f9fafb",border:"1px solid #e5e7eb",textAlign:"left",cursor:"pointer",fontSize:"1rem",color:"#1a1a1a",transition:"all 0.2s ease",borderRadius:"8px",fontWeight:"500"},onMouseEnter:u=>{u.currentTarget.style.background="#d4a574",u.currentTarget.style.color="white",u.currentTarget.style.borderColor="#d4a574",u.currentTarget.style.transform="translateX(4px)"},onMouseLeave:u=>{u.currentTarget.style.background="#f9fafb",u.currentTarget.style.color="#1a1a1a",u.currentTarget.style.borderColor="#e5e7eb",u.currentTarget.style.transform="translateX(0)"},children:o.name},o.id))})]})]})}const O5=t=>new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY",minimumFractionDigits:2}).format(t),D5=(t,e="/placeholder-image.png")=>t||e,Zb=W.createContext();function a8({children:t}){const[e,n]=W.useState([]);W.useEffect(()=>{const p=localStorage.getItem("cart");if(p)try{n(JSON.parse(p))}catch(y){console.error("Cart parse error:",y)}},[]);const i=p=>{n(y=>{const b=y.find(S=>S.product_id===p.id);let g;return b?g=y.map(S=>S.product_id===p.id?{...S,quantity:S.quantity+1}:S):g=[...y,{product_id:p.id,product_name:p.name,product_price:parseFloat(p.price),quantity:1,notes:""}],localStorage.setItem("cart",JSON.stringify(g)),g})},s=p=>{n(y=>{const b=y.find(S=>S.product_id===p);let g;return b&&b.quantity>1?g=y.map(S=>S.product_id===p?{...S,quantity:S.quantity-1}:S):g=y.filter(S=>S.product_id!==p),localStorage.setItem("cart",JSON.stringify(g)),g})},o=p=>{n(y=>{const b=y.filter(g=>g.product_id!==p);return localStorage.setItem("cart",JSON.stringify(b)),b})},u=()=>{n([]),localStorage.removeItem("cart")},c=()=>e.reduce((p,y)=>p+y.product_price*y.quantity,0),f=()=>e.reduce((p,y)=>p+y.quantity,0),h=p=>{const y=e.find(b=>b.product_id===p);return y?y.quantity:0};return _.jsx(Zb.Provider,{value:{cart:e,addToCart:i,removeFromCart:s,removeItemFromCart:o,clearCart:u,getTotalPrice:c,getTotalItems:f,getItemQuantity:h},children:t})}function vg(){const t=W.useContext(Zb);if(!t)throw new Error("useCart must be used within CartProvider");return t}function Br({price:t,fontSize:e,fontWeight:n="700",color:i="#2d2d2d",style:s={}}){const u=new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY",minimumFractionDigits:2}).format(t).split(","),c=u[0],f=u.length>1?`,${u[1]}`:"",h=()=>{if(!e)return"0.65em";if(typeof e=="string"&&(e.includes("rem")||e.includes("em"))){const b=parseFloat(e);return isNaN(b)?"0.65em":`${b*.65}${e.replace(/[0-9.]/g,"")}`}if(typeof e=="string"&&e.includes("px")){const b=parseFloat(e);return isNaN(b)?"0.65em":`${b*.65}px`}const y=parseFloat(e);return isNaN(y)?"0.65em":`${y*.65}px`},p=s?.background?.includes("gradient")||s?.WebkitBackgroundClip==="text";return _.jsxs("span",{style:{fontSize:e,fontWeight:n,color:i,...s,display:"inline-flex",alignItems:"baseline"},children:[_.jsx("span",{children:c}),f&&_.jsx("span",{style:{fontSize:h(),...p?{background:s.background,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"}:{}},children:f})]})}function s8({product:t,isMobile:e,showCartButtons:n=!0}){const{addToCart:i,removeFromCart:s,getItemQuantity:o}=vg(),u=o(t.id),c=!t.is_active;return _.jsxs("div",{style:{background:c?"#e5e7eb":"#ffffff",borderRadius:"8px",overflow:"hidden",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",transition:"all 0.3s ease",border:"2px solid #d4a574",borderTopWidth:"4px",position:"relative",height:"100%",display:"flex",flexDirection:"column",opacity:c?.5:1,filter:c?"grayscale(0.8)":"none"},onMouseEnter:f=>{!e&&!c&&(f.currentTarget.style.transform="translateY(-4px)",f.currentTarget.style.boxShadow="0 8px 24px rgba(0,0,0,0.12)")},onMouseLeave:f=>{f.currentTarget.style.transform="translateY(0)",f.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.08)"},children:[c&&_.jsx("div",{style:{position:"absolute",top:"0.75rem",right:"0.75rem",background:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",color:"white",padding:"0.5rem 1rem",borderRadius:"20px",fontSize:e?"0.75rem":"0.875rem",fontWeight:"700",zIndex:10,boxShadow:"0 2px 8px rgba(239, 68, 68, 0.4)",letterSpacing:"0.05em"},children:"TKEND"}),t.image_url&&_.jsxs("div",{style:{width:"100%",height:e?"200px":"240px",background:"#111",overflow:"hidden",position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},children:[_.jsx("div",{style:{position:"absolute",top:"-10px",left:"-10px",right:"-10px",bottom:"-10px",backgroundImage:`url(${D5(t.image_url)})`,backgroundSize:"cover",backgroundPosition:"center",filter:"blur(35px) brightness(1.8) saturate(0.6)",opacity:.5,zIndex:0}}),_.jsx("img",{src:D5(t.image_url),alt:t.name,style:{width:"100%",height:"100%",objectFit:"contain",position:"relative",zIndex:1,transition:"transform 0.4s ease",opacity:c?.5:1,filter:"drop-shadow(0 2px 8px rgba(0,0,0,0.3))"},onError:f=>{f.target.style.display="none"},onMouseEnter:f=>{!e&&!c&&(f.currentTarget.style.transform="scale(1.05)")},onMouseLeave:f=>{f.currentTarget.style.transform="scale(1)"}})]}),_.jsxs("div",{style:{padding:e?"1.25rem":"1.5rem",display:"flex",flexDirection:"column",flex:1},children:[_.jsx("h3",{style:{margin:"0 0 0.5rem 0",fontSize:e?"1.25rem":"1.375rem",color:"#1a1a1a",fontWeight:"700",lineHeight:"1.3",letterSpacing:"-0.01em"},children:t.name}),t.description&&_.jsx("p",{style:{margin:"0 0 1rem 0",fontSize:e?"0.9375rem":"1rem",color:"#6b7280",lineHeight:"1.6",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",flex:1},children:t.description}),_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"auto",paddingTop:"1rem",borderTop:"2px solid #f3f4f6",gap:"0.75rem"},children:[_.jsx(Br,{price:t.price,fontSize:e?"1.5rem":"1.75rem",fontWeight:"700",color:"#2d2d2d",style:{letterSpacing:"-0.02em"}}),n&&!c&&u>0?_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",background:"linear-gradient(135deg, #d4a574 0%, #c49564 100%)",borderRadius:"12px",padding:e?"0.5rem 0.75rem":"0.625rem 1rem",boxShadow:"0 4px 12px rgba(212, 165, 116, 0.4)",border:"2px solid rgba(255,255,255,0.2)"},children:[_.jsx("button",{onClick:()=>s(t.id),style:{background:"rgba(255,255,255,0.25)",border:"2px solid rgba(255,255,255,0.3)",borderRadius:"8px",width:e?"36px":"40px",height:e?"36px":"40px",color:"white",fontSize:e?"1.375rem":"1.5rem",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease",lineHeight:1},onMouseEnter:f=>{f.currentTarget.style.background="rgba(255,255,255,0.35)",f.currentTarget.style.transform="scale(1.1)"},onMouseLeave:f=>{f.currentTarget.style.background="rgba(255,255,255,0.25)",f.currentTarget.style.transform="scale(1)"},onMouseDown:f=>{f.currentTarget.style.transform="scale(0.95)"},onMouseUp:f=>{f.currentTarget.style.transform="scale(1.1)"},children:""}),_.jsx("span",{style:{color:"white",fontWeight:"bold",fontSize:e?"1.125rem":"1.25rem",minWidth:"32px",textAlign:"center",textShadow:"0 1px 2px rgba(0,0,0,0.2)"},children:u}),_.jsx("button",{onClick:()=>i(t),style:{background:"rgba(255,255,255,0.25)",border:"2px solid rgba(255,255,255,0.3)",borderRadius:"8px",width:e?"36px":"40px",height:e?"36px":"40px",color:"white",fontSize:e?"1.375rem":"1.5rem",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease",lineHeight:1},onMouseEnter:f=>{f.currentTarget.style.background="rgba(255,255,255,0.35)",f.currentTarget.style.transform="scale(1.1)"},onMouseLeave:f=>{f.currentTarget.style.background="rgba(255,255,255,0.25)",f.currentTarget.style.transform="scale(1)"},onMouseDown:f=>{f.currentTarget.style.transform="scale(0.95)"},onMouseUp:f=>{f.currentTarget.style.transform="scale(1.1)"},children:"+"})]}):n&&!c?_.jsxs("button",{onClick:()=>i(t),style:{background:"linear-gradient(135deg, #d4a574 0%, #c49564 100%)",border:"2px solid rgba(255,255,255,0.3)",borderRadius:"10px",padding:e?"0.75rem 1.25rem":"0.875rem 1.5rem",color:"white",fontSize:e?"0.875rem":"0.9375rem",fontWeight:"700",cursor:"pointer",transition:"all 0.3s ease",whiteSpace:"nowrap",boxShadow:"0 4px 12px rgba(212, 165, 116, 0.4)",letterSpacing:"0.01em",display:"flex",alignItems:"center",gap:"0.5rem"},onMouseEnter:f=>{f.currentTarget.style.background="linear-gradient(135deg, #c49564 0%, #b88554 100%)",f.currentTarget.style.transform="translateY(-2px) scale(1.02)",f.currentTarget.style.boxShadow="0 6px 16px rgba(212, 165, 116, 0.5)"},onMouseLeave:f=>{f.currentTarget.style.background="linear-gradient(135deg, #d4a574 0%, #c49564 100%)",f.currentTarget.style.transform="translateY(0) scale(1)",f.currentTarget.style.boxShadow="0 4px 12px rgba(212, 165, 116, 0.4)"},onMouseDown:f=>{f.currentTarget.style.transform="translateY(0) scale(0.98)"},onMouseUp:f=>{f.currentTarget.style.transform="translateY(-2px) scale(1.02)"},children:[_.jsx("span",{style:{fontSize:"1.125rem"},children:""}),_.jsx("span",{children:"Sepete Ekle"})]}):c?_.jsx("div",{style:{background:"linear-gradient(135deg, #9ca3af 0%, #6b7280 100%)",border:"2px solid rgba(255,255,255,0.3)",borderRadius:"10px",padding:e?"0.75rem 1.25rem":"0.875rem 1.5rem",color:"white",fontSize:e?"0.875rem":"0.9375rem",fontWeight:"700",textAlign:"center",opacity:.7,cursor:"not-allowed",userSelect:"none"},children:"u An Mevcut Deil"}):null]})]})]})}function ev({category:t,products:e,isMobile:n,isFirst:i=!1,showCartButtons:s=!0}){const o=e.filter(u=>u.category_id===t.id);return o.length===0?null:_.jsxs("section",{id:`category-${t.id}`,style:{marginBottom:n?"3rem":"4rem",scrollMarginTop:"140px",scrollBehavior:"smooth",position:"relative"},children:[!i&&_.jsx("div",{style:{height:"1px",background:"linear-gradient(90deg, transparent 0%, #d4a574 20%, #d4a574 80%, transparent 100%)",marginBottom:"2rem",position:"relative"},children:_.jsx("div",{style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",width:"60px",height:"60px",background:"#ffffff",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:_.jsx("div",{style:{width:"12px",height:"12px",background:"#d4a574",borderRadius:"50%"}})})}),_.jsx("div",{style:{marginBottom:"2.5rem",position:"relative"},children:_.jsx("h2",{style:{margin:0,fontSize:n?"1.875rem":"2.5rem",color:"#1a1a1a",fontWeight:"700",letterSpacing:"-0.02em",display:"inline-block",paddingBottom:"0.75rem",borderBottom:"4px solid #d4a574",position:"relative"},children:t.name})}),_.jsx("div",{style:{display:"grid",gridTemplateColumns:n?"1fr":"repeat(auto-fill, minmax(300px, 1fr))",gap:n?"1.25rem":"1.75rem"},children:o.map(u=>_.jsx(s8,{product:u,isMobile:n,showCartButtons:s},u.id))})]})}function o8(){const t="e99d3327-5d3f-4e0f-aa87-c037fa554d2f",{business:e,loading:n,error:i}=i8(t),{categories:s,loading:o}=yg(e?.id),{products:u,loading:c}=bg(e?.id),[f,h]=W.useState(!1),[p,y]=W.useState(!1);W.useEffect(()=>{const g=()=>{h(window.innerWidth<768)};return g(),window.addEventListener("resize",g),()=>window.removeEventListener("resize",g)},[]),W.useEffect(()=>{let g=!1;const S=()=>{g||(window.requestAnimationFrame(()=>{const B=(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0)>100;y(B),g=!1}),g=!0)},E=()=>{setTimeout(()=>{S()},100)};S(),window.addEventListener("scroll",S,{passive:!0}),document.readyState==="complete"?E():window.addEventListener("load",E),window.addEventListener("resize",S);const k=setInterval(S,100);return()=>{window.removeEventListener("scroll",S),window.removeEventListener("load",E),window.removeEventListener("resize",S),clearInterval(k)}},[]);const b=()=>{const g=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,S=performance.now(),E=800,k=z=>z<.5?4*z*z*z:1-Math.pow(-2*z+2,3)/2,T=z=>{const B=z-S,D=Math.min(B/E,1),ne=k(D),H=g*(1-ne);window.scrollTo(0,H),document.documentElement.scrollTop=H,document.body.scrollTop=H,D<1&&requestAnimationFrame(T)};requestAnimationFrame(T)};return n||o||c?_.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#f5f5f5"},children:_.jsx(Ga,{message:"Men ykleniyor..."})}):i||!e?_.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#f5f5f5",padding:"2rem"},children:_.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"12px",textAlign:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",maxWidth:"500px"},children:[_.jsx("h2",{style:{color:"#dc2626",marginBottom:"1rem"},children:" letme Bulunamad"}),_.jsx("p",{style:{color:"#64748b"},children:i||"Bu men bulunamad. Ltfen QR kodu kontrol edin."})]})}):s.length===0||u.length===0?_.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#f5f5f5",padding:"2rem"},children:_.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"12px",textAlign:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",maxWidth:"500px"},children:[_.jsx("h2",{style:{color:"#1e293b",marginBottom:"1rem"},children:" Men Hazrlanyor"}),_.jsxs("p",{style:{color:"#64748b"},children:[e.name," mens henz hazrlanmam."]})]})}):_.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(180deg, #f8f9fa 0%, #f1f3f5 100%)",paddingTop:"0"},children:[_.jsx("header",{style:{background:"linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 50%, #1a1a1a 100%)",padding:f?"1rem 0.75rem":"0.60rem 2.5rem",marginBottom:"2rem",boxShadow:"0 4px 16px rgba(0,0,0,0.2)",borderBottom:"3px solid #d4a574"},children:_.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",gap:f?"0.75rem":"2rem",maxWidth:"1200px",margin:"0 auto",textAlign:"center"},children:[e?.logo_url&&_.jsx("div",{style:{flexShrink:0,display:"flex",alignItems:"center",justifyContent:"center"},children:_.jsx("img",{src:e.logo_url,alt:e.name||"Logo",style:{maxWidth:f?"70px":"120px",maxHeight:f?"70px":"120px",width:"auto",height:"auto",objectFit:"contain",display:"block"},onError:g=>{g.target.style.display="none"}})}),_.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:f?"flex-start":"center",gap:f?"0.25rem":"0.75rem",textAlign:f?"left":"center",flex:f?1:"none"},children:_.jsx("h1",{style:{margin:0,fontSize:f?"1.25rem":"2.25rem",color:"#ffffff",fontWeight:"800",letterSpacing:"0.02em",lineHeight:"1.2",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:f?"100%":"none",textShadow:"0 2px 8px rgba(0,0,0,0.3), 0 0 20px rgba(212, 165, 116, 0.2)",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif'},children:e.name})})]})}),_.jsx(Qb,{categories:s,isMobile:f}),_.jsx("main",{style:{maxWidth:"1200px",margin:"0 auto",padding:f?"0 1rem 2rem":"0 2rem 3rem"},children:s.map((g,S)=>_.jsx(ev,{category:g,products:u,isMobile:f,isFirst:S===0,showCartButtons:!1},g.id))}),_.jsxs("footer",{style:{background:"#1a1a1a",color:"#ffffff",padding:f?"2rem 1rem":"2.5rem 2rem",textAlign:"center",marginTop:"4rem"},children:[_.jsxs("p",{style:{margin:0,fontSize:f?"0.875rem":"0.9375rem",color:"#9ca3af",fontWeight:"400",marginBottom:e.phone?"0.75rem":"0"},children:[" ",new Date().getFullYear()," ",e.name]}),e.phone&&_.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",color:"#d4a574",fontSize:f?"0.9375rem":"1.0625rem",fontWeight:"500"},children:_.jsx("span",{children:e.phone})})]}),_.jsx("button",{onClick:b,style:{position:"fixed",bottom:f?"1.5rem":"2rem",right:f?"1.5rem":"2rem",zIndex:99999,width:f?"44px":"48px",height:f?"44px":"48px",minWidth:f?"44px":"48px",minHeight:f?"44px":"48px",maxWidth:f?"44px":"48px",maxHeight:f?"44px":"48px",borderRadius:"50%",background:"linear-gradient(135deg, rgba(212, 165, 116, 0.85) 0%, rgba(184, 134, 11, 0.85) 100%)",border:"3px solid rgba(255, 255, 255, 0.9)",color:"#ffffff",fontSize:f?"1.5rem":"1.75rem",cursor:"pointer",boxShadow:"0 4px 20px rgba(212, 165, 116, 0.3), 0 0 0 4px rgba(212, 165, 116, 0.1)",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 0.8s ease-out, transform 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55), boxShadow 0.4s ease, background 0.3s ease, visibility 0.8s ease-out",fontWeight:"bold",padding:0,margin:0,lineHeight:1,outline:"none",WebkitTapHighlightColor:"transparent",userSelect:"none",opacity:p?.8:0,visibility:p?"visible":"hidden",pointerEvents:p?"auto":"none",transform:"scale(1) translateY(0)"},onMouseEnter:g=>{g.currentTarget.style.transform="scale(1.05) translateY(-3px)",g.currentTarget.style.background="linear-gradient(135deg, rgba(212, 165, 116, 1) 0%, rgba(184, 134, 11, 1) 100%)",g.currentTarget.style.boxShadow="0 6px 25px rgba(212, 165, 116, 0.5), 0 0 0 6px rgba(212, 165, 116, 0.15)",g.currentTarget.style.opacity="1",g.currentTarget.style.border="3px solid rgba(255, 255, 255, 1)"},onMouseLeave:g=>{g.currentTarget.style.transform="scale(1) translateY(0)",g.currentTarget.style.background="linear-gradient(135deg, rgba(212, 165, 116, 0.85) 0%, rgba(184, 134, 11, 0.85) 100%)",g.currentTarget.style.boxShadow="0 4px 20px rgba(212, 165, 116, 0.3), 0 0 0 4px rgba(212, 165, 116, 0.1)",g.currentTarget.style.opacity=p?"0.8":"0",g.currentTarget.style.border="3px solid rgba(255, 255, 255, 0.9)"},"aria-label":"Yukar kaydr",children:""})]})}function l8(t){const[e,n]=W.useState(null),[i,s]=W.useState(!0),[o,u]=W.useState(null);return W.useEffect(()=>{if(!t){s(!1);return}(async()=>{try{s(!0),u(null);const{data:f,error:h}=await ht.from("businesses").select("*").eq("slug",t).single();if(h)throw h;n(f)}catch(f){u(f.message),console.error("Business fetch error:",f)}finally{s(!1)}})()},[t]),{business:e,loading:i,error:o}}function u8(t){const[e,n]=W.useState([]),[i,s]=W.useState(!0),[o,u]=W.useState(null);return W.useEffect(()=>{if(!t){s(!1);return}(async()=>{try{s(!0),u(null);const{data:f,error:h}=await ht.from("tables").select("*").eq("business_id",t).eq("is_active",!0).order("table_number",{ascending:!0});if(h)throw h;n(f||[])}catch(f){u(f.message),console.error("Tables fetch error:",f)}finally{s(!1)}})()},[t]),{tables:e,loading:i,error:o}}const tv=W.createContext();function c8({children:t}){const e=(q,ae=null)=>{const pe=ae?`${q}
${ae}`:q;lh.success(pe,{duration:4e3,position:"top-right",reverseOrder:!0,closeButton:!1,style:{background:"#10b981",color:"white",borderRadius:"8px",padding:"12px 16px",fontSize:"14px",fontWeight:"500",boxShadow:"0 4px 12px rgba(16, 185, 129, 0.3)",maxWidth:"400px",whiteSpace:"pre-line",position:"relative"},iconTheme:{primary:"#ffffff",secondary:"#10b981"}})},n=(q,ae=null)=>{const pe=ae?`${q}
${ae}`:q;lh.error(pe,{duration:5e3,position:"top-right",reverseOrder:!0,closeButton:!1,style:{background:"#ef4444",color:"white",borderRadius:"8px",padding:"12px 16px",fontSize:"14px",fontWeight:"500",boxShadow:"0 4px 12px rgba(239, 68, 68, 0.3)",maxWidth:"400px",whiteSpace:"pre-line",position:"relative"},iconTheme:{primary:"#ffffff",secondary:"#ef4444"}})},i=(q,ae=null)=>{const pe=ae?`${q}
${ae}`:q;lh(pe,{duration:4e3,position:"top-right",reverseOrder:!0,closeButton:!1,style:{background:"#f59e0b",color:"white",borderRadius:"8px",padding:"12px 16px",fontSize:"14px",fontWeight:"500",boxShadow:"0 4px 12px rgba(245, 158, 11, 0.3)",maxWidth:"400px",whiteSpace:"pre-line",position:"relative"}})},s=(q,ae=null)=>{const pe=ae?`${q}
${ae}`:q;lh(pe,{duration:4e3,position:"top-right",reverseOrder:!0,closeButton:!1,style:{background:"#3b82f6",color:"white",borderRadius:"8px",padding:"12px 16px",fontSize:"14px",fontWeight:"500",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.3)",maxWidth:"400px",whiteSpace:"pre-line",position:"relative"}})},ee={showSuccess:e,showError:n,showWarning:i,showInfo:s,notifyNewOrder:q=>{if(!q)return;const ae=q.table_number?`Masa ${q.table_number}`:"Masa bilgisi yok",pe=q.id?q.id.slice(0,8).toUpperCase():"Bilinmeyen";e("Yeni Sipari",`${ae}
Sipari #${pe}`)},notifyOrderAccepted:q=>{if(!q)return;const ae=q.table_number?`Masa ${q.table_number}`:"Masa bilgisi yok",pe=q.id?q.id.slice(0,8).toUpperCase():"Bilinmeyen";e("Sipari Kabul Edildi",`${ae}
Sipari #${pe}`)},notifyOrderRejected:q=>{if(!q)return;const ae=q.table_number?`Masa ${q.table_number}`:"Masa bilgisi yok",pe=q.id?q.id.slice(0,8).toUpperCase():"Bilinmeyen";n("Sipari Reddedildi",`${ae}
Sipari #${pe}`)},notifyOrderPreparing:q=>{if(!q)return;const ae=q.table_number?`Masa ${q.table_number}`:"Masa bilgisi yok",pe=q.id?q.id.slice(0,8).toUpperCase():"Bilinmeyen";s("Sipari Hazrlanyor",`${ae}
Sipari #${pe}`)},notifyOrderDelivering:q=>{if(!q)return;const ae=q.table_number?`Masa ${q.table_number}`:"Masa bilgisi yok",pe=q.id?q.id.slice(0,8).toUpperCase():"Bilinmeyen";e("Sipari Geliyor",`${ae}
Sipari #${pe}`),s("Sipari Geliyor",`${ae}
Sipari #${pe}`)},notifyNewPayment:q=>{if(!q)return;const ae=q.table_number?`Masa ${q.table_number}`:"Masa bilgisi yok",pe=q.order_id?q.order_id.slice(0,8).toUpperCase():"Bilinmeyen",ye=parseFloat(q.amount||0).toFixed(2);e(" Yeni deme",`${ae}
Sipari #${pe}
Tutar: ${ye}`)},notifyPaymentReceived:q=>{if(!q)return;const ae=q.table_number?`Masa ${q.table_number}`:"Masa bilgisi yok",pe=q.id?q.id.slice(0,8).toUpperCase():"Bilinmeyen",ye=parseFloat(q.total_amount||0).toFixed(2);e("deme Yapld",`${ae}
Sipari #${pe}
Tutar: ${ye}`)},notifyPaymentCancelled:q=>{const ae=q.table_number?`Masa ${q.table_number}`:"",pe=q.id?q.id.slice(0,8):"";n("deme ptal Edildi",ae?`Sipari #${pe} - ${ae}`:`Sipari #${pe}`)},notifyProductAdded:q=>{e("rn Eklendi",`"${q.name}" baaryla eklendi`)},notifyProductUpdated:q=>{e("rn Gncellendi",`"${q.name}" baaryla gncellendi`)},notifyProductDeleted:q=>{n("rn Silindi",`"${q}" silindi`)},notifyCategoryAdded:q=>{e("Kategori Eklendi",`"${q.name}" baaryla eklendi`)},notifyCategoryUpdated:q=>{e("Kategori Gncellendi",`"${q.name}" baaryla gncellendi`)},notifyCategoryDeleted:q=>{n("Kategori Silindi",`"${q}" ve iindeki rnler silindi`)},notifyReportDownloaded:(q,ae)=>{const pe=ae?.report_date||"";let ye=pe;if(pe)try{const[Be,Qe,nt]=pe.split("-");Be&&Qe&&nt&&(ye=`${nt}/${Qe}/${Be}`)}catch{}const _e=parseFloat(ae?.total_amount||0).toFixed(2);e(` ${q.toUpperCase()} Raporu ndirildi`,`Tarih: ${ye}
Toplam Tutar: ${_e}`)},notifyProductStatusChanged:(q,ae)=>{s(` "${q.name}" ${ae?"aktif":"pasif"} olarak deitirildi`)},notifyOrderChanged:q=>{e("Deiiklik Kaydedildi",`${q} sralamas gncellendi`)},notifyError:(q,ae)=>{n(" Hata Olutu",`${q}: ${ae}`)},notifyLogoSelected:()=>{e("Logo Seildi","Logo baaryla seildi. Kaydet butonuna tklayarak ykleyebilirsiniz.")},notifyLogoSelectError:q=>{q==="size"?n("Logo Seimi Baarsz","Logo boyutu 2MB'dan kk olmaldr"):q==="type"&&n("Logo Seimi Baarsz","Ltfen bir grsel dosyas sein")},notifyLogoUploaded:()=>{e("Logo baaryla yklendi")},notifyLogoUploadError:q=>{n("Logo Ykleme Hatas",`Logo yklenirken hata olutu: ${q}`)},notifyLogoDeleted:()=>{e("Logo baaryla silindi")},notifyLogoDeleteError:q=>{n("Logo Silme Hatas",q||"Logo silinirken hata olutu")},notifySettingsSaved:()=>{e("Ayarlar Kaydedildi","letme bilgileri baaryla gncellendi")},notifySettingsSaveError:q=>{n("Kayt Hatas",q||"Ayarlar kaydedilirken hata olutu")},notifySettingsValidationError:q=>{q==="name"?n("Kayt Baarsz","letme ad gerekli"):q==="slug"?n("Kayt Baarsz","URL slug gerekli"):q==="slugFormat"&&n("Kayt Baarsz","URL slug sadece kk harf, say ve tire ierebilir")},notifyUrlCopied:q=>{q==="menu"?e("Men linki panoya kopyaland"):q==="qr"?e("QR URL panoya kopyaland"):q==="main"&&e("Ana URL panoya kopyaland")},notifyUrlCopyError:q=>{let ae="";q==="menu"?ae="Men linki":q==="qr"?ae="QR URL":q==="main"&&(ae="Ana URL"),n(`${ae} bulunamad`)},notifyQRDownloaded:()=>{e("QR kod baaryla indirildi")},notifyQRDownloadError:()=>{n("ndirme Baarsz","QR kod URL'i bulunamad")},notifyLoginSuccess:q=>{e("Giri Baarl",q?`${q} paneline ho geldiniz!`:"Panele baaryla giri yaptnz")},notifyLoginError:q=>{let ae=q||"E-posta veya ifre hatal";if(q){const pe=q.toLowerCase();pe.includes("invalid login credentials")||pe.includes("invalid credentials")?ae="E-posta veya ifre hatal":pe.includes("email not confirmed")?ae="E-posta adresiniz dorulanmam":pe.includes("too many requests")?ae="ok fazla deneme yapld. Ltfen daha sonra tekrar deneyin":(pe.includes("network")||pe.includes("fetch"))&&(ae="Balant hatas. Ltfen internet balantnz kontrol edin")}n("Giri Baarsz",ae)},notifyLoginValidationError:()=>{n("Ltfen e-posta ve ifre girin")},notifyLogoutSuccess:()=>{e("k yapld","Gvenli bir ekilde k yaptnz")},notifyLogoutError:q=>{n("k Hatas",q||"k yaplrken bir hata olutu")}};return _.jsx(tv.Provider,{value:ee,children:t})}function Tu(){const t=W.useContext(tv);if(!t)throw new Error("useNotification must be used within NotificationProvider");return t}function f8({isOpen:t,onClose:e,onCheckout:n,isMobile:i}){const{cart:s,addToCart:o,removeFromCart:u,removeItemFromCart:c,getTotalPrice:f,getTotalItems:h}=vg();return t?_.jsxs(_.Fragment,{children:[_.jsx("div",{onClick:e,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",zIndex:9998,animation:"fadeIn 0.2s"}}),_.jsxs("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"white",borderRadius:"16px",width:i?"90%":"500px",maxWidth:"90vw",maxHeight:"90vh",zIndex:9999,display:"flex",flexDirection:"column",boxShadow:"0 20px 60px rgba(0,0,0,0.3)",animation:"slideUp 0.3s"},children:[_.jsxs("div",{style:{padding:i?"1.25rem":"1.5rem",borderBottom:"2px solid #f3f4f6",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[_.jsxs("h2",{style:{margin:0,fontSize:i?"1.25rem":"1.5rem",color:"#1e293b",fontWeight:"700"},children:[" Sepet (",h(),")"]}),_.jsx("button",{onClick:e,style:{background:"transparent",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#64748b",padding:"0.5rem",borderRadius:"8px",transition:"all 0.2s"},onMouseEnter:p=>{p.currentTarget.style.background="#f3f4f6",p.currentTarget.style.color="#1e293b"},onMouseLeave:p=>{p.currentTarget.style.background="transparent",p.currentTarget.style.color="#64748b"},children:""})]}),_.jsx("div",{style:{flex:1,overflowY:"auto",padding:i?"1rem":"1.5rem"},children:s.length===0?_.jsxs("div",{style:{textAlign:"center",padding:"3rem 1rem",color:"#64748b"},children:[_.jsx("p",{style:{fontSize:"3rem",margin:"0 0 1rem 0"},children:""}),_.jsx("p",{children:"Sepetiniz bo"})]}):_.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:s.map(p=>_.jsxs("div",{style:{display:"flex",gap:"1rem",padding:"1rem",background:"#f8fafc",borderRadius:"12px",border:"1px solid #e2e8f0"},children:[_.jsxs("div",{style:{flex:1},children:[_.jsx("h3",{style:{margin:"0 0 0.5rem 0",fontSize:i?"1rem":"1.125rem",color:"#1e293b",fontWeight:"600"},children:p.product_name}),_.jsxs("p",{style:{margin:0,fontSize:i?"1rem":"1.125rem",color:"#2d2d2d",fontWeight:"700",display:"flex",alignItems:"center",gap:"0.25rem",flexWrap:"wrap"},children:[_.jsx(Br,{price:p.product_price,fontSize:i?"1rem":"1.125rem"}),_.jsxs("span",{children:[" ",p.quantity," ="]}),_.jsx(Br,{price:p.product_price*p.quantity,fontSize:i?"1rem":"1.125rem"})]})]}),_.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem"},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",background:"#d4a574",borderRadius:"8px",padding:"0.5rem"},children:[_.jsx("button",{onClick:()=>u(p.product_id),style:{background:"rgba(255,255,255,0.2)",border:"none",borderRadius:"6px",width:"32px",height:"32px",color:"white",fontSize:"1.25rem",fontWeight:"bold",cursor:"pointer"},children:""}),_.jsx("span",{style:{color:"white",fontWeight:"bold",fontSize:"1rem",minWidth:"24px",textAlign:"center"},children:p.quantity}),_.jsx("button",{onClick:()=>o({id:p.product_id,name:p.product_name,price:p.product_price}),style:{background:"rgba(255,255,255,0.2)",border:"none",borderRadius:"6px",width:"32px",height:"32px",color:"white",fontSize:"1.25rem",fontWeight:"bold",cursor:"pointer"},children:"+"})]}),_.jsx("button",{onClick:()=>c(p.product_id),style:{background:"transparent",border:"none",color:"#ef4444",fontSize:"0.875rem",cursor:"pointer",padding:"0.25rem 0.5rem"},children:"Kaldr"})]})]},p.product_id))})}),s.length>0&&_.jsxs("div",{style:{padding:i?"1.25rem":"1.5rem",borderTop:"2px solid #f3f4f6",background:"#f8fafc"},children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[_.jsx("span",{style:{fontSize:i?"1.125rem":"1.25rem",fontWeight:"600",color:"#1e293b"},children:"Toplam:"}),_.jsx(Br,{price:f(),fontSize:i?"1.5rem":"1.75rem",fontWeight:"700",color:"#2d2d2d"})]}),_.jsx("button",{onClick:n,style:{width:"100%",padding:i?"1rem":"1.25rem",background:"#d4a574",border:"none",borderRadius:"12px",color:"white",fontSize:i?"1rem":"1.125rem",fontWeight:"700",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:p=>{p.currentTarget.style.background="#c49564",p.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:p=>{p.currentTarget.style.background="#d4a574",p.currentTarget.style.transform="translateY(0)"},children:" Siparii Onayla"})]})]})]}):null}function d8({orderId:t,isMobile:e,onClose:n,isExpanded:i=!1,onToggle:s}){const[o,u]=W.useState(null),[c,f]=W.useState(!0),[h,p]=W.useState(i);W.useEffect(()=>{if(!t)return;(async()=>{try{const{data:E,error:k}=await ht.from("orders").select(`
            *,
            order_items (
              id,
              product_name,
              product_price,
              quantity,
              subtotal
            )
          `).eq("id",t).single();if(k)throw k;u(E)}catch(E){console.error("Order fetch error:",E)}finally{f(!1)}})();const S=ht.channel(`order:${t}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"orders",filter:`id=eq.${t}`},E=>{u(E.new),E.new.status==="completed"&&setTimeout(()=>{n()},6e5)}).subscribe();return()=>{ht.removeChannel(S)}},[t,n]);const y=g=>({pending:" Beklemede",preparing:" Hazrlanyor",ready:" Hazr",delivering:" Sipari Geliyor",completed:" Tamamland",cancelled:" ptal Edildi"})[g]||g,b=g=>({pending:"#f59e0b",preparing:"#8b5cf6",ready:"#10b981",delivering:"#3b82f6",completed:"#64748b",cancelled:"#ef4444"})[g]||"#64748b";return W.useEffect(()=>{p(i)},[i]),c?_.jsx("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"white",borderRadius:"16px",padding:"3rem",zIndex:9999,textAlign:"center"},children:_.jsx("p",{children:"Ykleniyor..."})}):o?h?_.jsxs(_.Fragment,{children:[_.jsx("div",{onClick:()=>{p(!1),s&&s()},style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",zIndex:9998,animation:"fadeIn 0.2s"}}),_.jsxs("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"white",borderRadius:"16px",width:e?"90%":"500px",maxWidth:"90vw",maxHeight:"90vh",zIndex:9999,display:"flex",flexDirection:"column",boxShadow:"0 20px 60px rgba(0,0,0,0.3)",overflow:"hidden",animation:"slideUp 0.3s"},children:[_.jsxs("div",{style:{padding:e?"1.25rem":"1.5rem",borderBottom:"2px solid #f3f4f6",background:`${b(o.status)}20`},children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[_.jsx("h2",{style:{margin:0,fontSize:e?"1.25rem":"1.5rem",color:"#1e293b",fontWeight:"700"},children:" Sipari Takibi"}),_.jsx("button",{onClick:n,style:{background:"transparent",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#64748b",padding:"0.5rem",borderRadius:"8px"},children:""})]}),_.jsx("div",{style:{padding:"0.75rem 1rem",background:b(o.status),color:"white",borderRadius:"8px",fontWeight:"600",fontSize:e?"0.9375rem":"1rem",textAlign:"center"},children:y(o.status)})]}),_.jsxs("div",{style:{flex:1,overflowY:"auto",padding:e?"1rem":"1.5rem"},children:[o.order_items&&o.order_items.length>0&&_.jsxs("div",{style:{marginBottom:"1.5rem"},children:[_.jsx("h3",{style:{margin:"0 0 1rem 0",fontSize:e?"1rem":"1.125rem",color:"#1e293b",fontWeight:"600"},children:"Sipari Detaylar:"}),o.order_items.map(g=>_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"0.75rem 0",borderBottom:"1px solid #e2e8f0"},children:[_.jsxs("span",{style:{color:"#64748b"},children:[g.product_name,"  ",g.quantity]}),_.jsx("span",{style:{fontWeight:"600",color:"#1e293b"},children:O5(g.subtotal)})]},g.id))]}),_.jsx("div",{style:{padding:"1rem",background:"#f8fafc",borderRadius:"8px",marginTop:"1rem"},children:_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[_.jsx("span",{style:{fontSize:e?"1.125rem":"1.25rem",fontWeight:"600",color:"#1e293b"},children:"Toplam:"}),_.jsx("span",{style:{fontSize:e?"1.5rem":"1.75rem",fontWeight:"700",color:"#2d2d2d"},children:O5(o.total_amount)})]})})]})]})]}):_.jsxs("div",{onClick:()=>{p(!0),s&&s()},style:{position:"fixed",bottom:e?"5rem":"6rem",right:e?"1rem":"2rem",background:"white",borderRadius:"12px",padding:e?"0.875rem 1rem":"1rem 1.25rem",boxShadow:"0 4px 20px rgba(0,0,0,0.25)",zIndex:9998,cursor:"pointer",border:`3px solid ${b(o.status)}`,minWidth:e?"140px":"180px",maxWidth:e?"180px":"220px",transition:"all 0.3s ease"},onMouseEnter:g=>{g.currentTarget.style.transform="translateY(-4px) scale(1.05)",g.currentTarget.style.boxShadow="0 8px 30px rgba(0,0,0,0.35)"},onMouseLeave:g=>{g.currentTarget.style.transform="translateY(0) scale(1)",g.currentTarget.style.boxShadow="0 4px 20px rgba(0,0,0,0.25)"},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.5rem"},children:[_.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",background:b(o.status),flexShrink:0}}),_.jsxs("span",{style:{fontSize:e?"0.75rem":"0.875rem",fontWeight:"600",color:"#1e293b"},children:["Sipari #",o.id.slice(0,8)]})]}),_.jsxs("div",{style:{padding:"0.5rem 0.75rem",background:`${b(o.status)}20`,borderRadius:"8px",textAlign:"center"},children:[_.jsx("div",{style:{fontSize:e?"0.75rem":"0.875rem",fontWeight:"600",color:b(o.status),marginBottom:"0.25rem"},children:y(o.status)}),_.jsxs("div",{style:{fontSize:e?"0.875rem":"1rem",fontWeight:"700",color:"#1e293b"},children:["",parseFloat(o.total_amount).toFixed(2)]})]}),_.jsx("div",{style:{fontSize:e?"0.625rem":"0.75rem",color:"#64748b",textAlign:"center",marginTop:"0.5rem"},children:"Tklayarak detaylar gr"})]}):null}function h8({slug:t}){console.log(" MenuPage render edildi!",{slugProp:t});const e=L4(),n=t||e.slug,i=e.table,s=i?parseInt(i,10):null;console.log(" MenuPage params:",{slug:n,table:i,tableNumber:s});const{business:o,loading:u,error:c}=l8(n),{tables:f,loading:h}=u8(o?.id),{categories:p,loading:y}=yg(o?.id),{products:b,loading:g}=bg(o?.id),[S,E]=W.useState(!1);W.useEffect(()=>{s&&o&&!h&&f.length>0?f.map(G=>G.table_number).includes(s)?E(!1):E(!0):s&&o&&!h&&f.length===0&&E(!0)},[s,o,f,h]),W.useEffect(()=>{s&&o&&f.length>0?f.map(G=>G.table_number).includes(s)&&(localStorage.setItem("currentTableNumber",s.toString()),localStorage.setItem("currentBusinessSlug",n||"")):localStorage.removeItem("currentTableNumber")},[s,n,o,f]);const[k,T]=W.useState(!1),[z,B]=W.useState(!1),[D,ne]=W.useState(!1),[H,te]=W.useState(!1),[I,L]=W.useState(null),[K,N]=W.useState(null),P=vg(),Y=P?.cart||[],F=P?.getTotalPrice||(()=>0),X=P?.getTotalItems||(()=>0),O=P?.clearCart||(()=>{}),R=X(),se=F(),le=async()=>{if(!(!o||Y.length===0))try{const{data:j,error:G}=await ht.from("orders").insert({business_id:o.id,table_number:s,status:"pending",total_amount:F(),notes:""}).select().single();if(G)throw G;const V=Y.map(q=>({order_id:j.id,product_id:q.product_id,product_name:q.product_name,product_price:q.product_price,quantity:q.quantity,notes:q.notes||"",subtotal:q.product_price*q.quantity})),{error:ee}=await ht.from("order_items").insert(V);if(ee)throw ee;O(),L(j.id),N("pending"),ne(!1),te(!0)}catch(j){console.error("Order creation error:",j),notifyError("Sipari oluturulurken hata olutu",j.message)}};W.useEffect(()=>{if(!I)return;const j=ht.channel(`order:${I}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"orders",filter:`id=eq.${I}`},G=>{N(G.new.status),G.new.status==="completed"&&setTimeout(()=>{te(!1),L(null),N(null)},6e5)}).subscribe();return()=>{ht.removeChannel(j)}},[I]),W.useEffect(()=>{const j=()=>{T(window.innerWidth<768)};return j(),window.addEventListener("resize",j),()=>window.removeEventListener("resize",j)},[]),W.useEffect(()=>{let j=!1;const G=()=>{j||(window.requestAnimationFrame(()=>{const ae=(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0)>100;B(ae),j=!1}),j=!0)};G(),window.addEventListener("scroll",G,{passive:!0}),window.addEventListener("resize",G);const V=setInterval(G,100);return()=>{window.removeEventListener("scroll",G),window.removeEventListener("resize",G),clearInterval(V)}},[]);const me=()=>{const j=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,G=performance.now(),V=800,ee=ae=>ae<.5?4*ae*ae*ae:1-Math.pow(-2*ae+2,3)/2,q=ae=>{const pe=ae-G,ye=Math.min(pe/V,1),_e=ee(ye),Be=j*(1-_e);window.scrollTo(0,Be),document.documentElement.scrollTop=Be,document.body.scrollTop=Be,ye<1&&requestAnimationFrame(q)};requestAnimationFrame(q)},Z=()=>_.jsxs("button",{onClick:()=>{console.log(" Sepet butonu tkland!",{showCart:D,totalItems:R,totalPrice:se,cart:Y}),ne(!0)},style:{position:"fixed",top:k?"4.5rem":"5rem",right:"1rem",background:"#d4a574",border:"3px solid rgba(255,255,255,0.9)",borderRadius:"16px",padding:k?"0.75rem 1rem":"1rem 1.25rem",color:"white",fontSize:k?"0.875rem":"1rem",fontWeight:"700",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.75rem",boxShadow:"0 6px 20px rgba(212, 165, 116, 0.6)",transition:"all 0.3s",zIndex:10002,opacity:1,minWidth:k?"90px":"120px",whiteSpace:"nowrap",visibility:"visible",pointerEvents:"auto",lineHeight:1},onMouseEnter:j=>{j.currentTarget.style.background="#c49564",j.currentTarget.style.transform="translateY(-3px) scale(1.08)",j.currentTarget.style.boxShadow="0 8px 24px rgba(212, 165, 116, 0.7)"},onMouseLeave:j=>{j.currentTarget.style.background="#d4a574",j.currentTarget.style.transform="translateY(0) scale(1)",j.currentTarget.style.boxShadow="0 6px 20px rgba(212, 165, 116, 0.6)"},children:[_.jsx("span",{style:{fontSize:k?"1.5rem":"1.75rem",lineHeight:1},children:""}),(R||0)>0?_.jsxs(_.Fragment,{children:[_.jsxs("span",{style:{fontSize:k?"0.875rem":"1rem",fontWeight:"700"},children:["(",R||0,")"]}),_.jsx("span",{style:{background:"rgba(255,255,255,0.35)",padding:"0.25rem 0.5rem",borderRadius:"6px",fontSize:k?"0.75rem":"0.875rem",fontWeight:"700",display:"inline-flex",alignItems:"center"},children:_.jsx(Br,{price:se||0,fontSize:k?"0.75rem":"0.875rem",fontWeight:"700",color:"inherit"})})]}):_.jsx("span",{style:{fontSize:k?"0.875rem":"1rem"},children:"Sepet"})]});return u||y||g?_.jsxs(_.Fragment,{children:[_.jsx(Z,{}),_.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#f5f5f5"},children:_.jsx(Ga,{message:"Men ykleniyor..."})})]}):n==="admin"?_.jsxs(_.Fragment,{children:[_.jsx(Z,{}),_.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#f5f5f5",padding:"2rem"},children:_.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"12px",textAlign:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",maxWidth:"500px"},children:[_.jsx("h2",{style:{color:"#dc2626",marginBottom:"1rem"},children:" Geersiz URL"}),_.jsx("p",{style:{color:"#64748b"},children:"Admin paneline erimek iin doru URL'yi kullann."})]})})]}):n?c||!u&&!o?_.jsxs(_.Fragment,{children:[_.jsx(Z,{}),_.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#f5f5f5",padding:"2rem"},children:_.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"12px",textAlign:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",maxWidth:"500px"},children:[_.jsx("h2",{style:{color:"#dc2626",marginBottom:"1rem"},children:" letme Bulunamad"}),_.jsx("p",{style:{color:"#64748b"},children:c||`"${n}" adl iletme bulunamad.`})]})})]}):o?p.length===0||b.length===0?_.jsxs(_.Fragment,{children:[_.jsx(Z,{}),_.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#f5f5f5",padding:"2rem"},children:_.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"12px",textAlign:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",maxWidth:"500px"},children:[_.jsx("h2",{style:{color:"#1e293b",marginBottom:"1rem"},children:" Men Hazrlanyor"}),_.jsxs("p",{style:{color:"#64748b"},children:[o.name," mens henz hazrlanmam."]})]})})]}):_.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(180deg, #f8f9fa 0%, #f1f3f5 100%)",paddingTop:"0",position:"relative"},children:[_.jsx(Z,{}),_.jsx("header",{style:{position:"relative",background:"linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 50%, #1a1a1a 100%)",padding:k?"1rem 0.75rem":"0.60rem 2.5rem",marginBottom:"2rem",boxShadow:"0 4px 16px rgba(0,0,0,0.2)",borderBottom:"3px solid #d4a574"},children:_.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",gap:k?"0.75rem":"2rem",maxWidth:"1200px",margin:"0 auto",textAlign:"center"},children:[o?.logo_url&&_.jsx("div",{style:{flexShrink:0,display:"flex",alignItems:"center",justifyContent:"center"},children:_.jsx("img",{src:o.logo_url,alt:o.name||"Logo",style:{maxWidth:k?"70px":"120px",maxHeight:k?"70px":"120px",width:"auto",height:"auto",objectFit:"contain",display:"block"},onError:j=>{j.target.style.display="none"}})}),_.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:k?"flex-start":"center",gap:k?"0.25rem":"0.75rem",textAlign:k?"left":"center",flex:k?1:"none"},children:[_.jsx("h1",{style:{margin:0,fontSize:k?"1.25rem":"2.25rem",color:"#ffffff",fontWeight:"800",letterSpacing:"0.02em",lineHeight:"1.2",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:k?"100%":"none",textShadow:"0 2px 8px rgba(0,0,0,0.3), 0 0 20px rgba(212, 165, 116, 0.2)",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif'},children:o.name}),s&&_.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",marginTop:"0.5rem",padding:"0.5rem 1rem",background:"rgba(212, 165, 116, 0.2)",borderRadius:"8px",border:"2px solid #d4a574"},children:[_.jsx("span",{style:{fontSize:k?"1rem":"1.25rem",color:"#d4a574",fontWeight:"700"},children:""}),_.jsxs("p",{style:{margin:0,fontSize:k?"0.9375rem":"1.125rem",color:"#d4a574",fontWeight:"700",letterSpacing:"0.05em"},children:["Masa ",s]})]})]})]})}),_.jsx(Qb,{categories:p,isMobile:k}),_.jsx("main",{style:{maxWidth:"1200px",margin:"0 auto",padding:k?"0 1rem 2rem":"0 2rem 3rem"},children:p.map((j,G)=>_.jsx(ev,{category:j,products:b,isMobile:k,isFirst:G===0},j.id))}),_.jsxs("footer",{style:{background:"#1a1a1a",color:"#ffffff",padding:k?"2rem 1rem":"2.5rem 2rem",textAlign:"center",marginTop:"4rem"},children:[_.jsxs("p",{style:{margin:0,fontSize:k?"0.875rem":"0.9375rem",color:"#9ca3af",fontWeight:"400",marginBottom:o.phone?"0.75rem":"0"},children:[" ",new Date().getFullYear()," ",o.name]}),o.phone&&_.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",color:"#d4a574",fontSize:k?"0.9375rem":"1.0625rem",fontWeight:"500"},children:_.jsx("span",{children:o.phone})})]}),_.jsx("button",{onClick:me,style:{position:"fixed",bottom:k?"1.5rem":"2rem",right:k?"1.5rem":"2rem",zIndex:99999,width:k?"44px":"48px",height:k?"44px":"48px",minWidth:k?"44px":"48px",minHeight:k?"44px":"48px",maxWidth:k?"44px":"48px",maxHeight:k?"44px":"48px",borderRadius:"50%",background:"linear-gradient(135deg, rgba(212, 165, 116, 0.85) 0%, rgba(184, 134, 11, 0.85) 100%)",border:"3px solid rgba(255, 255, 255, 0.9)",color:"#ffffff",fontSize:k?"1.5rem":"1.75rem",cursor:"pointer",boxShadow:"0 4px 20px rgba(212, 165, 116, 0.3), 0 0 0 4px rgba(212, 165, 116, 0.1)",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 0.8s ease-out, transform 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55), boxShadow 0.4s ease, background 0.3s ease, visibility 0.8s ease-out",fontWeight:"bold",padding:0,margin:0,lineHeight:1,outline:"none",WebkitTapHighlightColor:"transparent",userSelect:"none",opacity:z?.8:0,visibility:z?"visible":"hidden",pointerEvents:z?"auto":"none",transform:"scale(1) translateY(0)"},onMouseEnter:j=>{j.currentTarget.style.transform="scale(1.05) translateY(-3px)",j.currentTarget.style.background="linear-gradient(135deg, rgba(212, 165, 116, 1) 0%, rgba(184, 134, 11, 1) 100%)",j.currentTarget.style.boxShadow="0 6px 25px rgba(212, 165, 116, 0.5), 0 0 0 6px rgba(212, 165, 116, 0.15)",j.currentTarget.style.opacity="1",j.currentTarget.style.border="3px solid rgba(255, 255, 255, 1)"},onMouseLeave:j=>{j.currentTarget.style.transform="scale(1) translateY(0)",j.currentTarget.style.background="linear-gradient(135deg, rgba(212, 165, 116, 0.85) 0%, rgba(184, 134, 11, 0.85) 100%)",j.currentTarget.style.boxShadow="0 4px 20px rgba(212, 165, 116, 0.3), 0 0 0 4px rgba(212, 165, 116, 0.1)",j.currentTarget.style.opacity=z?"0.8":"0",j.currentTarget.style.border="3px solid rgba(255, 255, 255, 0.9)"},"aria-label":"Yukar kaydr",children:""}),_.jsx(f8,{isOpen:D,onClose:()=>ne(!1),onCheckout:le,isMobile:k}),I&&_.jsx(d8,{orderId:I,isMobile:k,isExpanded:H,onToggle:()=>te(!H),onClose:()=>{te(!1),L(null),N(null)}})]}):_.jsxs(_.Fragment,{children:[_.jsx(Z,{}),_.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#f5f5f5"},children:_.jsx(Ga,{message:"Men ykleniyor..."})})]}):_.jsxs(_.Fragment,{children:[_.jsx(Z,{}),_.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#f5f5f5",padding:"2rem"},children:_.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"12px",textAlign:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",maxWidth:"500px"},children:[_.jsx("h2",{style:{color:"#dc2626",marginBottom:"1rem"},children:" letme Bulunamad"}),_.jsx("p",{style:{color:"#64748b"},children:"letme slug' bulunamad."})]})})]})}const nv=W.createContext(null);function p8({children:t}){const[e,n]=W.useState(null),[i,s]=W.useState(null),[o,u]=W.useState(!0);W.useEffect(()=>{ht.auth.getSession().then(({data:{session:g}})=>{n(g?.user??null),g?.user?c(g.user.id):u(!1)});const{data:{subscription:b}}=ht.auth.onAuthStateChange((g,S)=>{n(S?.user??null),S?.user?c(S.user.id):(s(null),u(!1))});return()=>b.unsubscribe()},[]);const c=async b=>{try{const{data:g,error:S}=await ht.from("user_business").select("business_id, businesses(*)").eq("user_id",b).single();if(S)throw S;g?.businesses&&s(g.businesses)}catch(g){console.error("Business fetch error:",g)}finally{u(!1)}},y={user:e,business:i,loading:o,signIn:async(b,g)=>{try{u(!0);const{data:S,error:E}=await ht.auth.signInWithPassword({email:b,password:g});if(E)throw E;let k=null;if(S.user){await c(S.user.id),await new Promise(T=>setTimeout(T,100));try{const{data:T,error:z}=await ht.from("user_business").select("business_id, businesses(*)").eq("user_id",S.user.id).single();!z&&T?.businesses&&(k=T.businesses)}catch(T){console.warn("Business fetch warning:",T)}}return{success:!0,user:S.user,business:k}}catch(S){return{success:!1,error:S.message}}finally{u(!1)}},signOut:async()=>{try{const{error:b}=await ht.auth.signOut();if(b)throw b;return n(null),s(null),{success:!0}}catch(b){return{success:!1,error:b.message}}},updateBusiness:async b=>{if(!(!b||!e?.id))try{const{data:g,error:S}=await ht.from("user_business").select("business_id, businesses(*)").eq("user_id",e.id).single();if(S)throw S;g?.businesses&&s(g.businesses)}catch(g){console.error("Business update error:",g)}}};return _.jsx(nv.Provider,{value:y,children:t})}function $o(){const t=W.useContext(nv);if(!t)throw new Error("useAuth must be used within AuthProvider");return t}function Qr({children:t,onClick:e,variant:n="primary",disabled:i=!1,type:s="button",style:o={}}){const u={padding:"0.75rem 1.5rem",fontSize:"1rem",border:"none",borderRadius:"6px",cursor:i?"not-allowed":"pointer",fontWeight:"500",transition:"all 0.2s",...o},c={primary:{background:i?"#ccc":"#007bff",color:"white"},secondary:{background:i?"#ccc":"#6c757d",color:"white"},danger:{background:i?"#ccc":"#dc3545",color:"white"},success:{background:i?"#ccc":"#28a745",color:"white"}};return _.jsx("button",{type:s,onClick:e,disabled:i,style:{...u,...c[n]},onMouseEnter:f=>{i||(f.target.style.opacity="0.9")},onMouseLeave:f=>{f.target.style.opacity="1"},children:t})}function g8(){const[t,e]=W.useState(""),[n,i]=W.useState(""),[s,o]=W.useState(""),[u,c]=W.useState(""),[f,h]=W.useState(""),[p,y]=W.useState(!1),[b,g]=W.useState(!1),{signIn:S}=$o(),{notifyLoginSuccess:E,notifyLoginError:k,notifyLoginValidationError:T}=Tu(),z=o0();W.useEffect(()=>{const D=()=>{g(window.innerWidth<768)};return D(),window.addEventListener("resize",D),()=>window.removeEventListener("resize",D)},[]),W.useEffect(()=>{const D=document.querySelector('input[type="email"]'),ne=document.querySelector('input[type="password"]');D&&D.addEventListener("invalid",H=>{H.preventDefault(),D.validity.valueMissing?c("E-posta adresi gerekli"):D.validity.typeMismatch&&c("Geerli bir e-posta adresi girin")}),ne&&ne.addEventListener("invalid",H=>{H.preventDefault(),ne.validity.valueMissing&&h("ifre gerekli")})},[]);const B=async D=>{D.preventDefault(),o(""),c(""),h(""),y(!0);const ne=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(!t){c("E-posta adresi gerekli"),T(),y(!1);return}if(!ne.test(t)){c("Geerli bir e-posta adresi girin"),y(!1);return}if(!n){h("ifre gerekli"),T(),y(!1);return}const H=await S(t,n);if(H.success)E(H.business?.name),z("/admin/dashboard");else{let te=H.error||"Giri baarsz";te.toLowerCase().includes("invalid login credentials")||te.toLowerCase().includes("invalid credentials")?te="Geersiz e-posta veya ifre":te.toLowerCase().includes("email not confirmed")?te="E-posta adresi dorulanmam":te.toLowerCase().includes("too many requests")&&(te="ok fazla deneme yapld. Ltfen daha sonra tekrar deneyin"),o(te),k(te)}y(!1)};return _.jsxs("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#000000",padding:b?"1rem":"2rem",position:"relative",overflow:"hidden"},children:[_.jsx("div",{style:{position:"absolute",top:0,right:0,width:"60%",height:"100%",background:"linear-gradient(180deg, #6b21a8 0%, #a855f7 30%, #ec4899 60%, #ef4444 100%)",opacity:.8,filter:"blur(80px)",transform:"translate(20%, -10%)",animation:"pulseGlow 8s ease-in-out infinite"}}),_.jsx("div",{style:{position:"absolute",top:"-20%",left:"-10%",width:"40%",height:"40%",background:"radial-gradient(circle, rgba(34, 197, 94, 0.3) 0%, transparent 70%)",borderRadius:"50%",filter:"blur(60px)",animation:"floatGlow 12s ease-in-out infinite"}}),_.jsx("div",{style:{position:"absolute",top:"30%",left:"20%",width:"30%",height:"30%",background:"radial-gradient(circle, rgba(168, 85, 247, 0.4) 0%, transparent 70%)",borderRadius:"50%",filter:"blur(50px)",animation:"floatGlow 10s ease-in-out infinite reverse"}}),_.jsx("div",{style:{position:"absolute",bottom:"-15%",right:"10%",width:"35%",height:"35%",background:"radial-gradient(circle, rgba(239, 68, 68, 0.35) 0%, transparent 70%)",borderRadius:"50%",filter:"blur(70px)",animation:"floatGlow 14s ease-in-out infinite"}}),_.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"radial-gradient(ellipse at top left, rgba(139, 92, 246, 0.15) 0%, transparent 50%)",pointerEvents:"none"}}),_.jsx("style",{children:`
        @keyframes pulseGlow {
          0%, 100% {
            opacity: 0.8;
            transform: translate(20%, -10%) scale(1);
          }
          50% {
            opacity: 1;
            transform: translate(25%, -15%) scale(1.1);
          }
        }
        @keyframes floatGlow {
          0%, 100% {
            transform: translate(0, 0) scale(1);
            opacity: 0.6;
          }
          50% {
            transform: translate(20px, -20px) scale(1.2);
            opacity: 0.9;
          }
        }
        @keyframes fadeInUp {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        .dark-input::placeholder {
          color: rgba(203, 213, 225, 0.5);
        }
        .dark-input:-webkit-autofill,
        .dark-input:-webkit-autofill:hover,
        .dark-input:-webkit-autofill:focus {
          -webkit-text-fill-color: #ffffff;
          -webkit-box-shadow: 0 0 0px 1000px rgba(30, 41, 59, 0.6) inset;
          transition: background-color 5000s ease-in-out 0s;
        }
      `}),_.jsxs("div",{style:{background:"rgba(15, 23, 42, 0.85)",backdropFilter:"blur(20px)",borderRadius:b?"20px":"28px",padding:b?"2rem":"3rem",width:"100%",maxWidth:b?"100%":"480px",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(139, 92, 246, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.1)",animation:"fadeInUp 0.6s ease-out",position:"relative",zIndex:1,border:"1px solid rgba(139, 92, 246, 0.3)"},children:[_.jsxs("div",{style:{textAlign:"center",marginBottom:b?"2rem":"2.5rem"},children:[_.jsx("h1",{style:{margin:0,color:"#ffffff",fontSize:b?"1.75rem":"2.25rem",fontWeight:"700",letterSpacing:"-0.02em",textShadow:"0 2px 10px rgba(139, 92, 246, 0.3)"},children:"Admin Paneli"}),_.jsx("p",{style:{color:"#cbd5e1",marginTop:"0.75rem",fontSize:b?"0.9375rem":"1.0625rem",fontWeight:"400"},children:"letme ynetim paneline ho geldiniz"})]}),_.jsxs("form",{onSubmit:B,noValidate:!0,children:[_.jsxs("div",{style:{marginBottom:"1.5rem"},children:[_.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#e2e8f0",fontSize:"0.9375rem"},children:["E-posta Adresi",_.jsx("span",{style:{color:"#ef4444",marginLeft:"0.25rem"},children:" *"})]}),_.jsx("input",{type:"email",value:t,onChange:D=>{e(D.target.value),c(""),o("")},placeholder:"ornek@email.com",required:!0,style:{width:"100%",padding:"0.875rem 1rem",fontSize:"1rem",background:"rgba(30, 41, 59, 0.6)",border:u?"2px solid #ef4444":"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"12px",boxSizing:"border-box",fontFamily:"inherit",color:"#ffffff",transition:"all 0.3s ease",outline:"none"},className:"dark-input",onFocus:D=>{D.target.style.borderColor="#a855f7",D.target.style.boxShadow="0 0 0 3px rgba(168, 85, 247, 0.1)"},onBlur:D=>{D.target.style.borderColor=u?"#ef4444":"rgba(139, 92, 246, 0.3)",D.target.style.boxShadow="none"}}),u&&_.jsx("p",{style:{color:"#fca5a5",fontSize:"0.875rem",margin:"0.5rem 0 0 0"},children:u})]}),_.jsxs("div",{style:{marginBottom:"1.5rem"},children:[_.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#e2e8f0",fontSize:"0.9375rem"},children:["ifre",_.jsx("span",{style:{color:"#ef4444",marginLeft:"0.25rem"},children:" *"})]}),_.jsx("input",{type:"password",value:n,onChange:D=>{i(D.target.value),h(""),o("")},placeholder:"",required:!0,style:{width:"100%",padding:"0.875rem 1rem",fontSize:"1rem",background:"rgba(30, 41, 59, 0.6)",border:f?"2px solid #ef4444":"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"12px",boxSizing:"border-box",fontFamily:"inherit",color:"#ffffff",transition:"all 0.3s ease",outline:"none"},className:"dark-input",onFocus:D=>{D.target.style.borderColor="#a855f7",D.target.style.boxShadow="0 0 0 3px rgba(168, 85, 247, 0.1)"},onBlur:D=>{D.target.style.borderColor=f?"#ef4444":"rgba(139, 92, 246, 0.3)",D.target.style.boxShadow="none"}}),f&&_.jsx("p",{style:{color:"#fca5a5",fontSize:"0.875rem",margin:"0.5rem 0 0 0"},children:f})]}),s&&!u&&!f&&_.jsxs("div",{style:{padding:b?"0.875rem":"1rem",background:"rgba(239, 68, 68, 0.15)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"12px",color:"#fca5a5",marginBottom:"1.25rem",fontSize:b?"0.875rem":"0.9375rem",fontWeight:"500",display:"flex",alignItems:"center",gap:"0.5rem",boxShadow:"0 2px 8px rgba(239, 68, 68, 0.2)",backdropFilter:"blur(10px)"},children:[_.jsx("span",{children:""}),_.jsx("span",{children:s})]}),_.jsx("button",{type:"submit",disabled:p,style:{width:"100%",marginTop:"0.5rem",padding:b?"0.875rem 1.5rem":"1rem 2rem",fontSize:b?"1rem":"1.0625rem",fontWeight:"600",background:p?"rgba(148, 163, 184, 0.2)":"linear-gradient(135deg, #6366f1 0%, #8b5cf6 50%, #a855f7 100%)",border:"none",boxShadow:p?"none":"0 10px 30px rgba(99, 102, 241, 0.4), 0 0 20px rgba(139, 92, 246, 0.3)",transition:"all 0.3s ease",cursor:p?"not-allowed":"pointer",color:"#ffffff",position:"relative",overflow:"hidden",borderRadius:"12px",fontFamily:"inherit",outline:"none"},onMouseEnter:D=>{p||(D.target.style.background="linear-gradient(135deg, #7c3aed 0%, #9333ea 50%, #a855f7 100%)",D.target.style.boxShadow="0 15px 40px rgba(99, 102, 241, 0.5), 0 0 30px rgba(139, 92, 246, 0.4)",D.target.style.transform="translateY(-2px)")},onMouseLeave:D=>{p||(D.target.style.background="linear-gradient(135deg, #6366f1 0%, #8b5cf6 50%, #a855f7 100%)",D.target.style.boxShadow="0 10px 30px rgba(99, 102, 241, 0.4), 0 0 20px rgba(139, 92, 246, 0.3)",D.target.style.transform="translateY(0)")},onMouseDown:D=>{p||(D.target.style.transform="translateY(0)")},children:p?"Giri yaplyor...":"Giri Yap"})]}),_.jsx("div",{style:{marginTop:b?"2rem":"2.5rem",padding:b?"1.25rem":"1.5rem",background:"rgba(30, 41, 59, 0.6)",backdropFilter:"blur(10px)",borderRadius:"12px",fontSize:b?"0.875rem":"0.9375rem",color:"#cbd5e1",border:"1px solid rgba(139, 92, 246, 0.2)"},children:_.jsxs("p",{style:{margin:0,textAlign:"center",lineHeight:"1.6",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[_.jsx("span",{children:""}),_.jsxs("span",{children:[_.jsx("strong",{children:"Bilgi:"})," Hesap oluturma iin ltfen ynetici ile iletiime gein."]})]})})]})]})}const rv=W.createContext(null);function m8({children:t}){const[e,n]=W.useState(()=>localStorage.getItem("adminTheme")||"light");W.useEffect(()=>{localStorage.setItem("adminTheme",e),document.body.setAttribute("data-theme",e)},[e]);const o={theme:e,toggleTheme:()=>{n(u=>u==="light"?"dark":"light")},setThemeMode:u=>{n(u)},isDark:e==="dark"};return _.jsx(rv.Provider,{value:o,children:t})}function Wo(){const t=W.useContext(rv);if(!t)throw new Error("useTheme must be used within ThemeProvider");return t}function ka({children:t}){const[e,n]=W.useState(()=>{if(typeof window<"u"){const L=localStorage.getItem("sidebarOpen");return L!==null?JSON.parse(L):!0}return!0}),[i,s]=W.useState(!1),[o,u]=W.useState({show:!1,text:"",x:0,y:0,type:""}),{business:c,signOut:f}=$o(),{notifyLogoutSuccess:h,notifyLogoutError:p,showSuccess:y}=Tu(),{theme:b,isDark:g,setThemeMode:S}=Wo(),E=Fo(),k=o0();W.useEffect(()=>{const L=window.innerWidth<768;s(L),L&&(n(!1),typeof window<"u"&&localStorage.setItem("sidebarOpen","false"));const K=()=>{const N=window.innerWidth<768;s(P=>(N&&!P&&(n(!1),typeof window<"u"&&localStorage.setItem("sidebarOpen","false")),N))};return window.addEventListener("resize",K),()=>window.removeEventListener("resize",K)},[]),W.useEffect(()=>{const L="custom-sidebar-scrollbar";let K=document.getElementById(L);K||(K=document.createElement("style"),K.id=L,document.head.appendChild(K)),K.textContent=`
      .custom-sidebar::-webkit-scrollbar {
        width: 6px;
        height: 6px;
      }
      .custom-sidebar::-webkit-scrollbar-track {
        background: ${g?"rgba(15, 23, 42, 0.5)":"rgba(249, 250, 251, 0.5)"};
        border-radius: 3px;
      }
      .custom-sidebar::-webkit-scrollbar-thumb {
        background: ${g?"rgba(139, 92, 246, 0.4)":"rgba(0, 0, 0, 0.2)"};
        border-radius: 3px;
      }
      .custom-sidebar::-webkit-scrollbar-thumb:hover {
        background: ${g?"rgba(139, 92, 246, 0.6)":"rgba(0, 0, 0, 0.3)"};
      }
    `},[g]);const T=async()=>{const L=await f();L.success?(h(),k("/admin")):p(L.error)},z=()=>{const L=!e;n(L),typeof window<"u"&&localStorage.setItem("sidebarOpen",JSON.stringify(L))};W.useEffect(()=>{typeof window<"u"&&localStorage.setItem("sidebarOpen",JSON.stringify(e))},[e]);const B=[{path:"/admin/dashboard",label:"Dashboard",icon:"dashboard"},{path:"/admin/orders",label:"Sipariler",icon:"orders"},{path:"/admin/payments",label:"demeler",icon:"payments"},{path:"/admin/products",label:"rnler",icon:"products"},{path:"/admin/categories",label:"Kategoriler",icon:"categories"},{path:"/admin/settings",label:"Ayarlar",icon:"settings"}],D=(L,K)=>{const N=e?"20":"22",P=g?"#f1f5f9":"#ffffff",X=ne(K)?"#ffffff":P;switch(L){case"dashboard":return _.jsxs("svg",{width:N,height:N,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[_.jsx("rect",{x:"3",y:"3",width:"7",height:"7",rx:"1",stroke:X,strokeWidth:"2",fill:"none"}),_.jsx("rect",{x:"14",y:"3",width:"7",height:"7",rx:"1",stroke:X,strokeWidth:"2",fill:"none"}),_.jsx("rect",{x:"3",y:"14",width:"7",height:"7",rx:"1",stroke:X,strokeWidth:"2",fill:"none"}),_.jsx("rect",{x:"14",y:"14",width:"7",height:"7",rx:"1",stroke:X,strokeWidth:"2",fill:"none"})]});case"orders":return _.jsxs("svg",{width:parseInt(N)+4,height:parseInt(N)+4,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[_.jsx("path",{d:"M32.749 46.92c8.648 0 15.674-6.633 15.973-14.92c-.299-8.287-7.325-14.92-15.973-14.92c-8.647 0-15.675 6.633-15.97 14.92c.294 8.287 7.322 14.92 15.97 14.92",fill:X,fillOpacity:"1"}),_.jsx("path",{d:"M32.75 10c-12.15 0-22.001 9.85-22.001 22c0 12.149 9.852 22 22.001 22c12.149 0 22-9.851 22-22c0-12.15-9.851-22-22-22m-.001 38c-8.837 0-16.001-6.921-16.001-15.461c0-.182.025-.359.031-.539c-.006-.18-.031-.358-.031-.539c0-8.54 7.165-15.461 16.001-15.461c8.837 0 16 6.921 16 15.461c0 .181-.021.359-.026.539c.006.18.026.357.026.539c-.001 8.54-7.163 15.461-16 15.461",fill:X,fillOpacity:g?"0.85":"0.8"}),_.jsx("path",{d:"M3.481 7.421c.24-.941.715-.011.715-.011s.166 9.74 1.246 9.846c1.08.106.248-10.022 1.526-10.216c1.188-.189.51 10.377 1.592 10.27c1.078-.114 1.26-9.85 1.26-9.85s.48-.929.717.005c2.928 11.51.559 16.215.559 16.215s-.4.989-1.35.994c-.089-.005-.022 27.336-.028 31.012c.002 1.787-5.5 1.732-5.497-.047c.004-3.676.111-31.014.025-31.012c-.953 0-1.352-.988-1.352-.988s-2.36-4.702.587-16.218",fill:X,fillOpacity:"1"}),_.jsx("path",{d:"M55.62 7c1.238-.003 6.374 3.7 6.38 17.462c.006 4.401-2.395 4.4-2.391 7.153c.004 2.748.019 24.606.019 24.606s-2.634 1.807-4.592-.084L55 7.391c.002.001-.005-.392.62-.391",fill:X,fillOpacity:"1"})]});case"payments":return _.jsxs("svg",{width:N,height:N,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[_.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2",stroke:X,strokeWidth:"2",fill:"none"}),_.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10",stroke:X,strokeWidth:"2"})]});case"products":return _.jsxs("svg",{width:N,height:N,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[_.jsx("path",{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z",stroke:X,strokeWidth:"2",fill:"none"}),_.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6",stroke:X,strokeWidth:"2"}),_.jsx("path",{d:"M16 10a4 4 0 0 1-8 0",stroke:X,strokeWidth:"2",fill:"none"})]});case"categories":return _.jsx("svg",{width:N,height:N,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:_.jsx("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z",stroke:X,strokeWidth:"2",fill:"none"})});case"settings":return _.jsx("svg",{width:N,height:N,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:_.jsxs("g",{stroke:X,strokeWidth:"2.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("circle",{cx:"12",cy:"12",r:"7.5"}),_.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"4.5"}),_.jsx("line",{x1:"12",y1:"19.5",x2:"12",y2:"23"}),_.jsx("line",{x1:"1",y1:"12",x2:"4.5",y2:"12"}),_.jsx("line",{x1:"19.5",y1:"12",x2:"23",y2:"12"}),_.jsx("line",{x1:"4.5",y1:"4.5",x2:"6.3",y2:"6.3"}),_.jsx("line",{x1:"17.7",y1:"17.7",x2:"19.5",y2:"19.5"}),_.jsx("line",{x1:"4.5",y1:"19.5",x2:"6.3",y2:"17.7"}),_.jsx("line",{x1:"17.7",y1:"6.3",x2:"19.5",y2:"4.5"})]})});default:return null}},ne=L=>E.pathname===L,H=()=>{i&&n(!1)},te=i?0:90,I=g?{background:"#000000",position:"relative",overflow:"hidden"}:{};return _.jsxs("div",{style:{display:"flex",minHeight:"100vh",background:g?"#000000":"#f5f5f5",position:"relative",...I},children:[g&&_.jsxs(_.Fragment,{children:[_.jsx("div",{style:{position:"fixed",top:0,right:0,width:"60%",height:"100%",background:"linear-gradient(180deg, #6b21a8 0%, #a855f7 30%, #ec4899 60%, #ef4444 100%)",opacity:.6,filter:"blur(80px)",transform:"translate(20%, -10%)",animation:"pulseGlow 8s ease-in-out infinite",pointerEvents:"none",zIndex:0}}),_.jsx("div",{style:{position:"fixed",top:"-20%",left:"-10%",width:"40%",height:"40%",background:"radial-gradient(circle, rgba(34, 197, 94, 0.2) 0%, transparent 70%)",borderRadius:"50%",filter:"blur(60px)",animation:"floatGlow 12s ease-in-out infinite",pointerEvents:"none",zIndex:0}}),_.jsx("div",{style:{position:"fixed",top:"30%",left:"20%",width:"30%",height:"30%",background:"radial-gradient(circle, rgba(168, 85, 247, 0.3) 0%, transparent 70%)",borderRadius:"50%",filter:"blur(50px)",animation:"floatGlow 10s ease-in-out infinite reverse",pointerEvents:"none",zIndex:0}}),_.jsx("div",{style:{position:"fixed",bottom:"-15%",right:"10%",width:"35%",height:"35%",background:"radial-gradient(circle, rgba(239, 68, 68, 0.25) 0%, transparent 70%)",borderRadius:"50%",filter:"blur(70px)",animation:"floatGlow 14s ease-in-out infinite",pointerEvents:"none",zIndex:0}}),_.jsx("style",{children:`
            @keyframes pulseGlow {
              0%, 100% {
                opacity: 0.6;
                transform: translate(20%, -10%) scale(1);
              }
              50% {
                opacity: 0.8;
                transform: translate(25%, -15%) scale(1.1);
              }
            }
            @keyframes floatGlow {
              0%, 100% {
                transform: translate(0, 0) scale(1);
                opacity: 0.5;
              }
              50% {
                transform: translate(20px, -20px) scale(1.2);
                opacity: 0.8;
              }
            }
          `})]}),i&&_.jsx("button",{onClick:z,style:{position:"fixed",top:"1rem",left:"1rem",zIndex:1001,background:g?"rgba(15, 23, 42, 0.95)":"rgba(30, 41, 59, 0.95)",color:"#ffffff",border:g?"1px solid rgba(139, 92, 246, 0.3)":"1px solid rgba(255, 255, 255, 0.4)",borderRadius:"12px",padding:"0.75rem",cursor:"pointer",fontSize:"1.5rem",boxShadow:g?"0 4px 12px rgba(0, 0, 0, 0.3), 0 0 0 1px rgba(139, 92, 246, 0.2)":"0 4px 12px rgba(0, 0, 0, 0.2), 0 0 0 1px rgba(255, 255, 255, 0.3)",transition:"all 0.3s ease",display:"flex",alignItems:"center",justifyContent:"center",width:"48px",height:"48px",backdropFilter:"blur(10px)"},onMouseEnter:L=>{L.currentTarget.style.background=g?"rgba(30, 41, 59, 0.95)":"rgba(30, 41, 59, 1)",L.currentTarget.style.transform="scale(1.05)"},onMouseLeave:L=>{L.currentTarget.style.background=g?"rgba(15, 23, 42, 0.95)":"rgba(30, 41, 59, 0.95)",L.currentTarget.style.transform="scale(1)"},children:e?_.jsx("span",{style:{display:"block",width:"20px",height:"2px",background:"currentColor",transform:"rotate(45deg)",position:"relative",transition:"all 0.3s ease"},children:_.jsx("span",{style:{position:"absolute",width:"20px",height:"2px",background:"currentColor",transform:"rotate(-90deg)",top:0,left:0}})}):_.jsxs("span",{style:{display:"flex",flexDirection:"column",gap:"4px",width:"20px"},children:[_.jsx("span",{style:{display:"block",width:"100%",height:"2px",background:"currentColor",borderRadius:"2px",transition:"all 0.3s ease"}}),_.jsx("span",{style:{display:"block",width:"100%",height:"2px",background:"currentColor",borderRadius:"2px",transition:"all 0.3s ease"}}),_.jsx("span",{style:{display:"block",width:"100%",height:"2px",background:"currentColor",borderRadius:"2px",transition:"all 0.3s ease"}})]})}),i&&e&&_.jsx("div",{onClick:H,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",zIndex:999,transition:"opacity 0.3s"}}),_.jsxs("aside",{className:"custom-sidebar",style:{width:i||e?"280px":te,background:g?"rgba(15, 23, 42, 0.98)":"rgba(30, 41, 59, 0.98)",color:g?"#ffffff":"#1e293b",transition:i?"transform 0.3s":"width 0.3s, transform 0.3s",display:"flex",flexDirection:"column",position:"fixed",height:"100vh",overflowY:"auto",overflowX:"auto",zIndex:1e3,transform:i&&!e?"translateX(-100%)":"translateX(0)",boxShadow:g?"4px 0 20px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(139, 92, 246, 0.4), inset -1px 0 0 rgba(139, 92, 246, 0.2)":"4px 0 16px rgba(0, 0, 0, 0.15), 0 0 0 1px rgba(0, 0, 0, 0.08), inset -1px 0 0 rgba(0, 0, 0, 0.05)",borderRight:g?"2px solid rgba(139, 92, 246, 0.4)":"2px solid rgba(0, 0, 0, 0.12)",backdropFilter:"blur(20px)"},children:[!i&&!e&&_.jsx("div",{style:{padding:"1rem",borderBottom:g?"1px solid rgba(139, 92, 246, 0.3)":"1px solid rgba(255, 255, 255, 0.1)",display:"flex",alignItems:"center",justifyContent:"center",background:g?"rgba(30, 41, 59, 0.5)":"rgba(15, 23, 42, 0.3)"},children:_.jsx("button",{onClick:z,style:{background:g?"rgba(30, 41, 59, 0.8)":"rgba(15, 23, 42, 0.6)",border:g?"1px solid rgba(139, 92, 246, 0.3)":"1px solid rgba(255, 255, 255, 0.2)",color:"#ffffff",cursor:"pointer",fontSize:"0.875rem",padding:"0.5rem",borderRadius:"8px",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",width:"36px",height:"36px",boxShadow:g?"0 2px 6px rgba(0, 0, 0, 0.3)":"0 1px 3px rgba(0, 0, 0, 0.1)"},onMouseEnter:L=>{L.currentTarget.style.background=g?"rgba(30, 41, 59, 1)":"rgba(15, 23, 42, 0.8)",L.currentTarget.style.transform="scale(1.1)"},onMouseLeave:L=>{L.currentTarget.style.background=g?"rgba(30, 41, 59, 0.8)":"rgba(15, 23, 42, 0.6)",L.currentTarget.style.transform="scale(1)"},children:""})}),_.jsxs("div",{style:{padding:i?"1.25rem 1rem":e?"1.5rem":"1rem",borderBottom:g?"1px solid rgba(139, 92, 246, 0.3)":"1px solid rgba(255, 255, 255, 0.1)",display:"flex",flexDirection:e?"row":"column",alignItems:e?"flex-start":"center",justifyContent:e?"space-between":"center",gap:"0.75rem",background:g?"rgba(30, 41, 59, 0.5)":"rgba(15, 23, 42, 0.3)",position:"relative"},children:[e?_.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.75rem",flex:1,minWidth:0,marginRight:"auto",paddingRight:i?"3.5rem":"4rem"},children:[c?.logo_url&&_.jsx("div",{style:{width:"64px",height:"64px",minWidth:"64px",minHeight:"64px",maxWidth:"64px",maxHeight:"64px",borderRadius:"12px",overflow:"hidden",background:g?"rgba(30, 41, 59, 0.8)":"rgba(15, 23, 42, 0.5)",padding:"4px",boxShadow:g?"0 4px 12px rgba(0, 0, 0, 0.3), 0 0 0 1px rgba(139, 92, 246, 0.2)":"0 2px 8px rgba(0, 0, 0, 0.1)",display:"flex",alignItems:"center",justifyContent:"center",border:g?"1px solid rgba(139, 92, 246, 0.3)":"1px solid rgba(0, 0, 0, 0.05)"},children:_.jsx("img",{src:c.logo_url,alt:c.name||"Logo",style:{width:"100%",height:"100%",objectFit:"contain",display:"block"},onError:L=>{L.target.style.display="none"}},c.logo_url)}),_.jsx("h2",{style:{margin:0,fontSize:i?"1rem":"1.125rem",fontWeight:"700",whiteSpace:"normal",overflow:"hidden",textOverflow:"ellipsis",letterSpacing:"-0.025em",textAlign:"center",wordBreak:"break-word",lineHeight:"1.3",maxHeight:"2.6em",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",color:"#ffffff",textShadow:g?"0 2px 4px rgba(0, 0, 0, 0.2)":"0 2px 4px rgba(0, 0, 0, 0.3)"},children:c?.name||"QR Menu"})]}):!i&&c?.logo_url&&_.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",padding:"0.15rem 0.5rem"},children:_.jsx("div",{style:{width:"70px",height:"70px",borderRadius:"12px",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center"},children:_.jsx("img",{src:c.logo_url,alt:c.name||"Logo",style:{width:"100%",height:"100%",objectFit:"contain",display:"block"},onError:L=>{L.target.style.display="none"}},c.logo_url)})}),e&&_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",flexShrink:0,position:"absolute",top:i?"1.25rem":"1.5rem",right:i?"1rem":"1.5rem"},children:[_.jsx("div",{onClick:()=>{S(b==="dark"?"light":"dark"),y("Tema deitirildi",b==="dark"?"Ak tema aktif":"Koyu tema aktif")},style:{cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.3s ease",padding:"6px",borderRadius:"50%",background:b==="dark"?"rgba(167, 139, 250, 0.15)":"rgba(245, 158, 11, 0.15)",border:b==="dark"?"1px solid rgba(167, 139, 250, 0.3)":"1px solid rgba(245, 158, 11, 0.3)"},onMouseEnter:L=>{L.currentTarget.style.transform="scale(1.1)",L.currentTarget.style.opacity="0.8",L.currentTarget.style.background=b==="dark"?"rgba(167, 139, 250, 0.25)":"rgba(245, 158, 11, 0.25)"},onMouseLeave:L=>{L.currentTarget.style.transform="scale(1)",L.currentTarget.style.opacity="1",L.currentTarget.style.background=b==="dark"?"rgba(167, 139, 250, 0.15)":"rgba(245, 158, 11, 0.15)"},children:b==="dark"?_.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:_.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z",stroke:"#a78bfa",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"#a78bfa"})}):_.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[_.jsx("circle",{cx:"12",cy:"12",r:"5",stroke:"#f59e0b",strokeWidth:"2.5",fill:"#f59e0b"}),_.jsx("path",{d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42",stroke:"#f59e0b",strokeWidth:"2.5",strokeLinecap:"round"})]})}),!i&&_.jsx("button",{onClick:z,style:{background:g?"rgba(30, 41, 59, 0.6)":"rgba(15, 23, 42, 0.5)",border:g?"1px solid rgba(139, 92, 246, 0.3)":"1px solid rgba(255, 255, 255, 0.2)",color:"#ffffff",cursor:"pointer",fontSize:"1rem",padding:"0.5rem",borderRadius:"8px",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",width:"32px",height:"32px"},onMouseEnter:L=>{L.currentTarget.style.background=g?"rgba(30, 41, 59, 0.9)":"rgba(15, 23, 42, 0.7)",L.currentTarget.style.transform="scale(1.1)"},onMouseLeave:L=>{L.currentTarget.style.background=g?"rgba(30, 41, 59, 0.6)":"rgba(15, 23, 42, 0.5)",L.currentTarget.style.transform="scale(1)"},children:""})]}),!i&&!e&&_.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",padding:"0.05rem 0"},children:_.jsx("div",{onClick:()=>{S(b==="dark"?"light":"dark"),y("Tema deitirildi",b==="dark"?"Ak tema aktif":"Koyu tema aktif")},style:{cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.3s ease",padding:"6px",borderRadius:"50%",background:b==="dark"?"rgba(167, 139, 250, 0.15)":"rgba(245, 158, 11, 0.15)",border:b==="dark"?"1px solid rgba(167, 139, 250, 0.3)":"1px solid rgba(245, 158, 11, 0.3)",position:"relative"},onMouseEnter:L=>{L.currentTarget.style.transform="scale(1.1)",L.currentTarget.style.opacity="0.8",L.currentTarget.style.background=b==="dark"?"rgba(167, 139, 250, 0.25)":"rgba(245, 158, 11, 0.25)";const K=L.currentTarget.getBoundingClientRect();u({show:!0,text:b==="dark"?"Koyu Tema":"Ak Tema",x:90,y:K.top+K.height/2,type:"theme"})},onMouseLeave:L=>{L.currentTarget.style.transform="scale(1)",L.currentTarget.style.opacity="1",L.currentTarget.style.background=b==="dark"?"rgba(167, 139, 250, 0.15)":"rgba(245, 158, 11, 0.15)",u({show:!1,text:"",x:0,y:0,type:""})},children:b==="dark"?_.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:_.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z",stroke:"#a78bfa",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"#a78bfa"})}):_.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[_.jsx("circle",{cx:"12",cy:"12",r:"5",stroke:"#f59e0b",strokeWidth:"2.5",fill:"#f59e0b"}),_.jsx("path",{d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42",stroke:"#f59e0b",strokeWidth:"2.5",strokeLinecap:"round"})]})})})]}),_.jsx("nav",{style:{flex:1,padding:i?"1rem 0":"1.25rem 0"},children:B.map(L=>_.jsxs(fg,{to:L.path,onClick:()=>{i&&n(!1)},style:{display:"flex",alignItems:"center",justifyContent:e?"flex-start":"center",padding:e?i?"1rem 1.5rem":"0.875rem 1.5rem":i?"1rem":"0.875rem",color:ne(L.path)?"#ffffff":g?"#f1f5f9":"#ffffff",background:ne(L.path)?g?"linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%)":"#3b82f6":"transparent",textDecoration:"none",transition:"all 0.2s",margin:e?"0.25rem 0.75rem":"0.25rem 0.5rem",borderRadius:"10px",fontSize:i?"1rem":"0.96875rem",fontWeight:ne(L.path)?"600":"400",boxShadow:ne(L.path)&&g?"0 4px 12px rgba(99, 102, 241, 0.3)":ne(L.path)?"0 2px 8px rgba(59, 130, 246, 0.2)":"none",position:"relative"},onMouseEnter:K=>{if(!ne(L.path)&&!i&&(K.currentTarget.style.background=g?"rgba(30, 41, 59, 0.6)":"rgba(255, 255, 255, 0.1)",K.currentTarget.style.color="#ffffff"),!e&&!i){const N=K.currentTarget.getBoundingClientRect();u({show:!0,text:L.label,x:90,y:N.top+N.height/2,type:"menu"})}},onMouseLeave:K=>{!ne(L.path)&&!i&&(K.currentTarget.style.background="transparent",K.currentTarget.style.color=g?"#f1f5f9":"#ffffff"),!e&&!i&&u({show:!1,text:"",x:0,y:0,type:""})},children:[_.jsx("span",{style:{marginRight:e?"0.875rem":0,minWidth:e?"20px":"22px",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:D(L.icon,L.path)}),e&&_.jsx("span",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:L.label})]},L.path))}),_.jsx("div",{style:{padding:i?"1rem":"1.25rem",borderTop:g?"1px solid rgba(139, 92, 246, 0.3)":"1px solid rgba(0, 0, 0, 0.1)",background:g?"rgba(30, 41, 59, 0.5)":"rgba(15, 23, 42, 0.3)"},children:_.jsx(Qr,{onClick:T,variant:"danger",style:{width:"100%",background:g?"linear-gradient(135deg, #dc2626 0%, #b91c1c 100%)":"#dc2626",padding:e?i?"1rem":"0.875rem":i?"1rem":"0.75rem",fontSize:i?"1rem":"0.96875rem",fontWeight:"600",borderRadius:"10px",boxShadow:g?"0 4px 12px rgba(220, 38, 38, 0.3)":"0 2px 8px rgba(220, 38, 38, 0.2)",border:g?"1px solid rgba(220, 38, 38, 0.3)":"none",transition:"all 0.3s ease",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},onMouseEnter:L=>{if(L.currentTarget.style.transform="translateY(-1px)",L.currentTarget.style.boxShadow=g?"0 6px 16px rgba(220, 38, 38, 0.4)":"0 4px 12px rgba(220, 38, 38, 0.3)",!e&&!i){const K=L.currentTarget.getBoundingClientRect();u({show:!0,text:"k Yap",x:90,y:K.top+K.height/2,type:"logout"})}},onMouseLeave:L=>{L.currentTarget.style.transform="translateY(0)",L.currentTarget.style.boxShadow=g?"0 4px 12px rgba(220, 38, 38, 0.3)":"0 2px 8px rgba(220, 38, 38, 0.2)",!e&&!i&&u({show:!1,text:"",x:0,y:0,type:""})},children:e?_.jsxs(_.Fragment,{children:[_.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:"0.5rem"},children:[_.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),_.jsx("polyline",{points:"16 17 21 12 16 7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),_.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]}),"k Yap"]}):_.jsx(_.Fragment,{children:_.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[_.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),_.jsx("polyline",{points:"16 17 21 12 16 7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),_.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]})})})})]}),_.jsx("main",{style:{marginLeft:i?0:e?"280px":"90px",flex:1,transition:"margin-left 0.3s",paddingTop:i?"4rem":"2.5rem",paddingRight:i?"1rem":"3rem",paddingBottom:i?"1rem":"2.5rem",paddingLeft:i?"1rem":"3rem",width:i?"100%":`calc(100% - ${e?"280px":"90px"})`,maxWidth:i?"100%":"1400px",position:"relative",zIndex:1},children:t}),o.show&&Ic.createPortal(_.jsx("div",{style:{position:"fixed",left:`${o.x}px`,top:`${o.y}px`,padding:"0.5rem 0.75rem",background:g?"rgba(15, 23, 42, 0.95)":"rgba(255, 255, 255, 0.95)",color:g?"#ffffff":"#1e293b",borderRadius:"8px",fontSize:"0.875rem",whiteSpace:"nowrap",boxShadow:g?"0 4px 12px rgba(0, 0, 0, 0.4)":"0 2px 8px rgba(0, 0, 0, 0.15)",border:o.type==="logout"?g?"1px solid rgba(220, 38, 38, 0.3)":"1px solid rgba(0, 0, 0, 0.1)":g?"1px solid rgba(139, 92, 246, 0.3)":"1px solid rgba(0, 0, 0, 0.1)",pointerEvents:"none",transform:"translate(-50%, -50%)",transition:"opacity 0.2s, transform 0.2s",zIndex:10001,marginLeft:"0.75rem"},children:o.text}),document.body)]})}function y8(){const{business:t}=$o(),{isDark:e}=Wo(),{products:n,loading:i}=bg(t?.id),{categories:s,loading:o}=yg(t?.id),[u,c]=W.useState(!1),[f,h]=W.useState({totalProducts:0,activeProducts:0,totalCategories:0,totalViews:0});if(W.useEffect(()=>{const b=()=>{c(window.innerWidth<768)};return b(),window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[]),W.useEffect(()=>{n&&s&&h({totalProducts:n.length,activeProducts:n.filter(b=>b.is_active).length,totalCategories:s.length,totalViews:0})},[n,s]),i||o)return _.jsx(ka,{children:_.jsx(Ga,{message:"Ykleniyor..."})});const p=t?.id?`${window.location.origin}`:"",y=()=>{p&&(navigator.clipboard.writeText(p),alert(" Link kopyaland!"))};return _.jsx(ka,{children:_.jsxs("div",{children:[_.jsxs("h1",{style:{margin:0,marginBottom:u?"1.5rem":"2rem",fontSize:u?"1.5rem":"2rem",color:e?"#ffffff":"#1e293b",display:"flex",alignItems:"center",gap:"0.75rem"},children:[_.jsxs("svg",{width:u?"24":"28",height:u?"24":"28",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[_.jsx("rect",{x:"3",y:"3",width:"7",height:"7",rx:"1",stroke:e?"#ffffff":"#1e293b",strokeWidth:"2",fill:"none"}),_.jsx("rect",{x:"14",y:"3",width:"7",height:"7",rx:"1",stroke:e?"#ffffff":"#1e293b",strokeWidth:"2",fill:"none"}),_.jsx("rect",{x:"3",y:"14",width:"7",height:"7",rx:"1",stroke:e?"#ffffff":"#1e293b",strokeWidth:"2",fill:"none"}),_.jsx("rect",{x:"14",y:"14",width:"7",height:"7",rx:"1",stroke:e?"#ffffff":"#1e293b",strokeWidth:"2",fill:"none"})]}),"Dashboard"]}),_.jsxs("div",{style:{display:"grid",gridTemplateColumns:u?"repeat(2, 1fr)":"repeat(auto-fit, minmax(200px, 1fr))",gap:u?"1rem":"1.5rem",marginBottom:u?"1.5rem":"2rem"},children:[_.jsx(ph,{title:"Toplam rn",value:f.totalProducts,icon:"",color:"#3b82f6",isMobile:u,isDark:e}),_.jsx(ph,{title:"Aktif rn",value:f.activeProducts,icon:"",color:"#10b981",isMobile:u,isDark:e}),_.jsx(ph,{title:"Kategori",value:f.totalCategories,icon:"",color:"#f59e0b",isMobile:u,isDark:e}),_.jsx(ph,{title:"Menu Linki",value:p?"Hazr":"Hazrlanyor",icon:"",color:"#8b5cf6",onClick:p?y:null,isMobile:u,isDark:e})]}),p&&_.jsxs("div",{style:{background:e?"rgba(15, 23, 42, 0.85)":"white",padding:u?"1rem":"1.5rem",borderRadius:"8px",marginBottom:u?"1.5rem":"2rem",boxShadow:e?"0 25px 50px -12px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(139, 92, 246, 0.2)":"0 1px 3px rgba(0,0,0,0.1)",border:e?"1px solid rgba(139, 92, 246, 0.3)":"none"},children:[_.jsx("h3",{style:{margin:"0 0 1rem 0",color:e?"#ffffff":"#1e293b",fontSize:u?"1rem":"1.25rem"},children:" Men Linki"}),_.jsxs("div",{style:{display:"flex",flexDirection:u?"column":"row",gap:"0.75rem",alignItems:u?"stretch":"center"},children:[_.jsx("input",{type:"text",value:p,readOnly:!0,style:{flex:1,padding:u?"0.625rem":"0.75rem",border:e?"1px solid rgba(139, 92, 246, 0.3)":"1px solid #e2e8f0",borderRadius:"6px",fontSize:u?"0.875rem":"0.9375rem",fontFamily:"monospace",wordBreak:"break-all",background:e?"rgba(30, 41, 59, 0.6)":"white",color:e?"#ffffff":"#1e293b"}}),_.jsxs("button",{onClick:y,style:{padding:u?"0.625rem 1rem":"0.75rem 1.5rem",background:"#3b82f6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"500",whiteSpace:"nowrap"},children:[" ","Kopyala"]})]}),_.jsx("p",{style:{margin:"0.75rem 0 0 0",color:e?"#cbd5e1":"#64748b",fontSize:u?"0.75rem":"0.875rem"},children:"Bu linki QR kod olarak basabilirsiniz"})]}),_.jsxs("div",{style:{background:e?"rgba(15, 23, 42, 0.85)":"white",padding:u?"1rem":"1.5rem",borderRadius:"8px",boxShadow:e?"0 25px 50px -12px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(139, 92, 246, 0.2)":"0 1px 3px rgba(0,0,0,0.1)",border:e?"1px solid rgba(139, 92, 246, 0.3)":"none"},children:[_.jsx("h3",{style:{margin:"0 0 1rem 0",color:e?"#ffffff":"#1e293b",fontSize:u?"1rem":"1.25rem"},children:" Hzl Eriim"}),_.jsxs("div",{style:{display:"grid",gridTemplateColumns:u?"1fr":"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[_.jsx(gh,{href:"/admin/orders",label:" Sipariler",icon:"",isMobile:u,isDark:e}),_.jsx(gh,{href:"/admin/products",label:" rn Ekle",icon:"",isMobile:u,isDark:e}),_.jsx(gh,{href:"/admin/categories",label:" Kategori Ekle",icon:"",isMobile:u,isDark:e}),_.jsx(gh,{href:"/admin/settings",label:" Ayarlar",icon:"",isMobile:u,isDark:e})]})]})]})})}function ph({title:t,value:e,icon:n,color:i,onClick:s,isMobile:o,isDark:u}){return _.jsx("div",{onClick:s,style:{background:u?"rgba(15, 23, 42, 0.85)":"white",padding:o?"1rem":"1.5rem",borderRadius:"8px",boxShadow:u?"0 25px 50px -12px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(139, 92, 246, 0.2)":"0 1px 3px rgba(0,0,0,0.1)",cursor:s?"pointer":"default",transition:"transform 0.2s",border:u?"1px solid rgba(139, 92, 246, 0.3)":"none"},onMouseEnter:c=>{s&&!o&&(c.currentTarget.style.transform="translateY(-2px)")},onMouseLeave:c=>{c.currentTarget.style.transform="translateY(0)"},children:_.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",flexDirection:o?"column":"row",gap:o?"0.5rem":0},children:[_.jsxs("div",{style:{flex:1,textAlign:o?"center":"left"},children:[_.jsx("p",{style:{margin:0,color:u?"#cbd5e1":"#64748b",fontSize:o?"0.75rem":"0.875rem"},children:t}),_.jsx("p",{style:{margin:"0.5rem 0 0 0",fontSize:o?"1.5rem":"2rem",fontWeight:"bold",color:u?"#ffffff":"#1e293b"},children:e})]}),_.jsx("div",{style:{fontSize:o?"2rem":"2.5rem",opacity:.8},children:n})]})})}function gh({href:t,label:e,icon:n,isMobile:i,isDark:s}){return _.jsxs("a",{href:t,style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:i?"0.875rem":"1rem",background:s?"rgba(30, 41, 59, 0.6)":"#f8fafc",borderRadius:"6px",textDecoration:"none",color:s?"#ffffff":"#1e293b",border:s?"1px solid rgba(139, 92, 246, 0.3)":"1px solid #e2e8f0",transition:"all 0.2s"},onMouseEnter:o=>{i||(o.currentTarget.style.background=s?"rgba(30, 41, 59, 0.8)":"#f1f5f9",o.currentTarget.style.borderColor=s?"rgba(139, 92, 246, 0.5)":"#cbd5e1")},onMouseLeave:o=>{o.currentTarget.style.background=s?"rgba(30, 41, 59, 0.6)":"#f8fafc",o.currentTarget.style.borderColor=s?"rgba(139, 92, 246, 0.3)":"#e2e8f0"},children:[_.jsx("span",{style:{fontSize:i?"1.25rem":"1.5rem"},children:n}),_.jsx("span",{style:{fontWeight:"500",fontSize:i?"0.9375rem":"1rem"},children:e})]})}function xu({label:t,type:e="text",value:n,onChange:i,placeholder:s="",required:o=!1,error:u=null,style:c={}}){const{isDark:f}=Wo();return _.jsxs("div",{style:{marginBottom:"1rem",...c},children:[t&&_.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:f?"#cbd5e1":"#333"},children:[t,o&&_.jsx("span",{style:{color:"red"},children:" *"})]}),_.jsx("input",{type:e,value:n,onChange:i,placeholder:s,required:o,style:{width:"100%",padding:"0.75rem",fontSize:"1rem",border:u?"2px solid #dc3545":f?"1px solid rgba(139, 92, 246, 0.3)":"1px solid #ddd",borderRadius:"6px",boxSizing:"border-box",fontFamily:"inherit",background:f?"rgba(30, 41, 59, 0.6)":"white",color:f?"#ffffff":"#1e293b"}}),u&&_.jsx("p",{style:{color:"#dc3545",fontSize:"0.875rem",margin:"0.25rem 0 0 0"},children:u})]})}function b8(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return W.useMemo(()=>i=>{e.forEach(s=>s(i))},e)}const d0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Vc(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function wg(t){return"nodeType"in t}function zi(t){var e,n;return t?Vc(t)?t:wg(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function xg(t){const{Document:e}=zi(t);return t instanceof e}function cd(t){return Vc(t)?!1:t instanceof zi(t).HTMLElement}function iv(t){return t instanceof zi(t).SVGElement}function Kc(t){return t?Vc(t)?t.document:wg(t)?xg(t)?t:cd(t)||iv(t)?t.ownerDocument:document:document:document}const Ts=d0?W.useLayoutEffect:W.useEffect;function h0(t){const e=W.useRef(t);return Ts(()=>{e.current=t}),W.useCallback(function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return e.current==null?void 0:e.current(...i)},[])}function v8(){const t=W.useRef(null),e=W.useCallback((i,s)=>{t.current=setInterval(i,s)},[]),n=W.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function td(t,e){e===void 0&&(e=[t]);const n=W.useRef(t);return Ts(()=>{n.current!==t&&(n.current=t)},e),n}function fd(t,e){const n=W.useRef();return W.useMemo(()=>{const i=t(n.current);return n.current=i,i},[...e])}function Fh(t){const e=h0(t),n=W.useRef(null),i=W.useCallback(s=>{s!==n.current&&e?.(s,n.current),n.current=s},[]);return[n,i]}function Hh(t){const e=W.useRef();return W.useEffect(()=>{e.current=t},[t]),e.current}let Qp={};function dd(t,e){return W.useMemo(()=>{if(e)return e;const n=Qp[t]==null?0:Qp[t]+1;return Qp[t]=n,t+"-"+n},[t,e])}function av(t){return function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];return i.reduce((o,u)=>{const c=Object.entries(u);for(const[f,h]of c){const p=o[f];p!=null&&(o[f]=p+t*h)}return o},{...e})}}const Pc=av(1),nd=av(-1);function w8(t){return"clientX"in t&&"clientY"in t}function p0(t){if(!t)return!1;const{KeyboardEvent:e}=zi(t.target);return e&&t instanceof e}function x8(t){if(!t)return!1;const{TouchEvent:e}=zi(t.target);return e&&t instanceof e}function $h(t){if(x8(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return w8(t)?{x:t.clientX,y:t.clientY}:null}const Au=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[Au.Translate.toString(t),Au.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:i}=t;return e+" "+n+"ms "+i}}}),I5="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function _8(t){return t.matches(I5)?t:t.querySelector(I5)}const S8={display:"none"};function A8(t){let{id:e,value:n}=t;return hr.createElement("div",{id:e,style:S8},n)}function E8(t){let{id:e,announcement:n,ariaLiveType:i="assertive"}=t;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return hr.createElement("div",{id:e,style:s,role:"status","aria-live":i,"aria-atomic":!0},n)}function k8(){const[t,e]=W.useState("");return{announce:W.useCallback(i=>{i!=null&&e(i)},[]),announcement:t}}const sv=W.createContext(null);function T8(t){const e=W.useContext(sv);W.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function L8(){const[t]=W.useState(()=>new Set),e=W.useCallback(i=>(t.add(i),()=>t.delete(i)),[t]);return[W.useCallback(i=>{let{type:s,event:o}=i;t.forEach(u=>{var c;return(c=u[s])==null?void 0:c.call(u,o)})},[t]),e]}const C8={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},j8={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function N8(t){let{announcements:e=j8,container:n,hiddenTextDescribedById:i,screenReaderInstructions:s=C8}=t;const{announce:o,announcement:u}=k8(),c=dd("DndLiveRegion"),[f,h]=W.useState(!1);if(W.useEffect(()=>{h(!0)},[]),T8(W.useMemo(()=>({onDragStart(y){let{active:b}=y;o(e.onDragStart({active:b}))},onDragMove(y){let{active:b,over:g}=y;e.onDragMove&&o(e.onDragMove({active:b,over:g}))},onDragOver(y){let{active:b,over:g}=y;o(e.onDragOver({active:b,over:g}))},onDragEnd(y){let{active:b,over:g}=y;o(e.onDragEnd({active:b,over:g}))},onDragCancel(y){let{active:b,over:g}=y;o(e.onDragCancel({active:b,over:g}))}}),[o,e])),!f)return null;const p=hr.createElement(hr.Fragment,null,hr.createElement(A8,{id:i,value:s.draggable}),hr.createElement(E8,{id:c,announcement:u}));return n?Ic.createPortal(p,n):p}var Xr;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(Xr||(Xr={}));function Wh(){}function Gh(t,e){return W.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function ov(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return W.useMemo(()=>[...e].filter(i=>i!=null),[...e])}const Ls=Object.freeze({x:0,y:0});function lv(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function R8(t,e){const n=$h(t);if(!n)return"0 0";const i={x:(n.x-e.left)/e.width*100,y:(n.y-e.top)/e.height*100};return i.x+"% "+i.y+"%"}function uv(t,e){let{data:{value:n}}=t,{data:{value:i}}=e;return n-i}function O8(t,e){let{data:{value:n}}=t,{data:{value:i}}=e;return i-n}function M5(t){let{left:e,top:n,height:i,width:s}=t;return[{x:e,y:n},{x:e+s,y:n},{x:e,y:n+i},{x:e+s,y:n+i}]}function cv(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function z5(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const fv=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:i}=t;const s=z5(e,e.left,e.top),o=[];for(const u of i){const{id:c}=u,f=n.get(c);if(f){const h=lv(z5(f),s);o.push({id:c,data:{droppableContainer:u,value:h}})}}return o.sort(uv)},D8=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:i}=t;const s=M5(e),o=[];for(const u of i){const{id:c}=u,f=n.get(c);if(f){const h=M5(f),p=s.reduce((b,g,S)=>b+lv(h[S],g),0),y=Number((p/4).toFixed(4));o.push({id:c,data:{droppableContainer:u,value:y}})}}return o.sort(uv)};function I8(t,e){const n=Math.max(e.top,t.top),i=Math.max(e.left,t.left),s=Math.min(e.left+e.width,t.left+t.width),o=Math.min(e.top+e.height,t.top+t.height),u=s-i,c=o-n;if(i<s&&n<o){const f=e.width*e.height,h=t.width*t.height,p=u*c,y=p/(f+h-p);return Number(y.toFixed(4))}return 0}const M8=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:i}=t;const s=[];for(const o of i){const{id:u}=o,c=n.get(u);if(c){const f=I8(c,e);f>0&&s.push({id:u,data:{droppableContainer:o,value:f}})}}return s.sort(O8)};function z8(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function dv(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:Ls}function U8(t){return function(n){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return s.reduce((u,c)=>({...u,top:u.top+t*c.y,bottom:u.bottom+t*c.y,left:u.left+t*c.x,right:u.right+t*c.x}),{...n})}}const B8=U8(1);function hv(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function P8(t,e,n){const i=hv(e);if(!i)return t;const{scaleX:s,scaleY:o,x:u,y:c}=i,f=t.left-u-(1-s)*parseFloat(n),h=t.top-c-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),p=s?t.width/s:t.width,y=o?t.height/o:t.height;return{width:p,height:y,top:h,right:f+p,bottom:h+y,left:f}}const q8={ignoreTransform:!1};function Xc(t,e){e===void 0&&(e=q8);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:h,transformOrigin:p}=zi(t).getComputedStyle(t);h&&(n=P8(n,h,p))}const{top:i,left:s,width:o,height:u,bottom:c,right:f}=n;return{top:i,left:s,width:o,height:u,bottom:c,right:f}}function U5(t){return Xc(t,{ignoreTransform:!0})}function F8(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function H8(t,e){return e===void 0&&(e=zi(t).getComputedStyle(t)),e.position==="fixed"}function $8(t,e){e===void 0&&(e=zi(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const o=e[s];return typeof o=="string"?n.test(o):!1})}function g0(t,e){const n=[];function i(s){if(e!=null&&n.length>=e||!s)return n;if(xg(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!cd(s)||iv(s)||n.includes(s))return n;const o=zi(t).getComputedStyle(s);return s!==t&&$8(s,o)&&n.push(s),H8(s,o)?n:i(s.parentNode)}return t?i(t):n}function pv(t){const[e]=g0(t,1);return e??null}function Zp(t){return!d0||!t?null:Vc(t)?t:wg(t)?xg(t)||t===Kc(t).scrollingElement?window:cd(t)?t:null:null}function gv(t){return Vc(t)?t.scrollX:t.scrollLeft}function mv(t){return Vc(t)?t.scrollY:t.scrollTop}function P1(t){return{x:gv(t),y:mv(t)}}var si;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(si||(si={}));function yv(t){return!d0||!t?!1:t===document.scrollingElement}function bv(t){const e={x:0,y:0},n=yv(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},i={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},s=t.scrollTop<=e.y,o=t.scrollLeft<=e.x,u=t.scrollTop>=i.y,c=t.scrollLeft>=i.x;return{isTop:s,isLeft:o,isBottom:u,isRight:c,maxScroll:i,minScroll:e}}const W8={x:.2,y:.2};function G8(t,e,n,i,s){let{top:o,left:u,right:c,bottom:f}=n;i===void 0&&(i=10),s===void 0&&(s=W8);const{isTop:h,isBottom:p,isLeft:y,isRight:b}=bv(t),g={x:0,y:0},S={x:0,y:0},E={height:e.height*s.y,width:e.width*s.x};return!h&&o<=e.top+E.height?(g.y=si.Backward,S.y=i*Math.abs((e.top+E.height-o)/E.height)):!p&&f>=e.bottom-E.height&&(g.y=si.Forward,S.y=i*Math.abs((e.bottom-E.height-f)/E.height)),!b&&c>=e.right-E.width?(g.x=si.Forward,S.x=i*Math.abs((e.right-E.width-c)/E.width)):!y&&u<=e.left+E.width&&(g.x=si.Backward,S.x=i*Math.abs((e.left+E.width-u)/E.width)),{direction:g,speed:S}}function Y8(t){if(t===document.scrollingElement){const{innerWidth:o,innerHeight:u}=window;return{top:0,left:0,right:o,bottom:u,width:o,height:u}}const{top:e,left:n,right:i,bottom:s}=t.getBoundingClientRect();return{top:e,left:n,right:i,bottom:s,width:t.clientWidth,height:t.clientHeight}}function vv(t){return t.reduce((e,n)=>Pc(e,P1(n)),Ls)}function V8(t){return t.reduce((e,n)=>e+gv(n),0)}function K8(t){return t.reduce((e,n)=>e+mv(n),0)}function wv(t,e){if(e===void 0&&(e=Xc),!t)return;const{top:n,left:i,bottom:s,right:o}=e(t);pv(t)&&(s<=0||o<=0||n>=window.innerHeight||i>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const X8=[["x",["left","right"],V8],["y",["top","bottom"],K8]];class _g{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=g0(n),s=vv(i);this.rect={...e},this.width=e.width,this.height=e.height;for(const[o,u,c]of X8)for(const f of u)Object.defineProperty(this,f,{get:()=>{const h=c(i),p=s[o]-h;return this.rect[f]+p},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Hf{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...n)})},this.target=e}add(e,n,i){var s;(s=this.target)==null||s.addEventListener(e,n,i),this.listeners.push([e,n,i])}}function J8(t){const{EventTarget:e}=zi(t);return t instanceof e?t:Kc(t)}function e1(t,e){const n=Math.abs(t.x),i=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+i**2)>e:"x"in e&&"y"in e?n>e.x&&i>e.y:"x"in e?n>e.x:"y"in e?i>e.y:!1}var Wa;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(Wa||(Wa={}));function B5(t){t.preventDefault()}function Q8(t){t.stopPropagation()}var hn;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(hn||(hn={}));const xv={start:[hn.Space,hn.Enter],cancel:[hn.Esc],end:[hn.Space,hn.Enter,hn.Tab]},Z8=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case hn.Right:return{...n,x:n.x+25};case hn.Left:return{...n,x:n.x-25};case hn.Down:return{...n,y:n.y+25};case hn.Up:return{...n,y:n.y-25}}};class m0{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new Hf(Kc(n)),this.windowListeners=new Hf(zi(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Wa.Resize,this.handleCancel),this.windowListeners.add(Wa.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Wa.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,i=e.node.current;i&&wv(i),n(Ls)}handleKeyDown(e){if(p0(e)){const{active:n,context:i,options:s}=this.props,{keyboardCodes:o=xv,coordinateGetter:u=Z8,scrollBehavior:c="smooth"}=s,{code:f}=e;if(o.end.includes(f)){this.handleEnd(e);return}if(o.cancel.includes(f)){this.handleCancel(e);return}const{collisionRect:h}=i.current,p=h?{x:h.left,y:h.top}:Ls;this.referenceCoordinates||(this.referenceCoordinates=p);const y=u(e,{active:n,context:i.current,currentCoordinates:p});if(y){const b=nd(y,p),g={x:0,y:0},{scrollableAncestors:S}=i.current;for(const E of S){const k=e.code,{isTop:T,isRight:z,isLeft:B,isBottom:D,maxScroll:ne,minScroll:H}=bv(E),te=Y8(E),I={x:Math.min(k===hn.Right?te.right-te.width/2:te.right,Math.max(k===hn.Right?te.left:te.left+te.width/2,y.x)),y:Math.min(k===hn.Down?te.bottom-te.height/2:te.bottom,Math.max(k===hn.Down?te.top:te.top+te.height/2,y.y))},L=k===hn.Right&&!z||k===hn.Left&&!B,K=k===hn.Down&&!D||k===hn.Up&&!T;if(L&&I.x!==y.x){const N=E.scrollLeft+b.x,P=k===hn.Right&&N<=ne.x||k===hn.Left&&N>=H.x;if(P&&!b.y){E.scrollTo({left:N,behavior:c});return}P?g.x=E.scrollLeft-N:g.x=k===hn.Right?E.scrollLeft-ne.x:E.scrollLeft-H.x,g.x&&E.scrollBy({left:-g.x,behavior:c});break}else if(K&&I.y!==y.y){const N=E.scrollTop+b.y,P=k===hn.Down&&N<=ne.y||k===hn.Up&&N>=H.y;if(P&&!b.x){E.scrollTo({top:N,behavior:c});return}P?g.y=E.scrollTop-N:g.y=k===hn.Down?E.scrollTop-ne.y:E.scrollTop-H.y,g.y&&E.scrollBy({top:-g.y,behavior:c});break}}this.handleMove(e,Pc(nd(y,this.referenceCoordinates),g))}}}handleMove(e,n){const{onMove:i}=this.props;e.preventDefault(),i(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}m0.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:i=xv,onActivation:s}=e,{active:o}=n;const{code:u}=t.nativeEvent;if(i.start.includes(u)){const c=o.activatorNode.current;return c&&t.target!==c?!1:(t.preventDefault(),s?.({event:t.nativeEvent}),!0)}return!1}}];function P5(t){return!!(t&&"distance"in t)}function q5(t){return!!(t&&"delay"in t)}class Sg{constructor(e,n,i){var s;i===void 0&&(i=J8(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:o}=e,{target:u}=o;this.props=e,this.events=n,this.document=Kc(u),this.documentListeners=new Hf(this.document),this.listeners=new Hf(i),this.windowListeners=new Hf(zi(u)),this.initialCoordinates=(s=$h(o))!=null?s:Ls,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:i}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Wa.Resize,this.handleCancel),this.windowListeners.add(Wa.DragStart,B5),this.windowListeners.add(Wa.VisibilityChange,this.handleCancel),this.windowListeners.add(Wa.ContextMenu,B5),this.documentListeners.add(Wa.Keydown,this.handleKeydown),n){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(q5(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(P5(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:i,onPending:s}=this.props;s(i,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(Wa.Click,Q8,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Wa.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:i,initialCoordinates:s,props:o}=this,{onMove:u,options:{activationConstraint:c}}=o;if(!s)return;const f=(n=$h(e))!=null?n:Ls,h=nd(s,f);if(!i&&c){if(P5(c)){if(c.tolerance!=null&&e1(h,c.tolerance))return this.handleCancel();if(e1(h,c.distance))return this.handleStart()}if(q5(c)&&e1(h,c.tolerance))return this.handleCancel();this.handlePending(c,h);return}e.cancelable&&e.preventDefault(),u(f)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===hn.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const eA={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class y0 extends Sg{constructor(e){const{event:n}=e,i=Kc(n.target);super(e,eA,i)}}y0.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:i}=e;return!n.isPrimary||n.button!==0?!1:(i?.({event:n}),!0)}}];const tA={move:{name:"mousemove"},end:{name:"mouseup"}};var q1;(function(t){t[t.RightClick=2]="RightClick"})(q1||(q1={}));class nA extends Sg{constructor(e){super(e,tA,Kc(e.event.target))}}nA.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:i}=e;return n.button===q1.RightClick?!1:(i?.({event:n}),!0)}}];const t1={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class rA extends Sg{constructor(e){super(e,t1)}static setup(){return window.addEventListener(t1.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(t1.move.name,e)};function e(){}}}rA.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:i}=e;const{touches:s}=n;return s.length>1?!1:(i?.({event:n}),!0)}}];var $f;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})($f||($f={}));var Yh;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(Yh||(Yh={}));function iA(t){let{acceleration:e,activator:n=$f.Pointer,canScroll:i,draggingRect:s,enabled:o,interval:u=5,order:c=Yh.TreeOrder,pointerCoordinates:f,scrollableAncestors:h,scrollableAncestorRects:p,delta:y,threshold:b}=t;const g=sA({delta:y,disabled:!o}),[S,E]=v8(),k=W.useRef({x:0,y:0}),T=W.useRef({x:0,y:0}),z=W.useMemo(()=>{switch(n){case $f.Pointer:return f?{top:f.y,bottom:f.y,left:f.x,right:f.x}:null;case $f.DraggableRect:return s}},[n,s,f]),B=W.useRef(null),D=W.useCallback(()=>{const H=B.current;if(!H)return;const te=k.current.x*T.current.x,I=k.current.y*T.current.y;H.scrollBy(te,I)},[]),ne=W.useMemo(()=>c===Yh.TreeOrder?[...h].reverse():h,[c,h]);W.useEffect(()=>{if(!o||!h.length||!z){E();return}for(const H of ne){if(i?.(H)===!1)continue;const te=h.indexOf(H),I=p[te];if(!I)continue;const{direction:L,speed:K}=G8(H,I,z,e,b);for(const N of["x","y"])g[N][L[N]]||(K[N]=0,L[N]=0);if(K.x>0||K.y>0){E(),B.current=H,S(D,u),k.current=K,T.current=L;return}}k.current={x:0,y:0},T.current={x:0,y:0},E()},[e,D,i,E,o,u,JSON.stringify(z),JSON.stringify(g),S,h,ne,p,JSON.stringify(b)])}const aA={x:{[si.Backward]:!1,[si.Forward]:!1},y:{[si.Backward]:!1,[si.Forward]:!1}};function sA(t){let{delta:e,disabled:n}=t;const i=Hh(e);return fd(s=>{if(n||!i||!s)return aA;const o={x:Math.sign(e.x-i.x),y:Math.sign(e.y-i.y)};return{x:{[si.Backward]:s.x[si.Backward]||o.x===-1,[si.Forward]:s.x[si.Forward]||o.x===1},y:{[si.Backward]:s.y[si.Backward]||o.y===-1,[si.Forward]:s.y[si.Forward]||o.y===1}}},[n,e,i])}function oA(t,e){const n=e!=null?t.get(e):void 0,i=n?n.node.current:null;return fd(s=>{var o;return e==null?null:(o=i??s)!=null?o:null},[i,e])}function lA(t,e){return W.useMemo(()=>t.reduce((n,i)=>{const{sensor:s}=i,o=s.activators.map(u=>({eventName:u.eventName,handler:e(u.handler,i)}));return[...n,...o]},[]),[t,e])}var rd;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(rd||(rd={}));var F1;(function(t){t.Optimized="optimized"})(F1||(F1={}));const F5=new Map;function uA(t,e){let{dragging:n,dependencies:i,config:s}=e;const[o,u]=W.useState(null),{frequency:c,measure:f,strategy:h}=s,p=W.useRef(t),y=k(),b=td(y),g=W.useCallback(function(T){T===void 0&&(T=[]),!b.current&&u(z=>z===null?T:z.concat(T.filter(B=>!z.includes(B))))},[b]),S=W.useRef(null),E=fd(T=>{if(y&&!n)return F5;if(!T||T===F5||p.current!==t||o!=null){const z=new Map;for(let B of t){if(!B)continue;if(o&&o.length>0&&!o.includes(B.id)&&B.rect.current){z.set(B.id,B.rect.current);continue}const D=B.node.current,ne=D?new _g(f(D),D):null;B.rect.current=ne,ne&&z.set(B.id,ne)}return z}return T},[t,o,n,y,f]);return W.useEffect(()=>{p.current=t},[t]),W.useEffect(()=>{y||g()},[n,y]),W.useEffect(()=>{o&&o.length>0&&u(null)},[JSON.stringify(o)]),W.useEffect(()=>{y||typeof c!="number"||S.current!==null||(S.current=setTimeout(()=>{g(),S.current=null},c))},[c,y,g,...i]),{droppableRects:E,measureDroppableContainers:g,measuringScheduled:o!=null};function k(){switch(h){case rd.Always:return!1;case rd.BeforeDragging:return n;default:return!n}}}function Ag(t,e){return fd(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function cA(t,e){return Ag(t,e)}function fA(t){let{callback:e,disabled:n}=t;const i=h0(e),s=W.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(i)},[i,n]);return W.useEffect(()=>()=>s?.disconnect(),[s]),s}function b0(t){let{callback:e,disabled:n}=t;const i=h0(e),s=W.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(i)},[n]);return W.useEffect(()=>()=>s?.disconnect(),[s]),s}function dA(t){return new _g(Xc(t),t)}function H5(t,e,n){e===void 0&&(e=dA);const[i,s]=W.useState(null);function o(){s(f=>{if(!t)return null;if(t.isConnected===!1){var h;return(h=f??n)!=null?h:null}const p=e(t);return JSON.stringify(f)===JSON.stringify(p)?f:p})}const u=fA({callback(f){if(t)for(const h of f){const{type:p,target:y}=h;if(p==="childList"&&y instanceof HTMLElement&&y.contains(t)){o();break}}}}),c=b0({callback:o});return Ts(()=>{o(),t?(c?.observe(t),u?.observe(document.body,{childList:!0,subtree:!0})):(c?.disconnect(),u?.disconnect())},[t]),i}function hA(t){const e=Ag(t);return dv(t,e)}const $5=[];function pA(t){const e=W.useRef(t),n=fd(i=>t?i&&i!==$5&&t&&e.current&&t.parentNode===e.current.parentNode?i:g0(t):$5,[t]);return W.useEffect(()=>{e.current=t},[t]),n}function gA(t){const[e,n]=W.useState(null),i=W.useRef(t),s=W.useCallback(o=>{const u=Zp(o.target);u&&n(c=>c?(c.set(u,P1(u)),new Map(c)):null)},[]);return W.useEffect(()=>{const o=i.current;if(t!==o){u(o);const c=t.map(f=>{const h=Zp(f);return h?(h.addEventListener("scroll",s,{passive:!0}),[h,P1(h)]):null}).filter(f=>f!=null);n(c.length?new Map(c):null),i.current=t}return()=>{u(t),u(o)};function u(c){c.forEach(f=>{const h=Zp(f);h?.removeEventListener("scroll",s)})}},[s,t]),W.useMemo(()=>t.length?e?Array.from(e.values()).reduce((o,u)=>Pc(o,u),Ls):vv(t):Ls,[t,e])}function W5(t,e){e===void 0&&(e=[]);const n=W.useRef(null);return W.useEffect(()=>{n.current=null},e),W.useEffect(()=>{const i=t!==Ls;i&&!n.current&&(n.current=t),!i&&n.current&&(n.current=null)},[t]),n.current?nd(t,n.current):Ls}function mA(t){W.useEffect(()=>{if(!d0)return;const e=t.map(n=>{let{sensor:i}=n;return i.setup==null?void 0:i.setup()});return()=>{for(const n of e)n?.()}},t.map(e=>{let{sensor:n}=e;return n}))}function yA(t,e){return W.useMemo(()=>t.reduce((n,i)=>{let{eventName:s,handler:o}=i;return n[s]=u=>{o(u,e)},n},{}),[t,e])}function _v(t){return W.useMemo(()=>t?F8(t):null,[t])}const G5=[];function bA(t,e){e===void 0&&(e=Xc);const[n]=t,i=_v(n?zi(n):null),[s,o]=W.useState(G5);function u(){o(()=>t.length?t.map(f=>yv(f)?i:new _g(e(f),f)):G5)}const c=b0({callback:u});return Ts(()=>{c?.disconnect(),u(),t.forEach(f=>c?.observe(f))},[t]),s}function Sv(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return cd(e)?e:t}function vA(t){let{measure:e}=t;const[n,i]=W.useState(null),s=W.useCallback(h=>{for(const{target:p}of h)if(cd(p)){i(y=>{const b=e(p);return y?{...y,width:b.width,height:b.height}:b});break}},[e]),o=b0({callback:s}),u=W.useCallback(h=>{const p=Sv(h);o?.disconnect(),p&&o?.observe(p),i(p?e(p):null)},[e,o]),[c,f]=Fh(u);return W.useMemo(()=>({nodeRef:c,rect:n,setRef:f}),[n,c,f])}const wA=[{sensor:y0,options:{}},{sensor:m0,options:{}}],xA={current:{}},Ch={draggable:{measure:U5},droppable:{measure:U5,strategy:rd.WhileDragging,frequency:F1.Optimized},dragOverlay:{measure:Xc}};class Wf extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,i;return(n=(i=this.get(e))==null?void 0:i.node.current)!=null?n:void 0}}const _A={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Wf,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Wh},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Ch,measureDroppableContainers:Wh,windowRect:null,measuringScheduled:!1},Av={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Wh,draggableNodes:new Map,over:null,measureDroppableContainers:Wh},hd=W.createContext(Av),Ev=W.createContext(_A);function SA(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Wf}}}function AA(t,e){switch(e.type){case Xr.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Xr.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case Xr.DragEnd:case Xr.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Xr.RegisterDroppable:{const{element:n}=e,{id:i}=n,s=new Wf(t.droppable.containers);return s.set(i,n),{...t,droppable:{...t.droppable,containers:s}}}case Xr.SetDroppableDisabled:{const{id:n,key:i,disabled:s}=e,o=t.droppable.containers.get(n);if(!o||i!==o.key)return t;const u=new Wf(t.droppable.containers);return u.set(n,{...o,disabled:s}),{...t,droppable:{...t.droppable,containers:u}}}case Xr.UnregisterDroppable:{const{id:n,key:i}=e,s=t.droppable.containers.get(n);if(!s||i!==s.key)return t;const o=new Wf(t.droppable.containers);return o.delete(n),{...t,droppable:{...t.droppable,containers:o}}}default:return t}}function EA(t){let{disabled:e}=t;const{active:n,activatorEvent:i,draggableNodes:s}=W.useContext(hd),o=Hh(i),u=Hh(n?.id);return W.useEffect(()=>{if(!e&&!i&&o&&u!=null){if(!p0(o)||document.activeElement===o.target)return;const c=s.get(u);if(!c)return;const{activatorNode:f,node:h}=c;if(!f.current&&!h.current)return;requestAnimationFrame(()=>{for(const p of[f.current,h.current]){if(!p)continue;const y=_8(p);if(y){y.focus();break}}})}},[i,e,s,u,o]),null}function kv(t,e){let{transform:n,...i}=e;return t!=null&&t.length?t.reduce((s,o)=>o({transform:s,...i}),n):n}function kA(t){return W.useMemo(()=>({draggable:{...Ch.draggable,...t?.draggable},droppable:{...Ch.droppable,...t?.droppable},dragOverlay:{...Ch.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function TA(t){let{activeNode:e,measure:n,initialRect:i,config:s=!0}=t;const o=W.useRef(!1),{x:u,y:c}=typeof s=="boolean"?{x:s,y:s}:s;Ts(()=>{if(!u&&!c||!e){o.current=!1;return}if(o.current||!i)return;const h=e?.node.current;if(!h||h.isConnected===!1)return;const p=n(h),y=dv(p,i);if(u||(y.x=0),c||(y.y=0),o.current=!0,Math.abs(y.x)>0||Math.abs(y.y)>0){const b=pv(h);b&&b.scrollBy({top:y.y,left:y.x})}},[e,u,c,i,n])}const v0=W.createContext({...Ls,scaleX:1,scaleY:1});var Cl;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Cl||(Cl={}));const Tv=W.memo(function(e){var n,i,s,o;let{id:u,accessibility:c,autoScroll:f=!0,children:h,sensors:p=wA,collisionDetection:y=M8,measuring:b,modifiers:g,...S}=e;const E=W.useReducer(AA,void 0,SA),[k,T]=E,[z,B]=L8(),[D,ne]=W.useState(Cl.Uninitialized),H=D===Cl.Initialized,{draggable:{active:te,nodes:I,translate:L},droppable:{containers:K}}=k,N=te!=null?I.get(te):null,P=W.useRef({initial:null,translated:null}),Y=W.useMemo(()=>{var bt;return te!=null?{id:te,data:(bt=N?.data)!=null?bt:xA,rect:P}:null},[te,N]),F=W.useRef(null),[X,O]=W.useState(null),[R,se]=W.useState(null),le=td(S,Object.values(S)),me=dd("DndDescribedBy",u),Z=W.useMemo(()=>K.getEnabled(),[K]),j=kA(b),{droppableRects:G,measureDroppableContainers:V,measuringScheduled:ee}=uA(Z,{dragging:H,dependencies:[L.x,L.y],config:j.droppable}),q=oA(I,te),ae=W.useMemo(()=>R?$h(R):null,[R]),pe=vt(),ye=cA(q,j.draggable.measure);TA({activeNode:te!=null?I.get(te):null,config:pe.layoutShiftCompensation,initialRect:ye,measure:j.draggable.measure});const _e=H5(q,j.draggable.measure,ye),Be=H5(q?q.parentElement:null),Qe=W.useRef({activatorEvent:null,active:null,activeNode:q,collisionRect:null,collisions:null,droppableRects:G,draggableNodes:I,draggingNode:null,draggingNodeRect:null,droppableContainers:K,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),nt=K.getNodeFor((n=Qe.current.over)==null?void 0:n.id),be=vA({measure:j.dragOverlay.measure}),$=(i=be.nodeRef.current)!=null?i:q,ge=H?(s=be.rect)!=null?s:_e:null,Oe=!!(be.nodeRef.current&&be.rect),Te=hA(Oe?null:_e),Ee=_v($?zi($):null),qe=pA(H?nt??q:null),Me=bA(qe),lt=kv(g,{transform:{x:L.x-Te.x,y:L.y-Te.y,scaleX:1,scaleY:1},activatorEvent:R,active:Y,activeNodeRect:_e,containerNodeRect:Be,draggingNodeRect:ge,over:Qe.current.over,overlayNodeRect:be.rect,scrollableAncestors:qe,scrollableAncestorRects:Me,windowRect:Ee}),ct=ae?Pc(ae,L):null,dt=gA(qe),ve=W5(dt),Re=W5(dt,[_e]),Ge=Pc(lt,ve),Fe=ge?B8(ge,lt):null,Ue=Y&&Fe?y({active:Y,collisionRect:Fe,droppableRects:G,droppableContainers:Z,pointerCoordinates:ct}):null,Ke=cv(Ue,"id"),[Ve,ot]=W.useState(null),Je=Oe?lt:Pc(lt,Re),$e=z8(Je,(o=Ve?.rect)!=null?o:null,_e),tt=W.useRef(null),_t=W.useCallback((bt,ft)=>{let{sensor:Ct,options:tn}=ft;if(F.current==null)return;const Qt=I.get(F.current);if(!Qt)return;const on=bt.nativeEvent,Gt=new Ct({active:F.current,activeNode:Qt,event:on,options:tn,context:Qe,onAbort(kn){if(!I.get(kn))return;const{onDragAbort:$n}=le.current,Gn={id:kn};$n?.(Gn),z({type:"onDragAbort",event:Gn})},onPending(kn,Ar,$n,Gn){if(!I.get(kn))return;const{onDragPending:On}=le.current,Tn={id:kn,constraint:Ar,initialCoordinates:$n,offset:Gn};On?.(Tn),z({type:"onDragPending",event:Tn})},onStart(kn){const Ar=F.current;if(Ar==null)return;const $n=I.get(Ar);if(!$n)return;const{onDragStart:Gn}=le.current,wn={activatorEvent:on,active:{id:Ar,data:$n.data,rect:P}};Ic.unstable_batchedUpdates(()=>{Gn?.(wn),ne(Cl.Initializing),T({type:Xr.DragStart,initialCoordinates:kn,active:Ar}),z({type:"onDragStart",event:wn}),O(tt.current),se(on)})},onMove(kn){T({type:Xr.DragMove,coordinates:kn})},onEnd:Lt(Xr.DragEnd),onCancel:Lt(Xr.DragCancel)});tt.current=Gt;function Lt(kn){return async function(){const{active:$n,collisions:Gn,over:wn,scrollAdjustedTranslate:On}=Qe.current;let Tn=null;if($n&&On){const{cancelDrop:bi}=le.current;Tn={activatorEvent:on,active:$n,collisions:Gn,delta:On,over:wn},kn===Xr.DragEnd&&typeof bi=="function"&&await Promise.resolve(bi(Tn))&&(kn=Xr.DragCancel)}F.current=null,Ic.unstable_batchedUpdates(()=>{T({type:kn}),ne(Cl.Uninitialized),ot(null),O(null),se(null),tt.current=null;const bi=kn===Xr.DragEnd?"onDragEnd":"onDragCancel";if(Tn){const Er=le.current[bi];Er?.(Tn),z({type:bi,event:Tn})}})}}},[I]),mt=W.useCallback((bt,ft)=>(Ct,tn)=>{const Qt=Ct.nativeEvent,on=I.get(tn);if(F.current!==null||!on||Qt.dndKit||Qt.defaultPrevented)return;const Gt={active:on};bt(Ct,ft.options,Gt)===!0&&(Qt.dndKit={capturedBy:ft.sensor},F.current=tn,_t(Ct,ft))},[I,_t]),Ht=lA(p,mt);mA(p),Ts(()=>{_e&&D===Cl.Initializing&&ne(Cl.Initialized)},[_e,D]),W.useEffect(()=>{const{onDragMove:bt}=le.current,{active:ft,activatorEvent:Ct,collisions:tn,over:Qt}=Qe.current;if(!ft||!Ct)return;const on={active:ft,activatorEvent:Ct,collisions:tn,delta:{x:Ge.x,y:Ge.y},over:Qt};Ic.unstable_batchedUpdates(()=>{bt?.(on),z({type:"onDragMove",event:on})})},[Ge.x,Ge.y]),W.useEffect(()=>{const{active:bt,activatorEvent:ft,collisions:Ct,droppableContainers:tn,scrollAdjustedTranslate:Qt}=Qe.current;if(!bt||F.current==null||!ft||!Qt)return;const{onDragOver:on}=le.current,Gt=tn.get(Ke),Lt=Gt&&Gt.rect.current?{id:Gt.id,rect:Gt.rect.current,data:Gt.data,disabled:Gt.disabled}:null,kn={active:bt,activatorEvent:ft,collisions:Ct,delta:{x:Qt.x,y:Qt.y},over:Lt};Ic.unstable_batchedUpdates(()=>{ot(Lt),on?.(kn),z({type:"onDragOver",event:kn})})},[Ke]),Ts(()=>{Qe.current={activatorEvent:R,active:Y,activeNode:q,collisionRect:Fe,collisions:Ue,droppableRects:G,draggableNodes:I,draggingNode:$,draggingNodeRect:ge,droppableContainers:K,over:Ve,scrollableAncestors:qe,scrollAdjustedTranslate:Ge},P.current={initial:ge,translated:Fe}},[Y,q,Ue,Fe,I,$,ge,G,K,Ve,qe,Ge]),iA({...pe,delta:L,draggingRect:Fe,pointerCoordinates:ct,scrollableAncestors:qe,scrollableAncestorRects:Me});const yt=W.useMemo(()=>({active:Y,activeNode:q,activeNodeRect:_e,activatorEvent:R,collisions:Ue,containerNodeRect:Be,dragOverlay:be,draggableNodes:I,droppableContainers:K,droppableRects:G,over:Ve,measureDroppableContainers:V,scrollableAncestors:qe,scrollableAncestorRects:Me,measuringConfiguration:j,measuringScheduled:ee,windowRect:Ee}),[Y,q,_e,R,Ue,Be,be,I,K,G,Ve,V,qe,Me,j,ee,Ee]),gt=W.useMemo(()=>({activatorEvent:R,activators:Ht,active:Y,activeNodeRect:_e,ariaDescribedById:{draggable:me},dispatch:T,draggableNodes:I,over:Ve,measureDroppableContainers:V}),[R,Ht,Y,_e,T,me,I,Ve,V]);return hr.createElement(sv.Provider,{value:B},hr.createElement(hd.Provider,{value:gt},hr.createElement(Ev.Provider,{value:yt},hr.createElement(v0.Provider,{value:$e},h)),hr.createElement(EA,{disabled:c?.restoreFocus===!1})),hr.createElement(N8,{...c,hiddenTextDescribedById:me}));function vt(){const bt=X?.autoScrollEnabled===!1,ft=typeof f=="object"?f.enabled===!1:f===!1,Ct=H&&!bt&&!ft;return typeof f=="object"?{...f,enabled:Ct}:{enabled:Ct}}}),LA=W.createContext(null),Y5="button",CA="Draggable";function jA(t){let{id:e,data:n,disabled:i=!1,attributes:s}=t;const o=dd(CA),{activators:u,activatorEvent:c,active:f,activeNodeRect:h,ariaDescribedById:p,draggableNodes:y,over:b}=W.useContext(hd),{role:g=Y5,roleDescription:S="draggable",tabIndex:E=0}=s??{},k=f?.id===e,T=W.useContext(k?v0:LA),[z,B]=Fh(),[D,ne]=Fh(),H=yA(u,e),te=td(n);Ts(()=>(y.set(e,{id:e,key:o,node:z,activatorNode:D,data:te}),()=>{const L=y.get(e);L&&L.key===o&&y.delete(e)}),[y,e]);const I=W.useMemo(()=>({role:g,tabIndex:E,"aria-disabled":i,"aria-pressed":k&&g===Y5?!0:void 0,"aria-roledescription":S,"aria-describedby":p.draggable}),[i,g,E,k,S,p.draggable]);return{active:f,activatorEvent:c,activeNodeRect:h,attributes:I,isDragging:k,listeners:i?void 0:H,node:z,over:b,setNodeRef:B,setActivatorNodeRef:ne,transform:T}}function Lv(){return W.useContext(Ev)}const NA="Droppable",RA={timeout:25};function OA(t){let{data:e,disabled:n=!1,id:i,resizeObserverConfig:s}=t;const o=dd(NA),{active:u,dispatch:c,over:f,measureDroppableContainers:h}=W.useContext(hd),p=W.useRef({disabled:n}),y=W.useRef(!1),b=W.useRef(null),g=W.useRef(null),{disabled:S,updateMeasurementsFor:E,timeout:k}={...RA,...s},T=td(E??i),z=W.useCallback(()=>{if(!y.current){y.current=!0;return}g.current!=null&&clearTimeout(g.current),g.current=setTimeout(()=>{h(Array.isArray(T.current)?T.current:[T.current]),g.current=null},k)},[k]),B=b0({callback:z,disabled:S||!u}),D=W.useCallback((I,L)=>{B&&(L&&(B.unobserve(L),y.current=!1),I&&B.observe(I))},[B]),[ne,H]=Fh(D),te=td(e);return W.useEffect(()=>{!B||!ne.current||(B.disconnect(),y.current=!1,B.observe(ne.current))},[ne,B]),W.useEffect(()=>(c({type:Xr.RegisterDroppable,element:{id:i,key:o,disabled:n,node:ne,rect:b,data:te}}),()=>c({type:Xr.UnregisterDroppable,key:o,id:i})),[i]),W.useEffect(()=>{n!==p.current.disabled&&(c({type:Xr.SetDroppableDisabled,id:i,key:o,disabled:n}),p.current.disabled=n)},[i,o,n,c]),{active:u,rect:b,isOver:f?.id===i,node:ne,over:f,setNodeRef:H}}function DA(t){let{animation:e,children:n}=t;const[i,s]=W.useState(null),[o,u]=W.useState(null),c=Hh(n);return!n&&!i&&c&&s(c),Ts(()=>{if(!o)return;const f=i?.key,h=i?.props.id;if(f==null||h==null){s(null);return}Promise.resolve(e(h,o)).then(()=>{s(null)})},[e,i,o]),hr.createElement(hr.Fragment,null,n,i?W.cloneElement(i,{ref:u}):null)}const IA={x:0,y:0,scaleX:1,scaleY:1};function MA(t){let{children:e}=t;return hr.createElement(hd.Provider,{value:Av},hr.createElement(v0.Provider,{value:IA},e))}const zA={position:"fixed",touchAction:"none"},UA=t=>p0(t)?"transform 250ms ease":void 0,BA=W.forwardRef((t,e)=>{let{as:n,activatorEvent:i,adjustScale:s,children:o,className:u,rect:c,style:f,transform:h,transition:p=UA}=t;if(!c)return null;const y=s?h:{...h,scaleX:1,scaleY:1},b={...zA,width:c.width,height:c.height,top:c.top,left:c.left,transform:Au.Transform.toString(y),transformOrigin:s&&i?R8(i,c):void 0,transition:typeof p=="function"?p(i):p,...f};return hr.createElement(n,{className:u,style:b,ref:e},o)}),PA=t=>e=>{let{active:n,dragOverlay:i}=e;const s={},{styles:o,className:u}=t;if(o!=null&&o.active)for(const[c,f]of Object.entries(o.active))f!==void 0&&(s[c]=n.node.style.getPropertyValue(c),n.node.style.setProperty(c,f));if(o!=null&&o.dragOverlay)for(const[c,f]of Object.entries(o.dragOverlay))f!==void 0&&i.node.style.setProperty(c,f);return u!=null&&u.active&&n.node.classList.add(u.active),u!=null&&u.dragOverlay&&i.node.classList.add(u.dragOverlay),function(){for(const[f,h]of Object.entries(s))n.node.style.setProperty(f,h);u!=null&&u.active&&n.node.classList.remove(u.active)}},qA=t=>{let{transform:{initial:e,final:n}}=t;return[{transform:Au.Transform.toString(e)},{transform:Au.Transform.toString(n)}]},FA={duration:250,easing:"ease",keyframes:qA,sideEffects:PA({styles:{active:{opacity:"0"}}})};function HA(t){let{config:e,draggableNodes:n,droppableContainers:i,measuringConfiguration:s}=t;return h0((o,u)=>{if(e===null)return;const c=n.get(o);if(!c)return;const f=c.node.current;if(!f)return;const h=Sv(u);if(!h)return;const{transform:p}=zi(u).getComputedStyle(u),y=hv(p);if(!y)return;const b=typeof e=="function"?e:$A(e);return wv(f,s.draggable.measure),b({active:{id:o,data:c.data,node:f,rect:s.draggable.measure(f)},draggableNodes:n,dragOverlay:{node:u,rect:s.dragOverlay.measure(h)},droppableContainers:i,measuringConfiguration:s,transform:y})})}function $A(t){const{duration:e,easing:n,sideEffects:i,keyframes:s}={...FA,...t};return o=>{let{active:u,dragOverlay:c,transform:f,...h}=o;if(!e)return;const p={x:c.rect.left-u.rect.left,y:c.rect.top-u.rect.top},y={scaleX:f.scaleX!==1?u.rect.width*f.scaleX/c.rect.width:1,scaleY:f.scaleY!==1?u.rect.height*f.scaleY/c.rect.height:1},b={x:f.x-p.x,y:f.y-p.y,...y},g=s({...h,active:u,dragOverlay:c,transform:{initial:f,final:b}}),[S]=g,E=g[g.length-1];if(JSON.stringify(S)===JSON.stringify(E))return;const k=i?.({active:u,dragOverlay:c,...h}),T=c.node.animate(g,{duration:e,easing:n,fill:"forwards"});return new Promise(z=>{T.onfinish=()=>{k?.(),z()}})}}let V5=0;function WA(t){return W.useMemo(()=>{if(t!=null)return V5++,V5},[t])}const Cv=hr.memo(t=>{let{adjustScale:e=!1,children:n,dropAnimation:i,style:s,transition:o,modifiers:u,wrapperElement:c="div",className:f,zIndex:h=999}=t;const{activatorEvent:p,active:y,activeNodeRect:b,containerNodeRect:g,draggableNodes:S,droppableContainers:E,dragOverlay:k,over:T,measuringConfiguration:z,scrollableAncestors:B,scrollableAncestorRects:D,windowRect:ne}=Lv(),H=W.useContext(v0),te=WA(y?.id),I=kv(u,{activatorEvent:p,active:y,activeNodeRect:b,containerNodeRect:g,draggingNodeRect:k.rect,over:T,overlayNodeRect:k.rect,scrollableAncestors:B,scrollableAncestorRects:D,transform:H,windowRect:ne}),L=Ag(b),K=HA({config:i,draggableNodes:S,droppableContainers:E,measuringConfiguration:z}),N=L?k.setRef:void 0;return hr.createElement(MA,null,hr.createElement(DA,{animation:K},y&&te?hr.createElement(BA,{key:te,id:y.id,ref:N,as:c,activatorEvent:p,adjustScale:e,className:f,transition:o,rect:L,style:{zIndex:h,...s},transform:I},n):null))});function jv(t,e,n){const i=t.slice();return i.splice(n<0?i.length+n:n,0,i.splice(e,1)[0]),i}function GA(t,e){return t.reduce((n,i,s)=>{const o=e.get(i);return o&&(n[s]=o),n},Array(t.length))}function mh(t){return t!==null&&t>=0}function YA(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function VA(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const Nv=t=>{let{rects:e,activeIndex:n,overIndex:i,index:s}=t;const o=jv(e,i,n),u=e[s],c=o[s];return!c||!u?null:{x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height}},yh={scaleX:1,scaleY:1},H1=t=>{var e;let{activeIndex:n,activeNodeRect:i,index:s,rects:o,overIndex:u}=t;const c=(e=o[n])!=null?e:i;if(!c)return null;if(s===n){const h=o[u];return h?{x:0,y:n<u?h.top+h.height-(c.top+c.height):h.top-c.top,...yh}:null}const f=KA(o,s,n);return s>n&&s<=u?{x:0,y:-c.height-f,...yh}:s<n&&s>=u?{x:0,y:c.height+f,...yh}:{x:0,y:0,...yh}};function KA(t,e,n){const i=t[e],s=t[e-1],o=t[e+1];return i?n<e?s?i.top-(s.top+s.height):o?o.top-(i.top+i.height):0:o?o.top-(i.top+i.height):s?i.top-(s.top+s.height):0:0}const Rv="Sortable",Ov=hr.createContext({activeIndex:-1,containerId:Rv,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Nv,disabled:{draggable:!1,droppable:!1}});function $1(t){let{children:e,id:n,items:i,strategy:s=Nv,disabled:o=!1}=t;const{active:u,dragOverlay:c,droppableRects:f,over:h,measureDroppableContainers:p}=Lv(),y=dd(Rv,n),b=c.rect!==null,g=W.useMemo(()=>i.map(H=>typeof H=="object"&&"id"in H?H.id:H),[i]),S=u!=null,E=u?g.indexOf(u.id):-1,k=h?g.indexOf(h.id):-1,T=W.useRef(g),z=!YA(g,T.current),B=k!==-1&&E===-1||z,D=VA(o);Ts(()=>{z&&S&&p(g)},[z,g,S,p]),W.useEffect(()=>{T.current=g},[g]);const ne=W.useMemo(()=>({activeIndex:E,containerId:y,disabled:D,disableTransforms:B,items:g,overIndex:k,useDragOverlay:b,sortedRects:GA(g,f),strategy:s}),[E,y,D.draggable,D.droppable,B,g,k,f,b,s]);return hr.createElement(Ov.Provider,{value:ne},e)}const XA=t=>{let{id:e,items:n,activeIndex:i,overIndex:s}=t;return jv(n,i,s).indexOf(e)},JA=t=>{let{containerId:e,isSorting:n,wasDragging:i,index:s,items:o,newIndex:u,previousItems:c,previousContainerId:f,transition:h}=t;return!h||!i||c!==o&&s===u?!1:n?!0:u!==s&&e===f},QA={duration:200,easing:"ease"},Dv="transform",ZA=Au.Transition.toString({property:Dv,duration:0,easing:"linear"}),e7={roleDescription:"sortable"};function t7(t){let{disabled:e,index:n,node:i,rect:s}=t;const[o,u]=W.useState(null),c=W.useRef(n);return Ts(()=>{if(!e&&n!==c.current&&i.current){const f=s.current;if(f){const h=Xc(i.current,{ignoreTransform:!0}),p={x:f.left-h.left,y:f.top-h.top,scaleX:f.width/h.width,scaleY:f.height/h.height};(p.x||p.y)&&u(p)}}n!==c.current&&(c.current=n)},[e,n,i,s]),W.useEffect(()=>{o&&u(null)},[o]),o}function Iv(t){let{animateLayoutChanges:e=JA,attributes:n,disabled:i,data:s,getNewIndex:o=XA,id:u,strategy:c,resizeObserverConfig:f,transition:h=QA}=t;const{items:p,containerId:y,activeIndex:b,disabled:g,disableTransforms:S,sortedRects:E,overIndex:k,useDragOverlay:T,strategy:z}=W.useContext(Ov),B=n7(i,g),D=p.indexOf(u),ne=W.useMemo(()=>({sortable:{containerId:y,index:D,items:p},...s}),[y,s,D,p]),H=W.useMemo(()=>p.slice(p.indexOf(u)),[p,u]),{rect:te,node:I,isOver:L,setNodeRef:K}=OA({id:u,data:ne,disabled:B.droppable,resizeObserverConfig:{updateMeasurementsFor:H,...f}}),{active:N,activatorEvent:P,activeNodeRect:Y,attributes:F,setNodeRef:X,listeners:O,isDragging:R,over:se,setActivatorNodeRef:le,transform:me}=jA({id:u,data:ne,attributes:{...e7,...n},disabled:B.draggable}),Z=b8(K,X),j=!!N,G=j&&!S&&mh(b)&&mh(k),V=!T&&R,ee=V&&G?me:null,ae=G?ee??(c??z)({rects:E,activeNodeRect:Y,activeIndex:b,overIndex:k,index:D}):null,pe=mh(b)&&mh(k)?o({id:u,items:p,activeIndex:b,overIndex:k}):D,ye=N?.id,_e=W.useRef({activeId:ye,items:p,newIndex:pe,containerId:y}),Be=p!==_e.current.items,Qe=e({active:N,containerId:y,isDragging:R,isSorting:j,id:u,index:D,items:p,newIndex:_e.current.newIndex,previousItems:_e.current.items,previousContainerId:_e.current.containerId,transition:h,wasDragging:_e.current.activeId!=null}),nt=t7({disabled:!Qe,index:D,node:I,rect:te});return W.useEffect(()=>{j&&_e.current.newIndex!==pe&&(_e.current.newIndex=pe),y!==_e.current.containerId&&(_e.current.containerId=y),p!==_e.current.items&&(_e.current.items=p)},[j,pe,y,p]),W.useEffect(()=>{if(ye===_e.current.activeId)return;if(ye!=null&&_e.current.activeId==null){_e.current.activeId=ye;return}const $=setTimeout(()=>{_e.current.activeId=ye},50);return()=>clearTimeout($)},[ye]),{active:N,activeIndex:b,attributes:F,data:ne,rect:te,index:D,newIndex:pe,items:p,isOver:L,isSorting:j,isDragging:R,listeners:O,node:I,overIndex:k,over:se,setNodeRef:Z,setActivatorNodeRef:le,setDroppableNodeRef:K,setDraggableNodeRef:X,transform:nt??ae,transition:be()};function be(){if(nt||Be&&_e.current.newIndex===D)return ZA;if(!(V&&!p0(P)||!h)&&(j||Qe))return Au.Transition.toString({...h,property:Dv})}}function n7(t,e){var n,i;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t?.draggable)!=null?n:e.draggable,droppable:(i=t?.droppable)!=null?i:e.droppable}}function Vh(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const r7=[hn.Down,hn.Right,hn.Up,hn.Left],Mv=(t,e)=>{let{context:{active:n,collisionRect:i,droppableRects:s,droppableContainers:o,over:u,scrollableAncestors:c}}=e;if(r7.includes(t.code)){if(t.preventDefault(),!n||!i)return;const f=[];o.getEnabled().forEach(y=>{if(!y||y!=null&&y.disabled)return;const b=s.get(y.id);if(b)switch(t.code){case hn.Down:i.top<b.top&&f.push(y);break;case hn.Up:i.top>b.top&&f.push(y);break;case hn.Left:i.left>b.left&&f.push(y);break;case hn.Right:i.left<b.left&&f.push(y);break}});const h=D8({collisionRect:i,droppableRects:s,droppableContainers:f});let p=cv(h,"id");if(p===u?.id&&h.length>1&&(p=h[1].id),p!=null){const y=o.get(n.id),b=o.get(p),g=b?s.get(b.id):null,S=b?.node.current;if(S&&g&&y&&b){const k=g0(S).some((H,te)=>c[te]!==H),T=zv(y,b),z=i7(y,b),B=k||!T?{x:0,y:0}:{x:z?i.width-g.width:0,y:z?i.height-g.height:0},D={x:g.left,y:g.top};return B.x&&B.y?D:nd(D,B)}}}};function zv(t,e){return!Vh(t)||!Vh(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function i7(t,e){return!Vh(t)||!Vh(e)||!zv(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}function a7(){const{business:t}=$o(),{isDark:e}=Wo(),{notifyCategoryAdded:n,notifyCategoryUpdated:i,notifyCategoryDeleted:s,notifyOrderChanged:o,notifyError:u}=Tu(),[c,f]=W.useState([]),[h,p]=W.useState(!0),[y,b]=W.useState(!1),[g,S]=W.useState(!1),[E,k]=W.useState(null),[T,z]=W.useState({name:""}),[B,D]=W.useState(""),[ne,H]=W.useState(null),[te,I]=W.useState(null),[L,K]=W.useState({up:!1,down:!1}),N=W.useRef(null),P=W.useRef(null),Y=W.useRef(null),F=ov(Gh(y0,{activationConstraint:{distance:5}}),Gh(m0,{coordinateGetter:Mv}));W.useEffect(()=>{const q=()=>{b(window.innerWidth<768)};return q(),window.addEventListener("resize",q),()=>window.removeEventListener("resize",q)},[]),W.useEffect(()=>{t?.id&&X()},[t]);const X=async()=>{try{p(!0);const{data:q,error:ae}=await ht.from("categories").select("*").eq("business_id",t.id).order("order_index",{ascending:!0});if(ae)throw ae;f(q||[])}catch(q){console.error("Categories fetch error:",q),u("Kategoriler yklenirken hata olutu",q.message)}finally{p(!1)}};W.useEffect(()=>{if(!t?.id)return;const q=ht.channel(`categories:${t.id}`).on("postgres_changes",{event:"*",schema:"public",table:"categories",filter:`business_id=eq.${t.id}`},async ae=>{console.log(" Category changed (Realtime):",ae.eventType,ae.new?.id||ae.old?.id),(ae.eventType==="UPDATE"&&ae.new?.order_index!==void 0||ae.eventType==="INSERT"||ae.eventType==="DELETE")&&X()}).subscribe();return()=>{ht.removeChannel(q)}},[t?.id]);const O=(q=null)=>{q?(k(q),z({name:q.name})):(k(null),z({name:""})),S(!0),D("")},R=()=>{S(!1),k(null),z({name:""}),D("")},se=async q=>{if(q.preventDefault(),D(""),!T.name.trim()){D("Kategori ad gerekli");return}try{if(E){const{error:ae}=await ht.from("categories").update({name:T.name.trim()}).eq("id",E.id);if(ae)throw ae;i({...E,name:T.name.trim()})}else{const pe=(c.length>0?Math.max(...c.map(Be=>Be.order_index??0)):-1)+1,{data:ye,error:_e}=await ht.from("categories").insert({business_id:t.id,name:T.name.trim(),order_index:pe,is_active:!0}).select().single();if(_e)throw _e;n(ye)}R(),X()}catch(ae){D(ae.message||"Bir hata olutu"),console.error("Category save error:",ae)}},le=async q=>{if(confirm("Bu kategoriyi silmek istediinize emin misiniz? Kategoriye ait tm rnler de silinecektir."))try{const{error:ae}=await ht.from("categories").delete().eq("id",q);if(ae)throw ae;const pe=c.find(ye=>ye.id===q);pe&&s(pe.name),X()}catch(ae){u("Kategori silinirken hata olutu",ae.message),console.error("Category delete error:",ae)}},me=q=>{H(q.active.id),I(null),N.current=null,setTimeout(()=>{const ae=document.querySelector(`[data-category-id="${q.active.id}"]`);ae&&(Y.current=ae.offsetWidth)},0)},Z=q=>{if(!q.over||!ne){P.current=null;return}const ae=q.over.id;P.current=ae};W.useEffect(()=>{if(!ne)return;let q=null;const pe=setInterval(()=>{q=requestAnimationFrame(()=>{P.current!==N.current&&(N.current=P.current,I(P.current)),q=null})},100);return()=>{q&&cancelAnimationFrame(q),clearInterval(pe)}},[ne]);const j=W.useRef({up:!1,down:!1});W.useEffect(()=>{if(!ne){K({up:!1,down:!1}),j.current={up:!1,down:!1};return}let q=null,ae=0;const pe=150,ye=nt=>{Date.now()-ae<pe||q||(q=requestAnimationFrame(()=>{const $=window.innerHeight||document.documentElement.clientHeight,ge=Math.max(80,$*.12),Oe=nt<ge?{up:!0,down:!1}:nt>$-ge?{up:!1,down:!0}:{up:!1,down:!1};(Oe.up!==j.current.up||Oe.down!==j.current.down)&&(j.current=Oe,K(Oe)),ae=Date.now(),q=null}))},_e=nt=>{const be=nt.clientY||(nt.touches&&nt.touches[0]?nt.touches[0].clientY:window.innerHeight/2);ye(be)},Be=nt=>{const be=nt.clientY||window.innerHeight/2;ye(be)};window.addEventListener("mousemove",_e,{capture:!0,passive:!0}),window.addEventListener("wheel",Be,{capture:!0,passive:!0});const Qe=nt=>{nt.touches&&nt.touches[0]&&ye(nt.touches[0].clientY)};return window.addEventListener("touchmove",Qe,{passive:!0,capture:!0}),()=>{q&&cancelAnimationFrame(q),window.removeEventListener("mousemove",_e,{capture:!0}),window.removeEventListener("wheel",Be,{capture:!0}),window.removeEventListener("touchmove",Qe,{capture:!0}),K({up:!1,down:!1}),j.current={up:!1,down:!1}}},[ne]);const G=()=>{H(null),I(null),K({up:!1,down:!1}),N.current=null,window.dragUpdateTimeout&&clearTimeout(window.dragUpdateTimeout)},V=async q=>{const{active:ae,over:pe}=q;if(K({up:!1,down:!1}),I(null),N.current=null,window.dragUpdateTimeout&&clearTimeout(window.dragUpdateTimeout),!pe||ae.id===pe.id){H(null),I(null);return}const ye=c.find(be=>be.id===ae.id),_e=c.find(be=>be.id===pe.id);if(!ye||!_e){H(null),I(null);return}const Be=c.findIndex(be=>be.id===ae.id),Qe=c.findIndex(be=>be.id===pe.id);if(Be===-1||Qe===-1){H(null),I(null);return}const nt=[{id:ye.id,order_index:Qe},{id:_e.id,order_index:Be}];try{const be=nt.map(Oe=>ht.from("categories").update({order_index:Oe.order_index}).eq("id",Oe.id));await Promise.all(be);const ge=[...c.map(Oe=>{const Te=nt.find(Ee=>Ee.id===Oe.id);return Te?{...Oe,order_index:Te.order_index}:Oe})].sort((Oe,Te)=>{const Ee=Oe.order_index??0,qe=Te.order_index??0;return Ee-qe});o("Kategori"),f(ge),H(null),I(null),N.current=null,P.current=null}catch(be){console.error("Sralama gncelleme hatas:",be),u("Sralama gncellenirken hata olutu",be.message),X(),H(null),I(null),N.current=null}};function ee({category:q,categoryIndex:ae,isMobile:pe,isDark:ye,onEdit:_e,onDelete:Be}){const{attributes:Qe,listeners:nt,setNodeRef:be,transform:$,transition:ge,isDragging:Oe}=Iv({id:q.id,disabled:!1}),Te=ne===q.id&&ne!==null,Ee=te===q.id&&te!==null&&!Te,qe={transform:"none",transition:"none",opacity:Oe?.3:1,cursor:"default",willChange:"auto"};return _.jsx("div",{ref:be,style:{...qe,background:Te?ye?"rgba(59, 130, 246, 0.2)":"rgba(59, 130, 246, 0.05)":Ee?ye?"rgba(59, 130, 246, 0.3)":"#e0f2fe":ye?"rgba(15, 23, 42, 0.85)":"white",borderRadius:"12px",boxShadow:Te?ye?"0 2px 8px rgba(59, 130, 246, 0.3)":"0 2px 8px rgba(59, 130, 246, 0.15)":Ee?ye?"0 4px 12px rgba(59, 130, 246, 0.4)":"0 4px 12px rgba(0,0,0,0.15)":ye?"0 25px 50px -12px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(139, 92, 246, 0.2)":"0 1px 3px rgba(0,0,0,0.1)",border:Te?"1px solid rgba(59, 130, 246, 0.3)":Ee?"2px dashed #3b82f6":ye?"1px solid rgba(139, 92, 246, 0.3)":"1px solid #e2e8f0",overflow:"hidden",transition:"none",transform:"none",position:"relative",zIndex:Oe?1:Te?2:1,pointerEvents:Oe?"none":"auto",animation:"none",width:"100%",height:"auto"},"data-category-id":q.id,children:_.jsxs("div",{style:{padding:pe?"1.25rem":"1.5rem",display:"flex",alignItems:"center",gap:"1rem"},children:[_.jsx("div",{...Qe,...nt,style:{fontSize:"1.5rem",cursor:Oe?"grabbing":"grab",userSelect:"none",zIndex:15,background:"rgba(255,255,255,0.9)",borderRadius:"4px",padding:"0.25rem 0.5rem",touchAction:"none"},children:""}),_.jsxs("div",{style:{flex:1},children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"1rem"},children:[_.jsx("div",{children:_.jsx("h3",{style:{margin:"0",fontSize:pe?"1.125rem":"1.25rem",color:ye?"#ffffff":"#1e293b",fontWeight:"600"},children:q.name})}),!q.is_active&&_.jsx("span",{style:{padding:"0.25rem 0.75rem",background:"#fee2e2",color:"#dc2626",borderRadius:"6px",fontSize:"0.75rem",fontWeight:"500"},children:"Pasif"})]}),_.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[_.jsx(Qr,{onClick:()=>_e(q),variant:"secondary",style:{flex:1,minWidth:"100px",fontSize:pe?"0.875rem":"0.9375rem",padding:pe?"0.625rem":"0.75rem"},children:" Dzenle"}),_.jsx(Qr,{onClick:()=>Be(q.id),variant:"danger",style:{flex:1,minWidth:"100px",fontSize:pe?"0.875rem":"0.9375rem",padding:pe?"0.625rem":"0.75rem"},children:" Sil"})]})]})]})})}return h&&c.length===0?_.jsx(ka,{children:_.jsx(Ga,{message:"Kategoriler ykleniyor..."})}):_.jsx(ka,{children:_.jsx(Tv,{sensors:F,collisionDetection:fv,onDragStart:me,onDragOver:Z,onDragEnd:V,onDragCancel:G,autoScroll:{threshold:{x:.12,y:.12},acceleration:13,interval:9,enabled:!0},children:_.jsxs("div",{children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:y?"1.5rem":"2rem",flexWrap:"wrap",gap:"1rem"},children:[_.jsxs("h1",{style:{margin:0,fontSize:y?"1.5rem":"2rem",color:e?"#ffffff":"#1e293b",display:"flex",alignItems:"center",gap:"0.75rem"},children:[_.jsx("svg",{width:y?"28":"32",height:y?"28":"32",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:_.jsx("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z",stroke:e?"#ffffff":"#1e293b",strokeWidth:"2",fill:"none"})}),"Kategoriler"]}),_.jsx(Qr,{onClick:()=>O(),variant:"primary",style:{fontSize:y?"0.9375rem":"1rem",padding:y?"0.75rem 1.25rem":"0.875rem 1.5rem"},children:" Kategori Ekle"})]}),c.length===0?_.jsxs("div",{style:{background:e?"rgba(15, 23, 42, 0.85)":"white",padding:y?"2rem 1rem":"3rem 2rem",borderRadius:"12px",textAlign:"center",boxShadow:e?"0 25px 50px -12px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(139, 92, 246, 0.2)":"0 1px 3px rgba(0,0,0,0.1)",border:e?"1px solid rgba(139, 92, 246, 0.3)":"none"},children:[_.jsx("p",{style:{fontSize:y?"1.125rem":"1.25rem",color:e?"#cbd5e1":"#64748b",marginBottom:"1rem"},children:"Henz kategori eklenmemi"}),_.jsx(Qr,{onClick:()=>O(),variant:"primary",children:" lk Kategoriyi Ekle"})]}):_.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[_.jsx("div",{style:{padding:"0.75rem 1rem",background:e?"rgba(30, 41, 59, 0.6)":"#f8fafc",borderRadius:"8px",border:e?"1px solid rgba(139, 92, 246, 0.2)":"none",fontSize:"0.875rem",color:e?"#cbd5e1":"#64748b",marginBottom:"0.5rem"},children:" pucu: Buraya bu sembole () basarak yer deitirebilirsiniz"}),_.jsx($1,{items:c.map(q=>q.id),strategy:H1,children:[...c].sort((q,ae)=>{const pe=q.order_index??0,ye=ae.order_index??0;return pe-ye}).map((q,ae)=>_.jsx(ee,{category:q,categoryIndex:ae,isMobile:y,isDark:e,onEdit:O,onDelete:le},q.id))}),_.jsx(Cv,{children:ne?(()=>{const q=c.find(pe=>pe.id===ne);if(!q)return null;const ae=Y.current||"100%";return _.jsx("div",{className:"drag-overlay-card",style:{background:e?"rgba(15, 23, 42, 0.95)":"white",borderRadius:"12px",boxShadow:e?"0 8px 24px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(139, 92, 246, 0.3)":"0 8px 24px rgba(0, 0, 0, 0.25)",border:e?"1px solid rgba(139, 92, 246, 0.3)":"1px solid #e2e8f0",opacity:.9,width:typeof ae=="number"?`${ae}px`:ae,minWidth:typeof ae=="number"?`${ae}px`:ae,maxWidth:typeof ae=="number"?`${ae}px`:ae,pointerEvents:"none",zIndex:2e3,transform:"none !important",transformOrigin:"center center",boxSizing:"border-box",scale:"1 !important",rotate:"0deg !important",flexShrink:0,flexGrow:0},children:_.jsxs("div",{style:{padding:y?"1.25rem":"1.5rem",display:"flex",alignItems:"center",gap:"1rem"},children:[_.jsx("div",{style:{fontSize:"1.5rem",cursor:"grabbing",userSelect:"none"},children:""}),_.jsx("div",{style:{flex:1},children:_.jsx("h3",{style:{margin:"0",fontSize:y?"1.125rem":"1.25rem",color:e?"#ffffff":"#1e293b",fontWeight:"600"},children:q.name})})]})})})():null}),ne&&_.jsxs(_.Fragment,{children:[L.up&&_.jsx("div",{style:{position:"fixed",top:"10px",left:"50%",transform:"translateX(-50%)",zIndex:1e4,pointerEvents:"none",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"0.4rem"},children:[0,1,2].map(q=>_.jsx("div",{style:{width:"0",height:"0",borderLeft:"14px solid transparent",borderRight:"14px solid transparent",borderBottom:"20px solid",borderBottomColor:q===1?"#059669":"#10b981",animation:`arrowPulse 0.6s ease-in-out infinite ${q*.1}s`,filter:"drop-shadow(0 2px 6px rgba(16, 185, 129, 0.6))"}},q))}),L.down&&_.jsx("div",{style:{position:"fixed",bottom:"10px",left:"50%",transform:"translateX(-50%)",zIndex:1e4,pointerEvents:"none",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"0.4rem"},children:[0,1,2].map(q=>_.jsx("div",{style:{width:"0",height:"0",borderLeft:"14px solid transparent",borderRight:"14px solid transparent",borderTop:"20px solid",borderTopColor:q===1?"#059669":"#10b981",animation:`arrowPulse 0.6s ease-in-out infinite ${q*.1}s`,filter:"drop-shadow(0 2px 6px rgba(16, 185, 129, 0.6))"}},q))})]})]}),g&&_.jsx("div",{onClick:R,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",padding:y?"1rem":"2rem"},children:_.jsxs("div",{onClick:q=>q.stopPropagation(),style:{background:e?"rgba(15, 23, 42, 0.95)":"white",borderRadius:"12px",padding:y?"1.5rem":"2rem",width:"100%",maxWidth:"500px",maxHeight:"90vh",overflowY:"auto",boxShadow:e?"0 20px 40px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(139, 92, 246, 0.3)":"0 20px 40px rgba(0,0,0,0.2)",border:e?"1px solid rgba(139, 92, 246, 0.3)":"none"},children:[_.jsx("h2",{style:{margin:"0 0 1.5rem 0",fontSize:y?"1.25rem":"1.5rem",color:e?"#ffffff":"#1e293b"},children:E?" Kategori Dzenle":" Kategori Ekle"}),_.jsxs("form",{onSubmit:se,children:[_.jsx(xu,{label:"Kategori Ad",type:"text",value:T.name,onChange:q=>z({...T,name:q.target.value}),placeholder:"rn: Kahveler, ecekler",required:!0,error:B&&!T.name.trim()?B:null,style:{marginBottom:"1.25rem"}}),B&&_.jsx("div",{style:{padding:"0.75rem",background:"#fee",border:"1px solid #fcc",borderRadius:"6px",color:"#c33",marginBottom:"1rem",fontSize:"0.875rem"},children:B}),_.jsxs("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end"},children:[_.jsx(Qr,{type:"button",variant:"secondary",onClick:R,style:{fontSize:y?"0.9375rem":"1rem"},children:"ptal"}),_.jsx(Qr,{type:"submit",variant:"primary",style:{fontSize:y?"0.9375rem":"1rem"},children:E?" Kaydet":" Ekle"})]})]})]})})]})})})}function s7(t,e){return e.forEach((function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach((function(i){if(i!=="default"&&!(i in t)){var s=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:function(){return n[i]}})}}))})),Object.freeze(t)}function Uv(t,e){return new Promise((function(n,i){let s;return o7(t).then((function(o){try{return s=o,n(new Blob([e.slice(0,2),s,e.slice(2)],{type:"image/jpeg"}))}catch(u){return i(u)}}),i)}))}const o7=t=>new Promise(((e,n)=>{const i=new FileReader;i.addEventListener("load",(({target:{result:s}})=>{const o=new DataView(s);let u=0;if(o.getUint16(u)!==65496)return n("not a valid JPEG");for(u+=2;;){const c=o.getUint16(u);if(c===65498)break;const f=o.getUint16(u+2);if(c===65505&&o.getUint32(u+4)===1165519206){const h=u+10;let p;switch(o.getUint16(h)){case 18761:p=!0;break;case 19789:p=!1;break;default:return n("TIFF header contains invalid endian")}if(o.getUint16(h+2,p)!==42)return n("TIFF header contains invalid version");const y=o.getUint32(h+4,p),b=h+y+2+12*o.getUint16(h+y,p);for(let g=h+y+2;g<b;g+=12)if(o.getUint16(g,p)==274){if(o.getUint16(g+2,p)!==3)return n("Orientation data type is invalid");if(o.getUint32(g+4,p)!==1)return n("Orientation data count is invalid");o.setUint16(g+8,1,p);break}return e(s.slice(u,u+2+f))}u+=2+f}return e(new Blob)})),i.readAsArrayBuffer(t)}));var Kh={},l7={get exports(){return Kh},set exports(t){Kh=t}};(function(t){var e,n,i={};l7.exports=i,i.parse=function(s,o){for(var u=i.bin.readUshort,c=i.bin.readUint,f=0,h={},p=new Uint8Array(s),y=p.length-4;c(p,y)!=101010256;)y--;f=y,f+=4;var b=u(p,f+=4);u(p,f+=2);var g=c(p,f+=2),S=c(p,f+=4);f+=4,f=S;for(var E=0;E<b;E++){c(p,f),f+=4,f+=4,f+=4,c(p,f+=4),g=c(p,f+=4);var k=c(p,f+=4),T=u(p,f+=4),z=u(p,f+2),B=u(p,f+4);f+=6;var D=c(p,f+=8);f+=4,f+=T+z+B,i._readLocal(p,D,h,g,k,o)}return h},i._readLocal=function(s,o,u,c,f,h){var p=i.bin.readUshort,y=i.bin.readUint;y(s,o),p(s,o+=4),p(s,o+=2);var b=p(s,o+=2);y(s,o+=2),y(s,o+=4),o+=4;var g=p(s,o+=8),S=p(s,o+=2);o+=2;var E=i.bin.readUTF8(s,o,g);if(o+=g,o+=S,h)u[E]={size:f,csize:c};else{var k=new Uint8Array(s.buffer,o);if(b==0)u[E]=new Uint8Array(k.buffer.slice(o,o+c));else{if(b!=8)throw"unknown compression method: "+b;var T=new Uint8Array(f);i.inflateRaw(k,T),u[E]=T}}},i.inflateRaw=function(s,o){return i.F.inflate(s,o)},i.inflate=function(s,o){return s[0],s[1],i.inflateRaw(new Uint8Array(s.buffer,s.byteOffset+2,s.length-6),o)},i.deflate=function(s,o){o==null&&(o={level:6});var u=0,c=new Uint8Array(50+Math.floor(1.1*s.length));c[u]=120,c[u+1]=156,u+=2,u=i.F.deflateRaw(s,c,u,o.level);var f=i.adler(s,0,s.length);return c[u+0]=f>>>24&255,c[u+1]=f>>>16&255,c[u+2]=f>>>8&255,c[u+3]=f>>>0&255,new Uint8Array(c.buffer,0,u+4)},i.deflateRaw=function(s,o){o==null&&(o={level:6});var u=new Uint8Array(50+Math.floor(1.1*s.length)),c=i.F.deflateRaw(s,u,c,o.level);return new Uint8Array(u.buffer,0,c)},i.encode=function(s,o){o==null&&(o=!1);var u=0,c=i.bin.writeUint,f=i.bin.writeUshort,h={};for(var p in s){var y=!i._noNeed(p)&&!o,b=s[p],g=i.crc.crc(b,0,b.length);h[p]={cpr:y,usize:b.length,crc:g,file:y?i.deflateRaw(b):b}}for(var p in h)u+=h[p].file.length+30+46+2*i.bin.sizeUTF8(p);u+=22;var S=new Uint8Array(u),E=0,k=[];for(var p in h){var T=h[p];k.push(E),E=i._writeHeader(S,E,p,T,0)}var z=0,B=E;for(var p in h)T=h[p],k.push(E),E=i._writeHeader(S,E,p,T,1,k[z++]);var D=E-B;return c(S,E,101010256),E+=4,f(S,E+=4,z),f(S,E+=2,z),c(S,E+=2,D),c(S,E+=4,B),E+=4,E+=2,S.buffer},i._noNeed=function(s){var o=s.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(o)!=-1},i._writeHeader=function(s,o,u,c,f,h){var p=i.bin.writeUint,y=i.bin.writeUshort,b=c.file;return p(s,o,f==0?67324752:33639248),o+=4,f==1&&(o+=2),y(s,o,20),y(s,o+=2,0),y(s,o+=2,c.cpr?8:0),p(s,o+=2,0),p(s,o+=4,c.crc),p(s,o+=4,b.length),p(s,o+=4,c.usize),y(s,o+=4,i.bin.sizeUTF8(u)),y(s,o+=2,0),o+=2,f==1&&(o+=2,o+=2,p(s,o+=6,h),o+=4),o+=i.bin.writeUTF8(s,o,u),f==0&&(s.set(b,o),o+=b.length),o},i.crc={table:(function(){for(var s=new Uint32Array(256),o=0;o<256;o++){for(var u=o,c=0;c<8;c++)1&u?u=3988292384^u>>>1:u>>>=1;s[o]=u}return s})(),update:function(s,o,u,c){for(var f=0;f<c;f++)s=i.crc.table[255&(s^o[u+f])]^s>>>8;return s},crc:function(s,o,u){return 4294967295^i.crc.update(4294967295,s,o,u)}},i.adler=function(s,o,u){for(var c=1,f=0,h=o,p=o+u;h<p;){for(var y=Math.min(h+5552,p);h<y;)f+=c+=s[h++];c%=65521,f%=65521}return f<<16|c},i.bin={readUshort:function(s,o){return s[o]|s[o+1]<<8},writeUshort:function(s,o,u){s[o]=255&u,s[o+1]=u>>8&255},readUint:function(s,o){return 16777216*s[o+3]+(s[o+2]<<16|s[o+1]<<8|s[o])},writeUint:function(s,o,u){s[o]=255&u,s[o+1]=u>>8&255,s[o+2]=u>>16&255,s[o+3]=u>>24&255},readASCII:function(s,o,u){for(var c="",f=0;f<u;f++)c+=String.fromCharCode(s[o+f]);return c},writeASCII:function(s,o,u){for(var c=0;c<u.length;c++)s[o+c]=u.charCodeAt(c)},pad:function(s){return s.length<2?"0"+s:s},readUTF8:function(s,o,u){for(var c,f="",h=0;h<u;h++)f+="%"+i.bin.pad(s[o+h].toString(16));try{c=decodeURIComponent(f)}catch{return i.bin.readASCII(s,o,u)}return c},writeUTF8:function(s,o,u){for(var c=u.length,f=0,h=0;h<c;h++){var p=u.charCodeAt(h);if((4294967168&p)==0)s[o+f]=p,f++;else if((4294965248&p)==0)s[o+f]=192|p>>6,s[o+f+1]=128|p>>0&63,f+=2;else if((4294901760&p)==0)s[o+f]=224|p>>12,s[o+f+1]=128|p>>6&63,s[o+f+2]=128|p>>0&63,f+=3;else{if((4292870144&p)!=0)throw"e";s[o+f]=240|p>>18,s[o+f+1]=128|p>>12&63,s[o+f+2]=128|p>>6&63,s[o+f+3]=128|p>>0&63,f+=4}}return f},sizeUTF8:function(s){for(var o=s.length,u=0,c=0;c<o;c++){var f=s.charCodeAt(c);if((4294967168&f)==0)u++;else if((4294965248&f)==0)u+=2;else if((4294901760&f)==0)u+=3;else{if((4292870144&f)!=0)throw"e";u+=4}}return u}},i.F={},i.F.deflateRaw=function(s,o,u,c){var f=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][c],h=i.F.U,p=i.F._goodIndex;i.F._hash;var y=i.F._putsE,b=0,g=u<<3,S=0,E=s.length;if(c==0){for(;b<E;)y(o,g,b+(N=Math.min(65535,E-b))==E?1:0),g=i.F._copyExact(s,b,N,o,g+8),b+=N;return g>>>3}var k=h.lits,T=h.strt,z=h.prev,B=0,D=0,ne=0,H=0,te=0,I=0;for(E>2&&(T[I=i.F._hash(s,0)]=0),b=0;b<E;b++){if(te=I,b+1<E-2){I=i.F._hash(s,b+1);var L=b+1&32767;z[L]=T[I],T[I]=L}if(S<=b){(B>14e3||D>26697)&&E-b>100&&(S<b&&(k[B]=b-S,B+=2,S=b),g=i.F._writeBlock(b==E-1||S==E?1:0,k,B,H,s,ne,b-ne,o,g),B=D=H=0,ne=b);var K=0;b<E-2&&(K=i.F._bestMatch(s,b,z,te,Math.min(f[2],E-b),f[3]));var N=K>>>16,P=65535&K;if(K!=0){P=65535&K;var Y=p(N=K>>>16,h.of0);h.lhst[257+Y]++;var F=p(P,h.df0);h.dhst[F]++,H+=h.exb[Y]+h.dxb[F],k[B]=N<<23|b-S,k[B+1]=P<<16|Y<<8|F,B+=2,S=b+N}else h.lhst[s[b]]++;D++}}for(ne==b&&s.length!=0||(S<b&&(k[B]=b-S,B+=2,S=b),g=i.F._writeBlock(1,k,B,H,s,ne,b-ne,o,g),B=0,D=0,B=D=H=0,ne=b);(7&g)!=0;)g++;return g>>>3},i.F._bestMatch=function(s,o,u,c,f,h){var p=32767&o,y=u[p],b=p-y+32768&32767;if(y==p||c!=i.F._hash(s,o-b))return 0;for(var g=0,S=0,E=Math.min(32767,o);b<=E&&--h!=0&&y!=p;){if(g==0||s[o+g]==s[o+g-b]){var k=i.F._howLong(s,o,b);if(k>g){if(S=b,(g=k)>=f)break;b+2<k&&(k=b+2);for(var T=0,z=0;z<k-2;z++){var B=o-b+z+32768&32767,D=B-u[B]+32768&32767;D>T&&(T=D,y=B)}}}b+=(p=y)-(y=u[p])+32768&32767}return g<<16|S},i.F._howLong=function(s,o,u){if(s[o]!=s[o-u]||s[o+1]!=s[o+1-u]||s[o+2]!=s[o+2-u])return 0;var c=o,f=Math.min(s.length,o+258);for(o+=3;o<f&&s[o]==s[o-u];)o++;return o-c},i.F._hash=function(s,o){return(s[o]<<8|s[o+1])+(s[o+2]<<4)&65535},i.saved=0,i.F._writeBlock=function(s,o,u,c,f,h,p,y,b){var g,S,E,k,T,z,B,D,ne,H=i.F.U,te=i.F._putsF,I=i.F._putsE;H.lhst[256]++,S=(g=i.F.getTrees())[0],E=g[1],k=g[2],T=g[3],z=g[4],B=g[5],D=g[6],ne=g[7];var L=32+((b+3&7)==0?0:8-(b+3&7))+(p<<3),K=c+i.F.contSize(H.fltree,H.lhst)+i.F.contSize(H.fdtree,H.dhst),N=c+i.F.contSize(H.ltree,H.lhst)+i.F.contSize(H.dtree,H.dhst);N+=14+3*B+i.F.contSize(H.itree,H.ihst)+(2*H.ihst[16]+3*H.ihst[17]+7*H.ihst[18]);for(var P=0;P<286;P++)H.lhst[P]=0;for(P=0;P<30;P++)H.dhst[P]=0;for(P=0;P<19;P++)H.ihst[P]=0;var Y=L<K&&L<N?0:K<N?1:2;if(te(y,b,s),te(y,b+1,Y),b+=3,Y==0){for(;(7&b)!=0;)b++;b=i.F._copyExact(f,h,p,y,b)}else{var F,X;if(Y==1&&(F=H.fltree,X=H.fdtree),Y==2){i.F.makeCodes(H.ltree,S),i.F.revCodes(H.ltree,S),i.F.makeCodes(H.dtree,E),i.F.revCodes(H.dtree,E),i.F.makeCodes(H.itree,k),i.F.revCodes(H.itree,k),F=H.ltree,X=H.dtree,I(y,b,T-257),I(y,b+=5,z-1),I(y,b+=5,B-4),b+=4;for(var O=0;O<B;O++)I(y,b+3*O,H.itree[1+(H.ordr[O]<<1)]);b+=3*B,b=i.F._codeTiny(D,H.itree,y,b),b=i.F._codeTiny(ne,H.itree,y,b)}for(var R=h,se=0;se<u;se+=2){for(var le=o[se],me=le>>>23,Z=R+(8388607&le);R<Z;)b=i.F._writeLit(f[R++],F,y,b);if(me!=0){var j=o[se+1],G=j>>16,V=j>>8&255,ee=255&j;I(y,b=i.F._writeLit(257+V,F,y,b),me-H.of0[V]),b+=H.exb[V],te(y,b=i.F._writeLit(ee,X,y,b),G-H.df0[ee]),b+=H.dxb[ee],R+=me}}b=i.F._writeLit(256,F,y,b)}return b},i.F._copyExact=function(s,o,u,c,f){var h=f>>>3;return c[h]=u,c[h+1]=u>>>8,c[h+2]=255-c[h],c[h+3]=255-c[h+1],h+=4,c.set(new Uint8Array(s.buffer,o,u),h),f+(u+4<<3)},i.F.getTrees=function(){for(var s=i.F.U,o=i.F._hufTree(s.lhst,s.ltree,15),u=i.F._hufTree(s.dhst,s.dtree,15),c=[],f=i.F._lenCodes(s.ltree,c),h=[],p=i.F._lenCodes(s.dtree,h),y=0;y<c.length;y+=2)s.ihst[c[y]]++;for(y=0;y<h.length;y+=2)s.ihst[h[y]]++;for(var b=i.F._hufTree(s.ihst,s.itree,7),g=19;g>4&&s.itree[1+(s.ordr[g-1]<<1)]==0;)g--;return[o,u,b,f,p,g,c,h]},i.F.getSecond=function(s){for(var o=[],u=0;u<s.length;u+=2)o.push(s[u+1]);return o},i.F.nonZero=function(s){for(var o="",u=0;u<s.length;u+=2)s[u+1]!=0&&(o+=(u>>1)+",");return o},i.F.contSize=function(s,o){for(var u=0,c=0;c<o.length;c++)u+=o[c]*s[1+(c<<1)];return u},i.F._codeTiny=function(s,o,u,c){for(var f=0;f<s.length;f+=2){var h=s[f],p=s[f+1];c=i.F._writeLit(h,o,u,c);var y=h==16?2:h==17?3:7;h>15&&(i.F._putsE(u,c,p,y),c+=y)}return c},i.F._lenCodes=function(s,o){for(var u=s.length;u!=2&&s[u-1]==0;)u-=2;for(var c=0;c<u;c+=2){var f=s[c+1],h=c+3<u?s[c+3]:-1,p=c+5<u?s[c+5]:-1,y=c==0?-1:s[c-1];if(f==0&&h==f&&p==f){for(var b=c+5;b+2<u&&s[b+2]==f;)b+=2;(g=Math.min(b+1-c>>>1,138))<11?o.push(17,g-3):o.push(18,g-11),c+=2*g-2}else if(f==y&&h==f&&p==f){for(b=c+5;b+2<u&&s[b+2]==f;)b+=2;var g=Math.min(b+1-c>>>1,6);o.push(16,g-3),c+=2*g-2}else o.push(f,0)}return u>>>1},i.F._hufTree=function(s,o,u){var c=[],f=s.length,h=o.length,p=0;for(p=0;p<h;p+=2)o[p]=0,o[p+1]=0;for(p=0;p<f;p++)s[p]!=0&&c.push({lit:p,f:s[p]});var y=c.length,b=c.slice(0);if(y==0)return 0;if(y==1){var g=c[0].lit;return b=g==0?1:0,o[1+(g<<1)]=1,o[1+(b<<1)]=1,1}c.sort((function(D,ne){return D.f-ne.f}));var S=c[0],E=c[1],k=0,T=1,z=2;for(c[0]={lit:-1,f:S.f+E.f,l:S,r:E,d:0};T!=y-1;)S=k!=T&&(z==y||c[k].f<c[z].f)?c[k++]:c[z++],E=k!=T&&(z==y||c[k].f<c[z].f)?c[k++]:c[z++],c[T++]={lit:-1,f:S.f+E.f,l:S,r:E};var B=i.F.setDepth(c[T-1],0);for(B>u&&(i.F.restrictDepth(b,u,B),B=u),p=0;p<y;p++)o[1+(b[p].lit<<1)]=b[p].d;return B},i.F.setDepth=function(s,o){return s.lit!=-1?(s.d=o,o):Math.max(i.F.setDepth(s.l,o+1),i.F.setDepth(s.r,o+1))},i.F.restrictDepth=function(s,o,u){var c=0,f=1<<u-o,h=0;for(s.sort((function(y,b){return b.d==y.d?y.f-b.f:b.d-y.d})),c=0;c<s.length&&s[c].d>o;c++){var p=s[c].d;s[c].d=o,h+=f-(1<<u-p)}for(h>>>=u-o;h>0;)(p=s[c].d)<o?(s[c].d++,h-=1<<o-p-1):c++;for(;c>=0;c--)s[c].d==o&&h<0&&(s[c].d--,h++);h!=0&&console.log("debt left")},i.F._goodIndex=function(s,o){var u=0;return o[16|u]<=s&&(u|=16),o[8|u]<=s&&(u|=8),o[4|u]<=s&&(u|=4),o[2|u]<=s&&(u|=2),o[1|u]<=s&&(u|=1),u},i.F._writeLit=function(s,o,u,c){return i.F._putsF(u,c,o[s<<1]),c+o[1+(s<<1)]},i.F.inflate=function(s,o){var u=Uint8Array;if(s[0]==3&&s[1]==0)return o||new u(0);var c=i.F,f=c._bitsF,h=c._bitsE,p=c._decodeTiny,y=c.makeCodes,b=c.codes2map,g=c._get17,S=c.U,E=o==null;E&&(o=new u(s.length>>>2<<3));for(var k,T,z=0,B=0,D=0,ne=0,H=0,te=0,I=0,L=0,K=0;z==0;)if(z=f(s,K,1),B=f(s,K+1,2),K+=3,B!=0){if(E&&(o=i.F._check(o,L+(1<<17))),B==1&&(k=S.flmap,T=S.fdmap,te=511,I=31),B==2){D=h(s,K,5)+257,ne=h(s,K+5,5)+1,H=h(s,K+10,4)+4,K+=14;for(var N=0;N<38;N+=2)S.itree[N]=0,S.itree[N+1]=0;var P=1;for(N=0;N<H;N++){var Y=h(s,K+3*N,3);S.itree[1+(S.ordr[N]<<1)]=Y,Y>P&&(P=Y)}K+=3*H,y(S.itree,P),b(S.itree,P,S.imap),k=S.lmap,T=S.dmap,K=p(S.imap,(1<<P)-1,D+ne,s,K,S.ttree);var F=c._copyOut(S.ttree,0,D,S.ltree);te=(1<<F)-1;var X=c._copyOut(S.ttree,D,ne,S.dtree);I=(1<<X)-1,y(S.ltree,F),b(S.ltree,F,k),y(S.dtree,X),b(S.dtree,X,T)}for(;;){var O=k[g(s,K)&te];K+=15&O;var R=O>>>4;if(!(R>>>8))o[L++]=R;else{if(R==256)break;var se=L+R-254;if(R>264){var le=S.ldef[R-257];se=L+(le>>>3)+h(s,K,7&le),K+=7&le}var me=T[g(s,K)&I];K+=15&me;var Z=me>>>4,j=S.ddef[Z],G=(j>>>4)+f(s,K,15&j);for(K+=15&j,E&&(o=i.F._check(o,L+(1<<17)));L<se;)o[L]=o[L++-G],o[L]=o[L++-G],o[L]=o[L++-G],o[L]=o[L++-G];L=se}}}else{(7&K)!=0&&(K+=8-(7&K));var V=4+(K>>>3),ee=s[V-4]|s[V-3]<<8;E&&(o=i.F._check(o,L+ee)),o.set(new u(s.buffer,s.byteOffset+V,ee),L),K=V+ee<<3,L+=ee}return o.length==L?o:o.slice(0,L)},i.F._check=function(s,o){var u=s.length;if(o<=u)return s;var c=new Uint8Array(Math.max(u<<1,o));return c.set(s,0),c},i.F._decodeTiny=function(s,o,u,c,f,h){for(var p=i.F._bitsE,y=i.F._get17,b=0;b<u;){var g=s[y(c,f)&o];f+=15&g;var S=g>>>4;if(S<=15)h[b]=S,b++;else{var E=0,k=0;S==16?(k=3+p(c,f,2),f+=2,E=h[b-1]):S==17?(k=3+p(c,f,3),f+=3):S==18&&(k=11+p(c,f,7),f+=7);for(var T=b+k;b<T;)h[b]=E,b++}}return f},i.F._copyOut=function(s,o,u,c){for(var f=0,h=0,p=c.length>>>1;h<u;){var y=s[h+o];c[h<<1]=0,c[1+(h<<1)]=y,y>f&&(f=y),h++}for(;h<p;)c[h<<1]=0,c[1+(h<<1)]=0,h++;return f},i.F.makeCodes=function(s,o){for(var u,c,f,h,p=i.F.U,y=s.length,b=p.bl_count,g=0;g<=o;g++)b[g]=0;for(g=1;g<y;g+=2)b[s[g]]++;var S=p.next_code;for(u=0,b[0]=0,c=1;c<=o;c++)u=u+b[c-1]<<1,S[c]=u;for(f=0;f<y;f+=2)(h=s[f+1])!=0&&(s[f]=S[h],S[h]++)},i.F.codes2map=function(s,o,u){for(var c=s.length,f=i.F.U.rev15,h=0;h<c;h+=2)if(s[h+1]!=0)for(var p=h>>1,y=s[h+1],b=p<<4|y,g=o-y,S=s[h]<<g,E=S+(1<<g);S!=E;)u[f[S]>>>15-o]=b,S++},i.F.revCodes=function(s,o){for(var u=i.F.U.rev15,c=15-o,f=0;f<s.length;f+=2){var h=s[f]<<o-s[f+1];s[f]=u[h]>>>c}},i.F._putsE=function(s,o,u){u<<=7&o;var c=o>>>3;s[c]|=u,s[c+1]|=u>>>8},i.F._putsF=function(s,o,u){u<<=7&o;var c=o>>>3;s[c]|=u,s[c+1]|=u>>>8,s[c+2]|=u>>>16},i.F._bitsE=function(s,o,u){return(s[o>>>3]|s[1+(o>>>3)]<<8)>>>(7&o)&(1<<u)-1},i.F._bitsF=function(s,o,u){return(s[o>>>3]|s[1+(o>>>3)]<<8|s[2+(o>>>3)]<<16)>>>(7&o)&(1<<u)-1},i.F._get17=function(s,o){return(s[o>>>3]|s[1+(o>>>3)]<<8|s[2+(o>>>3)]<<16)>>>(7&o)},i.F._get25=function(s,o){return(s[o>>>3]|s[1+(o>>>3)]<<8|s[2+(o>>>3)]<<16|s[3+(o>>>3)]<<24)>>>(7&o)},i.F.U=(e=Uint16Array,n=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new e(65536),prev:new e(32768)}),(function(){for(var s=i.F.U,o=0;o<32768;o++){var u=o;u=(4278255360&(u=(4042322160&(u=(3435973836&(u=(2863311530&u)>>>1|(1431655765&u)<<1))>>>2|(858993459&u)<<2))>>>4|(252645135&u)<<4))>>>8|(16711935&u)<<8,s.rev15[o]=(u>>>16|u<<16)>>>17}function c(f,h,p){for(;h--!=0;)f.push(0,p)}for(o=0;o<32;o++)s.ldef[o]=s.of0[o]<<3|s.exb[o],s.ddef[o]=s.df0[o]<<4|s.dxb[o];c(s.fltree,144,8),c(s.fltree,112,9),c(s.fltree,24,7),c(s.fltree,8,8),i.F.makeCodes(s.fltree,9),i.F.codes2map(s.fltree,9,s.flmap),i.F.revCodes(s.fltree,9),c(s.fdtree,32,5),i.F.makeCodes(s.fdtree,5),i.F.codes2map(s.fdtree,5,s.fdmap),i.F.revCodes(s.fdtree,5),c(s.itree,19,0),c(s.ltree,286,0),c(s.dtree,30,0),c(s.ttree,320,0)})()})();var u7=s7({__proto__:null,default:Kh},[Kh]);const As=(function(){var t={nextZero(p,y){for(;p[y]!=0;)y++;return y},readUshort:(p,y)=>p[y]<<8|p[y+1],writeUshort(p,y,b){p[y]=b>>8&255,p[y+1]=255&b},readUint:(p,y)=>16777216*p[y]+(p[y+1]<<16|p[y+2]<<8|p[y+3]),writeUint(p,y,b){p[y]=b>>24&255,p[y+1]=b>>16&255,p[y+2]=b>>8&255,p[y+3]=255&b},readASCII(p,y,b){let g="";for(let S=0;S<b;S++)g+=String.fromCharCode(p[y+S]);return g},writeASCII(p,y,b){for(let g=0;g<b.length;g++)p[y+g]=b.charCodeAt(g)},readBytes(p,y,b){const g=[];for(let S=0;S<b;S++)g.push(p[y+S]);return g},pad:p=>p.length<2?`0${p}`:p,readUTF8(p,y,b){let g,S="";for(let E=0;E<b;E++)S+=`%${t.pad(p[y+E].toString(16))}`;try{g=decodeURIComponent(S)}catch{return t.readASCII(p,y,b)}return g}};function e(p,y,b,g){const S=y*b,E=o(g),k=Math.ceil(y*E/8),T=new Uint8Array(4*S),z=new Uint32Array(T.buffer),{ctype:B}=g,{depth:D}=g,ne=t.readUshort;if(B==6){const le=S<<2;if(D==8)for(var H=0;H<le;H+=4)T[H]=p[H],T[H+1]=p[H+1],T[H+2]=p[H+2],T[H+3]=p[H+3];if(D==16)for(H=0;H<le;H++)T[H]=p[H<<1]}else if(B==2){const le=g.tabs.tRNS;if(le==null){if(D==8)for(H=0;H<S;H++){var te=3*H;z[H]=255<<24|p[te+2]<<16|p[te+1]<<8|p[te]}if(D==16)for(H=0;H<S;H++)te=6*H,z[H]=255<<24|p[te+4]<<16|p[te+2]<<8|p[te]}else{var I=le[0];const me=le[1],Z=le[2];if(D==8)for(H=0;H<S;H++){var L=H<<2;te=3*H,z[H]=255<<24|p[te+2]<<16|p[te+1]<<8|p[te],p[te]==I&&p[te+1]==me&&p[te+2]==Z&&(T[L+3]=0)}if(D==16)for(H=0;H<S;H++)L=H<<2,te=6*H,z[H]=255<<24|p[te+4]<<16|p[te+2]<<8|p[te],ne(p,te)==I&&ne(p,te+2)==me&&ne(p,te+4)==Z&&(T[L+3]=0)}}else if(B==3){const le=g.tabs.PLTE,me=g.tabs.tRNS,Z=me?me.length:0;if(D==1)for(var K=0;K<b;K++){var N=K*k,P=K*y;for(H=0;H<y;H++){L=P+H<<2;var Y=3*(F=p[N+(H>>3)]>>7-((7&H)<<0)&1);T[L]=le[Y],T[L+1]=le[Y+1],T[L+2]=le[Y+2],T[L+3]=F<Z?me[F]:255}}if(D==2)for(K=0;K<b;K++)for(N=K*k,P=K*y,H=0;H<y;H++)L=P+H<<2,Y=3*(F=p[N+(H>>2)]>>6-((3&H)<<1)&3),T[L]=le[Y],T[L+1]=le[Y+1],T[L+2]=le[Y+2],T[L+3]=F<Z?me[F]:255;if(D==4)for(K=0;K<b;K++)for(N=K*k,P=K*y,H=0;H<y;H++)L=P+H<<2,Y=3*(F=p[N+(H>>1)]>>4-((1&H)<<2)&15),T[L]=le[Y],T[L+1]=le[Y+1],T[L+2]=le[Y+2],T[L+3]=F<Z?me[F]:255;if(D==8)for(H=0;H<S;H++){var F;L=H<<2,Y=3*(F=p[H]),T[L]=le[Y],T[L+1]=le[Y+1],T[L+2]=le[Y+2],T[L+3]=F<Z?me[F]:255}}else if(B==4){if(D==8)for(H=0;H<S;H++){L=H<<2;var X=p[O=H<<1];T[L]=X,T[L+1]=X,T[L+2]=X,T[L+3]=p[O+1]}if(D==16)for(H=0;H<S;H++){var O;L=H<<2,X=p[O=H<<2],T[L]=X,T[L+1]=X,T[L+2]=X,T[L+3]=p[O+2]}}else if(B==0)for(I=g.tabs.tRNS?g.tabs.tRNS:-1,K=0;K<b;K++){const le=K*k,me=K*y;if(D==1)for(var R=0;R<y;R++){var se=(X=255*(p[le+(R>>>3)]>>>7-(7&R)&1))==255*I?0:255;z[me+R]=se<<24|X<<16|X<<8|X}else if(D==2)for(R=0;R<y;R++)se=(X=85*(p[le+(R>>>2)]>>>6-((3&R)<<1)&3))==85*I?0:255,z[me+R]=se<<24|X<<16|X<<8|X;else if(D==4)for(R=0;R<y;R++)se=(X=17*(p[le+(R>>>1)]>>>4-((1&R)<<2)&15))==17*I?0:255,z[me+R]=se<<24|X<<16|X<<8|X;else if(D==8)for(R=0;R<y;R++)se=(X=p[le+R])==I?0:255,z[me+R]=se<<24|X<<16|X<<8|X;else if(D==16)for(R=0;R<y;R++)X=p[le+(R<<1)],se=ne(p,le+(R<<1))==I?0:255,z[me+R]=se<<24|X<<16|X<<8|X}return T}function n(p,y,b,g){const S=o(p),E=Math.ceil(b*S/8),k=new Uint8Array((E+1+p.interlace)*g);return y=p.tabs.CgBI?s(y,k):i(y,k),p.interlace==0?y=u(y,p,0,b,g):p.interlace==1&&(y=(function(z,B){const D=B.width,ne=B.height,H=o(B),te=H>>3,I=Math.ceil(D*H/8),L=new Uint8Array(ne*I);let K=0;const N=[0,0,4,0,2,0,1],P=[0,4,0,2,0,1,0],Y=[8,8,8,4,4,2,2],F=[8,8,4,4,2,2,1];let X=0;for(;X<7;){const R=Y[X],se=F[X];let le=0,me=0,Z=N[X];for(;Z<ne;)Z+=R,me++;let j=P[X];for(;j<D;)j+=se,le++;const G=Math.ceil(le*H/8);u(z,B,K,le,me);let V=0,ee=N[X];for(;ee<ne;){let q=P[X],ae=K+V*G<<3;for(;q<D;){var O;if(H==1&&(O=(O=z[ae>>3])>>7-(7&ae)&1,L[ee*I+(q>>3)]|=O<<7-((7&q)<<0)),H==2&&(O=(O=z[ae>>3])>>6-(7&ae)&3,L[ee*I+(q>>2)]|=O<<6-((3&q)<<1)),H==4&&(O=(O=z[ae>>3])>>4-(7&ae)&15,L[ee*I+(q>>1)]|=O<<4-((1&q)<<2)),H>=8){const pe=ee*I+q*te;for(let ye=0;ye<te;ye++)L[pe+ye]=z[(ae>>3)+ye]}ae+=H,q+=se}V++,ee+=R}le*me!=0&&(K+=me*(1+G)),X+=1}return L})(y,p)),y}function i(p,y){return s(new Uint8Array(p.buffer,2,p.length-6),y)}var s=(function(){const p={H:{}};return p.H.N=function(y,b){const g=Uint8Array;let S,E,k=0,T=0,z=0,B=0,D=0,ne=0,H=0,te=0,I=0;if(y[0]==3&&y[1]==0)return b||new g(0);const L=p.H,K=L.b,N=L.e,P=L.R,Y=L.n,F=L.A,X=L.Z,O=L.m,R=b==null;for(R&&(b=new g(y.length>>>2<<5));k==0;)if(k=K(y,I,1),T=K(y,I+1,2),I+=3,T!=0){if(R&&(b=p.H.W(b,te+(1<<17))),T==1&&(S=O.J,E=O.h,ne=511,H=31),T==2){z=N(y,I,5)+257,B=N(y,I+5,5)+1,D=N(y,I+10,4)+4,I+=14;let le=1;for(var se=0;se<38;se+=2)O.Q[se]=0,O.Q[se+1]=0;for(se=0;se<D;se++){const j=N(y,I+3*se,3);O.Q[1+(O.X[se]<<1)]=j,j>le&&(le=j)}I+=3*D,Y(O.Q,le),F(O.Q,le,O.u),S=O.w,E=O.d,I=P(O.u,(1<<le)-1,z+B,y,I,O.v);const me=L.V(O.v,0,z,O.C);ne=(1<<me)-1;const Z=L.V(O.v,z,B,O.D);H=(1<<Z)-1,Y(O.C,me),F(O.C,me,S),Y(O.D,Z),F(O.D,Z,E)}for(;;){const le=S[X(y,I)&ne];I+=15&le;const me=le>>>4;if(!(me>>>8))b[te++]=me;else{if(me==256)break;{let Z=te+me-254;if(me>264){const q=O.q[me-257];Z=te+(q>>>3)+N(y,I,7&q),I+=7&q}const j=E[X(y,I)&H];I+=15&j;const G=j>>>4,V=O.c[G],ee=(V>>>4)+K(y,I,15&V);for(I+=15&V;te<Z;)b[te]=b[te++-ee],b[te]=b[te++-ee],b[te]=b[te++-ee],b[te]=b[te++-ee];te=Z}}}}else{(7&I)!=0&&(I+=8-(7&I));const le=4+(I>>>3),me=y[le-4]|y[le-3]<<8;R&&(b=p.H.W(b,te+me)),b.set(new g(y.buffer,y.byteOffset+le,me),te),I=le+me<<3,te+=me}return b.length==te?b:b.slice(0,te)},p.H.W=function(y,b){const g=y.length;if(b<=g)return y;const S=new Uint8Array(g<<1);return S.set(y,0),S},p.H.R=function(y,b,g,S,E,k){const T=p.H.e,z=p.H.Z;let B=0;for(;B<g;){const D=y[z(S,E)&b];E+=15&D;const ne=D>>>4;if(ne<=15)k[B]=ne,B++;else{let H=0,te=0;ne==16?(te=3+T(S,E,2),E+=2,H=k[B-1]):ne==17?(te=3+T(S,E,3),E+=3):ne==18&&(te=11+T(S,E,7),E+=7);const I=B+te;for(;B<I;)k[B]=H,B++}}return E},p.H.V=function(y,b,g,S){let E=0,k=0;const T=S.length>>>1;for(;k<g;){const z=y[k+b];S[k<<1]=0,S[1+(k<<1)]=z,z>E&&(E=z),k++}for(;k<T;)S[k<<1]=0,S[1+(k<<1)]=0,k++;return E},p.H.n=function(y,b){const g=p.H.m,S=y.length;let E,k,T,z;const B=g.j;for(var D=0;D<=b;D++)B[D]=0;for(D=1;D<S;D+=2)B[y[D]]++;const ne=g.K;for(E=0,B[0]=0,k=1;k<=b;k++)E=E+B[k-1]<<1,ne[k]=E;for(T=0;T<S;T+=2)z=y[T+1],z!=0&&(y[T]=ne[z],ne[z]++)},p.H.A=function(y,b,g){const S=y.length,E=p.H.m.r;for(let k=0;k<S;k+=2)if(y[k+1]!=0){const T=k>>1,z=y[k+1],B=T<<4|z,D=b-z;let ne=y[k]<<D;const H=ne+(1<<D);for(;ne!=H;)g[E[ne]>>>15-b]=B,ne++}},p.H.l=function(y,b){const g=p.H.m.r,S=15-b;for(let E=0;E<y.length;E+=2){const k=y[E]<<b-y[E+1];y[E]=g[k]>>>S}},p.H.M=function(y,b,g){g<<=7&b;const S=b>>>3;y[S]|=g,y[S+1]|=g>>>8},p.H.I=function(y,b,g){g<<=7&b;const S=b>>>3;y[S]|=g,y[S+1]|=g>>>8,y[S+2]|=g>>>16},p.H.e=function(y,b,g){return(y[b>>>3]|y[1+(b>>>3)]<<8)>>>(7&b)&(1<<g)-1},p.H.b=function(y,b,g){return(y[b>>>3]|y[1+(b>>>3)]<<8|y[2+(b>>>3)]<<16)>>>(7&b)&(1<<g)-1},p.H.Z=function(y,b){return(y[b>>>3]|y[1+(b>>>3)]<<8|y[2+(b>>>3)]<<16)>>>(7&b)},p.H.i=function(y,b){return(y[b>>>3]|y[1+(b>>>3)]<<8|y[2+(b>>>3)]<<16|y[3+(b>>>3)]<<24)>>>(7&b)},p.H.m=(function(){const y=Uint16Array,b=Uint32Array;return{K:new y(16),j:new y(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new y(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new b(32),J:new y(512),_:[],h:new y(32),$:[],w:new y(32768),C:[],v:[],d:new y(32768),D:[],u:new y(512),Q:[],r:new y(32768),s:new b(286),Y:new b(30),a:new b(19),t:new b(15e3),k:new y(65536),g:new y(32768)}})(),(function(){const y=p.H.m;for(var b=0;b<32768;b++){let S=b;S=(2863311530&S)>>>1|(1431655765&S)<<1,S=(3435973836&S)>>>2|(858993459&S)<<2,S=(4042322160&S)>>>4|(252645135&S)<<4,S=(4278255360&S)>>>8|(16711935&S)<<8,y.r[b]=(S>>>16|S<<16)>>>17}function g(S,E,k){for(;E--!=0;)S.push(0,k)}for(b=0;b<32;b++)y.q[b]=y.S[b]<<3|y.T[b],y.c[b]=y.p[b]<<4|y.z[b];g(y._,144,8),g(y._,112,9),g(y._,24,7),g(y._,8,8),p.H.n(y._,9),p.H.A(y._,9,y.J),p.H.l(y._,9),g(y.$,32,5),p.H.n(y.$,5),p.H.A(y.$,5,y.h),p.H.l(y.$,5),g(y.Q,19,0),g(y.C,286,0),g(y.D,30,0),g(y.v,320,0)})(),p.H.N})();function o(p){return[1,null,3,1,2,null,4][p.ctype]*p.depth}function u(p,y,b,g,S){let E=o(y);const k=Math.ceil(g*E/8);let T,z;E=Math.ceil(E/8);let B=p[b],D=0;if(B>1&&(p[b]=[0,0,1][B-2]),B==3)for(D=E;D<k;D++)p[D+1]=p[D+1]+(p[D+1-E]>>>1)&255;for(let ne=0;ne<S;ne++)if(T=b+ne*k,z=T+ne+1,B=p[z-1],D=0,B==0)for(;D<k;D++)p[T+D]=p[z+D];else if(B==1){for(;D<E;D++)p[T+D]=p[z+D];for(;D<k;D++)p[T+D]=p[z+D]+p[T+D-E]}else if(B==2)for(;D<k;D++)p[T+D]=p[z+D]+p[T+D-k];else if(B==3){for(;D<E;D++)p[T+D]=p[z+D]+(p[T+D-k]>>>1);for(;D<k;D++)p[T+D]=p[z+D]+(p[T+D-k]+p[T+D-E]>>>1)}else{for(;D<E;D++)p[T+D]=p[z+D]+c(0,p[T+D-k],0);for(;D<k;D++)p[T+D]=p[z+D]+c(p[T+D-E],p[T+D-k],p[T+D-E-k])}return p}function c(p,y,b){const g=p+y-b,S=g-p,E=g-y,k=g-b;return S*S<=E*E&&S*S<=k*k?p:E*E<=k*k?y:b}function f(p,y,b){b.width=t.readUint(p,y),y+=4,b.height=t.readUint(p,y),y+=4,b.depth=p[y],y++,b.ctype=p[y],y++,b.compress=p[y],y++,b.filter=p[y],y++,b.interlace=p[y],y++}function h(p,y,b,g,S,E,k,T,z){const B=Math.min(y,S),D=Math.min(b,E);let ne=0,H=0;for(let X=0;X<D;X++)for(let O=0;O<B;O++)if(k>=0&&T>=0?(ne=X*y+O<<2,H=(T+X)*S+k+O<<2):(ne=(-T+X)*y-k+O<<2,H=X*S+O<<2),z==0)g[H]=p[ne],g[H+1]=p[ne+1],g[H+2]=p[ne+2],g[H+3]=p[ne+3];else if(z==1){var te=p[ne+3]*.00392156862745098,I=p[ne]*te,L=p[ne+1]*te,K=p[ne+2]*te,N=g[H+3]*(1/255),P=g[H]*N,Y=g[H+1]*N,F=g[H+2]*N;const R=1-te,se=te+N*R,le=se==0?0:1/se;g[H+3]=255*se,g[H+0]=(I+P*R)*le,g[H+1]=(L+Y*R)*le,g[H+2]=(K+F*R)*le}else if(z==2)te=p[ne+3],I=p[ne],L=p[ne+1],K=p[ne+2],N=g[H+3],P=g[H],Y=g[H+1],F=g[H+2],te==N&&I==P&&L==Y&&K==F?(g[H]=0,g[H+1]=0,g[H+2]=0,g[H+3]=0):(g[H]=I,g[H+1]=L,g[H+2]=K,g[H+3]=te);else if(z==3){if(te=p[ne+3],I=p[ne],L=p[ne+1],K=p[ne+2],N=g[H+3],P=g[H],Y=g[H+1],F=g[H+2],te==N&&I==P&&L==Y&&K==F)continue;if(te<220&&N>20)return!1}return!0}return{decode:function(y){const b=new Uint8Array(y);let g=8;const S=t,E=S.readUshort,k=S.readUint,T={tabs:{},frames:[]},z=new Uint8Array(b.length);let B,D=0,ne=0;const H=[137,80,78,71,13,10,26,10];for(var te=0;te<8;te++)if(b[te]!=H[te])throw"The input is not a PNG file!";for(;g<b.length;){const X=S.readUint(b,g);g+=4;const O=S.readASCII(b,g,4);if(g+=4,O=="IHDR")f(b,g,T);else if(O=="iCCP"){for(var I=g;b[I]!=0;)I++;S.readASCII(b,g,I-g),b[I+1];const R=b.slice(I+2,g+X);let se=null;try{se=i(R)}catch{se=s(R)}T.tabs[O]=se}else if(O=="CgBI")T.tabs[O]=b.slice(g,g+4);else if(O=="IDAT"){for(te=0;te<X;te++)z[D+te]=b[g+te];D+=X}else if(O=="acTL")T.tabs[O]={num_frames:k(b,g),num_plays:k(b,g+4)},B=new Uint8Array(b.length);else if(O=="fcTL"){ne!=0&&((F=T.frames[T.frames.length-1]).data=n(T,B.slice(0,ne),F.rect.width,F.rect.height),ne=0);const R={x:k(b,g+12),y:k(b,g+16),width:k(b,g+4),height:k(b,g+8)};let se=E(b,g+22);se=E(b,g+20)/(se==0?100:se);const le={rect:R,delay:Math.round(1e3*se),dispose:b[g+24],blend:b[g+25]};T.frames.push(le)}else if(O=="fdAT"){for(te=0;te<X-4;te++)B[ne+te]=b[g+te+4];ne+=X-4}else if(O=="pHYs")T.tabs[O]=[S.readUint(b,g),S.readUint(b,g+4),b[g+8]];else if(O=="cHRM")for(T.tabs[O]=[],te=0;te<8;te++)T.tabs[O].push(S.readUint(b,g+4*te));else if(O=="tEXt"||O=="zTXt"){T.tabs[O]==null&&(T.tabs[O]={});var L=S.nextZero(b,g),K=S.readASCII(b,g,L-g),N=g+X-L-1;if(O=="tEXt")Y=S.readASCII(b,L+1,N);else{var P=i(b.slice(L+2,L+2+N));Y=S.readUTF8(P,0,P.length)}T.tabs[O][K]=Y}else if(O=="iTXt"){T.tabs[O]==null&&(T.tabs[O]={}),L=0,I=g,L=S.nextZero(b,I),K=S.readASCII(b,I,L-I);const R=b[I=L+1];var Y;b[I+1],I+=2,L=S.nextZero(b,I),S.readASCII(b,I,L-I),I=L+1,L=S.nextZero(b,I),S.readUTF8(b,I,L-I),N=X-((I=L+1)-g),R==0?Y=S.readUTF8(b,I,N):(P=i(b.slice(I,I+N)),Y=S.readUTF8(P,0,P.length)),T.tabs[O][K]=Y}else if(O=="PLTE")T.tabs[O]=S.readBytes(b,g,X);else if(O=="hIST"){const R=T.tabs.PLTE.length/3;for(T.tabs[O]=[],te=0;te<R;te++)T.tabs[O].push(E(b,g+2*te))}else if(O=="tRNS")T.ctype==3?T.tabs[O]=S.readBytes(b,g,X):T.ctype==0?T.tabs[O]=E(b,g):T.ctype==2&&(T.tabs[O]=[E(b,g),E(b,g+2),E(b,g+4)]);else if(O=="gAMA")T.tabs[O]=S.readUint(b,g)/1e5;else if(O=="sRGB")T.tabs[O]=b[g];else if(O=="bKGD")T.ctype==0||T.ctype==4?T.tabs[O]=[E(b,g)]:T.ctype==2||T.ctype==6?T.tabs[O]=[E(b,g),E(b,g+2),E(b,g+4)]:T.ctype==3&&(T.tabs[O]=b[g]);else if(O=="IEND")break;g+=X,S.readUint(b,g),g+=4}var F;return ne!=0&&((F=T.frames[T.frames.length-1]).data=n(T,B.slice(0,ne),F.rect.width,F.rect.height)),T.data=n(T,z,T.width,T.height),delete T.compress,delete T.interlace,delete T.filter,T},toRGBA8:function(y){const b=y.width,g=y.height;if(y.tabs.acTL==null)return[e(y.data,b,g,y).buffer];const S=[];y.frames[0].data==null&&(y.frames[0].data=y.data);const E=b*g*4,k=new Uint8Array(E),T=new Uint8Array(E),z=new Uint8Array(E);for(let D=0;D<y.frames.length;D++){const ne=y.frames[D],H=ne.rect.x,te=ne.rect.y,I=ne.rect.width,L=ne.rect.height,K=e(ne.data,I,L,y);if(D!=0)for(var B=0;B<E;B++)z[B]=k[B];if(ne.blend==0?h(K,I,L,k,b,g,H,te,0):ne.blend==1&&h(K,I,L,k,b,g,H,te,1),S.push(k.buffer.slice(0)),ne.dispose!=0){if(ne.dispose==1)h(T,I,L,k,b,g,H,te,0);else if(ne.dispose==2)for(B=0;B<E;B++)k[B]=z[B]}}return S},_paeth:c,_copyTile:h,_bin:t}})();(function(){const{_copyTile:t}=As,{_bin:e}=As,n=As._paeth;var i={table:(function(){const I=new Uint32Array(256);for(let L=0;L<256;L++){let K=L;for(let N=0;N<8;N++)1&K?K=3988292384^K>>>1:K>>>=1;I[L]=K}return I})(),update(I,L,K,N){for(let P=0;P<N;P++)I=i.table[255&(I^L[K+P])]^I>>>8;return I},crc:(I,L,K)=>4294967295^i.update(4294967295,I,L,K)};function s(I,L,K,N){L[K]+=I[0]*N>>4,L[K+1]+=I[1]*N>>4,L[K+2]+=I[2]*N>>4,L[K+3]+=I[3]*N>>4}function o(I){return Math.max(0,Math.min(255,I))}function u(I,L){const K=I[0]-L[0],N=I[1]-L[1],P=I[2]-L[2],Y=I[3]-L[3];return K*K+N*N+P*P+Y*Y}function c(I,L,K,N,P,Y,F){F==null&&(F=1);const X=N.length,O=[];for(var R=0;R<X;R++){const ee=N[R];O.push([ee>>>0&255,ee>>>8&255,ee>>>16&255,ee>>>24&255])}for(R=0;R<X;R++){let ee=4294967295;for(var se=0,le=0;le<X;le++){var me=u(O[R],O[le]);le!=R&&me<ee&&(ee=me,se=le)}}const Z=new Uint32Array(P.buffer),j=new Int16Array(L*K*4),G=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(R=0;R<G.length;R++)G[R]=255*((G[R]+.5)/16-.5);for(let ee=0;ee<K;ee++)for(let q=0;q<L;q++){var V;R=4*(ee*L+q),F!=2?V=[o(I[R]+j[R]),o(I[R+1]+j[R+1]),o(I[R+2]+j[R+2]),o(I[R+3]+j[R+3])]:(me=G[4*(3&ee)+(3&q)],V=[o(I[R]+me),o(I[R+1]+me),o(I[R+2]+me),o(I[R+3]+me)]),se=0;let ae=16777215;for(le=0;le<X;le++){const _e=u(V,O[le]);_e<ae&&(ae=_e,se=le)}const pe=O[se],ye=[V[0]-pe[0],V[1]-pe[1],V[2]-pe[2],V[3]-pe[3]];F==1&&(q!=L-1&&s(ye,j,R+4,7),ee!=K-1&&(q!=0&&s(ye,j,R+4*L-4,3),s(ye,j,R+4*L,5),q!=L-1&&s(ye,j,R+4*L+4,1))),Y[R>>2]=se,Z[R>>2]=N[se]}}function f(I,L,K,N,P){P==null&&(P={});const{crc:Y}=i,F=e.writeUint,X=e.writeUshort,O=e.writeASCII;let R=8;const se=I.frames.length>1;let le,me=!1,Z=33+(se?20:0);if(P.sRGB!=null&&(Z+=13),P.pHYs!=null&&(Z+=21),P.iCCP!=null&&(le=pako.deflate(P.iCCP),Z+=21+le.length+4),I.ctype==3){for(var j=I.plte.length,G=0;G<j;G++)I.plte[G]>>>24!=255&&(me=!0);Z+=8+3*j+4+(me?8+1*j+4:0)}for(var V=0;V<I.frames.length;V++)se&&(Z+=38),Z+=(pe=I.frames[V]).cimg.length+12,V!=0&&(Z+=4);Z+=12;const ee=new Uint8Array(Z),q=[137,80,78,71,13,10,26,10];for(G=0;G<8;G++)ee[G]=q[G];if(F(ee,R,13),R+=4,O(ee,R,"IHDR"),R+=4,F(ee,R,L),R+=4,F(ee,R,K),R+=4,ee[R]=I.depth,R++,ee[R]=I.ctype,R++,ee[R]=0,R++,ee[R]=0,R++,ee[R]=0,R++,F(ee,R,Y(ee,R-17,17)),R+=4,P.sRGB!=null&&(F(ee,R,1),R+=4,O(ee,R,"sRGB"),R+=4,ee[R]=P.sRGB,R++,F(ee,R,Y(ee,R-5,5)),R+=4),P.iCCP!=null){const ye=13+le.length;F(ee,R,ye),R+=4,O(ee,R,"iCCP"),R+=4,O(ee,R,"ICC profile"),R+=11,R+=2,ee.set(le,R),R+=le.length,F(ee,R,Y(ee,R-(ye+4),ye+4)),R+=4}if(P.pHYs!=null&&(F(ee,R,9),R+=4,O(ee,R,"pHYs"),R+=4,F(ee,R,P.pHYs[0]),R+=4,F(ee,R,P.pHYs[1]),R+=4,ee[R]=P.pHYs[2],R++,F(ee,R,Y(ee,R-13,13)),R+=4),se&&(F(ee,R,8),R+=4,O(ee,R,"acTL"),R+=4,F(ee,R,I.frames.length),R+=4,F(ee,R,P.loop!=null?P.loop:0),R+=4,F(ee,R,Y(ee,R-12,12)),R+=4),I.ctype==3){for(F(ee,R,3*(j=I.plte.length)),R+=4,O(ee,R,"PLTE"),R+=4,G=0;G<j;G++){const ye=3*G,_e=I.plte[G],Be=255&_e,Qe=_e>>>8&255,nt=_e>>>16&255;ee[R+ye+0]=Be,ee[R+ye+1]=Qe,ee[R+ye+2]=nt}if(R+=3*j,F(ee,R,Y(ee,R-3*j-4,3*j+4)),R+=4,me){for(F(ee,R,j),R+=4,O(ee,R,"tRNS"),R+=4,G=0;G<j;G++)ee[R+G]=I.plte[G]>>>24&255;R+=j,F(ee,R,Y(ee,R-j-4,j+4)),R+=4}}let ae=0;for(V=0;V<I.frames.length;V++){var pe=I.frames[V];se&&(F(ee,R,26),R+=4,O(ee,R,"fcTL"),R+=4,F(ee,R,ae++),R+=4,F(ee,R,pe.rect.width),R+=4,F(ee,R,pe.rect.height),R+=4,F(ee,R,pe.rect.x),R+=4,F(ee,R,pe.rect.y),R+=4,X(ee,R,N[V]),R+=2,X(ee,R,1e3),R+=2,ee[R]=pe.dispose,R++,ee[R]=pe.blend,R++,F(ee,R,Y(ee,R-30,30)),R+=4);const ye=pe.cimg;F(ee,R,(j=ye.length)+(V==0?0:4)),R+=4;const _e=R;O(ee,R,V==0?"IDAT":"fdAT"),R+=4,V!=0&&(F(ee,R,ae++),R+=4),ee.set(ye,R),R+=j,F(ee,R,Y(ee,_e,R-_e)),R+=4}return F(ee,R,0),R+=4,O(ee,R,"IEND"),R+=4,F(ee,R,Y(ee,R-4,4)),R+=4,ee.buffer}function h(I,L,K){for(let N=0;N<I.frames.length;N++){const P=I.frames[N];P.rect.width;const Y=P.rect.height,F=new Uint8Array(Y*P.bpl+Y);P.cimg=g(P.img,Y,P.bpp,P.bpl,F,L,K)}}function p(I,L,K,N,P){const Y=P[0],F=P[1],X=P[2],O=P[3],R=P[4],se=P[5];let le=6,me=8,Z=255;for(var j=0;j<I.length;j++){const ge=new Uint8Array(I[j]);for(var G=ge.length,V=0;V<G;V+=4)Z&=ge[V+3]}const ee=Z!=255,q=(function(Oe,Te,Ee,qe,Me,lt){const ct=[];for(var dt=0;dt<Oe.length;dt++){const Ke=new Uint8Array(Oe[dt]),Ve=new Uint32Array(Ke.buffer);var ve;let ot=0,Je=0,$e=Te,tt=Ee,_t=qe?1:0;if(dt!=0){const mt=lt||qe||dt==1||ct[dt-2].dispose!=0?1:2;let Ht=0,yt=1e9;for(let gt=0;gt<mt;gt++){var Re=new Uint8Array(Oe[dt-1-gt]);const vt=new Uint32Array(Oe[dt-1-gt]);let bt=Te,ft=Ee,Ct=-1,tn=-1;for(let on=0;on<Ee;on++)for(let Gt=0;Gt<Te;Gt++)Ve[Fe=on*Te+Gt]!=vt[Fe]&&(Gt<bt&&(bt=Gt),Gt>Ct&&(Ct=Gt),on<ft&&(ft=on),on>tn&&(tn=on));Ct==-1&&(bt=ft=Ct=tn=0),Me&&((1&bt)==1&&bt--,(1&ft)==1&&ft--);const Qt=(Ct-bt+1)*(tn-ft+1);Qt<yt&&(yt=Qt,Ht=gt,ot=bt,Je=ft,$e=Ct-bt+1,tt=tn-ft+1)}Re=new Uint8Array(Oe[dt-1-Ht]),Ht==1&&(ct[dt-1].dispose=2),ve=new Uint8Array($e*tt*4),t(Re,Te,Ee,ve,$e,tt,-ot,-Je,0),_t=t(Ke,Te,Ee,ve,$e,tt,-ot,-Je,3)?1:0,_t==1?b(Ke,Te,Ee,ve,{x:ot,y:Je,width:$e,height:tt}):t(Ke,Te,Ee,ve,$e,tt,-ot,-Je,0)}else ve=Ke.slice(0);ct.push({rect:{x:ot,y:Je,width:$e,height:tt},img:ve,blend:_t,dispose:0})}if(qe)for(dt=0;dt<ct.length;dt++){if((Ue=ct[dt]).blend==1)continue;const Ke=Ue.rect,Ve=ct[dt-1].rect,ot=Math.min(Ke.x,Ve.x),Je=Math.min(Ke.y,Ve.y),$e={x:ot,y:Je,width:Math.max(Ke.x+Ke.width,Ve.x+Ve.width)-ot,height:Math.max(Ke.y+Ke.height,Ve.y+Ve.height)-Je};ct[dt-1].dispose=1,dt-1!=0&&y(Oe,Te,Ee,ct,dt-1,$e,Me),y(Oe,Te,Ee,ct,dt,$e,Me)}let Ge=0;if(Oe.length!=1)for(var Fe=0;Fe<ct.length;Fe++){var Ue;Ge+=(Ue=ct[Fe]).rect.width*Ue.rect.height}return ct})(I,L,K,Y,F,X),ae={},pe=[],ye=[];if(N!=0){const ge=[];for(V=0;V<q.length;V++)ge.push(q[V].img.buffer);const Oe=(function(Me){let lt=0;for(var ct=0;ct<Me.length;ct++)lt+=Me[ct].byteLength;const dt=new Uint8Array(lt);let ve=0;for(ct=0;ct<Me.length;ct++){const Re=new Uint8Array(Me[ct]),Ge=Re.length;for(let Fe=0;Fe<Ge;Fe+=4){let Ue=Re[Fe],Ke=Re[Fe+1],Ve=Re[Fe+2];const ot=Re[Fe+3];ot==0&&(Ue=Ke=Ve=0),dt[ve+Fe]=Ue,dt[ve+Fe+1]=Ke,dt[ve+Fe+2]=Ve,dt[ve+Fe+3]=ot}ve+=Ge}return dt.buffer})(ge),Te=E(Oe,N);for(V=0;V<Te.plte.length;V++)pe.push(Te.plte[V].est.rgba);let Ee=0;for(V=0;V<q.length;V++){const qe=(Be=q[V]).img.length;var _e=new Uint8Array(Te.inds.buffer,Ee>>2,qe>>2);ye.push(_e);const Me=new Uint8Array(Te.abuf,Ee,qe);se&&c(Be.img,Be.rect.width,Be.rect.height,pe,Me,_e),Be.img.set(Me),Ee+=qe}}else for(j=0;j<q.length;j++){var Be=q[j];const ge=new Uint32Array(Be.img.buffer);var Qe=Be.rect.width;for(G=ge.length,_e=new Uint8Array(G),ye.push(_e),V=0;V<G;V++){const Oe=ge[V];if(V!=0&&Oe==ge[V-1])_e[V]=_e[V-1];else if(V>Qe&&Oe==ge[V-Qe])_e[V]=_e[V-Qe];else{let Te=ae[Oe];if(Te==null&&(ae[Oe]=Te=pe.length,pe.push(Oe),pe.length>=300))break;_e[V]=Te}}}const nt=pe.length;for(nt<=256&&R==0&&(me=nt<=2?1:nt<=4?2:nt<=16?4:8,me=Math.max(me,O)),j=0;j<q.length;j++){(Be=q[j]).rect.x,Be.rect.y,Qe=Be.rect.width;const ge=Be.rect.height;let Oe=Be.img;new Uint32Array(Oe.buffer);let Te=4*Qe,Ee=4;if(nt<=256&&R==0){Te=Math.ceil(me*Qe/8);var be=new Uint8Array(Te*ge);const qe=ye[j];for(let Me=0;Me<ge;Me++){V=Me*Te;const lt=Me*Qe;if(me==8)for(var $=0;$<Qe;$++)be[V+$]=qe[lt+$];else if(me==4)for($=0;$<Qe;$++)be[V+($>>1)]|=qe[lt+$]<<4-4*(1&$);else if(me==2)for($=0;$<Qe;$++)be[V+($>>2)]|=qe[lt+$]<<6-2*(3&$);else if(me==1)for($=0;$<Qe;$++)be[V+($>>3)]|=qe[lt+$]<<7-1*(7&$)}Oe=be,le=3,Ee=1}else if(ee==0&&q.length==1){be=new Uint8Array(Qe*ge*3);const qe=Qe*ge;for(V=0;V<qe;V++){const Me=3*V,lt=4*V;be[Me]=Oe[lt],be[Me+1]=Oe[lt+1],be[Me+2]=Oe[lt+2]}Oe=be,le=2,Ee=3,Te=3*Qe}Be.img=Oe,Be.bpl=Te,Be.bpp=Ee}return{ctype:le,depth:me,plte:pe,frames:q}}function y(I,L,K,N,P,Y,F){const X=Uint8Array,O=Uint32Array,R=new X(I[P-1]),se=new O(I[P-1]),le=P+1<I.length?new X(I[P+1]):null,me=new X(I[P]),Z=new O(me.buffer);let j=L,G=K,V=-1,ee=-1;for(let ae=0;ae<Y.height;ae++)for(let pe=0;pe<Y.width;pe++){const ye=Y.x+pe,_e=Y.y+ae,Be=_e*L+ye,Qe=Z[Be];Qe==0||N[P-1].dispose==0&&se[Be]==Qe&&(le==null||le[4*Be+3]!=0)||(ye<j&&(j=ye),ye>V&&(V=ye),_e<G&&(G=_e),_e>ee&&(ee=_e))}V==-1&&(j=G=V=ee=0),F&&((1&j)==1&&j--,(1&G)==1&&G--),Y={x:j,y:G,width:V-j+1,height:ee-G+1};const q=N[P];q.rect=Y,q.blend=1,q.img=new Uint8Array(Y.width*Y.height*4),N[P-1].dispose==0?(t(R,L,K,q.img,Y.width,Y.height,-Y.x,-Y.y,0),b(me,L,K,q.img,Y)):t(me,L,K,q.img,Y.width,Y.height,-Y.x,-Y.y,0)}function b(I,L,K,N,P){t(I,L,K,N,P.width,P.height,-P.x,-P.y,2)}function g(I,L,K,N,P,Y,F){const X=[];let O,R=[0,1,2,3,4];Y!=-1?R=[Y]:(L*N>5e5||K==1)&&(R=[0]),F&&(O={level:0});const se=u7;for(var le=0;le<R.length;le++){for(let j=0;j<L;j++)S(P,I,j,N,K,R[le]);X.push(se.deflate(P,O))}let me,Z=1e9;for(le=0;le<X.length;le++)X[le].length<Z&&(me=le,Z=X[le].length);return X[me]}function S(I,L,K,N,P,Y){const F=K*N;let X=F+K;if(I[X]=Y,X++,Y==0)if(N<500)for(var O=0;O<N;O++)I[X+O]=L[F+O];else I.set(new Uint8Array(L.buffer,F,N),X);else if(Y==1){for(O=0;O<P;O++)I[X+O]=L[F+O];for(O=P;O<N;O++)I[X+O]=L[F+O]-L[F+O-P]+256&255}else if(K==0){for(O=0;O<P;O++)I[X+O]=L[F+O];if(Y==2)for(O=P;O<N;O++)I[X+O]=L[F+O];if(Y==3)for(O=P;O<N;O++)I[X+O]=L[F+O]-(L[F+O-P]>>1)+256&255;if(Y==4)for(O=P;O<N;O++)I[X+O]=L[F+O]-n(L[F+O-P],0,0)+256&255}else{if(Y==2)for(O=0;O<N;O++)I[X+O]=L[F+O]+256-L[F+O-N]&255;if(Y==3){for(O=0;O<P;O++)I[X+O]=L[F+O]+256-(L[F+O-N]>>1)&255;for(O=P;O<N;O++)I[X+O]=L[F+O]+256-(L[F+O-N]+L[F+O-P]>>1)&255}if(Y==4){for(O=0;O<P;O++)I[X+O]=L[F+O]+256-n(0,L[F+O-N],0)&255;for(O=P;O<N;O++)I[X+O]=L[F+O]+256-n(L[F+O-P],L[F+O-N],L[F+O-P-N])&255}}}function E(I,L){const K=new Uint8Array(I),N=K.slice(0),P=new Uint32Array(N.buffer),Y=k(N,L),F=Y[0],X=Y[1],O=K.length,R=new Uint8Array(O>>2);let se;if(K.length<2e7)for(var le=0;le<O;le+=4)se=T(F,me=K[le]*(1/255),Z=K[le+1]*(1/255),j=K[le+2]*(1/255),G=K[le+3]*(1/255)),R[le>>2]=se.ind,P[le>>2]=se.est.rgba;else for(le=0;le<O;le+=4){var me=K[le]*.00392156862745098,Z=K[le+1]*(1/255),j=K[le+2]*(1/255),G=K[le+3]*(1/255);for(se=F;se.left;)se=z(se.est,me,Z,j,G)<=0?se.left:se.right;R[le>>2]=se.ind,P[le>>2]=se.est.rgba}return{abuf:N.buffer,inds:R,plte:X}}function k(I,L,K){K==null&&(K=1e-4);const N=new Uint32Array(I.buffer),P={i0:0,i1:I.length,bst:null,est:null,tdst:0,left:null,right:null};P.bst=ne(I,P.i0,P.i1),P.est=H(P.bst);const Y=[P];for(;Y.length<L;){let X=0,O=0;for(var F=0;F<Y.length;F++)Y[F].est.L>X&&(X=Y[F].est.L,O=F);if(X<K)break;const R=Y[O],se=B(I,N,R.i0,R.i1,R.est.e,R.est.eMq255);if(R.i0>=se||R.i1<=se){R.est.L=0;continue}const le={i0:R.i0,i1:se,bst:null,est:null,tdst:0,left:null,right:null};le.bst=ne(I,le.i0,le.i1),le.est=H(le.bst);const me={i0:se,i1:R.i1,bst:null,est:null,tdst:0,left:null,right:null};for(me.bst={R:[],m:[],N:R.bst.N-le.bst.N},F=0;F<16;F++)me.bst.R[F]=R.bst.R[F]-le.bst.R[F];for(F=0;F<4;F++)me.bst.m[F]=R.bst.m[F]-le.bst.m[F];me.est=H(me.bst),R.left=le,R.right=me,Y[O]=le,Y.push(me)}for(Y.sort(((X,O)=>O.bst.N-X.bst.N)),F=0;F<Y.length;F++)Y[F].ind=F;return[P,Y]}function T(I,L,K,N,P){if(I.left==null)return I.tdst=(function(le,me,Z,j,G){const V=me-le[0],ee=Z-le[1],q=j-le[2],ae=G-le[3];return V*V+ee*ee+q*q+ae*ae})(I.est.q,L,K,N,P),I;const Y=z(I.est,L,K,N,P);let F=I.left,X=I.right;Y>0&&(F=I.right,X=I.left);const O=T(F,L,K,N,P);if(O.tdst<=Y*Y)return O;const R=T(X,L,K,N,P);return R.tdst<O.tdst?R:O}function z(I,L,K,N,P){const{e:Y}=I;return Y[0]*L+Y[1]*K+Y[2]*N+Y[3]*P-I.eMq}function B(I,L,K,N,P,Y){for(N-=4;K<N;){for(;D(I,K,P)<=Y;)K+=4;for(;D(I,N,P)>Y;)N-=4;if(K>=N)break;const F=L[K>>2];L[K>>2]=L[N>>2],L[N>>2]=F,K+=4,N-=4}for(;D(I,K,P)>Y;)K-=4;return K+4}function D(I,L,K){return I[L]*K[0]+I[L+1]*K[1]+I[L+2]*K[2]+I[L+3]*K[3]}function ne(I,L,K){const N=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],P=[0,0,0,0],Y=K-L>>2;for(let F=L;F<K;F+=4){const X=I[F]*.00392156862745098,O=I[F+1]*(1/255),R=I[F+2]*(1/255),se=I[F+3]*(1/255);P[0]+=X,P[1]+=O,P[2]+=R,P[3]+=se,N[0]+=X*X,N[1]+=X*O,N[2]+=X*R,N[3]+=X*se,N[5]+=O*O,N[6]+=O*R,N[7]+=O*se,N[10]+=R*R,N[11]+=R*se,N[15]+=se*se}return N[4]=N[1],N[8]=N[2],N[9]=N[6],N[12]=N[3],N[13]=N[7],N[14]=N[11],{R:N,m:P,N:Y}}function H(I){const{R:L}=I,{m:K}=I,{N}=I,P=K[0],Y=K[1],F=K[2],X=K[3],O=N==0?0:1/N,R=[L[0]-P*P*O,L[1]-P*Y*O,L[2]-P*F*O,L[3]-P*X*O,L[4]-Y*P*O,L[5]-Y*Y*O,L[6]-Y*F*O,L[7]-Y*X*O,L[8]-F*P*O,L[9]-F*Y*O,L[10]-F*F*O,L[11]-F*X*O,L[12]-X*P*O,L[13]-X*Y*O,L[14]-X*F*O,L[15]-X*X*O],se=R,le=te;let me=[Math.random(),Math.random(),Math.random(),Math.random()],Z=0,j=0;if(N!=0)for(let V=0;V<16&&(me=le.multVec(se,me),j=Math.sqrt(le.dot(me,me)),me=le.sml(1/j,me),!(V!=0&&Math.abs(j-Z)<1e-9));V++)Z=j;const G=[P*O,Y*O,F*O,X*O];return{Cov:R,q:G,e:me,L:Z,eMq255:le.dot(le.sml(255,G),me),eMq:le.dot(me,G),rgba:(Math.round(255*G[3])<<24|Math.round(255*G[2])<<16|Math.round(255*G[1])<<8|Math.round(255*G[0])<<0)>>>0}}var te={multVec:(I,L)=>[I[0]*L[0]+I[1]*L[1]+I[2]*L[2]+I[3]*L[3],I[4]*L[0]+I[5]*L[1]+I[6]*L[2]+I[7]*L[3],I[8]*L[0]+I[9]*L[1]+I[10]*L[2]+I[11]*L[3],I[12]*L[0]+I[13]*L[1]+I[14]*L[2]+I[15]*L[3]],dot:(I,L)=>I[0]*L[0]+I[1]*L[1]+I[2]*L[2]+I[3]*L[3],sml:(I,L)=>[I*L[0],I*L[1],I*L[2],I*L[3]]};As.encode=function(L,K,N,P,Y,F,X){P==null&&(P=0),X==null&&(X=!1);const O=p(L,K,N,P,[!1,!1,!1,0,X,!1]);return h(O,-1),f(O,K,N,Y,F)},As.encodeLL=function(L,K,N,P,Y,F,X,O){const R={ctype:0+(P==1?0:2)+(Y==0?0:4),depth:F,frames:[]},se=(P+Y)*F,le=se*K;for(let me=0;me<L.length;me++)R.frames.push({rect:{x:0,y:0,width:K,height:N},img:new Uint8Array(L[me]),blend:0,dispose:1,bpp:Math.ceil(se/8),bpl:Math.ceil(le/8)});return h(R,0,!0),f(R,K,N,X,O)},As.encode.compress=p,As.encode.dither=c,As.quantize=E,As.quantize.getKDtree=k,As.quantize.getNearest=T})();const Bv={toArrayBuffer(t,e){const n=t.width,i=t.height,s=n<<2,o=t.getContext("2d").getImageData(0,0,n,i),u=new Uint32Array(o.data.buffer),c=(32*n+31)/32<<2,f=c*i,h=122+f,p=new ArrayBuffer(h),y=new DataView(p),b=1<<20;let g,S,E,k,T=b,z=0,B=0,D=0;function ne(I){y.setUint16(B,I,!0),B+=2}function H(I){y.setUint32(B,I,!0),B+=4}function te(I){B+=I}ne(19778),H(h),te(4),H(122),H(108),H(n),H(-i>>>0),ne(1),ne(32),H(3),H(f),H(2835),H(2835),te(8),H(16711680),H(65280),H(255),H(4278190080),H(1466527264),(function I(){for(;z<i&&T>0;){for(k=122+z*c,g=0;g<s;)T--,S=u[D++],E=S>>>24,y.setUint32(k+g,S<<8|E),g+=4;z++}D<u.length?(T=b,setTimeout(I,Bv._dly)):e(p)})()},toBlob(t,e){this.toArrayBuffer(t,(n=>{e(new Blob([n],{type:"image/bmp"}))}))},_dly:9};var na={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},c7={[na.CHROME]:16384,[na.FIREFOX]:11180,[na.DESKTOP_SAFARI]:16384,[na.IE]:8192,[na.IOS]:4096,[na.ETC]:8192};const Eg=typeof window<"u",Pv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Xh=Eg&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),f7=(Eg||Pv)&&(Xh&&Xh.getOriginalSymbol(window,"File")||typeof File<"u"&&File),qv=(Eg||Pv)&&(Xh&&Xh.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function kg(t,e,n=Date.now()){return new Promise((i=>{const s=t.split(","),o=s[0].match(/:(.*?);/)[1],u=globalThis.atob(s[1]);let c=u.length;const f=new Uint8Array(c);for(;c--;)f[c]=u.charCodeAt(c);const h=new Blob([f],{type:o});h.name=e,h.lastModified=n,i(h)}))}function Fv(t){return new Promise(((e,n)=>{const i=new qv;i.onload=()=>e(i.result),i.onerror=s=>n(s),i.readAsDataURL(t)}))}function Hv(t){return new Promise(((e,n)=>{const i=new Image;i.onload=()=>e(i),i.onerror=s=>n(s),i.src=t}))}function _u(){if(_u.cachedResult!==void 0)return _u.cachedResult;let t=na.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?t=na.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?t=na.IOS:/Safari/i.test(e)?t=na.DESKTOP_SAFARI:/Firefox/i.test(e)?t=na.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(t=na.IE),_u.cachedResult=t,_u.cachedResult}function $v(t,e){const n=_u(),i=c7[n];let s=t,o=e,u=s*o;const c=s>o?o/s:s/o;for(;u>i*i;){const f=(i+s)/2,h=(i+o)/2;f<h?(o=h,s=h*c):(o=f*c,s=f),u=s*o}return{width:s,height:o}}function w0(t,e){let n,i;try{if(n=new OffscreenCanvas(t,e),i=n.getContext("2d"),i===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),i=n.getContext("2d")}return n.width=t,n.height=e,[n,i]}function Wv(t,e){const{width:n,height:i}=$v(t.width,t.height),[s,o]=w0(n,i);return e&&/jpe?g/.test(e)&&(o.fillStyle="white",o.fillRect(0,0,s.width,s.height)),o.drawImage(t,0,0,s.width,s.height),s}function jh(){return jh.cachedResult!==void 0||(jh.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),jh.cachedResult}function Jh(t,e={}){return new Promise((function(n,i){let s,o;var u=function(){try{return o=Wv(s,e.fileType||t.type),n([s,o])}catch(f){return i(f)}},c=function(f){try{var h=function(p){try{throw p}catch(y){return i(y)}};try{let p;return Fv(t).then((function(y){try{return p=y,Hv(p).then((function(b){try{return s=b,(function(){try{return u()}catch(g){return i(g)}})()}catch(g){return h(g)}}),h)}catch(b){return h(b)}}),h)}catch(p){h(p)}}catch(p){return i(p)}};try{if(jh()||[na.DESKTOP_SAFARI,na.MOBILE_SAFARI].includes(_u()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then((function(f){try{return s=f,u()}catch{return c()}}),c)}catch{c()}}))}function Qh(t,e,n,i,s=1){return new Promise((function(o,u){let c;if(e==="image/png"){let h,p,y;return h=t.getContext("2d"),{data:p}=h.getImageData(0,0,t.width,t.height),y=As.encode([p.buffer],t.width,t.height,4096*s),c=new Blob([y],{type:e}),c.name=n,c.lastModified=i,f.call(this)}{let h=function(){return f.call(this)};if(e==="image/bmp")return new Promise((p=>Bv.toBlob(t,p))).then((function(p){try{return c=p,c.name=n,c.lastModified=i,h.call(this)}catch(y){return u(y)}}).bind(this),u);{let p=function(){return h.call(this)};if(typeof OffscreenCanvas=="function"&&t instanceof OffscreenCanvas)return t.convertToBlob({type:e,quality:s}).then((function(y){try{return c=y,c.name=n,c.lastModified=i,p.call(this)}catch(b){return u(b)}}).bind(this),u);{let y;return y=t.toDataURL(e,s),kg(y,n,i).then((function(b){try{return c=b,p.call(this)}catch(g){return u(g)}}).bind(this),u)}}}function f(){return o(c)}}))}function to(t){t.width=0,t.height=0}function zc(){return new Promise((function(t,e){let n,i,s,o;return zc.cachedResult!==void 0?t(zc.cachedResult):kg("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then((function(u){try{return n=u,Jh(n).then((function(c){try{return i=c[1],Qh(i,n.type,n.name,n.lastModified).then((function(f){try{return s=f,to(i),Jh(s).then((function(h){try{return o=h[0],zc.cachedResult=o.width===1&&o.height===2,t(zc.cachedResult)}catch(p){return e(p)}}),e)}catch(h){return e(h)}}),e)}catch(f){return e(f)}}),e)}catch(c){return e(c)}}),e)}))}function Gv(t){return new Promise(((e,n)=>{const i=new qv;i.onload=s=>{const o=new DataView(s.target.result);if(o.getUint16(0,!1)!=65496)return e(-2);const u=o.byteLength;let c=2;for(;c<u;){if(o.getUint16(c+2,!1)<=8)return e(-1);const f=o.getUint16(c,!1);if(c+=2,f==65505){if(o.getUint32(c+=2,!1)!=1165519206)return e(-1);const h=o.getUint16(c+=6,!1)==18761;c+=o.getUint32(c+4,h);const p=o.getUint16(c,h);c+=2;for(let y=0;y<p;y++)if(o.getUint16(c+12*y,h)==274)return e(o.getUint16(c+12*y+8,h))}else{if((65280&f)!=65280)break;c+=o.getUint16(c,!1)}}return e(-1)},i.onerror=s=>n(s),i.readAsArrayBuffer(t)}))}function Yv(t,e){const{width:n}=t,{height:i}=t,{maxWidthOrHeight:s}=e;let o,u=t;return isFinite(s)&&(n>s||i>s)&&([u,o]=w0(n,i),n>i?(u.width=s,u.height=i/n*s):(u.width=n/i*s,u.height=s),o.drawImage(t,0,0,u.width,u.height),to(t)),u}function Vv(t,e){const{width:n}=t,{height:i}=t,[s,o]=w0(n,i);switch(e>4&&e<9?(s.width=i,s.height=n):(s.width=n,s.height=i),e){case 2:o.transform(-1,0,0,1,n,0);break;case 3:o.transform(-1,0,0,-1,n,i);break;case 4:o.transform(1,0,0,-1,0,i);break;case 5:o.transform(0,1,1,0,0,0);break;case 6:o.transform(0,1,-1,0,i,0);break;case 7:o.transform(0,-1,-1,0,i,n);break;case 8:o.transform(0,-1,1,0,0,n)}return o.drawImage(t,0,0,n,i),to(t),s}function K5(t,e,n=0){return new Promise((function(i,s){let o,u,c,f,h,p,y,b,g,S,E,k,T,z,B,D,ne,H,te,I;function L(N=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;o+=N,e.onProgress(Math.min(o,100))}function K(N){if(e.signal&&e.signal.aborted)throw e.signal.reason;o=Math.min(Math.max(N,o),100),e.onProgress(o)}return o=n,u=e.maxIteration||10,c=1024*e.maxSizeMB*1024,L(),Jh(t,e).then((function(N){try{return[,f]=N,L(),h=Yv(f,e),L(),new Promise((function(P,Y){var F;if(!(F=e.exifOrientation))return Gv(t).then((function(O){try{return F=O,X.call(this)}catch(R){return Y(R)}}).bind(this),Y);function X(){return P(F)}return X.call(this)})).then((function(P){try{return p=P,L(),zc().then((function(Y){try{return y=Y?h:Vv(h,p),L(),b=e.initialQuality||1,g=e.fileType||t.type,Qh(y,g,t.name,t.lastModified,b).then((function(F){try{{let O=function(){if(u--&&(B>c||B>T)){let se,le;return se=I?.95*te.width:te.width,le=I?.95*te.height:te.height,[ne,H]=w0(se,le),H.drawImage(te,0,0,se,le),b*=g==="image/png"?.85:.95,Qh(ne,g,t.name,t.lastModified,b).then((function(me){try{return D=me,to(te),te=ne,B=D.size,K(Math.min(99,Math.floor((z-B)/(z-c)*100))),O}catch(Z){return s(Z)}}),s)}return[1]},R=function(){return to(te),to(ne),to(h),to(y),to(f),K(100),i(D)};if(S=F,L(),E=S.size>c,k=S.size>t.size,!E&&!k)return K(100),i(S);var X;return T=t.size,z=S.size,B=z,te=y,I=!e.alwaysKeepResolution&&E,(X=(function(se){for(;se;){if(se.then)return void se.then(X,s);try{if(se.pop){if(se.length)return se.pop()?R.call(this):se;se=O}else se=se.call(this)}catch(le){return s(le)}}}).bind(this))(O)}}catch(O){return s(O)}}).bind(this),s)}catch(F){return s(F)}}).bind(this),s)}catch(Y){return s(Y)}}).bind(this),s)}catch(P){return s(P)}}).bind(this),s)}))}const d7=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let n1;function h7(t,e){return new Promise(((n,i)=>{n1||(n1=(function(u){const c=[];return c.push(u),URL.createObjectURL(new Blob(c))})(d7));const s=new Worker(n1);s.addEventListener("message",(function(u){if(e.signal&&e.signal.aborted)s.terminate();else if(u.data.progress===void 0){if(u.data.error)return i(new Error(u.data.error)),void s.terminate();n(u.data.file),s.terminate()}else e.onProgress(u.data.progress)})),s.addEventListener("error",i),e.signal&&e.signal.addEventListener("abort",(()=>{i(e.signal.reason),s.terminate()})),s.postMessage({file:t,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})}))}function Ti(t,e){return new Promise((function(n,i){let s,o,u,c,f,h;if(s={...e},u=0,{onProgress:c}=s,s.maxSizeMB=s.maxSizeMB||Number.POSITIVE_INFINITY,f=typeof s.useWebWorker!="boolean"||s.useWebWorker,delete s.useWebWorker,s.onProgress=g=>{u=g,typeof c=="function"&&c(u)},!(t instanceof Blob||t instanceof f7))return i(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return i(new Error("The file given is not an image"));if(h=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!f||typeof Worker!="function"||h)return K5(t,s).then((function(g){try{return o=g,b.call(this)}catch(S){return i(S)}}).bind(this),i);var p=(function(){try{return b.call(this)}catch(g){return i(g)}}).bind(this),y=function(g){try{return K5(t,s).then((function(S){try{return o=S,p()}catch(E){return i(E)}}),i)}catch(S){return i(S)}};try{return s.libURL=s.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",h7(t,s).then((function(g){try{return o=g,p()}catch{return y()}}),y)}catch{y()}function b(){try{o.name=t.name,o.lastModified=t.lastModified}catch{}try{s.preserveExif&&t.type==="image/jpeg"&&(!s.fileType||s.fileType&&s.fileType===t.type)&&(o=Uv(t,o))}catch{}return n(o)}}))}Ti.getDataUrlFromFile=Fv,Ti.getFilefromDataUrl=kg,Ti.loadImage=Hv,Ti.drawImageInCanvas=Wv,Ti.drawFileInCanvas=Jh,Ti.canvasToFile=Qh,Ti.getExifOrientation=Gv,Ti.handleMaxWidthOrHeight=Yv,Ti.followExifOrientation=Vv,Ti.cleanupCanvasMemory=to,Ti.isAutoOrientationInBrowser=zc,Ti.approximateBelowMaximumCanvasSizeOfBrowser=$v,Ti.copyExifWithoutOrientation=Uv,Ti.getBrowserName=_u,Ti.version="2.0.2";const Kv=async(t,e={})=>{const{preserveFormat:n,...i}=e;let s;n?s=t.type:s=t.type==="image/webp"?"image/webp":"image/jpeg";const o={maxSizeMB:.5,maxWidthOrHeight:1920,useWebWorker:!0,fileType:s,initialQuality:1,...i};try{const u=t.type.split("/")[1]?.toUpperCase()||"Bilinmiyor",c=s.split("/")[1]?.toUpperCase();console.log(` Resim sktrma balatlyor... (${u}  ${c})`),console.log(" Orijinal dosya boyutu:",(t.size/1024/1024).toFixed(2),"MB");const f=await Ti(t,o);return console.log(" Sktrma baarl!"),console.log(" Sktrlm dosya boyutu:",(f.size/1024/1024).toFixed(2),"MB"),console.log(" Boyut azalmas:",((1-f.size/t.size)*100).toFixed(1),"%"),f}catch(u){return console.warn(" Resim sktrma hatas (orijinal dosya kullanlacak):",u),console.log(" Sistem normal ekilde almaya devam ediyor..."),t}};function p7(){const{business:t}=$o(),{isDark:e}=Wo(),{notifyProductAdded:n,notifyProductUpdated:i,notifyProductDeleted:s,notifyProductStatusChanged:o,notifyOrderChanged:u,notifyError:c}=Tu(),[f,h]=W.useState([]),[p,y]=W.useState([]),[b,g]=W.useState(!0),[S,E]=W.useState(!1),[k,T]=W.useState(!1),[z,B]=W.useState(null),[D,ne]=W.useState({name:"",price:"",description:"",category_id:"",image:null,imagePreview:null}),[H,te]=W.useState(!1),[I,L]=W.useState(!1),[K,N]=W.useState(null),[P,Y]=W.useState(""),[F,X]=W.useState(null),[O,R]=W.useState(null),[se,le]=W.useState({up:!1,down:!1}),[me,Z]=W.useState(null),j=W.useRef(null),G=W.useRef(null),V=W.useRef(null),ee=W.useRef(null),q=W.useRef(null),ae=ov(Gh(y0,{activationConstraint:{distance:5}}),Gh(m0,{coordinateGetter:Mv}));W.useEffect(()=>{const ve=()=>{E(window.innerWidth<768)};return ve(),window.addEventListener("resize",ve),()=>window.removeEventListener("resize",ve)},[]),W.useEffect(()=>{t?.id&&(pe(),ye())},[t]);const pe=async()=>{try{const{data:ve,error:Re}=await ht.from("categories").select("*").eq("business_id",t.id).order("order_index",{ascending:!0});if(Re)throw Re;y(ve||[])}catch(ve){console.error("Categories fetch error:",ve)}},ye=async()=>{try{g(!0);const{data:ve,error:Re}=await ht.from("products").select("*, categories(name)").eq("business_id",t.id).order("order_index",{ascending:!0}).order("created_at",{ascending:!1});if(Re)throw Re;const Ge=(ve||[]).sort((Fe,Ue)=>Fe.is_active!==Ue.is_active?Fe.is_active?-1:1:(Fe.order_index||0)-(Ue.order_index||0));h(Ge)}catch(ve){console.error("Products fetch error:",ve),c("rnler yklenirken hata olutu",ve.message)}finally{g(!1)}};W.useEffect(()=>{if(!t?.id)return;const ve=ht.channel(`products:${t.id}`).on("postgres_changes",{event:"*",schema:"public",table:"products",filter:`business_id=eq.${t.id}`},async Re=>{console.log(" Product changed (Realtime):",Re.eventType,Re.new?.id||Re.old?.id),(Re.eventType==="UPDATE"||Re.eventType==="INSERT"||Re.eventType==="DELETE")&&ye()}).subscribe();return()=>{ht.removeChannel(ve)}},[t?.id]);const _e=(ve=null)=>{if(ve){B(ve);const Re=ve.image_url||null;if(ne({name:ve.name||"",price:ve.price||"",description:ve.description||"",category_id:ve.category_id||"",image:null,imagePreview:Re}),Re){const Ge=new Image;Ge.onload=()=>{const Fe=Ge.width/Ge.height;N(Fe)},Ge.src=Re}else N(null)}else B(null),ne({name:"",price:"",description:"",category_id:p[0]?.id||"",image:null,imagePreview:null});T(!0),Y("")},Be=()=>{T(!1),B(null),ne({name:"",price:"",description:"",category_id:"",image:null,imagePreview:null}),N(null),Y("")},Qe=async ve=>{const Re=ve.target.files[0];if(Re){const Ge=window.scrollY||document.documentElement.scrollTop;if(Y(""),!Re.type.startsWith("image/")){Y("Ltfen bir grsel dosyas sein"),requestAnimationFrame(()=>{window.scrollTo(0,Ge)});return}if(Re.size>10*1024*1024){Y("Grsel boyutu 10MB'dan kk olmaldr"),requestAnimationFrame(()=>{window.scrollTo(0,Ge)});return}try{L(!0);const Fe=await Kv(Re,{maxSizeMB:.8,maxWidthOrHeight:1920,initialQuality:1});if(Fe.size>2*1024*1024){Y("Grsel boyutu ok byk. Ltfen daha kk bir grsel sein."),requestAnimationFrame(()=>{window.scrollTo(0,Ge)});return}const Ue=URL.createObjectURL(Fe);ne({...D,image:Fe,imagePreview:Ue}),Y("");const Ke=new Image;Ke.onload=()=>{const Ve=Ke.width/Ke.height;N(Ve)},Ke.src=Ue,setTimeout(()=>{window.scrollTo({top:Ge,behavior:"auto"})},0)}catch(Fe){if(console.warn(" Resim ileme hatas, orijinal dosya kullanlyor:",Fe),Re.size>10*1024*1024){Y("Grsel boyutu 10MB'dan kk olmaldr"),requestAnimationFrame(()=>{window.scrollTo(0,Ge)});return}const Ue=URL.createObjectURL(Re);ne({...D,image:Re,imagePreview:Ue}),Y("");const Ke=new Image;Ke.onload=()=>{const Ve=Ke.width/Ke.height;N(Ve)},Ke.src=Ue,setTimeout(()=>{window.scrollTo({top:Ge,behavior:"auto"})},0)}finally{L(!1)}}},nt=async(ve,Re=!1)=>{if(!D.image)return console.warn(" uploadImage: formData.image yok"),null;try{const Fe={"image/jpeg":"jpg","image/png":"png","image/webp":"webp"}[D.image.type]||D.image.name.split(".").pop(),Ue=Re?`${ve}-${Date.now()}.${Fe}`:`${ve}.${Fe}`,Ke=`${t.id}/products/${Ue}`;console.log(" Yeni resim ykleniyor:",Ke),console.log(" Dosya bilgileri:",{name:D.image.name,size:D.image.size,type:D.image.type,ext:Fe,uniqueName:Re});const{data:Ve,error:ot}=await ht.storage.from("product-images").upload(Ke,D.image,{cacheControl:"3600",upsert:!1});if(ot)throw console.error(" Upload hatas:",ot),ot;console.log(" Upload baarl:",Ve);const{data:{publicUrl:Je}}=ht.storage.from("product-images").getPublicUrl(Ke);return console.log(" Public URL alnd:",Je),Je}catch(Ge){throw console.error(" Image upload error:",Ge),new Error("Grsel yklenirken hata olutu: "+Ge.message)}},be=async(ve,Re)=>{if(!(!Re||!t?.id))try{const Ge=`${t.id}/products/`,Fe=[];if(ve){const Ue=ve.split("/"),Ke=Ue.findIndex(Ve=>Ve==="product-images");if(Ke!==-1){const Ve=Ue.slice(Ke+1).join("/");Fe.push(Ve),console.log(" URL'den bulunan dosya yolu:",Ve)}}try{const{data:Ue,error:Ke}=await ht.storage.from("product-images").list(Ge,{limit:100,offset:0,sortBy:{column:"name",order:"asc"}});if(!Ke&&Ue&&Array.isArray(Ue)){const Ve=Ue.filter(ot=>ot.name&&ot.name.startsWith(`${Re}.`)).map(ot=>`${Ge}${ot.name}`);Ve.forEach(ot=>{Fe.includes(ot)||Fe.push(ot)}),console.log(" List'ten bulunan dosyalar:",Ve)}else Ke&&console.warn(" Dosya listeleme hatas (URL yntemi kullanlacak):",Ke)}catch(Ue){console.warn(" List ilemi hatas (URL yntemi kullanlacak):",Ue)}if(Fe.length>0){console.log(" Silinecek dosyalar:",Fe);const{data:Ue,error:Ke}=await ht.storage.from("product-images").remove(Fe);Ke?(console.error(" Resim storage silme hatas:",Ke),console.error(" Hata detaylar:",JSON.stringify(Ke,null,2))):(console.log(" Eski resim(ler) storage'dan silindi:",Fe),console.log(" Silme sonucu:",Ue),setTimeout(async()=>{try{const{data:Ve,error:ot}=await ht.storage.from("product-images").list(Ge);if(ot){console.warn(" Dorulama hatas:",ot);return}Ve?.some($e=>Fe.some(tt=>tt.endsWith($e.name)))?(console.warn(" UYARI: Dosyalar hala storage'da grnyor!"),console.warn(" Kalan dosyalar:",Ve?.filter($e=>Fe.some(tt=>tt.endsWith($e.name))))):console.log(" Dorulama: Dosyalar gerekten silindi")}catch(Ve){console.warn(" Dorulama hatas:",Ve)}},1e3))}else console.warn(" Silinecek dosya bulunamad. Product ID:",Re,"Image URL:",ve)}catch(Ge){console.warn(" Resim silme hatas (devam ediliyor):",Ge)}},$=async ve=>{if(ve.preventDefault(),Y(""),te(!0),!D.name.trim()){Y("rn ad gerekli"),te(!1);return}if(!D.price||parseFloat(D.price)<=0){Y("Geerli bir fiyat girin"),te(!1);return}try{let Re=D.imagePreview;if(z){console.log(" rn gncelleniyor:",z.id),console.log(" Form data:",{hasImage:!!D.image,imagePreview:D.imagePreview,oldImageUrl:z.image_url}),D.image?(console.log(" Yeni resim seildi, eski resim silinecek (cache sorununu nlemek iin)"),z.image_url&&(await be(z.image_url,z.id),await new Promise(Je=>setTimeout(Je,800)),console.log(" Eski resim silindi, yeni resim yklenecek")),Re=await nt(z.id,!0),console.log(" Yeni resim URL'si:",Re)):console.log(" Yeni resim seilmedi, mevcut resim korunacak");const Ge=z.category_id||null,Fe=D.category_id||null,Ue=Ge!==Fe,Ke={name:D.name.trim(),price:parseFloat(D.price),description:D.description.trim()||null,category_id:D.category_id||null,image_url:Re||null};if(console.log(" Database'e kaydedilecek veri:",Ke),Ue){const Je=f.filter(tt=>(tt.category_id||null)===Fe&&tt.id!==z.id),$e=Je.length>0?Math.max(...Je.map(tt=>tt.order_index||0)):-1;Ke.order_index=$e+1}const{data:Ve,error:ot}=await ht.from("products").update(Ke).eq("id",z.id).select();if(ot)throw console.error(" Database gncelleme hatas:",ot),ot;console.log(" Database gncellendi:",Ve),i({...z,...D})}else{const Ge=f.filter(Ve=>(Ve.category_id||null)===(D.category_id||null)),Fe=Ge.length>0?Math.max(...Ge.map(Ve=>Ve.order_index||0)):-1,{data:Ue,error:Ke}=await ht.from("products").insert({business_id:t.id,name:D.name.trim(),price:parseFloat(D.price),description:D.description.trim()||null,category_id:D.category_id||null,is_active:!0,order_index:Fe+1}).select().single();if(Ke)throw Ke;if(D.image&&Ue){Re=await nt(Ue.id,!0);const{error:Ve}=await ht.from("products").update({image_url:Re}).eq("id",Ue.id);if(Ve)throw Ve}n(Ue)}Be(),z&&D.image&&await new Promise(Ge=>setTimeout(Ge,500)),await ye()}catch(Re){Y(Re.message||"Bir hata olutu"),c("rn kaydedilirken hata olutu",Re.message),console.error("Product save error:",Re)}finally{te(!1)}},ge=async ve=>{if(confirm("Bu rn silmek istediinize emin misiniz?"))try{const Re=f.find(Fe=>Fe.id===ve);Re?.image_url&&await be(Re.image_url,ve);const{error:Ge}=await ht.from("products").delete().eq("id",ve);if(Ge)throw Ge;Re&&s(Re.name),ye()}catch(Re){c("rn silinirken hata olutu",Re.message),console.error("Product delete error:",Re)}},Oe=async(ve,Re)=>{try{const Ge=f.find(ot=>ot.id===ve);if(!Ge)return;const Fe=!Re,Ue=Ge.order_index||0;let Ke={is_active:Fe};if(Fe===!1)Ke.saved_order_index=Ue;else{const ot=Ge.saved_order_index;if(ot!=null){const Je=f.filter(tt=>tt.category_id===Ge.category_id&&tt.is_active===!0&&tt.id!==ve).sort((tt,_t)=>(tt.order_index||0)-(_t.order_index||0));if(Je.find(tt=>tt.order_index===ot)){Ke.order_index=ot,Ke.saved_order_index=null;const tt=Je.filter(gt=>(gt.order_index||0)>=ot),_t=[],mt=new Set([ot]);tt.forEach(gt=>{let vt=(gt.order_index||0)+1;for(;mt.has(vt);)vt++;mt.add(vt),_t.push({id:gt.id,order_index:vt})});const yt=[{id:ve,is_active:Fe,order_index:ot,saved_order_index:null},..._t].map(gt=>gt.id===ve?ht.from("products").update({is_active:gt.is_active,order_index:gt.order_index,saved_order_index:null}).eq("id",gt.id):ht.from("products").update({order_index:gt.order_index}).eq("id",gt.id));await Promise.all(yt)}else{Ke.order_index=ot,Ke.saved_order_index=null;const{error:tt}=await ht.from("products").update(Ke).eq("id",ve);if(tt)throw tt}}else{const{error:Je}=await ht.from("products").update(Ke).eq("id",ve);if(Je)throw Je}}if(Fe===!1){const{error:ot}=await ht.from("products").update(Ke).eq("id",ve);if(ot)throw ot}h(ot=>{const Je=ot.map($e=>{if($e.id===ve){const tt={...$e,is_active:Fe};return Fe===!1?tt.saved_order_index=Ue:$e.saved_order_index!==null&&$e.saved_order_index!==void 0&&(tt.order_index=$e.saved_order_index,tt.saved_order_index=null),tt}return $e});if(Fe===!0){const $e=Je.find(tt=>tt.id===ve);if($e&&$e.saved_order_index===null&&$e.order_index!==void 0){const tt=Je.filter(mt=>mt.category_id===$e.category_id&&mt.is_active===!0&&mt.id!==ve).sort((mt,Ht)=>(mt.order_index||0)-(Ht.order_index||0));if(tt.find(mt=>mt.order_index===$e.order_index)){const mt=tt.filter(yt=>(yt.order_index||0)>=$e.order_index),Ht=new Set([$e.order_index]);mt.forEach(yt=>{let gt=(yt.order_index||0)+1;for(;Ht.has(gt);)gt++;Ht.add(gt),yt.order_index=gt})}}}return Je.sort(($e,tt)=>$e.is_active!==tt.is_active?$e.is_active?-1:1:($e.order_index||0)-(tt.order_index||0))});const Ve=f.find(ot=>ot.id===ve);Ve&&o(Ve,Fe)}catch(Ge){c("rn durumu gncellenirken hata olutu",Ge.message),console.error("Product toggle active error:",Ge),ye()}},Te=ve=>{X(ve.active.id),R(null),Z(null),j.current=null,G.current=null,setTimeout(()=>{const Re=document.querySelector(`[data-product-id="${ve.active.id}"]`);if(Re)q.current=Re.offsetWidth;else{const Ge=(window.innerWidth>768,window.innerWidth);q.current=S?null:(Ge-48)/3}},0)},Ee=ve=>{if(!ve.over||!F){V.current=null,ee.current=null;return}const Re=ve.over.id,Ge=f.find($e=>$e.id===F),Fe=f.find($e=>$e.id===Re);if(!Ge||!Fe){V.current=Re,ee.current=null;return}const Ue=Ge.category_id||null,Ke=Fe.category_id||null;if(Ue!==Ke){V.current=Re,ee.current=null;return}const ot=f.filter($e=>($e.category_id||null)===Ue).sort(($e,tt)=>$e.is_active!==tt.is_active?$e.is_active?-1:1:($e.order_index||0)-(tt.order_index||0)).findIndex($e=>$e.id===Re),Je=ot!==-1?{categoryId:Ue,index:ot}:null;V.current=Re,ee.current=Je};W.useEffect(()=>{if(!F)return;let ve=null;const Ge=setInterval(()=>{ve=requestAnimationFrame(()=>{V.current!==j.current&&(j.current=V.current,R(V.current));const Fe=ee.current?`${ee.current.categoryId}-${ee.current.index}`:null,Ue=G.current?`${G.current.categoryId}-${G.current.index}`:null;Fe!==Ue&&(G.current=ee.current,Z(ee.current)),ve=null})},100);return()=>{ve&&cancelAnimationFrame(ve),clearInterval(Ge)}},[F]);const qe=W.useRef({up:!1,down:!1});W.useEffect(()=>{if(!F){le({up:!1,down:!1}),qe.current={up:!1,down:!1};return}let ve=null,Re=0;const Ge=150,Fe=ot=>{Date.now()-Re<Ge||ve||(ve=requestAnimationFrame(()=>{const $e=window.innerHeight||document.documentElement.clientHeight,tt=Math.max(80,$e*.12),_t=ot<tt?{up:!0,down:!1}:ot>$e-tt?{up:!1,down:!0}:{up:!1,down:!1};(_t.up!==qe.current.up||_t.down!==qe.current.down)&&(qe.current=_t,le(_t)),Re=Date.now(),ve=null}))},Ue=ot=>{const Je=ot.clientY||(ot.touches&&ot.touches[0]?ot.touches[0].clientY:window.innerHeight/2);Fe(Je)},Ke=ot=>{const Je=ot.clientY||window.innerHeight/2;Fe(Je)};window.addEventListener("mousemove",Ue,{capture:!0,passive:!0}),window.addEventListener("wheel",Ke,{capture:!0,passive:!0});const Ve=ot=>{ot.touches&&ot.touches[0]&&Fe(ot.touches[0].clientY)};return window.addEventListener("touchmove",Ve,{passive:!0,capture:!0}),()=>{ve&&cancelAnimationFrame(ve),window.removeEventListener("mousemove",Ue,{capture:!0}),window.removeEventListener("wheel",Ke,{capture:!0}),window.removeEventListener("touchmove",Ve,{capture:!0}),le({up:!1,down:!1}),qe.current={up:!1,down:!1}}},[F]);const Me=async ve=>{const{active:Re,over:Ge}=ve;if(le({up:!1,down:!1}),R(null),window.dragUpdateTimeout&&clearTimeout(window.dragUpdateTimeout),!Ge||Re.id===Ge.id){setTimeout(()=>{Z(null),X(null)},400);return}const Fe=f.find(vt=>vt.id===Re.id),Ue=f.find(vt=>vt.id===Ge.id);if(!Fe||!Ue){setTimeout(()=>{Z(null),X(null)},400);return}if(!Fe.is_active||!Ue.is_active){setTimeout(()=>{Z(null),X(null)},400);return}const Ke=Fe.category_id||null,Ve=Ue.category_id||null;if(Ke!==Ve){setTimeout(()=>{Z(null),X(null)},400);return}const ot=f.filter(vt=>(vt.category_id||null)===Ke&&vt.is_active===!0).sort((vt,bt)=>(vt.order_index||0)-(bt.order_index||0)),Je=ot.findIndex(vt=>vt.id===Re.id),$e=ot.findIndex(vt=>vt.id===Ge.id);if(Je===-1||$e===-1){Z(null),X(null);return}const _t=f.filter(vt=>(vt.category_id||null)===Ke).find(vt=>!vt.is_active&&vt.saved_order_index!==null&&vt.saved_order_index!==void 0&&vt.saved_order_index===Ue.order_index);let mt=Fe.order_index||Je,Ht=Ue.order_index||$e;_t&&(Ht=_t.saved_order_index);const yt=[{id:Fe.id,order_index:Ht},{id:Ue.id,order_index:mt}],gt={categoryId:Ke,index:$e};try{const vt=yt.map(ft=>ht.from("products").update({order_index:ft.order_index}).eq("id",ft.id));await Promise.all(vt);const bt=f.map(ft=>{const Ct=yt.find(tn=>tn.id===ft.id);return Ct?{...ft,order_index:Ct.order_index}:ft});h(bt),u("rn"),X(null),Z(gt),setTimeout(()=>{Z(null),j.current=null,G.current=null},2e3)}catch(vt){console.error("Sralama gncelleme hatas:",vt),c("Sralama gncellenirken hata olutu",vt.message),ye(),Z(null),X(null)}};function lt({product:ve,categoryId:Re,productIndex:Ge,isMobile:Fe,isDark:Ue,onEdit:Ke,onDelete:Ve,onToggleActive:ot,isDropZone:Je}){const{attributes:$e,listeners:tt,setNodeRef:_t,transform:mt,transition:Ht,isDragging:yt}=Iv({id:ve.id,disabled:!1}),gt=F?f.find(Gt=>Gt.id===F):null,vt=F===ve.id,bt=O===ve.id,ft=gt&&gt.category_id||null,Ct=Re||null,tn=F&&bt&&!vt&&(ft!==Ct||!ve.is_active),Qt=Je&&ft===Ct&&ve.is_active,on={transform:"none",transition:"none",opacity:yt?.3:tn?.6:ve.is_active?1:.5,cursor:"default",willChange:"auto"};return _.jsxs("div",{ref:Gt=>{_t(Gt),Gt&&yt&&!q.current&&(q.current=Gt.offsetWidth)},style:{...on,background:Qt?"linear-gradient(135deg, rgba(16, 185, 129, 0.2) 0%, rgba(5, 150, 105, 0.15) 100%)":vt?Ue?"rgba(59, 130, 246, 0.2)":"rgba(59, 130, 246, 0.05)":tn?"linear-gradient(135deg, #fee2e2 0%, #fecaca 100%)":Ue?"rgba(15, 23, 42, 0.85)":"white",borderRadius:"12px",boxShadow:Qt?"0 0 0 3px rgba(16, 185, 129, 0.4), 0 8px 24px rgba(16, 185, 129, 0.3)":vt?Ue?"0 2px 8px rgba(59, 130, 246, 0.3)":"0 2px 8px rgba(59, 130, 246, 0.15)":tn?"0 2px 8px rgba(239, 68, 68, 0.3)":Ue?"0 25px 50px -12px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(139, 92, 246, 0.2)":"0 1px 3px rgba(0,0,0,0.1)",border:Qt?"3px solid #10b981":vt?"1px solid rgba(59, 130, 246, 0.3)":tn?"2px solid #ef4444":Ue?"1px solid rgba(139, 92, 246, 0.3)":"1px solid #e2e8f0",overflow:"hidden",transition:Qt?"all 0.3s ease":"none",position:"relative",transform:Qt?"scale(1.02)":"none",zIndex:yt?1:Qt?6:tn?5:2,pointerEvents:yt?"none":"auto",animation:Qt?"dropZonePulse 1.5s ease-in-out infinite":"none",filter:tn?"blur(1px)":"none",opacity:yt?.3:tn?.6:1,width:"100%",height:"auto"},"data-product-id":ve.id,"data-category-id":Re||null,children:[!ve.is_active&&_.jsx("div",{style:{position:"absolute",top:"0.75rem",right:"0.75rem",background:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",color:"white",padding:"0.5rem 1rem",borderRadius:"20px",fontSize:Fe?"0.75rem":"0.875rem",fontWeight:"700",zIndex:10,boxShadow:"0 2px 8px rgba(239, 68, 68, 0.4)",letterSpacing:"0.05em"},children:"TKEND"}),tn&&_.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:20,fontSize:"4rem",color:"#ef4444",fontWeight:"bold",textShadow:"0 2px 8px rgba(0,0,0,0.3)",pointerEvents:"none"},children:""}),_.jsx("div",{...$e,...tt,style:{position:"absolute",top:"0.5rem",right:"0.5rem",fontSize:"1.25rem",cursor:yt?"grabbing":"grab",userSelect:"none",zIndex:15,background:"rgba(255,255,255,0.9)",borderRadius:"4px",padding:"0.25rem 0.5rem",touchAction:"none"},children:""}),ve.image_url&&_.jsxs("div",{style:{width:"100%",height:"200px",background:"#111",overflow:"hidden",position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},children:[_.jsx("div",{style:{position:"absolute",top:"-10px",left:"-10px",right:"-10px",bottom:"-10px",backgroundImage:`url(${ve.image_url})`,backgroundSize:"cover",backgroundPosition:"center",filter:"blur(35px) brightness(1.8) saturate(0.6)",opacity:ve.is_active?.5:.25,zIndex:0}}),_.jsx("img",{src:ve.image_url,alt:ve.name,style:{width:"100%",height:"100%",objectFit:"contain",position:"relative",zIndex:1,opacity:ve.is_active?1:.5,filter:ve.is_active?"drop-shadow(0 2px 8px rgba(0,0,0,0.3))":"grayscale(0.8)"},onError:Gt=>{Gt.target.style.display="none"}},`${ve.id}-${ve.image_url}`)]}),_.jsxs("div",{style:{padding:Fe?"1rem":"1.25rem"},children:[_.jsxs("div",{style:{marginBottom:"0.75rem",opacity:ve.is_active?1:.5,filter:ve.is_active?"none":"grayscale(0.8)"},children:[_.jsx("h3",{style:{margin:"0 0 0.5rem 0",fontSize:Fe?"1.125rem":"1.25rem",color:ve.is_active?Ue?"#ffffff":"#1e293b":"#9ca3af",fontWeight:"600",lineHeight:"1.4"},children:ve.name}),ve.description&&_.jsx("p",{style:{margin:0,fontSize:Fe?"0.8125rem":"0.875rem",color:ve.is_active?Ue?"#cbd5e1":"#64748b":"#9ca3af",lineHeight:"1.5",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:ve.description})]}),_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"1rem",paddingTop:"1rem",borderTop:Ue?"1px solid rgba(139, 92, 246, 0.3)":"1px solid #e2e8f0"},children:[_.jsx(Br,{price:ve.price,fontSize:Fe?"1.125rem":"1.25rem",fontWeight:"700",color:"#3b82f6"}),_.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[_.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.25rem",padding:"0.5rem",borderRadius:"6px",background:ve.is_active?Ue?"rgba(59, 130, 246, 0.2)":"#f0f9ff":Ue?"rgba(239, 68, 68, 0.2)":"#fef2f2"},children:[_.jsx("label",{style:{fontSize:"0.75rem",color:ve.is_active?Ue?"#60a5fa":"#3b82f6":Ue?"#f87171":"#ef4444",fontWeight:"600",cursor:"pointer",userSelect:"none"},children:ve.is_active?"Aktif":"Tkendi"}),_.jsx("button",{onClick:()=>ot(ve.id,ve.is_active),style:{width:"44px",height:"24px",borderRadius:"12px",border:"none",background:ve.is_active?"#3b82f6":"#9ca3af",cursor:"pointer",position:"relative",transition:"background 0.3s ease",outline:"none"},onMouseEnter:Gt=>{Gt.currentTarget.style.opacity="0.8"},onMouseLeave:Gt=>{Gt.currentTarget.style.opacity="1"},children:_.jsx("div",{style:{position:"absolute",top:"2px",left:ve.is_active?"22px":"2px",width:"20px",height:"20px",borderRadius:"50%",background:"white",transition:"left 0.3s ease",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"}})})]}),_.jsx(Qr,{variant:"secondary",onClick:()=>Ke(ve),style:{fontSize:Fe?"0.8125rem":"0.875rem",padding:Fe?"0.5rem 0.75rem":"0.625rem 1rem"},children:""}),_.jsx(Qr,{variant:"danger",onClick:()=>Ve(ve.id),style:{fontSize:Fe?"0.8125rem":"0.875rem",padding:Fe?"0.5rem 0.75rem":"0.625rem 1rem"},children:""})]})]})]})]})}const ct=p.sort((ve,Re)=>(ve.order_index||0)-(Re.order_index||0)).map(ve=>({category:ve,products:f.filter(Re=>Re.category_id===ve.id).sort((Re,Ge)=>Re.is_active!==Ge.is_active?Re.is_active?-1:1:(Re.order_index||0)-(Ge.order_index||0))})).filter(ve=>ve.products.length>0),dt=f.filter(ve=>!ve.category_id).sort((ve,Re)=>ve.is_active!==Re.is_active?ve.is_active?-1:1:(ve.order_index||0)-(Re.order_index||0));return b&&f.length===0?_.jsx(ka,{children:_.jsx(Ga,{message:"rnler ykleniyor..."})}):_.jsx(ka,{children:_.jsx(Tv,{sensors:ae,collisionDetection:fv,onDragStart:Te,onDragOver:Ee,onDragEnd:Me,onDragCancel:()=>{X(null),R(null),le({up:!1,down:!1})},autoScroll:{threshold:{x:.12,y:.12},acceleration:13,interval:9,enabled:!0},children:_.jsxs("div",{children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:S?"1.5rem":"2rem",flexWrap:"wrap",gap:"1rem"},children:[_.jsxs("h1",{style:{margin:0,fontSize:S?"1.5rem":"2rem",color:e?"#ffffff":"#1e293b",display:"flex",alignItems:"center",gap:"0.75rem"},children:[_.jsxs("svg",{width:S?"28":"32",height:S?"28":"32",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[_.jsx("path",{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z",stroke:e?"#ffffff":"#1e293b",strokeWidth:"2",fill:"none"}),_.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6",stroke:e?"#ffffff":"#1e293b",strokeWidth:"2"}),_.jsx("path",{d:"M16 10a4 4 0 0 1-8 0",stroke:e?"#ffffff":"#1e293b",strokeWidth:"2",fill:"none"})]}),"rnler"]}),_.jsx(Qr,{onClick:()=>_e(),variant:"primary",disabled:p.length===0,style:{fontSize:S?"0.9375rem":"1rem",padding:S?"0.75rem 1.25rem":"0.875rem 1.5rem"},children:" rn Ekle"})]}),p.length===0&&_.jsxs("div",{style:{background:"#fef3c7",border:"1px solid #fbbf24",borderRadius:"8px",padding:"1rem",marginBottom:"1.5rem",color:"#92400e"},children:[_.jsx("strong",{children:" Uyar:"})," nce kategori eklemeniz gerekiyor. rn eklemek iin"," ",_.jsx("a",{href:"/admin/categories",style:{color:"#92400e",textDecoration:"underline"},children:"Kategoriler"})," ","sayfasna gidin."]}),f.length===0?_.jsxs("div",{style:{background:e?"rgba(15, 23, 42, 0.85)":"white",padding:S?"2rem 1rem":"3rem 2rem",borderRadius:"12px",textAlign:"center",boxShadow:e?"0 25px 50px -12px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(139, 92, 246, 0.2)":"0 1px 3px rgba(0,0,0,0.1)",border:e?"1px solid rgba(139, 92, 246, 0.3)":"none"},children:[_.jsx("p",{style:{fontSize:S?"1.125rem":"1.25rem",color:e?"#cbd5e1":"#64748b",marginBottom:"1rem"},children:"Henz rn eklenmemi"}),_.jsx(Qr,{onClick:()=>_e(),variant:"primary",disabled:p.length===0,children:" lk rn Ekle"})]}):_.jsxs("div",{children:[_.jsx("div",{style:{padding:"0.75rem 1rem",background:e?"rgba(30, 41, 59, 0.6)":"#f8fafc",borderRadius:"8px",fontSize:"0.875rem",color:e?"#cbd5e1":"#64748b",marginBottom:"1.5rem",border:e?"1px solid rgba(139, 92, 246, 0.2)":"none"},children:" pucu: Buraya bu sembole () basarak yer deitirebilirsiniz"}),_.jsx(Cv,{children:F?(()=>{const ve=f.find(Ge=>Ge.id===F);if(!ve)return null;const Re=q.current||(S?"100%":"calc((100% - 2 * 1.5rem) / 3)");return _.jsxs("div",{className:"drag-overlay-card",style:{background:e?"rgba(15, 23, 42, 0.75)":"rgba(255, 255, 255, 0.75)",borderRadius:"12px",boxShadow:e?"0 8px 24px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(139, 92, 246, 0.3)":"0 8px 24px rgba(0, 0, 0, 0.25)",border:e?"1px solid rgba(139, 92, 246, 0.3)":"1px solid #e2e8f0",opacity:.65,backdropFilter:"blur(2px)",width:typeof Re=="number"?`${Re}px`:Re,minWidth:typeof Re=="number"?`${Re}px`:Re,maxWidth:typeof Re=="number"?`${Re}px`:Re,pointerEvents:"none",zIndex:2e3,transform:"none !important",transformOrigin:"center center",boxSizing:"border-box",scale:"1 !important",rotate:"0deg !important",flexShrink:0,flexGrow:0},children:[ve.image_url&&_.jsxs("div",{style:{width:"100%",height:"200px",background:"#111",overflow:"hidden",borderRadius:"12px 12px 0 0",position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},children:[_.jsx("div",{style:{position:"absolute",top:"-10px",left:"-10px",right:"-10px",bottom:"-10px",backgroundImage:`url(${ve.image_url})`,backgroundSize:"cover",backgroundPosition:"center",filter:"blur(35px) brightness(1.8) saturate(0.6)",opacity:.5,zIndex:0}}),_.jsx("img",{src:ve.image_url,alt:ve.name,style:{width:"100%",height:"100%",objectFit:"contain",position:"relative",zIndex:1,filter:"drop-shadow(0 2px 8px rgba(0,0,0,0.3))"},onError:Ge=>{Ge.target.style.display="none"}})]}),_.jsxs("div",{style:{padding:"1.25rem"},children:[_.jsx("h3",{style:{margin:"0 0 0.5rem 0",fontSize:"1.25rem",color:e?"#ffffff":"#1e293b",fontWeight:"600",lineHeight:"1.4"},children:ve.name}),ve.description&&_.jsx("p",{style:{margin:0,fontSize:"0.875rem",color:e?"#cbd5e1":"#64748b",lineHeight:"1.5",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:ve.description}),_.jsx("div",{style:{marginTop:"1rem",paddingTop:"1rem",borderTop:e?"1px solid rgba(139, 92, 246, 0.3)":"1px solid #e2e8f0"},children:_.jsx(Br,{price:ve.price,fontSize:"1.25rem",fontWeight:"700",color:"#3b82f6"})})]})]})})():null}),F&&_.jsxs(_.Fragment,{children:[se.up&&_.jsx("div",{style:{position:"fixed",top:"10px",left:"50%",transform:"translateX(-50%)",zIndex:1e4,pointerEvents:"none",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"0.4rem"},children:[0,1,2].map(ve=>_.jsx("div",{style:{width:"0",height:"0",borderLeft:"14px solid transparent",borderRight:"14px solid transparent",borderBottom:"20px solid",borderBottomColor:ve===1?"#059669":"#10b981",animation:`arrowPulse 0.6s ease-in-out infinite ${ve*.1}s`,filter:"drop-shadow(0 2px 6px rgba(16, 185, 129, 0.6))"}},ve))}),se.down&&_.jsx("div",{style:{position:"fixed",bottom:"10px",left:"50%",transform:"translateX(-50%)",zIndex:1e4,pointerEvents:"none",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"0.4rem"},children:[0,1,2].map(ve=>_.jsx("div",{style:{width:"0",height:"0",borderLeft:"14px solid transparent",borderRight:"14px solid transparent",borderTop:"20px solid",borderTopColor:ve===1?"#059669":"#10b981",animation:`arrowPulse 0.6s ease-in-out infinite ${ve*.1}s`,filter:"drop-shadow(0 2px 6px rgba(16, 185, 129, 0.6))"}},ve))})]}),ct.map((ve,Re)=>_.jsxs("div",{style:{marginBottom:S?"3rem":"4rem"},children:[_.jsxs("div",{style:{marginBottom:"1.5rem",paddingBottom:"0.75rem",borderBottom:"3px solid #3b82f6"},children:[_.jsxs("h2",{style:{margin:0,fontSize:S?"1.5rem":"2rem",color:e?"#ffffff":"#1e293b",fontWeight:"700"},children:[" ",ve.category.name]}),_.jsxs("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.875rem",color:e?"#cbd5e1":"#64748b"},children:[ve.products.length," rn"]})]}),_.jsx($1,{items:ve.products.map(Ge=>Ge.id),strategy:H1,children:_.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:S?"1rem":"1.5rem",position:"relative",width:"100%",alignItems:"flex-start",alignContent:"flex-start"},children:ve.products.map((Ge,Fe)=>{const Ue=F?f.find(ot=>ot.id===F):null,Ve=Ue&&(Ue.category_id||null)===ve.category.id&&me&&me.categoryId===ve.category.id&&me.index===Fe&&Ge.is_active;return _.jsxs("div",{style:{position:"relative",width:S?"100%":"calc((100% - 2 * 1.5rem) / 3)",flexShrink:0,flexGrow:0,transition:"none",transform:"none",zIndex:Ve?1:2},children:[Ve&&_.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,width:"100%",height:"100%",background:"rgba(16, 185, 129, 0.25)",borderRadius:"12px",border:"3px dashed #10b981",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.3s ease",animation:"dropZonePulse 1.5s ease-in-out infinite",zIndex:10,pointerEvents:"none"},children:_.jsx("div",{style:{color:"#10b981",fontSize:"1rem",fontWeight:"700",background:"rgba(255, 255, 255, 0.98)",padding:"0.75rem 1.5rem",borderRadius:"12px",boxShadow:"0 4px 16px rgba(16, 185, 129, 0.4)",border:"2px solid #10b981",animation:"dropZonePulse 1.5s ease-in-out infinite"},children:" Buraya koyabilirsiniz"})}),_.jsx(lt,{product:Ge,categoryId:ve.category.id,isDropZone:Ve,productIndex:Fe,isMobile:S,isDark:e,onEdit:_e,onDelete:ge,onToggleActive:Oe})]},Ge.id)})})})]},ve.category.id)),dt.length>0&&_.jsxs("div",{style:{marginTop:S?"3rem":"4rem",paddingTop:S?"2rem":"3rem",borderTop:"2px solid #e2e8f0"},children:[_.jsxs("div",{style:{marginBottom:"1.5rem",paddingBottom:"0.75rem",borderBottom:"3px solid #f59e0b"},children:[_.jsx("h2",{style:{margin:0,fontSize:S?"1.5rem":"2rem",color:e?"#ffffff":"#1e293b",fontWeight:"700"},children:" Kategorisiz rnler"}),_.jsxs("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.875rem",color:e?"#cbd5e1":"#64748b"},children:[dt.length," rn - Ltfen bu rnlere kategori atayn"]})]}),_.jsx($1,{items:dt.map(ve=>ve.id),strategy:H1,children:_.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:S?"1rem":"1.5rem",position:"relative",width:"100%",alignItems:"flex-start",alignContent:"flex-start"},children:dt.map((ve,Re)=>{const Ge=F?f.find(Ke=>Ke.id===F):null,Ue=Ge&&(Ge.category_id||null)===null&&me&&me.categoryId===null&&me.index===Re&&ve.is_active;return _.jsxs("div",{style:{position:"relative",width:S?"100%":"calc((100% - 2 * 1.5rem) / 3)",flexShrink:0,flexGrow:0,transition:"none",transform:"none",zIndex:Ue?1:2},children:[Ue&&_.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,width:"100%",height:"100%",background:"rgba(16, 185, 129, 0.25)",borderRadius:"12px",border:"3px dashed #10b981",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.3s ease",animation:"dropZonePulse 1.5s ease-in-out infinite",zIndex:10,pointerEvents:"none"},children:_.jsx("div",{style:{color:"#10b981",fontSize:"1rem",fontWeight:"700",background:"rgba(255, 255, 255, 0.98)",padding:"0.75rem 1.5rem",borderRadius:"12px",boxShadow:"0 4px 16px rgba(16, 185, 129, 0.4)",border:"2px solid #10b981",animation:"dropZonePulse 1.5s ease-in-out infinite"},children:" Buraya koyabilirsiniz"})}),_.jsx(lt,{product:ve,categoryId:null,productIndex:Re,isDropZone:Ue,isMobile:S,isDark:e,onEdit:_e,onDelete:ge,onToggleActive:Oe})]},ve.id)})})})]})]}),k&&_.jsx("div",{onClick:Be,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",padding:S?"1rem":"2rem"},children:_.jsxs("div",{onClick:ve=>ve.stopPropagation(),style:{background:e?"rgba(15, 23, 42, 0.95)":"white",borderRadius:"12px",padding:S?"1.5rem":"2rem",width:"100%",maxWidth:"600px",maxHeight:"90vh",overflowY:"auto",boxShadow:e?"0 20px 40px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(139, 92, 246, 0.3)":"0 20px 40px rgba(0,0,0,0.2)",border:e?"1px solid rgba(139, 92, 246, 0.3)":"none"},children:[_.jsx("h2",{style:{margin:"0 0 1.5rem 0",fontSize:S?"1.25rem":"1.5rem",color:e?"#ffffff":"#1e293b"},children:z?" rn Dzenle":" rn Ekle"}),_.jsxs("form",{onSubmit:$,children:[_.jsx(xu,{label:"rn Ad",type:"text",value:D.name,onChange:ve=>ne({...D,name:ve.target.value}),placeholder:"rn: Trk Kahvesi",required:!0,style:{marginBottom:"1.25rem"}}),_.jsxs("div",{style:{marginBottom:"1.25rem"},children:[_.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:e?"#cbd5e1":"#333"},children:["Kategori ",_.jsx("span",{style:{color:"red"},children:"*"})]}),_.jsxs("select",{value:D.category_id,onChange:ve=>ne({...D,category_id:ve.target.value}),required:!0,style:{width:"100%",padding:"0.75rem",fontSize:"1rem",border:e?"1px solid rgba(139, 92, 246, 0.3)":"1px solid #ddd",borderRadius:"6px",boxSizing:"border-box",fontFamily:"inherit",background:e?"rgba(30, 41, 59, 0.6)":"white",color:e?"#ffffff":"#1e293b"},children:[_.jsx("option",{value:"",children:"Kategori Sein"}),p.map(ve=>_.jsx("option",{value:ve.id,children:ve.name},ve.id))]})]}),_.jsx(xu,{label:"Fiyat ()",type:"number",step:"0.01",min:"0",value:D.price,onChange:ve=>ne({...D,price:ve.target.value}),placeholder:"0.00",required:!0,style:{marginBottom:"1.25rem"}}),_.jsxs("div",{style:{marginBottom:"1.25rem"},children:[_.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#333"},children:"Aklama (Opsiyonel)"}),_.jsx("textarea",{value:D.description,onChange:ve=>ne({...D,description:ve.target.value}),placeholder:"Ksa aklama (mende gsterilir)",rows:"3",style:{width:"100%",padding:"0.75rem",fontSize:"1rem",border:e?"1px solid rgba(139, 92, 246, 0.3)":"1px solid #ddd",borderRadius:"6px",boxSizing:"border-box",fontFamily:"inherit",resize:"vertical",background:e?"rgba(30, 41, 59, 0.6)":"white",color:e?"#ffffff":"#1e293b"}})]}),_.jsxs("div",{style:{marginBottom:"1.25rem"},children:[_.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:e?"#cbd5e1":"#333"},children:["Grsel ",!z&&"(Opsiyonel)"]}),_.jsx("input",{type:"file",accept:"image/*",onChange:Qe,style:{width:"100%",padding:"0.5rem",fontSize:"0.9375rem",border:e?"1px solid rgba(139, 92, 246, 0.3)":"1px solid #ddd",borderRadius:"6px",boxSizing:"border-box",background:e?"rgba(30, 41, 59, 0.6)":"white",color:e?"#ffffff":"#1e293b"}}),I&&_.jsxs("div",{style:{marginTop:"0.75rem",padding:"1.5rem",background:e?"rgba(30, 41, 59, 0.6)":"#f8fafc",border:e?"1px solid rgba(139, 92, 246, 0.3)":"1px solid #e2e8f0",borderRadius:"8px",textAlign:"center"},children:[_.jsx("div",{style:{display:"inline-block",width:"40px",height:"40px",border:`3px solid ${e?"rgba(139, 92, 246, 0.2)":"#e2e8f0"}`,borderTop:`3px solid ${e?"#8b5cf6":"#6366f1"}`,borderRadius:"50%",animation:"spin 1s linear infinite",marginBottom:"0.75rem"}}),_.jsx("p",{style:{margin:0,fontSize:"0.875rem",color:e?"#cbd5e1":"#64748b",fontWeight:"500"},children:"Grsel ileniyor..."}),_.jsx("p",{style:{margin:"0.25rem 0 0 0",fontSize:"0.75rem",color:"#94a3b8"},children:"Ltfen bekleyin"})]}),D.imagePreview&&!I&&_.jsxs(_.Fragment,{children:[_.jsxs("div",{style:{marginTop:"0.75rem",width:"100%",maxWidth:"320px",height:"200px",borderRadius:"8px",overflow:"hidden",border:e?"1px solid rgba(139, 92, 246, 0.3)":"1px solid #e2e8f0",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",background:e?"#1e293b":"#111"},children:[_.jsx("div",{style:{position:"absolute",top:"-10px",left:"-10px",right:"-10px",bottom:"-10px",backgroundImage:`url(${D.imagePreview})`,backgroundSize:"cover",backgroundPosition:"center",filter:"blur(35px) brightness(1.8) saturate(0.6)",opacity:.5,zIndex:0}}),_.jsx("img",{src:D.imagePreview,alt:"nizleme",style:{width:"100%",height:"100%",objectFit:"contain",position:"relative",zIndex:1,display:"block",filter:"drop-shadow(0 2px 8px rgba(0,0,0,0.3))"}})]}),_.jsx("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.75rem",color:"#94a3b8",fontStyle:"italic"},children:" Mendeki grnm nizlemesi"}),_.jsxs("div",{style:{marginTop:"0.75rem",padding:"0.75rem",background:e?"rgba(219, 234, 254, 0.08)":"#eff6ff",border:e?"1px solid rgba(96, 165, 250, 0.25)":"1px solid #bfdbfe",borderRadius:"6px",fontSize:"0.8125rem",color:e?"#93c5fd":"#1e40af",lineHeight:"1.5"},children:[" ",_.jsx("strong",{children:"pucu:"})," Yatay ekilmi grseller mende en iyi ekilde grnr. nerilen boyut: ",_.jsx("strong",{style:{whiteSpace:"nowrap"},children:"800500 piksel"})," (yatay, 16:10 oran)"]})]}),_.jsx("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.8125rem",color:"#64748b"},children:"Maksimum 10MB, JPG, PNG veya WebP formatnda"})]}),P&&_.jsx("div",{style:{padding:"0.75rem",background:"#fee",border:"1px solid #fcc",borderRadius:"6px",color:"#c33",marginBottom:"1rem",fontSize:"0.875rem"},children:P}),_.jsxs("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end"},children:[_.jsx(Qr,{type:"button",variant:"secondary",onClick:Be,disabled:H||I,style:{fontSize:S?"0.9375rem":"1rem"},children:"ptal"}),_.jsx(Qr,{type:"submit",variant:"primary",disabled:H||I,style:{fontSize:S?"0.9375rem":"1rem"},children:H?" Kaydediliyor...":I?" Grsel ileniyor...":z?" Kaydet":" Ekle"})]})]})]})})]})})})}function g7(){const{business:t,updateBusiness:e}=$o(),{theme:n,setThemeMode:i,isDark:s}=Wo(),{notifyLogoSelectError:o,notifyLogoUploaded:u,notifyLogoUploadError:c,notifyLogoDeleted:f,notifyLogoDeleteError:h,notifySettingsSaved:p,notifySettingsSaveError:y,notifySettingsValidationError:b,notifyUrlCopied:g,notifyUrlCopyError:S,notifyQRDownloaded:E,notifyQRDownloadError:k,showSuccess:T}=Tu(),[z,B]=W.useState(!0),[D,ne]=W.useState(!1),[H,te]=W.useState(!1),[I,L]=W.useState({name:"",phone:"",email:"",slug:""}),[K,N]=W.useState(null),[P,Y]=W.useState(null),[F,X]=W.useState(!1),[O,R]=W.useState(""),[se,le]=W.useState("");W.useEffect(()=>{const be=()=>{te(window.innerWidth<768)};return be(),window.addEventListener("resize",be),()=>window.removeEventListener("resize",be)},[]),W.useEffect(()=>{t&&(L({name:t.name||"",phone:t.phone||"",email:t.email||"",slug:t.slug||""}),t.logo_url&&Y(t.logo_url),B(!1))},[t]),W.useEffect(()=>{if(!t?.id)return;const be=ht.channel(`business:${t.id}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"businesses",filter:`id=eq.${t.id}`},async $=>{console.log(" Business changed (Realtime):",$.eventType,$.new?.id),$.new&&(L({name:$.new.name||"",phone:$.new.phone||"",email:$.new.email||"",slug:$.new.slug||""}),$.new.logo_url!==t.logo_url&&(Y($.new.logo_url||null),N(null)))}).subscribe();return()=>{ht.removeChannel(be)}},[t?.id]);const me=async be=>{const $=be.target.files?.[0];if($){if(!$.type.startsWith("image/")){R("Ltfen bir grsel dosyas sein"),o("type");return}if($.size>10*1024*1024){R("Logo boyutu 10MB'dan kk olmaldr"),o("size");return}try{const ge=await Kv($,{maxSizeMB:.5,maxWidthOrHeight:800,initialQuality:1,preserveFormat:!0});if(ge.size>2*1024*1024){R("Logo boyutu ok byk. Ltfen daha kk bir logo sein."),o("size");return}N(ge),Y(URL.createObjectURL(ge)),R(""),X(!0),t?.logo_url&&(await j(t.logo_url),await new Promise(Te=>setTimeout(Te,500)),console.log(" Eski logo silindi, yeni logo yklenecek"));const Oe=await Z(ge);if(Oe){const{error:Te}=await ht.from("businesses").update({logo_url:Oe}).eq("id",t.id);if(Te)throw Te;N(null),Y(Oe),e&&t?.id&&await e(t.id)}}catch(ge){if(console.warn(" Logo ileme hatas, orijinal dosya kullanlacak:",ge),X(!1),$.size>10*1024*1024){R("Logo boyutu 10MB'dan kk olmaldr"),o("size"),X(!1);return}N($),Y(URL.createObjectURL($)),R("");try{X(!0),t?.logo_url&&(await j(t.logo_url),await new Promise(Te=>setTimeout(Te,500)),console.log(" Eski logo silindi, yeni logo yklenecek (orijinal dosya)"));const Oe=await Z($);if(Oe){const{error:Te}=await ht.from("businesses").update({logo_url:Oe}).eq("id",t.id);if(Te)throw Te;N(null),Y(Oe),e&&t?.id&&await e(t.id)}}catch(Oe){R(Oe.message||"Logo yklenirken hata olutu"),c(Oe.message||"Logo yklenirken hata olutu"),console.error("Logo upload error:",Oe)}finally{X(!1)}}finally{X(!1)}}},Z=async(be=null)=>{const $=be||K;if(!$||!t)return console.warn(" uploadLogo: Dosya veya business yok"),null;try{const Oe={"image/jpeg":"jpg","image/png":"png","image/webp":"webp"}[$.type]||$.name.split(".").pop(),Te=Date.now(),Ee=`${t.id}-${Te}.${Oe}`,qe=`${t.id}/${Ee}`;console.log(" Logo ykleniyor:",qe),console.log(" Dosya bilgileri:",{name:$.name,size:$.size,type:$.type,ext:Oe});const{data:Me,error:lt}=await ht.storage.from("product-images").upload(qe,$,{cacheControl:"3600",upsert:!1});if(lt)throw console.error(" Upload hatas:",lt),lt;console.log(" Upload baarl:",Me);const{data:{publicUrl:ct}}=ht.storage.from("product-images").getPublicUrl(qe);return console.log(" Logo yklendi:",ct),u(),ct}catch(ge){throw console.error(" Logo upload error:",ge),c(ge.message),new Error("Logo yklenirken hata olutu: "+ge.message)}},j=async be=>{if(!(!be||!t?.id))try{const $=`${t.id}/`,ge=[];if(be){const Oe=be.split("/"),Te=Oe.findIndex(Ee=>Ee==="product-images");if(Te!==-1){const Ee=Oe.slice(Te+1).join("/");ge.push(Ee),console.log(" URL'den bulunan logo dosya yolu:",Ee)}}try{const{data:Oe,error:Te}=await ht.storage.from("product-images").list($,{limit:100,offset:0,sortBy:{column:"name",order:"asc"}});if(!Te&&Oe&&Array.isArray(Oe)){const Ee=Oe.filter(qe=>{if(!qe.name)return!1;const Me=qe.name.split(".")[0];return Me===t.id||Me.startsWith(`${t.id}-`)}).map(qe=>`${$}${qe.name}`);Ee.forEach(qe=>{ge.includes(qe)||ge.push(qe)}),console.log(" List'ten bulunan logo dosyalar:",Ee)}else Te&&console.warn(" Logo dosya listeleme hatas (URL yntemi kullanlacak):",Te)}catch(Oe){console.warn(" Logo list ilemi hatas (URL yntemi kullanlacak):",Oe)}if(ge.length>0){console.log(" Silinecek logo dosyalar:",ge);const{data:Oe,error:Te}=await ht.storage.from("product-images").remove(ge);Te?console.warn(" Logo storage silme hatas (devam ediliyor):",Te):(console.log(" Eski logo dosyalar storage'dan silindi:",ge),setTimeout(async()=>{try{const{data:Ee,error:qe}=await ht.storage.from("product-images").list($);if(qe){console.warn(" Logo dorulama hatas:",qe);return}const Me=Ee?.filter(lt=>{if(!lt.name)return!1;const ct=lt.name.split(".")[0];return ct===t.id||ct.startsWith(`${t.id}-`)});if(Me&&Me.length>0){console.warn(" UYARI: Logo dosyalar hala storage'da grnyor!"),console.warn(" Kalan dosyalar:",Me.map(dt=>dt.name));const lt=Me.map(dt=>`${$}${dt.name}`);console.log(" Logo tekrar silme deneniyor:",lt);const{error:ct}=await ht.storage.from("product-images").remove(lt);ct?console.error(" Logo tekrar silme hatas:",ct):console.log(" Logo tekrar silme baarl")}else console.log(" Dorulama: Logo dosyalar gerekten silindi")}catch(Ee){console.warn(" Logo dorulama hatas:",Ee)}},1500))}else console.warn(" Silinecek logo dosya bulunamad. Logo URL:",be)}catch($){console.warn(" Logo silme hatas (devam ediliyor):",$)}},G=async()=>{if(!(!P&&!t?.logo_url))try{ne(!0),R(""),le("");const be=P||t.logo_url;be&&await j(be);const{error:$}=await ht.from("businesses").update({logo_url:null}).eq("id",t.id);if($)throw $;Y(null),N(null),f(),e&&t?.id&&await e(t.id)}catch(be){R(be.message||"Logo silinirken hata olutu"),h(be.message||"Logo silinirken hata olutu"),console.error("Logo delete error:",be)}finally{ne(!1)}},V=async be=>{if(be.preventDefault(),R(""),le(""),ne(!0),X(!1),!I.name.trim()){R("letme ad gerekli"),b("name"),ne(!1);return}if(!I.slug.trim()){R("URL slug gerekli"),b("slug"),ne(!1);return}if(!/^[a-z0-9-]+$/.test(I.slug.trim())){R("URL slug sadece kk harf, say ve tire ierebilir"),b("slugFormat"),ne(!1);return}try{const ge={name:I.name.trim(),phone:I.phone.trim()||null,email:I.email.trim()||null,slug:I.slug.trim().toLowerCase()},{error:Oe}=await ht.from("businesses").update(ge).eq("id",t.id);if(Oe)throw Oe;N(null),p()}catch(ge){R(ge.message||"Ayarlar kaydedilirken hata olutu"),y(ge.message||"Ayarlar kaydedilirken hata olutu"),console.error("Settings save error:",ge),X(!1)}finally{ne(!1)}},ee=()=>t?.slug?`https://www.osman25dem2.workers.dev/${t.slug}`:null,q=()=>t?.slug?`https://qr-menum.github.io/${t.slug}`:null,ae=ee(),pe=q();W.useEffect(()=>{if(t?.id&&t?.slug&&(t.qr_url!==ae||t.main_url!==pe)){const be={};ae&&t.qr_url!==ae&&(be.qr_url=ae),pe&&t.main_url!==pe&&(be.main_url=pe),Object.keys(be).length>0&&ht.from("businesses").update(be).eq("id",t.id).then(({error:$})=>{$?console.error("URL kaydetme hatas:",$):console.log("URL'ler gncellendi:",be)})}},[t?.id,t?.slug,ae,pe]);const ye=ae?`https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=${encodeURIComponent(ae)}`:null,_e=()=>{pe?(navigator.clipboard.writeText(pe),le(" Link kopyaland!"),g("menu"),setTimeout(()=>le(""),3e3)):S("menu")},Be=()=>{ae?(navigator.clipboard.writeText(ae),le(" QR URL kopyaland!"),g("qr"),setTimeout(()=>le(""),3e3)):S("qr")},Qe=()=>{pe?(navigator.clipboard.writeText(pe),le(" Ana URL kopyaland!"),g("main"),setTimeout(()=>le(""),3e3)):S("main")},nt=()=>{if(ye){const be=document.createElement("a");be.href=ye,be.download=`qr-menu-${t?.slug||"menu"}.png`,document.body.appendChild(be),be.click(),document.body.removeChild(be),E()}else k()};return z?_.jsx(ka,{children:_.jsx(Ga,{message:"Ayarlar ykleniyor..."})}):_.jsx(ka,{children:_.jsxs("div",{children:[_.jsxs("h1",{style:{margin:0,marginBottom:H?"1.5rem":"2rem",fontSize:H?"1.5rem":"2rem",color:s?"#ffffff":"#1e293b",display:"flex",alignItems:"center",gap:"0.75rem"},children:[_.jsx("svg",{width:H?"28":"32",height:H?"28":"32",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:_.jsxs("g",{stroke:s?"#ffffff":"#1e293b",strokeWidth:"2.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("circle",{cx:"12",cy:"12",r:"7.5"}),_.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"4.5"}),_.jsx("line",{x1:"12",y1:"19.5",x2:"12",y2:"23"}),_.jsx("line",{x1:"1",y1:"12",x2:"4.5",y2:"12"}),_.jsx("line",{x1:"19.5",y1:"12",x2:"23",y2:"12"}),_.jsx("line",{x1:"4.5",y1:"4.5",x2:"6.3",y2:"6.3"}),_.jsx("line",{x1:"17.7",y1:"17.7",x2:"19.5",y2:"19.5"}),_.jsx("line",{x1:"4.5",y1:"19.5",x2:"6.3",y2:"17.7"}),_.jsx("line",{x1:"17.7",y1:"6.3",x2:"19.5",y2:"4.5"})]})}),"Ayarlar"]}),_.jsxs("div",{style:{display:"grid",gridTemplateColumns:H?"1fr":"2fr 1fr",gap:H?"1.5rem":"2rem"},children:[_.jsxs("div",{children:[_.jsx("div",{style:{background:s?"rgba(15, 23, 42, 0.85)":"white",padding:H?"1rem":"1.25rem",borderRadius:"12px",boxShadow:s?"0 25px 50px -12px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(139, 92, 246, 0.2)":"0 1px 3px rgba(0,0,0,0.1)",marginBottom:H?"1.5rem":"2rem",border:s?"1px solid rgba(139, 92, 246, 0.3)":"none"},children:_.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"1rem"},children:[_.jsxs("div",{style:{flex:1},children:[_.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",color:s?"#ffffff":"#1e293b",fontSize:H?"0.9375rem":"1rem"},children:"Tema"}),_.jsx("p",{style:{margin:0,fontSize:"0.8125rem",color:s?"#94a3b8":"#64748b"},children:n==="dark"?"Koyu tema aktif":"Ak tema aktif"})]}),_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[_.jsx("span",{style:{fontSize:"0.875rem",fontWeight:"500",color:n==="dark"?s?"#ffffff":"#1e293b":s?"#94a3b8":"#64748b",transition:"color 0.3s ease"},children:"Dark"}),_.jsx("button",{onClick:()=>{i(n==="dark"?"light":"dark"),T("Tema deitirildi",n==="dark"?"Ak tema aktif":"Koyu tema aktif")},style:{width:"56px",height:"32px",borderRadius:"16px",border:"none",background:n==="dark"?"#0ea5e9":"#fbbf24",cursor:"pointer",position:"relative",transition:"background 0.3s ease",outline:"none",padding:"2px"},onMouseEnter:be=>{be.currentTarget.style.opacity="0.9"},onMouseLeave:be=>{be.currentTarget.style.opacity="1"},children:_.jsx("div",{style:{position:"absolute",top:"2px",left:n==="dark"?"2px":"26px",width:"28px",height:"28px",borderRadius:"50%",background:"white",transition:"left 0.3s ease",boxShadow:"0 2px 4px rgba(0,0,0,0.2)",display:"flex",alignItems:"center",justifyContent:"center"},children:n==="dark"?_.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:_.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z",stroke:"#0ea5e9",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})}):_.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[_.jsx("circle",{cx:"12",cy:"12",r:"5",stroke:"#fbbf24",strokeWidth:"2",fill:"none"}),_.jsx("path",{d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42",stroke:"#fbbf24",strokeWidth:"2",strokeLinecap:"round"})]})})}),_.jsx("span",{style:{fontSize:"0.875rem",fontWeight:"500",color:n==="light"?s?"#ffffff":"#1e293b":s?"#94a3b8":"#64748b",transition:"color 0.3s ease"},children:"Light"})]})]})}),_.jsxs("div",{style:{background:s?"rgba(15, 23, 42, 0.85)":"white",padding:H?"1.5rem":"2rem",borderRadius:"12px",boxShadow:s?"0 25px 50px -12px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(139, 92, 246, 0.2)":"0 1px 3px rgba(0,0,0,0.1)",marginBottom:H?"1.5rem":"2rem",border:s?"1px solid rgba(139, 92, 246, 0.3)":"none"},children:[_.jsx("h2",{style:{margin:"0 0 1.5rem 0",fontSize:H?"1.25rem":"1.5rem",color:s?"#ffffff":"#1e293b"},children:" letme Bilgileri"}),_.jsxs("form",{onSubmit:V,children:[_.jsx(xu,{label:"letme Ad",type:"text",value:I.name,onChange:be=>L({...I,name:be.target.value}),placeholder:"rn: Can Erzurum",required:!0,style:{marginBottom:"1.25rem"}}),_.jsx(xu,{label:"Telefon",type:"tel",value:I.phone,onChange:be=>L({...I,phone:be.target.value}),placeholder:"0442 123 45 67",style:{marginBottom:"1.25rem"}}),_.jsx(xu,{label:"E-posta",type:"email",value:I.email,onChange:be=>L({...I,email:be.target.value}),placeholder:"info@isletme.com",style:{marginBottom:"1.25rem"}}),_.jsx(xu,{label:"URL Slug",type:"text",value:I.slug,onChange:be=>L({...I,slug:be.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"")}),placeholder:"can-erzurum",required:!0,style:{marginBottom:"1.25rem"}}),_.jsxs("p",{style:{margin:"-1rem 0 1.25rem 0",fontSize:"0.8125rem",color:s?"#cbd5e1":"#64748b"},children:["Men URL'i: /menu/",I.slug||"slug"]}),_.jsxs("div",{style:{marginBottom:"1.25rem"},children:[_.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:s?"#cbd5e1":"#333",fontSize:"0.9375rem"},children:" letme Logosu"}),P&&_.jsxs("div",{style:{marginBottom:"1rem",display:"flex",alignItems:"center",gap:"1rem",flexWrap:"wrap"},children:[_.jsx("img",{src:P,alt:"Logo Preview",style:{maxWidth:"120px",maxHeight:"120px",width:"auto",height:"auto",objectFit:"contain",display:"block"}}),_.jsx("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:!K&&P&&_.jsx("button",{type:"button",onClick:G,disabled:D,style:{padding:"0.5rem 1rem",background:"#fee",border:"1px solid #fcc",borderRadius:"6px",color:"#c33",cursor:D?"not-allowed":"pointer",fontSize:"0.875rem",opacity:D?.6:1},children:" Logoyu Sil"})})]}),!P&&_.jsxs("label",{style:{display:"inline-block",padding:"0.75rem 1.5rem",background:s?"rgba(30, 41, 59, 0.6)":"#f8fafc",border:s?"2px dashed rgba(139, 92, 246, 0.3)":"2px dashed #cbd5e1",borderRadius:"8px",cursor:"pointer",fontSize:"0.9375rem",color:s?"#cbd5e1":"#475569",transition:"all 0.2s",textAlign:"center",width:"100%"},onMouseEnter:be=>{be.currentTarget.style.background=s?"rgba(30, 41, 59, 0.8)":"#f1f5f9",be.currentTarget.style.borderColor=s?"rgba(139, 92, 246, 0.5)":"#94a3b8"},onMouseLeave:be=>{be.currentTarget.style.background=s?"rgba(30, 41, 59, 0.6)":"#f8fafc",be.currentTarget.style.borderColor=s?"rgba(139, 92, 246, 0.3)":"#cbd5e1"},children:[" Logo Ykle",_.jsx("input",{type:"file",accept:"image/*",onChange:me,style:{display:"none"}})]}),P&&!K&&t?.logo_url&&_.jsx("div",{style:{marginTop:"1rem",padding:"0.75rem",background:s?"rgba(30, 41, 59, 0.4)":"#f1f5f9",borderRadius:"8px",fontSize:"0.8125rem",color:s?"#cbd5e1":"#64748b",textAlign:"center"},children:"Yeni logo yklemek iin nce mevcut logoyu silin, sonra yeni logoyu ykleyin."}),_.jsx("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.8125rem",color:s?"#cbd5e1":"#64748b"},children:"Maksimum 10MB, PNG, JPG veya WebP formatnda"})]}),_.jsxs("div",{style:{marginBottom:"1.25rem"},children:[_.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:s?"#cbd5e1":"#333",fontSize:"0.9375rem"},children:"QR URL (Kalc Domain)"}),_.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"stretch"},children:[_.jsx("input",{type:"text",value:ae,readOnly:!0,style:{flex:1,padding:"0.75rem",border:s?"1px solid rgba(139, 92, 246, 0.3)":"1px solid #e2e8f0",borderRadius:"6px",fontSize:"0.875rem",fontFamily:"monospace",background:s?"rgba(30, 41, 59, 0.6)":"#f8fafc",wordBreak:"break-all",cursor:"not-allowed",color:s?"#ffffff":"#1e293b"}}),_.jsx(Qr,{onClick:Be,variant:"primary",style:{padding:"0.75rem 1rem",fontSize:"0.875rem",whiteSpace:"nowrap"},children:""})]}),_.jsx("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.8125rem",color:"#64748b"},children:"QR kod iin kullanlacak kalc domain (sistemden otomatik gelir)"})]}),_.jsxs("div",{style:{marginBottom:"1.25rem"},children:[_.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#333",fontSize:"0.9375rem"},children:"Ana URL"}),_.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"stretch"},children:[_.jsx("input",{type:"text",value:pe,readOnly:!0,style:{flex:1,padding:"0.75rem",border:s?"1px solid rgba(139, 92, 246, 0.3)":"1px solid #e2e8f0",borderRadius:"6px",fontSize:"0.875rem",fontFamily:"monospace",background:s?"rgba(30, 41, 59, 0.6)":"#f8fafc",wordBreak:"break-all",cursor:"not-allowed",color:s?"#ffffff":"#1e293b"}}),_.jsx(Qr,{onClick:Qe,variant:"primary",style:{padding:"0.75rem 1rem",fontSize:"0.875rem",whiteSpace:"nowrap"},children:""})]}),_.jsx("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.8125rem",color:s?"#cbd5e1":"#64748b"},children:"QR URL'den ynlendirilecek ana domain (sistemden otomatik gelir)"})]}),O&&_.jsx("div",{style:{padding:"0.75rem",background:"#fee",border:"1px solid #fcc",borderRadius:"6px",color:"#c33",marginBottom:"1rem",fontSize:"0.875rem"},children:O}),se&&_.jsx("div",{style:{padding:"0.75rem",background:"#d4edda",border:"1px solid #c3e6cb",borderRadius:"6px",color:"#155724",marginBottom:"1rem",fontSize:"0.875rem"},children:se}),_.jsx(Qr,{type:"submit",variant:"primary",disabled:D||F,style:{fontSize:H?"0.9375rem":"1rem",padding:H?"0.75rem 1.5rem":"0.875rem 2rem"},children:F?" Logo ykleniyor...":D?" Kaydediliyor...":" Kaydet"})]})]})]}),_.jsx("div",{children:_.jsxs("div",{style:{background:s?"rgba(15, 23, 42, 0.85)":"white",padding:H?"1.5rem":"2rem",borderRadius:"12px",boxShadow:s?"0 25px 50px -12px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(139, 92, 246, 0.2)":"0 1px 3px rgba(0,0,0,0.1)",position:H?"relative":"sticky",top:H?"auto":"2rem",border:s?"1px solid rgba(139, 92, 246, 0.3)":"none"},children:[_.jsx("h2",{style:{margin:"0 0 1.5rem 0",fontSize:H?"1.25rem":"1.5rem",color:s?"#ffffff":"#1e293b"},children:" QR Kod"}),ae&&ye?_.jsxs(_.Fragment,{children:[_.jsx("div",{style:{background:"#f8fafc",padding:"1.5rem",borderRadius:"12px",textAlign:"center",marginBottom:"1.5rem",border:"2px dashed #e2e8f0"},children:ye&&_.jsx("img",{src:ye,alt:"QR Code",style:{width:"100%",maxWidth:"250px",height:"auto",margin:"0 auto",display:"block"}})}),pe&&_.jsxs("div",{style:{marginBottom:"1.5rem"},children:[_.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#333",fontSize:"0.9375rem"},children:"Men Linki"}),_.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"stretch"},children:[_.jsx("input",{type:"text",value:pe,readOnly:!0,style:{flex:1,padding:"0.75rem",border:s?"1px solid rgba(139, 92, 246, 0.3)":"1px solid #e2e8f0",borderRadius:"6px",fontSize:"0.875rem",fontFamily:"monospace",background:s?"rgba(30, 41, 59, 0.6)":"#f8fafc",wordBreak:"break-all",color:s?"#ffffff":"#1e293b"}}),_.jsx(Qr,{onClick:_e,variant:"primary",style:{padding:"0.75rem 1rem",fontSize:"0.875rem",whiteSpace:"nowrap"},children:""})]})]}),_.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[_.jsx(Qr,{onClick:nt,variant:"secondary",style:{width:"100%",fontSize:H?"0.9375rem":"1rem"},children:" QR Kodu ndir"}),pe&&_.jsx("a",{href:pe,target:"_blank",rel:"noopener noreferrer",style:{display:"block",width:"100%",textDecoration:"none"},children:_.jsx(Qr,{variant:"primary",style:{width:"100%",fontSize:H?"0.9375rem":"1rem"},children:" Meny Grntle"})})]}),_.jsxs("div",{style:{marginTop:"1.5rem",padding:"1rem",background:"#e7f3ff",borderRadius:"8px",fontSize:"0.875rem",color:"#1e40af",lineHeight:"1.6"},children:[_.jsx("strong",{children:" pucu:"})," Bu QR kodu masalara yerletirebilirsiniz. Mteriler QR kodu okutarak menye eriebilir."]})]}):_.jsx("div",{style:{padding:"2rem",textAlign:"center",color:"#64748b"},children:_.jsx("p",{children:"QR URL ayarlanmad. Ltfen sol taraftan QR URL'i kaydedin."})})]})})]})]})})}function m7(){const{business:t}=$o(),{isDark:e}=Wo(),{notifyNewOrder:n,notifyOrderAccepted:i,notifyOrderRejected:s,notifyOrderPreparing:o,notifyOrderDelivering:u,notifyError:c}=Tu(),[f,h]=W.useState("new"),[p,y]=W.useState(!1),[b,g]=W.useState(""),[S,E]=W.useState([]),k=W.useRef(new Set),[T,z]=W.useState(!1),[B,D]=W.useState(!0),[ne,H]=W.useState(null);W.useEffect(()=>{if(!t?.id){z(!1),D(!1);return}if(!B)return;(async()=>{try{z(!0),console.log(" Fetching ALL orders from Supabase...");const{data:O,error:R}=await ht.from("orders").select(`
            *,
            order_items (
              id,
              product_name,
              product_price,
              quantity,
              notes,
              subtotal
            )
          `).eq("business_id",t.id).order("created_at",{ascending:!1});if(R)throw R;console.log(" ALL Orders fetched from Supabase:",O?.length||0,"orders"),E(O||[]),H(null)}catch(O){console.error(" Fetch ALL orders error:",O),E([]),H(O.message)}finally{z(!1),D(!1)}})()},[t?.id,B]),W.useEffect(()=>{if(!t?.id)return;const X=ht.channel(`orders-all:${t.id}`).on("postgres_changes",{event:"*",schema:"public",table:"orders",filter:`business_id=eq.${t.id}`},async O=>{if(console.log(" Order changed (Realtime):",O.eventType,O.new?.id||O.old?.id),O.eventType==="INSERT"){const{data:R,error:se}=await ht.from("orders").select(`
                *,
                order_items (
                  id,
                  product_name,
                  product_price,
                  quantity,
                  notes,
                  subtotal
                )
              `).eq("id",O.new.id).single();R&&!se&&(k.current.has(R.id)||(k.current.add(R.id),n(R)),E(le=>le.find(Z=>Z.id===R.id)?le:[R,...le]))}else if(O.eventType==="UPDATE"){const{data:R,error:se}=await ht.from("orders").select(`
                *,
                order_items (
                  id,
                  product_name,
                  product_price,
                  quantity,
                  notes,
                  subtotal
                )
              `).eq("id",O.new.id).single();R&&!se&&E(le=>le.find(Z=>Z.id===R.id)?le.map(Z=>Z.id===R.id?R:Z):[R,...le])}else O.eventType==="DELETE"&&E(R=>R.filter(se=>se.id!==O.old.id))}).subscribe();return()=>{ht.removeChannel(X)}},[t?.id]),W.useEffect(()=>{const X=()=>{y(window.innerWidth<768)};return X(),window.addEventListener("resize",X),()=>window.removeEventListener("resize",X)},[]);const te=(X=new Date)=>new Date(X.toLocaleString("en-US",{timeZone:"Europe/Istanbul"}));W.useEffect(()=>{const X=()=>{const R=te();g(R.toLocaleString("tr-TR",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}))};X();const O=setInterval(X,1e3);return()=>clearInterval(O)},[]);const I=async(X,O)=>{try{let R=null;if(O==="accept"?R="preparing":O==="ready"?R="delivering":O==="delivered"?R="completed":O==="cancel"&&(R="cancelled"),!R)return;const se={status:R,updated_at:new Date().toISOString()};R==="completed"&&(se.completed_at=new Date().toISOString(),se.payment_status="pending");const{error:le}=await ht.from("orders").update(se).eq("id",X);if(le)throw le;const{data:me}=await ht.from("orders").select("*").eq("id",X).single();me&&(O==="accept"?(i(me),o(me)):O==="ready"?u(me):O==="delivered"||O==="cancel"&&s(me)),R==="delivering"&&setTimeout(async()=>{const{data:Z}=await ht.from("orders").select("status").eq("id",X).single();if(Z&&Z.status==="delivering"){const{data:j}=await ht.from("orders").select("*").eq("id",X).single();await ht.from("orders").update({status:"completed",completed_at:new Date().toISOString(),payment_status:"pending",updated_at:new Date().toISOString()}).eq("id",X)}},180*1e3)}catch(R){console.error("Order status update error:",R),c("Sipari durumu gncellenirken hata olutu",R.message)}},L=X=>({pending:"#f59e0b",preparing:"#8b5cf6",delivering:"#3b82f6",completed:"#10b981",cancelled:"#ef4444"})[X]||"#64748b",K=X=>({pending:"Beklemede",preparing:"Hazrlanyor",delivering:"Sipari Geliyor",completed:"Tamamland",cancelled:"ptal Edildi"})[X]||X,N=X=>{const O=[];return X.status==="pending"?O.push({label:"Kabul Et",action:"accept",color:"#10b981",icon:""},{label:"ptal Et",action:"cancel",color:"#ef4444",icon:""}):X.status==="preparing"?O.push({label:"Sipari Hazr",action:"ready",color:"#10b981",icon:""},{label:"ptal Et",action:"cancel",color:"#ef4444",icon:""}):X.status==="delivering"?O.push({label:"Sipari Tamamland",action:"delivered",color:"#10b981",icon:""}):X.status==="completed"||X.status,O},P=(X,O=null)=>{if(!X)return"";const R=new Date(X),se=new Date(R.toLocaleString("en-US",{timeZone:"Europe/Istanbul"})),le=String(se.getDate()).padStart(2,"0"),me=String(se.getMonth()+1).padStart(2,"0"),Z=se.getFullYear(),j=String(se.getHours()).padStart(2,"0"),G=String(se.getMinutes()).padStart(2,"0"),V=`${le}/${me}/${Z} ${j}.${G}`;if(O==="preparing"||O==="delivering"||O==="pending"){const q=new Date-R,ae=Math.floor(q/6e4),pe=Math.floor(q/36e5),ye=Math.floor(q/864e5);let _e="";return ae<1?_e="az nce":ae<60?_e=`${ae} dakika nce`:pe<24?_e=`${pe} saat nce`:ye<7?_e=`${ye} gn nce`:_e="",`${V}${_e?` (${_e})`:""}`}return V},Y=f==="new"?S.filter(X=>X.status==="pending"||X.status==="preparing"||X.status==="delivering"):f==="preparing"?S.filter(X=>X.status==="preparing"):f==="delivering"?S.filter(X=>X.status==="delivering"):f==="completed"?S.filter(X=>X.status==="completed"):f==="cancelled"?S.filter(X=>X.status==="cancelled"):[];if(ne&&B)return _.jsx(ka,{children:_.jsx("div",{style:{background:e?"rgba(15, 23, 42, 0.85)":"white",padding:"2rem",borderRadius:"8px",textAlign:"center",color:"#ef4444",border:e?"1px solid rgba(139, 92, 246, 0.3)":"none",boxShadow:e?"0 25px 50px -12px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(139, 92, 246, 0.2)":"0 1px 3px rgba(0,0,0,0.1)"},children:_.jsxs("p",{children:[" Hata: ",ne]})})});const F={new:S.filter(X=>X.status==="pending"||X.status==="preparing"||X.status==="delivering").length,preparing:S.filter(X=>X.status==="preparing").length,delivering:S.filter(X=>X.status==="delivering").length,completed:S.filter(X=>X.status==="completed").length,cancelled:S.filter(X=>X.status==="cancelled").length};return _.jsx(ka,{children:_.jsxs("div",{children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:p?"1.5rem":"2rem",flexWrap:"wrap",gap:"1rem"},children:[_.jsxs("h1",{style:{margin:0,fontSize:p?"1.5rem":"2rem",color:e?"#ffffff":"#1e293b",display:"flex",alignItems:"center",gap:"0.75rem"},children:[_.jsxs("svg",{width:p?"28":"32",height:p?"28":"32",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[_.jsx("path",{d:"M32.749 46.92c8.648 0 15.674-6.633 15.973-14.92c-.299-8.287-7.325-14.92-15.973-14.92c-8.647 0-15.675 6.633-15.97 14.92c.294 8.287 7.322 14.92 15.97 14.92",fill:e?"#ffffff":"#1e293b",fillOpacity:1}),_.jsx("path",{d:"M32.75 10c-12.15 0-22.001 9.85-22.001 22c0 12.149 9.852 22 22.001 22c12.149 0 22-9.851 22-22c0-12.15-9.851-22-22-22m-.001 38c-8.837 0-16.001-6.921-16.001-15.461c0-.182.025-.359.031-.539c-.006-.18-.031-.358-.031-.539c0-8.54 7.165-15.461 16.001-15.461c8.837 0 16 6.921 16 15.461c0 .181-.021.359-.026.539c.006.18.026.357.026.539c-.001 8.54-7.163 15.461-16 15.461",fill:e?"#ffffff":"#1e293b",fillOpacity:e?.85:.8}),_.jsx("path",{d:"M3.481 7.421c.24-.941.715-.011.715-.011s.166 9.74 1.246 9.846c1.08.106.248-10.022 1.526-10.216c1.188-.189.51 10.377 1.592 10.27c1.078-.114 1.26-9.85 1.26-9.85s.48-.929.717.005c2.928 11.51.559 16.215.559 16.215s-.4.989-1.35.994c-.089-.005-.022 27.336-.028 31.012c.002 1.787-5.5 1.732-5.497-.047c.004-3.676.111-31.014.025-31.012c-.953 0-1.352-.988-1.352-.988s-2.36-4.702.587-16.218",fill:e?"#ffffff":"#1e293b",fillOpacity:1}),_.jsx("path",{d:"M55.62 7c1.238-.003 6.374 3.7 6.38 17.462c.006 4.401-2.395 4.4-2.391 7.153c.004 2.748.019 24.606.019 24.606s-2.634 1.807-4.592-.084L55 7.391c.002.001-.005-.392.62-.391",fill:e?"#ffffff":"#1e293b",fillOpacity:1})]}),"Sipariler"]}),b&&_.jsxs("div",{style:{padding:"0.5rem 1rem",background:"linear-gradient(135deg, #0f172a 0%, #1e293b 100%)",borderRadius:"8px",color:"white",fontSize:p?"0.75rem":"0.875rem",fontWeight:"500",boxShadow:"0 2px 4px rgba(15, 23, 42, 0.3)",border:"1px solid #334155"},children:[" ",b]})]}),_.jsxs("div",{style:{display:"grid",gridTemplateColumns:p?"repeat(2, 1fr)":"repeat(auto-fit, minmax(150px, 1fr))",gap:p?"1rem":"1.5rem",marginBottom:p?"1.5rem":"2rem"},children:[_.jsx(zf,{title:"Sipariler",value:F.new,color:"#f59e0b",isMobile:p,isDark:e}),_.jsx(zf,{title:"Hazrlanyor",value:F.preparing,color:"#8b5cf6",isMobile:p,isDark:e}),_.jsx(zf,{title:"Sipari Geliyor",value:F.delivering,color:"#3b82f6",isMobile:p,isDark:e}),_.jsx(zf,{title:"Tamamland",value:F.completed,color:"#10b981",isMobile:p,isDark:e}),_.jsx(zf,{title:"ptal Edildi",value:F.cancelled,color:"#ef4444",isMobile:p,isDark:e})]}),_.jsxs("div",{style:{background:e?"rgba(15, 23, 42, 0.85)":"white",padding:p?"0.75rem":"1rem",borderRadius:"8px",marginBottom:p?"1.5rem":"2rem",boxShadow:e?"0 25px 50px -12px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(139, 92, 246, 0.2)":"0 1px 3px rgba(0,0,0,0.1)",display:p?"grid":"flex",gridTemplateColumns:p?"repeat(2, 1fr)":"none",gap:"0.5rem",flexWrap:p?"nowrap":"wrap",border:e?"1px solid rgba(139, 92, 246, 0.3)":"none"},children:[_.jsxs("button",{onClick:()=>h("new"),style:{padding:p?"0.625rem 1rem":"0.75rem 1.5rem",background:f==="new"?"#f59e0b":e?"rgba(30, 41, 59, 0.6)":"#f1f5f9",color:f==="new"?"white":e?"#cbd5e1":"#1e293b",border:e?"1px solid rgba(255, 255, 255, 0.15)":"none",borderRadius:"6px",cursor:"pointer",fontSize:p?"0.875rem":"0.9375rem",fontWeight:"600",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"0.5rem",width:p?"100%":"auto",justifyContent:"center"},children:[" Sipariler",F.new>0&&_.jsx("span",{style:{background:f==="new"?"rgba(255,255,255,0.3)":"#f59e0b",color:"white",padding:"0.125rem 0.5rem",borderRadius:"12px",fontSize:"0.75rem",fontWeight:"600"},children:F.new})]}),_.jsxs("button",{onClick:()=>h("preparing"),style:{padding:p?"0.625rem 1rem":"0.75rem 1.5rem",background:f==="preparing"?"#8b5cf6":e?"rgba(30, 41, 59, 0.6)":"#f1f5f9",color:f==="preparing"?"white":e?"#cbd5e1":"#1e293b",border:e?"1px solid rgba(255, 255, 255, 0.15)":"none",borderRadius:"6px",cursor:"pointer",fontSize:p?"0.875rem":"0.9375rem",fontWeight:"600",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"0.5rem",width:p?"100%":"auto",justifyContent:"center"},children:[" Hazrlanyor",F.preparing>0&&_.jsx("span",{style:{background:f==="preparing"?"rgba(255,255,255,0.3)":"#8b5cf6",color:"white",padding:"0.125rem 0.5rem",borderRadius:"12px",fontSize:"0.75rem",fontWeight:"600"},children:F.preparing})]}),_.jsxs("button",{onClick:()=>h("delivering"),style:{padding:p?"0.625rem 1rem":"0.75rem 1.5rem",background:f==="delivering"?"#3b82f6":e?"rgba(30, 41, 59, 0.6)":"#f1f5f9",color:f==="delivering"?"white":e?"#cbd5e1":"#1e293b",border:e?"1px solid rgba(255, 255, 255, 0.15)":"none",borderRadius:"6px",cursor:"pointer",fontSize:p?"0.875rem":"0.9375rem",fontWeight:"600",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"0.5rem",width:p?"100%":"auto",justifyContent:"center"},children:[" Sipari Geliyor",F.delivering>0&&_.jsx("span",{style:{background:f==="delivering"?"rgba(255,255,255,0.3)":"#3b82f6",color:"white",padding:"0.125rem 0.5rem",borderRadius:"12px",fontSize:"0.75rem",fontWeight:"600"},children:F.delivering})]}),_.jsxs("button",{onClick:()=>h("completed"),style:{padding:p?"0.625rem 1rem":"0.75rem 1.5rem",background:f==="completed"?"#10b981":e?"rgba(30, 41, 59, 0.6)":"#f1f5f9",color:f==="completed"?"white":e?"#cbd5e1":"#1e293b",border:e?"1px solid rgba(255, 255, 255, 0.15)":"none",borderRadius:"6px",cursor:"pointer",fontSize:p?"0.875rem":"0.9375rem",fontWeight:"600",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"0.5rem",width:p?"100%":"auto",justifyContent:"center"},children:[" Tamamland",F.completed>0&&_.jsx("span",{style:{background:f==="completed"?"rgba(255,255,255,0.3)":"#10b981",color:"white",padding:"0.125rem 0.5rem",borderRadius:"12px",fontSize:"0.75rem",fontWeight:"600"},children:F.completed})]}),_.jsxs("button",{onClick:()=>h("cancelled"),style:{padding:p?"0.625rem 1rem":"0.75rem 1.5rem",background:f==="cancelled"?"#ef4444":e?"rgba(30, 41, 59, 0.6)":"#f1f5f9",color:f==="cancelled"?"white":e?"#cbd5e1":"#1e293b",border:e?"1px solid rgba(255, 255, 255, 0.15)":"none",borderRadius:"6px",cursor:"pointer",fontSize:p?"0.875rem":"0.9375rem",fontWeight:"600",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"0.5rem",width:p?"100%":"auto",justifyContent:"center"},children:[" ptal Edildi",F.cancelled>0&&_.jsx("span",{style:{background:f==="cancelled"?"rgba(255,255,255,0.3)":"#ef4444",color:"white",padding:"0.125rem 0.5rem",borderRadius:"12px",fontSize:"0.75rem",fontWeight:"600"},children:F.cancelled})]})]}),T&&B?_.jsx(Ga,{message:"Sipariler ykleniyor..."}):Y.length===0?_.jsx("div",{style:{background:e?"rgba(15, 23, 42, 0.85)":"white",padding:"3rem",borderRadius:"8px",textAlign:"center",boxShadow:e?"0 25px 50px -12px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(139, 92, 246, 0.2)":"0 1px 3px rgba(0,0,0,0.1)",border:e?"1px solid rgba(139, 92, 246, 0.3)":"none"},children:_.jsxs("p",{style:{color:e?"#cbd5e1":"#64748b",fontSize:p?"1rem":"1.125rem"},children:[f==="new"&&" Henz sipari yok",f==="preparing"&&" Henz hazrlanan sipari yok",f==="delivering"&&" Henz gelmekte olan sipari yok",f==="completed"&&" Henz tamamlanan sipari yok",f==="cancelled"&&" Henz iptal edilen sipari yok"]})}):_.jsx("div",{style:{display:"grid",gridTemplateColumns:p?"1fr":"repeat(auto-fill, minmax(350px, 1fr))",gap:p?"1rem":"1.5rem"},children:Y.map(X=>_.jsx(y7,{order:X,isMobile:p,selectedTab:f,getStatusColor:L,getStatusLabel:K,getStatusButtons:N,updateOrderStatus:I,formatDate:P,isDark:e},X.id))})]})})}function y7({order:t,isMobile:e,selectedTab:n,getStatusColor:i,getStatusLabel:s,getStatusButtons:o,updateOrderStatus:u,formatDate:c,isDark:f}){const h=o(t),[p,y]=W.useState(!1),b=t.order_items?.slice(0,3)||[],g=t.order_items?.slice(3)||[],S=g.length>0,E=()=>{if(f)return"rgba(15, 23, 42, 0.85)";const k=t.status;return k==="pending"?"#fffef7":k==="preparing"?"#fefaff":k==="delivering"?"#f8fbff":k==="completed"?"#f5fef7":k==="cancelled"?"#fff8f8":"white"};return _.jsxs("div",{style:{background:E(),padding:e?"1rem":"1.5rem",borderRadius:"8px",boxShadow:f?"0 25px 50px -12px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(139, 92, 246, 0.2)":"0 1px 3px rgba(0,0,0,0.1)",borderLeft:`4px solid ${i(t.status)}`,border:f?"1px solid rgba(139, 92, 246, 0.3)":"none"},children:[_.jsxs("div",{style:{display:"flex",flexDirection:e?"column":"row",justifyContent:"space-between",alignItems:e?"flex-start":"center",marginBottom:"1rem",gap:e?"0.75rem":0},children:[_.jsxs("div",{style:{flex:1},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",flexWrap:"wrap"},children:[_.jsxs("h3",{style:{margin:0,fontSize:e?"1.125rem":"1.25rem",color:f?"#ffffff":"#1e293b"},children:[" Sipari #",t.id.slice(0,8)]}),_.jsx("span",{style:{padding:"0.25rem 0.75rem",background:`${i(t.status)}20`,color:i(t.status),borderRadius:"6px",fontSize:e?"0.75rem":"0.875rem",fontWeight:"600"},children:s(t.status)})]}),_.jsxs("p",{style:{margin:"0.5rem 0 0 0",color:f?"#cbd5e1":"#64748b",fontSize:e?"0.75rem":"0.875rem"},children:[" ",c(t.created_at,t.status)]}),t.table_number&&_.jsxs("div",{style:{marginTop:"0.5rem",display:"inline-block",padding:"0.25rem 0.75rem",background:"linear-gradient(135deg, #9333ea 0%, #7c3aed 100%)",color:"white",borderRadius:"6px",fontSize:e?"0.75rem":"0.8125rem",fontWeight:"600",boxShadow:"0 2px 6px rgba(147, 51, 234, 0.4)"},children:[" Masa ",t.table_number]})]}),_.jsxs("div",{style:{fontSize:e?"0.875rem":"1rem",fontWeight:"500",color:f?"#cbd5e1":"#64748b",textAlign:"right"},children:[_.jsx("div",{style:{fontSize:e?"0.75rem":"0.8125rem",color:"#94a3b8"},children:"Toplam"}),_.jsx("div",{style:{marginTop:"0.25rem"},children:_.jsx(Br,{price:parseFloat(t.total_amount),fontSize:e?"0.875rem":"1rem",fontWeight:"500",color:f?"#cbd5e1":"#64748b"})})]})]}),t.order_items&&t.order_items.length>0&&_.jsxs("div",{style:{marginBottom:"1rem",padding:e?"1rem":"1.25rem",background:f?"rgba(30, 41, 59, 0.4)":"#f8fafc",borderRadius:"8px",border:f?"1px solid rgba(139, 92, 246, 0.2)":"1px solid #e2e8f0"},children:[b.map((k,T)=>_.jsxs("div",{style:{padding:T<b.length-1||S?"0.75rem 0":"0.75rem 0 0 0",borderBottom:T<b.length-1||S?"1px solid #cbd5e1":"none"},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[_.jsxs("span",{style:{fontSize:e?"1.25rem":"1.5rem",fontWeight:"bold",color:f?"#ffffff":"#1e293b",minWidth:"2rem",textAlign:"center"},children:[k.quantity,""]}),_.jsx("span",{style:{fontSize:e?"1.125rem":"1.25rem",fontWeight:"700",color:f?"#ffffff":"#1e293b",flex:1},children:k.product_name})]}),_.jsx("div",{style:{marginLeft:e?"2.5rem":"3rem",marginTop:"0.25rem"},children:_.jsxs("span",{style:{color:"#94a3b8",fontSize:e?"0.75rem":"0.8125rem",fontWeight:"400",display:"flex",alignItems:"center",gap:"0.25rem",flexWrap:"wrap"},children:[_.jsx(Br,{price:parseFloat(k.product_price),fontSize:e?"0.75rem":"0.8125rem",fontWeight:"400",color:"#94a3b8"}),_.jsxs("span",{children:[" ",k.quantity," ="]}),_.jsx(Br,{price:parseFloat(k.subtotal),fontSize:e?"0.8125rem":"0.875rem",fontWeight:"500",color:"#64748b"})]})}),k.notes&&_.jsx("div",{style:{marginLeft:e?"2.5rem":"3rem",marginTop:"0.5rem",padding:"0.375rem 0.75rem",background:"#fef3c7",borderRadius:"4px",borderLeft:"3px solid #f59e0b"},children:_.jsxs("p",{style:{margin:0,color:"#92400e",fontSize:e?"0.75rem":"0.8125rem",fontStyle:"italic",fontWeight:"500"},children:[" ",k.notes]})})]},k.id)),S&&_.jsxs(_.Fragment,{children:[!p&&_.jsxs("div",{style:{marginTop:"0.75rem"},children:[_.jsxs("button",{onClick:()=>y(!0),className:"pulse-button",style:{width:"100%",padding:"0.375rem 0.75rem",background:"#c7d2fe",color:"#1e293b",border:"2px solid #6366f1",borderRadius:"6px",cursor:"pointer",fontSize:e?"0.75rem":"0.8125rem",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.375rem",transition:"all 0.3s ease",boxShadow:"0 1px 3px rgba(99, 102, 241, 0.2)",position:"relative",overflow:"hidden",minHeight:"1.875rem",height:"1.875rem"},onMouseEnter:k=>{k.currentTarget.style.background="#6366f1",k.currentTarget.style.color="white",k.currentTarget.style.boxShadow="0 4px 12px rgba(99, 102, 241, 0.4)",k.currentTarget.style.transform="translateY(-1px)";const T=k.currentTarget.querySelector("span:first-child"),z=k.currentTarget.querySelector("span:last-child");T&&(T.style.color="white"),z&&(z.style.color="white")},onMouseLeave:k=>{k.currentTarget.style.background="#c7d2fe",k.currentTarget.style.color="#1e293b",k.currentTarget.style.boxShadow="0 1px 3px rgba(99, 102, 241, 0.2)",k.currentTarget.style.transform="translateY(0)";const T=k.currentTarget.querySelector("span:first-child"),z=k.currentTarget.querySelector("span:last-child");T&&(T.style.color="#1e293b"),z&&(z.style.color="#1e293b")},children:[_.jsx("span",{style:{fontSize:"1.125rem",transition:"all 0.3s ease",display:"inline-block",fontWeight:"bold",animation:"arrowPulse 1.5s ease-in-out infinite",color:"#1e293b"},children:""}),_.jsx("span",{style:{color:"#1e293b",transition:"color 0.3s ease"},children:`+ ${g.length} rn daha`})]}),_.jsx("style",{children:`
                    @keyframes arrowPulse {
                      0%, 100% {
                        opacity: 1;
                        transform: translateY(0) scale(1);
                      }
                      50% {
                        opacity: 0.6;
                        transform: translateY(4px) scale(1.1);
                      }
                    }
                    .pulse-button {
                      animation: backgroundPulse 2s ease-in-out infinite;
                    }
                    @keyframes backgroundPulse {
                      0%, 100% {
                        background-color: #c7d2fe;
                        border-color: #6366f1;
                      }
                      50% {
                        background-color: #a5b4fc;
                        border-color: #818cf8;
                        box-shadow: 0 2px 8px rgba(99, 102, 241, 0.3);
                      }
                    }
                  `})]}),p&&_.jsxs("div",{style:{marginTop:"0.75rem",paddingTop:"0.75rem",borderTop:"2px solid #e2e8f0",animation:"slideDown 0.3s ease"},children:[g.map((k,T)=>_.jsxs("div",{style:{padding:T<g.length-1?"0.75rem 0":"0.75rem 0 0 0",borderBottom:T<g.length-1?"1px solid #cbd5e1":"none"},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[_.jsxs("span",{style:{fontSize:e?"1.25rem":"1.5rem",fontWeight:"bold",color:"#1e293b",minWidth:"2rem",textAlign:"center"},children:[k.quantity,""]}),_.jsx("span",{style:{fontSize:e?"1.125rem":"1.25rem",fontWeight:"700",color:"#1e293b",flex:1},children:k.product_name})]}),_.jsx("div",{style:{marginLeft:e?"2.5rem":"3rem",marginTop:"0.25rem"},children:_.jsxs("span",{style:{color:"#94a3b8",fontSize:e?"0.75rem":"0.8125rem",fontWeight:"400",display:"flex",alignItems:"center",gap:"0.25rem",flexWrap:"wrap"},children:[_.jsx(Br,{price:parseFloat(k.product_price),fontSize:e?"0.75rem":"0.8125rem",fontWeight:"400",color:"#94a3b8"}),_.jsxs("span",{children:[" ",k.quantity," ="]}),_.jsx(Br,{price:parseFloat(k.subtotal),fontSize:e?"0.8125rem":"0.875rem",fontWeight:"500",color:"#64748b"})]})}),k.notes&&_.jsx("div",{style:{marginLeft:e?"2.5rem":"3rem",marginTop:"0.5rem",padding:"0.375rem 0.75rem",background:"#fef3c7",borderRadius:"4px",borderLeft:"3px solid #f59e0b"},children:_.jsxs("p",{style:{margin:0,color:"#92400e",fontSize:e?"0.75rem":"0.8125rem",fontStyle:"italic",fontWeight:"500"},children:[" ",k.notes]})})]},k.id)),_.jsx("div",{style:{marginTop:"0.75rem",paddingTop:"0.75rem",borderTop:"1px solid #cbd5e1"},children:_.jsxs("button",{onClick:()=>y(!1),style:{width:"100%",padding:"0.375rem 0.75rem",background:"transparent",color:"#6366f1",border:"2px solid #6366f1",borderRadius:"6px",cursor:"pointer",fontSize:e?"0.75rem":"0.8125rem",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.375rem",transition:"all 0.3s ease",minHeight:"1.875rem",height:"1.875rem"},onMouseEnter:k=>{k.currentTarget.style.background="#6366f1",k.currentTarget.style.color="white"},onMouseLeave:k=>{k.currentTarget.style.background="transparent",k.currentTarget.style.color="#6366f1"},children:[_.jsx("span",{style:{fontSize:"0.875rem",transform:"rotate(180deg)",transition:"transform 0.2s ease",display:"inline-block"},children:""}),_.jsx("span",{children:"Daha Az Gster"})]})})]})]})]}),t.notes&&_.jsx("div",{style:{marginBottom:"1rem",padding:e?"0.75rem":"1rem",background:"#fef3c7",borderRadius:"6px",borderLeft:"3px solid #f59e0b"},children:_.jsxs("p",{style:{margin:0,color:"#92400e",fontSize:e?"0.875rem":"0.9375rem"},children:[_.jsx("strong",{children:" Not:"})," ",t.notes]})}),h.length>0&&_.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.75rem",marginTop:"1rem"},children:h.map((k,T)=>_.jsxs("button",{onClick:()=>u(t.id,k.action),style:{padding:e?"0.75rem 1.25rem":"0.875rem 1.75rem",background:k.color,color:"white",border:"none",borderRadius:"8px",fontSize:e?"0.875rem":"0.9375rem",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",boxShadow:"0 2px 8px rgba(0,0,0,0.15)",transition:"all 0.2s ease",minWidth:e?"120px":"140px",justifyContent:"center",letterSpacing:"0.01em"},onMouseEnter:z=>{z.currentTarget.style.transform="translateY(-2px)",z.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.25)",z.currentTarget.style.opacity="0.95"},onMouseLeave:z=>{z.currentTarget.style.transform="translateY(0)",z.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.15)",z.currentTarget.style.opacity="1"},onMouseDown:z=>{z.currentTarget.style.transform="translateY(0) scale(0.98)"},onMouseUp:z=>{z.currentTarget.style.transform="translateY(-2px) scale(1)"},children:[k.icon&&_.jsx("span",{style:{fontSize:"1.125rem",lineHeight:1},children:k.icon}),_.jsx("span",{children:k.label})]},`${k.action}-${T}`))})]})}function zf({title:t,value:e,color:n,isMobile:i,isDark:s}){return _.jsxs("div",{style:{background:s?"rgba(15, 23, 42, 0.85)":"white",padding:i?"1rem":"1.5rem",borderRadius:"8px",boxShadow:s?"0 25px 50px -12px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(139, 92, 246, 0.2)":"0 1px 3px rgba(0,0,0,0.1)",borderTop:`3px solid ${n}`,border:s?"1px solid rgba(139, 92, 246, 0.3)":"none"},children:[_.jsx("p",{style:{margin:0,color:s?"#cbd5e1":"#64748b",fontSize:i?"0.75rem":"0.875rem",marginBottom:"0.5rem"},children:t}),_.jsx("p",{style:{margin:0,fontSize:i?"1.5rem":"2rem",fontWeight:"bold",color:s?"#ffffff":"#1e293b"},children:e})]})}function b7(t,e={}){const[n,i]=W.useState([]),[s,o]=W.useState(!0),[u,c]=W.useState(null),{status:f=null,limit:h=null,orderBy:p="created_at",ascending:y=!1}=e;return W.useEffect(()=>{if(!t){o(!1);return}(async()=>{console.log("Fetching orders from Supabase...",{businessId:t,status:f,orderBy:p,ascending:y});try{o(!0),c(null);let S=ht.from("orders").select(`
            *,
            order_items (
              id,
              product_name,
              product_price,
              quantity,
              notes,
              subtotal
            )
          `).eq("business_id",t);f&&(S=S.eq("status",f)),S=S.order(p,{ascending:y}),h&&(S=S.limit(h));const{data:E,error:k}=await S;if(k)throw k;i(E||[])}catch(S){c(S.message),console.error("Orders fetch error:",S)}finally{o(!1)}})();const g=ht.channel(`orders:${t}`).on("postgres_changes",{event:"*",schema:"public",table:"orders",filter:`business_id=eq.${t}`},S=>{console.log("Realtime order change:",S.eventType,S),S.eventType==="INSERT"&&ht.from("orders").select(`
                *,
                order_items (
                  id,
                  product_name,
                  product_price,
                  quantity,
                  notes,
                  subtotal
                )
              `).eq("id",S.new.id).single().then(({data:E,error:k})=>{E&&!k&&i(T=>T.find(B=>B.id===E.id)?T.map(B=>B.id===E.id?E:B):[E,...T])}),S.eventType==="UPDATE"&&ht.from("orders").select(`
                *,
                order_items (
                  id,
                  product_name,
                  product_price,
                  quantity,
                  notes,
                  subtotal
                )
              `).eq("id",S.new.id).single().then(({data:E,error:k})=>{E&&!k&&i(T=>T.map(z=>z.id===E.id?E:z))}),S.eventType==="DELETE"&&(console.log("Order deleted from Supabase:",S.old.id),i(E=>{const k=E.filter(T=>T.id!==S.old.id);return console.log("Orders after delete:",k.length,"remaining"),k}))}).subscribe();return()=>{ht.removeChannel(g)}},[t,f,h,p,y]),{orders:n,loading:s,error:u}}const v7="modulepreload",w7=function(t){return"/erzurumkafe/"+t},X5={},r1=function(e,n,i){let s=Promise.resolve();if(n&&n.length>0){let f=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=u?.nonce||u?.getAttribute("nonce");s=f(n.map(h=>{if(h=w7(h),h in X5)return;X5[h]=!0;const p=h.endsWith(".css"),y=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${y}`))return;const b=document.createElement("link");if(b.rel=p?"stylesheet":v7,p||(b.as="script"),b.crossOrigin="",b.href=h,c&&b.setAttribute("nonce",c),document.head.appendChild(b),p)return new Promise((g,S)=>{b.addEventListener("load",g),b.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${h}`)))})}))}function o(u){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=u,window.dispatchEvent(c),!c.defaultPrevented)throw u}return s.then(u=>{for(const c of u||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})};function Rn(t){"@babel/helpers - typeof";return Rn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rn(t)}var Cs=Uint8Array,Ea=Uint16Array,Tg=Int32Array,Lg=new Cs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Cg=new Cs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),J5=new Cs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Xv=function(t,e){for(var n=new Ea(31),i=0;i<31;++i)n[i]=e+=1<<t[i-1];for(var s=new Tg(n[30]),i=1;i<30;++i)for(var o=n[i];o<n[i+1];++o)s[o]=o-n[i]<<5|i;return{b:n,r:s}},Jv=Xv(Lg,2),x7=Jv.b,W1=Jv.r;x7[28]=258,W1[258]=28;var _7=Xv(Cg,0),Q5=_7.r,G1=new Ea(32768);for(var Zn=0;Zn<32768;++Zn){var kl=(Zn&43690)>>1|(Zn&21845)<<1;kl=(kl&52428)>>2|(kl&13107)<<2,kl=(kl&61680)>>4|(kl&3855)<<4,G1[Zn]=((kl&65280)>>8|(kl&255)<<8)>>1}var Gf=(function(t,e,n){for(var i=t.length,s=0,o=new Ea(e);s<i;++s)t[s]&&++o[t[s]-1];var u=new Ea(e);for(s=1;s<e;++s)u[s]=u[s-1]+o[s-1]<<1;var c;if(n){c=new Ea(1<<e);var f=15-e;for(s=0;s<i;++s)if(t[s])for(var h=s<<4|t[s],p=e-t[s],y=u[t[s]-1]++<<p,b=y|(1<<p)-1;y<=b;++y)c[G1[y]>>f]=h}else for(c=new Ea(i),s=0;s<i;++s)t[s]&&(c[s]=G1[u[t[s]-1]++]>>15-t[s]);return c}),Eu=new Cs(288);for(var Zn=0;Zn<144;++Zn)Eu[Zn]=8;for(var Zn=144;Zn<256;++Zn)Eu[Zn]=9;for(var Zn=256;Zn<280;++Zn)Eu[Zn]=7;for(var Zn=280;Zn<288;++Zn)Eu[Zn]=8;var Zh=new Cs(32);for(var Zn=0;Zn<32;++Zn)Zh[Zn]=5;var S7=Gf(Eu,9,0),A7=Gf(Zh,5,0),Qv=function(t){return(t+7)/8|0},E7=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new Cs(t.subarray(e,n))},Io=function(t,e,n){n<<=e&7;var i=e/8|0;t[i]|=n,t[i+1]|=n>>8},Uf=function(t,e,n){n<<=e&7;var i=e/8|0;t[i]|=n,t[i+1]|=n>>8,t[i+2]|=n>>16},i1=function(t,e){for(var n=[],i=0;i<t.length;++i)t[i]&&n.push({s:i,f:t[i]});var s=n.length,o=n.slice();if(!s)return{t:ew,l:0};if(s==1){var u=new Cs(n[0].s+1);return u[n[0].s]=1,{t:u,l:1}}n.sort(function(ne,H){return ne.f-H.f}),n.push({s:-1,f:25001});var c=n[0],f=n[1],h=0,p=1,y=2;for(n[0]={s:-1,f:c.f+f.f,l:c,r:f};p!=s-1;)c=n[n[h].f<n[y].f?h++:y++],f=n[h!=p&&n[h].f<n[y].f?h++:y++],n[p++]={s:-1,f:c.f+f.f,l:c,r:f};for(var b=o[0].s,i=1;i<s;++i)o[i].s>b&&(b=o[i].s);var g=new Ea(b+1),S=Y1(n[p-1],g,0);if(S>e){var i=0,E=0,k=S-e,T=1<<k;for(o.sort(function(H,te){return g[te.s]-g[H.s]||H.f-te.f});i<s;++i){var z=o[i].s;if(g[z]>e)E+=T-(1<<S-g[z]),g[z]=e;else break}for(E>>=k;E>0;){var B=o[i].s;g[B]<e?E-=1<<e-g[B]++-1:++i}for(;i>=0&&E;--i){var D=o[i].s;g[D]==e&&(--g[D],++E)}S=e}return{t:new Cs(g),l:S}},Y1=function(t,e,n){return t.s==-1?Math.max(Y1(t.l,e,n+1),Y1(t.r,e,n+1)):e[t.s]=n},Z5=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Ea(++e),i=0,s=t[0],o=1,u=function(f){n[i++]=f},c=1;c<=e;++c)if(t[c]==s&&c!=e)++o;else{if(!s&&o>2){for(;o>138;o-=138)u(32754);o>2&&(u(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(u(s),--o;o>6;o-=6)u(8304);o>2&&(u(o-3<<5|8208),o=0)}for(;o--;)u(s);o=1,s=t[c]}return{c:n.subarray(0,i),n:e}},Bf=function(t,e){for(var n=0,i=0;i<e.length;++i)n+=t[i]*e[i];return n},Zv=function(t,e,n){var i=n.length,s=Qv(e+2);t[s]=i&255,t[s+1]=i>>8,t[s+2]=t[s]^255,t[s+3]=t[s+1]^255;for(var o=0;o<i;++o)t[s+o+4]=n[o];return(s+4+i)*8},ey=function(t,e,n,i,s,o,u,c,f,h,p){Io(e,p++,n),++s[256];for(var y=i1(s,15),b=y.t,g=y.l,S=i1(o,15),E=S.t,k=S.l,T=Z5(b),z=T.c,B=T.n,D=Z5(E),ne=D.c,H=D.n,te=new Ea(19),I=0;I<z.length;++I)++te[z[I]&31];for(var I=0;I<ne.length;++I)++te[ne[I]&31];for(var L=i1(te,7),K=L.t,N=L.l,P=19;P>4&&!K[J5[P-1]];--P);var Y=h+5<<3,F=Bf(s,Eu)+Bf(o,Zh)+u,X=Bf(s,b)+Bf(o,E)+u+14+3*P+Bf(te,K)+2*te[16]+3*te[17]+7*te[18];if(f>=0&&Y<=F&&Y<=X)return Zv(e,p,t.subarray(f,f+h));var O,R,se,le;if(Io(e,p,1+(X<F)),p+=2,X<F){O=Gf(b,g,0),R=b,se=Gf(E,k,0),le=E;var me=Gf(K,N,0);Io(e,p,B-257),Io(e,p+5,H-1),Io(e,p+10,P-4),p+=14;for(var I=0;I<P;++I)Io(e,p+3*I,K[J5[I]]);p+=3*P;for(var Z=[z,ne],j=0;j<2;++j)for(var G=Z[j],I=0;I<G.length;++I){var V=G[I]&31;Io(e,p,me[V]),p+=K[V],V>15&&(Io(e,p,G[I]>>5&127),p+=G[I]>>12)}}else O=S7,R=Eu,se=A7,le=Zh;for(var I=0;I<c;++I){var ee=i[I];if(ee>255){var V=ee>>18&31;Uf(e,p,O[V+257]),p+=R[V+257],V>7&&(Io(e,p,ee>>23&31),p+=Lg[V]);var q=ee&31;Uf(e,p,se[q]),p+=le[q],q>3&&(Uf(e,p,ee>>5&8191),p+=Cg[q])}else Uf(e,p,O[ee]),p+=R[ee]}return Uf(e,p,O[256]),p+R[256]},k7=new Tg([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),ew=new Cs(0),T7=function(t,e,n,i,s,o){var u=o.z||t.length,c=new Cs(i+u+5*(1+Math.ceil(u/7e3))+s),f=c.subarray(i,c.length-s),h=o.l,p=(o.r||0)&7;if(e){p&&(f[0]=o.r>>3);for(var y=k7[e-1],b=y>>13,g=y&8191,S=(1<<n)-1,E=o.p||new Ea(32768),k=o.h||new Ea(S+1),T=Math.ceil(n/3),z=2*T,B=function(be){return(t[be]^t[be+1]<<T^t[be+2]<<z)&S},D=new Tg(25e3),ne=new Ea(288),H=new Ea(32),te=0,I=0,L=o.i||0,K=0,N=o.w||0,P=0;L+2<u;++L){var Y=B(L),F=L&32767,X=k[Y];if(E[F]=X,k[Y]=F,N<=L){var O=u-L;if((te>7e3||K>24576)&&(O>423||!h)){p=ey(t,f,0,D,ne,H,I,K,P,L-P,p),K=te=I=0,P=L;for(var R=0;R<286;++R)ne[R]=0;for(var R=0;R<30;++R)H[R]=0}var se=2,le=0,me=g,Z=F-X&32767;if(O>2&&Y==B(L-Z))for(var j=Math.min(b,O)-1,G=Math.min(32767,L),V=Math.min(258,O);Z<=G&&--me&&F!=X;){if(t[L+se]==t[L+se-Z]){for(var ee=0;ee<V&&t[L+ee]==t[L+ee-Z];++ee);if(ee>se){if(se=ee,le=Z,ee>j)break;for(var q=Math.min(Z,ee-2),ae=0,R=0;R<q;++R){var pe=L-Z+R&32767,ye=E[pe],_e=pe-ye&32767;_e>ae&&(ae=_e,X=pe)}}}F=X,X=E[F],Z+=F-X&32767}if(le){D[K++]=268435456|W1[se]<<18|Q5[le];var Be=W1[se]&31,Qe=Q5[le]&31;I+=Lg[Be]+Cg[Qe],++ne[257+Be],++H[Qe],N=L+se,++te}else D[K++]=t[L],++ne[t[L]]}}for(L=Math.max(L,N);L<u;++L)D[K++]=t[L],++ne[t[L]];p=ey(t,f,h,D,ne,H,I,K,P,L-P,p),h||(o.r=p&7|f[p/8|0]<<3,p-=7,o.h=k,o.p=E,o.i=L,o.w=N)}else{for(var L=o.w||0;L<u+h;L+=65535){var nt=L+65535;nt>=u&&(f[p/8|0]=h,nt=u),p=Zv(f,p+1,t.subarray(L,nt))}o.i=u}return E7(c,0,i+Qv(p)+s)},tw=function(){var t=1,e=0;return{p:function(n){for(var i=t,s=e,o=n.length|0,u=0;u!=o;){for(var c=Math.min(u+2655,o);u<c;++u)s+=i+=n[u];i=(i&65535)+15*(i>>16),s=(s&65535)+15*(s>>16)}t=i,e=s},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},L7=function(t,e,n,i,s){if(!s&&(s={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),u=new Cs(o.length+t.length);u.set(o),u.set(t,o.length),t=u,s.w=o.length}return T7(t,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,i,s)},nw=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},C7=function(t,e){var n=e.level,i=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=i<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var s=tw();s.p(e.dictionary),nw(t,2,s.d())}};function V1(t,e){e||(e={});var n=tw();n.p(t);var i=L7(t,e,e.dictionary?6:2,4);return C7(i,e),nw(i,i.length-4,n.d()),i}var j7=typeof TextDecoder<"u"&&new TextDecoder,N7=0;try{j7.decode(ew,{stream:!0}),N7=1}catch{}function R7(t){if(Array.isArray(t))return t}function O7(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var i,s,o,u,c=[],f=!0,h=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(f=(i=o.call(n)).done)&&(c.push(i.value),c.length!==e);f=!0);}catch(p){h=!0,s=p}finally{try{if(!f&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(h)throw s}}return c}}function ty(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function D7(t,e){if(t){if(typeof t=="string")return ty(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ty(t,e):void 0}}function I7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ny(t,e){return R7(t)||O7(t,e)||D7(t,e)||I7()}function ry(t,e="utf8"){return new TextDecoder(e).decode(t)}const M7=new TextEncoder;function z7(t){return M7.encode(t)}const U7=1024*8,B7=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),a1={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class jg{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=U7,n={}){let i=!1;typeof e=="number"?e=new ArrayBuffer(e):(i=!0,this.lastWrittenByte=e.byteLength);const s=n.offset?n.offset>>>0:0,o=e.byteLength-s;let u=s;(ArrayBuffer.isView(e)||e instanceof jg)&&(e.byteLength!==e.buffer.byteLength&&(u=e.byteOffset+s),e=e.buffer),i?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=u,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,u,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const i=(this.offset+e)*2,s=new Uint8Array(i);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=i,this.byteLength=i,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const i=a1[n].BYTES_PER_ELEMENT*e,s=this.byteOffset+this.offset,o=this.buffer.slice(s,s+i);if(this.littleEndian===B7&&n!=="uint8"&&n!=="int8"){const c=new Uint8Array(this.buffer.slice(s,s+i));c.reverse();const f=new a1[n](c.buffer);return this.offset+=i,f.reverse(),f}const u=new a1[n](o);return this.offset+=i,u}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let i=0;i<e;i++)n+=this.readChar();return n}readUtf8(e=1){return ry(this.readBytes(e))}decodeText(e=1,n="utf8"){return ry(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(z7(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Jc(t){let e=t.length;for(;--e>=0;)t[e]=0}const P7=3,q7=258,rw=29,F7=256,H7=F7+1+rw,iw=30,$7=512,W7=new Array((H7+2)*2);Jc(W7);const G7=new Array(iw*2);Jc(G7);const Y7=new Array($7);Jc(Y7);const V7=new Array(q7-P7+1);Jc(V7);const K7=new Array(rw);Jc(K7);const X7=new Array(iw);Jc(X7);const J7=(t,e,n,i)=>{let s=t&65535|0,o=t>>>16&65535|0,u=0;for(;n!==0;){u=n>2e3?2e3:n,n-=u;do s=s+e[i++]|0,o=o+s|0;while(--u);s%=65521,o%=65521}return s|o<<16|0};var K1=J7;const Q7=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},Z7=new Uint32Array(Q7()),eE=(t,e,n,i)=>{const s=Z7,o=i+n;t^=-1;for(let u=i;u<o;u++)t=t>>>8^s[(t^e[u])&255];return t^-1};var Qs=eE,X1={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},aw={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const tE=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var nE=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const i in n)tE(n,i)&&(t[i]=n[i])}}return t},rE=t=>{let e=0;for(let i=0,s=t.length;i<s;i++)e+=t[i].length;const n=new Uint8Array(e);for(let i=0,s=0,o=t.length;i<o;i++){let u=t[i];n.set(u,s),s+=u.length}return n},sw={assign:nE,flattenChunks:rE};let ow=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{ow=!1}const id=new Uint8Array(256);for(let t=0;t<256;t++)id[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;id[254]=id[254]=1;var iE=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,i,s,o,u=t.length,c=0;for(s=0;s<u;s++)n=t.charCodeAt(s),(n&64512)===55296&&s+1<u&&(i=t.charCodeAt(s+1),(i&64512)===56320&&(n=65536+(n-55296<<10)+(i-56320),s++)),c+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(c),o=0,s=0;o<c;s++)n=t.charCodeAt(s),(n&64512)===55296&&s+1<u&&(i=t.charCodeAt(s+1),(i&64512)===56320&&(n=65536+(n-55296<<10)+(i-56320),s++)),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|n&63):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|n&63):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|n&63);return e};const aE=(t,e)=>{if(e<65534&&t.subarray&&ow)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let i=0;i<e;i++)n+=String.fromCharCode(t[i]);return n};var sE=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let i,s;const o=new Array(n*2);for(s=0,i=0;i<n;){let u=t[i++];if(u<128){o[s++]=u;continue}let c=id[u];if(c>4){o[s++]=65533,i+=c-1;continue}for(u&=c===2?31:c===3?15:7;c>1&&i<n;)u=u<<6|t[i++]&63,c--;if(c>1){o[s++]=65533;continue}u<65536?o[s++]=u:(u-=65536,o[s++]=55296|u>>10&1023,o[s++]=56320|u&1023)}return aE(o,s)},oE=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+id[t[n]]>e?n:e},J1={string2buf:iE,buf2string:sE,utf8border:oE};function lE(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var uE=lE;const bh=16209,cE=16191;var fE=function(e,n){let i,s,o,u,c,f,h,p,y,b,g,S,E,k,T,z,B,D,ne,H,te,I,L,K;const N=e.state;i=e.next_in,L=e.input,s=i+(e.avail_in-5),o=e.next_out,K=e.output,u=o-(n-e.avail_out),c=o+(e.avail_out-257),f=N.dmax,h=N.wsize,p=N.whave,y=N.wnext,b=N.window,g=N.hold,S=N.bits,E=N.lencode,k=N.distcode,T=(1<<N.lenbits)-1,z=(1<<N.distbits)-1;e:do{S<15&&(g+=L[i++]<<S,S+=8,g+=L[i++]<<S,S+=8),B=E[g&T];t:for(;;){if(D=B>>>24,g>>>=D,S-=D,D=B>>>16&255,D===0)K[o++]=B&65535;else if(D&16){ne=B&65535,D&=15,D&&(S<D&&(g+=L[i++]<<S,S+=8),ne+=g&(1<<D)-1,g>>>=D,S-=D),S<15&&(g+=L[i++]<<S,S+=8,g+=L[i++]<<S,S+=8),B=k[g&z];n:for(;;){if(D=B>>>24,g>>>=D,S-=D,D=B>>>16&255,D&16){if(H=B&65535,D&=15,S<D&&(g+=L[i++]<<S,S+=8,S<D&&(g+=L[i++]<<S,S+=8)),H+=g&(1<<D)-1,H>f){e.msg="invalid distance too far back",N.mode=bh;break e}if(g>>>=D,S-=D,D=o-u,H>D){if(D=H-D,D>p&&N.sane){e.msg="invalid distance too far back",N.mode=bh;break e}if(te=0,I=b,y===0){if(te+=h-D,D<ne){ne-=D;do K[o++]=b[te++];while(--D);te=o-H,I=K}}else if(y<D){if(te+=h+y-D,D-=y,D<ne){ne-=D;do K[o++]=b[te++];while(--D);if(te=0,y<ne){D=y,ne-=D;do K[o++]=b[te++];while(--D);te=o-H,I=K}}}else if(te+=y-D,D<ne){ne-=D;do K[o++]=b[te++];while(--D);te=o-H,I=K}for(;ne>2;)K[o++]=I[te++],K[o++]=I[te++],K[o++]=I[te++],ne-=3;ne&&(K[o++]=I[te++],ne>1&&(K[o++]=I[te++]))}else{te=o-H;do K[o++]=K[te++],K[o++]=K[te++],K[o++]=K[te++],ne-=3;while(ne>2);ne&&(K[o++]=K[te++],ne>1&&(K[o++]=K[te++]))}}else if((D&64)===0){B=k[(B&65535)+(g&(1<<D)-1)];continue n}else{e.msg="invalid distance code",N.mode=bh;break e}break}}else if((D&64)===0){B=E[(B&65535)+(g&(1<<D)-1)];continue t}else if(D&32){N.mode=cE;break e}else{e.msg="invalid literal/length code",N.mode=bh;break e}break}}while(i<s&&o<c);ne=S>>3,i-=ne,S-=ne<<3,g&=(1<<S)-1,e.next_in=i,e.next_out=o,e.avail_in=i<s?5+(s-i):5-(i-s),e.avail_out=o<c?257+(c-o):257-(o-c),N.hold=g,N.bits=S};const kc=15,iy=852,ay=592,sy=0,s1=1,oy=2,dE=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),hE=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),pE=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),gE=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),mE=(t,e,n,i,s,o,u,c)=>{const f=c.bits;let h=0,p=0,y=0,b=0,g=0,S=0,E=0,k=0,T=0,z=0,B,D,ne,H,te,I=null,L;const K=new Uint16Array(kc+1),N=new Uint16Array(kc+1);let P=null,Y,F,X;for(h=0;h<=kc;h++)K[h]=0;for(p=0;p<i;p++)K[e[n+p]]++;for(g=f,b=kc;b>=1&&K[b]===0;b--);if(g>b&&(g=b),b===0)return s[o++]=1<<24|64<<16|0,s[o++]=1<<24|64<<16|0,c.bits=1,0;for(y=1;y<b&&K[y]===0;y++);for(g<y&&(g=y),k=1,h=1;h<=kc;h++)if(k<<=1,k-=K[h],k<0)return-1;if(k>0&&(t===sy||b!==1))return-1;for(N[1]=0,h=1;h<kc;h++)N[h+1]=N[h]+K[h];for(p=0;p<i;p++)e[n+p]!==0&&(u[N[e[n+p]]++]=p);if(t===sy?(I=P=u,L=20):t===s1?(I=dE,P=hE,L=257):(I=pE,P=gE,L=0),z=0,p=0,h=y,te=o,S=g,E=0,ne=-1,T=1<<g,H=T-1,t===s1&&T>iy||t===oy&&T>ay)return 1;for(;;){Y=h-E,u[p]+1<L?(F=0,X=u[p]):u[p]>=L?(F=P[u[p]-L],X=I[u[p]-L]):(F=96,X=0),B=1<<h-E,D=1<<S,y=D;do D-=B,s[te+(z>>E)+D]=Y<<24|F<<16|X|0;while(D!==0);for(B=1<<h-1;z&B;)B>>=1;if(B!==0?(z&=B-1,z+=B):z=0,p++,--K[h]===0){if(h===b)break;h=e[n+u[p]]}if(h>g&&(z&H)!==ne){for(E===0&&(E=g),te+=y,S=h-E,k=1<<S;S+E<b&&(k-=K[S+E],!(k<=0));)S++,k<<=1;if(T+=1<<S,t===s1&&T>iy||t===oy&&T>ay)return 1;ne=z&H,s[ne]=g<<24|S<<16|te-o|0}}return z!==0&&(s[te+z]=h-E<<24|64<<16|0),c.bits=g,0};var Yf=mE;const yE=0,lw=1,uw=2,{Z_FINISH:ly,Z_BLOCK:bE,Z_TREES:vh,Z_OK:ku,Z_STREAM_END:vE,Z_NEED_DICT:wE,Z_STREAM_ERROR:Va,Z_DATA_ERROR:cw,Z_MEM_ERROR:fw,Z_BUF_ERROR:xE,Z_DEFLATED:uy}=aw,x0=16180,cy=16181,fy=16182,dy=16183,hy=16184,py=16185,gy=16186,my=16187,yy=16188,by=16189,e0=16190,Mo=16191,o1=16192,vy=16193,l1=16194,wy=16195,xy=16196,_y=16197,Sy=16198,wh=16199,xh=16200,Ay=16201,Ey=16202,ky=16203,Ty=16204,Ly=16205,u1=16206,Cy=16207,jy=16208,ir=16209,dw=16210,hw=16211,_E=852,SE=592,AE=15,EE=AE,Ny=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function kE(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Lu=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<x0||e.mode>hw?1:0},pw=t=>{if(Lu(t))return Va;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=x0,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(_E),e.distcode=e.distdyn=new Int32Array(SE),e.sane=1,e.back=-1,ku},gw=t=>{if(Lu(t))return Va;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,pw(t)},mw=(t,e)=>{let n;if(Lu(t))return Va;const i=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Va:(i.window!==null&&i.wbits!==e&&(i.window=null),i.wrap=n,i.wbits=e,gw(t))},yw=(t,e)=>{if(!t)return Va;const n=new kE;t.state=n,n.strm=t,n.window=null,n.mode=x0;const i=mw(t,e);return i!==ku&&(t.state=null),i},TE=t=>yw(t,EE);let Ry=!0,c1,f1;const LE=t=>{if(Ry){c1=new Int32Array(512),f1=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Yf(lw,t.lens,0,288,c1,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Yf(uw,t.lens,0,32,f1,0,t.work,{bits:5}),Ry=!1}t.lencode=c1,t.lenbits=9,t.distcode=f1,t.distbits=5},bw=(t,e,n,i)=>{let s;const o=t.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),i>=o.wsize?(o.window.set(e.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(s=o.wsize-o.wnext,s>i&&(s=i),o.window.set(e.subarray(n-i,n-i+s),o.wnext),i-=s,i?(o.window.set(e.subarray(n-i,n),0),o.wnext=i,o.whave=o.wsize):(o.wnext+=s,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=s))),0},CE=(t,e)=>{let n,i,s,o,u,c,f,h,p,y,b,g,S,E,k=0,T,z,B,D,ne,H,te,I;const L=new Uint8Array(4);let K,N;const P=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Lu(t)||!t.output||!t.input&&t.avail_in!==0)return Va;n=t.state,n.mode===Mo&&(n.mode=o1),u=t.next_out,s=t.output,f=t.avail_out,o=t.next_in,i=t.input,c=t.avail_in,h=n.hold,p=n.bits,y=c,b=f,I=ku;e:for(;;)switch(n.mode){case x0:if(n.wrap===0){n.mode=o1;break}for(;p<16;){if(c===0)break e;c--,h+=i[o++]<<p,p+=8}if(n.wrap&2&&h===35615){n.wbits===0&&(n.wbits=15),n.check=0,L[0]=h&255,L[1]=h>>>8&255,n.check=Qs(n.check,L,2,0),h=0,p=0,n.mode=cy;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((h&255)<<8)+(h>>8))%31){t.msg="incorrect header check",n.mode=ir;break}if((h&15)!==uy){t.msg="unknown compression method",n.mode=ir;break}if(h>>>=4,p-=4,te=(h&15)+8,n.wbits===0&&(n.wbits=te),te>15||te>n.wbits){t.msg="invalid window size",n.mode=ir;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=h&512?by:Mo,h=0,p=0;break;case cy:for(;p<16;){if(c===0)break e;c--,h+=i[o++]<<p,p+=8}if(n.flags=h,(n.flags&255)!==uy){t.msg="unknown compression method",n.mode=ir;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=ir;break}n.head&&(n.head.text=h>>8&1),n.flags&512&&n.wrap&4&&(L[0]=h&255,L[1]=h>>>8&255,n.check=Qs(n.check,L,2,0)),h=0,p=0,n.mode=fy;case fy:for(;p<32;){if(c===0)break e;c--,h+=i[o++]<<p,p+=8}n.head&&(n.head.time=h),n.flags&512&&n.wrap&4&&(L[0]=h&255,L[1]=h>>>8&255,L[2]=h>>>16&255,L[3]=h>>>24&255,n.check=Qs(n.check,L,4,0)),h=0,p=0,n.mode=dy;case dy:for(;p<16;){if(c===0)break e;c--,h+=i[o++]<<p,p+=8}n.head&&(n.head.xflags=h&255,n.head.os=h>>8),n.flags&512&&n.wrap&4&&(L[0]=h&255,L[1]=h>>>8&255,n.check=Qs(n.check,L,2,0)),h=0,p=0,n.mode=hy;case hy:if(n.flags&1024){for(;p<16;){if(c===0)break e;c--,h+=i[o++]<<p,p+=8}n.length=h,n.head&&(n.head.extra_len=h),n.flags&512&&n.wrap&4&&(L[0]=h&255,L[1]=h>>>8&255,n.check=Qs(n.check,L,2,0)),h=0,p=0}else n.head&&(n.head.extra=null);n.mode=py;case py:if(n.flags&1024&&(g=n.length,g>c&&(g=c),g&&(n.head&&(te=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(i.subarray(o,o+g),te)),n.flags&512&&n.wrap&4&&(n.check=Qs(n.check,i,g,o)),c-=g,o+=g,n.length-=g),n.length))break e;n.length=0,n.mode=gy;case gy:if(n.flags&2048){if(c===0)break e;g=0;do te=i[o+g++],n.head&&te&&n.length<65536&&(n.head.name+=String.fromCharCode(te));while(te&&g<c);if(n.flags&512&&n.wrap&4&&(n.check=Qs(n.check,i,g,o)),c-=g,o+=g,te)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=my;case my:if(n.flags&4096){if(c===0)break e;g=0;do te=i[o+g++],n.head&&te&&n.length<65536&&(n.head.comment+=String.fromCharCode(te));while(te&&g<c);if(n.flags&512&&n.wrap&4&&(n.check=Qs(n.check,i,g,o)),c-=g,o+=g,te)break e}else n.head&&(n.head.comment=null);n.mode=yy;case yy:if(n.flags&512){for(;p<16;){if(c===0)break e;c--,h+=i[o++]<<p,p+=8}if(n.wrap&4&&h!==(n.check&65535)){t.msg="header crc mismatch",n.mode=ir;break}h=0,p=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Mo;break;case by:for(;p<32;){if(c===0)break e;c--,h+=i[o++]<<p,p+=8}t.adler=n.check=Ny(h),h=0,p=0,n.mode=e0;case e0:if(n.havedict===0)return t.next_out=u,t.avail_out=f,t.next_in=o,t.avail_in=c,n.hold=h,n.bits=p,wE;t.adler=n.check=1,n.mode=Mo;case Mo:if(e===bE||e===vh)break e;case o1:if(n.last){h>>>=p&7,p-=p&7,n.mode=u1;break}for(;p<3;){if(c===0)break e;c--,h+=i[o++]<<p,p+=8}switch(n.last=h&1,h>>>=1,p-=1,h&3){case 0:n.mode=vy;break;case 1:if(LE(n),n.mode=wh,e===vh){h>>>=2,p-=2;break e}break;case 2:n.mode=xy;break;case 3:t.msg="invalid block type",n.mode=ir}h>>>=2,p-=2;break;case vy:for(h>>>=p&7,p-=p&7;p<32;){if(c===0)break e;c--,h+=i[o++]<<p,p+=8}if((h&65535)!==(h>>>16^65535)){t.msg="invalid stored block lengths",n.mode=ir;break}if(n.length=h&65535,h=0,p=0,n.mode=l1,e===vh)break e;case l1:n.mode=wy;case wy:if(g=n.length,g){if(g>c&&(g=c),g>f&&(g=f),g===0)break e;s.set(i.subarray(o,o+g),u),c-=g,o+=g,f-=g,u+=g,n.length-=g;break}n.mode=Mo;break;case xy:for(;p<14;){if(c===0)break e;c--,h+=i[o++]<<p,p+=8}if(n.nlen=(h&31)+257,h>>>=5,p-=5,n.ndist=(h&31)+1,h>>>=5,p-=5,n.ncode=(h&15)+4,h>>>=4,p-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=ir;break}n.have=0,n.mode=_y;case _y:for(;n.have<n.ncode;){for(;p<3;){if(c===0)break e;c--,h+=i[o++]<<p,p+=8}n.lens[P[n.have++]]=h&7,h>>>=3,p-=3}for(;n.have<19;)n.lens[P[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,K={bits:n.lenbits},I=Yf(yE,n.lens,0,19,n.lencode,0,n.work,K),n.lenbits=K.bits,I){t.msg="invalid code lengths set",n.mode=ir;break}n.have=0,n.mode=Sy;case Sy:for(;n.have<n.nlen+n.ndist;){for(;k=n.lencode[h&(1<<n.lenbits)-1],T=k>>>24,z=k>>>16&255,B=k&65535,!(T<=p);){if(c===0)break e;c--,h+=i[o++]<<p,p+=8}if(B<16)h>>>=T,p-=T,n.lens[n.have++]=B;else{if(B===16){for(N=T+2;p<N;){if(c===0)break e;c--,h+=i[o++]<<p,p+=8}if(h>>>=T,p-=T,n.have===0){t.msg="invalid bit length repeat",n.mode=ir;break}te=n.lens[n.have-1],g=3+(h&3),h>>>=2,p-=2}else if(B===17){for(N=T+3;p<N;){if(c===0)break e;c--,h+=i[o++]<<p,p+=8}h>>>=T,p-=T,te=0,g=3+(h&7),h>>>=3,p-=3}else{for(N=T+7;p<N;){if(c===0)break e;c--,h+=i[o++]<<p,p+=8}h>>>=T,p-=T,te=0,g=11+(h&127),h>>>=7,p-=7}if(n.have+g>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=ir;break}for(;g--;)n.lens[n.have++]=te}}if(n.mode===ir)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=ir;break}if(n.lenbits=9,K={bits:n.lenbits},I=Yf(lw,n.lens,0,n.nlen,n.lencode,0,n.work,K),n.lenbits=K.bits,I){t.msg="invalid literal/lengths set",n.mode=ir;break}if(n.distbits=6,n.distcode=n.distdyn,K={bits:n.distbits},I=Yf(uw,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,K),n.distbits=K.bits,I){t.msg="invalid distances set",n.mode=ir;break}if(n.mode=wh,e===vh)break e;case wh:n.mode=xh;case xh:if(c>=6&&f>=258){t.next_out=u,t.avail_out=f,t.next_in=o,t.avail_in=c,n.hold=h,n.bits=p,fE(t,b),u=t.next_out,s=t.output,f=t.avail_out,o=t.next_in,i=t.input,c=t.avail_in,h=n.hold,p=n.bits,n.mode===Mo&&(n.back=-1);break}for(n.back=0;k=n.lencode[h&(1<<n.lenbits)-1],T=k>>>24,z=k>>>16&255,B=k&65535,!(T<=p);){if(c===0)break e;c--,h+=i[o++]<<p,p+=8}if(z&&(z&240)===0){for(D=T,ne=z,H=B;k=n.lencode[H+((h&(1<<D+ne)-1)>>D)],T=k>>>24,z=k>>>16&255,B=k&65535,!(D+T<=p);){if(c===0)break e;c--,h+=i[o++]<<p,p+=8}h>>>=D,p-=D,n.back+=D}if(h>>>=T,p-=T,n.back+=T,n.length=B,z===0){n.mode=Ly;break}if(z&32){n.back=-1,n.mode=Mo;break}if(z&64){t.msg="invalid literal/length code",n.mode=ir;break}n.extra=z&15,n.mode=Ay;case Ay:if(n.extra){for(N=n.extra;p<N;){if(c===0)break e;c--,h+=i[o++]<<p,p+=8}n.length+=h&(1<<n.extra)-1,h>>>=n.extra,p-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=Ey;case Ey:for(;k=n.distcode[h&(1<<n.distbits)-1],T=k>>>24,z=k>>>16&255,B=k&65535,!(T<=p);){if(c===0)break e;c--,h+=i[o++]<<p,p+=8}if((z&240)===0){for(D=T,ne=z,H=B;k=n.distcode[H+((h&(1<<D+ne)-1)>>D)],T=k>>>24,z=k>>>16&255,B=k&65535,!(D+T<=p);){if(c===0)break e;c--,h+=i[o++]<<p,p+=8}h>>>=D,p-=D,n.back+=D}if(h>>>=T,p-=T,n.back+=T,z&64){t.msg="invalid distance code",n.mode=ir;break}n.offset=B,n.extra=z&15,n.mode=ky;case ky:if(n.extra){for(N=n.extra;p<N;){if(c===0)break e;c--,h+=i[o++]<<p,p+=8}n.offset+=h&(1<<n.extra)-1,h>>>=n.extra,p-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=ir;break}n.mode=Ty;case Ty:if(f===0)break e;if(g=b-f,n.offset>g){if(g=n.offset-g,g>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=ir;break}g>n.wnext?(g-=n.wnext,S=n.wsize-g):S=n.wnext-g,g>n.length&&(g=n.length),E=n.window}else E=s,S=u-n.offset,g=n.length;g>f&&(g=f),f-=g,n.length-=g;do s[u++]=E[S++];while(--g);n.length===0&&(n.mode=xh);break;case Ly:if(f===0)break e;s[u++]=n.length,f--,n.mode=xh;break;case u1:if(n.wrap){for(;p<32;){if(c===0)break e;c--,h|=i[o++]<<p,p+=8}if(b-=f,t.total_out+=b,n.total+=b,n.wrap&4&&b&&(t.adler=n.check=n.flags?Qs(n.check,s,b,u-b):K1(n.check,s,b,u-b)),b=f,n.wrap&4&&(n.flags?h:Ny(h))!==n.check){t.msg="incorrect data check",n.mode=ir;break}h=0,p=0}n.mode=Cy;case Cy:if(n.wrap&&n.flags){for(;p<32;){if(c===0)break e;c--,h+=i[o++]<<p,p+=8}if(n.wrap&4&&h!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=ir;break}h=0,p=0}n.mode=jy;case jy:I=vE;break e;case ir:I=cw;break e;case dw:return fw;case hw:default:return Va}return t.next_out=u,t.avail_out=f,t.next_in=o,t.avail_in=c,n.hold=h,n.bits=p,(n.wsize||b!==t.avail_out&&n.mode<ir&&(n.mode<u1||e!==ly))&&bw(t,t.output,t.next_out,b-t.avail_out),y-=t.avail_in,b-=t.avail_out,t.total_in+=y,t.total_out+=b,n.total+=b,n.wrap&4&&b&&(t.adler=n.check=n.flags?Qs(n.check,s,b,t.next_out-b):K1(n.check,s,b,t.next_out-b)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Mo?128:0)+(n.mode===wh||n.mode===l1?256:0),(y===0&&b===0||e===ly)&&I===ku&&(I=xE),I},jE=t=>{if(Lu(t))return Va;let e=t.state;return e.window&&(e.window=null),t.state=null,ku},NE=(t,e)=>{if(Lu(t))return Va;const n=t.state;return(n.wrap&2)===0?Va:(n.head=e,e.done=!1,ku)},RE=(t,e)=>{const n=e.length;let i,s,o;return Lu(t)||(i=t.state,i.wrap!==0&&i.mode!==e0)?Va:i.mode===e0&&(s=1,s=K1(s,e,n,0),s!==i.check)?cw:(o=bw(t,e,n,n),o?(i.mode=dw,fw):(i.havedict=1,ku))};var OE=gw,DE=mw,IE=pw,ME=TE,zE=yw,UE=CE,BE=jE,PE=NE,qE=RE,FE="pako inflate (from Nodeca project)",Uo={inflateReset:OE,inflateReset2:DE,inflateResetKeep:IE,inflateInit:ME,inflateInit2:zE,inflate:UE,inflateEnd:BE,inflateGetHeader:PE,inflateSetDictionary:qE,inflateInfo:FE};function HE(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var $E=HE;const vw=Object.prototype.toString,{Z_NO_FLUSH:WE,Z_FINISH:GE,Z_OK:ad,Z_STREAM_END:d1,Z_NEED_DICT:h1,Z_STREAM_ERROR:YE,Z_DATA_ERROR:Oy,Z_MEM_ERROR:VE}=aw;function pd(t){this.options=sw.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new uE,this.strm.avail_out=0;let n=Uo.inflateInit2(this.strm,e.windowBits);if(n!==ad)throw new Error(X1[n]);if(this.header=new $E,Uo.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=J1.string2buf(e.dictionary):vw.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=Uo.inflateSetDictionary(this.strm,e.dictionary),n!==ad)))throw new Error(X1[n])}pd.prototype.push=function(t,e){const n=this.strm,i=this.options.chunkSize,s=this.options.dictionary;let o,u,c;if(this.ended)return!1;for(e===~~e?u=e:u=e===!0?GE:WE,vw.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),o=Uo.inflate(n,u),o===h1&&s&&(o=Uo.inflateSetDictionary(n,s),o===ad?o=Uo.inflate(n,u):o===Oy&&(o=h1));n.avail_in>0&&o===d1&&n.state.wrap>0&&t[n.next_in]!==0;)Uo.inflateReset(n),o=Uo.inflate(n,u);switch(o){case YE:case Oy:case h1:case VE:return this.onEnd(o),this.ended=!0,!1}if(c=n.avail_out,n.next_out&&(n.avail_out===0||o===d1))if(this.options.to==="string"){let f=J1.utf8border(n.output,n.next_out),h=n.next_out-f,p=J1.buf2string(n.output,f);n.next_out=h,n.avail_out=i-h,h&&n.output.set(n.output.subarray(f,f+h),0),this.onData(p)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(o===ad&&c===0)){if(o===d1)return o=Uo.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};pd.prototype.onData=function(t){this.chunks.push(t)};pd.prototype.onEnd=function(t){t===ad&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=sw.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function KE(t,e){const n=new pd(e);if(n.push(t),n.err)throw n.msg||X1[n.err];return n.result}var XE=pd,JE=KE,QE={Inflate:XE,inflate:JE};const{Inflate:ZE,inflate:ek}=QE;var Dy=ZE,tk=ek;const ww=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;ww[t]=e}const Iy=4294967295;function nk(t,e,n){let i=t;for(let s=0;s<n;s++)i=ww[(i^e[s])&255]^i>>>8;return i}function rk(t,e){return(nk(Iy,t,e)^Iy)>>>0}function My(t,e,n){const i=t.readUint32(),s=rk(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(s!==i)throw new Error(`CRC mismatch for chunk ${n}. Expected ${i}, found ${s}`)}function xw(t,e,n){for(let i=0;i<n;i++)e[i]=t[i]}function _w(t,e,n,i){let s=0;for(;s<i;s++)e[s]=t[s];for(;s<n;s++)e[s]=t[s]+e[s-i]&255}function Sw(t,e,n,i){let s=0;if(n.length===0)for(;s<i;s++)e[s]=t[s];else for(;s<i;s++)e[s]=t[s]+n[s]&255}function Aw(t,e,n,i,s){let o=0;if(n.length===0){for(;o<s;o++)e[o]=t[o];for(;o<i;o++)e[o]=t[o]+(e[o-s]>>1)&255}else{for(;o<s;o++)e[o]=t[o]+(n[o]>>1)&255;for(;o<i;o++)e[o]=t[o]+(e[o-s]+n[o]>>1)&255}}function Ew(t,e,n,i,s){let o=0;if(n.length===0){for(;o<s;o++)e[o]=t[o];for(;o<i;o++)e[o]=t[o]+e[o-s]&255}else{for(;o<s;o++)e[o]=t[o]+n[o]&255;for(;o<i;o++)e[o]=t[o]+ik(e[o-s],n[o],n[o-s])&255}}function ik(t,e,n){const i=t+e-n,s=Math.abs(i-t),o=Math.abs(i-e),u=Math.abs(i-n);return s<=o&&s<=u?t:o<=u?e:n}function ak(t,e,n,i,s,o){switch(t){case 0:xw(e,n,s);break;case 1:_w(e,n,s,o);break;case 2:Sw(e,n,i,s);break;case 3:Aw(e,n,i,s,o);break;case 4:Ew(e,n,i,s,o);break;default:throw new Error(`Unsupported filter: ${t}`)}}const sk=new Uint16Array([255]),ok=new Uint8Array(sk.buffer),lk=ok[0]===255;function uk(t){const{data:e,width:n,height:i,channels:s,depth:o}=t,u=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],c=Math.ceil(o/8)*s,f=new Uint8Array(i*n*c);let h=0;for(let p=0;p<7;p++){const y=u[p],b=Math.ceil((n-y.x)/y.xStep),g=Math.ceil((i-y.y)/y.yStep);if(b<=0||g<=0)continue;const S=b*c,E=new Uint8Array(S);for(let k=0;k<g;k++){const T=e[h++],z=e.subarray(h,h+S);h+=S;const B=new Uint8Array(S);ak(T,z,B,E,S,c),E.set(B);for(let D=0;D<b;D++){const ne=y.x+D*y.xStep,H=y.y+k*y.yStep;if(!(ne>=n||H>=i))for(let te=0;te<c;te++)f[(H*n+ne)*c+te]=B[D*c+te]}}}if(o===16){const p=new Uint16Array(f.buffer);if(lk)for(let y=0;y<p.length;y++)p[y]=ck(p[y]);return p}else return f}function ck(t){return(t&255)<<8|t>>8&255}const fk=new Uint16Array([255]),dk=new Uint8Array(fk.buffer),hk=dk[0]===255,pk=new Uint8Array(0);function zy(t){const{data:e,width:n,height:i,channels:s,depth:o}=t,u=Math.ceil(o/8)*s,c=Math.ceil(o/8*s*n),f=new Uint8Array(i*c);let h=pk,p=0,y,b;for(let g=0;g<i;g++){switch(y=e.subarray(p+1,p+1+c),b=f.subarray(g*c,(g+1)*c),e[p]){case 0:xw(y,b,c);break;case 1:_w(y,b,c,u);break;case 2:Sw(y,b,h,c);break;case 3:Aw(y,b,h,c,u);break;case 4:Ew(y,b,h,c,u);break;default:throw new Error(`Unsupported filter: ${e[p]}`)}h=b,p+=c+1}if(o===16){const g=new Uint16Array(f.buffer);if(hk)for(let S=0;S<g.length;S++)g[S]=gk(g[S]);return g}else return f}function gk(t){return(t&255)<<8|t>>8&255}const Nh=Uint8Array.of(137,80,78,71,13,10,26,10);function Uy(t){if(!mk(t.readBytes(Nh.length)))throw new Error("wrong PNG signature")}function mk(t){if(t.length<Nh.length)return!1;for(let e=0;e<Nh.length;e++)if(t[e]!==Nh[e])return!1;return!0}const yk="tEXt",bk=0,kw=new TextDecoder("latin1");function vk(t){if(xk(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const wk=/^[\u0000-\u00FF]*$/;function xk(t){if(!wk.test(t))throw new Error("invalid latin1 text")}function _k(t,e,n){const i=Tw(e);t[i]=Sk(e,n-i.length-1)}function Tw(t){for(t.mark();t.readByte()!==bk;);const e=t.offset;t.reset();const n=kw.decode(t.readBytes(e-t.offset-1));return t.skip(1),vk(n),n}function Sk(t,e){return kw.decode(t.readBytes(e))}const xa={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},p1={UNKNOWN:-1,DEFLATE:0},By={UNKNOWN:-1,ADAPTIVE:0},g1={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},_h={NONE:0,BACKGROUND:1,PREVIOUS:2},m1={SOURCE:0,OVER:1};class Ak extends jg{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,n={}){super(e);const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new Dy,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=p1.UNKNOWN,this._filterMethod=By.UNKNOWN,this._interlaceMethod=g1.UNKNOWN,this._colorType=xa.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Uy(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeChunk(e,n)}return this.decodeImage(),this._png}decodeApng(){for(Uy(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(e,n)}return this.decodeApngImage(),this._apng}decodeChunk(e,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case yk:_k(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-i!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?My(this,e+4,n):this.skip(4)}decodeApngChunk(e,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,n),this.offset=i+e;break}if(this.offset-i!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?My(this,e+4,n):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=Ek(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case xa.GREYSCALE:i=1;break;case xa.TRUECOLOUR:i=3;break;case xa.INDEXED_COLOUR:i=1;break;case xa.GREYSCALE_ALPHA:i=2;break;case xa.TRUECOLOUR_ALPHA:i=4;break;case xa.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==p1.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const n=e/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<n;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const n=e,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let n=e,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case xa.GREYSCALE:case xa.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let n=0;n<e/2;n++)this._transparency[n]=this.readUint16();break}case xa.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let n=0;for(;n<e;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case xa.UNKNOWN:case xa.GREYSCALE_ALPHA:case xa.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const n=Tw(this),i=this.readUint8();if(i!==p1.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(e-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:tk(s)}}decodepHYs(){const e=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:e,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const n={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(e);if(i){if(i.data=zy({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const s=this._apng.frames.at(e-1);this.disposeFrame(i,s,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(e,n,i){switch(e.disposeOp){case _h.NONE:break;case _h.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let o=0;o<this._png.width;o++){const u=(s*e.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)i.data[u+c]=0}break;case _h.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,n){const i=1<<this._png.depth,s=(o,u)=>{const c=((o+n.yOffset)*this._png.width+n.xOffset+u)*this._png.channels,f=(o*n.width+u)*this._png.channels;return{index:c,frameIndex:f}};switch(n.blendOp){case m1.SOURCE:for(let o=0;o<n.height;o++)for(let u=0;u<n.width;u++){const{index:c,frameIndex:f}=s(o,u);for(let h=0;h<this._png.channels;h++)e.data[c+h]=n.data[f+h]}break;case m1.OVER:for(let o=0;o<n.height;o++)for(let u=0;u<n.width;u++){const{index:c,frameIndex:f}=s(o,u);for(let h=0;h<this._png.channels;h++){const p=n.data[f+this._png.channels-1]/i,y=h%(this._png.channels-1)===0?1:n.data[f+h],b=Math.floor(p*y+(1-p)*e.data[c+h]);e.data[c+h]+=b}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==By.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===g1.NO_INTERLACE)this._png.data=zy({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===g1.ADAM7)this._png.data=uk({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,n=this._frames.at(-1);n?n.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:_h.NONE,blendOp:m1.SOURCE,data:e}),this._inflator=new Dy,this._writingDataChunks=!1}}function Ek(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var Py;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(Py||(Py={}));function kk(t,e){return new Ak(t,e).decode()}var Wt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function y1(){Wt.console&&typeof Wt.console.log=="function"&&Wt.console.log.apply(Wt.console,arguments)}var Hn={log:y1,warn:function(t){Wt.console&&(typeof Wt.console.warn=="function"?Wt.console.warn.apply(Wt.console,arguments):y1.call(null,arguments))},error:function(t){Wt.console&&(typeof Wt.console.error=="function"?Wt.console.error.apply(Wt.console,arguments):y1(t))}};function b1(t,e,n){var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){mu(i.response,e,n)},i.onerror=function(){Hn.error("could not download file")},i.send()}function qy(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Sh(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var mu=Wt.saveAs||((typeof window>"u"?"undefined":Rn(window))!=="object"||window!==Wt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var i=Wt.URL||Wt.webkitURL,s=document.createElement("a");e=e||t.name||"download",s.download=e,s.rel="noopener",typeof t=="string"?(s.href=t,s.origin!==location.origin?qy(s.href)?b1(t,e,n):Sh(s,s.target="_blank"):Sh(s)):(s.href=i.createObjectURL(t),setTimeout(function(){i.revokeObjectURL(s.href)},4e4),setTimeout(function(){Sh(s)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(qy(t))b1(t,e,n);else{var i=document.createElement("a");i.href=t,i.target="_blank",setTimeout(function(){Sh(i)})}else navigator.msSaveOrOpenBlob((function(s,o){return o===void 0?o={autoBom:!1}:Rn(o)!=="object"&&(Hn.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s})(t,n),e)}:function(t,e,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof t=="string")return b1(t,e,n);var s=t.type==="application/octet-stream",o=/constructor/i.test(Wt.HTMLElement)||Wt.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||s&&o)&&(typeof FileReader>"u"?"undefined":Rn(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var p=c.result;p=u?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=p:location=p,i=null},c.readAsDataURL(t)}else{var f=Wt.URL||Wt.webkitURL,h=f.createObjectURL(t);i?i.location=h:location.href=h,i=null,setTimeout(function(){f.revokeObjectURL(h)},4e4)}});function Lw(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],i=0;i<n.length;i++){var s=n[i].re,o=n[i].process,u=s.exec(t);u&&(e=o(u),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),f=this.g.toString(16),h=this.b.toString(16);return c.length==1&&(c="0"+c),f.length==1&&(f="0"+f),h.length==1&&(h="0"+h),"#"+c+f+h}}var Rh=Wt.atob.bind(Wt),Fy=Wt.btoa.bind(Wt);function v1(t,e){var n=t[0],i=t[1],s=t[2],o=t[3];n=Si(n,i,s,o,e[0],7,-680876936),o=Si(o,n,i,s,e[1],12,-389564586),s=Si(s,o,n,i,e[2],17,606105819),i=Si(i,s,o,n,e[3],22,-1044525330),n=Si(n,i,s,o,e[4],7,-176418897),o=Si(o,n,i,s,e[5],12,1200080426),s=Si(s,o,n,i,e[6],17,-1473231341),i=Si(i,s,o,n,e[7],22,-45705983),n=Si(n,i,s,o,e[8],7,1770035416),o=Si(o,n,i,s,e[9],12,-1958414417),s=Si(s,o,n,i,e[10],17,-42063),i=Si(i,s,o,n,e[11],22,-1990404162),n=Si(n,i,s,o,e[12],7,1804603682),o=Si(o,n,i,s,e[13],12,-40341101),s=Si(s,o,n,i,e[14],17,-1502002290),n=Ai(n,i=Si(i,s,o,n,e[15],22,1236535329),s,o,e[1],5,-165796510),o=Ai(o,n,i,s,e[6],9,-1069501632),s=Ai(s,o,n,i,e[11],14,643717713),i=Ai(i,s,o,n,e[0],20,-373897302),n=Ai(n,i,s,o,e[5],5,-701558691),o=Ai(o,n,i,s,e[10],9,38016083),s=Ai(s,o,n,i,e[15],14,-660478335),i=Ai(i,s,o,n,e[4],20,-405537848),n=Ai(n,i,s,o,e[9],5,568446438),o=Ai(o,n,i,s,e[14],9,-1019803690),s=Ai(s,o,n,i,e[3],14,-187363961),i=Ai(i,s,o,n,e[8],20,1163531501),n=Ai(n,i,s,o,e[13],5,-1444681467),o=Ai(o,n,i,s,e[2],9,-51403784),s=Ai(s,o,n,i,e[7],14,1735328473),n=Ei(n,i=Ai(i,s,o,n,e[12],20,-1926607734),s,o,e[5],4,-378558),o=Ei(o,n,i,s,e[8],11,-2022574463),s=Ei(s,o,n,i,e[11],16,1839030562),i=Ei(i,s,o,n,e[14],23,-35309556),n=Ei(n,i,s,o,e[1],4,-1530992060),o=Ei(o,n,i,s,e[4],11,1272893353),s=Ei(s,o,n,i,e[7],16,-155497632),i=Ei(i,s,o,n,e[10],23,-1094730640),n=Ei(n,i,s,o,e[13],4,681279174),o=Ei(o,n,i,s,e[0],11,-358537222),s=Ei(s,o,n,i,e[3],16,-722521979),i=Ei(i,s,o,n,e[6],23,76029189),n=Ei(n,i,s,o,e[9],4,-640364487),o=Ei(o,n,i,s,e[12],11,-421815835),s=Ei(s,o,n,i,e[15],16,530742520),n=ki(n,i=Ei(i,s,o,n,e[2],23,-995338651),s,o,e[0],6,-198630844),o=ki(o,n,i,s,e[7],10,1126891415),s=ki(s,o,n,i,e[14],15,-1416354905),i=ki(i,s,o,n,e[5],21,-57434055),n=ki(n,i,s,o,e[12],6,1700485571),o=ki(o,n,i,s,e[3],10,-1894986606),s=ki(s,o,n,i,e[10],15,-1051523),i=ki(i,s,o,n,e[1],21,-2054922799),n=ki(n,i,s,o,e[8],6,1873313359),o=ki(o,n,i,s,e[15],10,-30611744),s=ki(s,o,n,i,e[6],15,-1560198380),i=ki(i,s,o,n,e[13],21,1309151649),n=ki(n,i,s,o,e[4],6,-145523070),o=ki(o,n,i,s,e[11],10,-1120210379),s=ki(s,o,n,i,e[2],15,718787259),i=ki(i,s,o,n,e[9],21,-343485551),t[0]=Rl(n,t[0]),t[1]=Rl(i,t[1]),t[2]=Rl(s,t[2]),t[3]=Rl(o,t[3])}function _0(t,e,n,i,s,o){return e=Rl(Rl(e,t),Rl(i,o)),Rl(e<<s|e>>>32-s,n)}function Si(t,e,n,i,s,o,u){return _0(e&n|~e&i,t,e,s,o,u)}function Ai(t,e,n,i,s,o,u){return _0(e&i|n&~i,t,e,s,o,u)}function Ei(t,e,n,i,s,o,u){return _0(e^n^i,t,e,s,o,u)}function ki(t,e,n,i,s,o,u){return _0(n^(e|~i),t,e,s,o,u)}function Cw(t){var e,n=t.length,i=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)v1(i,Tk(t.substring(e-64,e)));t=t.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)s[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(v1(i,s),e=0;e<16;e++)s[e]=0;return s[14]=8*n,v1(i,s),i}function Tk(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var Hy="0123456789abcdef".split("");function Lk(t){for(var e="",n=0;n<4;n++)e+=Hy[t>>8*n+4&15]+Hy[t>>8*n&15];return e}function Ck(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Q1(t){return Cw(t).map(Ck).join("")}var jk=(function(t){for(var e=0;e<t.length;e++)t[e]=Lk(t[e]);return t.join("")})(Cw("hello"))!="5d41402abc4b2a76b9719d911017c592";function Rl(t,e){if(jk){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}function Z1(t,e){var n,i,s,o;if(t!==n){for(var u=(s=t,o=1+(256/t.length|0),new Array(o+1).join(s)),c=[],f=0;f<256;f++)c[f]=f;var h=0;for(f=0;f<256;f++){var p=c[f];h=(h+p+u.charCodeAt(f))%256,c[f]=c[h],c[h]=p}n=t,i=c}else c=i;var y=e.length,b=0,g=0,S="";for(f=0;f<y;f++)g=(g+(p=c[b=(b+1)%256]))%256,c[b]=c[g],c[g]=p,u=c[(c[b]+c[g])%256],S+=String.fromCharCode(e.charCodeAt(f)^u);return S}var $y={print:4,modify:8,copy:16,"annot-forms":32};function Oc(t,e,n,i){this.v=1,this.r=2;var s=192;t.forEach(function(c){if($y.perm!==void 0)throw new Error("Invalid permission: "+c);s+=$y[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),u=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,u),this.P=-(1+(255^s)),this.encryptionKey=Q1(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=Z1(this.encryptionKey,this.padding)}function Dc(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,i=0;i<n;i++){var s=t.charCodeAt(i);e+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):t[i]}return e}function Wy(t){if(Rn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,i,s){if(s=s||!1,typeof n!="string"||typeof i!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var o=Math.random().toString(35);return e[n][o]=[i,!!s],o},this.unsubscribe=function(n){for(var i in e)if(e[i][n])return delete e[i][n],Object.keys(e[i]).length===0&&delete e[i],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var i=Array.prototype.slice.call(arguments,1),s=[];for(var o in e[n]){var u=e[n][o];try{u[0].apply(t,i)}catch(c){Wt.console&&Hn.error("jsPDF PubSub Error",c.message,c)}u[1]&&s.push(o)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function t0(t){if(!(this instanceof t0))return new t0(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function jw(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function vu(t,e,n,i,s){if(!(this instanceof vu))return new vu(t,e,n,i,s);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,jw.call(this,i,s)}function Uc(t,e,n,i,s){if(!(this instanceof Uc))return new Uc(t,e,n,i,s);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,jw.call(this,i,s)}function Ot(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],s=arguments[2],o=arguments[3],u=[],c=1,f=16,h="S",p=null;Rn(t=t||{})==="object"&&(n=t.orientation,i=t.unit||i,s=t.format||s,o=t.compress||t.compressPdf||o,(p=t.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),c=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(f=t.floatPrecision),h=t.defaultPathOperation||"S"),u=t.filters||(o===!0?["FlateEncode"]:u),i=i||"mm",n=(""+(n||"P")).toLowerCase();var y=t.putOnlyUsedFonts||!1,b={},g={internal:{},__private__:{}};g.__private__.PubSub=Wy;var S="1.3",E=g.__private__.getPdfVersion=function(){return S};g.__private__.setPdfVersion=function(A){S=A};var k={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return k};var T=g.__private__.getPageFormat=function(A){return k[A]};s=s||"a4";var z="compat",B="advanced",D=z;function ne(){this.saveGraphicsState(),$(new Lt(Ke,0,0,-Ke,0,rs()*Ke).toString()+" cm"),this.setFontSize(this.getFontSize()/Ke),h="n",D=B}function H(){this.restoreGraphicsState(),h="S",D=z}var te=g.__private__.combineFontStyleAndFontWeight=function(A,J){if(A=="bold"&&J=="normal"||A=="bold"&&J==400||A=="normal"&&J=="italic"||A=="bold"&&J=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return J&&(A=J==400||J==="normal"?A==="italic"?"italic":"normal":J!=700&&J!=="bold"||A!=="normal"?(J==700?"bold":J)+""+A:"bold"),A};g.advancedAPI=function(A){var J=D===z;return J&&ne.call(this),typeof A!="function"||(A(this),J&&H.call(this)),this},g.compatAPI=function(A){var J=D===B;return J&&H.call(this),typeof A!="function"||(A(this),J&&ne.call(this)),this},g.isAdvancedAPI=function(){return D===B};var I,L=function(A){if(D!==B)throw new Error(A+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},K=g.roundToPrecision=g.__private__.roundToPrecision=function(A,J){var he=e||J;if(isNaN(A)||isNaN(he))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return A.toFixed(he).replace(/0+$/,"")};I=g.hpf=g.__private__.hpf=typeof f=="number"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return K(A,f)}:f==="smart"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return K(A,A>-1&&A<1?16:5)}:function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return K(A,16)};var N=g.f2=g.__private__.f2=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f2");return K(A,2)},P=g.__private__.f3=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f3");return K(A,3)},Y=g.scale=g.__private__.scale=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.scale");return D===z?A*Ke:D===B?A:void 0},F=function(A){return Y((function(J){return D===z?rs()-J:D===B?J:void 0})(A))};g.__private__.setPrecision=g.setPrecision=function(A){typeof parseInt(A,10)=="number"&&(e=parseInt(A,10))};var X,O="00000000000000000000000000000000",R=g.__private__.getFileId=function(){return O},se=g.__private__.setFileId=function(A){return O=A!==void 0&&/^[a-fA-F0-9]{32}$/.test(A)?A.toUpperCase():O.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(kr=new Oc(p.userPermissions,p.userPassword,p.ownerPassword,O)),O};g.setFileId=function(A){return se(A),this},g.getFileId=function(){return R()};var le=g.__private__.convertDateToPDFDate=function(A){var J=A.getTimezoneOffset(),he=J<0?"+":"-",xe=Math.floor(Math.abs(J/60)),Le=Math.abs(J%60),Ze=[he,V(xe),"'",V(Le),"'"].join("");return["D:",A.getFullYear(),V(A.getMonth()+1),V(A.getDate()),V(A.getHours()),V(A.getMinutes()),V(A.getSeconds()),Ze].join("")},me=g.__private__.convertPDFDateToDate=function(A){var J=parseInt(A.substr(2,4),10),he=parseInt(A.substr(6,2),10)-1,xe=parseInt(A.substr(8,2),10),Le=parseInt(A.substr(10,2),10),Ze=parseInt(A.substr(12,2),10),st=parseInt(A.substr(14,2),10);return new Date(J,he,xe,Le,Ze,st,0)},Z=g.__private__.setCreationDate=function(A){var J;if(A===void 0&&(A=new Date),A instanceof Date)J=le(A);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(A))throw new Error("Invalid argument passed to jsPDF.setCreationDate");J=A}return X=J},j=g.__private__.getCreationDate=function(A){var J=X;return A==="jsDate"&&(J=me(X)),J};g.setCreationDate=function(A){return Z(A),this},g.getCreationDate=function(A){return j(A)};var G,V=g.__private__.padd2=function(A){return("0"+parseInt(A)).slice(-2)},ee=g.__private__.padd2Hex=function(A){return("00"+(A=A.toString())).substr(A.length)},q=0,ae=[],pe=[],ye=0,_e=[],Be=[],Qe=!1,nt=pe;g.__private__.setCustomOutputDestination=function(A){Qe=!0,nt=A};var be=function(A){Qe||(nt=A)};g.__private__.resetCustomOutputDestination=function(){Qe=!1,nt=pe};var $=g.__private__.out=function(A){return A=A.toString(),ye+=A.length+1,nt.push(A),nt},ge=g.__private__.write=function(A){return $(arguments.length===1?A.toString():Array.prototype.join.call(arguments," "))},Oe=g.__private__.getArrayBuffer=function(A){for(var J=A.length,he=new ArrayBuffer(J),xe=new Uint8Array(he);J--;)xe[J]=A.charCodeAt(J);return he},Te=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return Te};var Ee=t.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(A){return Ee=D===B?A/Ke:A,this};var qe,Me=g.__private__.getFontSize=g.getFontSize=function(){return D===z?Ee:Ee*Ke},lt=t.R2L||!1;g.__private__.setR2L=g.setR2L=function(A){return lt=A,this},g.__private__.getR2L=g.getR2L=function(){return lt};var ct,dt=g.__private__.setZoomMode=function(A){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(A))qe=A;else if(isNaN(A)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(A)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+A+'" is not recognized.');qe=A}else qe=parseInt(A,10)};g.__private__.getZoomMode=function(){return qe};var ve,Re=g.__private__.setPageMode=function(A){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(A)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+A+'" is not recognized.');ct=A};g.__private__.getPageMode=function(){return ct};var Ge=g.__private__.setLayoutMode=function(A){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(A)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+A+'" is not recognized.');ve=A};g.__private__.getLayoutMode=function(){return ve},g.__private__.setDisplayMode=g.setDisplayMode=function(A,J,he){return dt(A),Ge(J),Re(he),this};var Fe={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(A){if(Object.keys(Fe).indexOf(A)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Fe[A]},g.__private__.getDocumentProperties=function(){return Fe},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(A){for(var J in Fe)Fe.hasOwnProperty(J)&&A[J]&&(Fe[J]=A[J]);return this},g.__private__.setDocumentProperty=function(A,J){if(Object.keys(Fe).indexOf(A)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Fe[A]=J};var Ue,Ke,Ve,ot,Je,$e={},tt={},_t=[],mt={},Ht={},yt={},gt={},vt=null,bt=0,ft=[],Ct=new Wy(g),tn=t.hotfixes||[],Qt={},on={},Gt=[],Lt=function A(J,he,xe,Le,Ze,st){if(!(this instanceof A))return new A(J,he,xe,Le,Ze,st);isNaN(J)&&(J=1),isNaN(he)&&(he=0),isNaN(xe)&&(xe=0),isNaN(Le)&&(Le=1),isNaN(Ze)&&(Ze=0),isNaN(st)&&(st=0),this._matrix=[J,he,xe,Le,Ze,st]};Object.defineProperty(Lt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(Lt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(Lt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(Lt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(Lt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(Lt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(Lt.prototype,"a",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(Lt.prototype,"b",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(Lt.prototype,"c",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(Lt.prototype,"d",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(Lt.prototype,"e",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(Lt.prototype,"f",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(Lt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Lt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Lt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Lt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Lt.prototype.join=function(A){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(I).join(A)},Lt.prototype.multiply=function(A){var J=A.sx*this.sx+A.shy*this.shx,he=A.sx*this.shy+A.shy*this.sy,xe=A.shx*this.sx+A.sy*this.shx,Le=A.shx*this.shy+A.sy*this.sy,Ze=A.tx*this.sx+A.ty*this.shx+this.tx,st=A.tx*this.shy+A.ty*this.sy+this.ty;return new Lt(J,he,xe,Le,Ze,st)},Lt.prototype.decompose=function(){var A=this.sx,J=this.shy,he=this.shx,xe=this.sy,Le=this.tx,Ze=this.ty,st=Math.sqrt(A*A+J*J),At=(A/=st)*he+(J/=st)*xe;he-=A*At,xe-=J*At;var jt=Math.sqrt(he*he+xe*xe);return At/=jt,A*(xe/=jt)<J*(he/=jt)&&(A=-A,J=-J,At=-At,st=-st),{scale:new Lt(st,0,0,jt,0,0),translate:new Lt(1,0,0,1,Le,Ze),rotate:new Lt(A,J,-J,A,0,0),skew:new Lt(1,0,At,1,0,0)}},Lt.prototype.toString=function(A){return this.join(" ")},Lt.prototype.inversed=function(){var A=this.sx,J=this.shy,he=this.shx,xe=this.sy,Le=this.tx,Ze=this.ty,st=1/(A*xe-J*he),At=xe*st,jt=-J*st,Pt=-he*st,Yt=A*st;return new Lt(At,jt,Pt,Yt,-At*Le-Pt*Ze,-jt*Le-Yt*Ze)},Lt.prototype.applyToPoint=function(A){var J=A.x*this.sx+A.y*this.shx+this.tx,he=A.x*this.shy+A.y*this.sy+this.ty;return new Pi(J,he)},Lt.prototype.applyToRectangle=function(A){var J=this.applyToPoint(A),he=this.applyToPoint(new Pi(A.x+A.w,A.y+A.h));return new Qa(J.x,J.y,he.x-J.x,he.y-J.y)},Lt.prototype.clone=function(){var A=this.sx,J=this.shy,he=this.shx,xe=this.sy,Le=this.tx,Ze=this.ty;return new Lt(A,J,he,xe,Le,Ze)},g.Matrix=Lt;var kn=g.matrixMult=function(A,J){return J.multiply(A)},Ar=new Lt(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=Ar;var $n=function(A,J){if(!Ht[A]){var he=(J instanceof vu?"Sh":"P")+(Object.keys(mt).length+1).toString(10);J.id=he,Ht[A]=he,mt[he]=J,Ct.publish("addPattern",J)}};g.ShadingPattern=vu,g.TilingPattern=Uc,g.addShadingPattern=function(A,J){return L("addShadingPattern()"),$n(A,J),this},g.beginTilingPattern=function(A){L("beginTilingPattern()"),fo(A.boundingBox[0],A.boundingBox[1],A.boundingBox[2]-A.boundingBox[0],A.boundingBox[3]-A.boundingBox[1],A.matrix)},g.endTilingPattern=function(A,J){L("endTilingPattern()"),J.stream=Be[G].join(`
`),$n(A,J),Ct.publish("endTilingPattern",J),Gt.pop().restore()};var Gn,wn=g.__private__.newObject=function(){var A=On();return Tn(A,!0),A},On=g.__private__.newObjectDeferred=function(){return q++,ae[q]=function(){return ye},q},Tn=function(A,J){return J=typeof J=="boolean"&&J,ae[A]=ye,J&&$(A+" 0 obj"),A},bi=g.__private__.newAdditionalObject=function(){var A={objId:On(),content:""};return _e.push(A),A},Er=On(),Ln=On(),Yn=g.__private__.decodeColorString=function(A){var J=A.split(" ");if(J.length!==2||J[1]!=="g"&&J[1]!=="G")J.length!==5||J[4]!=="k"&&J[4]!=="K"||(J=[(1-J[0])*(1-J[3]),(1-J[1])*(1-J[3]),(1-J[2])*(1-J[3]),"r"]);else{var he=parseFloat(J[0]);J=[he,he,he,"r"]}for(var xe="#",Le=0;Le<3;Le++)xe+=("0"+Math.floor(255*parseFloat(J[Le])).toString(16)).slice(-2);return xe},Zr=g.__private__.encodeColorString=function(A){var J;typeof A=="string"&&(A={ch1:A});var he=A.ch1,xe=A.ch2,Le=A.ch3,Ze=A.ch4,st=A.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof he=="string"&&he.charAt(0)!=="#"){var At=new Lw(he);if(At.ok)he=At.toHex();else if(!/^\d*\.?\d*$/.test(he))throw new Error('Invalid color "'+he+'" passed to jsPDF.encodeColorString.')}if(typeof he=="string"&&/^#[0-9A-Fa-f]{3}$/.test(he)&&(he="#"+he[1]+he[1]+he[2]+he[2]+he[3]+he[3]),typeof he=="string"&&/^#[0-9A-Fa-f]{6}$/.test(he)){var jt=parseInt(he.substr(1),16);he=jt>>16&255,xe=jt>>8&255,Le=255&jt}if(xe===void 0||Ze===void 0&&he===xe&&xe===Le)J=typeof he=="string"?he+" "+st[0]:A.precision===2?N(he/255)+" "+st[0]:P(he/255)+" "+st[0];else if(Ze===void 0||Rn(Ze)==="object"){if(Ze&&!isNaN(Ze.a)&&Ze.a===0)return["1.","1.","1.",st[1]].join(" ");J=typeof he=="string"?[he,xe,Le,st[1]].join(" "):A.precision===2?[N(he/255),N(xe/255),N(Le/255),st[1]].join(" "):[P(he/255),P(xe/255),P(Le/255),st[1]].join(" ")}else J=typeof he=="string"?[he,xe,Le,Ze,st[2]].join(" "):A.precision===2?[N(he),N(xe),N(Le),N(Ze),st[2]].join(" "):[P(he),P(xe),P(Le),P(Ze),st[2]].join(" ");return J},Li=g.__private__.getFilters=function(){return u},Ui=g.__private__.putStream=function(A){var J=(A=A||{}).data||"",he=A.filters||Li(),xe=A.alreadyAppliedFilters||[],Le=A.addLength1||!1,Ze=J.length,st=A.objectId,At=function(Tr){return Tr};if(p!==null&&st===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(At=kr.encryptor(st,0));var jt={};he===!0&&(he=["FlateEncode"]);var Pt=A.additionalKeyValues||[],Yt=(jt=Ot.API.processDataByFilters!==void 0?Ot.API.processDataByFilters(J,he):{data:J,reverseChain:[]}).reverseChain+(Array.isArray(xe)?xe.join(" "):xe.toString());if(jt.data.length!==0&&(Pt.push({key:"Length",value:jt.data.length}),Le===!0&&Pt.push({key:"Length1",value:Ze})),Yt.length!=0)if(Yt.split("/").length-1==1)Pt.push({key:"Filter",value:Yt});else{Pt.push({key:"Filter",value:"["+Yt+"]"});for(var cn=0;cn<Pt.length;cn+=1)if(Pt[cn].key==="DecodeParms"){for(var Vn=[],or=0;or<jt.reverseChain.split("/").length-1;or+=1)Vn.push("null");Vn.push(Pt[cn].value),Pt[cn].value="["+Vn.join(" ")+"]"}}$("<<");for(var Dn=0;Dn<Pt.length;Dn++)$("/"+Pt[Dn].key+" "+Pt[Dn].value);$(">>"),jt.data.length!==0&&($("stream"),$(At(jt.data)),$("endstream"))},ao=g.__private__.putPage=function(A){var J=A.number,he=A.data,xe=A.objId,Le=A.contentsObjId;Tn(xe,!0),$("<</Type /Page"),$("/Parent "+A.rootDictionaryObjId+" 0 R"),$("/Resources "+A.resourceDictionaryObjId+" 0 R"),$("/MediaBox ["+parseFloat(I(A.mediaBox.bottomLeftX))+" "+parseFloat(I(A.mediaBox.bottomLeftY))+" "+I(A.mediaBox.topRightX)+" "+I(A.mediaBox.topRightY)+"]"),A.cropBox!==null&&$("/CropBox ["+I(A.cropBox.bottomLeftX)+" "+I(A.cropBox.bottomLeftY)+" "+I(A.cropBox.topRightX)+" "+I(A.cropBox.topRightY)+"]"),A.bleedBox!==null&&$("/BleedBox ["+I(A.bleedBox.bottomLeftX)+" "+I(A.bleedBox.bottomLeftY)+" "+I(A.bleedBox.topRightX)+" "+I(A.bleedBox.topRightY)+"]"),A.trimBox!==null&&$("/TrimBox ["+I(A.trimBox.bottomLeftX)+" "+I(A.trimBox.bottomLeftY)+" "+I(A.trimBox.topRightX)+" "+I(A.trimBox.topRightY)+"]"),A.artBox!==null&&$("/ArtBox ["+I(A.artBox.bottomLeftX)+" "+I(A.artBox.bottomLeftY)+" "+I(A.artBox.topRightX)+" "+I(A.artBox.topRightY)+"]"),typeof A.userUnit=="number"&&A.userUnit!==1&&$("/UserUnit "+A.userUnit),Ct.publish("putPage",{objId:xe,pageContext:ft[J],pageNumber:J,page:he}),$("/Contents "+Le+" 0 R"),$(">>"),$("endobj");var Ze=he.join(`
`);return D===B&&(Ze+=`
Q`),Tn(Le,!0),Ui({data:Ze,filters:Li(),objectId:Le}),$("endobj"),xe},ia=g.__private__.putPages=function(){var A,J,he=[];for(A=1;A<=bt;A++)ft[A].objId=On(),ft[A].contentsObjId=On();for(A=1;A<=bt;A++)he.push(ao({number:A,data:Be[A],objId:ft[A].objId,contentsObjId:ft[A].contentsObjId,mediaBox:ft[A].mediaBox,cropBox:ft[A].cropBox,bleedBox:ft[A].bleedBox,trimBox:ft[A].trimBox,artBox:ft[A].artBox,userUnit:ft[A].userUnit,rootDictionaryObjId:Er,resourceDictionaryObjId:Ln}));Tn(Er,!0),$("<</Type /Pages");var xe="/Kids [";for(J=0;J<bt;J++)xe+=he[J]+" 0 R ";$(xe+"]"),$("/Count "+bt),$(">>"),$("endobj"),Ct.publish("postPutPages")},aa=function(A){Ct.publish("putFont",{font:A,out:$,newObject:wn,putStream:Ui}),A.isAlreadyPutted!==!0&&(A.objectNumber=wn(),$("<<"),$("/Type /Font"),$("/BaseFont /"+Dc(A.postScriptName)),$("/Subtype /Type1"),typeof A.encoding=="string"&&$("/Encoding /"+A.encoding),$("/FirstChar 32"),$("/LastChar 255"),$(">>"),$("endobj"))},Os=function(A){A.objectNumber=wn();var J=[];J.push({key:"Type",value:"/XObject"}),J.push({key:"Subtype",value:"/Form"}),J.push({key:"BBox",value:"["+[I(A.x),I(A.y),I(A.x+A.width),I(A.y+A.height)].join(" ")+"]"}),J.push({key:"Matrix",value:"["+A.matrix.toString()+"]"});var he=A.pages[1].join(`
`);Ui({data:he,additionalKeyValues:J,objectId:A.objectNumber}),$("endobj")},sa=function(A,J){J||(J=21);var he=wn(),xe=(function(st,At){var jt,Pt=[],Yt=1/(At-1);for(jt=0;jt<1;jt+=Yt)Pt.push(jt);if(Pt.push(1),st[0].offset!=0){var cn={offset:0,color:st[0].color};st.unshift(cn)}if(st[st.length-1].offset!=1){var Vn={offset:1,color:st[st.length-1].color};st.push(Vn)}for(var or="",Dn=0,Tr=0;Tr<Pt.length;Tr++){for(jt=Pt[Tr];jt>st[Dn+1].offset;)Dn++;var gr=st[Dn].offset,qr=(jt-gr)/(st[Dn+1].offset-gr),is=st[Dn].color,da=st[Dn+1].color;or+=ee(Math.round((1-qr)*is[0]+qr*da[0]).toString(16))+ee(Math.round((1-qr)*is[1]+qr*da[1]).toString(16))+ee(Math.round((1-qr)*is[2]+qr*da[2]).toString(16))}return or.trim()})(A.colors,J),Le=[];Le.push({key:"FunctionType",value:"0"}),Le.push({key:"Domain",value:"[0.0 1.0]"}),Le.push({key:"Size",value:"["+J+"]"}),Le.push({key:"BitsPerSample",value:"8"}),Le.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Le.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ui({data:xe,additionalKeyValues:Le,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:he}),$("endobj"),A.objectNumber=wn(),$("<< /ShadingType "+A.type),$("/ColorSpace /DeviceRGB");var Ze="/Coords ["+I(parseFloat(A.coords[0]))+" "+I(parseFloat(A.coords[1]))+" ";A.type===2?Ze+=I(parseFloat(A.coords[2]))+" "+I(parseFloat(A.coords[3])):Ze+=I(parseFloat(A.coords[2]))+" "+I(parseFloat(A.coords[3]))+" "+I(parseFloat(A.coords[4]))+" "+I(parseFloat(A.coords[5])),$(Ze+="]"),A.matrix&&$("/Matrix ["+A.matrix.toString()+"]"),$("/Function "+he+" 0 R"),$("/Extend [true true]"),$(">>"),$("endobj")},oa=function(A,J){var he=On(),xe=wn();J.push({resourcesOid:he,objectOid:xe}),A.objectNumber=xe;var Le=[];Le.push({key:"Type",value:"/Pattern"}),Le.push({key:"PatternType",value:"1"}),Le.push({key:"PaintType",value:"1"}),Le.push({key:"TilingType",value:"1"}),Le.push({key:"BBox",value:"["+A.boundingBox.map(I).join(" ")+"]"}),Le.push({key:"XStep",value:I(A.xStep)}),Le.push({key:"YStep",value:I(A.yStep)}),Le.push({key:"Resources",value:he+" 0 R"}),A.matrix&&Le.push({key:"Matrix",value:"["+A.matrix.toString()+"]"}),Ui({data:A.stream,additionalKeyValues:Le,objectId:A.objectNumber}),$("endobj")},so=function(A){for(var J in A.objectNumber=wn(),$("<<"),A)switch(J){case"opacity":$("/ca "+N(A[J]));break;case"stroke-opacity":$("/CA "+N(A[J]))}$(">>"),$("endobj")},La=function(A){Tn(A.resourcesOid,!0),$("<<"),$("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var J in $("/Font <<"),$e)$e.hasOwnProperty(J)&&(y===!1||y===!0&&b.hasOwnProperty(J))&&$("/"+J+" "+$e[J].objectNumber+" 0 R");$(">>")})(),(function(){if(Object.keys(mt).length>0){for(var J in $("/Shading <<"),mt)mt.hasOwnProperty(J)&&mt[J]instanceof vu&&mt[J].objectNumber>=0&&$("/"+J+" "+mt[J].objectNumber+" 0 R");Ct.publish("putShadingPatternDict"),$(">>")}})(),(function(J){if(Object.keys(mt).length>0){for(var he in $("/Pattern <<"),mt)mt.hasOwnProperty(he)&&mt[he]instanceof g.TilingPattern&&mt[he].objectNumber>=0&&mt[he].objectNumber<J&&$("/"+he+" "+mt[he].objectNumber+" 0 R");Ct.publish("putTilingPatternDict"),$(">>")}})(A.objectOid),(function(){if(Object.keys(yt).length>0){var J;for(J in $("/ExtGState <<"),yt)yt.hasOwnProperty(J)&&yt[J].objectNumber>=0&&$("/"+J+" "+yt[J].objectNumber+" 0 R");Ct.publish("putGStateDict"),$(">>")}})(),(function(){for(var J in $("/XObject <<"),Qt)Qt.hasOwnProperty(J)&&Qt[J].objectNumber>=0&&$("/"+J+" "+Qt[J].objectNumber+" 0 R");Ct.publish("putXobjectDict"),$(">>")})(),$(">>"),$("endobj")},sr=function(A){tt[A.fontName]=tt[A.fontName]||{},tt[A.fontName][A.fontStyle]=A.id},Il=function(A,J,he,xe,Le){var Ze={id:"F"+(Object.keys($e).length+1).toString(10),postScriptName:A,fontName:J,fontStyle:he,encoding:xe,isStandardFont:Le||!1,metadata:{}};return Ct.publish("addFont",{font:Ze,instance:this}),$e[Ze.id]=Ze,sr(Ze),Ze.id},Ci=g.__private__.pdfEscape=g.pdfEscape=function(A,J){return(function(he,xe){var Le,Ze,st,At,jt,Pt,Yt,cn,Vn;if(st=(xe=xe||{}).sourceEncoding||"Unicode",jt=xe.outputEncoding,(xe.autoencode||jt)&&$e[Ue].metadata&&$e[Ue].metadata[st]&&$e[Ue].metadata[st].encoding&&(At=$e[Ue].metadata[st].encoding,!jt&&$e[Ue].encoding&&(jt=$e[Ue].encoding),!jt&&At.codePages&&(jt=At.codePages[0]),typeof jt=="string"&&(jt=At[jt]),jt)){for(Yt=!1,Pt=[],Le=0,Ze=he.length;Le<Ze;Le++)(cn=jt[he.charCodeAt(Le)])?Pt.push(String.fromCharCode(cn)):Pt.push(he[Le]),Pt[Le].charCodeAt(0)>>8&&(Yt=!0);he=Pt.join("")}for(Le=he.length;Yt===void 0&&Le!==0;)he.charCodeAt(Le-1)>>8&&(Yt=!0),Le--;if(!Yt)return he;for(Pt=xe.noBOM?[]:[254,255],Le=0,Ze=he.length;Le<Ze;Le++){if((Vn=(cn=he.charCodeAt(Le))>>8)>>8)throw new Error("Character at position "+Le+" of string '"+he+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Pt.push(Vn),Pt.push(cn-(Vn<<8))}return String.fromCharCode.apply(void 0,Pt)})(A,J).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},la=g.__private__.beginPage=function(A){Be[++bt]=[],ft[bt]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(A[0]),topRightY:Number(A[1])}},zl(bt),be(Be[G])},Ka=function(A,J){var he,xe,Le;switch(n=J||n,typeof A=="string"&&(he=T(A.toLowerCase()),Array.isArray(he)&&(xe=he[0],Le=he[1])),Array.isArray(A)&&(xe=A[0]*Ke,Le=A[1]*Ke),isNaN(xe)&&(xe=s[0],Le=s[1]),(xe>14400||Le>14400)&&(Hn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),xe=Math.min(14400,xe),Le=Math.min(14400,Le)),s=[xe,Le],n.substr(0,1)){case"l":Le>xe&&(s=[Le,xe]);break;case"p":xe>Le&&(s=[Le,xe])}la(s),zt(lo),$(Ri),Vo!==0&&$(Vo+" J"),Or!==0&&$(Or+" j"),Ct.publish("addPage",{pageNumber:bt})},Ml=function(A){A>0&&A<=bt&&(Be.splice(A,1),ft.splice(A,1),bt--,G>bt&&(G=bt),this.setPage(G))},zl=function(A){A>0&&A<=bt&&(G=A)},Ul=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return Be.length-1},ju=function(A,J,he){var xe,Le=void 0;return he=he||{},A=A!==void 0?A:$e[Ue].fontName,J=J!==void 0?J:$e[Ue].fontStyle,xe=A.toLowerCase(),tt[xe]!==void 0&&tt[xe][J]!==void 0?Le=tt[xe][J]:tt[A]!==void 0&&tt[A][J]!==void 0?Le=tt[A][J]:he.disableWarning===!1&&Hn.warn("Unable to look up font label for font '"+A+"', '"+J+"'. Refer to getFontList() for available fonts."),Le||he.noFallback||(Le=tt.times[J])==null&&(Le=tt.times.normal),Le},ji=g.__private__.putInfo=function(){var A=wn(),J=function(xe){return xe};for(var he in p!==null&&(J=kr.encryptor(A,0)),$("<<"),$("/Producer ("+Ci(J("jsPDF "+Ot.version))+")"),Fe)Fe.hasOwnProperty(he)&&Fe[he]&&$("/"+he.substr(0,1).toUpperCase()+he.substr(1)+" ("+Ci(J(Fe[he]))+")");$("/CreationDate ("+Ci(J(X))+")"),$(">>"),$("endobj")},Xa=g.__private__.putCatalog=function(A){var J=(A=A||{}).rootDictionaryObjId||Er;switch(wn(),$("<<"),$("/Type /Catalog"),$("/Pages "+J+" 0 R"),qe||(qe="fullwidth"),qe){case"fullwidth":$("/OpenAction [3 0 R /FitH null]");break;case"fullheight":$("/OpenAction [3 0 R /FitV null]");break;case"fullpage":$("/OpenAction [3 0 R /Fit]");break;case"original":$("/OpenAction [3 0 R /XYZ null null 1]");break;default:var he=""+qe;he.substr(he.length-1)==="%"&&(qe=parseInt(qe)/100),typeof qe=="number"&&$("/OpenAction [3 0 R /XYZ null null "+N(qe)+"]")}switch(ve||(ve="continuous"),ve){case"continuous":$("/PageLayout /OneColumn");break;case"single":$("/PageLayout /SinglePage");break;case"two":case"twoleft":$("/PageLayout /TwoColumnLeft");break;case"tworight":$("/PageLayout /TwoColumnRight")}ct&&$("/PageMode /"+ct),Ct.publish("putCatalog"),$(">>"),$("endobj")},ua=g.__private__.putTrailer=function(){$("trailer"),$("<<"),$("/Size "+(q+1)),$("/Root "+q+" 0 R"),$("/Info "+(q-1)+" 0 R"),p!==null&&$("/Encrypt "+kr.oid+" 0 R"),$("/ID [ <"+O+"> <"+O+"> ]"),$(">>")},yn=g.__private__.putHeader=function(){$("%PDF-"+S),$("%")},Bl=g.__private__.putXRef=function(){var A="0000000000";$("xref"),$("0 "+(q+1)),$("0000000000 65535 f ");for(var J=1;J<=q;J++)typeof ae[J]=="function"?$((A+ae[J]()).slice(-10)+" 00000 n "):ae[J]!==void 0?$((A+ae[J]).slice(-10)+" 00000 n "):$("0000000000 00000 n ")},Ca=g.__private__.buildDocument=function(){var A;q=0,ye=0,pe=[],ae=[],_e=[],Er=On(),Ln=On(),be(pe),Ct.publish("buildDocument"),yn(),ia(),(function(){Ct.publish("putAdditionalObjects");for(var he=0;he<_e.length;he++){var xe=_e[he];Tn(xe.objId,!0),$(xe.content),$("endobj")}Ct.publish("postPutAdditionalObjects")})(),A=[],(function(){for(var he in $e)$e.hasOwnProperty(he)&&(y===!1||y===!0&&b.hasOwnProperty(he))&&aa($e[he])})(),(function(){var he;for(he in yt)yt.hasOwnProperty(he)&&so(yt[he])})(),(function(){for(var he in Qt)Qt.hasOwnProperty(he)&&Os(Qt[he])})(),(function(he){var xe;for(xe in mt)mt.hasOwnProperty(xe)&&(mt[xe]instanceof vu?sa(mt[xe]):mt[xe]instanceof Uc&&oa(mt[xe],he))})(A),Ct.publish("putResources"),A.forEach(La),La({resourcesOid:Ln,objectOid:Number.MAX_SAFE_INTEGER}),Ct.publish("postPutResources"),p!==null&&(kr.oid=wn(),$("<<"),$("/Filter /Standard"),$("/V "+kr.v),$("/R "+kr.r),$("/U <"+kr.toHexString(kr.U)+">"),$("/O <"+kr.toHexString(kr.O)+">"),$("/P "+kr.P),$(">>"),$("endobj")),ji(),Xa();var J=ye;return Bl(),ua(),$("startxref"),$(""+J),$("%%EOF"),be(Be[G]),pe.join(`
`)},Ds=g.__private__.getBlob=function(A){return new Blob([Oe(A)],{type:"application/pdf"})},Pl=g.output=g.__private__.output=(Gn=function(A,J){switch(typeof(J=J||{})=="string"?J={filename:J}:J.filename=J.filename||"generated.pdf",A){case void 0:return Ca();case"save":g.save(J.filename);break;case"arraybuffer":return Oe(Ca());case"blob":return Ds(Ca());case"bloburi":case"bloburl":if(Wt.URL!==void 0&&typeof Wt.URL.createObjectURL=="function")return Wt.URL&&Wt.URL.createObjectURL(Ds(Ca()))||void 0;Hn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var he="",xe=Ca();try{he=Fy(xe)}catch{he=Fy(unescape(encodeURIComponent(xe)))}return"data:application/pdf;filename="+J.filename+";base64,"+he;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Wt)==="[object Window]"){var Le="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ze=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';J.pdfObjectUrl&&(Le=J.pdfObjectUrl,Ze="");var st='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Le+'"'+Ze+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(J)+");<\/script></body></html>",At=Wt.open();return At!==null&&At.document.write(st),At}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Wt)==="[object Window]"){var jt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(J.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+J.filename+'" width="500px" height="400px" /></body></html>',Pt=Wt.open();if(Pt!==null){Pt.document.write(jt);var Yt=this;Pt.document.documentElement.querySelector("#pdfViewer").onload=function(){Pt.document.title=J.filename,Pt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Yt.output("bloburl"))}}return Pt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Wt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var cn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",J)+'"></iframe></body></html>',Vn=Wt.open();if(Vn!==null&&(Vn.document.write(cn),Vn.document.title=J.filename),Vn||typeof safari>"u")return Vn;break;case"datauri":case"dataurl":return Wt.document.location.href=this.output("datauristring",J);default:return null}},Gn.foo=function(){try{return Gn.apply(this,arguments)}catch(he){var A=he.stack||"";~A.indexOf(" at ")&&(A=A.split(" at ")[1]);var J="Error in function "+A.split(`
`)[0].split("<")[0]+": "+he.message;if(!Wt.console)throw new Error(J);Wt.console.error(J,he),Wt.alert&&alert(J)}},Gn.foo.bar=Gn,Gn.foo),li=function(A){return Array.isArray(tn)===!0&&tn.indexOf(A)>-1};switch(i){case"pt":Ke=1;break;case"mm":Ke=72/25.4;break;case"cm":Ke=72/2.54;break;case"in":Ke=72;break;case"px":Ke=li("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ke=12;break;case"ex":Ke=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);Ke=i}var kr=null;Z(),se();var pr=g.__private__.getPageInfo=g.getPageInfo=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ft[A].objId,pageNumber:A,pageContext:ft[A]}},Go=g.__private__.getPageInfoByObjId=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var J in ft)if(ft[J].objId===A)break;return pr(J)},Nu=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:ft[G].objId,pageNumber:G,pageContext:ft[G]}};g.addPage=function(){return Ka.apply(this,arguments),this},g.setPage=function(){return zl.apply(this,arguments),be.call(this,Be[G]),this},g.insertPage=function(A){return this.addPage(),this.movePage(G,A),this},g.movePage=function(A,J){var he,xe;if(A>J){he=Be[A],xe=ft[A];for(var Le=A;Le>J;Le--)Be[Le]=Be[Le-1],ft[Le]=ft[Le-1];Be[J]=he,ft[J]=xe,this.setPage(J)}else if(A<J){he=Be[A],xe=ft[A];for(var Ze=A;Ze<J;Ze++)Be[Ze]=Be[Ze+1],ft[Ze]=ft[Ze+1];Be[J]=he,ft[J]=xe,this.setPage(J)}return this},g.deletePage=function(){return Ml.apply(this,arguments),this},g.__private__.text=g.text=function(A,J,he,xe,Le){var Ze,st,At,jt,Pt,Yt,cn,Vn,or,Dn=(xe=xe||{}).scope||this;if(typeof A=="number"&&typeof J=="number"&&(typeof he=="string"||Array.isArray(he))){var Tr=he;he=J,J=A,A=Tr}if(arguments[3]instanceof Lt==0?(At=arguments[4],jt=arguments[5],Rn(cn=arguments[3])==="object"&&cn!==null||(typeof At=="string"&&(jt=At,At=null),typeof cn=="string"&&(jt=cn,cn=null),typeof cn=="number"&&(At=cn,cn=null),xe={flags:cn,angle:At,align:jt})):(L("The transform parameter of text() with a Matrix value"),or=Le),isNaN(J)||isNaN(he)||A==null)throw new Error("Invalid arguments passed to jsPDF.text");if(A.length===0)return Dn;var gr,qr="",is=typeof xe.lineHeightFactor=="number"?xe.lineHeightFactor:Ja,da=Dn.internal.scaleFactor;function as(bn){return bn=bn.split("	").join(Array(xe.TabLen||9).join(" ")),Ci(bn,cn)}function Kl(bn){for(var fn,In=bn.concat(),ur=[],Ba=In.length;Ba--;)typeof(fn=In.shift())=="string"?ur.push(fn):Array.isArray(bn)&&(fn.length===1||fn[1]===void 0&&fn[2]===void 0)?ur.push(fn[0]):ur.push([fn[0],fn[1],fn[2]]);return ur}function Xo(bn,fn){var In;if(typeof bn=="string")In=fn(bn)[0];else if(Array.isArray(bn)){for(var ur,Ba,ma=bn.concat(),mo=[],Ql=ma.length;Ql--;)typeof(ur=ma.shift())=="string"?mo.push(fn(ur)[0]):Array.isArray(ur)&&typeof ur[0]=="string"&&(Ba=fn(ur[0],ur[1],ur[2]),mo.push([Ba[0],Ba[1],Ba[2]]));In=mo}return In}var Ra=!1,ha=!0;if(typeof A=="string")Ra=!0;else if(Array.isArray(A)){var po=A.concat();st=[];for(var ss,Dr=po.length;Dr--;)(typeof(ss=po.shift())!="string"||Array.isArray(ss)&&typeof ss[0]!="string")&&(ha=!1);Ra=ha}if(Ra===!1)throw new Error('Type of text must be string or Array. "'+A+'" is not recognized.');typeof A=="string"&&(A=A.match(/[\r?\n]/)?A.split(/\r\n|\r|\n/g):[A]);var Ms=Ee/Dn.internal.scaleFactor,zs=Ms*(is-1);switch(xe.baseline){case"bottom":he-=zs;break;case"top":he+=Ms-zs;break;case"hanging":he+=Ms-2*zs;break;case"middle":he+=Ms/2-zs}if((Yt=xe.maxWidth||0)>0&&(typeof A=="string"?A=Dn.splitTextToSize(A,Yt):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(bn,fn){return bn.concat(Dn.splitTextToSize(fn,Yt))},[]))),Ze={text:A,x:J,y:he,options:xe,mutex:{pdfEscape:Ci,activeFontKey:Ue,fonts:$e,activeFontSize:Ee}},Ct.publish("preProcessText",Ze),A=Ze.text,At=(xe=Ze.options).angle,or instanceof Lt==0&&At&&typeof At=="number"){At*=Math.PI/180,xe.rotationDirection===0&&(At=-At),D===B&&(At=-At);var Jo=Math.cos(At),Oa=Math.sin(At);or=new Lt(Jo,Oa,-Oa,Jo,0,0)}else At&&At instanceof Lt&&(or=At);D!==B||or||(or=Ar),(Pt=xe.charSpace||Bi)!==void 0&&(qr+=I(Y(Pt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Vn=xe.horizontalScale)!==void 0&&(qr+=I(100*Vn)+` Tz
`),xe.lang;var ci=-1,os=xe.renderingMode!==void 0?xe.renderingMode:xe.stroke,Qo=Dn.internal.getCurrentPageInfo().pageContext;switch(os){case 0:case!1:case"fill":ci=0;break;case 1:case!0:case"stroke":ci=1;break;case 2:case"fillThenStroke":ci=2;break;case 3:case"invisible":ci=3;break;case 4:case"fillAndAddForClipping":ci=4;break;case 5:case"strokeAndAddPathForClipping":ci=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ci=6;break;case 7:case"addToPathForClipping":ci=7}var Xl=Qo.usedRenderingMode!==void 0?Qo.usedRenderingMode:-1;ci!==-1?qr+=ci+` Tr
`:Xl!==-1&&(qr+=`0 Tr
`),ci!==-1&&(Qo.usedRenderingMode=ci),jt=xe.align||"left";var Oi,pa=Ee*is,ls=Dn.internal.pageSize.getWidth(),Jl=$e[Ue];Pt=xe.charSpace||Bi,Yt=xe.maxWidth||0,cn=Object.assign({autoencode:!0,noBOM:!0},xe.flags);var ga=[],Us=function(bn){return Dn.getStringUnitWidth(bn,{font:Jl,charSpace:Pt,fontSize:Ee,doKerning:!1})*Ee/da};if(Object.prototype.toString.call(A)==="[object Array]"){var wi;st=Kl(A),jt!=="left"&&(Oi=st.map(Us));var fi,Da=0;if(jt==="right"){J-=Oi[0],A=[],Dr=st.length;for(var Ia=0;Ia<Dr;Ia++)Ia===0?(fi=Ni(J),wi=Pr(he)):(fi=Y(Da-Oi[Ia]),wi=-pa),A.push([st[Ia],fi,wi]),Da=Oi[Ia]}else if(jt==="center"){J-=Oi[0]/2,A=[],Dr=st.length;for(var us=0;us<Dr;us++)us===0?(fi=Ni(J),wi=Pr(he)):(fi=Y((Da-Oi[us])/2),wi=-pa),A.push([st[us],fi,wi]),Da=Oi[us]}else if(jt==="left"){A=[],Dr=st.length;for(var Zo=0;Zo<Dr;Zo++)A.push(st[Zo])}else if(jt==="justify"&&Jl.encoding==="Identity-H"){A=[],Dr=st.length,Yt=Yt!==0?Yt:ls;for(var el=0,lr=0;lr<Dr;lr++)if(wi=lr===0?Pr(he):-pa,fi=lr===0?Ni(J):el,lr<Dr-1){var Pu=Y((Yt-Oi[lr])/(st[lr].split(" ").length-1)),Ma=st[lr].split(" ");A.push([Ma[0]+" ",fi,wi]),el=0;for(var za=1;za<Ma.length;za++){var Fr=(Us(Ma[za-1]+" "+Ma[za])-Us(Ma[za]))*da+Pu;za==Ma.length-1?A.push([Ma[za],Fr,0]):A.push([Ma[za]+" ",Fr,0]),el-=Fr}}else A.push([st[lr],fi,wi]);A.push(["",el,0])}else{if(jt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(A=[],Dr=st.length,Yt=Yt!==0?Yt:ls,lr=0;lr<Dr;lr++){wi=lr===0?Pr(he):-pa,fi=lr===0?Ni(J):0;var cs=st[lr].split(" ").length-1,tl=cs>0?(Yt-Oi[lr])/cs:0;lr<Dr-1?ga.push(I(Y(tl))):ga.push(0),A.push([st[lr],fi,wi])}}}(typeof xe.R2L=="boolean"?xe.R2L:lt)===!0&&(A=Xo(A,function(bn,fn,In){return[bn.split("").reverse().join(""),fn,In]})),Ze={text:A,x:J,y:he,options:xe,mutex:{pdfEscape:Ci,activeFontKey:Ue,fonts:$e,activeFontSize:Ee}},Ct.publish("postProcessText",Ze),A=Ze.text,gr=Ze.mutex.isHex||!1;var nl=$e[Ue].encoding;nl!=="WinAnsiEncoding"&&nl!=="StandardEncoding"||(A=Xo(A,function(bn,fn,In){return[as(bn),fn,In]})),st=Kl(A),A=[];for(var fs,ds,Ua,go=Array.isArray(st[0])?1:0,Di="",hs=function(bn,fn,In){var ur="";return In instanceof Lt?(In=typeof xe.angle=="number"?kn(In,new Lt(1,0,0,1,bn,fn)):kn(new Lt(1,0,0,1,bn,fn),In),D===B&&(In=kn(new Lt(1,0,0,-1,0,0),In)),ur=In.join(" ")+` Tm
`):ur=I(bn)+" "+I(fn)+` Td
`,ur},ei=0;ei<st.length;ei++){switch(Di="",go){case 1:Ua=(gr?"<":"(")+st[ei][0]+(gr?">":")"),fs=parseFloat(st[ei][1]),ds=parseFloat(st[ei][2]);break;case 0:Ua=(gr?"<":"(")+st[ei]+(gr?">":")"),fs=Ni(J),ds=Pr(he)}ga!==void 0&&ga[ei]!==void 0&&(Di=ga[ei]+` Tw
`),ei===0?A.push(Di+hs(fs,ds,or)+Ua):go===0?A.push(Di+Ua):go===1&&A.push(Di+hs(fs,ds,or)+Ua)}A=go===0?A.join(` Tj
T* `):A.join(` Tj
`),A+=` Tj
`;var qi=`BT
/`;return qi+=Ue+" "+Ee+` Tf
`,qi+=I(Ee*is)+` TL
`,qi+=ja+`
`,qi+=qr,qi+=A,$(qi+="ET"),b[Ue]=!0,Dn};var ql=g.__private__.clip=g.clip=function(A){return $(A==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return ql("evenodd")},g.__private__.discardPath=g.discardPath=function(){return $("n"),this};var ui=g.__private__.isValidStyle=function(A){var J=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(A)!==-1&&(J=!0),J};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(A){return ui(A)&&(h=A),this};var Fl=g.__private__.getStyle=g.getStyle=function(A){var J=h;switch(A){case"D":case"S":J="S";break;case"F":J="f";break;case"FD":case"DF":J="B";break;case"f":case"f*":case"B":case"B*":J=A}return J},Hl=g.close=function(){return $("h"),this};g.stroke=function(){return $("S"),this},g.fill=function(A){return ca("f",A),this},g.fillEvenOdd=function(A){return ca("f*",A),this},g.fillStroke=function(A){return ca("B",A),this},g.fillStrokeEvenOdd=function(A){return ca("B*",A),this};var ca=function(A,J){Rn(J)==="object"?Ou(J,A):$(A)},oo=function(A){A===null||D===B&&A===void 0||(A=Fl(A),$(A))};function Ru(A,J,he,xe,Le){var Ze=new Uc(J||this.boundingBox,he||this.xStep,xe||this.yStep,this.gState,Le||this.matrix);Ze.stream=this.stream;var st=A+"$$"+this.cloneIndex+++"$$";return $n(st,Ze),Ze}var Ou=function(A,J){var he=Ht[A.key],xe=mt[he];if(xe instanceof vu)$("q"),$($l(J)),xe.gState&&g.setGState(xe.gState),$(A.matrix.toString()+" cm"),$("/"+he+" sh"),$("Q");else if(xe instanceof Uc){var Le=new Lt(1,0,0,-1,0,rs());A.matrix&&(Le=Le.multiply(A.matrix||Ar),he=Ru.call(xe,A.key,A.boundingBox,A.xStep,A.yStep,Le).id),$("q"),$("/Pattern cs"),$("/"+he+" scn"),xe.gState&&g.setGState(xe.gState),$(J),$("Q")}},$l=function(A){switch(A){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Wl=g.moveTo=function(A,J){return $(I(Y(A))+" "+I(F(J))+" m"),this},Du=g.lineTo=function(A,J){return $(I(Y(A))+" "+I(F(J))+" l"),this},vi=g.curveTo=function(A,J,he,xe,Le,Ze){return $([I(Y(A)),I(F(J)),I(Y(he)),I(F(xe)),I(Y(Le)),I(F(Ze)),"c"].join(" ")),this};g.__private__.line=g.line=function(A,J,he,xe,Le){if(isNaN(A)||isNaN(J)||isNaN(he)||isNaN(xe)||!ui(Le))throw new Error("Invalid arguments passed to jsPDF.line");return D===z?this.lines([[he-A,xe-J]],A,J,[1,1],Le||"S"):this.lines([[he-A,xe-J]],A,J,[1,1]).stroke()},g.__private__.lines=g.lines=function(A,J,he,xe,Le,Ze){var st,At,jt,Pt,Yt,cn,Vn,or,Dn,Tr,gr,qr;if(typeof A=="number"&&(qr=he,he=J,J=A,A=qr),xe=xe||[1,1],Ze=Ze||!1,isNaN(J)||isNaN(he)||!Array.isArray(A)||!Array.isArray(xe)||!ui(Le)||typeof Ze!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Wl(J,he),st=xe[0],At=xe[1],Pt=A.length,Tr=J,gr=he,jt=0;jt<Pt;jt++)(Yt=A[jt]).length===2?(Tr=Yt[0]*st+Tr,gr=Yt[1]*At+gr,Du(Tr,gr)):(cn=Yt[0]*st+Tr,Vn=Yt[1]*At+gr,or=Yt[2]*st+Tr,Dn=Yt[3]*At+gr,Tr=Yt[4]*st+Tr,gr=Yt[5]*At+gr,vi(cn,Vn,or,Dn,Tr,gr));return Ze&&Hl(),oo(Le),this},g.path=function(A){for(var J=0;J<A.length;J++){var he=A[J],xe=he.c;switch(he.op){case"m":Wl(xe[0],xe[1]);break;case"l":Du(xe[0],xe[1]);break;case"c":vi.apply(this,xe);break;case"h":Hl()}}return this},g.__private__.rect=g.rect=function(A,J,he,xe,Le){if(isNaN(A)||isNaN(J)||isNaN(he)||isNaN(xe)||!ui(Le))throw new Error("Invalid arguments passed to jsPDF.rect");return D===z&&(xe=-xe),$([I(Y(A)),I(F(J)),I(Y(he)),I(Y(xe)),"re"].join(" ")),oo(Le),this},g.__private__.triangle=g.triangle=function(A,J,he,xe,Le,Ze,st){if(isNaN(A)||isNaN(J)||isNaN(he)||isNaN(xe)||isNaN(Le)||isNaN(Ze)||!ui(st))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[he-A,xe-J],[Le-he,Ze-xe],[A-Le,J-Ze]],A,J,[1,1],st,!0),this},g.__private__.roundedRect=g.roundedRect=function(A,J,he,xe,Le,Ze,st){if(isNaN(A)||isNaN(J)||isNaN(he)||isNaN(xe)||isNaN(Le)||isNaN(Ze)||!ui(st))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var At=4/3*(Math.SQRT2-1);return Le=Math.min(Le,.5*he),Ze=Math.min(Ze,.5*xe),this.lines([[he-2*Le,0],[Le*At,0,Le,Ze-Ze*At,Le,Ze],[0,xe-2*Ze],[0,Ze*At,-Le*At,Ze,-Le,Ze],[2*Le-he,0],[-Le*At,0,-Le,-Ze*At,-Le,-Ze],[0,2*Ze-xe],[0,-Ze*At,Le*At,-Ze,Le,-Ze]],A+Le,J,[1,1],st,!0),this},g.__private__.ellipse=g.ellipse=function(A,J,he,xe,Le){if(isNaN(A)||isNaN(J)||isNaN(he)||isNaN(xe)||!ui(Le))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ze=4/3*(Math.SQRT2-1)*he,st=4/3*(Math.SQRT2-1)*xe;return Wl(A+he,J),vi(A+he,J-st,A+Ze,J-xe,A,J-xe),vi(A-Ze,J-xe,A-he,J-st,A-he,J),vi(A-he,J+st,A-Ze,J+xe,A,J+xe),vi(A+Ze,J+xe,A+he,J+st,A+he,J),oo(Le),this},g.__private__.circle=g.circle=function(A,J,he,xe){if(isNaN(A)||isNaN(J)||isNaN(he)||!ui(xe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(A,J,he,he,xe)},g.setFont=function(A,J,he){return he&&(J=te(J,he)),Ue=ju(A,J,{disableWarning:!1}),this};var fa=g.__private__.getFont=g.getFont=function(){return $e[ju.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var A,J,he={};for(A in tt)if(tt.hasOwnProperty(A))for(J in he[A]=[],tt[A])tt[A].hasOwnProperty(J)&&he[A].push(J);return he},g.addFont=function(A,J,he,xe,Le){var Ze=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ze.indexOf(arguments[3])!==-1?Le=arguments[3]:arguments[3]&&Ze.indexOf(arguments[3])==-1&&(he=te(he,xe)),Il.call(this,A,J,he,Le=Le||"Identity-H")};var Ja,lo=t.lineWidth||.200025,Is=g.__private__.getLineWidth=g.getLineWidth=function(){return lo},zt=g.__private__.setLineWidth=g.setLineWidth=function(A){return lo=A,$(I(Y(A))+" w"),this};g.__private__.setLineDash=Ot.API.setLineDash=Ot.API.setLineDashPattern=function(A,J){if(A=A||[],J=J||0,isNaN(J)||!Array.isArray(A))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return A=A.map(function(he){return I(Y(he))}).join(" "),J=I(Y(J)),$("["+A+"] "+J+" d"),this};var Iu=g.__private__.getLineHeight=g.getLineHeight=function(){return Ee*Ja};g.__private__.getLineHeight=g.getLineHeight=function(){return Ee*Ja};var Gl=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(A){return typeof(A=A||1.15)=="number"&&(Ja=A),this},Mu=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return Ja};Gl(t.lineHeight);var Ni=g.__private__.getHorizontalCoordinate=function(A){return Y(A)},Pr=g.__private__.getVerticalCoordinate=function(A){return D===B?A:ft[G].mediaBox.topRightY-ft[G].mediaBox.bottomLeftY-Y(A)},Yl=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(A){return I(Ni(A))},uo=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(A){return I(Pr(A))},Ri=t.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return Yn(Ri)},g.__private__.setStrokeColor=g.setDrawColor=function(A,J,he,xe){return Ri=Zr({ch1:A,ch2:J,ch3:he,ch4:xe,pdfColorType:"draw",precision:2}),$(Ri),this};var co=t.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return Yn(co)},g.__private__.setFillColor=g.setFillColor=function(A,J,he,xe){return co=Zr({ch1:A,ch2:J,ch3:he,ch4:xe,pdfColorType:"fill",precision:2}),$(co),this};var ja=t.textColor||"0 g",zu=g.__private__.getTextColor=g.getTextColor=function(){return Yn(ja)};g.__private__.setTextColor=g.setTextColor=function(A,J,he,xe){return ja=Zr({ch1:A,ch2:J,ch3:he,ch4:xe,pdfColorType:"text",precision:3}),this};var Bi=t.charSpace,Yo=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(Bi||0)};g.__private__.setCharSpace=g.setCharSpace=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Bi=A,this};var Vo=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(A){var J=g.CapJoinStyles[A];if(J===void 0)throw new Error("Line cap style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Vo=J,$(J+" J"),this};var Or=0;g.__private__.setLineJoin=g.setLineJoin=function(A){var J=g.CapJoinStyles[A];if(J===void 0)throw new Error("Line join style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Or=J,$(J+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(A){if(A=A||0,isNaN(A))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return $(I(Y(A))+" M"),this},g.GState=t0,g.setGState=function(A){(A=typeof A=="string"?yt[gt[A]]:Na(null,A)).equals(vt)||($("/"+A.id+" gs"),vt=A)};var Na=function(A,J){if(!A||!gt[A]){var he=!1;for(var xe in yt)if(yt.hasOwnProperty(xe)&&yt[xe].equals(J)){he=!0;break}if(he)J=yt[xe];else{var Le="GS"+(Object.keys(yt).length+1).toString(10);yt[Le]=J,J.id=Le}return A&&(gt[A]=J.id),Ct.publish("addGState",J),J}};g.addGState=function(A,J){return Na(A,J),this},g.saveGraphicsState=function(){return $("q"),_t.push({key:Ue,size:Ee,color:ja}),this},g.restoreGraphicsState=function(){$("Q");var A=_t.pop();return Ue=A.key,Ee=A.size,ja=A.color,vt=null,this},g.setCurrentTransformationMatrix=function(A){return $(A.toString()+" cm"),this},g.comment=function(A){return $("#"+A),this};var Pi=function(A,J){var he=A||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return he},set:function(Ze){isNaN(Ze)||(he=parseFloat(Ze))}});var xe=J||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return xe},set:function(Ze){isNaN(Ze)||(xe=parseFloat(Ze))}});var Le="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Le},set:function(Ze){Le=Ze.toString()}}),this},Qa=function(A,J,he,xe){Pi.call(this,A,J),this.type="rect";var Le=he||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Le},set:function(st){isNaN(st)||(Le=parseFloat(st))}});var Ze=xe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ze},set:function(st){isNaN(st)||(Ze=parseFloat(st))}}),this},Ko=function(){this.page=bt,this.currentPage=G,this.pages=Be.slice(0),this.pagesContext=ft.slice(0),this.x=Ve,this.y=ot,this.matrix=Je,this.width=es(G),this.height=Vl(G),this.outputDestination=nt,this.id="",this.objectNumber=-1};Ko.prototype.restore=function(){bt=this.page,G=this.currentPage,ft=this.pagesContext,Be=this.pages,Ve=this.x,ot=this.y,Je=this.matrix,ho(G,this.width),ts(G,this.height),nt=this.outputDestination};var fo=function(A,J,he,xe,Le){Gt.push(new Ko),bt=G=0,Be=[],Ve=A,ot=J,Je=Le,la([he,xe])};for(var Za in g.beginFormObject=function(A,J,he,xe,Le){return fo(A,J,he,xe,Le),this},g.endFormObject=function(A){return(function(J){if(on[J])Gt.pop().restore();else{var he=new Ko,xe="Xo"+(Object.keys(Qt).length+1).toString(10);he.id=xe,on[J]=xe,Qt[xe]=he,Ct.publish("addFormObject",he),Gt.pop().restore()}})(A),this},g.doFormObject=function(A,J){var he=Qt[on[A]];return $("q"),$(J.toString()+" cm"),$("/"+he.id+" Do"),$("Q"),this},g.getFormObject=function(A){var J=Qt[on[A]];return{x:J.x,y:J.y,width:J.width,height:J.height,matrix:J.matrix}},g.save=function(A,J){return A=A||"generated.pdf",(J=J||{}).returnPromise=J.returnPromise||!1,J.returnPromise===!1?(mu(Ds(Ca()),A),typeof mu.unload=="function"&&Wt.setTimeout&&setTimeout(mu.unload,911),this):new Promise(function(he,xe){try{var Le=mu(Ds(Ca()),A);typeof mu.unload=="function"&&Wt.setTimeout&&setTimeout(mu.unload,911),he(Le)}catch(Ze){xe(Ze.message)}})},Ot.API)Ot.API.hasOwnProperty(Za)&&(Za==="events"&&Ot.API.events.length?(function(A,J){var he,xe,Le;for(Le=J.length-1;Le!==-1;Le--)he=J[Le][0],xe=J[Le][1],A.subscribe.apply(A,[he].concat(typeof xe=="function"?[xe]:xe))})(Ct,Ot.API.events):g[Za]=Ot.API[Za]);function es(A){return ft[A].mediaBox.topRightX-ft[A].mediaBox.bottomLeftX}function ho(A,J){ft[A].mediaBox.topRightX=J+ft[A].mediaBox.bottomLeftX}function Vl(A){return ft[A].mediaBox.topRightY-ft[A].mediaBox.bottomLeftY}function ts(A,J){ft[A].mediaBox.topRightY=J+ft[A].mediaBox.bottomLeftY}var ns=g.getPageWidth=function(A){return es(A=A||G)/Ke},Uu=g.setPageWidth=function(A,J){ho(A,J*Ke)},rs=g.getPageHeight=function(A){return Vl(A=A||G)/Ke},Bu=g.setPageHeight=function(A,J){ts(A,J*Ke)};return g.internal={pdfEscape:Ci,getStyle:Fl,getFont:fa,getFontSize:Me,getCharSpace:Yo,getTextColor:zu,getLineHeight:Iu,getLineHeightFactor:Mu,getLineWidth:Is,write:ge,getHorizontalCoordinate:Ni,getVerticalCoordinate:Pr,getCoordinateString:Yl,getVerticalCoordinateString:uo,collections:{},newObject:wn,newAdditionalObject:bi,newObjectDeferred:On,newObjectDeferredBegin:Tn,getFilters:Li,putStream:Ui,events:Ct,scaleFactor:Ke,pageSize:{getWidth:function(){return ns(G)},setWidth:function(A){Uu(G,A)},getHeight:function(){return rs(G)},setHeight:function(A){Bu(G,A)}},encryptionOptions:p,encryption:kr,getEncryptor:function(A){return p!==null?kr.encryptor(A,0):function(J){return J}},output:Pl,getNumberOfPages:Ul,get pages(){return Be},out:$,f2:N,f3:P,getPageInfo:pr,getPageInfoByObjId:Go,getCurrentPageInfo:Nu,getPDFVersion:E,Point:Pi,Rectangle:Qa,Matrix:Lt,hasHotfix:li},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return ns(G)},set:function(A){Uu(G,A)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return rs(G)},set:function(A){Bu(G,A)},enumerable:!0,configurable:!0}),(function(A){for(var J=0,he=Te.length;J<he;J++){var xe=Il.call(this,A[J][0],A[J][1],A[J][2],Te[J][3],!0);y===!1&&(b[xe]=!0);var Le=A[J][0].split("-");sr({id:xe,fontName:Le[0],fontStyle:Le[1]||""})}Ct.publish("addFonts",{fonts:$e,dictionary:tt})}).call(g,Te),Ue="F1",Ka(s,n),Ct.publish("initialized"),g}Oc.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Oc.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Oc.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Oc.prototype.processOwnerPassword=function(t,e){return Z1(Q1(e).substr(0,5),t)},Oc.prototype.encryptor=function(t,e){var n=Q1(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(i){return Z1(n,i)}},t0.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||Rn(t)!==Rn(this))return!1;var i=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;i++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&i--;return i===0},Ot.API={events:[]},Ot.version="4.1.0";var _r=Ot.API,Ng=1,Cu=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Tc=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},n0=function(t){return t.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(e){var n=e.charCodeAt(0).toString(16).toUpperCase();return"#"+(n.length===1?"0"+n:n)})},Xt=function(t){return t.toFixed(2)},Tl=function(t){return t.toFixed(5)};_r.__acroform__={};var ra=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},Gy=function(t){return t*Ng},eo=function(t){var e=new Rw,n=Tt.internal.getHeight(t)||0,i=Tt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Xt(i)),Number(Xt(n))],e},Nk=_r.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},Rk=_r.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},Ok=_r.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},jr=_r.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Ok(t,e-1)},Nr=_r.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Nk(t,e-1)},Rr=_r.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Rk(t,e-1)},Dk=_r.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,i=e.internal.getVerticalCoordinate,s=t[0],o=t[1],u=t[2],c=t[3],f={};return f.lowerLeft_X=n(s)||0,f.lowerLeft_Y=i(o+c)||0,f.upperRight_X=n(s+u)||0,f.upperRight_Y=i(o)||0,[Number(Xt(f.lowerLeft_X)),Number(Xt(f.lowerLeft_Y)),Number(Xt(f.upperRight_X)),Number(Xt(f.upperRight_Y))]},Ik=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,i=eg(t,n),s=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+s+" "+Xt(i.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(i.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=eo(t);return o.scope=t.scope,o.stream=e.join(`
`),o}},eg=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,i={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=t.multiline?s.map(function(N){return N.split(`
`)}):s.map(function(N){return[N]});var o=n,u=Tt.internal.getHeight(t)||0;u=u<0?-u:u;var c=Tt.internal.getWidth(t)||0;c=c<0?-c:c;var f=function(N,P,Y){if(N+1<s.length){var F=P+" "+s[N+1][0];return Ah(F,t,Y).width<=c-4}return!1};o++;e:for(;o>0;){e="",o--;var h,p,y=Ah("3",t,o).height,b=t.multiline?u-o:(u-y)/2,g=b+=2,S=0,E=0,k=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+Ah(e,t,o=12).width+", FieldWidth:"+c+`
`;break}for(var T="",z=0,B=0;B<s.length;B++)if(s.hasOwnProperty(B)){var D=!1;if(s[B].length!==1&&k!==s[B].length-1){if((y+2)*(z+2)+2>u)continue e;T+=s[B][k],D=!0,E=B,B--}else{T=(T+=s[B][k]+" ").substr(T.length-1)==" "?T.substr(0,T.length-1):T;var ne=parseInt(B),H=f(ne,T,o),te=B>=s.length-1;if(H&&!te){T+=" ",k=0;continue}if(H||te){if(te)E=ne;else if(t.multiline&&(y+2)*(z+2)+2>u)continue e}else{if(!t.multiline||(y+2)*(z+2)+2>u)continue e;E=ne}}for(var I="",L=S;L<=E;L++){var K=s[L];if(t.multiline){if(L===E){I+=K[k]+" ",k=(k+1)%K.length;continue}if(L===S){I+=K[K.length-1]+" ";continue}}I+=K[0]+" "}switch(I=I.substr(I.length-1)==" "?I.substr(0,I.length-1):I,p=Ah(I,t,o).width,t.textAlign){case"right":h=c-p-2;break;case"center":h=(c-p)/2;break;default:h=2}e+=Xt(h)+" "+Xt(g)+` Td
`,e+="("+Cu(I)+`) Tj
`,e+=-Xt(h)+` 0 Td
`,g=-(o+2),p=0,S=D?E:E+1,z++,T=""}break}return i.text=e,i.fontSize=o,i},Ah=function(t,e,n){var i=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(t,{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:s}},Mk={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},zk=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(i){return i.type===n.type&&i.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},Uk=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Ns.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Mk)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Ng=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new Ow,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in i)if(i.hasOwnProperty(s)){var o=i[s];o.objId=void 0,o.hasAnnotation&&zk(o,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(i,s){var o=!i;for(var u in i||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(u)){var c=i[u],f=[],h=c.Rect;if(c.Rect&&(c.Rect=Dk(c.Rect,s)),s.internal.newObjectDeferredBegin(c.objId,!0),c.DA=Tt.createDefaultAppearanceStream(c),Rn(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(f=c.getKeyValueListForStream()),c.Rect=h,c.hasAppearanceStream&&!c.appearanceStreamContent){var p=Ik(c);f.push({key:"AP",value:"<</N "+p+">>"}),s.internal.acroformPlugin.xForms.push(p)}if(c.appearanceStreamContent){var y="";for(var b in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(b)){var g=c.appearanceStreamContent[b];if(y+="/"+b+" ",y+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var u in g)if(g.hasOwnProperty(u)){var S=g[u];typeof S=="function"&&(S=S.call(s,c)),y+="/"+u+" "+S+" ",s.internal.acroformPlugin.xForms.indexOf(S)>=0||s.internal.acroformPlugin.xForms.push(S)}}else typeof(S=g)=="function"&&(S=S.call(s,c)),y+="/"+u+" "+S,s.internal.acroformPlugin.xForms.indexOf(S)>=0||s.internal.acroformPlugin.xForms.push(S);y+=">>"}f.push({key:"AP",value:`<<
`+y+">>"})}s.internal.putStream({additionalKeyValues:f,objectId:c.objId}),s.internal.out("endobj")}o&&(function(E,k){for(var T in E)if(E.hasOwnProperty(T)){var z=T,B=E[T];k.internal.newObjectDeferredBegin(B.objId,!0),Rn(B)==="object"&&typeof B.putStream=="function"&&B.putStream(),delete E[z]}})(s.internal.acroformPlugin.xForms,s)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},Nw=_r.__acroform__.arrayToPdfArray=function(t,e,n){var i=function(u){return u};if(Array.isArray(t)){for(var s="[",o=0;o<t.length;o++)switch(o!==0&&(s+=" "),Rn(t[o])){case"boolean":case"number":case"object":s+=t[o].toString();break;case"string":t[o].substr(0,1)==="/"?s+="/"+n0(t[o].substr(1)):(e!==void 0&&n&&(i=n.internal.getEncryptor(e)),s+="("+Cu(i(t[o].toString()))+")")}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},w1=function(t,e,n){var i=function(s){return s};return e!==void 0&&n&&(i=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+Cu(i(t))+")"},ro=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ro.prototype.toString=function(){return this.objId+" 0 R"},ro.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},ro.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var i=e[n],s=this[i];s&&(Array.isArray(s)?t.push({key:i,value:Nw(s,this.objId,this.scope)}):s instanceof ro?(s.scope=this.scope,t.push({key:i,value:s.objId+" 0 R"})):typeof s!="function"&&t.push({key:i,value:s}))}return t};var Rw=function(){ro.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};ra(Rw,ro);var Ow=function(){ro.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(i){return i};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Cu(n(t))+")"}},set:function(n){t=n}})};ra(Ow,ro);var Ns=function t(){ro.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(T){if(isNaN(T))throw new Error('Invalid value "'+T+'" for attribute F supplied.');e=T}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!jr(e,3)},set:function(T){T?this.F=Nr(e,3):this.F=Rr(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(T){if(isNaN(T))throw new Error('Invalid value "'+T+'" for attribute Ff supplied.');n=T}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(T){i=T!==void 0?T:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(T){i[0]=T}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(T){i[1]=T}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(T){i[2]=T}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(T){i[3]=T}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(T){switch(T){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=T;break;default:throw new Error('Invalid value "'+T+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof r0)return;o="FieldObject"+t.FieldNum++}var T=function(z){return z};return this.scope&&(T=this.scope.internal.getEncryptor(this.objId)),"("+Cu(T(o))+")"},set:function(T){o=T.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(T){o=T}});var u="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return u},set:function(T){u=T}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(T){c=T}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(T){f=T}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/Ng:h},set:function(T){h=T}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(T){p=T}});var y="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!y||this instanceof r0||this instanceof Su))return w1(y,this.objId,this.scope)},set:function(T){T=T.toString(),y=T}});var b=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof oi==0?w1(b,this.objId,this.scope):b},set:function(T){T=T.toString(),b=this instanceof oi==0?T.substr(0,1)==="("?Tc(T.substr(1,T.length-2)):Tc(T):T}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof oi==1?Tc(b.substr(1,b.length-1)):b},set:function(T){T=T.toString(),b=this instanceof oi==1?"/"+n0(T):T}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(T){this.V=T}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof oi==0?w1(g,this.objId,this.scope):g},set:function(T){T=T.toString(),g=this instanceof oi==0?T.substr(0,1)==="("?Tc(T.substr(1,T.length-2)):Tc(T):T}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof oi==1?Tc(g.substr(1,g.length-1)):g},set:function(T){T=T.toString(),g=this instanceof oi==1?"/"+n0(T):T}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var S,E=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return E},set:function(T){T=!!T,E=T}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(S)return S},set:function(T){S=T}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,1)},set:function(T){T?this.Ff=Nr(this.Ff,1):this.Ff=Rr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,2)},set:function(T){T?this.Ff=Nr(this.Ff,2):this.Ff=Rr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,3)},set:function(T){T?this.Ff=Nr(this.Ff,3):this.Ff=Rr(this.Ff,3)}});var k=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(k!==null)return k},set:function(T){if([0,1,2].indexOf(T)===-1)throw new Error('Invalid value "'+T+'" for attribute Q supplied.');k=T}}),Object.defineProperty(this,"textAlign",{get:function(){var T;switch(k){case 0:default:T="left";break;case 1:T="center";break;case 2:T="right"}return T},configurable:!0,enumerable:!0,set:function(T){switch(T){case"right":case 2:k=2;break;case"center":case 1:k=1;break;default:k=0}}})};ra(Ns,ro);var qc=function(){Ns.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Nw(e,this.objId,this.scope)},set:function(n){var i,s;s=[],typeof(i=n)=="string"&&(s=(function(o,u,c){c||(c=1);for(var f,h=[];f=u.exec(o);)h.push(f[c]);return h})(i,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,i){for(i=i||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,18)},set:function(n){n?this.Ff=Nr(this.Ff,18):this.Ff=Rr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Nr(this.Ff,19):this.Ff=Rr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,20)},set:function(n){n?(this.Ff=Nr(this.Ff,20),e.sort()):this.Ff=Rr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,22)},set:function(n){n?this.Ff=Nr(this.Ff,22):this.Ff=Rr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,23)},set:function(n){n?this.Ff=Nr(this.Ff,23):this.Ff=Rr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,27)},set:function(n){n?this.Ff=Nr(this.Ff,27):this.Ff=Rr(this.Ff,27)}}),this.hasAppearanceStream=!1};ra(qc,Ns);var Fc=function(){qc.call(this),this.fontName="helvetica",this.combo=!1};ra(Fc,qc);var Hc=function(){Fc.call(this),this.combo=!0};ra(Hc,Fc);var Oh=function(){Hc.call(this),this.edit=!0};ra(Oh,Hc);var oi=function(){Ns.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,15)},set:function(n){n?this.Ff=Nr(this.Ff,15):this.Ff=Rr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,16)},set:function(n){n?this.Ff=Nr(this.Ff,16):this.Ff=Rr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,17)},set:function(n){n?this.Ff=Nr(this.Ff,17):this.Ff=Rr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,26)},set:function(n){n?this.Ff=Nr(this.Ff,26):this.Ff=Rr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(o){return o};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var i,s=[];for(i in s.push("<<"),e)s.push("/"+i+" ("+Cu(n(e[i]))+")");return s.push(">>"),s.join(`
`)}},set:function(n){Rn(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n0(n)}})};ra(oi,Ns);var Dh=function(){oi.call(this),this.pushButton=!0};ra(Dh,oi);var $c=function(){oi.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};ra($c,oi);var r0=function(){var t,e;Ns.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var n,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(c){return c};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var o,u=[];for(o in u.push("<<"),i)u.push("/"+o+" ("+Cu(s(i[o]))+")");return u.push(">>"),u.join(`
`)},set:function(s){Rn(s)==="object"&&(i=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(s){typeof s=="string"&&(i.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(s){n="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Tt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ra(r0,Ns),$c.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},$c.prototype.createOption=function(t){var e=new r0;return e.Parent=this,e.optionName=t,this.Kids.push(e),Bk.call(this.scope,e),e};var Ih=function(){oi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Tt.CheckBox.createAppearanceStream()};ra(Ih,oi);var Su=function(){Ns.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,13)},set:function(e){e?this.Ff=Nr(this.Ff,13):this.Ff=Rr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,21)},set:function(e){e?this.Ff=Nr(this.Ff,21):this.Ff=Rr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,23)},set:function(e){e?this.Ff=Nr(this.Ff,23):this.Ff=Rr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,24)},set:function(e){e?this.Ff=Nr(this.Ff,24):this.Ff=Rr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,25)},set:function(e){e?this.Ff=Nr(this.Ff,25):this.Ff=Rr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,26)},set:function(e){e?this.Ff=Nr(this.Ff,26):this.Ff=Rr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ra(Su,Ns);var Mh=function(){Su.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,14)},set:function(t){t?this.Ff=Nr(this.Ff,14):this.Ff=Rr(this.Ff,14)}}),this.password=!0};ra(Mh,Su);var Tt={CheckBox:{createAppearanceStream:function(){return{N:{On:Tt.CheckBox.YesNormal},D:{On:Tt.CheckBox.YesPushDown,Off:Tt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=eo(t);e.scope=t.scope;var n=[],i=t.scope.internal.getFont(t.fontName,t.fontStyle).id,s=t.scope.__private__.encodeColorString(t.color),o=eg(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Xt(Tt.internal.getWidth(t))+" "+Xt(Tt.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+i+" "+Xt(o.fontSize)+" Tf "+s),n.push("BT"),n.push(o.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=eo(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=[],o=Tt.internal.getHeight(t),u=Tt.internal.getWidth(t),c=eg(t,t.caption);return s.push("1 g"),s.push("0 0 "+Xt(u)+" "+Xt(o)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Xt(u-1)+" "+Xt(o-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+n+" "+Xt(c.fontSize)+" Tf "+i),s.push(c.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(t){var e=eo(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Xt(Tt.internal.getWidth(t))+" "+Xt(Tt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Tt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Tt.RadioButton.Circle.YesNormal,e.D[t]=Tt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=eo(t);e.scope=t.scope;var n=[],i=Tt.internal.getWidth(t)<=Tt.internal.getHeight(t)?Tt.internal.getWidth(t)/4:Tt.internal.getHeight(t)/4;i=Number((.9*i).toFixed(5));var s=Tt.internal.Bezier_C,o=Number((i*s).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Tl(Tt.internal.getWidth(t)/2)+" "+Tl(Tt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=eo(t);e.scope=t.scope;var n=[],i=Tt.internal.getWidth(t)<=Tt.internal.getHeight(t)?Tt.internal.getWidth(t)/4:Tt.internal.getHeight(t)/4;i=Number((.9*i).toFixed(5));var s=Number((2*i).toFixed(5)),o=Number((s*Tt.internal.Bezier_C).toFixed(5)),u=Number((i*Tt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Tl(Tt.internal.getWidth(t)/2)+" "+Tl(Tt.internal.getHeight(t)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),n.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),n.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),n.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Tl(Tt.internal.getWidth(t)/2)+" "+Tl(Tt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+u+" "+u+" "+i+" 0 "+i+" c"),n.push("-"+u+" "+i+" -"+i+" "+u+" -"+i+" 0 c"),n.push("-"+i+" -"+u+" -"+u+" -"+i+" 0 -"+i+" c"),n.push(u+" -"+i+" "+i+" -"+u+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=eo(t);e.scope=t.scope;var n=[],i=Tt.internal.getWidth(t)<=Tt.internal.getHeight(t)?Tt.internal.getWidth(t)/4:Tt.internal.getHeight(t)/4;i=Number((.9*i).toFixed(5));var s=Number((2*i).toFixed(5)),o=Number((s*Tt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Tl(Tt.internal.getWidth(t)/2)+" "+Tl(Tt.internal.getHeight(t)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),n.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),n.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),n.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Tt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Tt.RadioButton.Cross.YesNormal,e.D[t]=Tt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=eo(t);e.scope=t.scope;var n=[],i=Tt.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Xt(Tt.internal.getWidth(t)-2)+" "+Xt(Tt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Xt(i.x1.x)+" "+Xt(i.x1.y)+" m"),n.push(Xt(i.x2.x)+" "+Xt(i.x2.y)+" l"),n.push(Xt(i.x4.x)+" "+Xt(i.x4.y)+" m"),n.push(Xt(i.x3.x)+" "+Xt(i.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=eo(t);e.scope=t.scope;var n=Tt.internal.calculateCross(t),i=[];return i.push("0.749023 g"),i.push("0 0 "+Xt(Tt.internal.getWidth(t))+" "+Xt(Tt.internal.getHeight(t))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+Xt(Tt.internal.getWidth(t)-2)+" "+Xt(Tt.internal.getHeight(t)-2)+" re"),i.push("W"),i.push("n"),i.push(Xt(n.x1.x)+" "+Xt(n.x1.y)+" m"),i.push(Xt(n.x2.x)+" "+Xt(n.x2.y)+" l"),i.push(Xt(n.x4.x)+" "+Xt(n.x4.y)+" m"),i.push(Xt(n.x3.x)+" "+Xt(n.x3.y)+" l"),i.push("s"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=eo(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Xt(Tt.internal.getWidth(t))+" "+Xt(Tt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};Tt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Tt.internal.getWidth(t),n=Tt.internal.getHeight(t),i=Math.min(e,n);return{x1:{x:(e-i)/2,y:(n-i)/2+i},x2:{x:(e-i)/2+i,y:(n-i)/2},x3:{x:(e-i)/2,y:(n-i)/2},x4:{x:(e-i)/2+i,y:(n-i)/2+i}}}},Tt.internal.getWidth=function(t){var e=0;return Rn(t)==="object"&&(e=Gy(t.Rect[2])),e},Tt.internal.getHeight=function(t){var e=0;return Rn(t)==="object"&&(e=Gy(t.Rect[3])),e};var Bk=_r.addField=function(t){if(Uk(this,t),!(t instanceof Ns))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};_r.AcroFormChoiceField=qc,_r.AcroFormListBox=Fc,_r.AcroFormComboBox=Hc,_r.AcroFormEditBox=Oh,_r.AcroFormButton=oi,_r.AcroFormPushButton=Dh,_r.AcroFormRadioButton=$c,_r.AcroFormCheckBox=Ih,_r.AcroFormTextField=Su,_r.AcroFormPasswordField=Mh,_r.AcroFormAppearance=Tt,_r.AcroForm={ChoiceField:qc,ListBox:Fc,ComboBox:Hc,EditBox:Oh,Button:oi,PushButton:Dh,RadioButton:$c,CheckBox:Ih,TextField:Su,PasswordField:Mh,Appearance:Tt},Ot.AcroForm={ChoiceField:qc,ListBox:Fc,ComboBox:Hc,EditBox:Oh,Button:oi,PushButton:Dh,RadioButton:$c,CheckBox:Ih,TextField:Su,PasswordField:Mh,Appearance:Tt};Ot.AcroForm;function Dw(t){return t.reduce(function(e,n,i){return e[n]=i,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",i={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=t.__addimage__.getImageFileTypeByImageData=function(N,P){var Y,F,X,O,R,se=n;if((P=P||n)==="RGBA"||N.data!==void 0&&N.data instanceof Uint8ClampedArray&&"height"in N&&"width"in N)return"RGBA";if(H(N))for(R in i)for(X=i[R],Y=0;Y<X.length;Y+=1){for(O=!0,F=0;F<X[Y].length;F+=1)if(X[Y][F]!==void 0&&X[Y][F]!==N[F]){O=!1;break}if(O===!0){se=R;break}}else for(R in i)for(X=i[R],Y=0;Y<X.length;Y+=1){for(O=!0,F=0;F<X[Y].length;F+=1)if(X[Y][F]!==void 0&&X[Y][F]!==N.charCodeAt(F)){O=!1;break}if(O===!0){se=R;break}}return se===n&&P!==n&&(se=P),se},o=function N(P){for(var Y=this.internal.write,F=this.internal.putStream,X=(0,this.internal.getFilters)();X.indexOf("FlateEncode")!==-1;)X.splice(X.indexOf("FlateEncode"),1);P.objectId=this.internal.newObject();var O=[];if(O.push({key:"Type",value:"/XObject"}),O.push({key:"Subtype",value:"/Image"}),O.push({key:"Width",value:P.width}),O.push({key:"Height",value:P.height}),P.colorSpace===T.INDEXED?O.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(P.palette.length/3-1)+" "+("sMask"in P&&P.sMask!==void 0?P.objectId+2:P.objectId+1)+" 0 R]"}):(O.push({key:"ColorSpace",value:"/"+P.colorSpace}),P.colorSpace===T.DEVICE_CMYK&&O.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),O.push({key:"BitsPerComponent",value:P.bitsPerComponent}),"decodeParameters"in P&&P.decodeParameters!==void 0&&O.push({key:"DecodeParms",value:"<<"+P.decodeParameters+">>"}),"transparency"in P&&Array.isArray(P.transparency)&&P.transparency.length>0){for(var R="",se=0,le=P.transparency.length;se<le;se++)R+=P.transparency[se]+" "+P.transparency[se]+" ";O.push({key:"Mask",value:"["+R+"]"})}P.sMask!==void 0&&O.push({key:"SMask",value:P.objectId+1+" 0 R"});var me=P.filter!==void 0?["/"+P.filter]:void 0;if(F({data:P.data,additionalKeyValues:O,alreadyAppliedFilters:me,objectId:P.objectId}),Y("endobj"),"sMask"in P&&P.sMask!==void 0){var Z,j=(Z=P.sMaskBitsPerComponent)!==null&&Z!==void 0?Z:P.bitsPerComponent,G={width:P.width,height:P.height,colorSpace:"DeviceGray",bitsPerComponent:j,data:P.sMask};"filter"in P&&(G.decodeParameters="/Predictor ".concat(P.predictor," /Colors 1 /BitsPerComponent ").concat(j," /Columns ").concat(P.width),G.filter=P.filter),N.call(this,G)}if(P.colorSpace===T.INDEXED){var V=this.internal.newObject();F({data:I(new Uint8Array(P.palette)),objectId:V}),Y("endobj")}},u=function(){var N=this.internal.collections[e+"images"];for(var P in N)o.call(this,N[P])},c=function(){var N,P=this.internal.collections[e+"images"],Y=this.internal.write;for(var F in P)Y("/I"+(N=P[F]).index,N.objectId,"0","R")},f=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",u),this.internal.events.subscribe("putXobjectDict",c))},h=function(){var N=this.internal.collections[e+"images"];return f.call(this),N},p=function(){return Object.keys(this.internal.collections[e+"images"]).length},y=function(N){return typeof t["process"+N.toUpperCase()]=="function"},b=function(N){return Rn(N)==="object"&&N.nodeType===1},g=function(N,P){if(N.nodeName==="IMG"&&N.hasAttribute("src")){var Y=""+N.getAttribute("src");if(Y.indexOf("data:image/")===0)return Rh(unescape(Y).split("base64,").pop());var F=t.loadFile(Y,!0);if(F!==void 0)return F}if(N.nodeName==="CANVAS"){if(N.width===0||N.height===0)throw new Error("Given canvas must have data. Canvas width: "+N.width+", height: "+N.height);var X;switch(P){case"PNG":X="image/png";break;case"WEBP":X="image/webp";break;default:X="image/jpeg"}return Rh(N.toDataURL(X,1).split("base64,").pop())}},S=function(N){var P=this.internal.collections[e+"images"];if(P){for(var Y in P)if(N===P[Y].alias)return P[Y]}},E=function(N,P,Y){return N||P||(N=-96,P=-96),N<0&&(N=-1*Y.width*72/N/this.internal.scaleFactor),P<0&&(P=-1*Y.height*72/P/this.internal.scaleFactor),N===0&&(N=P*Y.width/Y.height),P===0&&(P=N*Y.height/Y.width),[N,P]},k=function(N,P,Y,F,X,O){var R=E.call(this,Y,F,X),se=this.internal.getCoordinateString,le=this.internal.getVerticalCoordinateString,me=h.call(this);if(Y=R[0],F=R[1],me[X.index]=X,O){O*=Math.PI/180;var Z=Math.cos(O),j=Math.sin(O),G=function(ee){return ee.toFixed(4)},V=[G(Z),G(j),G(-1*j),G(Z),0,0,"cm"]}this.internal.write("q"),O?(this.internal.write([1,"0","0",1,se(N),le(P+F),"cm"].join(" ")),this.internal.write(V.join(" ")),this.internal.write([se(Y),"0","0",se(F),"0","0","cm"].join(" "))):this.internal.write([se(Y),"0","0",se(F),se(N),le(P+F),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+X.index+" Do"),this.internal.write("Q")},T=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var z=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},B=t.__addimage__.sHashCode=function(N){var P,Y,F=0;if(typeof N=="string")for(Y=N.length,P=0;P<Y;P++)F=(F<<5)-F+N.charCodeAt(P),F|=0;else if(H(N))for(Y=N.byteLength/2,P=0;P<Y;P++)F=(F<<5)-F+N[P],F|=0;return F},D=t.__addimage__.validateStringAsBase64=function(N){(N=N||"").toString().trim();var P=!0;return N.length===0&&(P=!1),N.length%4!=0&&(P=!1),/^[A-Za-z0-9+/]+$/.test(N.substr(0,N.length-2))===!1&&(P=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(N.substr(-2))===!1&&(P=!1),P},ne=t.__addimage__.extractImageFromDataUrl=function(N){if(N==null||!(N=N.trim()).startsWith("data:"))return null;var P=N.indexOf(",");return P<0?null:N.substring(0,P).trim().endsWith("base64")?N.substring(P+1):null};t.__addimage__.isArrayBuffer=function(N){return N instanceof ArrayBuffer};var H=t.__addimage__.isArrayBufferView=function(N){return N instanceof Int8Array||N instanceof Uint8Array||N instanceof Uint8ClampedArray||N instanceof Int16Array||N instanceof Uint16Array||N instanceof Int32Array||N instanceof Uint32Array||N instanceof Float32Array||N instanceof Float64Array},te=t.__addimage__.binaryStringToUint8Array=function(N){for(var P=N.length,Y=new Uint8Array(P),F=0;F<P;F++)Y[F]=N.charCodeAt(F);return Y},I=t.__addimage__.arrayBufferToBinaryString=function(N){for(var P="",Y=H(N)?N:new Uint8Array(N),F=0;F<Y.length;F+=8192)P+=String.fromCharCode.apply(null,Y.subarray(F,F+8192));return P};t.addImage=function(){var N,P,Y,F,X,O,R,se,le;if(typeof arguments[1]=="number"?(P=n,Y=arguments[1],F=arguments[2],X=arguments[3],O=arguments[4],R=arguments[5],se=arguments[6],le=arguments[7]):(P=arguments[1],Y=arguments[2],F=arguments[3],X=arguments[4],O=arguments[5],R=arguments[6],se=arguments[7],le=arguments[8]),Rn(N=arguments[0])==="object"&&!b(N)&&"imageData"in N){var me=N;N=me.imageData,P=me.format||P||n,Y=me.x||Y||0,F=me.y||F||0,X=me.w||me.width||X,O=me.h||me.height||O,R=me.alias||R,se=me.compression||se,le=me.rotation||me.angle||le}var Z=this.internal.getFilters();if(se===void 0&&Z.indexOf("FlateEncode")!==-1&&(se="SLOW"),isNaN(Y)||isNaN(F))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var j=L.call(this,N,P,R,se);return k.call(this,Y,F,X,O,j,le),this};var L=function(N,P,Y,F){var X,O,R;if(typeof N=="string"&&s(N)===n){N=unescape(N);var se=K(N,!1);(se!==""||(se=t.loadFile(N,!0))!==void 0)&&(N=se)}if(b(N)&&(N=g(N,P)),P=s(N,P),!y(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(((R=Y)==null||R.length===0)&&(Y=(function(le){return typeof le=="string"||H(le)?B(le):H(le.data)?B(le.data):null})(N)),(X=S.call(this,Y))||(N instanceof Uint8Array||P==="RGBA"||(O=N,N=te(N)),X=this["process"+P.toUpperCase()](N,p.call(this),Y,(function(le){return le&&typeof le=="string"&&(le=le.toUpperCase()),le in t.image_compression?le:z.NONE})(F),O)),!X)throw new Error("An unknown error occurred whilst processing the image.");return X},K=t.__addimage__.convertBase64ToBinaryString=function(N,P){P=typeof P!="boolean"||P;var Y,F="";if(typeof N=="string"){var X;Y=(X=ne(N))!==null&&X!==void 0?X:N;try{F=Rh(Y)}catch(O){if(P)throw D(Y)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+O.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return F};t.getImageProperties=function(N){var P,Y,F="";if(b(N)&&(N=g(N)),typeof N=="string"&&s(N)===n&&((F=K(N,!1))===""&&(F=t.loadFile(N)||""),N=F),Y=s(N),!y(Y))throw new Error("addImage does not support files of type '"+Y+"', please ensure that a plugin for '"+Y+"' support is added.");if(N instanceof Uint8Array||(N=te(N)),!(P=this["process"+Y.toUpperCase()](N)))throw new Error("An unknown error occurred whilst processing the image");return P.fileType=Y,P}})(Ot.API),(function(t){var e=function(n){if(n!==void 0&&n!="")return!0};Ot.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var i,s,o,u=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(n.objId),h=n.pageContext.annotations,p=!1,y=0;y<h.length&&!p;y++)switch((i=h[y]).type){case"link":(e(i.options.url)||e(i.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var b=0;b<h.length;b++){i=h[b];var g=this.internal.pdfEscape,S=this.internal.getEncryptor(n.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var E=this.internal.newAdditionalObject(),k=this.internal.newAdditionalObject(),T=this.internal.getEncryptor(E.objId),z=i.title||"Note";o="<</Type /Annot /Subtype /Text "+(s="/Rect ["+u(i.bounds.x)+" "+c(i.bounds.y+i.bounds.h)+" "+u(i.bounds.x+i.bounds.w)+" "+c(i.bounds.y)+"] ")+"/Contents ("+g(T(i.contents))+")",o+=" /Popup "+k.objId+" 0 R",o+=" /P "+f.objId+" 0 R",o+=" /T ("+g(T(z))+") >>",E.content=o;var B=E.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+u(i.bounds.x+30)+" "+c(i.bounds.y+i.bounds.h)+" "+u(i.bounds.x+i.bounds.w+30)+" "+c(i.bounds.y)+"] ")+" /Parent "+B,i.open&&(o+=" /Open true"),o+=" >>",k.content=o,this.internal.write(E.objId,"0 R",k.objId,"0 R");break;case"freetext":s="/Rect ["+u(i.bounds.x)+" "+c(i.bounds.y)+" "+u(i.bounds.x+i.bounds.w)+" "+c(i.bounds.y+i.bounds.h)+"] ";var D=i.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+g(S(i.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+D+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(i.options.name){var ne=this.annotations._nameMap[i.options.name];i.options.pageNumber=ne.page,i.options.top=ne.y}else i.options.top||(i.options.top=0);if(s="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",o="",i.options.url)o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+g(S(i.options.url))+") >>";else if(i.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,o+=" /FitV "+i.options.left+"]";break;default:var H=c(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),o+=" /XYZ "+i.options.left+" "+H+" "+i.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var i=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":i.pageContext.annotations.push(n)}},t.link=function(n,i,s,o,u){var c=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:f(n),y:h(i),w:f(n+s),h:h(i+o)},options:u,type:"link"})},t.textWithLink=function(n,i,s,o){var u,c,f=this.getTextWidth(n),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){c=o.maxWidth;var p=this.splitTextToSize(n,c).length;u=Math.ceil(h*p)}else c=f,u=h;return this.text(n,i,s,o),s+=.2*h,o.align==="center"&&(i-=f/2),o.align==="right"&&(i-=f),this.link(i,s-h,c,u,o),f},t.getTextWidth=function(n){var i=this.internal.getFontSize();return this.getStringUnitWidth(n)*i/this.internal.scaleFactor}})(Ot.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];t.__arabicParser__={};var o=t.__arabicParser__.isInArabicSubstitutionA=function(E){return e[E.charCodeAt(0)]!==void 0},u=t.__arabicParser__.isArabicLetter=function(E){return typeof E=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(E)},c=t.__arabicParser__.isArabicEndLetter=function(E){return u(E)&&o(E)&&e[E.charCodeAt(0)].length<=2},f=t.__arabicParser__.isArabicAlfLetter=function(E){return u(E)&&s.indexOf(E.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(E){return u(E)&&o(E)&&e[E.charCodeAt(0)].length>=1};var h=t.__arabicParser__.arabicLetterHasFinalForm=function(E){return u(E)&&o(E)&&e[E.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(E){return u(E)&&o(E)&&e[E.charCodeAt(0)].length>=3};var p=t.__arabicParser__.arabicLetterHasMedialForm=function(E){return u(E)&&o(E)&&e[E.charCodeAt(0)].length==4},y=t.__arabicParser__.resolveLigatures=function(E){var k=0,T=n,z="",B=0;for(k=0;k<E.length;k+=1)T[E.charCodeAt(k)]!==void 0?(B++,typeof(T=T[E.charCodeAt(k)])=="number"&&(z+=String.fromCharCode(T),T=n,B=0),k===E.length-1&&(T=n,z+=E.charAt(k-(B-1)),k-=B-1,B=0)):(T=n,z+=E.charAt(k-B),k-=B,B=0);return z};t.__arabicParser__.isArabicDiacritic=function(E){return E!==void 0&&i[E.charCodeAt(0)]!==void 0};var b=t.__arabicParser__.getCorrectForm=function(E,k,T){return u(E)?o(E)===!1?-1:!h(E)||!u(k)&&!u(T)||!u(T)&&c(k)||c(E)&&!u(k)||c(E)&&f(k)||c(E)&&c(k)?0:p(E)&&u(k)&&!c(k)&&u(T)&&h(T)?3:c(E)||!u(T)?1:2:-1},g=function(E){var k=0,T=0,z=0,B="",D="",ne="",H=(E=E||"").split("\\s+"),te=[];for(k=0;k<H.length;k+=1){for(te.push(""),T=0;T<H[k].length;T+=1)B=H[k][T],D=H[k][T-1],ne=H[k][T+1],u(B)?(z=b(B,D,ne),te[k]+=z!==-1?String.fromCharCode(e[B.charCodeAt(0)][z]):B):te[k]+=B;te[k]=y(te[k])}return te.join(" ")},S=t.__arabicParser__.processArabic=t.processArabic=function(){var E,k=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,T=[];if(Array.isArray(k)){var z=0;for(T=[],z=0;z<k.length;z+=1)Array.isArray(k[z])?T.push([g(k[z][0]),k[z][1],k[z][2]]):T.push([g(k[z])]);E=T}else E=g(k);return typeof arguments[0]=="string"?E:(arguments[0].text=E,arguments[0])};t.events.push(["preProcessText",S])})(Ot.API),Ot.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(c){n=c}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(c){i=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(c){s=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(c){o=c}});var u={};Object.defineProperty(this,"style",{get:function(){return u},set:function(c){u=c}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,i){var s;if((n=n||"2d")!=="2d")return null;for(s in i)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=i[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Ot.API),(function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(E){f=E}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(E){h=E}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(E){p=E}});var y=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return y},set:function(E){y=E}});var b=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return b},set:function(E){b=E}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(E){g=E}});var S=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return S},set:function(E){S=E}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(f){return i.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},t.getTextDimensions=function(f,h){i.call(this);var p=(h=h||{}).fontSize||this.getFontSize(),y=h.font||this.getFont(),b=h.scaleFactor||this.internal.scaleFactor,g=0,S=0,E=0,k=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var T=h.maxWidth;T>0?typeof f=="string"?f=this.splitTextToSize(f,T):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(B,D){return B.concat(k.splitTextToSize(D,T))},[])):f=Array.isArray(f)?f:[f];for(var z=0;z<f.length;z++)g<(E=this.getStringUnitWidth(f[z],{font:y})*p)&&(g=E);return g!==0&&(S=f.length),{w:g/=b,h:Math.max((S*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/b,0)}},t.cellAddPage=function(){i.call(this),this.addPage();var f=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var u=t.cell=function(){var f;f=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),i.call(this);var h=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,y=this.internal.__cell__.margins||e,b=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===f.lineNumber?(f.x=(h.x||0)+(h.width||0),f.y=h.y||0):h.y+h.height+f.height+y.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=y.top,g&&b&&(this.printHeaderRow(f.lineNumber,!0),f.y+=b[0].height)):f.y=h.y+h.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,n===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-p,f.y+p,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+p,{align:"center",baseline:"top",maxWidth:f.width-p-p}):this.text(f.text,f.x+p,f.y+p,{align:"left",baseline:"top",maxWidth:f.width-p-p})),this.internal.__cell__.lastCell=f,this};t.table=function(f,h,p,y,b){if(i.call(this),!p)throw new Error("No data for PDF table.");var g,S,E,k,T=[],z=[],B=[],D={},ne={},H=[],te=[],I=(b=b||{}).autoSize||!1,L=b.printHeaders!==!1,K=b.css&&b.css["font-size"]!==void 0?16*b.css["font-size"]:b.fontSize||12,N=b.margins||Object.assign({width:this.getPageWidth()},e),P=typeof b.padding=="number"?b.padding:3,Y=b.headerBackgroundColor||"#c8c8c8",F=b.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=L,this.internal.__cell__.margins=N,this.internal.__cell__.table_font_size=K,this.internal.__cell__.padding=P,this.internal.__cell__.headerBackgroundColor=Y,this.internal.__cell__.headerTextColor=F,this.setFontSize(K),y==null)z=T=Object.keys(p[0]),B=T.map(function(){return"left"});else if(Array.isArray(y)&&Rn(y[0])==="object")for(T=y.map(function(me){return me.name}),z=y.map(function(me){return me.prompt||me.name||""}),B=y.map(function(me){return me.align||"left"}),g=0;g<y.length;g+=1)ne[y[g].name]=.7499990551181103*y[g].width;else Array.isArray(y)&&typeof y[0]=="string"&&(z=T=y,B=T.map(function(){return"left"}));if(I||Array.isArray(y)&&typeof y[0]=="string")for(g=0;g<T.length;g+=1){for(D[k=T[g]]=p.map(function(me){return me[k]}),this.setFont(void 0,"bold"),H.push(this.getTextDimensions(z[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),S=D[k],this.setFont(void 0,"normal"),E=0;E<S.length;E+=1)H.push(this.getTextDimensions(S[E],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ne[k]=Math.max.apply(null,H)+P+P,H=[]}if(L){var X={};for(g=0;g<T.length;g+=1)X[T[g]]={},X[T[g]].text=z[g],X[T[g]].align=B[g];var O=c.call(this,X,ne);te=T.map(function(me){return new o(f,h,ne[me],O,X[me].text,void 0,X[me].align)}),this.setTableHeaderRow(te),this.printHeaderRow(1,!1)}var R=y.reduce(function(me,Z){return me[Z.name]=Z.align,me},{});for(g=0;g<p.length;g+=1){"rowStart"in b&&b.rowStart instanceof Function&&b.rowStart({row:g,data:p[g]},this);var se=c.call(this,p[g],ne);for(E=0;E<T.length;E+=1){var le=p[g][T[E]];"cellStart"in b&&b.cellStart instanceof Function&&b.cellStart({row:g,col:E,data:le},this),u.call(this,new o(f,h,ne[T[E]],se,le,g+2,R[T[E]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=h,this};var c=function(f,h){var p=this.internal.__cell__.padding,y=this.internal.__cell__.table_font_size,b=this.internal.scaleFactor;return Object.keys(f).map(function(g){var S=f[g];return this.splitTextToSize(S.hasOwnProperty("text")?S.text:S,h[g]-p-p)},this).map(function(g){return this.getLineHeightFactor()*g.length*y/b+p+p},this).reduce(function(g,S){return Math.max(g,S)},0)};t.setTableHeaderRow=function(f){i.call(this),this.internal.__cell__.tableHeaderRow=f},t.printHeaderRow=function(f,h){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var y=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(y[0],y[1],y[2],y[3],void 0,-1)}this.setFont(void 0,"bold");for(var b=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){p=this.internal.__cell__.tableHeaderRow[g].clone(),h&&(p.y=this.internal.__cell__.margins.top||0,b.push(p)),p.lineNumber=f;var S=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),u.call(this,p),this.setTextColor(S)}b.length>0&&this.setTableHeaderRow(b),this.setFont(void 0,"normal"),n=!1}})(Ot.API);var Iw={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Mw=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],tg=Dw(Mw),zw=[100,200,300,400,500,600,700,800,900],Pk=Dw(zw);function x1(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=(function(o){return Iw[o=o||"normal"]?o:"normal"})(t.style),i=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(t.weight),s=(function(o){return typeof tg[o=o||"normal"]=="number"?o:"normal"})(t.stretch);return{family:e,style:n,weight:i,stretch:s,src:t.src||[],ref:t.ref||{name:e,style:[s,n,i].join(" ")}}}function Yy(t,e,n,i){var s;for(s=n;s>=0&&s<e.length;s+=i)if(t[e[s]])return t[e[s]];for(s=n;s>=0&&s<e.length;s-=i)if(t[e[s]])return t[e[s]]}var qk={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Vy={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Ky(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function Xy(t){return t.trimLeft()}function Fk(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function Hk(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Lc,Eh,Jy,Qy,Zy,_1=["times"];function eb(t,e,n,i,s){var o=4,u=nb;switch(s){case Ot.API.image_compression.FAST:o=1,u=tb;break;case Ot.API.image_compression.MEDIUM:o=6,u=rb;break;case Ot.API.image_compression.SLOW:o=9,u=ib}t=(function(f,h,p,y){for(var b,g=f.length/h,S=new Uint8Array(f.length+g),E=[$k,tb,nb,rb,ib],k=0;k<g;k+=1){var T=k*h,z=f.subarray(T,T+h);if(y)S.set(y(z,p,b),T+k);else{for(var B=E.length,D=[],ne=0;ne<B;ne+=1)D[ne]=E[ne](z,p,b);var H=Gk(D.concat());S.set(D[H],T+k)}b=z}return S})(t,e,Math.ceil(n*i/8),u);var c=V1(t,{level:o});return Ot.API.__addimage__.arrayBufferToBinaryString(c)}function $k(t){var e=Array.apply([],t);return e.unshift(0),e}function tb(t,e){var n=t.length,i=[];i[0]=1;for(var s=0;s<n;s+=1){var o=t[s-e]||0;i[s+1]=t[s]-o+256&255}return i}function nb(t,e,n){var i=t.length,s=[];s[0]=2;for(var o=0;o<i;o+=1){var u=n&&n[o]||0;s[o+1]=t[o]-u+256&255}return s}function rb(t,e,n){var i=t.length,s=[];s[0]=3;for(var o=0;o<i;o+=1){var u=t[o-e]||0,c=n&&n[o]||0;s[o+1]=t[o]+256-(u+c>>>1)&255}return s}function ib(t,e,n){var i=t.length,s=[];s[0]=4;for(var o=0;o<i;o+=1){var u=Wk(t[o-e]||0,n&&n[o]||0,n&&n[o-e]||0);s[o+1]=t[o]-u+256&255}return s}function Wk(t,e,n){if(t===e&&e===n)return t;var i=Math.abs(e-n),s=Math.abs(t-n),o=Math.abs(t+e-n-n);return i<=s&&i<=o?t:s<=o?e:n}function Gk(t){var e=t.map(function(n){return n.reduce(function(i,s){return i+Math.abs(s)},0)});return e.indexOf(Math.min.apply(null,e))}function S1(t,e,n){var i=e*n,s=Math.floor(i/8),o=16-(i-8*s+n),u=(1<<n)-1;return Uw(t,s)>>o&u}function ab(t,e,n,i){var s=n*i,o=Math.floor(s/8),u=16-(s-8*o+i),c=(1<<i)-1,f=(e&c)<<u;(function(h,p,y){if(p+1<h.byteLength)h.setUint16(p,y,!1);else{var b=y>>8&255;h.setUint8(p,b)}})(t,o,Uw(t,o)&~(c<<u)&65535|f)}function Uw(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function Yk(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,i=t[e++]|t[e++]<<8,s=t[e++],o=s>>7,u=1<<1+(7&s);t[e++],t[e++];var c=null,f=null;o&&(c=e,f=u,e+=3*u);var h=!0,p=[],y=0,b=null,g=0,S=null;for(this.width=n,this.height=i;h&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,S=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((N=t[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var E=t[e++];y=t[e++]|t[e++]<<8,b=t[e++],1&E||(b=null),g=E>>2&7,e++;break;case 254:for(;;){if(!((N=t[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var k=t[e++]|t[e++]<<8,T=t[e++]|t[e++]<<8,z=t[e++]|t[e++]<<8,B=t[e++]|t[e++]<<8,D=t[e++],ne=D>>6&1,H=1<<1+(7&D),te=c,I=f,L=!1;D>>7&&(L=!0,te=e,I=H,e+=3*H);var K=e;for(e++;;){var N;if(!((N=t[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}p.push({x:k,y:T,width:z,height:B,has_local_palette:L,palette_offset:te,palette_size:I,data_offset:K,data_length:e-K,transparent_index:b,interlaced:!!ne,delay:y,disposal:g});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return S},this.frameInfo=function(P){if(P<0||P>=p.length)throw new Error("Frame index out of range.");return p[P]},this.decodeAndBlitFrameBGRA=function(P,Y){var F=this.frameInfo(P),X=F.width*F.height,O=new Uint8Array(X);sb(t,F.data_offset,O,X);var R=F.palette_offset,se=F.transparent_index;se===null&&(se=256);var le=F.width,me=n-le,Z=le,j=4*(F.y*n+F.x),G=4*((F.y+F.height)*n+F.x),V=j,ee=4*me;F.interlaced===!0&&(ee+=4*n*7);for(var q=8,ae=0,pe=O.length;ae<pe;++ae){var ye=O[ae];if(Z===0&&(Z=le,(V+=ee)>=G&&(ee=4*me+4*n*(q-1),V=j+(le+me)*(q<<1),q>>=1)),ye===se)V+=4;else{var _e=t[R+3*ye],Be=t[R+3*ye+1],Qe=t[R+3*ye+2];Y[V++]=Qe,Y[V++]=Be,Y[V++]=_e,Y[V++]=255}--Z}},this.decodeAndBlitFrameRGBA=function(P,Y){var F=this.frameInfo(P),X=F.width*F.height,O=new Uint8Array(X);sb(t,F.data_offset,O,X);var R=F.palette_offset,se=F.transparent_index;se===null&&(se=256);var le=F.width,me=n-le,Z=le,j=4*(F.y*n+F.x),G=4*((F.y+F.height)*n+F.x),V=j,ee=4*me;F.interlaced===!0&&(ee+=4*n*7);for(var q=8,ae=0,pe=O.length;ae<pe;++ae){var ye=O[ae];if(Z===0&&(Z=le,(V+=ee)>=G&&(ee=4*me+4*n*(q-1),V=j+(le+me)*(q<<1),q>>=1)),ye===se)V+=4;else{var _e=t[R+3*ye],Be=t[R+3*ye+1],Qe=t[R+3*ye+2];Y[V++]=_e,Y[V++]=Be,Y[V++]=Qe,Y[V++]=255}--Z}}}function sb(t,e,n,i){for(var s=t[e++],o=1<<s,u=o+1,c=u+1,f=s+1,h=(1<<f)-1,p=0,y=0,b=0,g=t[e++],S=new Int32Array(4096),E=null;;){for(;p<16&&g!==0;)y|=t[e++]<<p,p+=8,g===1?g=t[e++]:--g;if(p<f)break;var k=y&h;if(y>>=f,p-=f,k!==o){if(k===u)break;for(var T=k<c?k:E,z=0,B=T;B>o;)B=S[B]>>8,++z;var D=B;if(b+z+(T!==k?1:0)>i)return void Hn.log("Warning, gif stream longer than expected.");n[b++]=D;var ne=b+=z;for(T!==k&&(n[b++]=D),B=T;z--;)B=S[B],n[--ne]=255&B,B>>=8;E!==null&&c<4096&&(S[c++]=E<<8|D,c>=h+1&&f<12&&(++f,h=h<<1|1)),E=k}else c=u+1,h=(1<<(f=s+1))-1,E=null}return b!==i&&Hn.log("Warning, gif stream shorter than expected."),n}function A1(t){var e,n,i,s,o,u=Math.floor,c=new Array(64),f=new Array(64),h=new Array(64),p=new Array(64),y=new Array(65535),b=new Array(65535),g=new Array(64),S=new Array(64),E=[],k=0,T=7,z=new Array(64),B=new Array(64),D=new Array(64),ne=new Array(256),H=new Array(2048),te=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],I=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],K=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],N=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Y=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],X=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function O(j,G){for(var V=0,ee=0,q=new Array,ae=1;ae<=16;ae++){for(var pe=1;pe<=j[ae];pe++)q[G[ee]]=[],q[G[ee]][0]=V,q[G[ee]][1]=ae,ee++,V++;V*=2}return q}function R(j){for(var G=j[0],V=j[1]-1;V>=0;)G&1<<V&&(k|=1<<T),V--,--T<0&&(k==255?(se(255),se(0)):se(k),T=7,k=0)}function se(j){E.push(j)}function le(j){se(j>>8&255),se(255&j)}function me(j,G,V,ee,q){for(var ae,pe=q[0],ye=q[240],_e=(function(Ee,qe){var Me,lt,ct,dt,ve,Re,Ge,Fe,Ue,Ke,Ve=0;for(Ue=0;Ue<8;++Ue){Me=Ee[Ve],lt=Ee[Ve+1],ct=Ee[Ve+2],dt=Ee[Ve+3],ve=Ee[Ve+4],Re=Ee[Ve+5],Ge=Ee[Ve+6];var ot=Me+(Fe=Ee[Ve+7]),Je=Me-Fe,$e=lt+Ge,tt=lt-Ge,_t=ct+Re,mt=ct-Re,Ht=dt+ve,yt=dt-ve,gt=ot+Ht,vt=ot-Ht,bt=$e+_t,ft=$e-_t;Ee[Ve]=gt+bt,Ee[Ve+4]=gt-bt;var Ct=.707106781*(ft+vt);Ee[Ve+2]=vt+Ct,Ee[Ve+6]=vt-Ct;var tn=.382683433*((gt=yt+mt)-(ft=tt+Je)),Qt=.5411961*gt+tn,on=1.306562965*ft+tn,Gt=.707106781*(bt=mt+tt),Lt=Je+Gt,kn=Je-Gt;Ee[Ve+5]=kn+Qt,Ee[Ve+3]=kn-Qt,Ee[Ve+1]=Lt+on,Ee[Ve+7]=Lt-on,Ve+=8}for(Ve=0,Ue=0;Ue<8;++Ue){Me=Ee[Ve],lt=Ee[Ve+8],ct=Ee[Ve+16],dt=Ee[Ve+24],ve=Ee[Ve+32],Re=Ee[Ve+40],Ge=Ee[Ve+48];var Ar=Me+(Fe=Ee[Ve+56]),$n=Me-Fe,Gn=lt+Ge,wn=lt-Ge,On=ct+Re,Tn=ct-Re,bi=dt+ve,Er=dt-ve,Ln=Ar+bi,Yn=Ar-bi,Zr=Gn+On,Li=Gn-On;Ee[Ve]=Ln+Zr,Ee[Ve+32]=Ln-Zr;var Ui=.707106781*(Li+Yn);Ee[Ve+16]=Yn+Ui,Ee[Ve+48]=Yn-Ui;var ao=.382683433*((Ln=Er+Tn)-(Li=wn+$n)),ia=.5411961*Ln+ao,aa=1.306562965*Li+ao,Os=.707106781*(Zr=Tn+wn),sa=$n+Os,oa=$n-Os;Ee[Ve+40]=oa+ia,Ee[Ve+24]=oa-ia,Ee[Ve+8]=sa+aa,Ee[Ve+56]=sa-aa,Ve++}for(Ue=0;Ue<64;++Ue)Ke=Ee[Ue]*qe[Ue],g[Ue]=Ke>0?Ke+.5|0:Ke-.5|0;return g})(j,G),Be=0;Be<64;++Be)S[te[Be]]=_e[Be];var Qe=S[0]-V;V=S[0],Qe==0?R(ee[0]):(R(ee[b[ae=32767+Qe]]),R(y[ae]));for(var nt=63;nt>0&&S[nt]==0;)nt--;if(nt==0)return R(pe),V;for(var be,$=1;$<=nt;){for(var ge=$;S[$]==0&&$<=nt;)++$;var Oe=$-ge;if(Oe>=16){be=Oe>>4;for(var Te=1;Te<=be;++Te)R(ye);Oe&=15}ae=32767+S[$],R(q[(Oe<<4)+b[ae]]),R(y[ae]),$++}return nt!=63&&R(pe),V}function Z(j){j=Math.min(Math.max(j,1),100),o!=j&&((function(G){for(var V=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ee=0;ee<64;ee++){var q=u((V[ee]*G+50)/100);q=Math.min(Math.max(q,1),255),c[te[ee]]=q}for(var ae=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],pe=0;pe<64;pe++){var ye=u((ae[pe]*G+50)/100);ye=Math.min(Math.max(ye,1),255),f[te[pe]]=ye}for(var _e=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Be=0,Qe=0;Qe<8;Qe++)for(var nt=0;nt<8;nt++)h[Be]=1/(c[te[Be]]*_e[Qe]*_e[nt]*8),p[Be]=1/(f[te[Be]]*_e[Qe]*_e[nt]*8),Be++})(j<50?Math.floor(5e3/j):Math.floor(200-2*j)),o=j)}this.encode=function(j,G){G&&Z(G),E=new Array,k=0,T=7,le(65496),le(65504),le(16),se(74),se(70),se(73),se(70),se(0),se(1),se(1),se(0),le(1),le(1),se(0),se(0),(function(){le(65499),le(132),se(0);for(var lt=0;lt<64;lt++)se(c[lt]);se(1);for(var ct=0;ct<64;ct++)se(f[ct])})(),(function(lt,ct){le(65472),le(17),se(8),le(ct),le(lt),se(3),se(1),se(17),se(0),se(2),se(17),se(1),se(3),se(17),se(1)})(j.width,j.height),(function(){le(65476),le(418),se(0);for(var lt=0;lt<16;lt++)se(I[lt+1]);for(var ct=0;ct<=11;ct++)se(L[ct]);se(16);for(var dt=0;dt<16;dt++)se(K[dt+1]);for(var ve=0;ve<=161;ve++)se(N[ve]);se(1);for(var Re=0;Re<16;Re++)se(P[Re+1]);for(var Ge=0;Ge<=11;Ge++)se(Y[Ge]);se(17);for(var Fe=0;Fe<16;Fe++)se(F[Fe+1]);for(var Ue=0;Ue<=161;Ue++)se(X[Ue])})(),le(65498),le(12),se(3),se(1),se(0),se(2),se(17),se(3),se(17),se(0),se(63),se(0);var V=0,ee=0,q=0;k=0,T=7,this.encode.displayName="_encode_";for(var ae,pe,ye,_e,Be,Qe,nt,be,$,ge=j.data,Oe=j.width,Te=j.height,Ee=4*Oe,qe=0;qe<Te;){for(ae=0;ae<Ee;){for(Be=Ee*qe+ae,nt=-1,be=0,$=0;$<64;$++)Qe=Be+(be=$>>3)*Ee+(nt=4*(7&$)),qe+be>=Te&&(Qe-=Ee*(qe+1+be-Te)),ae+nt>=Ee&&(Qe-=ae+nt-Ee+4),pe=ge[Qe++],ye=ge[Qe++],_e=ge[Qe++],z[$]=(H[pe]+H[ye+256|0]+H[_e+512|0]>>16)-128,B[$]=(H[pe+768|0]+H[ye+1024|0]+H[_e+1280|0]>>16)-128,D[$]=(H[pe+1280|0]+H[ye+1536|0]+H[_e+1792|0]>>16)-128;V=me(z,h,V,e,i),ee=me(B,p,ee,n,s),q=me(D,p,q,n,s),ae+=32}qe+=8}if(T>=0){var Me=[];Me[1]=T+1,Me[0]=(1<<T+1)-1,R(Me)}return le(65497),new Uint8Array(E)},t=t||50,(function(){for(var j=String.fromCharCode,G=0;G<256;G++)ne[G]=j(G)})(),e=O(I,L),n=O(P,Y),i=O(K,N),s=O(F,X),(function(){for(var j=1,G=2,V=1;V<=15;V++){for(var ee=j;ee<G;ee++)b[32767+ee]=V,y[32767+ee]=[],y[32767+ee][1]=V,y[32767+ee][0]=ee;for(var q=-(G-1);q<=-j;q++)b[32767+q]=V,y[32767+q]=[],y[32767+q][1]=V,y[32767+q][0]=G-1+q;j<<=1,G<<=1}})(),(function(){for(var j=0;j<256;j++)H[j]=19595*j,H[j+256|0]=38470*j,H[j+512|0]=7471*j+32768,H[j+768|0]=-11059*j,H[j+1024|0]=-21709*j,H[j+1280|0]=32768*j+8421375,H[j+1536|0]=-27439*j,H[j+1792|0]=-5329*j})(),Z(t)}function _s(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function ob(t){function e(L){if(!L)throw Error("assert :P")}function n(L,K,N){for(var P=0;4>P;P++)if(L[K+P]!=N.charCodeAt(P))return!0;return!1}function i(L,K,N,P,Y){for(var F=0;F<Y;F++)L[K+F]=N[P+F]}function s(L,K,N,P){for(var Y=0;Y<P;Y++)L[K+Y]=N}function o(L){return new Int32Array(L)}function u(L,K){for(var N=[],P=0;P<L;P++)N.push(new K);return N}function c(L,K){var N=[];return(function P(Y,F,X){for(var O=X[F],R=0;R<O&&(Y.push(X.length>F+1?[]:new K),!(X.length<F+1));R++)P(Y[R],F+1,X)})(N,0,L),N}var f=function(){var L=this;function K(m,w){for(var C=1<<w-1>>>0;m&C;)C>>>=1;return C?(m&C-1)+C:m}function N(m,w,C,M,Q){e(!(M%C));do m[w+(M-=C)]=Q;while(0<M)}function P(m,w,C,M,Q){if(e(2328>=Q),512>=Q)var re=o(512);else if((re=o(Q))==null)return 0;return(function(ie,ue,ce,de,Se,De){var fe,ke,je=ue,Ye=1<<ce,Ne=o(16),We=o(16);for(e(Se!=0),e(de!=null),e(ie!=null),e(0<ce),ke=0;ke<Se;++ke){if(15<de[ke])return 0;++Ne[de[ke]]}if(Ne[0]==Se)return 0;for(We[1]=0,fe=1;15>fe;++fe){if(Ne[fe]>1<<fe)return 0;We[fe+1]=We[fe]+Ne[fe]}for(ke=0;ke<Se;++ke)fe=de[ke],0<de[ke]&&(De[We[fe]++]=ke);if(We[15]==1)return(de=new Y).g=0,de.value=De[0],N(ie,je,1,Ye,de),Ye;var et,ut=-1,at=Ye-1,kt=0,wt=1,$t=1,St=1<<ce;for(ke=0,fe=1,Se=2;fe<=ce;++fe,Se<<=1){if(wt+=$t<<=1,0>($t-=Ne[fe]))return 0;for(;0<Ne[fe];--Ne[fe])(de=new Y).g=fe,de.value=De[ke++],N(ie,je+kt,Se,St,de),kt=K(kt,fe)}for(fe=ce+1,Se=2;15>=fe;++fe,Se<<=1){if(wt+=$t<<=1,0>($t-=Ne[fe]))return 0;for(;0<Ne[fe];--Ne[fe]){if(de=new Y,(kt&at)!=ut){for(je+=St,et=1<<(ut=fe)-ce;15>ut&&!(0>=(et-=Ne[ut]));)++ut,et<<=1;Ye+=St=1<<(et=ut-ce),ie[ue+(ut=kt&at)].g=et+ce,ie[ue+ut].value=je-ue-ut}de.g=fe-ce,de.value=De[ke++],N(ie,je+(kt>>ce),Se,St,de),kt=K(kt,fe)}}return wt!=2*We[15]-1?0:Ye})(m,w,C,M,Q,re)}function Y(){this.value=this.g=0}function F(){this.value=this.g=0}function X(){this.G=u(5,Y),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=u(Us,F)}function O(m,w,C,M){e(m!=null),e(w!=null),e(2147483648>M),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=w,m.pa=C,m.Jd=w,m.Yc=C+M,m.Zc=4<=M?C+M-4+1:C,pe(m)}function R(m,w){for(var C=0;0<w--;)C|=_e(m,128)<<w;return C}function se(m,w){var C=R(m,w);return ye(m)?-C:C}function le(m,w,C,M){var Q,re=0;for(e(m!=null),e(w!=null),e(4294967288>M),m.Sb=M,m.Ra=0,m.u=0,m.h=0,4<M&&(M=4),Q=0;Q<M;++Q)re+=w[C+Q]<<8*Q;m.Ra=re,m.bb=M,m.oa=w,m.pa=C}function me(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<Da-8>>>0,++m.bb,m.u-=8;ee(m)&&(m.h=1,m.u=0)}function Z(m,w){if(e(0<=w),!m.h&&w<=fi){var C=V(m)&wi[w];return m.u+=w,me(m),C}return m.h=1,m.u=0}function j(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function G(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function V(m){return m.Ra>>>(m.u&Da-1)>>>0}function ee(m){return e(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>Da}function q(m,w){m.u=w,m.h=ee(m)}function ae(m){m.u>=Ia&&(e(m.u>=Ia),me(m))}function pe(m){e(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(e(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function ye(m){return R(m,1)}function _e(m,w){var C=m.Ca;0>m.b&&pe(m);var M=m.b,Q=C*w>>>8,re=(m.I>>>M>Q)+0;for(re?(C-=Q,m.I-=Q+1<<M>>>0):C=Q+1,M=C,Q=0;256<=M;)Q+=8,M>>=8;return M=7^Q+us[M],m.b-=M,m.Ca=(C<<M)-1,re}function Be(m,w,C){m[w+0]=C>>24&255,m[w+1]=C>>16&255,m[w+2]=C>>8&255,m[w+3]=255&C}function Qe(m,w){return m[w+0]|m[w+1]<<8}function nt(m,w){return Qe(m,w)|m[w+2]<<16}function be(m,w){return Qe(m,w)|Qe(m,w+2)<<16}function $(m,w){var C=1<<w;return e(m!=null),e(0<w),m.X=o(C),m.X==null?0:(m.Mb=32-w,m.Xa=w,1)}function ge(m,w){e(m!=null),e(w!=null),e(m.Xa==w.Xa),i(w.X,0,m.X,0,1<<w.Xa)}function Oe(){this.X=[],this.Xa=this.Mb=0}function Te(m,w,C,M){e(C!=null),e(M!=null);var Q=C[0],re=M[0];return Q==0&&(Q=(m*re+w/2)/w),re==0&&(re=(w*Q+m/2)/m),0>=Q||0>=re?0:(C[0]=Q,M[0]=re,1)}function Ee(m,w){return m+(1<<w)-1>>>w}function qe(m,w){return((4278255360&m)+(4278255360&w)>>>0&4278255360)+((16711935&m)+(16711935&w)>>>0&16711935)>>>0}function Me(m,w){L[w]=function(C,M,Q,re,ie,ue,ce){var de;for(de=0;de<ie;++de){var Se=L[m](ue[ce+de-1],Q,re+de);ue[ce+de]=qe(C[M+de],Se)}}}function lt(){this.ud=this.hd=this.jd=0}function ct(m,w){return((4278124286&(m^w))>>>1)+(m&w)>>>0}function dt(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function ve(m,w){return dt(m+(m-w+.5>>1))}function Re(m,w,C){return Math.abs(w-C)-Math.abs(m-C)}function Ge(m,w,C,M,Q,re,ie){for(M=re[ie-1],C=0;C<Q;++C)re[ie+C]=M=qe(m[w+C],M)}function Fe(m,w,C,M,Q){var re;for(re=0;re<C;++re){var ie=m[w+re],ue=ie>>8&255,ce=16711935&(ce=(ce=16711935&ie)+((ue<<16)+ue));M[Q+re]=(4278255360&ie)+ce>>>0}}function Ue(m,w){w.jd=255&m,w.hd=m>>8&255,w.ud=m>>16&255}function Ke(m,w,C,M,Q,re){var ie;for(ie=0;ie<M;++ie){var ue=w[C+ie],ce=ue>>>8,de=ue,Se=255&(Se=(Se=ue>>>16)+((m.jd<<24>>24)*(ce<<24>>24)>>>5));de=255&(de=(de+=(m.hd<<24>>24)*(ce<<24>>24)>>>5)+((m.ud<<24>>24)*(Se<<24>>24)>>>5)),Q[re+ie]=(4278255360&ue)+(Se<<16)+de}}function Ve(m,w,C,M,Q){L[w]=function(re,ie,ue,ce,de,Se,De,fe,ke){for(ce=De;ce<fe;++ce)for(De=0;De<ke;++De)de[Se++]=Q(ue[M(re[ie++])])},L[m]=function(re,ie,ue,ce,de,Se,De){var fe=8>>re.b,ke=re.Ea,je=re.K[0],Ye=re.w;if(8>fe)for(re=(1<<re.b)-1,Ye=(1<<fe)-1;ie<ue;++ie){var Ne,We=0;for(Ne=0;Ne<ke;++Ne)Ne&re||(We=M(ce[de++])),Se[De++]=Q(je[We&Ye]),We>>=fe}else L["VP8LMapColor"+C](ce,de,je,Ye,Se,De,ie,ue,ke)}}function ot(m,w,C,M,Q){for(C=w+C;w<C;){var re=m[w++];M[Q++]=re>>16&255,M[Q++]=re>>8&255,M[Q++]=255&re}}function Je(m,w,C,M,Q){for(C=w+C;w<C;){var re=m[w++];M[Q++]=re>>16&255,M[Q++]=re>>8&255,M[Q++]=255&re,M[Q++]=re>>24&255}}function $e(m,w,C,M,Q){for(C=w+C;w<C;){var re=(ie=m[w++])>>16&240|ie>>12&15,ie=240&ie|ie>>28&15;M[Q++]=re,M[Q++]=ie}}function tt(m,w,C,M,Q){for(C=w+C;w<C;){var re=(ie=m[w++])>>16&248|ie>>13&7,ie=ie>>5&224|ie>>3&31;M[Q++]=re,M[Q++]=ie}}function _t(m,w,C,M,Q){for(C=w+C;w<C;){var re=m[w++];M[Q++]=255&re,M[Q++]=re>>8&255,M[Q++]=re>>16&255}}function mt(m,w,C,M,Q,re){if(re==0)for(C=w+C;w<C;)Be(M,((re=m[w++])[0]>>24|re[1]>>8&65280|re[2]<<8&16711680|re[3]<<24)>>>0),Q+=32;else i(M,Q,m,w,C)}function Ht(m,w){L[w][0]=L[m+"0"],L[w][1]=L[m+"1"],L[w][2]=L[m+"2"],L[w][3]=L[m+"3"],L[w][4]=L[m+"4"],L[w][5]=L[m+"5"],L[w][6]=L[m+"6"],L[w][7]=L[m+"7"],L[w][8]=L[m+"8"],L[w][9]=L[m+"9"],L[w][10]=L[m+"10"],L[w][11]=L[m+"11"],L[w][12]=L[m+"12"],L[w][13]=L[m+"13"],L[w][14]=L[m+"0"],L[w][15]=L[m+"0"]}function yt(m){return m==iu||m==Wu||m==il||m==Gu}function gt(){this.eb=[],this.size=this.A=this.fb=0}function vt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function bt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new gt,this.f.kb=new vt,this.sd=null}function ft(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ct(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function tn(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function Qt(m,w){var C=m.T,M=w.ba.f.RGBA,Q=M.eb,re=M.fb+m.ka*M.A,ie=Wr[w.ba.S],ue=m.y,ce=m.O,de=m.f,Se=m.N,De=m.ea,fe=m.W,ke=w.cc,je=w.dc,Ye=w.Mc,Ne=w.Nc,We=m.ka,et=m.ka+m.T,ut=m.U,at=ut+1>>1;for(We==0?ie(ue,ce,null,null,de,Se,De,fe,de,Se,De,fe,Q,re,null,null,ut):(ie(w.ec,w.fc,ue,ce,ke,je,Ye,Ne,de,Se,De,fe,Q,re-M.A,Q,re,ut),++C);We+2<et;We+=2)ke=de,je=Se,Ye=De,Ne=fe,Se+=m.Rc,fe+=m.Rc,re+=2*M.A,ie(ue,(ce+=2*m.fa)-m.fa,ue,ce,ke,je,Ye,Ne,de,Se,De,fe,Q,re-M.A,Q,re,ut);return ce+=m.fa,m.j+et<m.o?(i(w.ec,w.fc,ue,ce,ut),i(w.cc,w.dc,de,Se,at),i(w.Mc,w.Nc,De,fe,at),C--):1&et||ie(ue,ce,null,null,de,Se,De,fe,de,Se,De,fe,Q,re+M.A,null,null,ut),C}function on(m,w,C){var M=m.F,Q=[m.J];if(M!=null){var re=m.U,ie=w.ba.S,ue=ie==ru||ie==il;w=w.ba.f.RGBA;var ce=[0],de=m.ka;ce[0]=m.T,m.Kb&&(de==0?--ce[0]:(--de,Q[0]-=m.width),m.j+m.ka+m.T==m.o&&(ce[0]=m.o-m.j-de));var Se=w.eb;de=w.fb+de*w.A,m=Zl(M,Q[0],m.width,re,ce,Se,de+(ue?0:3),w.A),e(C==ce),m&&yt(ie)&&yo(Se,de,ue,re,ce,w.A)}return 0}function Gt(m){var w=m.ma,C=w.ba.S,M=11>C,Q=C==ni||C==Hi||C==ru||C==rl||C==12||yt(C);if(w.memory=null,w.Ib=null,w.Jb=null,w.Nd=null,!ls(w.Oa,m,Q?11:12))return 0;if(Q&&yt(C)&&Kl(),m.da)alert("todo:use_scaling");else{if(M){if(w.Ib=tn,m.Kb){if(C=m.U+1>>1,w.memory=o(m.U+2*C),w.memory==null)return 0;w.ec=w.memory,w.fc=0,w.cc=w.ec,w.dc=w.fc+m.U,w.Mc=w.cc,w.Nc=w.dc+C,w.Ib=Qt,Kl()}}else alert("todo:EmitYUV");Q&&(w.Jb=on,M&&da())}if(M&&!Ws){for(m=0;256>m;++m)Gr[m]=89858*(m-128)+ol>>Ki,S0[m]=-22014*(m-128)+ol,wd[m]=-45773*(m-128),Ju[m]=113618*(m-128)+ol>>Ki;for(m=xo;m<$s;++m)w=76283*(m-16)+ol>>Ki,A0[m-xo]=ji(w,255),E0[m-xo]=ji(w+8>>4,15);Ws=1}return 1}function Lt(m){var w=m.ma,C=m.U,M=m.T;return e(!(1&m.ka)),0>=C||0>=M?0:(C=w.Ib(m,w),w.Jb!=null&&w.Jb(m,w,C),w.Dc+=C,1)}function kn(m){m.ma.memory=null}function Ar(m,w,C,M){return Z(m,8)!=47?0:(w[0]=Z(m,14)+1,C[0]=Z(m,14)+1,M[0]=Z(m,1),Z(m,3)!=0?0:!m.h)}function $n(m,w){if(4>m)return m+1;var C=m-2>>1;return(2+(1&m)<<C)+Z(w,C)+1}function Gn(m,w){return 120<w?w-120:1<=(C=((C=Wi[w-1])>>4)*m+(8-(15&C)))?C:1;var C}function wn(m,w,C){var M=V(C),Q=m[w+=255&M].g-8;return 0<Q&&(q(C,C.u+8),M=V(C),w+=m[w].value,w+=M&(1<<Q)-1),q(C,C.u+m[w].g),m[w].value}function On(m,w,C){return C.g+=m.g,C.value+=m.value<<w>>>0,e(8>=C.g),m.g}function Tn(m,w,C){var M=m.xc;return e((w=M==0?0:m.vc[m.md*(C>>M)+(w>>M)])<m.Wb),m.Ya[w]}function bi(m,w,C,M){var Q=m.ab,re=m.c*w,ie=m.C;w=ie+w;var ue=C,ce=M;for(M=m.Ta,C=m.Ua;0<Q--;){var de=m.gc[Q],Se=ie,De=w,fe=ue,ke=ce,je=(ce=M,ue=C,de.Ea);switch(e(Se<De),e(De<=de.nc),de.hc){case 2:lr(fe,ke,(De-Se)*je,ce,ue);break;case 0:var Ye=Se,Ne=De,We=ce,et=ue,ut=(St=de).Ea;Ye==0&&(Zo(fe,ke,null,null,1,We,et),Ge(fe,ke+1,0,0,ut-1,We,et+1),ke+=ut,et+=ut,++Ye);for(var at=1<<St.b,kt=at-1,wt=Ee(ut,St.b),$t=St.K,St=St.w+(Ye>>St.b)*wt;Ye<Ne;){var nn=$t,qn=St,Vt=1;for(el(fe,ke,We,et-ut,1,We,et);Vt<ut;){var xt=(Vt&~kt)+at;xt>ut&&(xt=ut),(0,cs[nn[qn++]>>8&15])(fe,ke+ +Vt,We,et+Vt-ut,xt-Vt,We,et+Vt),Vt=xt}ke+=ut,et+=ut,++Ye&kt||(St+=wt)}De!=de.nc&&i(ce,ue-je,ce,ue+(De-Se-1)*je,je);break;case 1:for(je=fe,Ne=ke,ut=(fe=de.Ea)-(et=fe&~(We=(ke=1<<de.b)-1)),Ye=Ee(fe,de.b),at=de.K,de=de.w+(Se>>de.b)*Ye;Se<De;){for(kt=at,wt=de,$t=new lt,St=Ne+et,nn=Ne+fe;Ne<St;)Ue(kt[wt++],$t),tl($t,je,Ne,ke,ce,ue),Ne+=ke,ue+=ke;Ne<nn&&(Ue(kt[wt++],$t),tl($t,je,Ne,ut,ce,ue),Ne+=ut,ue+=ut),++Se&We||(de+=Ye)}break;case 3:if(fe==ce&&ke==ue&&0<de.b){for(Ne=ce,fe=je=ue+(De-Se)*je-(et=(De-Se)*Ee(de.Ea,de.b)),ke=ce,We=ue,Ye=[],et=(ut=et)-1;0<=et;--et)Ye[et]=ke[We+et];for(et=ut-1;0<=et;--et)Ne[fe+et]=Ye[et];Pu(de,Se,De,ce,je,ce,ue)}else Pu(de,Se,De,fe,ke,ce,ue)}ue=M,ce=C}ce!=C&&i(M,C,ue,ce,re)}function Er(m,w){var C=m.V,M=m.Ba+m.c*m.C,Q=w-m.C;if(e(w<=m.l.o),e(16>=Q),0<Q){var re=m.l,ie=m.Ta,ue=m.Ua,ce=re.width;if(bi(m,Q,C,M),Q=ue=[ue],e((C=m.C)<(M=w)),e(re.v<re.va),M>re.o&&(M=re.o),C<re.j){var de=re.j-C;C=re.j,Q[0]+=de*ce}if(C>=M?C=0:(Q[0]+=4*re.v,re.ka=C-re.j,re.U=re.va-re.v,re.T=M-C,C=1),C){if(ue=ue[0],11>(C=m.ca).S){var Se=C.f.RGBA,De=(M=C.S,Q=re.U,re=re.T,de=Se.eb,Se.A),fe=re;for(Se=Se.fb+m.Ma*Se.A;0<fe--;){var ke=ie,je=ue,Ye=Q,Ne=de,We=Se;switch(M){case Hu:nl(ke,je,Ye,Ne,We);break;case ni:fs(ke,je,Ye,Ne,We);break;case iu:fs(ke,je,Ye,Ne,We),yo(Ne,We,0,Ye,1,0);break;case $u:go(ke,je,Ye,Ne,We);break;case Hi:mt(ke,je,Ye,Ne,We,1);break;case Wu:mt(ke,je,Ye,Ne,We,1),yo(Ne,We,0,Ye,1,0);break;case ru:mt(ke,je,Ye,Ne,We,0);break;case il:mt(ke,je,Ye,Ne,We,0),yo(Ne,We,1,Ye,1,0);break;case rl:ds(ke,je,Ye,Ne,We);break;case Gu:ds(ke,je,Ye,Ne,We),Fi(Ne,We,Ye,1,0);break;case Bs:Ua(ke,je,Ye,Ne,We);break;default:e(0)}ue+=ce,Se+=De}m.Ma+=re}else alert("todo:EmitRescaledRowsYUVA");e(m.Ma<=C.height)}}m.C=w,e(m.C<=m.i)}function Ln(m){var w;if(0<m.ua)return 0;for(w=0;w<m.Wb;++w){var C=m.Ya[w].G,M=m.Ya[w].H;if(0<C[1][M[1]+0].g||0<C[2][M[2]+0].g||0<C[3][M[3]+0].g)return 0}return 1}function Yn(m,w,C,M,Q,re){if(m.Z!=0){var ie=m.qd,ue=m.rd;for(e(gs[m.Z]!=null);w<C;++w)gs[m.Z](ie,ue,M,Q,M,Q,re),ie=M,ue=Q,Q+=re;m.qd=ie,m.rd=ue}}function Zr(m,w){var C=m.l.ma,M=C.Z==0||C.Z==1?m.l.j:m.C;if(M=m.C<M?M:m.C,e(w<=m.l.o),w>M){var Q=m.l.width,re=C.ca,ie=C.tb+Q*M,ue=m.V,ce=m.Ba+m.c*M,de=m.gc;e(m.ab==1),e(de[0].hc==3),za(de[0],M,w,ue,ce,re,ie),Yn(C,M,w,re,ie,Q)}m.C=m.Ma=w}function Li(m,w,C,M,Q,re,ie){var ue=m.$/M,ce=m.$%M,de=m.m,Se=m.s,De=C+m.$,fe=De;Q=C+M*Q;var ke=C+M*re,je=280+Se.ua,Ye=m.Pb?ue:16777216,Ne=0<Se.ua?Se.Wa:null,We=Se.wc,et=De<ke?Tn(Se,ce,ue):null;e(m.C<re),e(ke<=Q);var ut=!1;e:for(;;){for(;ut||De<ke;){var at=0;if(ue>=Ye){var kt=De-C;e((Ye=m).Pb),Ye.wd=Ye.m,Ye.xd=kt,0<Ye.s.ua&&ge(Ye.s.Wa,Ye.s.vb),Ye=ue+Ps}if(ce&We||(et=Tn(Se,ce,ue)),e(et!=null),et.Qb&&(w[De]=et.qb,ut=!0),!ut)if(ae(de),et.jc){at=de,kt=w;var wt=De,$t=et.pd[V(at)&Us-1];e(et.jc),256>$t.g?(q(at,at.u+$t.g),kt[wt]=$t.value,at=0):(q(at,at.u+$t.g-256),e(256<=$t.value),at=$t.value),at==0&&(ut=!0)}else at=wn(et.G[0],et.H[0],de);if(de.h)break;if(ut||256>at){if(!ut)if(et.nd)w[De]=(et.qb|at<<8)>>>0;else{if(ae(de),ut=wn(et.G[1],et.H[1],de),ae(de),kt=wn(et.G[2],et.H[2],de),wt=wn(et.G[3],et.H[3],de),de.h)break;w[De]=(wt<<24|ut<<16|at<<8|kt)>>>0}if(ut=!1,++De,++ce>=M&&(ce=0,++ue,ie!=null&&ue<=re&&!(ue%16)&&ie(m,ue),Ne!=null))for(;fe<De;)at=w[fe++],Ne.X[(506832829*at&4294967295)>>>Ne.Mb]=at}else if(280>at){if(at=$n(at-256,de),kt=wn(et.G[4],et.H[4],de),ae(de),kt=Gn(M,kt=$n(kt,de)),de.h)break;if(De-C<kt||Q-De<at)break e;for(wt=0;wt<at;++wt)w[De+wt]=w[De+wt-kt];for(De+=at,ce+=at;ce>=M;)ce-=M,++ue,ie!=null&&ue<=re&&!(ue%16)&&ie(m,ue);if(e(De<=Q),ce&We&&(et=Tn(Se,ce,ue)),Ne!=null)for(;fe<De;)at=w[fe++],Ne.X[(506832829*at&4294967295)>>>Ne.Mb]=at}else{if(!(at<je))break e;for(ut=at-280,e(Ne!=null);fe<De;)at=w[fe++],Ne.X[(506832829*at&4294967295)>>>Ne.Mb]=at;at=De,e(!(ut>>>(kt=Ne).Xa)),w[at]=kt.X[ut],ut=!0}ut||e(de.h==ee(de))}if(m.Pb&&de.h&&De<Q)e(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&ge(m.s.vb,m.s.Wa);else{if(de.h)break e;ie?.(m,ue>re?re:ue),m.a=0,m.$=De-C}return 1}return m.a=3,0}function Ui(m){e(m!=null),m.vc=null,m.yc=null,m.Ya=null;var w=m.Wa;w!=null&&(w.X=null),m.vb=null,e(m!=null)}function ao(){var m=new Pt;return m==null?null:(m.a=0,m.xb=nf,Ht("Predictor","VP8LPredictors"),Ht("Predictor","VP8LPredictors_C"),Ht("PredictorAdd","VP8LPredictorsAdd"),Ht("PredictorAdd","VP8LPredictorsAdd_C"),lr=Fe,tl=Ke,nl=ot,fs=Je,ds=$e,Ua=tt,go=_t,L.VP8LMapColor32b=Ma,L.VP8LMapColor8b=Fr,m)}function ia(m,w,C,M,Q){var re=1,ie=[m],ue=[w],ce=M.m,de=M.s,Se=null,De=0;e:for(;;){if(C)for(;re&&Z(ce,1);){var fe=ie,ke=ue,je=M,Ye=1,Ne=je.m,We=je.gc[je.ab],et=Z(Ne,2);if(je.Oc&1<<et)re=0;else{switch(je.Oc|=1<<et,We.hc=et,We.Ea=fe[0],We.nc=ke[0],We.K=[null],++je.ab,e(4>=je.ab),et){case 0:case 1:We.b=Z(Ne,3)+2,Ye=ia(Ee(We.Ea,We.b),Ee(We.nc,We.b),0,je,We.K),We.K=We.K[0];break;case 3:var ut,at=Z(Ne,8)+1,kt=16<at?0:4<at?1:2<at?2:3;if(fe[0]=Ee(We.Ea,kt),We.b=kt,ut=Ye=ia(at,1,0,je,We.K)){var wt,$t=at,St=We,nn=1<<(8>>St.b),qn=o(nn);if(qn==null)ut=0;else{var Vt=St.K[0],xt=St.w;for(qn[0]=St.K[0][0],wt=1;wt<1*$t;++wt)qn[wt]=qe(Vt[xt+wt],qn[wt-1]);for(;wt<4*nn;++wt)qn[wt]=0;St.K[0]=null,St.K[0]=qn,ut=1}}Ye=ut;break;case 2:break;default:e(0)}re=Ye}}if(ie=ie[0],ue=ue[0],re&&Z(ce,1)&&!(re=1<=(De=Z(ce,4))&&11>=De)){M.a=3;break e}var pt;if(pt=re)t:{var Kn,Ut,Jt,Sn=M,Lr=ie,Yr=ue,Mn=De,mr=C,ri=Sn.m,yr=Sn.s,en=[null],pn=1,Xn=0,vn=Gi[Mn];n:for(;;){if(mr&&Z(ri,1)){var Cr=Z(ri,3)+2,Jn=Ee(Lr,Cr),gn=Ee(Yr,Cr),fr=Jn*gn;if(!ia(Jn,gn,0,Sn,en))break n;for(en=en[0],yr.xc=Cr,Kn=0;Kn<fr;++Kn){var An=en[Kn]>>8&65535;en[Kn]=An,An>=pn&&(pn=An+1)}}if(ri.h)break n;for(Ut=0;5>Ut;++Ut){var br=vo[Ut];!Ut&&0<Mn&&(br+=1<<Mn),Xn<br&&(Xn=br)}var vr=u(pn*vn,Y),Cn=pn,dn=u(Cn,X);if(dn==null)var ii=null;else e(65536>=Cn),ii=dn;var tr=o(Xn);if(ii==null||tr==null||vr==null){Sn.a=1;break n}var Dt=vr;for(Kn=Jt=0;Kn<pn;++Kn){var It=ii[Kn],mn=It.G,xi=It.H,Xi=0,hi=1,wr=0;for(Ut=0;5>Ut;++Ut){br=vo[Ut],mn[Ut]=Dt,xi[Ut]=Jt,!Ut&&0<Mn&&(br+=1<<Mn);i:{var Gs,Ys=br,Zu=Sn,zn=tr,af=Dt,sf=Jt,ec=0,ms=Zu.m,k0=Z(ms,1);if(s(zn,0,0,Ys),k0){var of=Z(ms,1)+1,lf=Z(ms,1),tc=Z(ms,lf==0?1:8);zn[tc]=1,of==2&&(zn[tc=Z(ms,8)]=1);var Ir=1}else{var nr=o(19),lu=Z(ms,4)+4;if(19<lu){Zu.a=3;var Vs=0;break i}for(Gs=0;Gs<lu;++Gs)nr[au[Gs]]=Z(ms,3);var ul=void 0,_o=void 0,qa=Zu,nc=nr,cl=Ys,rc=zn,ic=0,ys=qa.m,uf=8,cf=u(128,Y);r:for(;P(cf,0,7,nc,19);){if(Z(ys,1)){var xd=2+2*Z(ys,3);if((ul=2+Z(ys,xd))>cl)break r}else ul=cl;for(_o=0;_o<cl&&ul--;){ae(ys);var ff=cf[0+(127&V(ys))];q(ys,ys.u+ff.g);var Ks=ff.value;if(16>Ks)rc[_o++]=Ks,Ks!=0&&(uf=Ks);else{var _d=Ks==16,Sd=Ks-16,Ad=al[Sd],df=Z(ys,$i[Sd])+Ad;if(_o+df>cl)break r;for(var Ed=_d?uf:0;0<df--;)rc[_o++]=Ed}}ic=1;break r}ic||(qa.a=3),Ir=ic}(Ir=Ir&&!ms.h)&&(ec=P(af,sf,8,zn,Ys)),Ir&&ec!=0?Vs=ec:(Zu.a=3,Vs=0)}if(Vs==0)break n;if(hi&&Yu[Ut]==1&&(hi=Dt[Jt].g==0),Xi+=Dt[Jt].g,Jt+=Vs,3>=Ut){var So,ac=tr[0];for(So=1;So<br;++So)tr[So]>ac&&(ac=tr[So]);wr+=ac}}if(It.nd=hi,It.Qb=0,hi&&(It.qb=(mn[3][xi[3]+0].value<<24|mn[1][xi[1]+0].value<<16|mn[2][xi[2]+0].value)>>>0,Xi==0&&256>mn[0][xi[0]+0].value&&(It.Qb=1,It.qb+=mn[0][xi[0]+0].value<<8)),It.jc=!It.Qb&&6>wr,It.jc){var uu,Fa=It;for(uu=0;uu<Us;++uu){var bs=uu,vs=Fa.pd[bs],sc=Fa.G[0][Fa.H[0]+bs];256<=sc.value?(vs.g=sc.g+256,vs.value=sc.value):(vs.g=0,vs.value=0,bs>>=On(sc,8,vs),bs>>=On(Fa.G[1][Fa.H[1]+bs],16,vs),bs>>=On(Fa.G[2][Fa.H[2]+bs],0,vs),On(Fa.G[3][Fa.H[3]+bs],24,vs))}}}yr.vc=en,yr.Wb=pn,yr.Ya=ii,yr.yc=vr,pt=1;break t}pt=0}if(!(re=pt)){M.a=3;break e}if(0<De){if(de.ua=1<<De,!$(de.Wa,De)){M.a=1,re=0;break e}}else de.ua=0;var oc=M,Ao=ie,kd=ue,fl=oc.s,dl=fl.xc;if(oc.c=Ao,oc.i=kd,fl.md=Ee(Ao,dl),fl.wc=dl==0?-1:(1<<dl)-1,C){M.xb=qs;break e}if((Se=o(ie*ue))==null){M.a=1,re=0;break e}re=(re=Li(M,Se,0,ie,ue,ue,null))&&!ce.h;break e}return re?(Q!=null?Q[0]=Se:(e(Se==null),e(C)),M.$=0,C||Ui(de)):Ui(de),re}function aa(m,w){var C=m.c*m.i,M=C+w+16*w;return e(m.c<=w),m.V=o(M),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+C+w,1)}function Os(m,w){var C=m.C,M=w-C,Q=m.V,re=m.Ba+m.c*C;for(e(w<=m.l.o);0<M;){var ie=16<M?16:M,ue=m.l.ma,ce=m.l.width,de=ce*ie,Se=ue.ca,De=ue.tb+ce*C,fe=m.Ta,ke=m.Ua;bi(m,ie,Q,re),Ii(fe,ke,Se,De,de),Yn(ue,C,C+ie,Se,De,ce),M-=ie,Q+=ie*m.c,C+=ie}e(C==w),m.C=m.Ma=w}function sa(){this.ub=this.yd=this.td=this.Rb=0}function oa(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function so(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function La(){this.Yb=(function(){var m=[];return(function w(C,M,Q){for(var re=Q[M],ie=0;ie<re&&(C.push(Q.length>M+1?[]:0),!(Q.length<M+1));ie++)w(C[ie],M+1,Q)})(m,0,[3,11]),m})()}function sr(){this.jb=o(3),this.Wc=c([4,8],La),this.Xc=c([4,17],La)}function Il(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Ci(){this.ld=this.La=this.dd=this.tc=0}function la(){this.Na=this.la=0}function Ka(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ml(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function zl(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ci),this.Y=0,this.ya=Array(new Ml),this.aa=0,this.l=new Xa}function Ul(){this.y=o(16),this.f=o(8),this.ea=o(8)}function ju(){this.cb=this.a=0,this.sc="",this.m=new j,this.Od=new sa,this.Kc=new oa,this.ed=new Il,this.Qa=new so,this.Ic=this.$c=this.Aa=0,this.D=new zl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=u(8,j),this.ia=0,this.pb=u(4,Ka),this.Pa=new sr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ul),this.Hd=0,this.rb=Array(new la),this.sb=0,this.wa=Array(new Ci),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ml),this.L=this.aa=0,this.gd=c([4,2],Ci),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ji(m,w){return 0>m?0:m>w?w:m}function Xa(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ua(){var m=new ju;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,Mi||(Mi=Ds)),m}function yn(m,w,C){return m.a==0&&(m.a=w,m.sc=C,m.cb=0),0}function Bl(m,w,C){return 3<=C&&m[w+0]==157&&m[w+1]==1&&m[w+2]==42}function Ca(m,w){if(m==null)return 0;if(m.a=0,m.sc="OK",w==null)return yn(m,2,"null VP8Io passed to VP8GetHeaders()");var C=w.data,M=w.w,Q=w.ha;if(4>Q)return yn(m,7,"Truncated header.");var re=C[M+0]|C[M+1]<<8|C[M+2]<<16,ie=m.Od;if(ie.Rb=!(1&re),ie.td=re>>1&7,ie.yd=re>>4&1,ie.ub=re>>5,3<ie.td)return yn(m,3,"Incorrect keyframe parameters.");if(!ie.yd)return yn(m,4,"Frame not displayable.");M+=3,Q-=3;var ue=m.Kc;if(ie.Rb){if(7>Q)return yn(m,7,"cannot parse picture header");if(!Bl(C,M,Q))return yn(m,3,"Bad code word");ue.c=16383&(C[M+4]<<8|C[M+3]),ue.Td=C[M+4]>>6,ue.i=16383&(C[M+6]<<8|C[M+5]),ue.Ud=C[M+6]>>6,M+=7,Q-=7,m.za=ue.c+15>>4,m.Ub=ue.i+15>>4,w.width=ue.c,w.height=ue.i,w.Da=0,w.j=0,w.v=0,w.va=w.width,w.o=w.height,w.da=0,w.ib=w.width,w.hb=w.height,w.U=w.width,w.T=w.height,s((re=m.Pa).jb,0,255,re.jb.length),e((re=m.Qa)!=null),re.Cb=0,re.Bb=0,re.Fb=1,s(re.Zb,0,0,re.Zb.length),s(re.Lb,0,0,re.Lb)}if(ie.ub>Q)return yn(m,7,"bad partition length");O(re=m.m,C,M,ie.ub),M+=ie.ub,Q-=ie.ub,ie.Rb&&(ue.Ld=ye(re),ue.Kd=ye(re)),ue=m.Qa;var ce,de=m.Pa;if(e(re!=null),e(ue!=null),ue.Cb=ye(re),ue.Cb){if(ue.Bb=ye(re),ye(re)){for(ue.Fb=ye(re),ce=0;4>ce;++ce)ue.Zb[ce]=ye(re)?se(re,7):0;for(ce=0;4>ce;++ce)ue.Lb[ce]=ye(re)?se(re,6):0}if(ue.Bb)for(ce=0;3>ce;++ce)de.jb[ce]=ye(re)?R(re,8):255}else ue.Bb=0;if(re.Ka)return yn(m,3,"cannot parse segment header");if((ue=m.ed).zd=ye(re),ue.Tb=R(re,6),ue.wb=R(re,3),ue.Pc=ye(re),ue.Pc&&ye(re)){for(de=0;4>de;++de)ye(re)&&(ue.vd[de]=se(re,6));for(de=0;4>de;++de)ye(re)&&(ue.od[de]=se(re,6))}if(m.L=ue.Tb==0?0:ue.zd?1:2,re.Ka)return yn(m,3,"cannot parse filter header");var Se=Q;if(Q=ce=M,M=ce+Se,ue=Se,m.Xb=(1<<R(m.m,2))-1,Se<3*(de=m.Xb))C=7;else{for(ce+=3*de,ue-=3*de,Se=0;Se<de;++Se){var De=C[Q+0]|C[Q+1]<<8|C[Q+2]<<16;De>ue&&(De=ue),O(m.Jc[+Se],C,ce,De),ce+=De,ue-=De,Q+=3}O(m.Jc[+de],C,ce,ue),C=ce<M?0:5}if(C!=0)return yn(m,C,"cannot parse partitions");for(C=R(ce=m.m,7),Q=ye(ce)?se(ce,4):0,M=ye(ce)?se(ce,4):0,ue=ye(ce)?se(ce,4):0,de=ye(ce)?se(ce,4):0,ce=ye(ce)?se(ce,4):0,Se=m.Qa,De=0;4>De;++De){if(Se.Cb){var fe=Se.Zb[De];Se.Fb||(fe+=C)}else{if(0<De){m.pb[De]=m.pb[0];continue}fe=C}var ke=m.pb[De];ke.Sc[0]=Yi[ji(fe+Q,127)],ke.Sc[1]=Vi[ji(fe+0,127)],ke.Eb[0]=2*Yi[ji(fe+M,127)],ke.Eb[1]=101581*Vi[ji(fe+ue,127)]>>16,8>ke.Eb[1]&&(ke.Eb[1]=8),ke.Qc[0]=Yi[ji(fe+de,117)],ke.Qc[1]=Vi[ji(fe+ce,127)],ke.lc=fe+ce}if(!ie.Rb)return yn(m,4,"Not a key frame.");for(ye(re),ie=m.Pa,C=0;4>C;++C){for(Q=0;8>Q;++Q)for(M=0;3>M;++M)for(ue=0;11>ue;++ue)de=_e(re,Pn[C][Q][M][ue])?R(re,8):vd[C][Q][M][ue],ie.Wc[C][Q].Yb[M][ue]=de;for(Q=0;17>Q;++Q)ie.Xc[C][Q]=ie.Wc[C][rn[Q]]}return m.kc=ye(re),m.kc&&(m.Bd=R(re,8)),m.cb=1}function Ds(m,w,C,M,Q,re,ie){var ue=w[Q].Yb[C];for(C=0;16>Q;++Q){if(!_e(m,ue[C+0]))return Q;for(;!_e(m,ue[C+1]);)if(ue=w[++Q].Yb[0],C=0,Q==16)return 16;var ce=w[Q+1].Yb;if(_e(m,ue[C+2])){var de=m,Se=0;if(_e(de,(fe=ue)[(De=C)+3]))if(_e(de,fe[De+6])){for(ue=0,De=2*(Se=_e(de,fe[De+8]))+(fe=_e(de,fe[De+9+Se])),Se=0,fe=bd[De];fe[ue];++ue)Se+=Se+_e(de,fe[ue]);Se+=3+(8<<De)}else _e(de,fe[De+7])?(Se=7+2*_e(de,165),Se+=_e(de,145)):Se=5+_e(de,159);else Se=_e(de,fe[De+4])?3+_e(de,fe[De+5]):2;ue=ce[2]}else Se=1,ue=ce[1];ce=ie+tf[Q],0>(de=m).b&&pe(de);var De,fe=de.b,ke=(De=de.Ca>>1)-(de.I>>fe)>>31;--de.b,de.Ca+=ke,de.Ca|=1,de.I-=(De+1&ke)<<fe,re[ce]=((Se^ke)-ke)*M[(0<Q)+0]}return 16}function Pl(m){var w=m.rb[m.sb-1];w.la=0,w.Na=0,s(m.zc,0,0,m.zc.length),m.ja=0}function li(m,w,C,M,Q){Q=m[w+C+32*M]+(Q>>3),m[w+C+32*M]=-256&Q?0>Q?0:255:Q}function kr(m,w,C,M,Q,re){li(m,w,0,C,M+Q),li(m,w,1,C,M+re),li(m,w,2,C,M-re),li(m,w,3,C,M-Q)}function pr(m){return(20091*m>>16)+m}function Go(m,w,C,M){var Q,re=0,ie=o(16);for(Q=0;4>Q;++Q){var ue=m[w+0]+m[w+8],ce=m[w+0]-m[w+8],de=(35468*m[w+4]>>16)-pr(m[w+12]),Se=pr(m[w+4])+(35468*m[w+12]>>16);ie[re+0]=ue+Se,ie[re+1]=ce+de,ie[re+2]=ce-de,ie[re+3]=ue-Se,re+=4,w++}for(Q=re=0;4>Q;++Q)ue=(m=ie[re+0]+4)+ie[re+8],ce=m-ie[re+8],de=(35468*ie[re+4]>>16)-pr(ie[re+12]),li(C,M,0,0,ue+(Se=pr(ie[re+4])+(35468*ie[re+12]>>16))),li(C,M,1,0,ce+de),li(C,M,2,0,ce-de),li(C,M,3,0,ue-Se),re++,M+=32}function Nu(m,w,C,M){var Q=m[w+0]+4,re=35468*m[w+4]>>16,ie=pr(m[w+4]),ue=35468*m[w+1]>>16;kr(C,M,0,Q+ie,m=pr(m[w+1]),ue),kr(C,M,1,Q+re,m,ue),kr(C,M,2,Q-re,m,ue),kr(C,M,3,Q-ie,m,ue)}function ql(m,w,C,M,Q){Go(m,w,C,M),Q&&Go(m,w+16,C,M+4)}function ui(m,w,C,M){hs(m,w+0,C,M,1),hs(m,w+32,C,M+128,1)}function Fl(m,w,C,M){var Q;for(m=m[w+0]+4,Q=0;4>Q;++Q)for(w=0;4>w;++w)li(C,M,w,Q,m)}function Hl(m,w,C,M){m[w+0]&&bn(m,w+0,C,M),m[w+16]&&bn(m,w+16,C,M+4),m[w+32]&&bn(m,w+32,C,M+128),m[w+48]&&bn(m,w+48,C,M+128+4)}function ca(m,w,C,M){var Q,re=o(16);for(Q=0;4>Q;++Q){var ie=m[w+0+Q]+m[w+12+Q],ue=m[w+4+Q]+m[w+8+Q],ce=m[w+4+Q]-m[w+8+Q],de=m[w+0+Q]-m[w+12+Q];re[0+Q]=ie+ue,re[8+Q]=ie-ue,re[4+Q]=de+ce,re[12+Q]=de-ce}for(Q=0;4>Q;++Q)ie=(m=re[0+4*Q]+3)+re[3+4*Q],ue=re[1+4*Q]+re[2+4*Q],ce=re[1+4*Q]-re[2+4*Q],de=m-re[3+4*Q],C[M+0]=ie+ue>>3,C[M+16]=de+ce>>3,C[M+32]=ie-ue>>3,C[M+48]=de-ce>>3,M+=64}function oo(m,w,C){var M,Q=w-32,re=ti,ie=255-m[Q-1];for(M=0;M<C;++M){var ue,ce=re,de=ie+m[w-1];for(ue=0;ue<C;++ue)m[w+ue]=ce[de+m[Q+ue]];w+=32}}function Ru(m,w){oo(m,w,4)}function Ou(m,w){oo(m,w,8)}function $l(m,w){oo(m,w,16)}function Wl(m,w){var C;for(C=0;16>C;++C)i(m,w+32*C,m,w-32,16)}function Du(m,w){var C;for(C=16;0<C;--C)s(m,w,m[w-1],16),w+=32}function vi(m,w,C){var M;for(M=0;16>M;++M)s(w,C+32*M,m,16)}function fa(m,w){var C,M=16;for(C=0;16>C;++C)M+=m[w-1+32*C]+m[w+C-32];vi(M>>5,m,w)}function Ja(m,w){var C,M=8;for(C=0;16>C;++C)M+=m[w-1+32*C];vi(M>>4,m,w)}function lo(m,w){var C,M=8;for(C=0;16>C;++C)M+=m[w+C-32];vi(M>>4,m,w)}function Is(m,w){vi(128,m,w)}function zt(m,w,C){return m+2*w+C+2>>2}function Iu(m,w){var C,M=w-32;for(M=new Uint8Array([zt(m[M-1],m[M+0],m[M+1]),zt(m[M+0],m[M+1],m[M+2]),zt(m[M+1],m[M+2],m[M+3]),zt(m[M+2],m[M+3],m[M+4])]),C=0;4>C;++C)i(m,w+32*C,M,0,M.length)}function Gl(m,w){var C=m[w-1],M=m[w-1+32],Q=m[w-1+64],re=m[w-1+96];Be(m,w+0,16843009*zt(m[w-1-32],C,M)),Be(m,w+32,16843009*zt(C,M,Q)),Be(m,w+64,16843009*zt(M,Q,re)),Be(m,w+96,16843009*zt(Q,re,re))}function Mu(m,w){var C,M=4;for(C=0;4>C;++C)M+=m[w+C-32]+m[w-1+32*C];for(M>>=3,C=0;4>C;++C)s(m,w+32*C,M,4)}function Ni(m,w){var C=m[w-1+0],M=m[w-1+32],Q=m[w-1+64],re=m[w-1-32],ie=m[w+0-32],ue=m[w+1-32],ce=m[w+2-32],de=m[w+3-32];m[w+0+96]=zt(M,Q,m[w-1+96]),m[w+1+96]=m[w+0+64]=zt(C,M,Q),m[w+2+96]=m[w+1+64]=m[w+0+32]=zt(re,C,M),m[w+3+96]=m[w+2+64]=m[w+1+32]=m[w+0+0]=zt(ie,re,C),m[w+3+64]=m[w+2+32]=m[w+1+0]=zt(ue,ie,re),m[w+3+32]=m[w+2+0]=zt(ce,ue,ie),m[w+3+0]=zt(de,ce,ue)}function Pr(m,w){var C=m[w+1-32],M=m[w+2-32],Q=m[w+3-32],re=m[w+4-32],ie=m[w+5-32],ue=m[w+6-32],ce=m[w+7-32];m[w+0+0]=zt(m[w+0-32],C,M),m[w+1+0]=m[w+0+32]=zt(C,M,Q),m[w+2+0]=m[w+1+32]=m[w+0+64]=zt(M,Q,re),m[w+3+0]=m[w+2+32]=m[w+1+64]=m[w+0+96]=zt(Q,re,ie),m[w+3+32]=m[w+2+64]=m[w+1+96]=zt(re,ie,ue),m[w+3+64]=m[w+2+96]=zt(ie,ue,ce),m[w+3+96]=zt(ue,ce,ce)}function Yl(m,w){var C=m[w-1+0],M=m[w-1+32],Q=m[w-1+64],re=m[w-1-32],ie=m[w+0-32],ue=m[w+1-32],ce=m[w+2-32],de=m[w+3-32];m[w+0+0]=m[w+1+64]=re+ie+1>>1,m[w+1+0]=m[w+2+64]=ie+ue+1>>1,m[w+2+0]=m[w+3+64]=ue+ce+1>>1,m[w+3+0]=ce+de+1>>1,m[w+0+96]=zt(Q,M,C),m[w+0+64]=zt(M,C,re),m[w+0+32]=m[w+1+96]=zt(C,re,ie),m[w+1+32]=m[w+2+96]=zt(re,ie,ue),m[w+2+32]=m[w+3+96]=zt(ie,ue,ce),m[w+3+32]=zt(ue,ce,de)}function uo(m,w){var C=m[w+0-32],M=m[w+1-32],Q=m[w+2-32],re=m[w+3-32],ie=m[w+4-32],ue=m[w+5-32],ce=m[w+6-32],de=m[w+7-32];m[w+0+0]=C+M+1>>1,m[w+1+0]=m[w+0+64]=M+Q+1>>1,m[w+2+0]=m[w+1+64]=Q+re+1>>1,m[w+3+0]=m[w+2+64]=re+ie+1>>1,m[w+0+32]=zt(C,M,Q),m[w+1+32]=m[w+0+96]=zt(M,Q,re),m[w+2+32]=m[w+1+96]=zt(Q,re,ie),m[w+3+32]=m[w+2+96]=zt(re,ie,ue),m[w+3+64]=zt(ie,ue,ce),m[w+3+96]=zt(ue,ce,de)}function Ri(m,w){var C=m[w-1+0],M=m[w-1+32],Q=m[w-1+64],re=m[w-1+96];m[w+0+0]=C+M+1>>1,m[w+2+0]=m[w+0+32]=M+Q+1>>1,m[w+2+32]=m[w+0+64]=Q+re+1>>1,m[w+1+0]=zt(C,M,Q),m[w+3+0]=m[w+1+32]=zt(M,Q,re),m[w+3+32]=m[w+1+64]=zt(Q,re,re),m[w+3+64]=m[w+2+64]=m[w+0+96]=m[w+1+96]=m[w+2+96]=m[w+3+96]=re}function co(m,w){var C=m[w-1+0],M=m[w-1+32],Q=m[w-1+64],re=m[w-1+96],ie=m[w-1-32],ue=m[w+0-32],ce=m[w+1-32],de=m[w+2-32];m[w+0+0]=m[w+2+32]=C+ie+1>>1,m[w+0+32]=m[w+2+64]=M+C+1>>1,m[w+0+64]=m[w+2+96]=Q+M+1>>1,m[w+0+96]=re+Q+1>>1,m[w+3+0]=zt(ue,ce,de),m[w+2+0]=zt(ie,ue,ce),m[w+1+0]=m[w+3+32]=zt(C,ie,ue),m[w+1+32]=m[w+3+64]=zt(M,C,ie),m[w+1+64]=m[w+3+96]=zt(Q,M,C),m[w+1+96]=zt(re,Q,M)}function ja(m,w){var C;for(C=0;8>C;++C)i(m,w+32*C,m,w-32,8)}function zu(m,w){var C;for(C=0;8>C;++C)s(m,w,m[w-1],8),w+=32}function Bi(m,w,C){var M;for(M=0;8>M;++M)s(w,C+32*M,m,8)}function Yo(m,w){var C,M=8;for(C=0;8>C;++C)M+=m[w+C-32]+m[w-1+32*C];Bi(M>>4,m,w)}function Vo(m,w){var C,M=4;for(C=0;8>C;++C)M+=m[w+C-32];Bi(M>>3,m,w)}function Or(m,w){var C,M=4;for(C=0;8>C;++C)M+=m[w-1+32*C];Bi(M>>3,m,w)}function Na(m,w){Bi(128,m,w)}function Pi(m,w,C){var M=m[w-C],Q=m[w+0],re=3*(Q-M)+ps[1020+m[w-2*C]-m[w+C]],ie=nu[112+(re+4>>3)];m[w-C]=ti[255+M+nu[112+(re+3>>3)]],m[w+0]=ti[255+Q-ie]}function Qa(m,w,C,M){var Q=m[w+0],re=m[w+C];return Hr[255+m[w-2*C]-m[w-C]]>M||Hr[255+re-Q]>M}function Ko(m,w,C,M){return 4*Hr[255+m[w-C]-m[w+0]]+Hr[255+m[w-2*C]-m[w+C]]<=M}function fo(m,w,C,M,Q){var re=m[w-3*C],ie=m[w-2*C],ue=m[w-C],ce=m[w+0],de=m[w+C],Se=m[w+2*C],De=m[w+3*C];return 4*Hr[255+ue-ce]+Hr[255+ie-de]>M?0:Hr[255+m[w-4*C]-re]<=Q&&Hr[255+re-ie]<=Q&&Hr[255+ie-ue]<=Q&&Hr[255+De-Se]<=Q&&Hr[255+Se-de]<=Q&&Hr[255+de-ce]<=Q}function Za(m,w,C,M){var Q=2*M+1;for(M=0;16>M;++M)Ko(m,w+M,C,Q)&&Pi(m,w+M,C)}function es(m,w,C,M){var Q=2*M+1;for(M=0;16>M;++M)Ko(m,w+M*C,1,Q)&&Pi(m,w+M*C,1)}function ho(m,w,C,M){var Q;for(Q=3;0<Q;--Q)Za(m,w+=4*C,C,M)}function Vl(m,w,C,M){var Q;for(Q=3;0<Q;--Q)es(m,w+=4,C,M)}function ts(m,w,C,M,Q,re,ie,ue){for(re=2*re+1;0<Q--;){if(fo(m,w,C,re,ie))if(Qa(m,w,C,ue))Pi(m,w,C);else{var ce=m,de=w,Se=C,De=ce[de-2*Se],fe=ce[de-Se],ke=ce[de+0],je=ce[de+Se],Ye=ce[de+2*Se],Ne=27*(et=ps[1020+3*(ke-fe)+ps[1020+De-je]])+63>>7,We=18*et+63>>7,et=9*et+63>>7;ce[de-3*Se]=ti[255+ce[de-3*Se]+et],ce[de-2*Se]=ti[255+De+We],ce[de-Se]=ti[255+fe+Ne],ce[de+0]=ti[255+ke-Ne],ce[de+Se]=ti[255+je-We],ce[de+2*Se]=ti[255+Ye-et]}w+=M}}function ns(m,w,C,M,Q,re,ie,ue){for(re=2*re+1;0<Q--;){if(fo(m,w,C,re,ie))if(Qa(m,w,C,ue))Pi(m,w,C);else{var ce=m,de=w,Se=C,De=ce[de-Se],fe=ce[de+0],ke=ce[de+Se],je=nu[112+(4+(Ye=3*(fe-De))>>3)],Ye=nu[112+(Ye+3>>3)],Ne=je+1>>1;ce[de-2*Se]=ti[255+ce[de-2*Se]+Ne],ce[de-Se]=ti[255+De+Ye],ce[de+0]=ti[255+fe-je],ce[de+Se]=ti[255+ke-Ne]}w+=M}}function Uu(m,w,C,M,Q,re){ts(m,w,C,1,16,M,Q,re)}function rs(m,w,C,M,Q,re){ts(m,w,1,C,16,M,Q,re)}function Bu(m,w,C,M,Q,re){var ie;for(ie=3;0<ie;--ie)ns(m,w+=4*C,C,1,16,M,Q,re)}function A(m,w,C,M,Q,re){var ie;for(ie=3;0<ie;--ie)ns(m,w+=4,1,C,16,M,Q,re)}function J(m,w,C,M,Q,re,ie,ue){ts(m,w,Q,1,8,re,ie,ue),ts(C,M,Q,1,8,re,ie,ue)}function he(m,w,C,M,Q,re,ie,ue){ts(m,w,1,Q,8,re,ie,ue),ts(C,M,1,Q,8,re,ie,ue)}function xe(m,w,C,M,Q,re,ie,ue){ns(m,w+4*Q,Q,1,8,re,ie,ue),ns(C,M+4*Q,Q,1,8,re,ie,ue)}function Le(m,w,C,M,Q,re,ie,ue){ns(m,w+4,1,Q,8,re,ie,ue),ns(C,M+4,1,Q,8,re,ie,ue)}function Ze(){this.ba=new bt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ct,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function st(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function At(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function jt(){this.ua=0,this.Wa=new Oe,this.vb=new Oe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new X,this.yc=new Y}function Pt(){this.xb=this.a=0,this.l=new Xa,this.ca=new bt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new G,this.Pb=0,this.wd=new G,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new jt,this.ab=0,this.gc=u(4,At),this.Oc=0}function Yt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Xa,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function cn(m,w,C,M,Q,re,ie){for(m=m==null?0:m[w+0],w=0;w<ie;++w)Q[re+w]=m+C[M+w]&255,m=Q[re+w]}function Vn(m,w,C,M,Q,re,ie){var ue;if(m==null)cn(null,null,C,M,Q,re,ie);else for(ue=0;ue<ie;++ue)Q[re+ue]=m[w+ue]+C[M+ue]&255}function or(m,w,C,M,Q,re,ie){if(m==null)cn(null,null,C,M,Q,re,ie);else{var ue,ce=m[w+0],de=ce,Se=ce;for(ue=0;ue<ie;++ue)de=Se+(ce=m[w+ue])-de,Se=C[M+ue]+(-256&de?0>de?0:255:de)&255,de=ce,Q[re+ue]=Se}}function Dn(m,w,C,M){var Q=w.width,re=w.o;if(e(m!=null&&w!=null),0>C||0>=M||C+M>re)return null;if(!m.Cc){if(m.ga==null){var ie;if(m.ga=new Yt,(ie=m.ga==null)||(ie=w.width*w.o,e(m.Gb.length==0),m.Gb=o(ie),m.Uc=0,m.Gb==null?ie=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,ie=1),ie=!ie),!ie){ie=m.ga;var ue=m.Fa,ce=m.P,de=m.qc,Se=m.mb,De=m.nb,fe=ce+1,ke=de-1,je=ie.l;if(e(ue!=null&&Se!=null&&w!=null),gs[0]=null,gs[1]=cn,gs[2]=Vn,gs[3]=or,ie.ca=Se,ie.tb=De,ie.c=w.width,ie.i=w.height,e(0<ie.c&&0<ie.i),1>=de)w=0;else if(ie.$a=3&ue[ce+0],ie.Z=ue[ce+0]>>2&3,ie.Lc=ue[ce+0]>>4&3,ce=ue[ce+0]>>6&3,0>ie.$a||1<ie.$a||4<=ie.Z||1<ie.Lc||ce)w=0;else if(je.put=Lt,je.ac=Gt,je.bc=kn,je.ma=ie,je.width=w.width,je.height=w.height,je.Da=w.Da,je.v=w.v,je.va=w.va,je.j=w.j,je.o=w.o,ie.$a)e:{e(ie.$a==1),w=ao();t:for(;;){if(w==null){w=0;break e}if(e(ie!=null),ie.mc=w,w.c=ie.c,w.i=ie.i,w.l=ie.l,w.l.ma=ie,w.l.width=ie.c,w.l.height=ie.i,w.a=0,le(w.m,ue,fe,ke),!ia(ie.c,ie.i,1,w,null)||(w.ab==1&&w.gc[0].hc==3&&Ln(w.s)?(ie.ic=1,ue=w.c*w.i,w.Ta=null,w.Ua=0,w.V=o(ue),w.Ba=0,w.V==null?(w.a=1,w=0):w=1):(ie.ic=0,w=aa(w,ie.c)),!w))break t;w=1;break e}ie.mc=null,w=0}else w=ke>=ie.c*ie.i;ie=!w}if(ie)return null;m.ga.Lc!=1?m.Ga=0:M=re-C}e(m.ga!=null),e(C+M<=re);e:{if(w=(ue=m.ga).c,re=ue.l.o,ue.$a==0){if(fe=m.rc,ke=m.Vc,je=m.Fa,ce=m.P+1+C*w,de=m.mb,Se=m.nb+C*w,e(ce<=m.P+m.qc),ue.Z!=0)for(e(gs[ue.Z]!=null),ie=0;ie<M;++ie)gs[ue.Z](fe,ke,je,ce,de,Se,w),fe=de,ke=Se,Se+=w,ce+=w;else for(ie=0;ie<M;++ie)i(de,Se,je,ce,w),fe=de,ke=Se,Se+=w,ce+=w;m.rc=fe,m.Vc=ke}else{if(e(ue.mc!=null),w=C+M,e((ie=ue.mc)!=null),e(w<=ie.i),ie.C>=w)w=1;else if(ue.ic||da(),ue.ic){ue=ie.V,fe=ie.Ba,ke=ie.c;var Ye=ie.i,Ne=(je=1,ce=ie.$/ke,de=ie.$%ke,Se=ie.m,De=ie.s,ie.$),We=ke*Ye,et=ke*w,ut=De.wc,at=Ne<et?Tn(De,de,ce):null;e(Ne<=We),e(w<=Ye),e(Ln(De));t:for(;;){for(;!Se.h&&Ne<et;){if(de&ut||(at=Tn(De,de,ce)),e(at!=null),ae(Se),256>(Ye=wn(at.G[0],at.H[0],Se)))ue[fe+Ne]=Ye,++Ne,++de>=ke&&(de=0,++ce<=w&&!(ce%16)&&Zr(ie,ce));else{if(!(280>Ye)){je=0;break t}Ye=$n(Ye-256,Se);var kt,wt=wn(at.G[4],at.H[4],Se);if(ae(Se),!(Ne>=(wt=Gn(ke,wt=$n(wt,Se)))&&We-Ne>=Ye)){je=0;break t}for(kt=0;kt<Ye;++kt)ue[fe+Ne+kt]=ue[fe+Ne+kt-wt];for(Ne+=Ye,de+=Ye;de>=ke;)de-=ke,++ce<=w&&!(ce%16)&&Zr(ie,ce);Ne<et&&de&ut&&(at=Tn(De,de,ce))}e(Se.h==ee(Se))}Zr(ie,ce>w?w:ce);break t}!je||Se.h&&Ne<We?(je=0,ie.a=Se.h?5:3):ie.$=Ne,w=je}else w=Li(ie,ie.V,ie.Ba,ie.c,ie.i,w,Os);if(!w){M=0;break e}}C+M>=re&&(m.Cc=1),M=1}if(!M)return null;if(m.Cc&&((M=m.ga)!=null&&(M.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+C*Q}function Tr(m,w,C,M,Q,re){for(;0<Q--;){var ie,ue=m,ce=w+(C?1:0),de=m,Se=w+(C?0:3);for(ie=0;ie<M;++ie){var De=de[Se+4*ie];De!=255&&(De*=32897,ue[ce+4*ie+0]=ue[ce+4*ie+0]*De>>23,ue[ce+4*ie+1]=ue[ce+4*ie+1]*De>>23,ue[ce+4*ie+2]=ue[ce+4*ie+2]*De>>23)}w+=re}}function gr(m,w,C,M,Q){for(;0<M--;){var re;for(re=0;re<C;++re){var ie=m[w+2*re+0],ue=15&(de=m[w+2*re+1]),ce=4369*ue,de=(240&de|de>>4)*ce>>16;m[w+2*re+0]=(240&ie|ie>>4)*ce>>16&240|(15&ie|ie<<4)*ce>>16>>4&15,m[w+2*re+1]=240&de|ue}w+=Q}}function qr(m,w,C,M,Q,re,ie,ue){var ce,de,Se=255;for(de=0;de<Q;++de){for(ce=0;ce<M;++ce){var De=m[w+ce];re[ie+4*ce]=De,Se&=De}w+=C,ie+=ue}return Se!=255}function is(m,w,C,M,Q){var re;for(re=0;re<Q;++re)C[M+re]=m[w+re]>>8}function da(){yo=Tr,Fi=gr,Zl=qr,Ii=is}function as(m,w,C){L[m]=function(M,Q,re,ie,ue,ce,de,Se,De,fe,ke,je,Ye,Ne,We,et,ut){var at,kt=ut-1>>1,wt=ue[ce+0]|de[Se+0]<<16,$t=De[fe+0]|ke[je+0]<<16;e(M!=null);var St=3*wt+$t+131074>>2;for(w(M[Q+0],255&St,St>>16,Ye,Ne),re!=null&&(St=3*$t+wt+131074>>2,w(re[ie+0],255&St,St>>16,We,et)),at=1;at<=kt;++at){var nn=ue[ce+at]|de[Se+at]<<16,qn=De[fe+at]|ke[je+at]<<16,Vt=wt+nn+$t+qn+524296,xt=Vt+2*(nn+$t)>>3;St=xt+wt>>1,wt=(Vt=Vt+2*(wt+qn)>>3)+nn>>1,w(M[Q+2*at-1],255&St,St>>16,Ye,Ne+(2*at-1)*C),w(M[Q+2*at-0],255&wt,wt>>16,Ye,Ne+(2*at-0)*C),re!=null&&(St=Vt+$t>>1,wt=xt+qn>>1,w(re[ie+2*at-1],255&St,St>>16,We,et+(2*at-1)*C),w(re[ie+2*at+0],255&wt,wt>>16,We,et+(2*at+0)*C)),wt=nn,$t=qn}1&ut||(St=3*wt+$t+131074>>2,w(M[Q+ut-1],255&St,St>>16,Ye,Ne+(ut-1)*C),re!=null&&(St=3*$t+wt+131074>>2,w(re[ie+ut-1],255&St,St>>16,We,et+(ut-1)*C)))}}function Kl(){Wr[Hu]=wo,Wr[ni]=sl,Wr[$u]=rf,Wr[Hi]=Ku,Wr[ru]=Fs,Wr[rl]=Pa,Wr[Bs]=Hs,Wr[iu]=sl,Wr[Wu]=Ku,Wr[il]=Fs,Wr[Gu]=Pa}function Xo(m){return m&-16384?0>m?0:255:m>>Xu}function Ra(m,w){return Xo((19077*m>>8)+(26149*w>>8)-14234)}function ha(m,w,C){return Xo((19077*m>>8)-(6419*w>>8)-(13320*C>>8)+8708)}function po(m,w){return Xo((19077*m>>8)+(33050*w>>8)-17685)}function ss(m,w,C,M,Q){M[Q+0]=Ra(m,C),M[Q+1]=ha(m,w,C),M[Q+2]=po(m,w)}function Dr(m,w,C,M,Q){M[Q+0]=po(m,w),M[Q+1]=ha(m,w,C),M[Q+2]=Ra(m,C)}function Ms(m,w,C,M,Q){var re=ha(m,w,C);w=re<<3&224|po(m,w)>>3,M[Q+0]=248&Ra(m,C)|re>>5,M[Q+1]=w}function zs(m,w,C,M,Q){var re=240&po(m,w)|15;M[Q+0]=240&Ra(m,C)|ha(m,w,C)>>4,M[Q+1]=re}function Jo(m,w,C,M,Q){M[Q+0]=255,ss(m,w,C,M,Q+1)}function Oa(m,w,C,M,Q){Dr(m,w,C,M,Q),M[Q+3]=255}function ci(m,w,C,M,Q){ss(m,w,C,M,Q),M[Q+3]=255}function os(m,w,C){L[m]=function(M,Q,re,ie,ue,ce,de,Se,De){for(var fe=Se+(-2&De)*C;Se!=fe;)w(M[Q+0],re[ie+0],ue[ce+0],de,Se),w(M[Q+1],re[ie+0],ue[ce+0],de,Se+C),Q+=2,++ie,++ce,Se+=2*C;1&De&&w(M[Q+0],re[ie+0],ue[ce+0],de,Se)}}function Qo(m,w,C){return C==0?m==0?w==0?6:5:w==0?4:0:C}function Xl(m,w,C,M,Q){switch(m>>>30){case 3:hs(w,C,M,Q,0);break;case 2:ei(w,C,M,Q);break;case 1:bn(w,C,M,Q)}}function Oi(m,w){var C,M,Q=w.M,re=w.Nb,ie=m.oc,ue=m.pc+40,ce=m.oc,de=m.pc+584,Se=m.oc,De=m.pc+600;for(C=0;16>C;++C)ie[ue+32*C-1]=129;for(C=0;8>C;++C)ce[de+32*C-1]=129,Se[De+32*C-1]=129;for(0<Q?ie[ue-1-32]=ce[de-1-32]=Se[De-1-32]=129:(s(ie,ue-32-1,127,21),s(ce,de-32-1,127,9),s(Se,De-32-1,127,9)),M=0;M<m.za;++M){var fe=w.ya[w.aa+M];if(0<M){for(C=-1;16>C;++C)i(ie,ue+32*C-4,ie,ue+32*C+12,4);for(C=-1;8>C;++C)i(ce,de+32*C-4,ce,de+32*C+4,4),i(Se,De+32*C-4,Se,De+32*C+4,4)}var ke=m.Gd,je=m.Hd+M,Ye=fe.ad,Ne=fe.Hc;if(0<Q&&(i(ie,ue-32,ke[je].y,0,16),i(ce,de-32,ke[je].f,0,8),i(Se,De-32,ke[je].ea,0,8)),fe.Za){var We=ie,et=ue-32+16;for(0<Q&&(M>=m.za-1?s(We,et,ke[je].y[15],4):i(We,et,ke[je+1].y,0,4)),C=0;4>C;C++)We[et+128+C]=We[et+256+C]=We[et+384+C]=We[et+0+C];for(C=0;16>C;++C,Ne<<=2)We=ie,et=ue+cr[C],er[fe.Ob[C]](We,et),Xl(Ne,Ye,16*+C,We,et)}else if(We=Qo(M,Q,fe.Ob[0]),di[We](ie,ue),Ne!=0)for(C=0;16>C;++C,Ne<<=2)Xl(Ne,Ye,16*+C,ie,ue+cr[C]);for(C=fe.Gc,We=Qo(M,Q,fe.Dd),ya[We](ce,de),ya[We](Se,De),Ne=Ye,We=ce,et=de,255&(fe=0|C)&&(170&fe?qi(Ne,256,We,et):fn(Ne,256,We,et)),fe=Se,Ne=De,255&(C>>=8)&&(170&C?qi(Ye,320,fe,Ne):fn(Ye,320,fe,Ne)),Q<m.Ub-1&&(i(ke[je].y,0,ie,ue+480,16),i(ke[je].f,0,ce,de+224,8),i(ke[je].ea,0,Se,De+224,8)),C=8*re*m.B,ke=m.sa,je=m.ta+16*M+16*re*m.R,Ye=m.qa,fe=m.ra+8*M+C,Ne=m.Ha,We=m.Ia+8*M+C,C=0;16>C;++C)i(ke,je+C*m.R,ie,ue+32*C,16);for(C=0;8>C;++C)i(Ye,fe+C*m.B,ce,de+32*C,8),i(Ne,We+C*m.B,Se,De+32*C,8)}}function pa(m,w,C,M,Q,re,ie,ue,ce){var de=[0],Se=[0],De=0,fe=ce!=null?ce.kd:0,ke=ce??new st;if(m==null||12>C)return 7;ke.data=m,ke.w=w,ke.ha=C,w=[w],C=[C],ke.gb=[ke.gb];e:{var je=w,Ye=C,Ne=ke.gb;if(e(m!=null),e(Ye!=null),e(Ne!=null),Ne[0]=0,12<=Ye[0]&&!n(m,je[0],"RIFF")){if(n(m,je[0]+8,"WEBP")){Ne=3;break e}var We=be(m,je[0]+4);if(12>We||4294967286<We){Ne=3;break e}if(fe&&We>Ye[0]-8){Ne=7;break e}Ne[0]=We,je[0]+=12,Ye[0]-=12}Ne=0}if(Ne!=0)return Ne;for(We=0<ke.gb[0],C=C[0];;){e:{var et=m;Ye=w,Ne=C;var ut=de,at=Se,kt=je=[0];if((St=De=[De])[0]=0,8>Ne[0])Ne=7;else{if(!n(et,Ye[0],"VP8X")){if(be(et,Ye[0]+4)!=10){Ne=3;break e}if(18>Ne[0]){Ne=7;break e}var wt=be(et,Ye[0]+8),$t=1+nt(et,Ye[0]+12);if(2147483648<=$t*(et=1+nt(et,Ye[0]+15))){Ne=3;break e}kt!=null&&(kt[0]=wt),ut!=null&&(ut[0]=$t),at!=null&&(at[0]=et),Ye[0]+=18,Ne[0]-=18,St[0]=1}Ne=0}}if(De=De[0],je=je[0],Ne!=0)return Ne;if(Ye=!!(2&je),!We&&De)return 3;if(re!=null&&(re[0]=!!(16&je)),ie!=null&&(ie[0]=Ye),ue!=null&&(ue[0]=0),ie=de[0],je=Se[0],De&&Ye&&ce==null){Ne=0;break}if(4>C){Ne=7;break}if(We&&De||!We&&!De&&!n(m,w[0],"ALPH")){C=[C],ke.na=[ke.na],ke.P=[ke.P],ke.Sa=[ke.Sa];e:{wt=m,Ne=w,We=C;var St=ke.gb;ut=ke.na,at=ke.P,kt=ke.Sa,$t=22,e(wt!=null),e(We!=null),et=Ne[0];var nn=We[0];for(e(ut!=null),e(kt!=null),ut[0]=null,at[0]=null,kt[0]=0;;){if(Ne[0]=et,We[0]=nn,8>nn){Ne=7;break e}var qn=be(wt,et+4);if(4294967286<qn){Ne=3;break e}var Vt=8+qn+1&-2;if($t+=Vt,0<St&&$t>St){Ne=3;break e}if(!n(wt,et,"VP8 ")||!n(wt,et,"VP8L")){Ne=0;break e}if(nn[0]<Vt){Ne=7;break e}n(wt,et,"ALPH")||(ut[0]=wt,at[0]=et+8,kt[0]=qn),et+=Vt,nn-=Vt}}if(C=C[0],ke.na=ke.na[0],ke.P=ke.P[0],ke.Sa=ke.Sa[0],Ne!=0)break}C=[C],ke.Ja=[ke.Ja],ke.xa=[ke.xa];e:if(St=m,Ne=w,We=C,ut=ke.gb[0],at=ke.Ja,kt=ke.xa,wt=Ne[0],et=!n(St,wt,"VP8 "),$t=!n(St,wt,"VP8L"),e(St!=null),e(We!=null),e(at!=null),e(kt!=null),8>We[0])Ne=7;else{if(et||$t){if(St=be(St,wt+4),12<=ut&&St>ut-12){Ne=3;break e}if(fe&&St>We[0]-8){Ne=7;break e}at[0]=St,Ne[0]+=8,We[0]-=8,kt[0]=$t}else kt[0]=5<=We[0]&&St[wt+0]==47&&!(St[wt+4]>>5),at[0]=We[0];Ne=0}if(C=C[0],ke.Ja=ke.Ja[0],ke.xa=ke.xa[0],w=w[0],Ne!=0)break;if(4294967286<ke.Ja)return 3;if(ue==null||Ye||(ue[0]=ke.xa?2:1),ie=[ie],je=[je],ke.xa){if(5>C){Ne=7;break}ue=ie,fe=je,Ye=re,m==null||5>C?m=0:5<=C&&m[w+0]==47&&!(m[w+4]>>5)?(We=[0],St=[0],ut=[0],le(at=new G,m,w,C),Ar(at,We,St,ut)?(ue!=null&&(ue[0]=We[0]),fe!=null&&(fe[0]=St[0]),Ye!=null&&(Ye[0]=ut[0]),m=1):m=0):m=0}else{if(10>C){Ne=7;break}ue=je,m==null||10>C||!Bl(m,w+3,C-3)?m=0:(fe=m[w+0]|m[w+1]<<8|m[w+2]<<16,Ye=16383&(m[w+7]<<8|m[w+6]),m=16383&(m[w+9]<<8|m[w+8]),1&fe||3<(fe>>1&7)||!(fe>>4&1)||fe>>5>=ke.Ja||!Ye||!m?m=0:(ie&&(ie[0]=Ye),ue&&(ue[0]=m),m=1))}if(!m||(ie=ie[0],je=je[0],De&&(de[0]!=ie||Se[0]!=je)))return 3;ce!=null&&(ce[0]=ke,ce.offset=w-ce.w,e(4294967286>w-ce.w),e(ce.offset==ce.ha-C));break}return Ne==0||Ne==7&&De&&ce==null?(re!=null&&(re[0]|=ke.na!=null&&0<ke.na.length),M!=null&&(M[0]=ie),Q!=null&&(Q[0]=je),0):Ne}function ls(m,w,C){var M=w.width,Q=w.height,re=0,ie=0,ue=M,ce=Q;if(w.Da=m!=null&&0<m.Da,w.Da&&(ue=m.cd,ce=m.bd,re=m.v,ie=m.j,11>C||(re&=-2,ie&=-2),0>re||0>ie||0>=ue||0>=ce||re+ue>M||ie+ce>Q))return 0;if(w.v=re,w.j=ie,w.va=re+ue,w.o=ie+ce,w.U=ue,w.T=ce,w.da=m!=null&&0<m.da,w.da){if(!Te(ue,ce,C=[m.ib],re=[m.hb]))return 0;w.ib=C[0],w.hb=re[0]}return w.ob=m!=null&&m.ob,w.Kb=m==null||!m.Sd,w.da&&(w.ob=w.ib<3*M/4&&w.hb<3*Q/4,w.Kb=0),1}function Jl(m){if(m==null)return 2;if(11>m.S){var w=m.f.RGBA;w.fb+=(m.height-1)*w.A,w.A=-w.A}else w=m.f.kb,m=m.height,w.O+=(m-1)*w.fa,w.fa=-w.fa,w.N+=(m-1>>1)*w.Ab,w.Ab=-w.Ab,w.W+=(m-1>>1)*w.Db,w.Db=-w.Db,w.F!=null&&(w.J+=(m-1)*w.lb,w.lb=-w.lb);return 0}function ga(m,w,C,M){if(M==null||0>=m||0>=w)return 2;if(C!=null){if(C.Da){var Q=C.cd,re=C.bd,ie=-2&C.v,ue=-2&C.j;if(0>ie||0>ue||0>=Q||0>=re||ie+Q>m||ue+re>w)return 2;m=Q,w=re}if(C.da){if(!Te(m,w,Q=[C.ib],re=[C.hb]))return 2;m=Q[0],w=re[0]}}M.width=m,M.height=w;e:{var ce=M.width,de=M.height;if(m=M.S,0>=ce||0>=de||!(m>=Hu&&13>m))m=2;else{if(0>=M.Rd&&M.sd==null){ie=re=Q=w=0;var Se=(ue=ce*Qu[m])*de;if(11>m||(re=(de+1)/2*(w=(ce+1)/2),m==12&&(ie=(Q=ce)*de)),(de=o(Se+2*re+ie))==null){m=1;break e}M.sd=de,11>m?((ce=M.f.RGBA).eb=de,ce.fb=0,ce.A=ue,ce.size=Se):((ce=M.f.kb).y=de,ce.O=0,ce.fa=ue,ce.Fd=Se,ce.f=de,ce.N=0+Se,ce.Ab=w,ce.Cd=re,ce.ea=de,ce.W=0+Se+re,ce.Db=w,ce.Ed=re,m==12&&(ce.F=de,ce.J=0+Se+2*re),ce.Tc=ie,ce.lb=Q)}if(w=1,Q=M.S,re=M.width,ie=M.height,Q>=Hu&&13>Q)if(11>Q)m=M.f.RGBA,w&=(ue=Math.abs(m.A))*(ie-1)+re<=m.size,w&=ue>=re*Qu[Q],w&=m.eb!=null;else{m=M.f.kb,ue=(re+1)/2,Se=(ie+1)/2,ce=Math.abs(m.fa),de=Math.abs(m.Ab);var De=Math.abs(m.Db),fe=Math.abs(m.lb),ke=fe*(ie-1)+re;w&=ce*(ie-1)+re<=m.Fd,w&=de*(Se-1)+ue<=m.Cd,w=(w&=De*(Se-1)+ue<=m.Ed)&ce>=re&de>=ue&De>=ue,w&=m.y!=null,w&=m.f!=null,w&=m.ea!=null,Q==12&&(w&=fe>=re,w&=ke<=m.Tc,w&=m.F!=null)}else w=0;m=w?0:2}}return m!=0||C!=null&&C.fd&&(m=Jl(M)),m}var Us=64,wi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],fi=24,Da=32,Ia=8,us=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Me("Predictor0","PredictorAdd0"),L.Predictor0=function(){return 4278190080},L.Predictor1=function(m){return m},L.Predictor2=function(m,w,C){return w[C+0]},L.Predictor3=function(m,w,C){return w[C+1]},L.Predictor4=function(m,w,C){return w[C-1]},L.Predictor5=function(m,w,C){return ct(ct(m,w[C+1]),w[C+0])},L.Predictor6=function(m,w,C){return ct(m,w[C-1])},L.Predictor7=function(m,w,C){return ct(m,w[C+0])},L.Predictor8=function(m,w,C){return ct(w[C-1],w[C+0])},L.Predictor9=function(m,w,C){return ct(w[C+0],w[C+1])},L.Predictor10=function(m,w,C){return ct(ct(m,w[C-1]),ct(w[C+0],w[C+1]))},L.Predictor11=function(m,w,C){var M=w[C+0];return 0>=Re(M>>24&255,m>>24&255,(w=w[C-1])>>24&255)+Re(M>>16&255,m>>16&255,w>>16&255)+Re(M>>8&255,m>>8&255,w>>8&255)+Re(255&M,255&m,255&w)?M:m},L.Predictor12=function(m,w,C){var M=w[C+0];return(dt((m>>24&255)+(M>>24&255)-((w=w[C-1])>>24&255))<<24|dt((m>>16&255)+(M>>16&255)-(w>>16&255))<<16|dt((m>>8&255)+(M>>8&255)-(w>>8&255))<<8|dt((255&m)+(255&M)-(255&w)))>>>0},L.Predictor13=function(m,w,C){var M=w[C-1];return(ve((m=ct(m,w[C+0]))>>24&255,M>>24&255)<<24|ve(m>>16&255,M>>16&255)<<16|ve(m>>8&255,M>>8&255)<<8|ve(255&m,255&M))>>>0};var Zo=L.PredictorAdd0;L.PredictorAdd1=Ge,Me("Predictor2","PredictorAdd2"),Me("Predictor3","PredictorAdd3"),Me("Predictor4","PredictorAdd4"),Me("Predictor5","PredictorAdd5"),Me("Predictor6","PredictorAdd6"),Me("Predictor7","PredictorAdd7"),Me("Predictor8","PredictorAdd8"),Me("Predictor9","PredictorAdd9"),Me("Predictor10","PredictorAdd10"),Me("Predictor11","PredictorAdd11"),Me("Predictor12","PredictorAdd12"),Me("Predictor13","PredictorAdd13");var el=L.PredictorAdd2;Ve("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),Ve("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var lr,Pu=L.ColorIndexInverseTransform,Ma=L.MapARGB,za=L.VP8LColorIndexInverseTransformAlpha,Fr=L.MapAlpha,cs=L.VP8LPredictorsAdd=[];cs.length=16,(L.VP8LPredictors=[]).length=16,(L.VP8LPredictorsAdd_C=[]).length=16,(L.VP8LPredictors_C=[]).length=16;var tl,nl,fs,ds,Ua,go,Di,hs,ei,qi,bn,fn,In,ur,Ba,ma,mo,Ql,Qc,gd,md,yd,Zc,ef,yo,Fi,Zl,Ii,bo=o(511),qu=o(2041),eu=o(225),tu=o(767),Fu=0,ps=qu,nu=eu,ti=tu,Hr=bo,Hu=0,ni=1,$u=2,Hi=3,ru=4,rl=5,Bs=6,iu=7,Wu=8,il=9,Gu=10,$i=[2,3,7],al=[3,3,11],vo=[280,256,256,256,40],Yu=[0,1,1,1,0],au=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Wi=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Gi=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Ps=8,Yi=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Vi=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Mi=null,bd=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],tf=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Vu=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],vd=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],$r=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Pn=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],rn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],di=[],er=[],ya=[],qs=1,nf=2,gs=[],Wr=[];as("UpsampleRgbLinePair",ss,3),as("UpsampleBgrLinePair",Dr,3),as("UpsampleRgbaLinePair",ci,4),as("UpsampleBgraLinePair",Oa,4),as("UpsampleArgbLinePair",Jo,4),as("UpsampleRgba4444LinePair",zs,2),as("UpsampleRgb565LinePair",Ms,2);var wo=L.UpsampleRgbLinePair,rf=L.UpsampleBgrLinePair,sl=L.UpsampleRgbaLinePair,Ku=L.UpsampleBgraLinePair,Fs=L.UpsampleArgbLinePair,Pa=L.UpsampleRgba4444LinePair,Hs=L.UpsampleRgb565LinePair,Ki=16,ol=1<<Ki-1,xo=-227,$s=482,Xu=6,Ws=0,Gr=o(256),Ju=o(256),wd=o(256),S0=o(256),A0=o($s-xo),E0=o($s-xo);os("YuvToRgbRow",ss,3),os("YuvToBgrRow",Dr,3),os("YuvToRgbaRow",ci,4),os("YuvToBgraRow",Oa,4),os("YuvToArgbRow",Jo,4),os("YuvToRgba4444Row",zs,2),os("YuvToRgb565Row",Ms,2);var cr=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ll=[0,2,8],su=[8,7,6,4,4,2,2,2,1,1,1,1],ou=1;this.WebPDecodeRGBA=function(m,w,C,M,Q){var re=ni,ie=new Ze,ue=new bt;ie.ba=ue,ue.S=re,ue.width=[ue.width],ue.height=[ue.height];var ce=ue.width,de=ue.height,Se=new ft;if(Se==null||m==null)var De=2;else e(Se!=null),De=pa(m,w,C,Se.width,Se.height,Se.Pd,Se.Qd,Se.format,null);if(De!=0?ce=0:(ce!=null&&(ce[0]=Se.width[0]),de!=null&&(de[0]=Se.height[0]),ce=1),ce){ue.width=ue.width[0],ue.height=ue.height[0],M!=null&&(M[0]=ue.width),Q!=null&&(Q[0]=ue.height);e:{if(M=new Xa,(Q=new st).data=m,Q.w=w,Q.ha=C,Q.kd=1,w=[0],e(Q!=null),((m=pa(Q.data,Q.w,Q.ha,null,null,null,w,null,Q))==0||m==7)&&w[0]&&(m=4),(w=m)==0){if(e(ie!=null),M.data=Q.data,M.w=Q.w+Q.offset,M.ha=Q.ha-Q.offset,M.put=Lt,M.ac=Gt,M.bc=kn,M.ma=ie,Q.xa){if((m=ao())==null){ie=1;break e}if((function(fe,ke){var je=[0],Ye=[0],Ne=[0];t:for(;;){if(fe==null)return 0;if(ke==null)return fe.a=2,0;if(fe.l=ke,fe.a=0,le(fe.m,ke.data,ke.w,ke.ha),!Ar(fe.m,je,Ye,Ne)){fe.a=3;break t}if(fe.xb=nf,ke.width=je[0],ke.height=Ye[0],!ia(je[0],Ye[0],1,fe,null))break t;return 1}return e(fe.a!=0),0})(m,M)){if(M=(w=ga(M.width,M.height,ie.Oa,ie.ba))==0){t:{M=m;n:for(;;){if(M==null){M=0;break t}if(e(M.s.yc!=null),e(M.s.Ya!=null),e(0<M.s.Wb),e((C=M.l)!=null),e((Q=C.ma)!=null),M.xb!=0){if(M.ca=Q.ba,M.tb=Q.tb,e(M.ca!=null),!ls(Q.Oa,C,Hi)){M.a=2;break n}if(!aa(M,C.width)||C.da)break n;if((C.da||yt(M.ca.S))&&da(),11>M.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),M.ca.f.kb.F!=null&&da()),M.Pb&&0<M.s.ua&&M.s.vb.X==null&&!$(M.s.vb,M.s.Wa.Xa)){M.a=1;break n}M.xb=0}if(!Li(M,M.V,M.Ba,M.c,M.i,C.o,Er))break n;Q.Dc=M.Ma,M=1;break t}e(M.a!=0),M=0}M=!M}M&&(w=m.a)}else w=m.a}else{if((m=new ua)==null){ie=1;break e}if(m.Fa=Q.na,m.P=Q.P,m.qc=Q.Sa,Ca(m,M)){if((w=ga(M.width,M.height,ie.Oa,ie.ba))==0){if(m.Aa=0,C=ie.Oa,e((Q=m)!=null),C!=null){if(0<(ce=0>(ce=C.Md)?0:100<ce?255:255*ce/100)){for(de=Se=0;4>de;++de)12>(De=Q.pb[de]).lc&&(De.ia=ce*su[0>De.lc?0:De.lc]>>3),Se|=De.ia;Se&&(alert("todo:VP8InitRandom"),Q.ia=1)}Q.Ga=C.Id,100<Q.Ga?Q.Ga=100:0>Q.Ga&&(Q.Ga=0)}(function(fe,ke){if(fe==null)return 0;if(ke==null)return yn(fe,2,"NULL VP8Io parameter in VP8Decode().");if(!fe.cb&&!Ca(fe,ke))return 0;if(e(fe.cb),ke.ac==null||ke.ac(ke)){ke.ob&&(fe.L=0);var je=ll[fe.L];if(fe.L==2?(fe.yb=0,fe.zb=0):(fe.yb=ke.v-je>>4,fe.zb=ke.j-je>>4,0>fe.yb&&(fe.yb=0),0>fe.zb&&(fe.zb=0)),fe.Va=ke.o+15+je>>4,fe.Hb=ke.va+15+je>>4,fe.Hb>fe.za&&(fe.Hb=fe.za),fe.Va>fe.Ub&&(fe.Va=fe.Ub),0<fe.L){var Ye=fe.ed;for(je=0;4>je;++je){var Ne;if(fe.Qa.Cb){var We=fe.Qa.Lb[je];fe.Qa.Fb||(We+=Ye.Tb)}else We=Ye.Tb;for(Ne=0;1>=Ne;++Ne){var et=fe.gd[je][Ne],ut=We;if(Ye.Pc&&(ut+=Ye.vd[0],Ne&&(ut+=Ye.od[0])),0<(ut=0>ut?0:63<ut?63:ut)){var at=ut;0<Ye.wb&&(at=4<Ye.wb?at>>2:at>>1)>9-Ye.wb&&(at=9-Ye.wb),1>at&&(at=1),et.dd=at,et.tc=2*ut+at,et.ld=40<=ut?2:15<=ut?1:0}else et.tc=0;et.La=Ne}}}je=0}else yn(fe,6,"Frame setup failed"),je=fe.a;if(je=je==0){if(je){fe.$c=0,0<fe.Aa||(fe.Ic=ou);t:{je=fe.Ic,Ye=4*(at=fe.za);var kt=32*at,wt=at+1,$t=0<fe.L?at*(0<fe.Aa?2:1):0,St=(fe.Aa==2?2:1)*at;if((et=Ye+832+(Ne=3*(16*je+ll[fe.L])/2*kt)+(We=fe.Fa!=null&&0<fe.Fa.length?fe.Kc.c*fe.Kc.i:0))!=et)je=0;else{if(et>fe.Vb){if(fe.Vb=0,fe.Ec=o(et),fe.Fc=0,fe.Ec==null){je=yn(fe,1,"no memory during frame initialization.");break t}fe.Vb=et}et=fe.Ec,ut=fe.Fc,fe.Ac=et,fe.Bc=ut,ut+=Ye,fe.Gd=u(kt,Ul),fe.Hd=0,fe.rb=u(wt+1,la),fe.sb=1,fe.wa=$t?u($t,Ci):null,fe.Y=0,fe.D.Nb=0,fe.D.wa=fe.wa,fe.D.Y=fe.Y,0<fe.Aa&&(fe.D.Y+=at),e(!0),fe.oc=et,fe.pc=ut,ut+=832,fe.ya=u(St,Ml),fe.aa=0,fe.D.ya=fe.ya,fe.D.aa=fe.aa,fe.Aa==2&&(fe.D.aa+=at),fe.R=16*at,fe.B=8*at,at=(kt=ll[fe.L])*fe.R,kt=kt/2*fe.B,fe.sa=et,fe.ta=ut+at,fe.qa=fe.sa,fe.ra=fe.ta+16*je*fe.R+kt,fe.Ha=fe.qa,fe.Ia=fe.ra+8*je*fe.B+kt,fe.$c=0,ut+=Ne,fe.mb=We?et:null,fe.nb=We?ut:null,e(ut+We<=fe.Fc+fe.Vb),Pl(fe),s(fe.Ac,fe.Bc,0,Ye),je=1}}if(je){if(ke.ka=0,ke.y=fe.sa,ke.O=fe.ta,ke.f=fe.qa,ke.N=fe.ra,ke.ea=fe.Ha,ke.Vd=fe.Ia,ke.fa=fe.R,ke.Rc=fe.B,ke.F=null,ke.J=0,!Fu){for(je=-255;255>=je;++je)bo[255+je]=0>je?-je:je;for(je=-1020;1020>=je;++je)qu[1020+je]=-128>je?-128:127<je?127:je;for(je=-112;112>=je;++je)eu[112+je]=-16>je?-16:15<je?15:je;for(je=-255;510>=je;++je)tu[255+je]=0>je?0:255<je?255:je;Fu=1}Di=ca,hs=ql,qi=ui,bn=Fl,fn=Hl,ei=Nu,In=Uu,ur=rs,Ba=J,ma=he,mo=Bu,Ql=A,Qc=xe,gd=Le,md=Za,yd=es,Zc=ho,ef=Vl,er[0]=Mu,er[1]=Ru,er[2]=Iu,er[3]=Gl,er[4]=Ni,er[5]=Yl,er[6]=Pr,er[7]=uo,er[8]=co,er[9]=Ri,di[0]=fa,di[1]=$l,di[2]=Wl,di[3]=Du,di[4]=Ja,di[5]=lo,di[6]=Is,ya[0]=Yo,ya[1]=Ou,ya[2]=ja,ya[3]=zu,ya[4]=Or,ya[5]=Vo,ya[6]=Na,je=1}else je=0}je&&(je=(function(nn,qn){for(nn.M=0;nn.M<nn.Va;++nn.M){var Vt,xt=nn.Jc[nn.M&nn.Xb],pt=nn.m,Kn=nn;for(Vt=0;Vt<Kn.za;++Vt){var Ut=pt,Jt=Kn,Sn=Jt.Ac,Lr=Jt.Bc+4*Vt,Yr=Jt.zc,Mn=Jt.ya[Jt.aa+Vt];if(Jt.Qa.Bb?Mn.$b=_e(Ut,Jt.Pa.jb[0])?2+_e(Ut,Jt.Pa.jb[2]):_e(Ut,Jt.Pa.jb[1]):Mn.$b=0,Jt.kc&&(Mn.Ad=_e(Ut,Jt.Bd)),Mn.Za=!_e(Ut,145)+0,Mn.Za){var mr=Mn.Ob,ri=0;for(Jt=0;4>Jt;++Jt){var yr,en=Yr[0+Jt];for(yr=0;4>yr;++yr){en=$r[Sn[Lr+yr]][en];for(var pn=Vu[_e(Ut,en[0])];0<pn;)pn=Vu[2*pn+_e(Ut,en[pn])];en=-pn,Sn[Lr+yr]=en}i(mr,ri,Sn,Lr,4),ri+=4,Yr[0+Jt]=en}}else en=_e(Ut,156)?_e(Ut,128)?1:3:_e(Ut,163)?2:0,Mn.Ob[0]=en,s(Sn,Lr,en,4),s(Yr,0,en,4);Mn.Dd=_e(Ut,142)?_e(Ut,114)?_e(Ut,183)?1:3:2:0}if(Kn.m.Ka)return yn(nn,7,"Premature end-of-partition0 encountered.");for(;nn.ja<nn.za;++nn.ja){if(Kn=xt,Ut=(pt=nn).rb[pt.sb-1],Sn=pt.rb[pt.sb+pt.ja],Vt=pt.ya[pt.aa+pt.ja],Lr=pt.kc?Vt.Ad:0)Ut.la=Sn.la=0,Vt.Za||(Ut.Na=Sn.Na=0),Vt.Hc=0,Vt.Gc=0,Vt.ia=0;else{var Xn,vn;if(Ut=Sn,Sn=Kn,Lr=pt.Pa.Xc,Yr=pt.ya[pt.aa+pt.ja],Mn=pt.pb[Yr.$b],Jt=Yr.ad,mr=0,ri=pt.rb[pt.sb-1],en=yr=0,s(Jt,mr,0,384),Yr.Za)var Cr=0,Jn=Lr[3];else{pn=o(16);var gn=Ut.Na+ri.Na;if(gn=Mi(Sn,Lr[1],gn,Mn.Eb,0,pn,0),Ut.Na=ri.Na=(0<gn)+0,1<gn)Di(pn,0,Jt,mr);else{var fr=pn[0]+3>>3;for(pn=0;256>pn;pn+=16)Jt[mr+pn]=fr}Cr=1,Jn=Lr[0]}var An=15&Ut.la,br=15&ri.la;for(pn=0;4>pn;++pn){var vr=1&br;for(fr=vn=0;4>fr;++fr)An=An>>1|(vr=(gn=Mi(Sn,Jn,gn=vr+(1&An),Mn.Sc,Cr,Jt,mr))>Cr)<<7,vn=vn<<2|(3<gn?3:1<gn?2:Jt[mr+0]!=0),mr+=16;An>>=4,br=br>>1|vr<<7,yr=(yr<<8|vn)>>>0}for(Jn=An,Cr=br>>4,Xn=0;4>Xn;Xn+=2){for(vn=0,An=Ut.la>>4+Xn,br=ri.la>>4+Xn,pn=0;2>pn;++pn){for(vr=1&br,fr=0;2>fr;++fr)gn=vr+(1&An),An=An>>1|(vr=0<(gn=Mi(Sn,Lr[2],gn,Mn.Qc,0,Jt,mr)))<<3,vn=vn<<2|(3<gn?3:1<gn?2:Jt[mr+0]!=0),mr+=16;An>>=2,br=br>>1|vr<<5}en|=vn<<4*Xn,Jn|=An<<4<<Xn,Cr|=(240&br)<<Xn}Ut.la=Jn,ri.la=Cr,Yr.Hc=yr,Yr.Gc=en,Yr.ia=43690&en?0:Mn.ia,Lr=!(yr|en)}if(0<pt.L&&(pt.wa[pt.Y+pt.ja]=pt.gd[Vt.$b][Vt.Za],pt.wa[pt.Y+pt.ja].La|=!Lr),Kn.Ka)return yn(nn,7,"Premature end-of-file encountered.")}if(Pl(nn),pt=qn,Kn=1,Vt=(xt=nn).D,Ut=0<xt.L&&xt.M>=xt.zb&&xt.M<=xt.Va,xt.Aa==0)t:{if(Vt.M=xt.M,Vt.uc=Ut,Oi(xt,Vt),Kn=1,Vt=(vn=xt.D).Nb,Ut=(en=ll[xt.L])*xt.R,Sn=en/2*xt.B,pn=16*Vt*xt.R,fr=8*Vt*xt.B,Lr=xt.sa,Yr=xt.ta-Ut+pn,Mn=xt.qa,Jt=xt.ra-Sn+fr,mr=xt.Ha,ri=xt.Ia-Sn+fr,br=(An=vn.M)==0,yr=An>=xt.Va-1,xt.Aa==2&&Oi(xt,vn),vn.uc)for(vr=(gn=xt).D.M,e(gn.D.uc),vn=gn.yb;vn<gn.Hb;++vn){Cr=vn,Jn=vr;var Cn=(dn=(wr=gn).D).Nb;Xn=wr.R;var dn=dn.wa[dn.Y+Cr],ii=wr.sa,tr=wr.ta+16*Cn*Xn+16*Cr,Dt=dn.dd,It=dn.tc;if(It!=0)if(e(3<=It),wr.L==1)0<Cr&&yd(ii,tr,Xn,It+4),dn.La&&ef(ii,tr,Xn,It),0<Jn&&md(ii,tr,Xn,It+4),dn.La&&Zc(ii,tr,Xn,It);else{var mn=wr.B,xi=wr.qa,Xi=wr.ra+8*Cn*mn+8*Cr,hi=wr.Ha,wr=wr.Ia+8*Cn*mn+8*Cr;Cn=dn.ld,0<Cr&&(ur(ii,tr,Xn,It+4,Dt,Cn),ma(xi,Xi,hi,wr,mn,It+4,Dt,Cn)),dn.La&&(Ql(ii,tr,Xn,It,Dt,Cn),gd(xi,Xi,hi,wr,mn,It,Dt,Cn)),0<Jn&&(In(ii,tr,Xn,It+4,Dt,Cn),Ba(xi,Xi,hi,wr,mn,It+4,Dt,Cn)),dn.La&&(mo(ii,tr,Xn,It,Dt,Cn),Qc(xi,Xi,hi,wr,mn,It,Dt,Cn))}}if(xt.ia&&alert("todo:DitherRow"),pt.put!=null){if(vn=16*An,An=16*(An+1),br?(pt.y=xt.sa,pt.O=xt.ta+pn,pt.f=xt.qa,pt.N=xt.ra+fr,pt.ea=xt.Ha,pt.W=xt.Ia+fr):(vn-=en,pt.y=Lr,pt.O=Yr,pt.f=Mn,pt.N=Jt,pt.ea=mr,pt.W=ri),yr||(An-=en),An>pt.o&&(An=pt.o),pt.F=null,pt.J=null,xt.Fa!=null&&0<xt.Fa.length&&vn<An&&(pt.J=Dn(xt,pt,vn,An-vn),pt.F=xt.mb,pt.F==null&&pt.F.length==0)){Kn=yn(xt,3,"Could not decode alpha data.");break t}vn<pt.j&&(en=pt.j-vn,vn=pt.j,e(!(1&en)),pt.O+=xt.R*en,pt.N+=xt.B*(en>>1),pt.W+=xt.B*(en>>1),pt.F!=null&&(pt.J+=pt.width*en)),vn<An&&(pt.O+=pt.v,pt.N+=pt.v>>1,pt.W+=pt.v>>1,pt.F!=null&&(pt.J+=pt.v),pt.ka=vn-pt.j,pt.U=pt.va-pt.v,pt.T=An-vn,Kn=pt.put(pt))}Vt+1!=xt.Ic||yr||(i(xt.sa,xt.ta-Ut,Lr,Yr+16*xt.R,Ut),i(xt.qa,xt.ra-Sn,Mn,Jt+8*xt.B,Sn),i(xt.Ha,xt.Ia-Sn,mr,ri+8*xt.B,Sn))}if(!Kn)return yn(nn,6,"Output aborted.")}return 1})(fe,ke)),ke.bc!=null&&ke.bc(ke),je&=1}return je?(fe.cb=0,je):0})(m,M)||(w=m.a)}}else w=m.a}w==0&&ie.Oa!=null&&ie.Oa.fd&&(w=Jl(ie.ba))}ie=w}re=ie!=0?null:11>re?ue.f.RGBA.eb:ue.f.kb.y}else re=null;return re};var Qu=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(L,K){for(var N="",P=0;P<4;P++)N+=String.fromCharCode(L[K++]);return N}function p(L,K){return L[K+0]|L[K+1]<<8}function y(L,K){return(L[K+0]|L[K+1]<<8|L[K+2]<<16)>>>0}function b(L,K){return(L[K+0]|L[K+1]<<8|L[K+2]<<16|L[K+3]<<24)>>>0}new f;var g=[0],S=[0],E=[],k=new f,T=t,z=(function(L,K){var N={},P=0,Y=!1,F=0,X=0;if(N.frames=[],!(function(j,G){for(var V=0;V<4;V++)if(j[G+V]!="RIFF".charCodeAt(V))return!0;return!1})(L,K)){for(b(L,K+=4),K+=8;K<L.length;){var O=h(L,K),R=b(L,K+=4);K+=4;var se=R+(1&R);switch(O){case"VP8 ":case"VP8L":N.frames[P]===void 0&&(N.frames[P]={}),(Z=N.frames[P]).src_off=Y?X:K-8,Z.src_size=F+R+8,P++,Y&&(Y=!1,F=0,X=0);break;case"VP8X":(Z=N.header={}).feature_flags=L[K];var le=K+4;Z.canvas_width=1+y(L,le),le+=3,Z.canvas_height=1+y(L,le),le+=3;break;case"ALPH":Y=!0,F=se+8,X=K-8;break;case"ANIM":(Z=N.header).bgcolor=b(L,K),le=K+4,Z.loop_count=p(L,le),le+=2;break;case"ANMF":var me,Z;(Z=N.frames[P]={}).offset_x=2*y(L,K),K+=3,Z.offset_y=2*y(L,K),K+=3,Z.width=1+y(L,K),K+=3,Z.height=1+y(L,K),K+=3,Z.duration=y(L,K),K+=3,me=L[K++],Z.dispose=1&me,Z.blend=me>>1&1}O!="ANMF"&&(K+=se)}return N}})(T,0);z.response=T,z.rgbaoutput=!0,z.dataurl=!1;var B=z.header?z.header:null,D=z.frames?z.frames:null;if(B){B.loop_counter=B.loop_count,g=[B.canvas_height],S=[B.canvas_width];for(var ne=0;ne<D.length&&D[ne].blend!=0;ne++);}var H=D[0],te=k.WebPDecodeRGBA(T,H.src_off,H.src_size,S,g);H.rgba=te,H.imgwidth=S[0],H.imgheight=g[0];for(var I=0;I<S[0]*g[0]*4;I++)E[I]=te[I];return this.width=S,this.height=g,this.data=E,this}function Vk(){var t,e=this.internal.__metadata__.metadata,n=unescape(encodeURIComponent(e));t=this.internal.__metadata__.rawXml?n:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+t.length+" >>"),this.internal.write("stream"),this.internal.write(t),this.internal.write("endstream"),this.internal.write("endobj")}function Kk(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(t){var e,n,i,s,o,u,c,f,h,p=function(j){return j=j||{},this.isStrokeTransparent=j.isStrokeTransparent||!1,this.strokeOpacity=j.strokeOpacity||1,this.strokeStyle=j.strokeStyle||"#000000",this.fillStyle=j.fillStyle||"#000000",this.isFillTransparent=j.isFillTransparent||!1,this.fillOpacity=j.fillOpacity||1,this.font=j.font||"10px sans-serif",this.textBaseline=j.textBaseline||"alphabetic",this.textAlign=j.textAlign||"left",this.lineWidth=j.lineWidth||1,this.lineJoin=j.lineJoin||"miter",this.lineCap=j.lineCap||"butt",this.path=j.path||[],this.transform=j.transform!==void 0?j.transform.clone():new f,this.globalCompositeOperation=j.globalCompositeOperation||"normal",this.globalAlpha=j.globalAlpha||1,this.clip_path=j.clip_path||[],this.currentPoint=j.currentPoint||new u,this.miterLimit=j.miterLimit||10,this.lastPoint=j.lastPoint||new u,this.lineDashOffset=j.lineDashOffset||0,this.lineDash=j.lineDash||[],this.margin=j.margin||[0,0,0,0],this.prevPageLastElemOffset=j.prevPageLastElemOffset||0,this.ignoreClearRect=typeof j.ignoreClearRect!="boolean"||j.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new y(this),e=this.internal.f2,n=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,u=this.internal.Point,c=this.internal.Rectangle,f=this.internal.Matrix,h=new p}]);var y=function(j){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var G=j;Object.defineProperty(this,"pdf",{get:function(){return G}});var V=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return V},set:function($){V=!!$}});var ee=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ee},set:function($){ee=!!$}});var q=0;Object.defineProperty(this,"posX",{get:function(){return q},set:function($){isNaN($)||(q=$)}});var ae=0;Object.defineProperty(this,"posY",{get:function(){return ae},set:function($){isNaN($)||(ae=$)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function($){var ge;typeof $=="number"?ge=[$,$,$,$]:((ge=new Array(4))[0]=$[0],ge[1]=$.length>=2?$[1]:ge[0],ge[2]=$.length>=3?$[2]:ge[0],ge[3]=$.length>=4?$[3]:ge[1]),h.margin=ge}});var pe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return pe},set:function($){pe=$}});var ye=0;Object.defineProperty(this,"lastBreak",{get:function(){return ye},set:function($){ye=$}});var _e=[];Object.defineProperty(this,"pageBreaks",{get:function(){return _e},set:function($){_e=$}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function($){$ instanceof p&&(h=$)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function($){h.path=$}});var Be=[];Object.defineProperty(this,"ctxStack",{get:function(){return Be},set:function($){Be=$}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function($){var ge;ge=b($),this.ctx.fillStyle=ge.style,this.ctx.isFillTransparent=ge.a===0,this.ctx.fillOpacity=ge.a,this.pdf.setFillColor(ge.r,ge.g,ge.b,{a:ge.a}),this.pdf.setTextColor(ge.r,ge.g,ge.b,{a:ge.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function($){var ge=b($);this.ctx.strokeStyle=ge.style,this.ctx.isStrokeTransparent=ge.a===0,this.ctx.strokeOpacity=ge.a,ge.a===0?this.pdf.setDrawColor(255,255,255):(ge.a,this.pdf.setDrawColor(ge.r,ge.g,ge.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function($){["butt","round","square"].indexOf($)!==-1&&(this.ctx.lineCap=$,this.pdf.setLineCap($))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function($){isNaN($)||(this.ctx.lineWidth=$,this.pdf.setLineWidth($))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function($){["bevel","round","miter"].indexOf($)!==-1&&(this.ctx.lineJoin=$,this.pdf.setLineJoin($))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function($){isNaN($)||(this.ctx.miterLimit=$,this.pdf.setMiterLimit($))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function($){this.ctx.textBaseline=$}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function($){["right","end","center","left","start"].indexOf($)!==-1&&(this.ctx.textAlign=$)}});var Qe=null,nt=null,be=null;Object.defineProperty(this,"fontFaces",{get:function(){return be},set:function($){Qe=null,nt=null,be=$}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function($){var ge;if(this.ctx.font=$,(ge=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec($))!==null){var Oe=ge[1];ge[2];var Te=ge[3],Ee=ge[4];ge[5];var qe=ge[6],Me=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ee)[2];Ee=Math.floor(Me==="px"?parseFloat(Ee)*this.pdf.internal.scaleFactor:Me==="em"?parseFloat(Ee)*this.pdf.getFontSize():parseFloat(Ee)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ee);var lt=(function(Ve){var ot,Je,$e=[],tt=Ve.trim();if(tt==="")return _1;if(tt in Vy)return[Vy[tt]];for(;tt!=="";){switch(Je=null,ot=(tt=Xy(tt)).charAt(0)){case'"':case"'":Je=Fk(tt.substring(1),ot);break;default:Je=Hk(tt)}if(Je===null||($e.push(Je[0]),(tt=Xy(Je[1]))!==""&&tt.charAt(0)!==","))return _1;tt=tt.replace(/^,/,"")}return $e})(qe);if(this.fontFaces){var ct=(function(Ve,ot){var Je=Ve.getFontList(),$e=JSON.stringify(Je);if(Qe===null||nt!==$e){var tt=(function(_t){var mt=[];return Object.keys(_t).forEach(function(Ht){_t[Ht].forEach(function(yt){var gt=null;switch(yt){case"bold":gt={family:Ht,weight:"bold"};break;case"italic":gt={family:Ht,style:"italic"};break;case"bolditalic":gt={family:Ht,weight:"bold",style:"italic"};break;case"":case"normal":gt={family:Ht}}gt!==null&&(gt.ref={name:Ht,style:yt},mt.push(gt))})}),mt})(Je);Qe=(function(_t){for(var mt={},Ht=0;Ht<_t.length;++Ht){var yt=x1(_t[Ht]),gt=yt.family,vt=yt.stretch,bt=yt.style,ft=yt.weight;mt[gt]=mt[gt]||{},mt[gt][vt]=mt[gt][vt]||{},mt[gt][vt][bt]=mt[gt][vt][bt]||{},mt[gt][vt][bt][ft]=yt}return mt})(tt.concat(ot)),nt=$e}return Qe})(this.pdf,this.fontFaces),dt=lt.map(function(Ve){return{family:Ve,stretch:"normal",weight:Te,style:Oe}}),ve=(function(Ve,ot,Je){for(var $e=(Je=Je||{}).defaultFontFamily||"times",tt=Object.assign({},qk,Je.genericFontFamilies||{}),_t=null,mt=null,Ht=0;Ht<ot.length;++Ht)if(tt[(_t=x1(ot[Ht])).family]&&(_t.family=tt[_t.family]),Ve.hasOwnProperty(_t.family)){mt=Ve[_t.family];break}if(!(mt=mt||Ve[$e]))throw new Error("Could not find a font-family for the rule '"+Ky(_t)+"' and default family '"+$e+"'.");if(mt=(function(yt,gt){if(gt[yt])return gt[yt];var vt=tg[yt],bt=vt<=tg.normal?-1:1,ft=Yy(gt,Mw,vt,bt);if(!ft)throw new Error("Could not find a matching font-stretch value for "+yt);return ft})(_t.stretch,mt),mt=(function(yt,gt){if(gt[yt])return gt[yt];for(var vt=Iw[yt],bt=0;bt<vt.length;++bt)if(gt[vt[bt]])return gt[vt[bt]];throw new Error("Could not find a matching font-style for "+yt)})(_t.style,mt),!(mt=(function(yt,gt){if(gt[yt])return gt[yt];if(yt===400&&gt[500])return gt[500];if(yt===500&&gt[400])return gt[400];var vt=Pk[yt],bt=Yy(gt,zw,vt,yt<400?-1:1);if(!bt)throw new Error("Could not find a matching font-weight for value "+yt);return bt})(_t.weight,mt)))throw new Error("Failed to resolve a font for the rule '"+Ky(_t)+"'.");return mt})(ct,dt);this.pdf.setFont(ve.ref.name,ve.ref.style)}else{var Re="";(Te==="bold"||parseInt(Te,10)>=700||Oe==="bold")&&(Re="bold"),Oe==="italic"&&(Re+="italic"),Re.length===0&&(Re="normal");for(var Ge="",Fe={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ue=0;Ue<lt.length;Ue++){if(this.pdf.internal.getFont(lt[Ue],Re,{noFallback:!0,disableWarning:!0})!==void 0){Ge=lt[Ue];break}if(Re==="bolditalic"&&this.pdf.internal.getFont(lt[Ue],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ge=lt[Ue],Re="bold";else if(this.pdf.internal.getFont(lt[Ue],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ge=lt[Ue],Re="normal";break}}if(Ge===""){for(var Ke=0;Ke<lt.length;Ke++)if(Fe[lt[Ke]]){Ge=Fe[lt[Ke]];break}}Ge=Ge===""?"Times":Ge,this.pdf.setFont(Ge,Re)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function($){this.ctx.globalCompositeOperation=$}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function($){this.ctx.globalAlpha=$}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function($){this.ctx.lineDashOffset=$,Z.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function($){this.ctx.lineDash=$,Z.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function($){this.ctx.ignoreClearRect=!!$}})};y.prototype.setLineDash=function(j){this.lineDash=j},y.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},y.prototype.fill=function(){D.call(this,"fill",!1)},y.prototype.stroke=function(){D.call(this,"stroke",!1)},y.prototype.beginPath=function(){this.path=[{type:"begin"}]},y.prototype.moveTo=function(j,G){if(isNaN(j)||isNaN(G))throw Hn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var V=this.ctx.transform.applyToPoint(new u(j,G));this.path.push({type:"mt",x:V.x,y:V.y}),this.ctx.lastPoint=new u(j,G)},y.prototype.closePath=function(){var j=new u(0,0),G=0;for(G=this.path.length-1;G!==-1;G--)if(this.path[G].type==="begin"&&Rn(this.path[G+1])==="object"&&typeof this.path[G+1].x=="number"){j=new u(this.path[G+1].x,this.path[G+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new u(j.x,j.y)},y.prototype.lineTo=function(j,G){if(isNaN(j)||isNaN(G))throw Hn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var V=this.ctx.transform.applyToPoint(new u(j,G));this.path.push({type:"lt",x:V.x,y:V.y}),this.ctx.lastPoint=new u(V.x,V.y)},y.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),D.call(this,null,!0)},y.prototype.quadraticCurveTo=function(j,G,V,ee){if(isNaN(V)||isNaN(ee)||isNaN(j)||isNaN(G))throw Hn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var q=this.ctx.transform.applyToPoint(new u(V,ee)),ae=this.ctx.transform.applyToPoint(new u(j,G));this.path.push({type:"qct",x1:ae.x,y1:ae.y,x:q.x,y:q.y}),this.ctx.lastPoint=new u(q.x,q.y)},y.prototype.bezierCurveTo=function(j,G,V,ee,q,ae){if(isNaN(q)||isNaN(ae)||isNaN(j)||isNaN(G)||isNaN(V)||isNaN(ee))throw Hn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var pe=this.ctx.transform.applyToPoint(new u(q,ae)),ye=this.ctx.transform.applyToPoint(new u(j,G)),_e=this.ctx.transform.applyToPoint(new u(V,ee));this.path.push({type:"bct",x1:ye.x,y1:ye.y,x2:_e.x,y2:_e.y,x:pe.x,y:pe.y}),this.ctx.lastPoint=new u(pe.x,pe.y)},y.prototype.arc=function(j,G,V,ee,q,ae){if(isNaN(j)||isNaN(G)||isNaN(V)||isNaN(ee)||isNaN(q))throw Hn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ae=!!ae,!this.ctx.transform.isIdentity){var pe=this.ctx.transform.applyToPoint(new u(j,G));j=pe.x,G=pe.y;var ye=this.ctx.transform.applyToPoint(new u(0,V)),_e=this.ctx.transform.applyToPoint(new u(0,0));V=Math.sqrt(Math.pow(ye.x-_e.x,2)+Math.pow(ye.y-_e.y,2))}Math.abs(q-ee)>=2*Math.PI&&(ee=0,q=2*Math.PI),this.path.push({type:"arc",x:j,y:G,radius:V,startAngle:ee,endAngle:q,counterclockwise:ae})},y.prototype.arcTo=function(j,G,V,ee,q){throw new Error("arcTo not implemented.")},y.prototype.rect=function(j,G,V,ee){if(isNaN(j)||isNaN(G)||isNaN(V)||isNaN(ee))throw Hn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(j,G),this.lineTo(j+V,G),this.lineTo(j+V,G+ee),this.lineTo(j,G+ee),this.lineTo(j,G),this.lineTo(j+V,G),this.lineTo(j,G)},y.prototype.fillRect=function(j,G,V,ee){if(isNaN(j)||isNaN(G)||isNaN(V)||isNaN(ee))throw Hn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var q={};this.lineCap!=="butt"&&(q.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(q.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(j,G,V,ee),this.fill(),q.hasOwnProperty("lineCap")&&(this.lineCap=q.lineCap),q.hasOwnProperty("lineJoin")&&(this.lineJoin=q.lineJoin)}},y.prototype.strokeRect=function(j,G,V,ee){if(isNaN(j)||isNaN(G)||isNaN(V)||isNaN(ee))throw Hn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");S.call(this)||(this.beginPath(),this.rect(j,G,V,ee),this.stroke())},y.prototype.clearRect=function(j,G,V,ee){if(isNaN(j)||isNaN(G)||isNaN(V)||isNaN(ee))throw Hn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(j,G,V,ee))},y.prototype.save=function(j){j=typeof j!="boolean"||j;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("q");if(this.pdf.setPage(G),j){this.ctx.fontSize=this.pdf.internal.getFontSize();var ee=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ee}},y.prototype.restore=function(j){j=typeof j!="boolean"||j;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("Q");this.pdf.setPage(G),j&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},y.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var b=function(j){var G,V,ee,q;if(j.isCanvasGradient===!0&&(j=j.getColor()),!j)return{r:0,g:0,b:0,a:0,style:j};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(j))G=0,V=0,ee=0,q=0;else{var ae=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(j);if(ae!==null)G=parseInt(ae[1]),V=parseInt(ae[2]),ee=parseInt(ae[3]),q=1;else if((ae=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(j))!==null)G=parseInt(ae[1]),V=parseInt(ae[2]),ee=parseInt(ae[3]),q=parseFloat(ae[4]);else{if(q=1,typeof j=="string"&&j.charAt(0)!=="#"){var pe=new Lw(j);j=pe.ok?pe.toHex():"#000000"}j.length===4?(G=j.substring(1,2),G+=G,V=j.substring(2,3),V+=V,ee=j.substring(3,4),ee+=ee):(G=j.substring(1,3),V=j.substring(3,5),ee=j.substring(5,7)),G=parseInt(G,16),V=parseInt(V,16),ee=parseInt(ee,16)}}return{r:G,g:V,b:ee,a:q,style:j}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},S=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};y.prototype.fillText=function(j,G,V,ee){if(isNaN(G)||isNaN(V)||typeof j!="string")throw Hn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ee=isNaN(ee)?void 0:ee,!g.call(this)){var q=se(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;P.call(this,{text:j,x:G,y:V,scale:ae,angle:q,align:this.textAlign,maxWidth:ee})}},y.prototype.strokeText=function(j,G,V,ee){if(isNaN(G)||isNaN(V)||typeof j!="string")throw Hn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!S.call(this)){ee=isNaN(ee)?void 0:ee;var q=se(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;P.call(this,{text:j,x:G,y:V,scale:ae,renderingMode:"stroke",angle:q,align:this.textAlign,maxWidth:ee})}},y.prototype.measureText=function(j){if(typeof j!="string")throw Hn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var G=this.pdf,V=this.pdf.internal.scaleFactor,ee=G.internal.getFontSize(),q=G.getStringUnitWidth(j)*ee/G.internal.scaleFactor;return new function(ae){var pe=(ae=ae||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return pe}}),this}({width:q*=Math.round(96*V/72*1e4)/1e4})},y.prototype.scale=function(j,G){if(isNaN(j)||isNaN(G))throw Hn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var V=new f(j,0,0,G,0,0);this.ctx.transform=this.ctx.transform.multiply(V)},y.prototype.rotate=function(j){if(isNaN(j))throw Hn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var G=new f(Math.cos(j),Math.sin(j),-Math.sin(j),Math.cos(j),0,0);this.ctx.transform=this.ctx.transform.multiply(G)},y.prototype.translate=function(j,G){if(isNaN(j)||isNaN(G))throw Hn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var V=new f(1,0,0,1,j,G);this.ctx.transform=this.ctx.transform.multiply(V)},y.prototype.transform=function(j,G,V,ee,q,ae){if(isNaN(j)||isNaN(G)||isNaN(V)||isNaN(ee)||isNaN(q)||isNaN(ae))throw Hn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var pe=new f(j,G,V,ee,q,ae);this.ctx.transform=this.ctx.transform.multiply(pe)},y.prototype.setTransform=function(j,G,V,ee,q,ae){j=isNaN(j)?1:j,G=isNaN(G)?0:G,V=isNaN(V)?0:V,ee=isNaN(ee)?1:ee,q=isNaN(q)?0:q,ae=isNaN(ae)?0:ae,this.ctx.transform=new f(j,G,V,ee,q,ae)};var E=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};y.prototype.drawImage=function(j,G,V,ee,q,ae,pe,ye,_e){var Be=this.pdf.getImageProperties(j),Qe=1,nt=1,be=1,$=1;ee!==void 0&&ye!==void 0&&(be=ye/ee,$=_e/q,Qe=Be.width/ee*ye/ee,nt=Be.height/q*_e/q),ae===void 0&&(ae=G,pe=V,G=0,V=0),ee!==void 0&&ye===void 0&&(ye=ee,_e=q),ee===void 0&&ye===void 0&&(ye=Be.width,_e=Be.height);var ge=this.ctx.transform.decompose(),Oe=se(ge.rotate.shx),Te=new f,Ee=(Te=(Te=(Te=Te.multiply(ge.translate)).multiply(ge.skew)).multiply(ge.scale)).applyToRectangle(new c(ae-G*be,pe-V*$,ee*Qe,q*nt));if(this.autoPaging){for(var qe,Me=k.call(this,Ee),lt=[],ct=0;ct<Me.length;ct+=1)lt.indexOf(Me[ct])===-1&&lt.push(Me[ct]);B(lt);for(var dt=lt[0],ve=lt[lt.length-1],Re=dt;Re<ve+1;Re++){this.pdf.setPage(Re);var Ge=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Fe=Re===1?this.posY+this.margin[0]:this.margin[0],Ue=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ke=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ve=Re===1?0:Ue+(Re-2)*Ke;if(this.ctx.clip_path.length!==0){var ot=this.path;qe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=z(qe,this.posX+this.margin[3],-Ve+Fe+this.ctx.prevPageLastElemOffset),ne.call(this,"fill",!0),this.path=ot}var Je=JSON.parse(JSON.stringify(Ee));Je=z([Je],this.posX+this.margin[3],-Ve+Fe+this.ctx.prevPageLastElemOffset)[0];var $e=(Re>dt||Re<ve)&&E.call(this);$e&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ge,Ke,null).clip().discardPath()),this.pdf.addImage(j,"JPEG",Je.x,Je.y,Je.w,Je.h,null,null,Oe),$e&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(j,"JPEG",Ee.x,Ee.y,Ee.w,Ee.h,null,null,Oe)};var k=function(j,G,V){var ee=[];G=G||this.pdf.internal.pageSize.width,V=V||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var q=this.posY+this.ctx.prevPageLastElemOffset;switch(j.type){default:case"mt":case"lt":ee.push(Math.floor((j.y+q)/V)+1);break;case"arc":ee.push(Math.floor((j.y+q-j.radius)/V)+1),ee.push(Math.floor((j.y+q+j.radius)/V)+1);break;case"qct":var ae=le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x,j.y);ee.push(Math.floor((ae.y+q)/V)+1),ee.push(Math.floor((ae.y+ae.h+q)/V)+1);break;case"bct":var pe=me(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x2,j.y2,j.x,j.y);ee.push(Math.floor((pe.y+q)/V)+1),ee.push(Math.floor((pe.y+pe.h+q)/V)+1);break;case"rect":ee.push(Math.floor((j.y+q)/V)+1),ee.push(Math.floor((j.y+j.h+q)/V)+1)}for(var ye=0;ye<ee.length;ye+=1)for(;this.pdf.internal.getNumberOfPages()<ee[ye];)T.call(this);return ee},T=function(){var j=this.fillStyle,G=this.strokeStyle,V=this.font,ee=this.lineCap,q=this.lineWidth,ae=this.lineJoin;this.pdf.addPage(),this.fillStyle=j,this.strokeStyle=G,this.font=V,this.lineCap=ee,this.lineWidth=q,this.lineJoin=ae},z=function(j,G,V){for(var ee=0;ee<j.length;ee++)switch(j[ee].type){case"bct":j[ee].x2+=G,j[ee].y2+=V;case"qct":j[ee].x1+=G,j[ee].y1+=V;default:j[ee].x+=G,j[ee].y+=V}return j},B=function(j){return j.sort(function(G,V){return G-V})},D=function(j,G){var V=this.fillStyle,ee=this.strokeStyle,q=this.lineCap,ae=this.lineWidth,pe=Math.abs(ae*this.ctx.transform.scaleX),ye=this.lineJoin;if(this.autoPaging){for(var _e,Be,Qe=JSON.parse(JSON.stringify(this.path)),nt=JSON.parse(JSON.stringify(this.path)),be=[],$=0;$<nt.length;$++)if(nt[$].x!==void 0)for(var ge=k.call(this,nt[$]),Oe=0;Oe<ge.length;Oe+=1)be.indexOf(ge[Oe])===-1&&be.push(ge[Oe]);for(var Te=0;Te<be.length;Te++)for(;this.pdf.internal.getNumberOfPages()<be[Te];)T.call(this);B(be);for(var Ee=be[0],qe=be[be.length-1],Me=Ee;Me<qe+1;Me++){this.pdf.setPage(Me),this.fillStyle=V,this.strokeStyle=ee,this.lineCap=q,this.lineWidth=pe,this.lineJoin=ye;var lt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ct=Me===1?this.posY+this.margin[0]:this.margin[0],dt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ve=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Re=Me===1?0:dt+(Me-2)*ve;if(this.ctx.clip_path.length!==0){var Ge=this.path;_e=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=z(_e,this.posX+this.margin[3],-Re+ct+this.ctx.prevPageLastElemOffset),ne.call(this,j,!0),this.path=Ge}if(Be=JSON.parse(JSON.stringify(Qe)),this.path=z(Be,this.posX+this.margin[3],-Re+ct+this.ctx.prevPageLastElemOffset),G===!1||Me===0){var Fe=(Me>Ee||Me<qe)&&E.call(this);Fe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],lt,ve,null).clip().discardPath()),ne.call(this,j,G),Fe&&this.pdf.restoreGraphicsState()}this.lineWidth=ae}this.path=Qe}else this.lineWidth=pe,ne.call(this,j,G),this.lineWidth=ae},ne=function(j,G){if((j!=="stroke"||G||!S.call(this))&&(j==="stroke"||G||!g.call(this))){for(var V,ee,q=[],ae=this.path,pe=0;pe<ae.length;pe++){var ye=ae[pe];switch(ye.type){case"begin":q.push({begin:!0});break;case"close":q.push({close:!0});break;case"mt":q.push({start:ye,deltas:[],abs:[]});break;case"lt":var _e=q.length;if(ae[pe-1]&&!isNaN(ae[pe-1].x)&&(V=[ye.x-ae[pe-1].x,ye.y-ae[pe-1].y],_e>0)){for(;_e>=0;_e--)if(q[_e-1].close!==!0&&q[_e-1].begin!==!0){q[_e-1].deltas.push(V),q[_e-1].abs.push(ye);break}}break;case"bct":V=[ye.x1-ae[pe-1].x,ye.y1-ae[pe-1].y,ye.x2-ae[pe-1].x,ye.y2-ae[pe-1].y,ye.x-ae[pe-1].x,ye.y-ae[pe-1].y],q[q.length-1].deltas.push(V);break;case"qct":var Be=ae[pe-1].x+2/3*(ye.x1-ae[pe-1].x),Qe=ae[pe-1].y+2/3*(ye.y1-ae[pe-1].y),nt=ye.x+2/3*(ye.x1-ye.x),be=ye.y+2/3*(ye.y1-ye.y),$=ye.x,ge=ye.y;V=[Be-ae[pe-1].x,Qe-ae[pe-1].y,nt-ae[pe-1].x,be-ae[pe-1].y,$-ae[pe-1].x,ge-ae[pe-1].y],q[q.length-1].deltas.push(V);break;case"arc":q.push({deltas:[],abs:[],arc:!0}),Array.isArray(q[q.length-1].abs)&&q[q.length-1].abs.push(ye)}}ee=G?null:j==="stroke"?"stroke":"fill";for(var Oe=!1,Te=0;Te<q.length;Te++)if(q[Te].arc)for(var Ee=q[Te].abs,qe=0;qe<Ee.length;qe++){var Me=Ee[qe];Me.type==="arc"?I.call(this,Me.x,Me.y,Me.radius,Me.startAngle,Me.endAngle,Me.counterclockwise,void 0,G,!Oe):Y.call(this,Me.x,Me.y),Oe=!0}else if(q[Te].close===!0)this.pdf.internal.out("h"),Oe=!1;else if(q[Te].begin!==!0){var lt=q[Te].start.x,ct=q[Te].start.y;F.call(this,q[Te].deltas,lt,ct),Oe=!0}ee&&L.call(this,ee),G&&K.call(this)}},H=function(j){var G=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,V=G*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return j-V;case"top":return j+G-V;case"hanging":return j+G-2*V;case"middle":return j+G/2-V;default:return j}},te=function(j){return j+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};y.prototype.createLinearGradient=function(){var j=function(){};return j.colorStops=[],j.addColorStop=function(G,V){this.colorStops.push([G,V])},j.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},j.isCanvasGradient=!0,j},y.prototype.createPattern=function(){return this.createLinearGradient()},y.prototype.createRadialGradient=function(){return this.createLinearGradient()};var I=function(j,G,V,ee,q,ae,pe,ye,_e){for(var Be=O.call(this,V,ee,q,ae),Qe=0;Qe<Be.length;Qe++){var nt=Be[Qe];Qe===0&&(_e?N.call(this,nt.x1+j,nt.y1+G):Y.call(this,nt.x1+j,nt.y1+G)),X.call(this,j,G,nt.x2,nt.y2,nt.x3,nt.y3,nt.x4,nt.y4)}ye?K.call(this):L.call(this,pe)},L=function(j){switch(j){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},K=function(){this.pdf.clip(),this.pdf.discardPath()},N=function(j,G){this.pdf.internal.out(n(j)+" "+i(G)+" m")},P=function(j){var G;switch(j.align){case"right":case"end":G="right";break;case"center":G="center";break;default:G="left"}var V,ee,q,ae=this.pdf.getTextDimensions(j.text),pe=H.call(this,j.y),ye=te.call(this,pe)-ae.h,_e=this.ctx.transform.applyToPoint(new u(j.x,pe));if(this.autoPaging){var Be=this.ctx.transform.decompose(),Qe=new f;Qe=(Qe=(Qe=Qe.multiply(Be.translate)).multiply(Be.skew)).multiply(Be.scale);for(var nt=this.ctx.transform.applyToRectangle(new c(j.x,pe,ae.w,ae.h)),be=Qe.applyToRectangle(new c(j.x,ye,ae.w,ae.h)),$=k.call(this,be),ge=[],Oe=0;Oe<$.length;Oe+=1)ge.indexOf($[Oe])===-1&&ge.push($[Oe]);B(ge);for(var Te=ge[0],Ee=ge[ge.length-1],qe=Te;qe<Ee+1;qe++){this.pdf.setPage(qe);var Me=qe===1?this.posY+this.margin[0]:this.margin[0],lt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ct=this.pdf.internal.pageSize.height-this.margin[2],dt=ct-this.margin[0],ve=this.pdf.internal.pageSize.width-this.margin[1],Re=ve-this.margin[3],Ge=qe===1?0:lt+(qe-2)*dt;if(this.ctx.clip_path.length!==0){var Fe=this.path;V=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=z(V,this.posX+this.margin[3],-1*Ge+Me),ne.call(this,"fill",!0),this.path=Fe}var Ue=z([JSON.parse(JSON.stringify(be))],this.posX+this.margin[3],-Ge+Me+this.ctx.prevPageLastElemOffset)[0];j.scale>=.01&&(ee=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ee*j.scale),q=this.lineWidth,this.lineWidth=q*j.scale);var Ke=this.autoPaging!=="text";if(Ke||Ue.y+Ue.h<=ct){if(Ke||Ue.y>=Me&&Ue.x<=ve){var Ve=Ke?j.text:this.pdf.splitTextToSize(j.text,j.maxWidth||ve-Ue.x)[0],ot=z([JSON.parse(JSON.stringify(nt))],this.posX+this.margin[3],-Ge+Me+this.ctx.prevPageLastElemOffset)[0],Je=Ke&&(qe>Te||qe<Ee)&&E.call(this);Je&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Re,dt,null).clip().discardPath()),this.pdf.text(Ve,ot.x,ot.y,{angle:j.angle,align:G,renderingMode:j.renderingMode}),Je&&this.pdf.restoreGraphicsState()}}else Ue.y<ct&&(this.ctx.prevPageLastElemOffset+=ct-Ue.y);j.scale>=.01&&(this.pdf.setFontSize(ee),this.lineWidth=q)}}else j.scale>=.01&&(ee=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ee*j.scale),q=this.lineWidth,this.lineWidth=q*j.scale),this.pdf.text(j.text,_e.x+this.posX,_e.y+this.posY,{angle:j.angle,align:G,renderingMode:j.renderingMode,maxWidth:j.maxWidth}),j.scale>=.01&&(this.pdf.setFontSize(ee),this.lineWidth=q)},Y=function(j,G,V,ee){V=V||0,ee=ee||0,this.pdf.internal.out(n(j+V)+" "+i(G+ee)+" l")},F=function(j,G,V){return this.pdf.lines(j,G,V,null,null)},X=function(j,G,V,ee,q,ae,pe,ye){this.pdf.internal.out([e(s(V+j)),e(o(ee+G)),e(s(q+j)),e(o(ae+G)),e(s(pe+j)),e(o(ye+G)),"c"].join(" "))},O=function(j,G,V,ee){for(var q=2*Math.PI,ae=Math.PI/2;G>V;)G-=q;var pe=Math.abs(V-G);pe<q&&ee&&(pe=q-pe);for(var ye=[],_e=ee?-1:1,Be=G;pe>1e-5;){var Qe=Be+_e*Math.min(pe,ae);ye.push(R.call(this,j,Be,Qe)),pe-=Math.abs(Qe-Be),Be=Qe}return ye},R=function(j,G,V){var ee=(V-G)/2,q=j*Math.cos(ee),ae=j*Math.sin(ee),pe=q,ye=-ae,_e=pe*pe+ye*ye,Be=_e+pe*q+ye*ae,Qe=4/3*(Math.sqrt(2*_e*Be)-Be)/(pe*ae-ye*q),nt=pe-Qe*ye,be=ye+Qe*pe,$=nt,ge=-be,Oe=ee+G,Te=Math.cos(Oe),Ee=Math.sin(Oe);return{x1:j*Math.cos(G),y1:j*Math.sin(G),x2:nt*Te-be*Ee,y2:nt*Ee+be*Te,x3:$*Te-ge*Ee,y3:$*Ee+ge*Te,x4:j*Math.cos(V),y4:j*Math.sin(V)}},se=function(j){return 180*j/Math.PI},le=function(j,G,V,ee,q,ae){var pe=j+.5*(V-j),ye=G+.5*(ee-G),_e=q+.5*(V-q),Be=ae+.5*(ee-ae),Qe=Math.min(j,q,pe,_e),nt=Math.max(j,q,pe,_e),be=Math.min(G,ae,ye,Be),$=Math.max(G,ae,ye,Be);return new c(Qe,be,nt-Qe,$-be)},me=function(j,G,V,ee,q,ae,pe,ye){var _e,Be,Qe,nt,be,$,ge,Oe,Te,Ee,qe,Me,lt,ct,dt=V-j,ve=ee-G,Re=q-V,Ge=ae-ee,Fe=pe-q,Ue=ye-ae;for(Be=0;Be<41;Be++)Te=(ge=(Qe=j+(_e=Be/40)*dt)+_e*((be=V+_e*Re)-Qe))+_e*(be+_e*(q+_e*Fe-be)-ge),Ee=(Oe=(nt=G+_e*ve)+_e*(($=ee+_e*Ge)-nt))+_e*($+_e*(ae+_e*Ue-$)-Oe),Be==0?(qe=Te,Me=Ee,lt=Te,ct=Ee):(qe=Math.min(qe,Te),Me=Math.min(Me,Ee),lt=Math.max(lt,Te),ct=Math.max(ct,Ee));return new c(Math.round(qe),Math.round(Me),Math.round(lt-qe),Math.round(ct-Me))},Z=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var j,G,V=(j=this.ctx.lineDash,G=this.ctx.lineDashOffset,JSON.stringify({lineDash:j,lineDashOffset:G}));this.prevLineDash!==V&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=V)}}})(Ot.API),(function(t){var e=function(u){var c,f,h,p,y,b,g,S,E,k;for(f=[],h=0,p=(u+=c="\0\0\0\0".slice(u.length%4||4)).length;p>h;h+=4)(y=(u.charCodeAt(h)<<24)+(u.charCodeAt(h+1)<<16)+(u.charCodeAt(h+2)<<8)+u.charCodeAt(h+3))!==0?(b=(y=((y=((y=((y=(y-(k=y%85))/85)-(E=y%85))/85)-(S=y%85))/85)-(g=y%85))/85)%85,f.push(b+33,g+33,S+33,E+33,k+33)):f.push(122);return(function(T,z){for(var B=z;B>0;B--)T.pop()})(f,c.length),String.fromCharCode.apply(String,f)+"~>"},n=function(u){var c,f,h,p,y,b=String,g="length",S=255,E="charCodeAt",k="slice",T="replace";for(u[k](-2),u=u[k](0,-2)[T](/\s/g,"")[T]("z","!!!!!"),h=[],p=0,y=(u+=c="uuuuu"[k](u[g]%5||5))[g];y>p;p+=5)f=52200625*(u[E](p)-33)+614125*(u[E](p+1)-33)+7225*(u[E](p+2)-33)+85*(u[E](p+3)-33)+(u[E](p+4)-33),h.push(S&f>>24,S&f>>16,S&f>>8,S&f);return(function(z,B){for(var D=B;D>0;D--)z.pop()})(h,c[g]),b.fromCharCode.apply(b,h)},i=function(u){return u.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(u){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((u=u.replace(/\s/g,"")).indexOf(">")!==-1&&(u=u.substr(0,u.indexOf(">"))),u.length%2&&(u+="0"),c.test(u)===!1)return"";for(var f="",h=0;h<u.length;h+=2)f+=String.fromCharCode("0x"+(u[h]+u[h+1]));return f},o=function(u){for(var c=new Uint8Array(u.length),f=u.length;f--;)c[f]=u.charCodeAt(f);return(c=V1(c)).reduce(function(h,p){return h+String.fromCharCode(p)},"")};t.processDataByFilters=function(u,c){var f=0,h=u||"",p=[];for(typeof(c=c||[])=="string"&&(c=[c]),f=0;f<c.length;f+=1)switch(c[f]){case"ASCII85Decode":case"/ASCII85Decode":h=n(h),p.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=e(h),p.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=s(h),p.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=i(h),p.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=o(h),p.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[f]+'" is not implemented')}return{data:h,reverseChain:p.reverse().join(" ")}}})(Ot.API),(function(t){t.loadFile=function(e,n,i){return(function(s,o,u){o=o!==!1,u=typeof u=="function"?u:function(){};var c=void 0;try{c=(function(f,h,p){var y=new XMLHttpRequest,b=0,g=function(S){var E=S.length,k=[],T=String.fromCharCode;for(b=0;b<E;b+=1)k.push(T(255&S.charCodeAt(b)));return k.join("")};if(y.open("GET",f,!h),y.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(y.onload=function(){y.status===200?p(g(this.responseText)):p(void 0)}),y.send(null),h&&y.status===200)return g(y.responseText)})(s,o,u)}catch{}return c})(e,n,i)},t.allowFsRead=void 0,t.loadImageFile=t.loadFile})(Ot.API),(function(t){function e(){return(Wt.html2canvas?Promise.resolve(Wt.html2canvas):r1(()=>import("./html2canvas.esm-DXEQVQnt.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function n(){return(Wt.DOMPurify?Promise.resolve(Wt.DOMPurify):r1(()=>import("./purify.es-Bzr520pe.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var i=function(c){var f=Rn(c);return f==="undefined"?"undefined":f==="string"||c instanceof String?"string":f==="number"||c instanceof Number?"number":f==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":f==="object"?"object":"unknown"},s=function(c,f){var h=document.createElement(c);for(var p in f.className&&(h.className=f.className),f.innerHTML&&f.dompurify&&(h.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)h.style[p]=f.style[p];return h},o=function c(f,h){for(var p=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),y=f.firstChild;y;y=y.nextSibling)h!==!0&&y.nodeType===1&&y.nodeName==="SCRIPT"||p.appendChild(c(y,h));return f.nodeType===1&&(f.nodeName==="CANVAS"?(p.width=f.width,p.height=f.height,p.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(p.value=f.value),p.addEventListener("load",function(){p.scrollTop=f.scrollTop,p.scrollLeft=f.scrollLeft},!0)),p},u=function c(f){var h=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),p=c.convert(Promise.resolve(),h);return(p=p.setProgress(1,c,1,[c])).set(f)};(u.prototype=Object.create(Promise.prototype)).constructor=u,u.convert=function(c,f){return c.__proto__=f||u.prototype,c},u.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},u.prototype.from=function(c,f){return this.then(function(){switch(f=f||(function(h){switch(i(h)){case"string":return"string";case"element":return h.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(c),f){case"string":return this.then(n).then(function(h){return this.set({src:s("div",{innerHTML:c,dompurify:h})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},u.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},u.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},u.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(f){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,f(this.prop.container,h)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(f){var h=this.opt.jsPDF,p=this.opt.fontFaces,y=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,b=Object.assign({async:!0,allowTaint:!0,scale:y,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete b.onrendered,h.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=p,p)for(var g=0;g<p.length;++g){var S=p[g],E=S.src.find(function(k){return k.format==="truetype"});E&&h.addFont(E.url,S.ref.name,S.ref.style)}return b.windowHeight=b.windowHeight||0,b.windowHeight=b.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):b.windowHeight,h.context2d.save(!0),f(this.prop.container,b)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},u.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},u.prototype.output=function(c,f,h){return(h=h||"pdf").toLowerCase()==="img"||h.toLowerCase()==="image"?this.outputImg(c,f):this.outputPdf(c,f)},u.prototype.outputPdf=function(c,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,f)})},u.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},u.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},u.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},u.prototype.set=function(c){if(i(c)!=="object")return this;var f=Object.keys(c||{}).map(function(h){if(h in u.template.prop)return function(){this.prop[h]=c[h]};switch(h){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[h]=c[h]}}},this);return this.then(function(){return this.thenList(f)})},u.prototype.get=function(c,f){return this.then(function(){var h=c in u.template.prop?this.prop[c]:this.opt[c];return f?f(h):h})},u.prototype.setMargin=function(c){return this.then(function(){switch(i(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},u.prototype.setPageSize=function(c){function f(h,p){return Math.floor(h*p/72*96)}return this.then(function(){(c=c||Ot.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:f(c.inner.width,c.k),height:f(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},u.prototype.setProgress=function(c,f,h,p){return c!=null&&(this.progress.val=c),f!=null&&(this.progress.state=f),h!=null&&(this.progress.n=h),p!=null&&(this.progress.stack=p),this.progress.ratio=this.progress.val/this.progress.state,this},u.prototype.updateProgress=function(c,f,h,p){return this.setProgress(c?this.progress.val+c:null,f||null,h?this.progress.n+h:null,p?this.progress.stack.concat(p):null)},u.prototype.then=function(c,f){var h=this;return this.thenCore(c,f,function(p,y){return h.updateProgress(null,null,1,[p]),Promise.prototype.then.call(this,function(b){return h.updateProgress(null,p),b}).then(p,y).then(function(b){return h.updateProgress(1),b})})},u.prototype.thenCore=function(c,f,h){h=h||Promise.prototype.then;var p=this;c&&(c=c.bind(p)),f&&(f=f.bind(p));var y=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?p:u.convert(Object.assign({},p),Promise.prototype),b=h.call(y,c,f);return u.convert(b,p.__proto__)},u.prototype.thenExternal=function(c,f){return Promise.prototype.then.call(this,c,f)},u.prototype.thenList=function(c){var f=this;return c.forEach(function(h){f=f.thenCore(h)}),f},u.prototype.catch=function(c){c&&(c=c.bind(this));var f=Promise.prototype.catch.call(this,c);return u.convert(f,this)},u.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},u.prototype.error=function(c){return this.then(function(){throw new Error(c)})},u.prototype.using=u.prototype.set,u.prototype.saveAs=u.prototype.save,u.prototype.export=u.prototype.output,u.prototype.run=u.prototype.then,Ot.getPageSize=function(c,f,h){if(Rn(c)==="object"){var p=c;c=p.orientation,f=p.unit||f,h=p.format||h}f=f||"mm",h=h||"a4",c=(""+(c||"P")).toLowerCase();var y,b=(""+h).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":y=1;break;case"mm":y=72/25.4;break;case"cm":y=72/2.54;break;case"in":y=72;break;case"px":y=.75;break;case"pc":case"em":y=12;break;case"ex":y=6;break;default:throw"Invalid unit: "+f}var S,E=0,k=0;if(g.hasOwnProperty(b))E=g[b][1]/y,k=g[b][0]/y;else try{E=h[1],k=h[0]}catch{throw new Error("Invalid format: "+h)}if(c==="p"||c==="portrait")c="p",k>E&&(S=k,k=E,E=S);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",E>k&&(S=k,k=E,E=S)}return{width:k,height:E,unit:f,k:y,orientation:c}},t.html=function(c,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(x1):null;var h=new u(f);return f.worker?h:h.from(c).doCallback()}})(Ot.API),Ot.API.addJS=function(t){var e,n,i=t;return this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(e+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),n=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+i+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){e!==void 0&&n!==void 0&&this.internal.out("/Names <</JavaScript "+e+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var n=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=n.outline.render().split(/\r\n/),o=0;o<s.length;o++){var u=s[o],c=i.exec(u);if(c!=null){var f=c[1];n.internal.newObjectDeferredBegin(f,!1)}n.internal.write(u)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,p=[];for(o=0;o<h;o++){var y=n.internal.newObject();p.push(y);var b=n.internal.getPageInfo(o+1);n.internal.write("<< /D["+b.objId+" 0 R /XYZ null null null]>> endobj")}var g=n.internal.newObject();for(n.internal.write("<< /Names [ "),o=0;o<p.length;o++)n.internal.write("(page_"+(o+1)+")"+p[o]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+g+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(i,s,o){var u={title:s,options:o,children:[]};return i==null&&(i=this.root),i.children.push(u),u},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(i){i.id=n.internal.newObjectDeferred();for(var s=0;s<i.children.length;s++)this.genIds_r(i.children[s])},n.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},n.outline.renderItems=function(i){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<i.children.length;o++){var u=i.children[o];this.objStart(u),this.line("/Title "+this.makeString(u.title)),this.line("/Parent "+this.makeRef(i)),o>0&&this.line("/Prev "+this.makeRef(i.children[o-1])),o<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[o+1])),u.children.length>0&&(this.line("/First "+this.makeRef(u.children[0])),this.line("/Last "+this.makeRef(u.children[u.children.length-1])));var c=this.count=this.count_r({count:0},u);if(c>0&&this.line("/Count "+c),u.options&&u.options.pageNumber){var f=n.internal.getPageInfo(u.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var h=0;h<i.children.length;h++)this.renderItems(i.children[h])},n.outline.line=function(i){this.ctx.val+=i+`\r
`},n.outline.makeRef=function(i){return i.id+" 0 R"},n.outline.makeString=function(i){return"("+n.internal.pdfEscape(i)+")"},n.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(i,s){for(var o=0;o<s.children.length;o++)i.count++,this.count_r(i,s.children[o]);return i.count}}])})(Ot.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,i,s,o,u,c){var f,h=this.decode.DCT_DECODE,p=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=u||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,f=(function(y){for(var b,g=256*y.charCodeAt(4)+y.charCodeAt(5),S=y.length,E={width:0,height:0,numcomponents:1},k=4;k<S;k+=2){if(k+=g,e.indexOf(y.charCodeAt(k+1))!==-1){b=256*y.charCodeAt(k+5)+y.charCodeAt(k+6),E={width:256*y.charCodeAt(k+7)+y.charCodeAt(k+8),height:b,numcomponents:y.charCodeAt(k+9)};break}g=256*y.charCodeAt(k+2)+y.charCodeAt(k+3)}return E})(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),f.numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}p={data:n,width:f.width,height:f.height,colorSpace:c,bitsPerComponent:8,filter:h,index:i,alias:s}}return p}})(Ot.API),Ot.API.processPNG=function(t,e,n,i){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var s,o=kk(t,{checkCrc:!0}),u=o.width,c=o.height,f=o.channels,h=o.palette,p=o.depth;s=h&&f===1?(function(I){for(var L=I.width,K=I.height,N=I.data,P=I.palette,Y=I.depth,F=!1,X=[],O=[],R=void 0,se=!1,le=0,me=0;me<P.length;me++){var Z=ny(P[me],4),j=Z[0],G=Z[1],V=Z[2],ee=Z[3];X.push(j,G,V),ee!=null&&(ee===0?(le++,O.length<1&&O.push(me)):ee<255&&(se=!0))}if(se||le>1){F=!0,O=void 0;var q=L*K;R=new Uint8Array(q);for(var ae=new DataView(N.buffer),pe=0;pe<q;pe++){var ye=S1(ae,pe,Y),_e=ny(P[ye],4)[3];R[pe]=_e}}else le===0&&(O=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:F?8:void 0,colorBytes:N,alphaBytes:R,needSMask:F,palette:X,mask:O}})(o):f===2||f===4?(function(I){for(var L=I.data,K=I.width,N=I.height,P=I.channels,Y=I.depth,F=P===2?"DeviceGray":"DeviceRGB",X=P-1,O=K*N,R=X,se=O*R,le=1*O,me=Math.ceil(se*Y/8),Z=Math.ceil(le*Y/8),j=new Uint8Array(me),G=new Uint8Array(Z),V=new DataView(L.buffer),ee=new DataView(j.buffer),q=new DataView(G.buffer),ae=!1,pe=0;pe<O;pe++){for(var ye=pe*P,_e=0;_e<R;_e++)ab(ee,S1(V,ye+_e,Y),pe*R+_e,Y);var Be=S1(V,ye+R,Y);Be<(1<<Y)-1&&(ae=!0),ab(q,Be,1*pe,Y)}return{colorSpace:F,colorsPerPixel:X,sMaskBitsPerComponent:ae?Y:void 0,colorBytes:j,alphaBytes:G,needSMask:ae}})(o):(function(I){var L=I.data,K=I.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:K,colorsPerPixel:K==="DeviceGray"?1:3,colorBytes:L instanceof Uint16Array?(function(N){for(var P=N.length,Y=new Uint8Array(2*P),F=new DataView(Y.buffer,Y.byteOffset,Y.byteLength),X=0;X<P;X++)F.setUint16(2*X,N[X],!1);return Y})(L):L,needSMask:!1}})(o);var y,b,g,S=s,E=S.colorSpace,k=S.colorsPerPixel,T=S.sMaskBitsPerComponent,z=S.colorBytes,B=S.alphaBytes,D=S.needSMask,ne=S.palette,H=S.mask,te=null;return i!==Ot.API.image_compression.NONE&&typeof V1=="function"?(te=(function(I){var L;switch(I){case Ot.API.image_compression.FAST:L=11;break;case Ot.API.image_compression.MEDIUM:L=13;break;case Ot.API.image_compression.SLOW:L=14;break;default:L=12}return L})(i),y=this.decode.FLATE_DECODE,b="/Predictor ".concat(te," /Colors ").concat(k," /BitsPerComponent ").concat(p," /Columns ").concat(u),t=eb(z,Math.ceil(u*k*p/8),k,p,i),D&&(g=eb(B,Math.ceil(u*T/8),1,T,i))):(y=void 0,b=void 0,t=z,D&&(g=B)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(g&&this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),{alias:n,data:t,index:e,filter:y,decodeParameters:b,transparency:H,palette:ne,sMask:g,predictor:te,width:u,height:c,bitsPerComponent:p,sMaskBitsPerComponent:T,colorSpace:E}}},(function(t){t.processGIF89A=function(e,n,i,s){var o=new Yk(e),u=o.width,c=o.height,f=[];o.decodeAndBlitFrameRGBA(0,f);var h={data:f,width:u,height:c},p=new A1(100).encode(h,100);return t.processJPEG.call(this,p,n,i,s)},t.processGIF87A=t.processGIF89A})(Ot.API),_s.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:i,blue:n,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},_s.prototype.parseBGR=function(){this.pos=this.offset;var t="bit"+this.bitPP,e=this.width*this.height*4;if(e>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(e);try{this[t]()}catch(n){Hn.log("bit decode error:"+n)}},_s.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,s=0;s<e;s++)for(var o=this.datav.getUint8(this.pos++,!0),u=i*this.width*4+8*s*4,c=0;c<8&&8*s+c<this.width;c++){var f=this.palette[o>>7-c&1];this.data[u+4*c]=f.blue,this.data[u+4*c+1]=f.green,this.data[u+4*c+2]=f.red,this.data[u+4*c+3]=255}n!==0&&(this.pos+=4-n)}},_s.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<t;s++){var o=this.datav.getUint8(this.pos++,!0),u=i*this.width*4+2*s*4,c=o>>4,f=15&o,h=this.palette[c];if(this.data[u]=h.blue,this.data[u+1]=h.green,this.data[u+2]=h.red,this.data[u+3]=255,2*s+1>=this.width)break;h=this.palette[f],this.data[u+4]=h.blue,this.data[u+4+1]=h.green,this.data[u+4+2]=h.red,this.data[u+4+3]=255}e!==0&&(this.pos+=4-e)}},_s.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+4*i;if(s<this.palette.length){var u=this.palette[s];this.data[o]=u.red,this.data[o+1]=u.green,this.data[o+2]=u.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}t!==0&&(this.pos+=4-t)}},_s.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(o&e)/e*255|0,c=(o>>5&e)/e*255|0,f=(o>>10&e)/e*255|0,h=o>>15?255:0,p=i*this.width*4+4*s;this.data[p]=f,this.data[p+1]=c,this.data[p+2]=u,this.data[p+3]=h}this.pos+=t}},_s.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var s=this.bottom_up?i:this.height-1-i,o=0;o<this.width;o++){var u=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(u&e)/e*255|0,f=(u>>5&n)/n*255|0,h=(u>>11)/e*255|0,p=s*this.width*4+4*o;this.data[p]=h,this.data[p+1]=f,this.data[p+2]=c,this.data[p+3]=255}this.pos+=t}},_s.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*n;this.data[u]=o,this.data[u+1]=s,this.data[u+2]=i,this.data[u+3]=255}this.pos+=this.width%4}},_s.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*n;this.data[c]=o,this.data[c+1]=s,this.data[c+2]=i,this.data[c+3]=u}},_s.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,n,i,s){var o=new _s(e,!1),u=o.width,c=o.height,f={data:o.getData(),width:u,height:c},h=new A1(100).encode(f,100);return t.processJPEG.call(this,h,n,i,s)}})(Ot.API),ob.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,n,i,s){var o=new ob(e),u=o.width,c=o.height,f={data:o.getData(),width:u,height:c},h=new A1(100).encode(f,100);return t.processJPEG.call(this,h,n,i,s)}})(Ot.API),Ot.API.processRGBA=function(t,e,n){for(var i=t.data,s=i.length,o=new Uint8Array(s/4*3),u=new Uint8Array(s/4),c=0,f=0,h=0;h<s;h+=4){var p=i[h],y=i[h+1],b=i[h+2],g=i[h+3];o[c++]=p,o[c++]=y,o[c++]=b,u[f++]=g}var S=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(u),data:S,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Ot.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Lc=Ot.API,Eh=Lc.getCharWidthsArray=function(t,e){var n,i,s=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),u=e.charSpace||this.internal.getCharSpace(),c=e.widths?e.widths:s.metadata.Unicode.widths,f=c.fof?c.fof:1,h=e.kerning?e.kerning:s.metadata.Unicode.kerning,p=h.fof?h.fof:1,y=e.doKerning!==!1,b=0,g=t.length,S=0,E=c[0]||f,k=[];for(n=0;n<g;n++)i=t.charCodeAt(n),typeof s.metadata.widthOfString=="function"?k.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(i))+u*(1e3/o)||0)/1e3):(b=y&&Rn(h[i])==="object"&&!isNaN(parseInt(h[i][S],10))?h[i][S]/p:0,k.push((c[i]||E)/f+b)),S=i;return k},Jy=Lc.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),i=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return Lc.processArabic&&(t=Lc.processArabic(t)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(t,n,s)/n:Eh.apply(this,arguments).reduce(function(o,u){return o+u},0)},Qy=function(t,e,n,i){for(var s=[],o=0,u=t.length,c=0;o!==u&&c+e[o]<n;)c+=e[o],o++;s.push(t.slice(0,o));var f=o;for(c=0;o!==u;)c+e[o]>i&&(s.push(t.slice(f,o)),c=0,f=o),c+=e[o],o++;return f!==o&&s.push(t.slice(f,o)),s},Zy=function(t,e,n){n||(n={});var i,s,o,u,c,f,h,p=[],y=[p],b=n.textIndent||0,g=0,S=0,E=t.split(" "),k=Eh.apply(this,[" ",n])[0];if(f=n.lineIndent===-1?E[0].length+2:n.lineIndent||0){var T=Array(f).join(" "),z=[];E.map(function(D){(D=D.split(/\s*\n/)).length>1?z=z.concat(D.map(function(ne,H){return(H&&ne.length?`
`:"")+ne})):z.push(D[0])}),E=z,f=Jy.apply(this,[T,n])}for(o=0,u=E.length;o<u;o++){var B=0;if(i=E[o],f&&i[0]==`
`&&(i=i.substr(1),B=1),b+g+(S=(s=Eh.apply(this,[i,n])).reduce(function(D,ne){return D+ne},0))>e||B){if(S>e){for(c=Qy.apply(this,[i,s,e-(b+g),e]),p.push(c.shift()),p=[c.pop()];c.length;)y.push([c.shift()]);S=s.slice(i.length-(p[0]?p[0].length:0)).reduce(function(D,ne){return D+ne},0)}else p=[i];y.push(p),b=S+f,g=k}else p.push(i),b+=g+S,g=k}return h=f?function(D,ne){return(ne?T:"")+D.join(" ")}:function(D){return D.join(" ")},y.map(h)},Lc.splitTextToSize=function(t,e,n){var i,s=(n=n||{}).fontSize||this.internal.getFontSize(),o=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var y=this.internal.getFont(p.fontName,p.fontStyle),b="Unicode";return y.metadata[b]?{widths:y.metadata[b].widths||{0:1},kerning:y.metadata[b].kerning||{}}:{font:y.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);i=Array.isArray(t)?t:String(t).split(/\r?\n/);var u=1*this.internal.scaleFactor*e/s;o.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/s:0,o.lineIndent=n.lineIndent;var c,f,h=[];for(c=0,f=i.length;c<f;c++)h=h.concat(Zy.apply(this,[i[c],u,o]));return h},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",i={},s={},o=0;o<16;o++)i[n[o]]=e[o],s[e[o]]=n[o];var u=function(b){return"0x"+parseInt(b,10).toString(16)},c=t.__fontmetrics__.compress=function(b){var g,S,E,k,T=["{"];for(var z in b){if(g=b[z],isNaN(parseInt(z,10))?S="'"+z+"'":(z=parseInt(z,10),S=(S=u(z).slice(2)).slice(0,-1)+s[S.slice(-1)]),typeof g=="number")g<0?(E=u(g).slice(3),k="-"):(E=u(g).slice(2),k=""),E=k+E.slice(0,-1)+s[E.slice(-1)];else{if(Rn(g)!=="object")throw new Error("Don't know what to do with value type "+Rn(g)+".");E=c(g)}T.push(S+E)}return T.push("}"),T.join("")},f=t.__fontmetrics__.uncompress=function(b){if(typeof b!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,S,E,k,T={},z=1,B=T,D=[],ne="",H="",te=b.length-1,I=1;I<te;I+=1)(k=b[I])=="'"?g?(E=g.join(""),g=void 0):g=[]:g?g.push(k):k=="{"?(D.push([B,E]),B={},E=void 0):k=="}"?((S=D.pop())[0][S[1]]=B,E=void 0,B=S[0]):k=="-"?z=-1:E===void 0?i.hasOwnProperty(k)?(ne+=i[k],E=parseInt(ne,16)*z,z=1,ne=""):ne+=k:i.hasOwnProperty(k)?(H+=i[k],B[E]=parseInt(H,16)*z,z=1,E=void 0,H=""):H+=k;return T},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},p={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},y={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(b){var g=b.font,S=y.Unicode[g.postScriptName];S&&(g.metadata.Unicode={},g.metadata.Unicode.widths=S.widths,g.metadata.Unicode.kerning=S.kerning);var E=p.Unicode[g.postScriptName];E&&(g.metadata.Unicode.encoding=E,g.encoding=E.codePages[0])}])})(Ot.API),(function(t){var e=function(n){for(var i=n.length,s=new Uint8Array(i),o=0;o<i;o++)s[o]=n.charCodeAt(o);return s};t.API.events.push(["addFont",function(n){var i=void 0,s=n.font,o=n.instance;if(!s.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(i=o.existsFileInVFS(s.postScriptName)===!1?o.loadFile(s.postScriptName):o.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(u,c){c=/^\x00\x01\x00\x00/.test(c)?e(c):e(Rh(c)),u.metadata=t.API.TTFFont.open(c),u.metadata.Unicode=u.metadata.Unicode||{encoding:{},kerning:{},widths:[]},u.metadata.glyIdsUsed=[0]})(s,i)}}])})(Ot),Ot.API.addSvgAsImage=function(t,e,n,i,s,o,u,c){if(isNaN(e)||isNaN(n))throw Hn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(s))throw Hn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=i,f.height=s;var h=f.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,f.width,f.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},y=this;return(Wt.canvg?Promise.resolve(Wt.canvg):r1(()=>import("./index.es-CiK-ufp5.js"),[])).catch(function(b){return Promise.reject(new Error("Could not load canvg: "+b))}).then(function(b){return b.default?b.default:b}).then(function(b){return b.fromString(h,t,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(b){return b.render(p)}).then(function(){y.addImage(f.toDataURL("image/jpeg",1),e,n,i,s,u,c)})},Ot.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var s=0;s<this.internal.pages[i].length;s++)this.internal.pages[i][s]=this.internal.pages[i][s].replace(e,n);return this},Ot.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var i,s,o,u={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(u),f=[],h=0,p=0,y=0;function b(S,E){var k,T=!1;for(k=0;k<S.length;k+=1)S[k]===E&&(T=!0);return T}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(u)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var g=c.length;for(y=0;y<g;y+=1)n[c[y]].value=n[c[y]].defaultValue,n[c[y]].explicitSet=!1}if(Rn(t)==="object"){for(s in t)if(o=t[s],b(c,s)&&o!==void 0){if(n[s].type==="boolean"&&typeof o=="boolean")n[s].value=o;else if(n[s].type==="name"&&b(n[s].valueSet,o))n[s].value=o;else if(n[s].type==="integer"&&Number.isInteger(o))n[s].value=o;else if(n[s].type==="array"){for(h=0;h<o.length;h+=1)if(i=!0,o[h].length===1&&typeof o[h][0]=="number")f.push(String(o[h]-1));else if(o[h].length>1){for(p=0;p<o[h].length;p+=1)typeof o[h][p]!="number"&&(i=!1);i===!0&&f.push([o[h][0]-1,o[h][1]-1].join(" "))}n[s].value="["+f.join(" ")+"]"}else n[s].value=n[s].defaultValue;n[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var S,E=[];for(S in n)n[S].explicitSet===!0&&(n[S].type==="name"?E.push("/"+S+" /"+n[S].value):E.push("/"+S+" "+n[S].value));E.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+E.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},Ot.API.addMetadata=function(t,e){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:t,namespaceUri:e??"http://jspdf.default.namespaceuri/",rawXml:typeof e=="boolean"&&e},this.internal.events.subscribe("putCatalog",Kk),this.internal.events.subscribe("postPutResources",Vk)),this},(function(t){var e=t.API,n=e.pdfEscape16=function(o,u){for(var c,f=u.metadata.Unicode.widths,h=["","0","00","000","0000"],p=[""],y=0,b=o.length;y<b;++y){if(c=u.metadata.characterToGlyph(o.charCodeAt(y)),u.metadata.glyIdsUsed.push(c),u.metadata.toUnicode[c]=o.charCodeAt(y),f.indexOf(c)==-1&&(f.push(c),f.push([parseInt(u.metadata.widthOfGlyph(c),10)])),c=="0")return p.join("");c=c.toString(16),p.push(h[4-c.length],c)}return p.join("")},i=function(o){var u,c,f,h,p,y,b;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],y=0,b=(c=Object.keys(o).sort(function(g,S){return g-S})).length;y<b;y++)u=c[y],f.length>=100&&(p+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),o[u]!==void 0&&o[u]!==null&&typeof o[u].toString=="function"&&(h=("0000"+o[u].toString(16)).slice(-4),u=("0000"+(+u).toString(16)).slice(-4),f.push("<"+u+"><"+h+">"));return f.length&&(p+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),p+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(u){var c=u.font,f=u.out,h=u.newObject,p=u.putStream;if(c.metadata instanceof t.API.TTFFont&&c.encoding==="Identity-H"){for(var y=c.metadata.Unicode.widths,b=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),g="",S=0;S<b.length;S++)g+=String.fromCharCode(b[S]);var E=h();p({data:g,addLength1:!0,objectId:E}),f("endobj");var k=h();p({data:i(c.metadata.toUnicode),addLength1:!0,objectId:k}),f("endobj");var T=h();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+Dc(c.fontName)),f("/FontFile2 "+E+" 0 R"),f("/FontBBox "+t.API.PDFObject.convert(c.metadata.bbox)),f("/Flags "+c.metadata.flags),f("/StemV "+c.metadata.stemV),f("/ItalicAngle "+c.metadata.italicAngle),f("/Ascent "+c.metadata.ascender),f("/Descent "+c.metadata.decender),f("/CapHeight "+c.metadata.capHeight),f(">>"),f("endobj");var z=h();f("<<"),f("/Type /Font"),f("/BaseFont /"+Dc(c.fontName)),f("/FontDescriptor "+T+" 0 R"),f("/W "+t.API.PDFObject.convert(y)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+c.encoding+")"),f(">>"),f(">>"),f("endobj"),c.objectNumber=h(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+k+" 0 R"),f("/BaseFont /"+Dc(c.fontName)),f("/Encoding /"+c.encoding),f("/DescendantFonts ["+z+" 0 R]"),f(">>"),f("endobj"),c.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(u){var c=u.font,f=u.out,h=u.newObject,p=u.putStream;if(c.metadata instanceof t.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var y=c.metadata.rawData,b="",g=0;g<y.length;g++)b+=String.fromCharCode(y[g]);var S=h();p({data:b,addLength1:!0,objectId:S}),f("endobj");var E=h();p({data:i(c.metadata.toUnicode),addLength1:!0,objectId:E}),f("endobj");var k=h();f("<<"),f("/Descent "+c.metadata.decender),f("/CapHeight "+c.metadata.capHeight),f("/StemV "+c.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+S+" 0 R"),f("/Flags 96"),f("/FontBBox "+t.API.PDFObject.convert(c.metadata.bbox)),f("/FontName /"+Dc(c.fontName)),f("/ItalicAngle "+c.metadata.italicAngle),f("/Ascent "+c.metadata.ascender),f(">>"),f("endobj"),c.objectNumber=h();for(var T=0;T<c.metadata.hmtx.widths.length;T++)c.metadata.hmtx.widths[T]=parseInt(c.metadata.hmtx.widths[T]*(1e3/c.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+E+" 0 R/BaseFont/"+Dc(c.fontName)+"/FontDescriptor "+k+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),f("endobj"),c.isAlreadyPutted=!0}})(o)}]);var s=function(o){var u,c=o.text||"",f=o.x,h=o.y,p=o.options||{},y=o.mutex||{},b=y.pdfEscape,g=y.activeFontKey,S=y.fonts,E=g,k="",T=0,z="",B=S[E].encoding;if(S[E].encoding!=="Identity-H")return{text:c,x:f,y:h,options:p,mutex:y};for(z=c,E=g,Array.isArray(c)&&(z=c[0]),T=0;T<z.length;T+=1)S[E].metadata.hasOwnProperty("cmap")&&(u=S[E].metadata.cmap.unicode.codeMap[z[T].charCodeAt(0)]),u||z[T].charCodeAt(0)<256&&S[E].metadata.hasOwnProperty("Unicode")?k+=z[T]:k+="";var D="";return parseInt(E.slice(1))<14||B==="WinAnsiEncoding"?D=b(k,E).split("").map(function(ne){return ne.charCodeAt(0).toString(16)}).join(""):B==="Identity-H"&&(D=n(k,S[E])),y.isHex=!0,{text:D,x:f,y:h,options:p,mutex:y}};e.events.push(["postProcessText",function(o){var u=o.text||"",c=[],f={text:u,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(u)){var h=0;for(h=0;h<u.length;h+=1)Array.isArray(u[h])&&u[h].length===3?c.push([s(Object.assign({},f,{text:u[h][0]})).text,u[h][1],u[h][2]]):c.push(s(Object.assign({},f,{text:u[h]})).text);o.text=c}else o.text=s(Object.assign({},f,{text:u})).text}])})(Ot),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,i){return e.call(this),this.internal.vFS[n]=i,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}})(Ot.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(i){var s,o,u,c,f,h,p,y=e,b=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],S={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},E={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},k=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],T=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),z=!1,B=0;this.__bidiEngine__={};var D=function(N){var P=N.charCodeAt(),Y=P>>8,F=E[Y];return F!==void 0?y[256*F+(255&P)]:Y===252||Y===253?"AL":T.test(Y)?"L":Y===8?"R":"N"},ne=function(N){for(var P,Y=0;Y<N.length;Y++){if((P=D(N.charAt(Y)))==="L")return!1;if(P==="R")return!0}return!1},H=function(N,P,Y,F){var X,O,R,se,le=P[F];switch(le){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":z=!1;break;case"N":case"AN":break;case"EN":z&&(le="AN");break;case"AL":z=!0,le="R";break;case"WS":case"BN":le="N";break;case"CS":F<1||F+1>=P.length||(X=Y[F-1])!=="EN"&&X!=="AN"||(O=P[F+1])!=="EN"&&O!=="AN"?le="N":z&&(O="AN"),le=O===X?O:"N";break;case"ES":le=(X=F>0?Y[F-1]:"B")==="EN"&&F+1<P.length&&P[F+1]==="EN"?"EN":"N";break;case"ET":if(F>0&&Y[F-1]==="EN"){le="EN";break}if(z){le="N";break}for(R=F+1,se=P.length;R<se&&P[R]==="ET";)R++;le=R<se&&P[R]==="EN"?"EN":"N";break;case"NSM":if(u&&!c){for(se=P.length,R=F+1;R<se&&P[R]==="NSM";)R++;if(R<se){var me=N[F],Z=me>=1425&&me<=2303||me===64286;if(X=P[R],Z&&(X==="R"||X==="AL")){le="R";break}}}le=F<1||(X=P[F-1])==="B"?"N":Y[F-1];break;case"B":z=!1,s=!0,le=B;break;case"S":o=!0,le="N"}return le},te=function(N,P,Y){var F=N.split("");return Y&&I(F,Y,{hiLevel:B}),F.reverse(),P&&P.reverse(),F.join("")},I=function(N,P,Y){var F,X,O,R,se,le=-1,me=N.length,Z=0,j=[],G=B?g:b,V=[];for(z=!1,s=!1,o=!1,X=0;X<me;X++)V[X]=D(N[X]);for(O=0;O<me;O++){if(se=Z,j[O]=H(N,V,j,O),F=240&(Z=G[se][S[j[O]]]),Z&=15,P[O]=R=G[Z][5],F>0)if(F===16){for(X=le;X<O;X++)P[X]=1;le=-1}else le=-1;if(G[Z][6])le===-1&&(le=O);else if(le>-1){for(X=le;X<O;X++)P[X]=R;le=-1}V[O]==="B"&&(P[O]=0),Y.hiLevel|=R}o&&(function(ee,q,ae){for(var pe=0;pe<ae;pe++)if(ee[pe]==="S"){q[pe]=B;for(var ye=pe-1;ye>=0&&ee[ye]==="WS";ye--)q[ye]=B}})(V,P,me)},L=function(N,P,Y,F,X){if(!(X.hiLevel<N)){if(N===1&&B===1&&!s)return P.reverse(),void(Y&&Y.reverse());for(var O,R,se,le,me=P.length,Z=0;Z<me;){if(F[Z]>=N){for(se=Z+1;se<me&&F[se]>=N;)se++;for(le=Z,R=se-1;le<R;le++,R--)O=P[le],P[le]=P[R],P[R]=O,Y&&(O=Y[le],Y[le]=Y[R],Y[R]=O);Z=se}Z++}}},K=function(N,P,Y){var F=N.split(""),X={hiLevel:B};return Y||(Y=[]),I(F,Y,X),(function(O,R,se){if(se.hiLevel!==0&&p)for(var le,me=0;me<O.length;me++)R[me]===1&&(le=k.indexOf(O[me]))>=0&&(O[me]=k[le+1])})(F,Y,X),L(2,F,P,Y,X),L(1,F,P,Y,X),F.join("")};return this.__bidiEngine__.doBidiReorder=function(N,P,Y){if((function(X,O){if(O)for(var R=0;R<X.length;R++)O[R]=R;c===void 0&&(c=ne(X)),h===void 0&&(h=ne(X))})(N,P),u||!f||h)if(u&&f&&c^h)B=c?1:0,N=te(N,P,Y);else if(!u&&f&&h)B=c?1:0,N=K(N,P,Y),N=te(N,P);else if(!u||c||f||h){if(u&&!f&&c^h)N=te(N,P),c?(B=0,N=K(N,P,Y)):(B=1,N=K(N,P,Y),N=te(N,P));else if(u&&c&&!f&&h)B=1,N=K(N,P,Y),N=te(N,P);else if(!u&&!f&&c^h){var F=p;c?(B=1,N=K(N,P,Y),B=0,p=!1,N=K(N,P,Y),p=F):(B=0,N=K(N,P,Y),N=te(N,P),B=1,p=!1,N=K(N,P,Y),p=F,N=te(N,P))}}else B=0,N=K(N,P,Y);else B=c?1:0,N=K(N,P,Y);return N},this.__bidiEngine__.setOptions=function(N){N&&(u=N.isInputVisual,f=N.isOutputVisual,c=N.isInputRtl,h=N.isOutputRtl,p=N.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(i){var s=i.text;i.x,i.y;var o=i.options||{};i.mutex,o.lang;var u=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,n.setOptions(o),Object.prototype.toString.call(s)==="[object Array]"){var c=0;for(u=[],c=0;c<s.length;c+=1)Object.prototype.toString.call(s[c])==="[object Array]"?u.push([n.doBidiReorder(s[c][0]),s[c][1],s[c][2]]):u.push([n.doBidiReorder(s[c])]);i.text=u}else i.text=n.doBidiReorder(s);n.setOptions({isInputVisual:!0})}])})(Ot),Ot.API.TTFFont=(function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Ol(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new cT(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new Xk(this.contents),this.head=new Qk(this),this.name=new rT(this),this.cmap=new Bw(this),this.toUnicode={},this.hhea=new Zk(this),this.maxp=new iT(this),this.hmtx=new aT(this),this.post=new tT(this),this.os2=new eT(this),this.loca=new uT(this),this.glyf=new sT(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,i,s,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var u,c,f,h;for(h=[],u=0,c=(f=this.bbox).length;u<c;u++)e=f[u],h.push(Math.round(e*this.scaleFactor));return h}).call(this),this.stemV=0,this.post.exists?(i=255&(s=this.post.italic_angle),32768&(n=s>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,i){var s,o,u,c;for(u=0,o=0,c=(e=""+e).length;0<=c?o<c:o>c;o=0<=c?++o:--o)s=e.charCodeAt(o),u+=this.widthOfGlyph(this.characterToGlyph(s))+i*(1e3/n)||0;return u*(n/1e3)},t.prototype.lineHeight=function(e,n){var i;return n==null&&(n=!1),i=n?this.lineGap:0,(this.ascender+i-this.decender)/1e3*e},t})();var Rs,Ol=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,i;for(i=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)i[n]=String.fromCharCode(this.readByte());return i.join("")},t.prototype.writeString=function(e){var n,i,s;for(s=[],n=0,i=e.length;0<=i?n<i:n>i;n=0<=i?++n:--n)s.push(this.writeByte(e.charCodeAt(n)));return s},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,i,s,o,u,c,f;return e=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),u=this.readByte(),c=this.readByte(),f=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^i)+4294967296*(255^s)+16777216*(255^o)+65536*(255^u)+256*(255^c)+(255^f)+1):72057594037927940*e+281474976710656*n+1099511627776*i+4294967296*s+16777216*o+65536*u+256*c+f},t.prototype.writeLongLong=function(e){var n,i;return n=Math.floor(e/4294967296),i=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,i;for(n=[],i=0;0<=e?i<e:i>e;i=0<=e?++i:--i)n.push(this.readByte());return n},t.prototype.write=function(e){var n,i,s,o;for(o=[],i=0,s=e.length;i<s;i++)n=e[i],o.push(this.writeByte(n));return o},t})(),Xk=(function(){var t;function e(n){var i,s,o;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},s=0,o=this.tableCount;0<=o?s<o:s>o;s=0<=o?++s:--s)i={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[i.tag]=i}return e.prototype.encode=function(n){var i,s,o,u,c,f,h,p,y,b,g,S,E;for(E in g=Object.keys(n).length,f=Math.log(2),y=16*Math.floor(Math.log(g)/f),u=Math.floor(y/f),p=16*g-y,(s=new Ol).writeInt(this.scalarType),s.writeShort(g),s.writeShort(y),s.writeShort(u),s.writeShort(p),o=16*g,h=s.pos+o,c=null,S=[],n)for(b=n[E],s.writeString(E),s.writeInt(t(b)),s.writeInt(h),s.writeInt(b.length),S=S.concat(b),E==="head"&&(c=h),h+=b.length;h%4;)S.push(0),h++;return s.write(S),i=2981146554-t(s.data),s.pos=c+8,s.writeUInt32(i),s.data},t=function(n){var i,s,o,u;for(n=Pw.call(n);n.length%4;)n.push(0);for(o=new Ol(n),s=0,i=0,u=n.length;i<u;i=i+=4)s+=o.readUInt32();return 4294967295&s},e})(),Jk={}.hasOwnProperty,io=function(t,e){for(var n in e)Jk.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};Rs=(function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var Qk=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return io(t,Rs),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new Ol).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t})(),lb=(function(){function t(e,n){var i,s,o,u,c,f,h,p,y,b,g,S,E,k,T,z,B;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),y=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=e.readByte();break;case 4:for(g=e.readUInt16(),b=g/2,e.pos+=6,o=(function(){var D,ne;for(ne=[],f=D=0;0<=b?D<b:D>b;f=0<=b?++D:--D)ne.push(e.readUInt16());return ne})(),e.pos+=2,E=(function(){var D,ne;for(ne=[],f=D=0;0<=b?D<b:D>b;f=0<=b?++D:--D)ne.push(e.readUInt16());return ne})(),h=(function(){var D,ne;for(ne=[],f=D=0;0<=b?D<b:D>b;f=0<=b?++D:--D)ne.push(e.readUInt16());return ne})(),p=(function(){var D,ne;for(ne=[],f=D=0;0<=b?D<b:D>b;f=0<=b?++D:--D)ne.push(e.readUInt16());return ne})(),s=(this.length-e.pos+this.offset)/2,c=(function(){var D,ne;for(ne=[],f=D=0;0<=s?D<s:D>s;f=0<=s?++D:--D)ne.push(e.readUInt16());return ne})(),f=T=0,B=o.length;T<B;f=++T)for(k=o[f],i=z=S=E[f];S<=k?z<=k:z>=k;i=S<=k?++z:--z)p[f]===0?u=i+h[f]:(u=c[p[f]/2+(i-S)-(b-f)]||0)!==0&&(u+=h[f]),this.codeMap[i]=65535&u}e.pos=y}return t.encode=function(e,n){var i,s,o,u,c,f,h,p,y,b,g,S,E,k,T,z,B,D,ne,H,te,I,L,K,N,P,Y,F,X,O,R,se,le,me,Z,j,G,V,ee,q,ae,pe,ye,_e,Be,Qe;switch(F=new Ol,u=Object.keys(e).sort(function(nt,be){return nt-be}),n){case"macroman":for(E=0,k=(function(){var nt=[];for(S=0;S<256;++S)nt.push(0);return nt})(),z={0:0},o={},X=0,le=u.length;X<le;X++)z[ye=e[s=u[X]]]==null&&(z[ye]=++E),o[s]={old:e[s],new:z[e[s]]},k[s]=z[e[s]];return F.writeUInt16(1),F.writeUInt16(0),F.writeUInt32(12),F.writeUInt16(0),F.writeUInt16(262),F.writeUInt16(0),F.write(k),{charMap:o,subtable:F.data,maxGlyphID:E+1};case"unicode":for(P=[],y=[],B=0,z={},i={},T=h=null,O=0,me=u.length;O<me;O++)z[ne=e[s=u[O]]]==null&&(z[ne]=++B),i[s]={old:ne,new:z[ne]},c=z[ne]-s,T!=null&&c===h||(T&&y.push(T),P.push(s),h=c),T=s;for(T&&y.push(T),y.push(65535),P.push(65535),K=2*(L=P.length),I=2*Math.pow(Math.log(L)/Math.LN2,2),b=Math.log(I/2)/Math.LN2,te=2*L-I,f=[],H=[],g=[],S=R=0,Z=P.length;R<Z;S=++R){if(N=P[S],p=y[S],N===65535){f.push(0),H.push(0);break}if(N-(Y=i[N].new)>=32768)for(f.push(0),H.push(2*(g.length+L-S)),s=se=N;N<=p?se<=p:se>=p;s=N<=p?++se:--se)g.push(i[s].new);else f.push(Y-N),H.push(0)}for(F.writeUInt16(3),F.writeUInt16(1),F.writeUInt32(12),F.writeUInt16(4),F.writeUInt16(16+8*L+2*g.length),F.writeUInt16(0),F.writeUInt16(K),F.writeUInt16(I),F.writeUInt16(b),F.writeUInt16(te),ae=0,j=y.length;ae<j;ae++)s=y[ae],F.writeUInt16(s);for(F.writeUInt16(0),pe=0,G=P.length;pe<G;pe++)s=P[pe],F.writeUInt16(s);for(_e=0,V=f.length;_e<V;_e++)c=f[_e],F.writeUInt16(c);for(Be=0,ee=H.length;Be<ee;Be++)D=H[Be],F.writeUInt16(D);for(Qe=0,q=g.length;Qe<q;Qe++)E=g[Qe],F.writeUInt16(E);return{charMap:i,subtable:F.data,maxGlyphID:B+1}}},t})(),Bw=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return io(t,Rs),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,i,s;for(e.pos=this.offset,this.version=e.readUInt16(),s=e.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)n=new lb(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var i,s;return n==null&&(n="macroman"),i=lb.encode(e,n),(s=new Ol).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},t})(),Zk=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return io(t,Rs),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),eT=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return io(t,Rs),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var n,i;for(i=[],n=0;n<10;++n)i.push(e.readByte());return i})(),this.charRange=(function(){var n,i;for(i=[],n=0;n<4;++n)i.push(e.readInt());return i})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var n,i;for(i=[],n=0;n<2;n=++n)i.push(e.readInt());return i})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),tT=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return io(t,Rs),t.prototype.tag="post",t.prototype.parse=function(e){var n,i,s;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(i=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],s=[];e.pos<this.offset+this.length;)n=e.readByte(),s.push(this.names.push(e.readString(n)));return s;case 151552:return i=e.readUInt16(),this.offsets=e.read(i);case 262144:return this.map=(function(){var u,c,f;for(f=[],o=u=0,c=this.file.maxp.numGlyphs;0<=c?u<c:u>c;o=0<=c?++u:--u)f.push(e.readUInt32());return f}).call(this)}},t})(),nT=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},rT=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return io(t,Rs),t.prototype.tag="name",t.prototype.parse=function(e){var n,i,s,o,u,c,f,h,p,y,b;for(e.pos=this.offset,e.readShort(),n=e.readShort(),c=e.readShort(),i=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)i.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+c+e.readShort()});for(f={},o=p=0,y=i.length;p<y;o=++p)s=i[o],e.pos=s.offset,h=e.readString(s.length),u=new nT(h,s),f[b=s.nameID]==null&&(f[b]=[]),f[s.nameID].push(u);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},t})(),iT=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return io(t,Rs),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),aT=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return io(t,Rs),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,i,s,o,u,c,f;for(e.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var h,p;for(p=[],n=h=0;0<=s?h<s:h>s;n=0<=s?++h:--h)p.push(e.readInt16());return p})(),this.widths=(function(){var h,p,y,b;for(b=[],h=0,p=(y=this.metrics).length;h<p;h++)o=y[h],b.push(o.advance);return b}).call(this),i=this.widths[this.widths.length-1],f=[],n=u=0;0<=s?u<s:u>s;n=0<=s?++u:--u)f.push(this.widths.push(i));return f},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),Pw=[].slice,sT=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return io(t,Rs),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,i,s,o,u,c,f,h,p,y;return e in this.cache?this.cache[e]:(o=this.file.loca,n=this.file.contents,i=o.indexOf(e),(s=o.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+i,u=(c=new Ol(n.read(s))).readShort(),h=c.readShort(),y=c.readShort(),f=c.readShort(),p=c.readShort(),this.cache[e]=u===-1?new lT(c,h,y,f,p):new oT(c,u,h,y,f,p),this.cache[e]))},t.prototype.encode=function(e,n,i){var s,o,u,c,f;for(u=[],o=[],c=0,f=n.length;c<f;c++)s=e[n[c]],o.push(u.length),s&&(u=u.concat(s.encode(i)));return o.push(u.length),{table:u,offsets:o}},t})(),oT=(function(){function t(e,n,i,s,o,u){this.raw=e,this.numberOfContours=n,this.xMin=i,this.yMin=s,this.xMax=o,this.yMax=u,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),lT=(function(){function t(e,n,i,s,o){var u,c;for(this.raw=e,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],u=this.raw;c=u.readShort(),this.glyphOffsets.push(u.pos),this.glyphIDs.push(u.readUInt16()),32&c;)u.pos+=1&c?4:2,128&c?u.pos+=8:64&c?u.pos+=4:8&c&&(u.pos+=2)}return t.prototype.encode=function(){var e,n,i;for(n=new Ol(Pw.call(this.raw.data)),e=0,i=this.glyphIDs.length;e<i;++e)n.pos=this.glyphOffsets[e];return n.data},t})(),uT=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return io(t,Rs),t.prototype.tag="loca",t.prototype.parse=function(e){var n,i;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(e.readUInt32());return o}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,u=0;u<i.length;++u)if(i[u]=s,o<n.length&&n[o]==u){++o,i[u]=s;var c=this.offsets[u],f=this.offsets[u+1]-c;f>0&&(s+=f)}for(var h=new Array(4*i.length),p=0;p<i.length;++p)h[4*p+3]=255&i[p],h[4*p+2]=(65280&i[p])>>8,h[4*p+1]=(16711680&i[p])>>16,h[4*p]=(4278190080&i[p])>>24;return h},t})(),cT=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,i,s,o;for(n in s=this.font.cmap.tables[0].codeMap,e={},o=this.subset)i=o[n],e[n]=s[i];return e},t.prototype.glyphsFor=function(e){var n,i,s,o,u,c,f;for(s={},u=0,c=e.length;u<c;u++)s[o=e[u]]=this.font.glyf.glyphFor(o);for(o in n=[],s)(i=s[o])!=null&&i.compound&&n.push.apply(n,i.glyphIDs);if(n.length>0)for(o in f=this.glyphsFor(n))i=f[o],s[o]=i;return s},t.prototype.encode=function(e,n){var i,s,o,u,c,f,h,p,y,b,g,S,E,k,T;for(s in i=Bw.encode(this.generateCmap(),"unicode"),u=this.glyphsFor(e),g={0:0},T=i.charMap)g[(f=T[s]).old]=f.new;for(S in b=i.maxGlyphID,u)S in g||(g[S]=b++);return p=(function(z){var B,D;for(B in D={},z)D[z[B]]=B;return D})(g),y=Object.keys(p).sort(function(z,B){return z-B}),E=(function(){var z,B,D;for(D=[],z=0,B=y.length;z<B;z++)c=y[z],D.push(p[c]);return D})(),o=this.font.glyf.encode(u,E,g),h=this.font.loca.encode(o.offsets,E),k={cmap:this.font.cmap.raw(),glyf:o.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(k["OS/2"]=this.font.os2.raw()),this.font.directory.encode(k)},t})();Ot.API.PDFObject=(function(){var t;function e(){}return t=function(n,i){return(Array(i+1).join("0")+n).slice(-i)},e.convert=function(n){var i,s,o,u;if(Array.isArray(n))return"["+(function(){var c,f,h;for(h=[],c=0,f=n.length;c<f;c++)i=n[c],h.push(e.convert(i));return h})().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n?.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(s in o=["<<"],n)u=n[s],o.push("/"+s+" "+e.convert(u));return o.push(">>"),o.join(`
`)}return""+n},e})();function fT(){const{business:t}=$o(),{isDark:e}=Wo(),{notifyNewPayment:n,notifyPaymentReceived:i,notifyPaymentCancelled:s,notifyReportDownloaded:o,notifyError:u}=Tu(),[c,f]=W.useState("pending"),[h,p]=W.useState(!1),[y,b]=W.useState([]),[g,S]=W.useState(!1),[E,k]=W.useState(!0),[T,z]=W.useState(null),[B,D]=W.useState(""),ne=W.useRef(new Set),H=W.useRef(new Set),{orders:te,loading:I,error:L}=b7(t?.id,{status:"completed",orderBy:"completed_at",ascending:!1}),K=(be=new Date)=>new Date(be.toLocaleString("en-US",{timeZone:"Europe/Istanbul"})),N=()=>{const be=new Date(new Date().toLocaleString("en-US",{timeZone:"Europe/Istanbul"})),$=be.getFullYear(),ge=String(be.getMonth()+1).padStart(2,"0"),Oe=String(be.getDate()).padStart(2,"0");return`${$}-${ge}-${Oe}`},P=be=>be?new Date(be).toLocaleString("tr-TR",{timeZone:"Europe/Istanbul",day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"}):"",Y=async()=>{if(t?.id)try{const be=new Date(new Date().toLocaleString("en-US",{timeZone:"Europe/Istanbul"})),$=be.getFullYear(),ge=be.getMonth(),Oe=be.getDate(),Te=N(),Ee=new Date($,ge,Oe,0,0,0,0),qe=new Date($,ge,Oe,23,59,59,999),{data:Me,error:lt}=await ht.from("payments").select(`
          order_id,
          payment_date,
          orders!inner (
            *,
            order_items (
              id,
              product_name,
              product_price,
              quantity,
              subtotal
            )
          )
        `).eq("business_id",t.id).gte("payment_date",Ee.toISOString()).lt("payment_date",qe.toISOString());if(lt)throw lt;const ve=(Me?.map(Je=>Je.orders).filter(Je=>Je&&Je.status==="completed")||[]||[]).sort((Je,$e)=>{const tt=Je.completed_at?new Date(Je.completed_at).getTime():0,_t=$e.completed_at?new Date($e.completed_at).getTime():0;return tt-_t}),Re=ve.reduce((Je,$e)=>{const tt=parseFloat($e.total_amount||0);return isNaN(tt)?(console.warn("Invalid total_amount for order:",$e.id,$e.total_amount),Je):Je+tt},0),Ge=ve.length;console.log("UpdateTodayReport - Total Orders:",Ge,"Total Amount:",Re),console.log("UpdateTodayReport - Paid Orders:",ve.map(Je=>({id:Je.id.slice(0,8),total_amount:Je.total_amount})));const Fe=new Date($,ge,Oe);let Ue=`GN SONU RAPORU
${t?.name||"letme"}
Tarih: ${Fe.toLocaleDateString("tr-TR")}

---------------------------------------

TOPLAM SPAR: ${Ge} adet
TOPLAM TUTAR: ${Re.toFixed(2)} TL

---------------------------------------

SPAR DETAYLARI:

`;ve.length>0?ve.forEach((Je,$e)=>{Ue+=`${$e+1}. Sipari #${Je.id.slice(0,8)}
   Masa: ${Je.table_number||"N/A"}
   Tarih: ${P(Je.completed_at)}
   Tutar: ${parseFloat(Je.total_amount).toFixed(2)} TL
   
   rnler:
`,Je.order_items?.forEach(tt=>{Ue+=`   - ${tt.product_name}  ${tt.quantity} = ${parseFloat(tt.subtotal).toFixed(2)} TL
`}),$e<ve.length-1?Ue+=`
---------------------------------------

`:Ue+=`
`}):Ue+=`Henz denmi sipari yok.
`;const{data:Ke}=await ht.from("daily_reports").select("*").eq("business_id",t.id).eq("report_date",Te).single();let Ve=null,ot=null;if(Ke){Ve=Ke.id,ot=Ke.created_at;const{error:Je}=await ht.from("daily_reports").update({report_data:{orders:ve,summary:{total_orders:Ge,total_amount:Re}},total_orders:Ge,total_amount:Re,report_text:Ue}).eq("id",Ke.id);if(Je)throw console.error("Error updating daily report:",Je),Je;console.log("Daily report updated successfully - Total Amount:",Re)}else{const{data:Je,error:$e}=await ht.from("daily_reports").insert({business_id:t.id,report_date:Te,report_data:{orders:ve,summary:{total_orders:Ge,total_amount:Re}},total_orders:Ge,total_amount:Re,report_text:Ue}).select().single();if($e)throw console.error("Error inserting daily report:",$e),$e;Ve=Je.id,ot=Je.created_at,console.log("Daily report created successfully - Total Amount:",Re)}}catch(be){console.error("Update today report error:",be)}};W.useEffect(()=>{if(!t?.id)return;const be=ht.channel(`payments:${t.id}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"orders",filter:`business_id=eq.${t.id}`},async $=>{console.log(" Order updated in Supabase:",$.new.id,"payment_status:",$.new.payment_status);const{data:ge,error:Oe}=await ht.from("orders").select(`
              *,
              order_items (
                id,
                product_name,
                product_price,
                quantity,
                notes,
                subtotal
              )
            `).eq("id",$.new.id).single();if(Oe||!ge){console.error("Error fetching order with items:",Oe);return}if($.new.payment_status==="paid")X(Te=>Te.find(qe=>qe.id===ge.id)?Te.map(qe=>qe.id===ge.id?ge:qe):[ge,...Te]),R(Te=>Te.filter(Ee=>Ee.id!==ge.id));else if($.new.payment_status==="pending"){let Te=!1;if(R(Ee=>{const qe=Ee.find(Me=>Me.id===ge.id);return!qe&&ge.status==="completed"?(Te=!0,[ge,...Ee]):qe?Ee.map(Me=>Me.id===ge.id?ge:Me):Ee}),Te&&ge.status==="completed"&&!ne.current.has(ge.id)){ne.current.add(ge.id),console.log(" Yeni deme bildirimi gsteriliyor (payment_status pending):",ge.id,ge.table_number);const Ee={order_id:ge.id,table_number:ge.table_number,amount:ge.total_amount};setTimeout(()=>{n(Ee)},300)}X(Ee=>Ee.filter(qe=>qe.id!==ge.id))}if($.new.status==="completed"&&$.old?.status!=="completed"&&ge.status==="completed"&&ge.payment_status==="pending"){let Te=!1;if(R(Ee=>Ee.find(Me=>Me.id===ge.id)?Ee:(Te=!0,[ge,...Ee])),Te&&!ne.current.has(ge.id)){ne.current.add(ge.id),console.log(" Yeni deme bildirimi gsteriliyor (status completed):",ge.id,ge.table_number,ge.payment_status);const Ee={order_id:ge.id,table_number:ge.table_number,amount:ge.total_amount};setTimeout(()=>{n(Ee)},500)}}if($.new.status==="completed"&&$.new.payment_status==="pending"&&($.old?.status!=="completed"||$.old?.payment_status!=="pending")&&ge.status==="completed"&&ge.payment_status==="pending"&&!ne.current.has(ge.id)){ne.current.add(ge.id),console.log(" Yeni deme bildirimi gsteriliyor (status+payment_status):",ge.id,ge.table_number);const Te={order_id:ge.id,table_number:ge.table_number,amount:ge.total_amount};setTimeout(()=>{n(Te)},500)}$.new.payment_status==="paid"&&$.old?.payment_status!=="paid"&&(Y(),ge&&!H.current.has(ge.id)&&(H.current.add(ge.id),console.log(" deme yapld bildirimi gsteriliyor (realtime):",ge.id,ge.table_number),i(ge)))}).on("postgres_changes",{event:"DELETE",schema:"public",table:"orders",filter:`business_id=eq.${t.id}`},$=>{console.log(" Order deleted from Supabase (Realtime):",$.old.id),console.log(" Deleted order details:",$.old),X(ge=>{const Oe=ge.filter(Te=>Te.id!==$.old.id);return console.log(` Paid orders: ${ge.length}  ${Oe.length}`),Oe}),R(ge=>{const Oe=ge.filter(Te=>Te.id!==$.old.id);return console.log(` Pending orders: ${ge.length}  ${Oe.length}`),Oe}),Y()}).on("postgres_changes",{event:"INSERT",schema:"public",table:"payments",filter:`business_id=eq.${t.id}`},async $=>{console.log(" New payment added:",$.new.order_id);const{data:ge,error:Oe}=await ht.from("orders").select(`
              *,
              order_items (
                id,
                product_name,
                product_price,
                quantity,
                notes,
                subtotal
              )
            `).eq("id",$.new.order_id).single();if(ge&&!Oe)if(ge.status==="completed"&&ge.payment_status==="pending"){let Te=!1;if(R(Ee=>Ee.find(Me=>Me.id===ge.id)?Ee:(Te=!0,[ge,...Ee])),Te&&!ne.current.has(ge.id)){ne.current.add(ge.id);const Ee={order_id:ge.id,table_number:ge.table_number,amount:ge.total_amount};n(Ee)}X(Ee=>Ee.filter(qe=>qe.id!==ge.id)),Y()}else ge.status==="completed"&&ge.payment_status==="paid"&&(X(Te=>Te.find(qe=>qe.id===ge.id)?Te:[ge,...Te]),R(Te=>Te.filter(Ee=>Ee.id!==ge.id)),Y())}).on("postgres_changes",{event:"DELETE",schema:"public",table:"payments",filter:`business_id=eq.${t.id}`},$=>{console.log(" Payment deleted:",$.old.order_id),X(ge=>ge.filter(Oe=>Oe.id!==$.old.order_id)),Y()}).on("postgres_changes",{event:"*",schema:"public",table:"daily_reports",filter:`business_id=eq.${t.id}`},async $=>{console.log(" Daily report changed (Realtime):",$.eventType,$.new?.report_date||$.old?.report_date);try{const ge=K(),Oe=new Date(ge);Oe.setDate(Oe.getDate()-30);const Te=`${Oe.getFullYear()}-${String(Oe.getMonth()+1).padStart(2,"0")}-${String(Oe.getDate()).padStart(2,"0")}`,{data:Ee,error:qe}=await ht.from("daily_reports").select("*").eq("business_id",t.id).gte("report_date",Te).order("report_date",{ascending:!1});if(qe)throw qe;const Me=(Ee||[]).filter(lt=>lt.report_date&&lt.id);b(Me),console.log(" Daily reports state updated (Realtime):",Me.length,"reports")}catch(ge){console.error("Load reports error (Realtime):",ge)}}).subscribe();return()=>{ht.removeChannel(be)}},[t?.id]),W.useEffect(()=>{if(!t?.id){S(!1),k(!1);return}if(!E)return;(async()=>{try{S(!0),await Y();const $=K(),ge=new Date($);ge.setDate(ge.getDate()-30);const Oe=`${ge.getFullYear()}-${String(ge.getMonth()+1).padStart(2,"0")}-${String(ge.getDate()).padStart(2,"0")}`,{data:Te,error:Ee}=await ht.from("daily_reports").select("*").eq("business_id",t.id).gte("report_date",Oe).order("report_date",{ascending:!1});if(Ee)throw Ee;const qe=(Te||[]).filter(Me=>Me.report_date&&Me.id);b(qe)}catch($){console.error("Load reports error:",$),b([])}finally{S(!1),k(!1)}})()},[t?.id,E]);const[F,X]=W.useState([]),[O,R]=W.useState([]),[se,le]=W.useState(!0),[me,Z]=W.useState(!0);W.useEffect(()=>{if(!t?.id){le(!1);return}const be=async()=>{try{console.log(" Fetching PAID orders from payments table...");const ge=new Date(new Date().toLocaleString("en-US",{timeZone:"Europe/Istanbul"})),Oe=ge.getFullYear(),Te=ge.getMonth(),Ee=ge.getDate(),qe=new Date(Oe,Te,Ee,0,0,0,0),Me=new Date(Oe,Te,Ee,23,59,59,999),{data:lt,error:ct}=await ht.from("payments").select(`
            order_id,
            orders!inner (
              *,
              order_items (
                id,
                product_name,
                product_price,
                quantity,
                notes,
                subtotal
              )
            )
          `).eq("business_id",t.id).gte("payment_date",qe.toISOString()).lt("payment_date",Me.toISOString()).order("payment_date",{ascending:!1});if(ct)throw ct;const dt=lt?.map(ve=>ve.orders).filter(ve=>ve&&ve.status==="completed")||[];console.log(" PAID Orders fetched from payments table:",dt.length,"orders"),console.log(" PAID Order IDs:",dt.map(ve=>ve.id.slice(0,8))||[]),console.log(" Payments count:",lt?.length||0),X(dt)}catch(ge){console.error(" Fetch PAID orders error:",ge),X([])}},$=async()=>{try{console.log(" Fetching PENDING orders from Supabase...");const{data:ge,error:Oe}=await ht.from("orders").select(`
            *,
            order_items (
              id,
              product_name,
              product_price,
              quantity,
              notes,
              subtotal
            )
          `).eq("business_id",t.id).eq("status","completed").eq("payment_status","pending").order("completed_at",{ascending:!1});if(Oe)throw Oe;console.log(" PENDING Orders fetched from Supabase:",ge?.length||0,"orders"),console.log(" PENDING Order IDs:",ge?.map(Te=>Te.id.slice(0,8))||[]),R(ge||[])}catch(ge){console.error(" Fetch PENDING orders error:",ge),R([])}};Promise.all([be(),$()]).finally(()=>{le(!1),Z(!1)})},[t?.id]);const j=c==="paid"?F:c==="pending"?O:te;W.useEffect(()=>{(c==="paid"||c==="pending")&&console.log(" Debug ordersToUse:",{selectedTab:c,isInitialLoad:me,loadingOrders:se,paidOrdersFromSupabaseCount:F.length,pendingOrdersFromSupabaseCount:O.length,allOrdersCount:te.length,ordersToUseCount:j.length,ordersToUseIDs:j.map(be=>be.id.slice(0,8))})},[c,me,se,F,O,te,j]);const G=O,V=F,ee=c==="pending"?G:c==="paid"?V:[];W.useEffect(()=>{const be=()=>{p(window.innerWidth<768)};return be(),window.addEventListener("resize",be),()=>window.removeEventListener("resize",be)},[]),W.useEffect(()=>{const be=()=>{const Oe=new Date().toLocaleString("tr-TR",{timeZone:"Europe/Istanbul",day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"});D(Oe)};be();const $=setInterval(be,1e3);return()=>clearInterval($)},[]),W.useEffect(()=>{const be=$=>{T&&!$.target.closest("[data-report-menu]")&&z(null)};return document.addEventListener("click",be),()=>document.removeEventListener("click",be)},[T]);const q=async(be,$)=>{try{const{data:ge,error:Oe}=await ht.from("payments").insert({order_id:be,business_id:t.id,amount:$,payment_method:"cash",payment_date:new Date().toISOString()}).select().single();if(Oe)throw Oe;const{error:Te}=await ht.from("orders").update({payment_status:"paid",updated_at:new Date().toISOString()}).eq("id",be);if(Te)throw Te;let Ee=0,qe=!1;for(;Ee<5&&!qe;){await new Promise(ct=>setTimeout(ct,200));const{data:lt}=await ht.from("orders").select("payment_status").eq("id",be).single();lt&&lt.payment_status==="paid"?qe=!0:Ee++}await Y();const{data:Me}=await ht.from("orders").select("*").eq("id",be).single();Me&&(H.current.has(Me.id)||(H.current.add(Me.id),console.log(" deme yapld bildirimi gsteriliyor:",Me.id,Me.table_number),i(Me)))}catch(ge){console.error("Payment error:",ge),u("deme kaydedilirken hata olutu",ge.message)}},ae=be=>be?new Date(be).toLocaleDateString("tr-TR",{timeZone:"Europe/Istanbul",day:"numeric",month:"long",year:"numeric"}):"",pe=be=>{if(!be)return"";const $=new Date(be),ge=$.toLocaleDateString("tr-TR",{timeZone:"Europe/Istanbul",day:"2-digit"}),Oe=$.toLocaleDateString("tr-TR",{timeZone:"Europe/Istanbul",month:"2-digit"}),Te=$.toLocaleDateString("tr-TR",{timeZone:"Europe/Istanbul",year:"numeric"});return`${ge}.${Oe}.${Te}`},ye=be=>be?be.replace(//g,"s").replace(//g,"S").replace(//g,"g").replace(//g,"G").replace(//g,"u").replace(//g,"U").replace(//g,"o").replace(//g,"O").replace(//g,"c").replace(//g,"C").replace(//g,"i").replace(//g,"I").replace(//g,"TL"):"",_e=async(be,$,ge,Oe)=>{const Te=new Ot,Ee=Te.internal.pageSize.width,qe=Ee/2;let Me=20;if(t?.logo_url)try{const Je=new Image;Je.crossOrigin="anonymous",await new Promise($e=>{const tt=setTimeout(()=>{console.warn("Logo ykleme zaman am"),$e()},5e3);Je.onload=()=>{clearTimeout(tt);try{const mt=Je.width/Je.height,Ht=Math.min(40,Je.height),yt=Ht*mt,gt=qe-yt/2;let vt="PNG";t.logo_url.toLowerCase().includes(".jpg")||t.logo_url.toLowerCase().includes(".jpeg")?vt="JPEG":t.logo_url.toLowerCase().includes(".png")&&(vt="PNG"),Te.addImage(Je,vt,gt,Me,yt,Ht),Me+=Ht+10,$e()}catch(_t){console.warn("Logo PDF'e eklenemedi:",_t),clearTimeout(tt),$e()}},Je.onerror=()=>{clearTimeout(tt),console.warn("Logo yklenemedi"),$e()},Je.src=t.logo_url})}catch(Je){console.warn("Logo ileme hatas:",Je)}Te.setFontSize(18),Te.setFont("helvetica","bold");const lt=ye("GN SONU RAPORU");Te.text(lt,qe,Me,{align:"center"}),Me+=10,Te.setFontSize(14),Te.setFont("helvetica","normal");const ct=ye(t?.name||"letme");Te.text(ct,qe,Me,{align:"center"}),Me+=8,Te.setFontSize(12);const dt=`Tarih: ${$}`;Te.text(dt,qe,Me,{align:"center"}),Me+=10,Te.setLineWidth(.5),Te.line(20,Me,Ee-20,Me),Me+=10,Te.setFontSize(12),Te.setFont("helvetica","bold");const ve=ye(`TOPLAM SPAR: ${ge} adet`);Te.text(ve,20,Me),Me+=8;const Re=ye(`TOPLAM TUTAR: ${parseFloat(Oe||0).toFixed(2)} TL`);Te.text(Re,20,Me),Me+=10,Te.line(20,Me,Ee-20,Me),Me+=10,Te.setFontSize(10),Te.setFont("helvetica","normal");const Fe=be.replace(/%P+/g,"").replace(/%[A-Z0-9]+/g,"").replace(/+/g,"-").replace(/S0PAR0\^/g,"SPAR").replace(/SOPAR0\^/g,"SPAR").replace(/SOPAR/g,"SPAR").replace(/SPAR/g,"SPAR").replace(//g,"").replace(//g,"").replace(/\u00B0/g,"").replace(/\u00BA/g,"").replace(/\u00A0/g," ").split(`
`),Ue=Te.internal.pageSize.height,Ve=Ee-20*2;Fe.forEach(Je=>{if(Me>Ue-20&&(Te.addPage(),Me=20),Je.trim()===""){Me+=4;return}let $e=Je.replace(/%P+/g,"").replace(/%[A-Z0-9]+/g,"").replace(/+/g,"-").replace(/S0PAR0\^/g,"SPAR").replace(/SOPAR0\^/g,"SPAR").replace(//g,"").replace(//g,"").replace(/\u00B0/g,"").replace(/\u00BA/g,"").replace(/\u00A0/g," ");try{Te.splitTextToSize($e,Ve).forEach(_t=>{Me>Ue-20&&(Te.addPage(),Me=20);const mt=ye(_t);Te.text(mt,20,Me),Me+=6})}catch(tt){console.warn("Satr eklenemedi:",Je.substring(0,50),tt)}});const ot=$.replace(/\s+/g,"-").replace(/[^a-zA-Z0-9-]/g,"");Te.save(`gun-sonu-raporu-${ot}.pdf`)},Be=async(be,$="txt")=>{try{if($==="pdf"){const ge=pe(be.report_date);await _e(be.report_text||"",ge,be.total_orders||0,be.total_amount||0),o("pdf",be)}else{const Oe="\uFEFF"+(be.report_text||""),Te=new Blob([Oe],{type:"text/plain;charset=utf-8"}),Ee=URL.createObjectURL(Te),qe=document.createElement("a");qe.href=Ee,qe.download=`gun-sonu-raporu-${be.report_date}.txt`,document.body.appendChild(qe),qe.click(),document.body.removeChild(qe),URL.revokeObjectURL(Ee),o($,be)}}catch(ge){console.error("Download error:",ge),u("Rapor indirilirken hata olutu",ge.message)}};if(I)return _.jsx(ka,{children:_.jsx(Ga,{message:"demeler ykleniyor..."})});if(L)return _.jsx(ka,{children:_.jsx("div",{style:{background:e?"rgba(15, 23, 42, 0.85)":"white",padding:"2rem",borderRadius:"8px",textAlign:"center",color:"#ef4444",border:e?"1px solid rgba(139, 92, 246, 0.3)":"none",boxShadow:e?"0 25px 50px -12px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(139, 92, 246, 0.2)":"0 1px 3px rgba(0,0,0,0.1)"},children:_.jsxs("p",{children:[" Hata: ",L]})})});const Qe=G.reduce((be,$)=>be+parseFloat($.total_amount||0),0),nt=V.reduce((be,$)=>be+parseFloat($.total_amount||0),0);return _.jsx(ka,{children:_.jsxs("div",{children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:h?"1.5rem":"2rem",flexWrap:"wrap",gap:"1rem"},children:[_.jsxs("h1",{style:{margin:0,fontSize:h?"1.5rem":"2rem",color:e?"#ffffff":"#1e293b",display:"flex",alignItems:"center",gap:"0.75rem"},children:[_.jsxs("svg",{width:h?"28":"32",height:h?"28":"32",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[_.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2",stroke:e?"#ffffff":"#1e293b",strokeWidth:"2",fill:"none"}),_.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10",stroke:e?"#ffffff":"#1e293b",strokeWidth:"2"})]}),"demeler"]}),_.jsx("div",{style:{display:"flex",gap:"0.75rem",alignItems:"center",flexWrap:"wrap"},children:B&&_.jsxs("div",{style:{padding:"0.5rem 1rem",background:"linear-gradient(135deg, #0f172a 0%, #1e293b 100%)",borderRadius:"8px",color:"white",fontSize:h?"0.75rem":"0.875rem",fontWeight:"500",boxShadow:"0 2px 4px rgba(15, 23, 42, 0.3)",border:"1px solid #334155"},children:[" ",B]})})]}),_.jsxs("div",{style:{display:"grid",gridTemplateColumns:h?"1fr":"repeat(2, 1fr)",gap:"1rem",marginBottom:"2rem"},children:[_.jsxs("div",{style:{background:e?"rgba(15, 23, 42, 0.85)":"white",padding:"1.5rem",borderRadius:"8px",boxShadow:e?"0 25px 50px -12px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(139, 92, 246, 0.2)":"0 1px 3px rgba(0,0,0,0.1)",borderLeft:"4px solid #f59e0b",border:e?"1px solid rgba(139, 92, 246, 0.3)":"none"},children:[_.jsx("p",{style:{margin:0,color:e?"#cbd5e1":"#64748b",fontSize:"0.875rem"},children:"deme Yaplacak"}),_.jsxs("p",{style:{margin:"0.5rem 0 0 0",fontSize:"1.5rem",fontWeight:"bold",color:e?"#ffffff":"#1e293b"},children:[G.length," sipari"]}),_.jsx("div",{style:{margin:"0.25rem 0 0 0"},children:_.jsx(Br,{price:Qe,fontSize:"1.25rem",fontWeight:"600",color:"#f59e0b"})})]}),_.jsxs("div",{style:{background:e?"rgba(15, 23, 42, 0.85)":"white",padding:"1.5rem",borderRadius:"8px",boxShadow:e?"0 25px 50px -12px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(139, 92, 246, 0.2)":"0 1px 3px rgba(0,0,0,0.1)",borderLeft:"4px solid #10b981",border:e?"1px solid rgba(139, 92, 246, 0.3)":"none"},children:[_.jsx("p",{style:{margin:0,color:e?"#cbd5e1":"#64748b",fontSize:"0.875rem"},children:"dendi"}),_.jsxs("p",{style:{margin:"0.5rem 0 0 0",fontSize:"1.5rem",fontWeight:"bold",color:e?"#ffffff":"#1e293b"},children:[V.length," sipari"]}),_.jsx("div",{style:{margin:"0.25rem 0 0 0"},children:_.jsx(Br,{price:nt,fontSize:"1.25rem",fontWeight:"600",color:"#10b981"})})]})]}),_.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1.5rem",borderBottom:e?"2px solid rgba(139, 92, 246, 0.3)":"2px solid #e2e8f0"},children:[_.jsxs("button",{onClick:()=>f("pending"),style:{background:c==="pending"?"#f59e0b":"transparent",color:c==="pending"?"white":e?"#cbd5e1":"#64748b",border:"none",padding:"0.75rem 1.5rem",fontSize:"1rem",fontWeight:"600",cursor:"pointer",borderBottom:c==="pending"?"3px solid #f59e0b":"3px solid transparent",transition:"all 0.2s"},children:[" deme Yaplacak (",G.length,")"]}),_.jsxs("button",{onClick:()=>f("paid"),style:{background:c==="paid"?"#10b981":"transparent",color:c==="paid"?"white":e?"#cbd5e1":"#64748b",border:"none",padding:"0.75rem 1.5rem",fontSize:"1rem",fontWeight:"600",cursor:"pointer",borderBottom:c==="paid"?"3px solid #10b981":"3px solid transparent",transition:"all 0.2s"},children:[" dendi (",V.length,")"]}),_.jsx("button",{onClick:()=>f("history"),style:{background:c==="history"?"linear-gradient(135deg, #6366f1 0%, #312e81 100%)":"transparent",color:c==="history"?"white":e?"#cbd5e1":"#64748b",border:"none",padding:"0.75rem 1.5rem",fontSize:"1rem",fontWeight:"600",cursor:"pointer",borderBottom:c==="history"?"3px solid #6366f1":"3px solid transparent",transition:"all 0.2s"},children:" Gemi Kaytlar"})]}),(c==="pending"||c==="paid")&&(se&&me?_.jsx(Ga,{message:"Sipariler ykleniyor..."}):ee.length===0?_.jsx("div",{style:{background:e?"rgba(15, 23, 42, 0.85)":"white",padding:"3rem",borderRadius:"8px",textAlign:"center",boxShadow:e?"0 25px 50px -12px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(139, 92, 246, 0.2)":"0 1px 3px rgba(0,0,0,0.1)",border:e?"1px solid rgba(139, 92, 246, 0.3)":"none"},children:_.jsx("p",{style:{color:e?"#cbd5e1":"#64748b",fontSize:h?"1rem":"1.125rem"},children:c==="pending"?" Henz deme bekleyen sipari yok":" Henz denmi sipari yok"})}):_.jsx("div",{style:{display:"grid",gridTemplateColumns:h?"1fr":"repeat(auto-fill, minmax(350px, 1fr))",gap:h?"1rem":"1.5rem"},children:ee.map(be=>_.jsx(dT,{order:be,isMobile:h,formatDate:P,markAsPaid:q,isPaid:c==="paid"},be.id))})),c==="history"&&(g&&E?_.jsx(Ga,{message:"Gemi kaytlar ykleniyor..."}):y.length===0?_.jsx("div",{style:{background:e?"rgba(15, 23, 42, 0.85)":"white",padding:"3rem",borderRadius:"8px",textAlign:"center",boxShadow:e?"0 25px 50px -12px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(139, 92, 246, 0.2)":"0 1px 3px rgba(0,0,0,0.1)",border:e?"1px solid rgba(139, 92, 246, 0.3)":"none"},children:_.jsx("p",{style:{color:e?"#cbd5e1":"#64748b",fontSize:h?"1rem":"1.125rem"},children:" Henz gemi kayt yok"})}):_.jsx("div",{style:{display:"grid",gridTemplateColumns:h?"1fr":"repeat(auto-fill, minmax(400px, 1fr))",gap:h?"1rem":"1.5rem"},children:y.map(be=>_.jsxs("div",{style:{padding:h?"1rem":"1.5rem",borderRadius:"8px",boxShadow:e?"0 25px 50px -12px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(139, 92, 246, 0.2)":"0 1px 3px rgba(0,0,0,0.1)",borderLeft:"4px solid #6366f1",background:e?"rgba(15, 23, 42, 0.85)":"linear-gradient(135deg, #ffffff 0%, #faf5ff 100%)",border:e?"1px solid rgba(139, 92, 246, 0.3)":"none"},children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[_.jsxs("div",{children:[_.jsxs("h3",{style:{margin:0,fontSize:h?"1.125rem":"1.25rem",color:e?"#ffffff":"#1e293b"},children:[" ",ae(be.report_date)]}),_.jsxs("p",{style:{margin:"0.5rem 0 0 0",color:e?"#cbd5e1":"#64748b",fontSize:h?"0.75rem":"0.875rem"},children:[be.total_orders," sipari"]})]}),_.jsx("div",{style:{fontSize:h?"1.25rem":"1.5rem",fontWeight:"bold",display:"inline-block"},children:_.jsx(Br,{price:parseFloat(be.total_amount),fontSize:h?"1.25rem":"1.5rem",fontWeight:"bold",color:"#6366f1",style:{background:"linear-gradient(135deg, #6366f1 0%, #312e81 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"}})})]}),_.jsxs("div",{style:{position:"relative",width:"100%"},"data-report-menu":!0,children:[_.jsxs("button",{onClick:$=>{$.stopPropagation(),z(T===be.id?null:be.id)},style:{width:"100%",background:"linear-gradient(135deg, #6366f1 0%, #312e81 100%)",color:"white",border:"none",borderRadius:"8px",padding:"0.75rem",fontSize:h?"0.875rem":"1rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},onMouseEnter:$=>{$.currentTarget.style.background="linear-gradient(135deg, #4f46e5 0%, #1e1b4b 100%)",$.currentTarget.style.transform="translateY(-1px)",$.currentTarget.style.boxShadow="0 4px 12px rgba(99, 102, 241, 0.4)"},onMouseLeave:$=>{$.currentTarget.style.background="linear-gradient(135deg, #6366f1 0%, #312e81 100%)",$.currentTarget.style.transform="translateY(0)",$.currentTarget.style.boxShadow="none"},children:[" Raporu ndir",_.jsx("span",{style:{fontSize:"0.75rem"},children:""})]}),T===be.id&&_.jsxs("div",{style:{position:"absolute",top:"100%",left:0,right:0,marginTop:"0.5rem",borderRadius:"8px",border:e?"1px solid rgba(139, 92, 246, 0.3)":"2px solid #6366f1",background:e?"rgba(15, 23, 42, 0.95)":"linear-gradient(135deg, #ffffff 0%, #faf5ff 100%)",boxShadow:e?"0 8px 16px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(139, 92, 246, 0.3)":"0 8px 16px rgba(99, 102, 241, 0.15), 0 2px 4px rgba(0,0,0,0.1)",zIndex:1e3,overflow:"hidden"},children:[_.jsx("button",{onClick:$=>{$.stopPropagation(),Be(be,"pdf"),z(null)},style:{width:"100%",padding:"0.875rem 1rem",border:"none",background:e?"transparent":"#ffffff",textAlign:"left",cursor:"pointer",fontSize:"0.875rem",color:e?"#cbd5e1":"#1e293b",display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.2s",fontWeight:"500"},onMouseEnter:$=>{$.currentTarget.style.background="linear-gradient(135deg, #6366f1 0%, #312e81 100%)",$.currentTarget.style.color="white"},onMouseLeave:$=>{$.currentTarget.style.background=e?"transparent":"#ffffff",$.currentTarget.style.color=e?"#cbd5e1":"#1e293b"},children:" PDF Olarak ndir"}),_.jsx("div",{style:{height:"1px",background:e?"rgba(139, 92, 246, 0.3)":"#e2e8f0",margin:"0.25rem 0"}}),_.jsx("button",{onClick:$=>{$.stopPropagation(),Be(be,"txt"),z(null)},style:{width:"100%",padding:"0.875rem 1rem",border:"none",background:e?"transparent":"#ffffff",textAlign:"left",cursor:"pointer",fontSize:"0.875rem",color:e?"#cbd5e1":"#1e293b",display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.2s",fontWeight:"500"},onMouseEnter:$=>{$.currentTarget.style.background="linear-gradient(135deg, #6366f1 0%, #312e81 100%)",$.currentTarget.style.color="white"},onMouseLeave:$=>{$.currentTarget.style.background=e?"transparent":"#ffffff",$.currentTarget.style.color=e?"#cbd5e1":"#1e293b"},children:" TXT Olarak ndir"})]})]})]},be.id))}))]})})}function dT({order:t,isMobile:e,formatDate:n,markAsPaid:i,isPaid:s}){const[o,u]=W.useState(!1),{isDark:c}=Wo(),f=t.order_items?.slice(0,3)||[],h=t.order_items?.slice(3)||[],p=h.length>0,y=()=>c?"rgba(15, 23, 42, 0.85)":s?"#f5fef7":"#fffef7",b=()=>s?"#10b981":"#f59e0b",g=S=>{if(!S)return"";const E=new Date(S),k=String(E.getDate()).padStart(2,"0"),T=String(E.getMonth()+1).padStart(2,"0"),z=E.getFullYear(),B=String(E.getHours()).padStart(2,"0"),D=String(E.getMinutes()).padStart(2,"0");if(s)return`${k}/${T}/${z} ${B}.${D}`;const H=new Date-E,te=Math.floor(H/6e4),I=Math.floor(H/36e5),L=Math.floor(H/864e5);let K="";return te<1?K="az nce":te<60?K=`${te} dakika nce`:I<24?K=`${I} saat nce`:L<7?K=`${L} gn nce`:K="",`${k}/${T}/${z} ${B}.${D}${K?` (${K})`:""}`};return _.jsxs("div",{style:{background:y(),padding:e?"1rem":"1.5rem",borderRadius:"8px",boxShadow:c?"0 25px 50px -12px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(139, 92, 246, 0.2)":"0 1px 3px rgba(0,0,0,0.1)",borderLeft:`4px solid ${b()}`,border:c?"1px solid rgba(139, 92, 246, 0.3)":"none"},children:[_.jsx("div",{style:{display:"flex",flexDirection:e?"column":"row",justifyContent:"space-between",alignItems:e?"flex-start":"center",marginBottom:"1rem",gap:e?"0.75rem":0},children:_.jsxs("div",{style:{flex:1},children:[_.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",flexWrap:"wrap"},children:_.jsxs("h3",{style:{margin:0,fontSize:e?"1.125rem":"1.25rem",color:c?"#ffffff":"#1e293b"},children:[" Sipari #",t.id.slice(0,8)]})}),_.jsxs("p",{style:{margin:"0.5rem 0 0 0",color:c?"#cbd5e1":"#64748b",fontSize:e?"0.75rem":"0.875rem"},children:[" ",g(t.completed_at||t.created_at)]}),t.table_number&&_.jsxs("div",{style:{marginTop:"0.5rem",display:"inline-block",padding:"0.25rem 0.75rem",background:"linear-gradient(135deg, #9333ea 0%, #7c3aed 100%)",color:"white",borderRadius:"6px",fontSize:e?"0.75rem":"0.8125rem",fontWeight:"600",boxShadow:"0 2px 6px rgba(147, 51, 234, 0.4)"},children:[" Masa ",t.table_number]}),_.jsxs("div",{style:{marginTop:"0.75rem"},children:[_.jsx("div",{style:{fontSize:e?"0.75rem":"0.8125rem",color:c?"#cbd5e1":"#1e293b",marginBottom:"0.25rem",fontWeight:"600"},children:"Toplam:"}),_.jsx("div",{style:{fontSize:e?"2rem":"2.5rem",fontWeight:"800",letterSpacing:"0.5px",display:"inline-block",padding:"0.5rem 1rem",borderRadius:"8px",boxShadow:c?"0 4px 12px rgba(0, 0, 0, 0.5), 0 0 20px rgba(139, 92, 246, 0.2)":"0 4px 12px rgba(30, 41, 59, 0.25), 0 0 20px rgba(30, 41, 59, 0.15)",border:c?"2px solid rgba(139, 92, 246, 0.3)":"2px solid rgba(30, 41, 59, 0.3)",background:c?"rgba(15, 23, 42, 0.6)":"linear-gradient(135deg, rgba(30, 41, 59, 0.1) 0%, rgba(15, 23, 42, 0.05) 100%)"},children:_.jsx(Br,{price:parseFloat(t.total_amount),fontSize:e?"2rem":"2.5rem",fontWeight:"800",color:c?"#ffffff":"#1e293b",style:{textShadow:c?"0 2px 8px rgba(139, 92, 246, 0.3)":"0 2px 8px rgba(30, 41, 59, 0.3)"}})})]})]})}),t.order_items&&t.order_items.length>0&&_.jsxs("div",{style:{marginBottom:"1rem",padding:e?"1rem":"1.25rem",background:c?"rgba(30, 41, 59, 0.4)":"#f8fafc",borderRadius:"8px",border:c?"1px solid rgba(139, 92, 246, 0.2)":"1px solid #e2e8f0"},children:[f.map((S,E)=>_.jsxs("div",{style:{padding:E<f.length-1||p?"0.75rem 0":"0.75rem 0 0 0",borderBottom:E<f.length-1||p?"1px solid #cbd5e1":"none"},children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"1rem"},children:[_.jsxs("div",{style:{flex:1},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.25rem"},children:[_.jsxs("span",{style:{fontSize:e?"0.875rem":"0.9375rem",fontWeight:"600",color:c?"#cbd5e1":"#64748b",minWidth:"1.5rem",textAlign:"center"},children:[S.quantity,""]}),_.jsx("span",{style:{fontSize:e?"0.875rem":"0.9375rem",fontWeight:"500",color:c?"#cbd5e1":"#64748b",flex:1},children:S.product_name})]}),_.jsxs("div",{style:{marginLeft:e?"2rem":"2.25rem",fontSize:e?"0.6875rem":"0.75rem",color:"#94a3b8",display:"flex",alignItems:"center",gap:"0.25rem"},children:[_.jsx(Br,{price:parseFloat(S.product_price),fontSize:e?"0.6875rem":"0.75rem",fontWeight:"400",color:"#94a3b8"}),_.jsxs("span",{children:[" ",S.quantity]})]})]}),_.jsx("div",{style:{textAlign:"right",minWidth:"5rem"},children:_.jsx(Br,{price:parseFloat(S.subtotal),fontSize:e?"1rem":"1.125rem",fontWeight:"700",color:c?"#ffffff":"#1e293b",style:{letterSpacing:"0.3px"}})})]}),S.notes&&_.jsx("div",{style:{marginTop:"0.5rem",padding:"0.375rem 0.75rem",background:"#fef3c7",borderRadius:"4px",borderLeft:"3px solid #f59e0b"},children:_.jsxs("p",{style:{margin:0,color:"#92400e",fontSize:e?"0.75rem":"0.8125rem",fontStyle:"italic",fontWeight:"500"},children:[" ",S.notes]})})]},S.id)),p&&_.jsxs(_.Fragment,{children:[!o&&_.jsxs("div",{style:{marginTop:"0.75rem"},children:[_.jsxs("button",{onClick:()=>u(!0),className:"pulse-button",style:{width:"100%",padding:"0.375rem 0.75rem",background:c?"rgba(99, 102, 241, 0.2)":"#c7d2fe",color:c?"#cbd5e1":"#1e293b",border:"2px solid #6366f1",borderRadius:"6px",cursor:"pointer",fontSize:e?"0.75rem":"0.8125rem",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.375rem",transition:"all 0.3s ease",boxShadow:c?"0 1px 3px rgba(99, 102, 241, 0.3)":"0 1px 3px rgba(99, 102, 241, 0.2)",position:"relative",overflow:"hidden",minHeight:"1.875rem",height:"1.875rem"},onMouseEnter:S=>{S.currentTarget.style.background="#6366f1",S.currentTarget.style.color="white",S.currentTarget.style.boxShadow="0 4px 12px rgba(99, 102, 241, 0.4)",S.currentTarget.style.transform="translateY(-1px)";const E=S.currentTarget.querySelector("span:first-child"),k=S.currentTarget.querySelector("span:last-child");E&&(E.style.color="white"),k&&(k.style.color="white")},onMouseLeave:S=>{S.currentTarget.style.background=c?"rgba(99, 102, 241, 0.2)":"#c7d2fe",S.currentTarget.style.color=c?"#cbd5e1":"#1e293b",S.currentTarget.style.boxShadow=c?"0 1px 3px rgba(99, 102, 241, 0.3)":"0 1px 3px rgba(99, 102, 241, 0.2)",S.currentTarget.style.transform="translateY(0)";const E=S.currentTarget.querySelector("span:first-child"),k=S.currentTarget.querySelector("span:last-child");E&&(E.style.color=c?"#cbd5e1":"#1e293b"),k&&(k.style.color=c?"#cbd5e1":"#1e293b")},children:[_.jsx("span",{style:{fontSize:"1.125rem",transition:"all 0.3s ease",display:"inline-block",fontWeight:"bold",animation:"arrowPulse 1.5s ease-in-out infinite",color:"#1e293b"},children:""}),_.jsx("span",{style:{color:"#1e293b",transition:"color 0.3s ease"},children:`+ ${h.length} rn daha`})]}),_.jsx("style",{children:`
                    @keyframes arrowPulse {
                      0%, 100% {
                        opacity: 1;
                        transform: translateY(0) scale(1);
                      }
                      50% {
                        opacity: 0.6;
                        transform: translateY(4px) scale(1.1);
                      }
                    }
                    .pulse-button {
                      animation: backgroundPulse 2s ease-in-out infinite;
                    }
                    @keyframes backgroundPulse {
                      0%, 100% {
                        background-color: #c7d2fe;
                        border-color: #6366f1;
                      }
                      50% {
                        background-color: #a5b4fc;
                        border-color: #818cf8;
                        box-shadow: 0 2px 8px rgba(99, 102, 241, 0.3);
                      }
                    }
                  `})]}),o&&p&&_.jsxs("div",{style:{marginTop:"0.75rem",paddingTop:"0.75rem",borderTop:"2px solid #e2e8f0",animation:"slideDown 0.3s ease"},children:[h.map((S,E)=>_.jsxs("div",{style:{padding:E<h.length-1?"0.75rem 0":"0.75rem 0 0 0",borderBottom:E<h.length-1?"1px solid #cbd5e1":"none"},children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"1rem"},children:[_.jsxs("div",{style:{flex:1},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.25rem"},children:[_.jsxs("span",{style:{fontSize:e?"0.875rem":"0.9375rem",fontWeight:"600",color:"#64748b",minWidth:"1.5rem",textAlign:"center"},children:[S.quantity,""]}),_.jsx("span",{style:{fontSize:e?"0.875rem":"0.9375rem",fontWeight:"500",color:"#64748b",flex:1},children:S.product_name})]}),_.jsxs("div",{style:{marginLeft:e?"2rem":"2.25rem",fontSize:e?"0.6875rem":"0.75rem",color:"#94a3b8",display:"flex",alignItems:"center",gap:"0.25rem"},children:[_.jsx(Br,{price:parseFloat(S.product_price),fontSize:e?"0.6875rem":"0.75rem",fontWeight:"400",color:"#94a3b8"}),_.jsxs("span",{children:[" ",S.quantity]})]})]}),_.jsx("div",{style:{textAlign:"right",minWidth:"5rem"},children:_.jsx(Br,{price:parseFloat(S.subtotal),fontSize:e?"1rem":"1.125rem",fontWeight:"700",color:"#1e293b",style:{letterSpacing:"0.3px"}})})]}),S.notes&&_.jsx("div",{style:{marginTop:"0.5rem",padding:"0.375rem 0.75rem",background:"#fef3c7",borderRadius:"4px",borderLeft:"3px solid #f59e0b"},children:_.jsxs("p",{style:{margin:0,color:"#92400e",fontSize:e?"0.75rem":"0.8125rem",fontStyle:"italic",fontWeight:"500"},children:[" ",S.notes]})})]},S.id)),_.jsx("div",{style:{marginTop:"0.75rem",paddingTop:"0.75rem",borderTop:"1px solid #cbd5e1"},children:_.jsxs("button",{onClick:()=>u(!1),style:{width:"100%",padding:"0.375rem 0.75rem",background:"transparent",color:"#6366f1",border:"2px solid #6366f1",borderRadius:"6px",cursor:"pointer",fontSize:e?"0.75rem":"0.8125rem",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.375rem",transition:"all 0.3s ease",minHeight:"1.875rem",height:"1.875rem"},onMouseEnter:S=>{S.currentTarget.style.background="#6366f1",S.currentTarget.style.color="white"},onMouseLeave:S=>{S.currentTarget.style.background="transparent",S.currentTarget.style.color="#6366f1"},children:[_.jsx("span",{style:{fontSize:"0.875rem",transform:"rotate(180deg)",transition:"transform 0.2s ease",display:"inline-block"},children:""}),_.jsx("span",{children:"Daha Az Gster"})]})})]})]})]}),!s&&_.jsx("button",{onClick:()=>i(t.id,t.total_amount),style:{width:"100%",background:"#10b981",color:"white",border:"none",borderRadius:"8px",padding:"0.875rem",fontSize:e?"0.9375rem":"1rem",fontWeight:"600",cursor:"pointer",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",transition:"all 0.2s"},onMouseEnter:S=>{S.currentTarget.style.background="#059669",S.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:S=>{S.currentTarget.style.background="#10b981",S.currentTarget.style.transform="translateY(0)"},children:"deme Yapld"})]})}function Cc({children:t}){const{user:e,loading:n}=$o();return n?_.jsx(Ga,{message:"Ykleniyor..."}):e?t:_.jsx(F4,{to:"/admin",replace:!0})}function hT({slug:t}){return _.jsx(h8,{slug:t})}function pT(){return _.jsx(p_,{basename:"/erzurumkafe",children:_.jsxs($4,{children:[_.jsx(Zs,{path:"/admin",element:_.jsx(g8,{})}),_.jsx(Zs,{path:"/admin/dashboard",element:_.jsx(Cc,{children:_.jsx(y8,{})})}),_.jsx(Zs,{path:"/admin/products",element:_.jsx(Cc,{children:_.jsx(p7,{})})}),_.jsx(Zs,{path:"/admin/categories",element:_.jsx(Cc,{children:_.jsx(a7,{})})}),_.jsx(Zs,{path:"/admin/settings",element:_.jsx(Cc,{children:_.jsx(g7,{})})}),_.jsx(Zs,{path:"/admin/orders",element:_.jsx(Cc,{children:_.jsx(m7,{})})}),_.jsx(Zs,{path:"/admin/payments",element:_.jsx(Cc,{children:_.jsx(fT,{})})}),_.jsx(Zs,{path:"/",element:_.jsx(o8,{})}),_.jsx(Zs,{path:"/:table",element:_.jsx(hT,{slug:"erzurumkafe"})})]})})}function gT(){return _.jsx(m8,{children:_.jsx(c8,{children:_.jsx(a8,{children:_.jsx(pT,{})})})})}r3.createRoot(document.getElementById("root")).render(_.jsx(W.StrictMode,{children:_.jsxs(p8,{children:[_.jsx(gT,{}),_.jsx(W3,{position:"top-right",reverseOrder:!0,toastOptions:{duration:4e3,closeButton:!1,style:{borderRadius:"8px",padding:"12px 16px",fontSize:"14px",fontWeight:"500",maxWidth:"400px",whiteSpace:"pre-line",position:"relative"}},containerStyle:{position:"fixed",top:"20px",right:"20px",zIndex:9999}})]})}));export{Rn as _,mT as c,Vx as g};
