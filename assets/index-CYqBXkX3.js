(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();var RT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xp={exports:{}},Ad={};var R2;function vx(){if(R2)return Ad;R2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,s){var u=null;if(s!==void 0&&(u=""+s),o.key!==void 0&&(u=""+o.key),"key"in o){s={};for(var d in o)d!=="key"&&(s[d]=o[d])}else s=o;return o=s.ref,{$$typeof:t,type:a,key:u,ref:o!==void 0?o:null,props:s}}return Ad.Fragment=e,Ad.jsx=n,Ad.jsxs=n,Ad}var j2;function bx(){return j2||(j2=1,xp.exports=vx()),xp.exports}var _=bx(),_p={exports:{}},Gt={};var O2;function wx(){if(O2)return Gt;O2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),S=Symbol.iterator;function y(Y){return Y===null||typeof Y!="object"?null:(Y=S&&Y[S]||Y["@@iterator"],typeof Y=="function"?Y:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,N={};function L(Y,C,U){this.props=Y,this.context=C,this.refs=N,this.updater=U||T}L.prototype.isReactComponent={},L.prototype.setState=function(Y,C){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,C,"setState")},L.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function I(){}I.prototype=L.prototype;function D(Y,C,U){this.props=Y,this.context=C,this.refs=N,this.updater=U||T}var $=D.prototype=new I;$.constructor=D,E($,L.prototype),$.isPureReactComponent=!0;var ce=Array.isArray;function he(){}var le={H:null,A:null,T:null,S:null},W=Object.prototype.hasOwnProperty;function P(Y,C,U){var Z=U.ref;return{$$typeof:t,type:Y,key:C,ref:Z!==void 0?Z:null,props:U}}function oe(Y,C){return P(Y.type,C,Y.props)}function M(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===t}function X(Y){var C={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(U){return C[U]})}var ae=/\/+/g;function J(Y,C){return typeof Y=="object"&&Y!==null&&Y.key!=null?X(""+Y.key):C.toString(36)}function pe(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(he,he):(Y.status="pending",Y.then(function(C){Y.status==="pending"&&(Y.status="fulfilled",Y.value=C)},function(C){Y.status==="pending"&&(Y.status="rejected",Y.reason=C)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function F(Y,C,U,Z,V){var ee=typeof Y;(ee==="undefined"||ee==="boolean")&&(Y=null);var de=!1;if(Y===null)de=!0;else switch(ee){case"bigint":case"string":case"number":de=!0;break;case"object":switch(Y.$$typeof){case t:case e:de=!0;break;case g:return de=Y._init,F(de(Y._payload),C,U,Z,V)}}if(de)return V=V(Y),de=Z===""?"."+J(Y,0):Z,ce(V)?(U="",de!=null&&(U=de.replace(ae,"$&/")+"/"),F(V,C,U,"",function(Ne){return Ne})):V!=null&&(M(V)&&(V=oe(V,U+(V.key==null||Y&&Y.key===V.key?"":(""+V.key).replace(ae,"$&/")+"/")+de)),C.push(V)),1;de=0;var _e=Z===""?".":Z+":";if(ce(Y))for(var xe=0;xe<Y.length;xe++)Z=Y[xe],ee=_e+J(Z,xe),de+=F(Z,C,U,ee,V);else if(xe=y(Y),typeof xe=="function")for(Y=xe.call(Y),xe=0;!(Z=Y.next()).done;)Z=Z.value,ee=_e+J(Z,xe++),de+=F(Z,C,U,ee,V);else if(ee==="object"){if(typeof Y.then=="function")return F(pe(Y),C,U,Z,V);throw C=String(Y),Error("Objects are not valid as a React child (found: "+(C==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":C)+"). If you meant to render a collection of children, use an array instead.")}return de}function se(Y,C,U){if(Y==null)return Y;var Z=[],V=0;return F(Y,Z,"","",function(ee){return C.call(U,ee,V++)}),Z}function ue(Y){if(Y._status===-1){var C=Y._result;C=C(),C.then(function(U){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=U)},function(U){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=U)}),Y._status===-1&&(Y._status=0,Y._result=C)}if(Y._status===1)return Y._result.default;throw Y._result}var be=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var C=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(C))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)},Oe={map:se,forEach:function(Y,C,U){se(Y,function(){C.apply(this,arguments)},U)},count:function(Y){var C=0;return se(Y,function(){C++}),C},toArray:function(Y){return se(Y,function(C){return C})||[]},only:function(Y){if(!M(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}};return Gt.Activity=w,Gt.Children=Oe,Gt.Component=L,Gt.Fragment=n,Gt.Profiler=o,Gt.PureComponent=D,Gt.StrictMode=a,Gt.Suspense=f,Gt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=le,Gt.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return le.H.useMemoCache(Y)}},Gt.cache=function(Y){return function(){return Y.apply(null,arguments)}},Gt.cacheSignal=function(){return null},Gt.cloneElement=function(Y,C,U){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var Z=E({},Y.props),V=Y.key;if(C!=null)for(ee in C.key!==void 0&&(V=""+C.key),C)!W.call(C,ee)||ee==="key"||ee==="__self"||ee==="__source"||ee==="ref"&&C.ref===void 0||(Z[ee]=C[ee]);var ee=arguments.length-2;if(ee===1)Z.children=U;else if(1<ee){for(var de=Array(ee),_e=0;_e<ee;_e++)de[_e]=arguments[_e+2];Z.children=de}return P(Y.type,V,Z)},Gt.createContext=function(Y){return Y={$$typeof:u,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:s,_context:Y},Y},Gt.createElement=function(Y,C,U){var Z,V={},ee=null;if(C!=null)for(Z in C.key!==void 0&&(ee=""+C.key),C)W.call(C,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(V[Z]=C[Z]);var de=arguments.length-2;if(de===1)V.children=U;else if(1<de){for(var _e=Array(de),xe=0;xe<de;xe++)_e[xe]=arguments[xe+2];V.children=_e}if(Y&&Y.defaultProps)for(Z in de=Y.defaultProps,de)V[Z]===void 0&&(V[Z]=de[Z]);return P(Y,ee,V)},Gt.createRef=function(){return{current:null}},Gt.forwardRef=function(Y){return{$$typeof:d,render:Y}},Gt.isValidElement=M,Gt.lazy=function(Y){return{$$typeof:g,_payload:{_status:-1,_result:Y},_init:ue}},Gt.memo=function(Y,C){return{$$typeof:h,type:Y,compare:C===void 0?null:C}},Gt.startTransition=function(Y){var C=le.T,U={};le.T=U;try{var Z=Y(),V=le.S;V!==null&&V(U,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(he,be)}catch(ee){be(ee)}finally{C!==null&&U.types!==null&&(C.types=U.types),le.T=C}},Gt.unstable_useCacheRefresh=function(){return le.H.useCacheRefresh()},Gt.use=function(Y){return le.H.use(Y)},Gt.useActionState=function(Y,C,U){return le.H.useActionState(Y,C,U)},Gt.useCallback=function(Y,C){return le.H.useCallback(Y,C)},Gt.useContext=function(Y){return le.H.useContext(Y)},Gt.useDebugValue=function(){},Gt.useDeferredValue=function(Y,C){return le.H.useDeferredValue(Y,C)},Gt.useEffect=function(Y,C){return le.H.useEffect(Y,C)},Gt.useEffectEvent=function(Y){return le.H.useEffectEvent(Y)},Gt.useId=function(){return le.H.useId()},Gt.useImperativeHandle=function(Y,C,U){return le.H.useImperativeHandle(Y,C,U)},Gt.useInsertionEffect=function(Y,C){return le.H.useInsertionEffect(Y,C)},Gt.useLayoutEffect=function(Y,C){return le.H.useLayoutEffect(Y,C)},Gt.useMemo=function(Y,C){return le.H.useMemo(Y,C)},Gt.useOptimistic=function(Y,C){return le.H.useOptimistic(Y,C)},Gt.useReducer=function(Y,C,U){return le.H.useReducer(Y,C,U)},Gt.useRef=function(Y){return le.H.useRef(Y)},Gt.useState=function(Y){return le.H.useState(Y)},Gt.useSyncExternalStore=function(Y,C,U){return le.H.useSyncExternalStore(Y,C,U)},Gt.useTransition=function(){return le.H.useTransition()},Gt.version="19.2.3",Gt}var D2;function Fg(){return D2||(D2=1,_p.exports=wx()),_p.exports}var j=Fg();const fr=yx(j);var Sp={exports:{}},Ed={},Ap={exports:{}},Ep={};var z2;function xx(){return z2||(z2=1,(function(t){function e(F,se){var ue=F.length;F.push(se);e:for(;0<ue;){var be=ue-1>>>1,Oe=F[be];if(0<o(Oe,se))F[be]=se,F[ue]=Oe,ue=be;else break e}}function n(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var se=F[0],ue=F.pop();if(ue!==se){F[0]=ue;e:for(var be=0,Oe=F.length,Y=Oe>>>1;be<Y;){var C=2*(be+1)-1,U=F[C],Z=C+1,V=F[Z];if(0>o(U,ue))Z<Oe&&0>o(V,U)?(F[be]=V,F[Z]=ue,be=Z):(F[be]=U,F[C]=ue,be=C);else if(Z<Oe&&0>o(V,ue))F[be]=V,F[Z]=ue,be=Z;else break e}}return se}function o(F,se){var ue=F.sortIndex-se.sortIndex;return ue!==0?ue:F.id-se.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var f=[],h=[],g=1,w=null,S=3,y=!1,T=!1,E=!1,N=!1,L=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function $(F){for(var se=n(h);se!==null;){if(se.callback===null)a(h);else if(se.startTime<=F)a(h),se.sortIndex=se.expirationTime,e(f,se);else break;se=n(h)}}function ce(F){if(E=!1,$(F),!T)if(n(f)!==null)T=!0,he||(he=!0,X());else{var se=n(h);se!==null&&pe(ce,se.startTime-F)}}var he=!1,le=-1,W=5,P=-1;function oe(){return N?!0:!(t.unstable_now()-P<W)}function M(){if(N=!1,he){var F=t.unstable_now();P=F;var se=!0;try{e:{T=!1,E&&(E=!1,I(le),le=-1),y=!0;var ue=S;try{t:{for($(F),w=n(f);w!==null&&!(w.expirationTime>F&&oe());){var be=w.callback;if(typeof be=="function"){w.callback=null,S=w.priorityLevel;var Oe=be(w.expirationTime<=F);if(F=t.unstable_now(),typeof Oe=="function"){w.callback=Oe,$(F),se=!0;break t}w===n(f)&&a(f),$(F)}else a(f);w=n(f)}if(w!==null)se=!0;else{var Y=n(h);Y!==null&&pe(ce,Y.startTime-F),se=!1}}break e}finally{w=null,S=ue,y=!1}se=void 0}}finally{se?X():he=!1}}}var X;if(typeof D=="function")X=function(){D(M)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,J=ae.port2;ae.port1.onmessage=M,X=function(){J.postMessage(null)}}else X=function(){L(M,0)};function pe(F,se){le=L(function(){F(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(F){switch(S){case 1:case 2:case 3:var se=3;break;default:se=S}var ue=S;S=se;try{return F()}finally{S=ue}},t.unstable_requestPaint=function(){N=!0},t.unstable_runWithPriority=function(F,se){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ue=S;S=F;try{return se()}finally{S=ue}},t.unstable_scheduleCallback=function(F,se,ue){var be=t.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?be+ue:be):ue=be,F){case 1:var Oe=-1;break;case 2:Oe=250;break;case 5:Oe=1073741823;break;case 4:Oe=1e4;break;default:Oe=5e3}return Oe=ue+Oe,F={id:g++,callback:se,priorityLevel:F,startTime:ue,expirationTime:Oe,sortIndex:-1},ue>be?(F.sortIndex=ue,e(h,F),n(f)===null&&F===n(h)&&(E?(I(le),le=-1):E=!0,pe(ce,ue-be))):(F.sortIndex=Oe,e(f,F),T||y||(T=!0,he||(he=!0,X()))),F},t.unstable_shouldYield=oe,t.unstable_wrapCallback=function(F){var se=S;return function(){var ue=S;S=se;try{return F.apply(this,arguments)}finally{S=ue}}}})(Ep)),Ep}var B2;function _x(){return B2||(B2=1,Ap.exports=xx()),Ap.exports}var Tp={exports:{}},_i={};var I2;function Sx(){if(I2)return _i;I2=1;var t=Fg();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function s(f,h,g){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:f,containerInfo:h,implementation:g}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return _i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,_i.createPortal=function(f,h){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(f,h,null,g)},_i.flushSync=function(f){var h=u.T,g=a.p;try{if(u.T=null,a.p=2,f)return f()}finally{u.T=h,a.p=g,a.d.f()}},_i.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,a.d.C(f,h))},_i.prefetchDNS=function(f){typeof f=="string"&&a.d.D(f)},_i.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var g=h.as,w=d(g,h.crossOrigin),S=typeof h.integrity=="string"?h.integrity:void 0,y=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;g==="style"?a.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:w,integrity:S,fetchPriority:y}):g==="script"&&a.d.X(f,{crossOrigin:w,integrity:S,fetchPriority:y,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},_i.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var g=d(h.as,h.crossOrigin);a.d.M(f,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&a.d.M(f)},_i.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var g=h.as,w=d(g,h.crossOrigin);a.d.L(f,g,{crossOrigin:w,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},_i.preloadModule=function(f,h){if(typeof f=="string")if(h){var g=d(h.as,h.crossOrigin);a.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else a.d.m(f)},_i.requestFormReset=function(f){a.d.r(f)},_i.unstable_batchedUpdates=function(f,h){return f(h)},_i.useFormState=function(f,h,g){return u.H.useFormState(f,h,g)},_i.useFormStatus=function(){return u.H.useHostTransitionStatus()},_i.version="19.2.3",_i}var M2;function Wy(){if(M2)return Tp.exports;M2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Tp.exports=Sx(),Tp.exports}var P2;function Ax(){if(P2)return Ed;P2=1;var t=_x(),e=Fg(),n=Wy();function a(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function s(r){var i=r,l=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(l=i.return),r=i.return;while(r)}return i.tag===3?l:null}function u(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function d(r){if(r.tag===31){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function f(r){if(s(r)!==r)throw Error(a(188))}function h(r){var i=r.alternate;if(!i){if(i=s(r),i===null)throw Error(a(188));return i!==r?null:r}for(var l=r,c=i;;){var m=l.return;if(m===null)break;var b=m.alternate;if(b===null){if(c=m.return,c!==null){l=c;continue}break}if(m.child===b.child){for(b=m.child;b;){if(b===l)return f(m),r;if(b===c)return f(m),i;b=b.sibling}throw Error(a(188))}if(l.return!==c.return)l=m,c=b;else{for(var R=!1,G=m.child;G;){if(G===l){R=!0,l=m,c=b;break}if(G===c){R=!0,c=m,l=b;break}G=G.sibling}if(!R){for(G=b.child;G;){if(G===l){R=!0,l=b,c=m;break}if(G===c){R=!0,c=b,l=m;break}G=G.sibling}if(!R)throw Error(a(189))}}if(l.alternate!==c)throw Error(a(190))}if(l.tag!==3)throw Error(a(188));return l.stateNode.current===l?r:i}function g(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=g(r),i!==null)return i;r=r.sibling}return null}var w=Object.assign,S=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),D=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),le=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),oe=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function X(r){return r===null||typeof r!="object"?null:(r=M&&r[M]||r["@@iterator"],typeof r=="function"?r:null)}var ae=Symbol.for("react.client.reference");function J(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===ae?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case E:return"Fragment";case L:return"Profiler";case N:return"StrictMode";case ce:return"Suspense";case he:return"SuspenseList";case P:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case T:return"Portal";case D:return r.displayName||"Context";case I:return(r._context.displayName||"Context")+".Consumer";case $:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case le:return i=r.displayName||null,i!==null?i:J(r.type)||"Memo";case W:i=r._payload,r=r._init;try{return J(r(i))}catch{}}return null}var pe=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},be=[],Oe=-1;function Y(r){return{current:r}}function C(r){0>Oe||(r.current=be[Oe],be[Oe]=null,Oe--)}function U(r,i){Oe++,be[Oe]=r.current,r.current=i}var Z=Y(null),V=Y(null),ee=Y(null),de=Y(null);function _e(r,i){switch(U(ee,i),U(V,r),U(Z,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?e2(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=e2(i),r=t2(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}C(Z),U(Z,r)}function xe(){C(Z),C(V),C(ee)}function Ne(r){r.memoizedState!==null&&U(de,r);var i=Z.current,l=t2(i,r.type);i!==l&&(U(V,r),U(Z,l))}function We(r){V.current===r&&(C(Z),C(V)),de.current===r&&(C(de),wd._currentValue=ue)}var Xe,Ee;function ke(r){if(Xe===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);Xe=i&&i[1]||"",Ee=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xe+r+Ee}var O=!1;function De(r,i){if(!r||O)return"";O=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var Ve=function(){throw Error()};if(Object.defineProperty(Ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ve,[])}catch(Be){var ze=Be}Reflect.construct(r,[],Ve)}else{try{Ve.call()}catch(Be){ze=Be}r.call(Ve.prototype)}}else{try{throw Error()}catch(Be){ze=Be}(Ve=r())&&typeof Ve.catch=="function"&&Ve.catch(function(){})}}catch(Be){if(Be&&ze&&typeof Be.stack=="string")return[Be.stack,ze.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=c.DetermineComponentFrameRoot(),R=b[0],G=b[1];if(R&&G){var fe=R.split(`
`),je=G.split(`
`);for(m=c=0;c<fe.length&&!fe[c].includes("DetermineComponentFrameRoot");)c++;for(;m<je.length&&!je[m].includes("DetermineComponentFrameRoot");)m++;if(c===fe.length||m===je.length)for(c=fe.length-1,m=je.length-1;1<=c&&0<=m&&fe[c]!==je[m];)m--;for(;1<=c&&0<=m;c--,m--)if(fe[c]!==je[m]){if(c!==1||m!==1)do if(c--,m--,0>m||fe[c]!==je[m]){var qe=`
`+fe[c].replace(" at new "," at ");return r.displayName&&qe.includes("<anonymous>")&&(qe=qe.replace("<anonymous>",r.displayName)),qe}while(1<=c&&0<=m);break}}}finally{O=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?ke(l):""}function Ue(r,i){switch(r.tag){case 26:case 27:case 5:return ke(r.type);case 16:return ke("Lazy");case 13:return r.child!==i&&i!==null?ke("Suspense Fallback"):ke("Suspense");case 19:return ke("SuspenseList");case 0:case 15:return De(r.type,!1);case 11:return De(r.type.render,!1);case 1:return De(r.type,!0);case 31:return ke("Activity");default:return""}}function $e(r){try{var i="",l=null;do i+=Ue(r,l),l=r,r=r.return;while(r);return i}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var te=Object.prototype.hasOwnProperty,ve=t.unstable_scheduleCallback,Ie=t.unstable_cancelCallback,Ye=t.unstable_shouldYield,et=t.unstable_requestPaint,st=t.unstable_now,ft=t.unstable_getCurrentPriorityLevel,tt=t.unstable_ImmediatePriority,ht=t.unstable_UserBlockingPriority,Qe=t.unstable_NormalPriority,Ze=t.unstable_LowPriority,vt=t.unstable_IdlePriority,rt=t.log,lt=t.unstable_setDisableYieldValue,ut=null,it=null;function at(r){if(typeof rt=="function"&&lt(r),it&&typeof it.setStrictMode=="function")try{it.setStrictMode(ut,r)}catch{}}var It=Math.clz32?Math.clz32:yt,dt=Math.log,Jt=Math.LN2;function yt(r){return r>>>=0,r===0?32:31-(dt(r)/Jt|0)|0}var Ot=256,vn=262144,kt=4194304;function pt(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function qt(r,i,l){var c=r.pendingLanes;if(c===0)return 0;var m=0,b=r.suspendedLanes,R=r.pingedLanes;r=r.warmLanes;var G=c&134217727;return G!==0?(c=G&~b,c!==0?m=pt(c):(R&=G,R!==0?m=pt(R):l||(l=G&~r,l!==0&&(m=pt(l))))):(G=c&~b,G!==0?m=pt(G):R!==0?m=pt(R):l||(l=c&~r,l!==0&&(m=pt(l)))),m===0?0:i!==0&&i!==m&&(i&b)===0&&(b=m&-m,l=i&-i,b>=l||b===32&&(l&4194048)!==0)?i:m}function hr(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function bn(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qn(){var r=kt;return kt<<=1,(kt&62914560)===0&&(kt=4194304),r}function $n(r){for(var i=[],l=0;31>l;l++)i.push(r);return i}function At(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Sn(r,i,l,c,m,b){var R=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var G=r.entanglements,fe=r.expirationTimes,je=r.hiddenUpdates;for(l=R&~l;0<l;){var qe=31-It(l),Ve=1<<qe;G[qe]=0,fe[qe]=-1;var ze=je[qe];if(ze!==null)for(je[qe]=null,qe=0;qe<ze.length;qe++){var Be=ze[qe];Be!==null&&(Be.lane&=-536870913)}l&=~Ve}c!==0&&Ar(r,c,0),b!==0&&m===0&&r.tag!==0&&(r.suspendedLanes|=b&~(R&~i))}function Ar(r,i,l){r.pendingLanes|=i,r.suspendedLanes&=~i;var c=31-It(i);r.entangledLanes|=i,r.entanglements[c]=r.entanglements[c]|1073741824|l&261930}function Fn(r,i){var l=r.entangledLanes|=i;for(r=r.entanglements;l;){var c=31-It(l),m=1<<c;m&i|r[c]&i&&(r[c]|=i),l&=~m}}function Wn(r,i){var l=i&-i;return l=(l&42)!==0?1:gn(l),(l&(r.suspendedLanes|i))!==0?0:l}function gn(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Ln(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function An(){var r=se.p;return r!==0?r:(r=window.event,r===void 0?32:A2(r.type))}function vi(r,i){var l=se.p;try{return se.p=r,i()}finally{se.p=l}}var Er=Math.random().toString(36).slice(2),En="__reactFiber$"+Er,Gn="__reactProps$"+Er,Qr="__reactContainer$"+Er,ki="__reactEvents$"+Er,Ii="__reactListeners$"+Er,to="__reactHandles$"+Er,na="__reactResources$"+Er,ra="__reactMarker$"+Er;function Ls(r){delete r[En],delete r[Gn],delete r[ki],delete r[Ii],delete r[to]}function ia(r){var i=r[En];if(i)return i;for(var l=r.parentNode;l;){if(i=l[Qr]||l[En]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(r=l2(r);r!==null;){if(l=r[En])return l;r=l2(r)}return i}r=l,l=r.parentNode}return null}function aa(r){if(r=r[En]||r[Qr]){var i=r.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return r}return null}function no(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(a(33))}function Ta(r){var i=r[na];return i||(i=r[na]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ar(r){r[ra]=!0}var Rl=new Set,Ni={};function sa(r,i){Ya(r,i),Ya(r+"Capture",i)}function Ya(r,i){for(Ni[r]=i,r=0;r<i.length;r++)Rl.add(i[r])}var jl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ol={},Dl={};function Su(r){return te.call(Dl,r)?!0:te.call(Ol,r)?!1:jl.test(r)?Dl[r]=!0:(Ol[r]=!0,!1)}function Ci(r,i,l){if(Su(i))if(l===null)r.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+l)}}function Va(r,i,l){if(l===null)r.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+l)}}function oa(r,i,l,c){if(c===null)r.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(i,l,""+c)}}function fn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function zl(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ka(r,i,l){var c=Object.getOwnPropertyDescriptor(r.constructor.prototype,i);if(!r.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,b=c.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return m.call(this)},set:function(R){l=""+R,b.call(this,R)}}),Object.defineProperty(r,i,{enumerable:c.enumerable}),{getValue:function(){return l},setValue:function(R){l=""+R},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Rs(r){if(!r._valueTracker){var i=zl(r)?"checked":"value";r._valueTracker=ka(r,i,""+r[i])}}function Bl(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var l=i.getValue(),c="";return r&&(c=zl(r)?r.checked?"true":"false":r.value),r=c,r!==l?(i.setValue(r),!0):!1}function li(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Tr=/[\n"\\]/g;function pr(r){return r.replace(Tr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Fo(r,i,l,c,m,b,R,G){r.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?r.type=R:r.removeAttribute("type"),i!=null?R==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+fn(i)):r.value!==""+fn(i)&&(r.value=""+fn(i)):R!=="submit"&&R!=="reset"||r.removeAttribute("value"),i!=null?Il(r,R,fn(i)):l!=null?Il(r,R,fn(l)):c!=null&&r.removeAttribute("value"),m==null&&b!=null&&(r.defaultChecked=!!b),m!=null&&(r.checked=m&&typeof m!="function"&&typeof m!="symbol"),G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?r.name=""+fn(G):r.removeAttribute("name")}function Au(r,i,l,c,m,b,R,G){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(r.type=b),i!=null||l!=null){if(!(b!=="submit"&&b!=="reset"||i!=null)){Rs(r);return}l=l!=null?""+fn(l):"",i=i!=null?""+fn(i):l,G||i===r.value||(r.value=i),r.defaultValue=i}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=G?r.checked:!!c,r.defaultChecked=!!c,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(r.name=R),Rs(r)}function Il(r,i,l){i==="number"&&li(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function ui(r,i,l,c){if(r=r.options,i){i={};for(var m=0;m<l.length;m++)i["$"+l[m]]=!0;for(l=0;l<r.length;l++)m=i.hasOwnProperty("$"+r[l].value),r[l].selected!==m&&(r[l].selected=m),m&&c&&(r[l].defaultSelected=!0)}else{for(l=""+fn(l),i=null,m=0;m<r.length;m++){if(r[m].value===l){r[m].selected=!0,c&&(r[m].defaultSelected=!0);return}i!==null||r[m].disabled||(i=r[m])}i!==null&&(i.selected=!0)}}function Ml(r,i,l){if(i!=null&&(i=""+fn(i),i!==r.value&&(r.value=i),l==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=l!=null?""+fn(l):""}function Pl(r,i,l,c){if(i==null){if(c!=null){if(l!=null)throw Error(a(92));if(pe(c)){if(1<c.length)throw Error(a(93));c=c[0]}l=c}l==null&&(l=""),i=l}l=fn(i),r.defaultValue=l,c=r.textContent,c===l&&c!==""&&c!==null&&(r.value=c),Rs(r)}function la(r,i){if(i){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=i;return}}r.textContent=i}var ro=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Eu(r,i,l){var c=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":c?r.setProperty(i,l):typeof l!="number"||l===0||ro.has(i)?i==="float"?r.cssFloat=l:r[i]=(""+l).trim():r[i]=l+"px"}function Tu(r,i,l){if(i!=null&&typeof i!="object")throw Error(a(62));if(r=r.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var m in i)c=i[m],i.hasOwnProperty(m)&&l[m]!==c&&Eu(r,m,c)}else for(var b in i)i.hasOwnProperty(b)&&Eu(r,b,i[b])}function Ul(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ql=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ku=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function bi(r){return ku.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function ua(){}var Ka=null;function io(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var js=null,Dt=null;function Nu(r){var i=aa(r);if(i&&(r=i.stateNode)){var l=r[Gn]||null;e:switch(r=i.stateNode,i.type){case"input":if(Fo(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+pr(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var c=l[i];if(c!==r&&c.form===r.form){var m=c[Gn]||null;if(!m)throw Error(a(90));Fo(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(i=0;i<l.length;i++)c=l[i],c.form===r.form&&Bl(c)}break e;case"textarea":Ml(r,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&ui(r,!!l.multiple,i,!1)}}}var Fl=!1;function Cu(r,i,l){if(Fl)return r(i,l);Fl=!0;try{var c=r(i);return c}finally{if(Fl=!1,(js!==null||Dt!==null)&&(Rf(),js&&(i=js,r=Dt,Dt=js=null,Nu(i),r)))for(i=0;i<r.length;i++)Nu(r[i])}}function Li(r,i){var l=r.stateNode;if(l===null)return null;var c=l[Gn]||null;if(c===null)return null;l=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(a(231,i,typeof l));return l}var qr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hl=!1;if(qr)try{var ao={};Object.defineProperty(ao,"passive",{get:function(){Hl=!0}}),window.addEventListener("test",ao,ao),window.removeEventListener("test",ao,ao)}catch{Hl=!1}var Ri=null,so=null,Na=null;function Lu(){if(Na)return Na;var r,i=so,l=i.length,c,m="value"in Ri?Ri.value:Ri.textContent,b=m.length;for(r=0;r<l&&i[r]===m[r];r++);var R=l-r;for(c=1;c<=R&&i[l-c]===m[b-c];c++);return Na=m.slice(r,1<c?1-c:void 0)}function Mi(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Ho(){return!0}function $o(){return!1}function Or(r){function i(l,c,m,b,R){this._reactName=l,this._targetInst=m,this.type=c,this.nativeEvent=b,this.target=R,this.currentTarget=null;for(var G in r)r.hasOwnProperty(G)&&(l=r[G],this[G]=l?l(b):b[G]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Ho:$o,this.isPropagationStopped=$o,this}return w(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ho)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ho)},persist:function(){},isPersistent:Ho}),i}var Ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pi=Or(Ca),Xa=w({},Ca,{view:0,detail:0}),Wo=Or(Xa),oo,Ja,Za,lo=w({},Xa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mt,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Za&&(Za&&r.type==="mousemove"?(oo=r.screenX-Za.screenX,Ja=r.screenY-Za.screenY):Ja=oo=0,Za=r),oo)},movementY:function(r){return"movementY"in r?r.movementY:Ja}}),$l=Or(lo),Qa=w({},lo,{dataTransfer:0}),es=Or(Qa),Ru=w({},Xa,{relatedTarget:0}),ts=Or(Ru),ju=w({},Ca,{animationName:0,elapsedTime:0,pseudoElement:0}),x=Or(ju),z=w({},Ca,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),ie=Or(z),ge=w({},Ca,{data:0}),Se=Or(ge),Fe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Je={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Et(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=wt[r])?!!i[r]:!1}function Mt(){return Et}var $t=w({},Xa,{key:function(r){if(r.key){var i=Fe[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Mi(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Je[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mt,charCode:function(r){return r.type==="keypress"?Mi(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Mi(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),an=Or($t),Yn=w({},lo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sr=Or(Yn),Rn=w({},Xa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mt}),kr=Or(Rn),gr=w({},Ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fr=Or(gr),ns=w({},lo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),ca=Or(ns),rs=w({},Ca,{newState:0,oldState:0}),Wl=Or(rs),Go=[9,13,27,32],La=qr&&"CompositionEvent"in window,da=null;qr&&"documentMode"in document&&(da=document.documentMode);var uo=qr&&"TextEvent"in window&&!da,is=qr&&(!La||da&&8<da&&11>=da),Dr=" ",Os=!1;function Ds(r,i){switch(r){case"keyup":return Go.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yo(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ra=!1;function ci(r,i){switch(r){case"compositionend":return Yo(i);case"keypress":return i.which!==32?null:(Os=!0,Dr);case"textInput":return r=i.data,r===Dr&&Os?null:r;default:return null}}function as(r,i){if(Ra)return r==="compositionend"||!La&&Ds(r,i)?(r=Lu(),Na=so=Ri=null,Ra=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return is&&i.locale!=="ko"?null:i.data;default:return null}}var Vo={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gl(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!Vo[r.type]:i==="textarea"}function ji(r,i,l,c){js?Dt?Dt.push(c):Dt=[c]:js=c,i=Mf(i,"onChange"),0<i.length&&(l=new Pi("onChange","change",null,l,c),r.push({event:l,listeners:i}))}var fa=null,ss=null;function Yl(r){V1(r,0)}function ha(r){var i=no(r);if(Bl(i))return r}function zs(r,i){if(r==="change")return i}var wi=!1;if(qr){var di;if(qr){var ja="oninput"in document;if(!ja){var Oa=document.createElement("div");Oa.setAttribute("oninput","return;"),ja=typeof Oa.oninput=="function"}di=ja}else di=!1;wi=di&&(!document.documentMode||9<document.documentMode)}function os(){fa&&(fa.detachEvent("onpropertychange",Ko),ss=fa=null)}function Ko(r){if(r.propertyName==="value"&&ha(ss)){var i=[];ji(i,ss,r,io(r)),Cu(Yl,i)}}function Xo(r,i,l){r==="focusin"?(os(),fa=i,ss=l,fa.attachEvent("onpropertychange",Ko)):r==="focusout"&&os()}function or(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ha(ss)}function Ou(r,i){if(r==="click")return ha(i)}function Da(r,i){if(r==="input"||r==="change")return ha(i)}function za(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Hr=typeof Object.is=="function"?Object.is:za;function ls(r,i){if(Hr(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var l=Object.keys(r),c=Object.keys(i);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var m=l[c];if(!te.call(i,m)||!Hr(r[m],i[m]))return!1}return!0}function Jo(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Zo(r,i){var l=Jo(r);r=0;for(var c;l;){if(l.nodeType===3){if(c=r+l.textContent.length,r<=i&&c>=i)return{node:l,offset:i-r};r=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Jo(l)}}function us(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?us(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function cs(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=li(r.document);i instanceof r.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)r=i.contentWindow;else break;i=li(r.document)}return i}function Ba(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var co=qr&&"documentMode"in document&&11>=document.documentMode,Oi=null,ds=null,ei=null,Ui=!1;function hn(r,i,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ui||Oi==null||Oi!==li(c)||(c=Oi,"selectionStart"in c&&Ba(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ei&&ls(ei,c)||(ei=c,c=Mf(ds,"onSelect"),0<c.length&&(i=new Pi("onSelect","select",null,i,l),r.push({event:i,listeners:c}),i.target=Oi)))}function sn(r,i){var l={};return l[r.toLowerCase()]=i.toLowerCase(),l["Webkit"+r]="webkit"+i,l["Moz"+r]="moz"+i,l}var jn={animationend:sn("Animation","AnimationEnd"),animationiteration:sn("Animation","AnimationIteration"),animationstart:sn("Animation","AnimationStart"),transitionrun:sn("Transition","TransitionRun"),transitionstart:sn("Transition","TransitionStart"),transitioncancel:sn("Transition","TransitionCancel"),transitionend:sn("Transition","TransitionEnd")},lr={},Ia={};qr&&(Ia=document.createElement("div").style,"AnimationEvent"in window||(delete jn.animationend.animation,delete jn.animationiteration.animation,delete jn.animationstart.animation),"TransitionEvent"in window||delete jn.transitionend.transition);function pa(r){if(lr[r])return lr[r];if(!jn[r])return r;var i=jn[r],l;for(l in i)if(i.hasOwnProperty(l)&&l in Ia)return lr[r]=i[l];return r}var fo=pa("animationend"),Vl=pa("animationiteration"),Hc=pa("animationstart"),of=pa("transitionrun"),lf=pa("transitionstart"),uf=pa("transitioncancel"),$c=pa("transitionend"),Wc=new Map,ho="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ho.push("scrollEnd");function qi(r,i){Wc.set(r,i),sa(i,[r])}var Kl=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},Di=[],po=0,Du=0;function Xl(){for(var r=po,i=Du=po=0;i<r;){var l=Di[i];Di[i++]=null;var c=Di[i];Di[i++]=null;var m=Di[i];Di[i++]=null;var b=Di[i];if(Di[i++]=null,c!==null&&m!==null){var R=c.pending;R===null?m.next=m:(m.next=R.next,R.next=m),c.pending=m}b!==0&&Zl(l,m,b)}}function Jl(r,i,l,c){Di[po++]=r,Di[po++]=i,Di[po++]=l,Di[po++]=c,Du|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function zu(r,i,l,c){return Jl(r,i,l,c),ti(r)}function fs(r,i){return Jl(r,null,null,i),ti(r)}function Zl(r,i,l){r.lanes|=l;var c=r.alternate;c!==null&&(c.lanes|=l);for(var m=!1,b=r.return;b!==null;)b.childLanes|=l,c=b.alternate,c!==null&&(c.childLanes|=l),b.tag===22&&(r=b.stateNode,r===null||r._visibility&1||(m=!0)),r=b,b=b.return;return r.tag===3?(b=r.stateNode,m&&i!==null&&(m=31-It(l),r=b.hiddenUpdates,c=r[m],c===null?r[m]=[i]:c.push(i),i.lane=l|536870912),b):null}function ti(r){if(50<hd)throw hd=0,W0=null,Error(a(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var $r={};function Bu(r,i,l,c){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ni(r,i,l,c){return new Bu(r,i,l,c)}function Iu(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Fi(r,i){var l=r.alternate;return l===null?(l=ni(r.tag,i,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=i,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&65011712,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,i=r.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function Ql(r,i){r.flags&=65011714;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,i=l.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function Qo(r,i,l,c,m,b){var R=0;if(c=r,typeof r=="function")Iu(r)&&(R=1);else if(typeof r=="string")R=ax(r,l,Z.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case P:return r=ni(31,l,i,m),r.elementType=P,r.lanes=b,r;case E:return Bs(l.children,m,b,i);case N:R=8,m|=24;break;case L:return r=ni(12,l,i,m|2),r.elementType=L,r.lanes=b,r;case ce:return r=ni(13,l,i,m),r.elementType=ce,r.lanes=b,r;case he:return r=ni(19,l,i,m),r.elementType=he,r.lanes=b,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case D:R=10;break e;case I:R=9;break e;case $:R=11;break e;case le:R=14;break e;case W:R=16,c=null;break e}R=29,l=Error(a(130,r===null?"null":typeof r,"")),c=null}return i=ni(R,l,i,m),i.elementType=r,i.type=c,i.lanes=b,i}function Bs(r,i,l,c){return r=ni(7,r,c,i),r.lanes=l,r}function eu(r,i,l){return r=ni(6,r,null,i),r.lanes=l,r}function Mu(r){var i=ni(18,null,null,0);return i.stateNode=r,i}function el(r,i,l){return i=ni(4,r.children!==null?r.children:[],r.key,i),i.lanes=l,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var Pu=new WeakMap;function Hi(r,i){if(typeof r=="object"&&r!==null){var l=Pu.get(r);return l!==void 0?l:(i={value:r,source:i,stack:$e(i)},Pu.set(r,i),i)}return{value:r,source:i,stack:$e(i)}}var tl=[],go=0,Uu=null,tu=0,$i=[],Wi=0,Is=null,Gi=1,Yi="";function zi(r,i){tl[go++]=tu,tl[go++]=Uu,Uu=r,tu=i}function cf(r,i,l){$i[Wi++]=Gi,$i[Wi++]=Yi,$i[Wi++]=Is,Is=r;var c=Gi;r=Yi;var m=32-It(c)-1;c&=~(1<<m),l+=1;var b=32-It(i)+m;if(30<b){var R=m-m%5;b=(c&(1<<R)-1).toString(32),c>>=R,m-=R,Gi=1<<32-It(i)+m|l<<m|c,Yi=b+r}else Gi=1<<b|l<<m|c,Yi=r}function Gc(r){r.return!==null&&(zi(r,1),cf(r,1,0))}function qu(r){for(;r===Uu;)Uu=tl[--go],tl[go]=null,tu=tl[--go],tl[go]=null;for(;r===Is;)Is=$i[--Wi],$i[Wi]=null,Yi=$i[--Wi],$i[Wi]=null,Gi=$i[--Wi],$i[Wi]=null}function df(r,i){$i[Wi++]=Gi,$i[Wi++]=Yi,$i[Wi++]=Is,Gi=i.id,Yi=i.overflow,Is=r}var Wr=null,In=null,Qt=!1,fi=null,Qn=!1,ga=Error(a(519));function Ms(r){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw nl(Hi(i,r)),ga}function Yc(r){var i=r.stateNode,l=r.type,c=r.memoizedProps;switch(i[En]=r,i[Gn]=c,l){case"dialog":tn("cancel",i),tn("close",i);break;case"iframe":case"object":case"embed":tn("load",i);break;case"video":case"audio":for(l=0;l<gd.length;l++)tn(gd[l],i);break;case"source":tn("error",i);break;case"img":case"image":case"link":tn("error",i),tn("load",i);break;case"details":tn("toggle",i);break;case"input":tn("invalid",i),Au(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":tn("invalid",i);break;case"textarea":tn("invalid",i),Pl(i,c.value,c.defaultValue,c.children)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||c.suppressHydrationWarning===!0||Z1(i.textContent,l)?(c.popover!=null&&(tn("beforetoggle",i),tn("toggle",i)),c.onScroll!=null&&tn("scroll",i),c.onScrollEnd!=null&&tn("scrollend",i),c.onClick!=null&&(i.onclick=ua),i=!0):i=!1,i||Ms(r,!0)}function hs(r){for(Wr=r.return;Wr;)switch(Wr.tag){case 5:case 31:case 13:Qn=!1;return;case 27:case 3:Qn=!0;return;default:Wr=Wr.return}}function Gr(r){if(r!==Wr)return!1;if(!Qt)return hs(r),Qt=!0,!1;var i=r.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||sp(r.type,r.memoizedProps)),l=!l),l&&In&&Ms(r),hs(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(317));In=o2(r)}else if(i===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(317));In=o2(r)}else i===27?(i=In,ml(r.type)?(r=dp,dp=null,In=r):In=i):In=Wr?qa(r.stateNode.nextSibling):null;return!0}function mo(){In=Wr=null,Qt=!1}function Vc(){var r=fi;return r!==null&&(Qi===null?Qi=r:Qi.push.apply(Qi,r),fi=null),r}function nl(r){fi===null?fi=[r]:fi.push(r)}var Fu=Y(null),Ps=null,Ma=null;function Us(r,i,l){U(Fu,i._currentValue),i._currentValue=l}function Vi(r){r._currentValue=Fu.current,C(Fu)}function rl(r,i,l){for(;r!==null;){var c=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),r===l)break;r=r.return}}function yo(r,i,l,c){var m=r.child;for(m!==null&&(m.return=r);m!==null;){var b=m.dependencies;if(b!==null){var R=m.child;b=b.firstContext;e:for(;b!==null;){var G=b;b=m;for(var fe=0;fe<i.length;fe++)if(G.context===i[fe]){b.lanes|=l,G=b.alternate,G!==null&&(G.lanes|=l),rl(b.return,l,r),c||(R=null);break e}b=G.next}}else if(m.tag===18){if(R=m.return,R===null)throw Error(a(341));R.lanes|=l,b=R.alternate,b!==null&&(b.lanes|=l),rl(R,l,r),R=null}else R=m.child;if(R!==null)R.return=m;else for(R=m;R!==null;){if(R===r){R=null;break}if(m=R.sibling,m!==null){m.return=R.return,R=m;break}R=R.return}m=R}}function qs(r,i,l,c){r=null;for(var m=i,b=!1;m!==null;){if(!b){if((m.flags&524288)!==0)b=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var R=m.alternate;if(R===null)throw Error(a(387));if(R=R.memoizedProps,R!==null){var G=m.type;Hr(m.pendingProps.value,R.value)||(r!==null?r.push(G):r=[G])}}else if(m===de.current){if(R=m.alternate,R===null)throw Error(a(387));R.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(r!==null?r.push(wd):r=[wd])}m=m.return}r!==null&&yo(i,r,l,c),i.flags|=262144}function Hu(r){for(r=r.firstContext;r!==null;){if(!Hr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Fs(r){Ps=r,Ma=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Yr(r){return ff(Ps,r)}function $u(r,i){return Ps===null&&Fs(r),ff(r,i)}function ff(r,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},Ma===null){if(r===null)throw Error(a(308));Ma=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else Ma=Ma.next=i;return l}var c0=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(l,c){r.push(c)}};this.abort=function(){i.aborted=!0,r.forEach(function(l){return l()})}},d0=t.unstable_scheduleCallback,f0=t.unstable_NormalPriority,ur={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function il(){return{controller:new c0,data:new Map,refCount:0}}function nu(r){r.refCount--,r.refCount===0&&d0(f0,function(){r.controller.abort()})}var ru=null,Wu=0,p=0,v=null;function A(r,i){if(ru===null){var l=ru=[];Wu=0,p=J0(),v={status:"pending",value:void 0,then:function(c){l.push(c)}}}return Wu++,i.then(k,k),i}function k(){if(--Wu===0&&ru!==null){v!==null&&(v.status="fulfilled");var r=ru;ru=null,p=0,v=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function B(r,i){var l=[],c={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return r.then(function(){c.status="fulfilled",c.value=i;for(var m=0;m<l.length;m++)(0,l[m])(i)},function(m){for(c.status="rejected",c.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),c}var q=F.S;F.S=function(r,i){_1=st(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&A(r,i),q!==null&&q(r,i)};var H=Y(null);function K(){var r=H.current;return r!==null?r:Pn.pooledCache}function Q(r,i){i===null?U(H,H.current):U(H,i.pool)}function re(){var r=K();return r===null?null:{parent:ur._currentValue,pool:r}}var me=Error(a(460)),Le=Error(a(474)),ne=Error(a(542)),we={then:function(){}};function Te(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Pe(r,i,l){switch(l=r[l],l===void 0?r.push(i):l!==i&&(i.then(ua,ua),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,nt(r),r;default:if(typeof i.status=="string")i.then(ua,ua);else{if(r=Pn,r!==null&&100<r.shellSuspendCounter)throw Error(a(482));r=i,r.status="pending",r.then(function(c){if(i.status==="pending"){var m=i;m.status="fulfilled",m.value=c}},function(c){if(i.status==="pending"){var m=i;m.status="rejected",m.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,nt(r),r}throw Me=i,me}}function Ce(r){try{var i=r._init;return i(r._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Me=l,me):l}}var Me=null;function He(){if(Me===null)throw Error(a(459));var r=Me;return Me=null,r}function nt(r){if(r===me||r===ne)throw Error(a(483))}var Ke=null,_t=0;function gt(r){var i=_t;return _t+=1,Ke===null&&(Ke=[]),Pe(Ke,r,i)}function Ft(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function bt(r,i){throw i.$$typeof===S?Error(a(525)):(r=Object.prototype.toString.call(i),Error(a(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function Zt(r){function i(Ae,ye){if(r){var Re=Ae.deletions;Re===null?(Ae.deletions=[ye],Ae.flags|=16):Re.push(ye)}}function l(Ae,ye){if(!r)return null;for(;ye!==null;)i(Ae,ye),ye=ye.sibling;return null}function c(Ae){for(var ye=new Map;Ae!==null;)Ae.key!==null?ye.set(Ae.key,Ae):ye.set(Ae.index,Ae),Ae=Ae.sibling;return ye}function m(Ae,ye){return Ae=Fi(Ae,ye),Ae.index=0,Ae.sibling=null,Ae}function b(Ae,ye,Re){return Ae.index=Re,r?(Re=Ae.alternate,Re!==null?(Re=Re.index,Re<ye?(Ae.flags|=67108866,ye):Re):(Ae.flags|=67108866,ye)):(Ae.flags|=1048576,ye)}function R(Ae){return r&&Ae.alternate===null&&(Ae.flags|=67108866),Ae}function G(Ae,ye,Re,Ge){return ye===null||ye.tag!==6?(ye=eu(Re,Ae.mode,Ge),ye.return=Ae,ye):(ye=m(ye,Re),ye.return=Ae,ye)}function fe(Ae,ye,Re,Ge){var jt=Re.type;return jt===E?qe(Ae,ye,Re.props.children,Ge,Re.key):ye!==null&&(ye.elementType===jt||typeof jt=="object"&&jt!==null&&jt.$$typeof===W&&Ce(jt)===ye.type)?(ye=m(ye,Re.props),Ft(ye,Re),ye.return=Ae,ye):(ye=Qo(Re.type,Re.key,Re.props,null,Ae.mode,Ge),Ft(ye,Re),ye.return=Ae,ye)}function je(Ae,ye,Re,Ge){return ye===null||ye.tag!==4||ye.stateNode.containerInfo!==Re.containerInfo||ye.stateNode.implementation!==Re.implementation?(ye=el(Re,Ae.mode,Ge),ye.return=Ae,ye):(ye=m(ye,Re.children||[]),ye.return=Ae,ye)}function qe(Ae,ye,Re,Ge,jt){return ye===null||ye.tag!==7?(ye=Bs(Re,Ae.mode,Ge,jt),ye.return=Ae,ye):(ye=m(ye,Re),ye.return=Ae,ye)}function Ve(Ae,ye,Re){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return ye=eu(""+ye,Ae.mode,Re),ye.return=Ae,ye;if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case y:return Re=Qo(ye.type,ye.key,ye.props,null,Ae.mode,Re),Ft(Re,ye),Re.return=Ae,Re;case T:return ye=el(ye,Ae.mode,Re),ye.return=Ae,ye;case W:return ye=Ce(ye),Ve(Ae,ye,Re)}if(pe(ye)||X(ye))return ye=Bs(ye,Ae.mode,Re,null),ye.return=Ae,ye;if(typeof ye.then=="function")return Ve(Ae,gt(ye),Re);if(ye.$$typeof===D)return Ve(Ae,$u(Ae,ye),Re);bt(Ae,ye)}return null}function ze(Ae,ye,Re,Ge){var jt=ye!==null?ye.key:null;if(typeof Re=="string"&&Re!==""||typeof Re=="number"||typeof Re=="bigint")return jt!==null?null:G(Ae,ye,""+Re,Ge);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case y:return Re.key===jt?fe(Ae,ye,Re,Ge):null;case T:return Re.key===jt?je(Ae,ye,Re,Ge):null;case W:return Re=Ce(Re),ze(Ae,ye,Re,Ge)}if(pe(Re)||X(Re))return jt!==null?null:qe(Ae,ye,Re,Ge,null);if(typeof Re.then=="function")return ze(Ae,ye,gt(Re),Ge);if(Re.$$typeof===D)return ze(Ae,ye,$u(Ae,Re),Ge);bt(Ae,Re)}return null}function Be(Ae,ye,Re,Ge,jt){if(typeof Ge=="string"&&Ge!==""||typeof Ge=="number"||typeof Ge=="bigint")return Ae=Ae.get(Re)||null,G(ye,Ae,""+Ge,jt);if(typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case y:return Ae=Ae.get(Ge.key===null?Re:Ge.key)||null,fe(ye,Ae,Ge,jt);case T:return Ae=Ae.get(Ge.key===null?Re:Ge.key)||null,je(ye,Ae,Ge,jt);case W:return Ge=Ce(Ge),Be(Ae,ye,Re,Ge,jt)}if(pe(Ge)||X(Ge))return Ae=Ae.get(Re)||null,qe(ye,Ae,Ge,jt,null);if(typeof Ge.then=="function")return Be(Ae,ye,Re,gt(Ge),jt);if(Ge.$$typeof===D)return Be(Ae,ye,Re,$u(ye,Ge),jt);bt(ye,Ge)}return null}function xt(Ae,ye,Re,Ge){for(var jt=null,mn=null,Tt=ye,Kt=ye=0,rn=null;Tt!==null&&Kt<Re.length;Kt++){Tt.index>Kt?(rn=Tt,Tt=null):rn=Tt.sibling;var yn=ze(Ae,Tt,Re[Kt],Ge);if(yn===null){Tt===null&&(Tt=rn);break}r&&Tt&&yn.alternate===null&&i(Ae,Tt),ye=b(yn,ye,Kt),mn===null?jt=yn:mn.sibling=yn,mn=yn,Tt=rn}if(Kt===Re.length)return l(Ae,Tt),Qt&&zi(Ae,Kt),jt;if(Tt===null){for(;Kt<Re.length;Kt++)Tt=Ve(Ae,Re[Kt],Ge),Tt!==null&&(ye=b(Tt,ye,Kt),mn===null?jt=Tt:mn.sibling=Tt,mn=Tt);return Qt&&zi(Ae,Kt),jt}for(Tt=c(Tt);Kt<Re.length;Kt++)rn=Be(Tt,Ae,Kt,Re[Kt],Ge),rn!==null&&(r&&rn.alternate!==null&&Tt.delete(rn.key===null?Kt:rn.key),ye=b(rn,ye,Kt),mn===null?jt=rn:mn.sibling=rn,mn=rn);return r&&Tt.forEach(function(xl){return i(Ae,xl)}),Qt&&zi(Ae,Kt),jt}function Bt(Ae,ye,Re,Ge){if(Re==null)throw Error(a(151));for(var jt=null,mn=null,Tt=ye,Kt=ye=0,rn=null,yn=Re.next();Tt!==null&&!yn.done;Kt++,yn=Re.next()){Tt.index>Kt?(rn=Tt,Tt=null):rn=Tt.sibling;var xl=ze(Ae,Tt,yn.value,Ge);if(xl===null){Tt===null&&(Tt=rn);break}r&&Tt&&xl.alternate===null&&i(Ae,Tt),ye=b(xl,ye,Kt),mn===null?jt=xl:mn.sibling=xl,mn=xl,Tt=rn}if(yn.done)return l(Ae,Tt),Qt&&zi(Ae,Kt),jt;if(Tt===null){for(;!yn.done;Kt++,yn=Re.next())yn=Ve(Ae,yn.value,Ge),yn!==null&&(ye=b(yn,ye,Kt),mn===null?jt=yn:mn.sibling=yn,mn=yn);return Qt&&zi(Ae,Kt),jt}for(Tt=c(Tt);!yn.done;Kt++,yn=Re.next())yn=Be(Tt,Ae,Kt,yn.value,Ge),yn!==null&&(r&&yn.alternate!==null&&Tt.delete(yn.key===null?Kt:yn.key),ye=b(yn,ye,Kt),mn===null?jt=yn:mn.sibling=yn,mn=yn);return r&&Tt.forEach(function(mx){return i(Ae,mx)}),Qt&&zi(Ae,Kt),jt}function Bn(Ae,ye,Re,Ge){if(typeof Re=="object"&&Re!==null&&Re.type===E&&Re.key===null&&(Re=Re.props.children),typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case y:e:{for(var jt=Re.key;ye!==null;){if(ye.key===jt){if(jt=Re.type,jt===E){if(ye.tag===7){l(Ae,ye.sibling),Ge=m(ye,Re.props.children),Ge.return=Ae,Ae=Ge;break e}}else if(ye.elementType===jt||typeof jt=="object"&&jt!==null&&jt.$$typeof===W&&Ce(jt)===ye.type){l(Ae,ye.sibling),Ge=m(ye,Re.props),Ft(Ge,Re),Ge.return=Ae,Ae=Ge;break e}l(Ae,ye);break}else i(Ae,ye);ye=ye.sibling}Re.type===E?(Ge=Bs(Re.props.children,Ae.mode,Ge,Re.key),Ge.return=Ae,Ae=Ge):(Ge=Qo(Re.type,Re.key,Re.props,null,Ae.mode,Ge),Ft(Ge,Re),Ge.return=Ae,Ae=Ge)}return R(Ae);case T:e:{for(jt=Re.key;ye!==null;){if(ye.key===jt)if(ye.tag===4&&ye.stateNode.containerInfo===Re.containerInfo&&ye.stateNode.implementation===Re.implementation){l(Ae,ye.sibling),Ge=m(ye,Re.children||[]),Ge.return=Ae,Ae=Ge;break e}else{l(Ae,ye);break}else i(Ae,ye);ye=ye.sibling}Ge=el(Re,Ae.mode,Ge),Ge.return=Ae,Ae=Ge}return R(Ae);case W:return Re=Ce(Re),Bn(Ae,ye,Re,Ge)}if(pe(Re))return xt(Ae,ye,Re,Ge);if(X(Re)){if(jt=X(Re),typeof jt!="function")throw Error(a(150));return Re=jt.call(Re),Bt(Ae,ye,Re,Ge)}if(typeof Re.then=="function")return Bn(Ae,ye,gt(Re),Ge);if(Re.$$typeof===D)return Bn(Ae,ye,$u(Ae,Re),Ge);bt(Ae,Re)}return typeof Re=="string"&&Re!==""||typeof Re=="number"||typeof Re=="bigint"?(Re=""+Re,ye!==null&&ye.tag===6?(l(Ae,ye.sibling),Ge=m(ye,Re),Ge.return=Ae,Ae=Ge):(l(Ae,ye),Ge=eu(Re,Ae.mode,Ge),Ge.return=Ae,Ae=Ge),R(Ae)):l(Ae,ye)}return function(Ae,ye,Re,Ge){try{_t=0;var jt=Bn(Ae,ye,Re,Ge);return Ke=null,jt}catch(Tt){if(Tt===me||Tt===ne)throw Tt;var mn=ni(29,Tt,null,Ae.mode);return mn.lanes=Ge,mn.return=Ae,mn}}}var Mn=Zt(!0),Wt=Zt(!1),mt=!1;function ot(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vn(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function zt(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Vt(r,i,l){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(_n&2)!==0){var m=c.pending;return m===null?i.next=i:(i.next=m.next,m.next=i),c.pending=i,i=ti(r),Zl(r,null,l),i}return Jl(r,c,i,l),ti(r)}function wn(r,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var c=i.lanes;c&=r.pendingLanes,l|=c,i.lanes=l,Fn(r,l)}}function Nr(r,i){var l=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var m=null,b=null;if(l=l.firstBaseUpdate,l!==null){do{var R={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};b===null?m=b=R:b=b.next=R,l=l.next}while(l!==null);b===null?m=b=i:b=b.next=i}else m=b=i;l={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:b,shared:c.shared,callbacks:c.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=i:r.next=i,l.lastBaseUpdate=i}var Vr=!1;function On(){if(Vr){var r=v;if(r!==null)throw r}}function mr(r,i,l,c){Vr=!1;var m=r.updateQueue;mt=!1;var b=m.firstBaseUpdate,R=m.lastBaseUpdate,G=m.shared.pending;if(G!==null){m.shared.pending=null;var fe=G,je=fe.next;fe.next=null,R===null?b=je:R.next=je,R=fe;var qe=r.alternate;qe!==null&&(qe=qe.updateQueue,G=qe.lastBaseUpdate,G!==R&&(G===null?qe.firstBaseUpdate=je:G.next=je,qe.lastBaseUpdate=fe))}if(b!==null){var Ve=m.baseState;R=0,qe=je=fe=null,G=b;do{var ze=G.lane&-536870913,Be=ze!==G.lane;if(Be?(nn&ze)===ze:(c&ze)===ze){ze!==0&&ze===p&&(Vr=!0),qe!==null&&(qe=qe.next={lane:0,tag:G.tag,payload:G.payload,callback:null,next:null});e:{var xt=r,Bt=G;ze=i;var Bn=l;switch(Bt.tag){case 1:if(xt=Bt.payload,typeof xt=="function"){Ve=xt.call(Bn,Ve,ze);break e}Ve=xt;break e;case 3:xt.flags=xt.flags&-65537|128;case 0:if(xt=Bt.payload,ze=typeof xt=="function"?xt.call(Bn,Ve,ze):xt,ze==null)break e;Ve=w({},Ve,ze);break e;case 2:mt=!0}}ze=G.callback,ze!==null&&(r.flags|=64,Be&&(r.flags|=8192),Be=m.callbacks,Be===null?m.callbacks=[ze]:Be.push(ze))}else Be={lane:ze,tag:G.tag,payload:G.payload,callback:G.callback,next:null},qe===null?(je=qe=Be,fe=Ve):qe=qe.next=Be,R|=ze;if(G=G.next,G===null){if(G=m.shared.pending,G===null)break;Be=G,G=Be.next,Be.next=null,m.lastBaseUpdate=Be,m.shared.pending=null}}while(!0);qe===null&&(fe=Ve),m.baseState=fe,m.firstBaseUpdate=je,m.lastBaseUpdate=qe,b===null&&(m.shared.lanes=0),dl|=R,r.lanes=R,r.memoizedState=Ve}}function ri(r,i){if(typeof r!="function")throw Error(a(191,r));r.call(i)}function yr(r,i){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)ri(l[r],i)}var Xt=Y(null),un=Y(0);function Kn(r,i){r=ko,U(un,r),U(Xt,i),ko=r|i.baseLanes}function pn(){U(un,ko),U(Xt,Xt.current)}function Cr(){ko=un.current,C(Xt),C(un)}var Xn=Y(null),cn=null;function cr(r){var i=r.alternate;U(on,on.current&1),U(Xn,r),cn===null&&(i===null||Xt.current!==null||i.memoizedState!==null)&&(cn=r)}function xn(r){U(on,on.current),U(Xn,r),cn===null&&(cn=r)}function vr(r){r.tag===22?(U(on,on.current),U(Xn,r),cn===null&&(cn=r)):br()}function br(){U(on,on.current),U(Xn,Xn.current)}function Tn(r){C(Xn),cn===r&&(cn=null),C(on)}var on=Y(0);function ii(r){for(var i=r;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||up(l)||cp(l)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var er=0,Lt=null,Rt=null,dn=null,xi=!1,Ki=!1,hi=!1,wr=0,Hs=0,$s=null,Gu=0;function Dn(){throw Error(a(321))}function Kc(r,i){if(i===null)return!1;for(var l=0;l<i.length&&l<r.length;l++)if(!Hr(r[l],i[l]))return!1;return!0}function Xc(r,i,l,c,m,b){return er=b,Lt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,F.H=r===null||r.memoizedState===null?Om:w0,hi=!1,b=l(c,m),hi=!1,Ki&&(b=ps(i,l,c,m)),Yu(r),b}function Yu(r){F.H=id;var i=Rt!==null&&Rt.next!==null;if(er=0,dn=Rt=Lt=null,xi=!1,Hs=0,$s=null,i)throw Error(a(300));r===null||Br||(r=r.dependencies,r!==null&&Hu(r)&&(Br=!0))}function ps(r,i,l,c){Lt=r;var m=0;do{if(Ki&&($s=null),Hs=0,Ki=!1,25<=m)throw Error(a(301));if(m+=1,dn=Rt=null,r.updateQueue!=null){var b=r.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}F.H=Dm,b=i(l,c)}while(Ki);return b}function h0(){var r=F.H,i=r.useState()[0];return i=typeof i.then=="function"?Ws(i):i,r=r.useState()[0],(Rt!==null?Rt.memoizedState:null)!==r&&(Lt.flags|=1024),i}function Jc(){var r=wr!==0;return wr=0,r}function Zc(r,i,l){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~l}function Vu(r){if(xi){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}xi=!1}er=0,dn=Rt=Lt=null,Ki=!1,Hs=wr=0,$s=null}function zr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dn===null?Lt.memoizedState=dn=r:dn=dn.next=r,dn}function tr(){if(Rt===null){var r=Lt.alternate;r=r!==null?r.memoizedState:null}else r=Rt.next;var i=dn===null?Lt.memoizedState:dn.next;if(i!==null)dn=i,Rt=r;else{if(r===null)throw Lt.alternate===null?Error(a(467)):Error(a(310));Rt=r,r={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},dn===null?Lt.memoizedState=dn=r:dn=dn.next=r}return dn}function iu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ws(r){var i=Hs;return Hs+=1,$s===null&&($s=[]),r=Pe($s,r,i),i=Lt,(dn===null?i.memoizedState:dn.next)===null&&(i=i.alternate,F.H=i===null||i.memoizedState===null?Om:w0),r}function al(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Ws(r);if(r.$$typeof===D)return Yr(r)}throw Error(a(438,String(r)))}function vo(r){var i=null,l=Lt.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var c=Lt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(m){return m.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=iu(),Lt.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(r),c=0;c<r;c++)l[c]=oe;return i.index++,l}function Pa(r,i){return typeof i=="function"?i(r):i}function Ku(r){var i=tr();return sl(i,Rt,r)}function sl(r,i,l){var c=r.queue;if(c===null)throw Error(a(311));c.lastRenderedReducer=l;var m=r.baseQueue,b=c.pending;if(b!==null){if(m!==null){var R=m.next;m.next=b.next,b.next=R}i.baseQueue=m=b,c.pending=null}if(b=r.baseState,m===null)r.memoizedState=b;else{i=m.next;var G=R=null,fe=null,je=i,qe=!1;do{var Ve=je.lane&-536870913;if(Ve!==je.lane?(nn&Ve)===Ve:(er&Ve)===Ve){var ze=je.revertLane;if(ze===0)fe!==null&&(fe=fe.next={lane:0,revertLane:0,gesture:null,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null}),Ve===p&&(qe=!0);else if((er&ze)===ze){je=je.next,ze===p&&(qe=!0);continue}else Ve={lane:0,revertLane:je.revertLane,gesture:null,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null},fe===null?(G=fe=Ve,R=b):fe=fe.next=Ve,Lt.lanes|=ze,dl|=ze;Ve=je.action,hi&&l(b,Ve),b=je.hasEagerState?je.eagerState:l(b,Ve)}else ze={lane:Ve,revertLane:je.revertLane,gesture:je.gesture,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null},fe===null?(G=fe=ze,R=b):fe=fe.next=ze,Lt.lanes|=Ve,dl|=Ve;je=je.next}while(je!==null&&je!==i);if(fe===null?R=b:fe.next=G,!Hr(b,r.memoizedState)&&(Br=!0,qe&&(l=v,l!==null)))throw l;r.memoizedState=b,r.baseState=R,r.baseQueue=fe,c.lastRenderedState=b}return m===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function Xu(r){var i=tr(),l=i.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var c=l.dispatch,m=l.pending,b=i.memoizedState;if(m!==null){l.pending=null;var R=m=m.next;do b=r(b,R.action),R=R.next;while(R!==m);Hr(b,i.memoizedState)||(Br=!0),i.memoizedState=b,i.baseQueue===null&&(i.baseState=b),l.lastRenderedState=b}return[b,c]}function Ju(r,i,l){var c=Lt,m=tr(),b=Qt;if(b){if(l===void 0)throw Error(a(407));l=l()}else l=i();var R=!Hr((Rt||m).memoizedState,l);if(R&&(m.memoizedState=l,Br=!0),m=m.queue,p0(ed.bind(null,c,m,r),[r]),m.getSnapshot!==i||R||dn!==null&&dn.memoizedState.tag&1){if(c.flags|=2048,wo(9,{destroy:void 0},Qc.bind(null,c,m,l,i),null),Pn===null)throw Error(a(349));b||(er&127)!==0||gs(c,i,l)}return l}function gs(r,i,l){r.flags|=16384,r={getSnapshot:i,value:l},i=Lt.updateQueue,i===null?(i=iu(),Lt.updateQueue=i,i.stores=[r]):(l=i.stores,l===null?i.stores=[r]:l.push(r))}function Qc(r,i,l,c){i.value=l,i.getSnapshot=c,hf(i)&&td(r)}function ed(r,i,l){return l(function(){hf(i)&&td(r)})}function hf(r){var i=r.getSnapshot;r=r.value;try{var l=i();return!Hr(r,l)}catch{return!0}}function td(r){var i=fs(r,2);i!==null&&ea(i,r,2)}function Gs(r){var i=zr();if(typeof r=="function"){var l=r;if(r=l(),hi){at(!0);try{l()}finally{at(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pa,lastRenderedState:r},i}function pf(r,i,l,c){return r.baseState=l,sl(r,Rt,typeof c=="function"?c:Pa)}function gf(r,i,l,c,m){if(bf(r))throw Error(a(485));if(r=i.action,r!==null){var b={payload:m,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){b.listeners.push(R)}};F.T!==null?l(!0):b.isTransition=!1,c(b),l=i.pending,l===null?(b.next=i.pending=b,mf(i,b)):(b.next=l.next,i.pending=l.next=b)}}function mf(r,i){var l=i.action,c=i.payload,m=r.state;if(i.isTransition){var b=F.T,R={};F.T=R;try{var G=l(m,c),fe=F.S;fe!==null&&fe(R,G),nd(r,i,G)}catch(je){bo(r,i,je)}finally{b!==null&&R.types!==null&&(b.types=R.types),F.T=b}}else try{b=l(m,c),nd(r,i,b)}catch(je){bo(r,i,je)}}function nd(r,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){yf(r,i,c)},function(c){return bo(r,i,c)}):yf(r,i,l)}function yf(r,i,l){i.status="fulfilled",i.value=l,Zu(i),r.state=l,i=r.pending,i!==null&&(l=i.next,l===i?r.pending=null:(l=l.next,i.next=l,mf(r,l)))}function bo(r,i,l){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=l,Zu(i),i=i.next;while(i!==c)}r.action=null}function Zu(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function au(r,i){return i}function Ua(r,i){if(Qt){var l=Pn.formState;if(l!==null){e:{var c=Lt;if(Qt){if(In){t:{for(var m=In,b=Qn;m.nodeType!==8;){if(!b){m=null;break t}if(m=qa(m.nextSibling),m===null){m=null;break t}}b=m.data,m=b==="F!"||b==="F"?m:null}if(m){In=qa(m.nextSibling),c=m.data==="F!";break e}}Ms(c)}c=!1}c&&(i=l[0])}}return l=zr(),l.memoizedState=l.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:au,lastRenderedState:i},l.queue=c,l=Lm.bind(null,Lt,c),c.dispatch=l,c=Gs(!1),b=b0.bind(null,Lt,!1,c.queue),c=zr(),m={state:i,dispatch:null,action:r,pending:null},c.queue=m,l=gf.bind(null,Lt,m,b,l),m.dispatch=l,c.memoizedState=r,[i,l,!1]}function ms(r){var i=tr();return ys(i,Rt,r)}function ys(r,i,l){if(i=sl(r,i,au)[0],r=Ku(Pa)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=Ws(i)}catch(R){throw R===me?ne:R}else c=i;i=tr();var m=i.queue,b=m.dispatch;return l!==i.memoizedState&&(Lt.flags|=2048,wo(9,{destroy:void 0},Qu.bind(null,m,l),null)),[c,b,r]}function Qu(r,i){r.action=i}function ec(r){var i=tr(),l=Rt;if(l!==null)return ys(i,l,r);tr(),i=i.memoizedState,l=tr();var c=l.queue.dispatch;return l.memoizedState=r,[i,c,!1]}function wo(r,i,l,c){return r={tag:r,create:l,deps:c,inst:i,next:null},i=Lt.updateQueue,i===null&&(i=iu(),Lt.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=r.next=r:(c=l.next,l.next=r,r.next=c,i.lastEffect=r),r}function vf(){return tr().memoizedState}function ol(r,i,l,c){var m=zr();Lt.flags|=r,m.memoizedState=wo(1|i,{destroy:void 0},l,c===void 0?null:c)}function ll(r,i,l,c){var m=tr();c=c===void 0?null:c;var b=m.memoizedState.inst;Rt!==null&&c!==null&&Kc(c,Rt.memoizedState.deps)?m.memoizedState=wo(i,b,l,c):(Lt.flags|=r,m.memoizedState=wo(1|i,b,l,c))}function mm(r,i){ol(8390656,8,r,i)}function p0(r,i){ll(2048,8,r,i)}function cw(r){Lt.flags|=4;var i=Lt.updateQueue;if(i===null)i=iu(),Lt.updateQueue=i,i.events=[r];else{var l=i.events;l===null?i.events=[r]:l.push(r)}}function ym(r){var i=tr().memoizedState;return cw({ref:i,nextImpl:r}),function(){if((_n&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function vm(r,i){return ll(4,2,r,i)}function bm(r,i){return ll(4,4,r,i)}function wm(r,i){if(typeof i=="function"){r=r();var l=i(r);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function xm(r,i,l){l=l!=null?l.concat([r]):null,ll(4,4,wm.bind(null,i,r),l)}function g0(){}function _m(r,i){var l=tr();i=i===void 0?null:i;var c=l.memoizedState;return i!==null&&Kc(i,c[1])?c[0]:(l.memoizedState=[r,i],r)}function Sm(r,i){var l=tr();i=i===void 0?null:i;var c=l.memoizedState;if(i!==null&&Kc(i,c[1]))return c[0];if(c=r(),hi){at(!0);try{r()}finally{at(!1)}}return l.memoizedState=[c,i],c}function m0(r,i,l){return l===void 0||(er&1073741824)!==0&&(nn&261930)===0?r.memoizedState=i:(r.memoizedState=l,r=A1(),Lt.lanes|=r,dl|=r,l)}function Am(r,i,l,c){return Hr(l,i)?l:Xt.current!==null?(r=m0(r,l,c),Hr(r,i)||(Br=!0),r):(er&42)===0||(er&1073741824)!==0&&(nn&261930)===0?(Br=!0,r.memoizedState=l):(r=A1(),Lt.lanes|=r,dl|=r,i)}function Em(r,i,l,c,m){var b=se.p;se.p=b!==0&&8>b?b:8;var R=F.T,G={};F.T=G,b0(r,!1,i,l);try{var fe=m(),je=F.S;if(je!==null&&je(G,fe),fe!==null&&typeof fe=="object"&&typeof fe.then=="function"){var qe=B(fe,c);rd(r,i,qe,va(r))}else rd(r,i,c,va(r))}catch(Ve){rd(r,i,{then:function(){},status:"rejected",reason:Ve},va())}finally{se.p=b,R!==null&&G.types!==null&&(R.types=G.types),F.T=R}}function dw(){}function y0(r,i,l,c){if(r.tag!==5)throw Error(a(476));var m=Tm(r).queue;Em(r,m,i,ue,l===null?dw:function(){return km(r),l(c)})}function Tm(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pa,lastRenderedState:ue},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pa,lastRenderedState:l},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function km(r){var i=Tm(r);i.next===null&&(i=r.alternate.memoizedState),rd(r,i.next.queue,{},va())}function v0(){return Yr(wd)}function Nm(){return tr().memoizedState}function Cm(){return tr().memoizedState}function fw(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var l=va();r=zt(l);var c=Vt(i,r,l);c!==null&&(ea(c,i,l),wn(c,i,l)),i={cache:il()},r.payload=i;return}i=i.return}}function hw(r,i,l){var c=va();l={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},bf(r)?Rm(i,l):(l=zu(r,i,l,c),l!==null&&(ea(l,r,c),jm(l,i,c)))}function Lm(r,i,l){var c=va();rd(r,i,l,c)}function rd(r,i,l,c){var m={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(bf(r))Rm(i,m);else{var b=r.alternate;if(r.lanes===0&&(b===null||b.lanes===0)&&(b=i.lastRenderedReducer,b!==null))try{var R=i.lastRenderedState,G=b(R,l);if(m.hasEagerState=!0,m.eagerState=G,Hr(G,R))return Jl(r,i,m,0),Pn===null&&Xl(),!1}catch{}if(l=zu(r,i,m,c),l!==null)return ea(l,r,c),jm(l,i,c),!0}return!1}function b0(r,i,l,c){if(c={lane:2,revertLane:J0(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},bf(r)){if(i)throw Error(a(479))}else i=zu(r,l,c,2),i!==null&&ea(i,r,2)}function bf(r){var i=r.alternate;return r===Lt||i!==null&&i===Lt}function Rm(r,i){Ki=xi=!0;var l=r.pending;l===null?i.next=i:(i.next=l.next,l.next=i),r.pending=i}function jm(r,i,l){if((l&4194048)!==0){var c=i.lanes;c&=r.pendingLanes,l|=c,i.lanes=l,Fn(r,l)}}var id={readContext:Yr,use:al,useCallback:Dn,useContext:Dn,useEffect:Dn,useImperativeHandle:Dn,useLayoutEffect:Dn,useInsertionEffect:Dn,useMemo:Dn,useReducer:Dn,useRef:Dn,useState:Dn,useDebugValue:Dn,useDeferredValue:Dn,useTransition:Dn,useSyncExternalStore:Dn,useId:Dn,useHostTransitionStatus:Dn,useFormState:Dn,useActionState:Dn,useOptimistic:Dn,useMemoCache:Dn,useCacheRefresh:Dn};id.useEffectEvent=Dn;var Om={readContext:Yr,use:al,useCallback:function(r,i){return zr().memoizedState=[r,i===void 0?null:i],r},useContext:Yr,useEffect:mm,useImperativeHandle:function(r,i,l){l=l!=null?l.concat([r]):null,ol(4194308,4,wm.bind(null,i,r),l)},useLayoutEffect:function(r,i){return ol(4194308,4,r,i)},useInsertionEffect:function(r,i){ol(4,2,r,i)},useMemo:function(r,i){var l=zr();i=i===void 0?null:i;var c=r();if(hi){at(!0);try{r()}finally{at(!1)}}return l.memoizedState=[c,i],c},useReducer:function(r,i,l){var c=zr();if(l!==void 0){var m=l(i);if(hi){at(!0);try{l(i)}finally{at(!1)}}}else m=i;return c.memoizedState=c.baseState=m,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:m},c.queue=r,r=r.dispatch=hw.bind(null,Lt,r),[c.memoizedState,r]},useRef:function(r){var i=zr();return r={current:r},i.memoizedState=r},useState:function(r){r=Gs(r);var i=r.queue,l=Lm.bind(null,Lt,i);return i.dispatch=l,[r.memoizedState,l]},useDebugValue:g0,useDeferredValue:function(r,i){var l=zr();return m0(l,r,i)},useTransition:function(){var r=Gs(!1);return r=Em.bind(null,Lt,r.queue,!0,!1),zr().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,l){var c=Lt,m=zr();if(Qt){if(l===void 0)throw Error(a(407));l=l()}else{if(l=i(),Pn===null)throw Error(a(349));(nn&127)!==0||gs(c,i,l)}m.memoizedState=l;var b={value:l,getSnapshot:i};return m.queue=b,mm(ed.bind(null,c,b,r),[r]),c.flags|=2048,wo(9,{destroy:void 0},Qc.bind(null,c,b,l,i),null),l},useId:function(){var r=zr(),i=Pn.identifierPrefix;if(Qt){var l=Yi,c=Gi;l=(c&~(1<<32-It(c)-1)).toString(32)+l,i="_"+i+"R_"+l,l=wr++,0<l&&(i+="H"+l.toString(32)),i+="_"}else l=Gu++,i="_"+i+"r_"+l.toString(32)+"_";return r.memoizedState=i},useHostTransitionStatus:v0,useFormState:Ua,useActionState:Ua,useOptimistic:function(r){var i=zr();i.memoizedState=i.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=b0.bind(null,Lt,!0,l),l.dispatch=i,[r,i]},useMemoCache:vo,useCacheRefresh:function(){return zr().memoizedState=fw.bind(null,Lt)},useEffectEvent:function(r){var i=zr(),l={impl:r};return i.memoizedState=l,function(){if((_n&2)!==0)throw Error(a(440));return l.impl.apply(void 0,arguments)}}},w0={readContext:Yr,use:al,useCallback:_m,useContext:Yr,useEffect:p0,useImperativeHandle:xm,useInsertionEffect:vm,useLayoutEffect:bm,useMemo:Sm,useReducer:Ku,useRef:vf,useState:function(){return Ku(Pa)},useDebugValue:g0,useDeferredValue:function(r,i){var l=tr();return Am(l,Rt.memoizedState,r,i)},useTransition:function(){var r=Ku(Pa)[0],i=tr().memoizedState;return[typeof r=="boolean"?r:Ws(r),i]},useSyncExternalStore:Ju,useId:Nm,useHostTransitionStatus:v0,useFormState:ms,useActionState:ms,useOptimistic:function(r,i){var l=tr();return pf(l,Rt,r,i)},useMemoCache:vo,useCacheRefresh:Cm};w0.useEffectEvent=ym;var Dm={readContext:Yr,use:al,useCallback:_m,useContext:Yr,useEffect:p0,useImperativeHandle:xm,useInsertionEffect:vm,useLayoutEffect:bm,useMemo:Sm,useReducer:Xu,useRef:vf,useState:function(){return Xu(Pa)},useDebugValue:g0,useDeferredValue:function(r,i){var l=tr();return Rt===null?m0(l,r,i):Am(l,Rt.memoizedState,r,i)},useTransition:function(){var r=Xu(Pa)[0],i=tr().memoizedState;return[typeof r=="boolean"?r:Ws(r),i]},useSyncExternalStore:Ju,useId:Nm,useHostTransitionStatus:v0,useFormState:ec,useActionState:ec,useOptimistic:function(r,i){var l=tr();return Rt!==null?pf(l,Rt,r,i):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:vo,useCacheRefresh:Cm};Dm.useEffectEvent=ym;function x0(r,i,l,c){i=r.memoizedState,l=l(c,i),l=l==null?i:w({},i,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var _0={enqueueSetState:function(r,i,l){r=r._reactInternals;var c=va(),m=zt(c);m.payload=i,l!=null&&(m.callback=l),i=Vt(r,m,c),i!==null&&(ea(i,r,c),wn(i,r,c))},enqueueReplaceState:function(r,i,l){r=r._reactInternals;var c=va(),m=zt(c);m.tag=1,m.payload=i,l!=null&&(m.callback=l),i=Vt(r,m,c),i!==null&&(ea(i,r,c),wn(i,r,c))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var l=va(),c=zt(l);c.tag=2,i!=null&&(c.callback=i),i=Vt(r,c,l),i!==null&&(ea(i,r,l),wn(i,r,l))}};function zm(r,i,l,c,m,b,R){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,b,R):i.prototype&&i.prototype.isPureReactComponent?!ls(l,c)||!ls(m,b):!0}function Bm(r,i,l,c){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,c),i.state!==r&&_0.enqueueReplaceState(i,i.state,null)}function su(r,i){var l=i;if("ref"in i){l={};for(var c in i)c!=="ref"&&(l[c]=i[c])}if(r=r.defaultProps){l===i&&(l=w({},l));for(var m in r)l[m]===void 0&&(l[m]=r[m])}return l}function Im(r){Kl(r)}function Mm(r){console.error(r)}function Pm(r){Kl(r)}function wf(r,i){try{var l=r.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function Um(r,i,l){try{var c=r.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function S0(r,i,l){return l=zt(l),l.tag=3,l.payload={element:null},l.callback=function(){wf(r,i)},l}function qm(r){return r=zt(r),r.tag=3,r}function Fm(r,i,l,c){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var b=c.value;r.payload=function(){return m(b)},r.callback=function(){Um(i,l,c)}}var R=l.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(r.callback=function(){Um(i,l,c),typeof m!="function"&&(fl===null?fl=new Set([this]):fl.add(this));var G=c.stack;this.componentDidCatch(c.value,{componentStack:G!==null?G:""})})}function pw(r,i,l,c,m){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=l.alternate,i!==null&&qs(i,l,m,!0),l=Xn.current,l!==null){switch(l.tag){case 31:case 13:return cn===null?jf():l.alternate===null&&xr===0&&(xr=3),l.flags&=-257,l.flags|=65536,l.lanes=m,c===we?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([c]):i.add(c),V0(r,c,m)),!1;case 22:return l.flags|=65536,c===we?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([c]):l.add(c)),V0(r,c,m)),!1}throw Error(a(435,l.tag))}return V0(r,c,m),jf(),!1}if(Qt)return i=Xn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=m,c!==ga&&(r=Error(a(422),{cause:c}),nl(Hi(r,l)))):(c!==ga&&(i=Error(a(423),{cause:c}),nl(Hi(i,l))),r=r.current.alternate,r.flags|=65536,m&=-m,r.lanes|=m,c=Hi(c,l),m=S0(r.stateNode,c,m),Nr(r,m),xr!==4&&(xr=2)),!1;var b=Error(a(520),{cause:c});if(b=Hi(b,l),fd===null?fd=[b]:fd.push(b),xr!==4&&(xr=2),i===null)return!0;c=Hi(c,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,r=m&-m,l.lanes|=r,r=S0(l.stateNode,c,r),Nr(l,r),!1;case 1:if(i=l.type,b=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(fl===null||!fl.has(b))))return l.flags|=65536,m&=-m,l.lanes|=m,m=qm(m),Fm(m,r,l,c),Nr(l,m),!1}l=l.return}while(l!==null);return!1}var A0=Error(a(461)),Br=!1;function pi(r,i,l,c){i.child=r===null?Wt(i,null,l,c):Mn(i,r.child,l,c)}function Hm(r,i,l,c,m){l=l.render;var b=i.ref;if("ref"in c){var R={};for(var G in c)G!=="ref"&&(R[G]=c[G])}else R=c;return Fs(i),c=Xc(r,i,l,R,b,m),G=Jc(),r!==null&&!Br?(Zc(r,i,m),xo(r,i,m)):(Qt&&G&&Gc(i),i.flags|=1,pi(r,i,c,m),i.child)}function $m(r,i,l,c,m){if(r===null){var b=l.type;return typeof b=="function"&&!Iu(b)&&b.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=b,Wm(r,i,b,c,m)):(r=Qo(l.type,null,c,i,i.mode,m),r.ref=i.ref,r.return=i,i.child=r)}if(b=r.child,!j0(r,m)){var R=b.memoizedProps;if(l=l.compare,l=l!==null?l:ls,l(R,c)&&r.ref===i.ref)return xo(r,i,m)}return i.flags|=1,r=Fi(b,c),r.ref=i.ref,r.return=i,i.child=r}function Wm(r,i,l,c,m){if(r!==null){var b=r.memoizedProps;if(ls(b,c)&&r.ref===i.ref)if(Br=!1,i.pendingProps=c=b,j0(r,m))(r.flags&131072)!==0&&(Br=!0);else return i.lanes=r.lanes,xo(r,i,m)}return E0(r,i,l,c,m)}function Gm(r,i,l,c){var m=c.children,b=r!==null?r.memoizedState:null;if(r===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((i.flags&128)!==0){if(b=b!==null?b.baseLanes|l:l,r!==null){for(c=i.child=r.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~b}else c=0,i.child=null;return Ym(r,i,b,l,c)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&Q(i,b!==null?b.cachePool:null),b!==null?Kn(i,b):pn(),vr(i);else return c=i.lanes=536870912,Ym(r,i,b!==null?b.baseLanes|l:l,l,c)}else b!==null?(Q(i,b.cachePool),Kn(i,b),br(),i.memoizedState=null):(r!==null&&Q(i,null),pn(),br());return pi(r,i,m,l),i.child}function ad(r,i){return r!==null&&r.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Ym(r,i,l,c,m){var b=K();return b=b===null?null:{parent:ur._currentValue,pool:b},i.memoizedState={baseLanes:l,cachePool:b},r!==null&&Q(i,null),pn(),vr(i),r!==null&&qs(r,i,c,!0),i.childLanes=m,null}function xf(r,i){return i=Sf({mode:i.mode,children:i.children},r.mode),i.ref=r.ref,r.child=i,i.return=r,i}function Vm(r,i,l){return Mn(i,r.child,null,l),r=xf(i,i.pendingProps),r.flags|=2,Tn(i),i.memoizedState=null,r}function gw(r,i,l){var c=i.pendingProps,m=(i.flags&128)!==0;if(i.flags&=-129,r===null){if(Qt){if(c.mode==="hidden")return r=xf(i,c),i.lanes=536870912,ad(null,r);if(xn(i),(r=In)?(r=s2(r,Qn),r=r!==null&&r.data==="&"?r:null,r!==null&&(i.memoizedState={dehydrated:r,treeContext:Is!==null?{id:Gi,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},l=Mu(r),l.return=i,i.child=l,Wr=i,In=null)):r=null,r===null)throw Ms(i);return i.lanes=536870912,null}return xf(i,c)}var b=r.memoizedState;if(b!==null){var R=b.dehydrated;if(xn(i),m)if(i.flags&256)i.flags&=-257,i=Vm(r,i,l);else if(i.memoizedState!==null)i.child=r.child,i.flags|=128,i=null;else throw Error(a(558));else if(Br||qs(r,i,l,!1),m=(l&r.childLanes)!==0,Br||m){if(c=Pn,c!==null&&(R=Wn(c,l),R!==0&&R!==b.retryLane))throw b.retryLane=R,fs(r,R),ea(c,r,R),A0;jf(),i=Vm(r,i,l)}else r=b.treeContext,In=qa(R.nextSibling),Wr=i,Qt=!0,fi=null,Qn=!1,r!==null&&df(i,r),i=xf(i,c),i.flags|=4096;return i}return r=Fi(r.child,{mode:c.mode,children:c.children}),r.ref=i.ref,i.child=r,r.return=i,r}function _f(r,i){var l=i.ref;if(l===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(a(284));(r===null||r.ref!==l)&&(i.flags|=4194816)}}function E0(r,i,l,c,m){return Fs(i),l=Xc(r,i,l,c,void 0,m),c=Jc(),r!==null&&!Br?(Zc(r,i,m),xo(r,i,m)):(Qt&&c&&Gc(i),i.flags|=1,pi(r,i,l,m),i.child)}function Km(r,i,l,c,m,b){return Fs(i),i.updateQueue=null,l=ps(i,c,l,m),Yu(r),c=Jc(),r!==null&&!Br?(Zc(r,i,b),xo(r,i,b)):(Qt&&c&&Gc(i),i.flags|=1,pi(r,i,l,b),i.child)}function Xm(r,i,l,c,m){if(Fs(i),i.stateNode===null){var b=$r,R=l.contextType;typeof R=="object"&&R!==null&&(b=Yr(R)),b=new l(c,b),i.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=_0,i.stateNode=b,b._reactInternals=i,b=i.stateNode,b.props=c,b.state=i.memoizedState,b.refs={},ot(i),R=l.contextType,b.context=typeof R=="object"&&R!==null?Yr(R):$r,b.state=i.memoizedState,R=l.getDerivedStateFromProps,typeof R=="function"&&(x0(i,l,R,c),b.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(R=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),R!==b.state&&_0.enqueueReplaceState(b,b.state,null),mr(i,c,b,m),On(),b.state=i.memoizedState),typeof b.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(r===null){b=i.stateNode;var G=i.memoizedProps,fe=su(l,G);b.props=fe;var je=b.context,qe=l.contextType;R=$r,typeof qe=="object"&&qe!==null&&(R=Yr(qe));var Ve=l.getDerivedStateFromProps;qe=typeof Ve=="function"||typeof b.getSnapshotBeforeUpdate=="function",G=i.pendingProps!==G,qe||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(G||je!==R)&&Bm(i,b,c,R),mt=!1;var ze=i.memoizedState;b.state=ze,mr(i,c,b,m),On(),je=i.memoizedState,G||ze!==je||mt?(typeof Ve=="function"&&(x0(i,l,Ve,c),je=i.memoizedState),(fe=mt||zm(i,l,fe,c,ze,je,R))?(qe||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(i.flags|=4194308)):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=je),b.props=c,b.state=je,b.context=R,c=fe):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{b=i.stateNode,Vn(r,i),R=i.memoizedProps,qe=su(l,R),b.props=qe,Ve=i.pendingProps,ze=b.context,je=l.contextType,fe=$r,typeof je=="object"&&je!==null&&(fe=Yr(je)),G=l.getDerivedStateFromProps,(je=typeof G=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(R!==Ve||ze!==fe)&&Bm(i,b,c,fe),mt=!1,ze=i.memoizedState,b.state=ze,mr(i,c,b,m),On();var Be=i.memoizedState;R!==Ve||ze!==Be||mt||r!==null&&r.dependencies!==null&&Hu(r.dependencies)?(typeof G=="function"&&(x0(i,l,G,c),Be=i.memoizedState),(qe=mt||zm(i,l,qe,c,ze,Be,fe)||r!==null&&r.dependencies!==null&&Hu(r.dependencies))?(je||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(c,Be,fe),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(c,Be,fe)),typeof b.componentDidUpdate=="function"&&(i.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof b.componentDidUpdate!="function"||R===r.memoizedProps&&ze===r.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&ze===r.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=Be),b.props=c,b.state=Be,b.context=fe,c=qe):(typeof b.componentDidUpdate!="function"||R===r.memoizedProps&&ze===r.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&ze===r.memoizedState||(i.flags|=1024),c=!1)}return b=c,_f(r,i),c=(i.flags&128)!==0,b||c?(b=i.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:b.render(),i.flags|=1,r!==null&&c?(i.child=Mn(i,r.child,null,m),i.child=Mn(i,null,l,m)):pi(r,i,l,m),i.memoizedState=b.state,r=i.child):r=xo(r,i,m),r}function Jm(r,i,l,c){return mo(),i.flags|=256,pi(r,i,l,c),i.child}var T0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function k0(r){return{baseLanes:r,cachePool:re()}}function N0(r,i,l){return r=r!==null?r.childLanes&~l:0,i&&(r|=ya),r}function Zm(r,i,l){var c=i.pendingProps,m=!1,b=(i.flags&128)!==0,R;if((R=b)||(R=r!==null&&r.memoizedState===null?!1:(on.current&2)!==0),R&&(m=!0,i.flags&=-129),R=(i.flags&32)!==0,i.flags&=-33,r===null){if(Qt){if(m?cr(i):br(),(r=In)?(r=s2(r,Qn),r=r!==null&&r.data!=="&"?r:null,r!==null&&(i.memoizedState={dehydrated:r,treeContext:Is!==null?{id:Gi,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},l=Mu(r),l.return=i,i.child=l,Wr=i,In=null)):r=null,r===null)throw Ms(i);return cp(r)?i.lanes=32:i.lanes=536870912,null}var G=c.children;return c=c.fallback,m?(br(),m=i.mode,G=Sf({mode:"hidden",children:G},m),c=Bs(c,m,l,null),G.return=i,c.return=i,G.sibling=c,i.child=G,c=i.child,c.memoizedState=k0(l),c.childLanes=N0(r,R,l),i.memoizedState=T0,ad(null,c)):(cr(i),C0(i,G))}var fe=r.memoizedState;if(fe!==null&&(G=fe.dehydrated,G!==null)){if(b)i.flags&256?(cr(i),i.flags&=-257,i=L0(r,i,l)):i.memoizedState!==null?(br(),i.child=r.child,i.flags|=128,i=null):(br(),G=c.fallback,m=i.mode,c=Sf({mode:"visible",children:c.children},m),G=Bs(G,m,l,null),G.flags|=2,c.return=i,G.return=i,c.sibling=G,i.child=c,Mn(i,r.child,null,l),c=i.child,c.memoizedState=k0(l),c.childLanes=N0(r,R,l),i.memoizedState=T0,i=ad(null,c));else if(cr(i),cp(G)){if(R=G.nextSibling&&G.nextSibling.dataset,R)var je=R.dgst;R=je,c=Error(a(419)),c.stack="",c.digest=R,nl({value:c,source:null,stack:null}),i=L0(r,i,l)}else if(Br||qs(r,i,l,!1),R=(l&r.childLanes)!==0,Br||R){if(R=Pn,R!==null&&(c=Wn(R,l),c!==0&&c!==fe.retryLane))throw fe.retryLane=c,fs(r,c),ea(R,r,c),A0;up(G)||jf(),i=L0(r,i,l)}else up(G)?(i.flags|=192,i.child=r.child,i=null):(r=fe.treeContext,In=qa(G.nextSibling),Wr=i,Qt=!0,fi=null,Qn=!1,r!==null&&df(i,r),i=C0(i,c.children),i.flags|=4096);return i}return m?(br(),G=c.fallback,m=i.mode,fe=r.child,je=fe.sibling,c=Fi(fe,{mode:"hidden",children:c.children}),c.subtreeFlags=fe.subtreeFlags&65011712,je!==null?G=Fi(je,G):(G=Bs(G,m,l,null),G.flags|=2),G.return=i,c.return=i,c.sibling=G,i.child=c,ad(null,c),c=i.child,G=r.child.memoizedState,G===null?G=k0(l):(m=G.cachePool,m!==null?(fe=ur._currentValue,m=m.parent!==fe?{parent:fe,pool:fe}:m):m=re(),G={baseLanes:G.baseLanes|l,cachePool:m}),c.memoizedState=G,c.childLanes=N0(r,R,l),i.memoizedState=T0,ad(r.child,c)):(cr(i),l=r.child,r=l.sibling,l=Fi(l,{mode:"visible",children:c.children}),l.return=i,l.sibling=null,r!==null&&(R=i.deletions,R===null?(i.deletions=[r],i.flags|=16):R.push(r)),i.child=l,i.memoizedState=null,l)}function C0(r,i){return i=Sf({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function Sf(r,i){return r=ni(22,r,null,i),r.lanes=0,r}function L0(r,i,l){return Mn(i,r.child,null,l),r=C0(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function Qm(r,i,l){r.lanes|=i;var c=r.alternate;c!==null&&(c.lanes|=i),rl(r.return,i,l)}function R0(r,i,l,c,m,b){var R=r.memoizedState;R===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:m,treeForkCount:b}:(R.isBackwards=i,R.rendering=null,R.renderingStartTime=0,R.last=c,R.tail=l,R.tailMode=m,R.treeForkCount=b)}function e1(r,i,l){var c=i.pendingProps,m=c.revealOrder,b=c.tail;c=c.children;var R=on.current,G=(R&2)!==0;if(G?(R=R&1|2,i.flags|=128):R&=1,U(on,R),pi(r,i,c,l),c=Qt?tu:0,!G&&r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Qm(r,l,i);else if(r.tag===19)Qm(r,l,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(m){case"forwards":for(l=i.child,m=null;l!==null;)r=l.alternate,r!==null&&ii(r)===null&&(m=l),l=l.sibling;l=m,l===null?(m=i.child,i.child=null):(m=l.sibling,l.sibling=null),R0(i,!1,m,l,b,c);break;case"backwards":case"unstable_legacy-backwards":for(l=null,m=i.child,i.child=null;m!==null;){if(r=m.alternate,r!==null&&ii(r)===null){i.child=m;break}r=m.sibling,m.sibling=l,l=m,m=r}R0(i,!0,l,null,b,c);break;case"together":R0(i,!1,null,null,void 0,c);break;default:i.memoizedState=null}return i.child}function xo(r,i,l){if(r!==null&&(i.dependencies=r.dependencies),dl|=i.lanes,(l&i.childLanes)===0)if(r!==null){if(qs(r,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(a(153));if(i.child!==null){for(r=i.child,l=Fi(r,r.pendingProps),i.child=l,l.return=i;r.sibling!==null;)r=r.sibling,l=l.sibling=Fi(r,r.pendingProps),l.return=i;l.sibling=null}return i.child}function j0(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&Hu(r)))}function mw(r,i,l){switch(i.tag){case 3:_e(i,i.stateNode.containerInfo),Us(i,ur,r.memoizedState.cache),mo();break;case 27:case 5:Ne(i);break;case 4:_e(i,i.stateNode.containerInfo);break;case 10:Us(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,xn(i),null;break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(cr(i),i.flags|=128,null):(l&i.child.childLanes)!==0?Zm(r,i,l):(cr(i),r=xo(r,i,l),r!==null?r.sibling:null);cr(i);break;case 19:var m=(r.flags&128)!==0;if(c=(l&i.childLanes)!==0,c||(qs(r,i,l,!1),c=(l&i.childLanes)!==0),m){if(c)return e1(r,i,l);i.flags|=128}if(m=i.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),U(on,on.current),c)break;return null;case 22:return i.lanes=0,Gm(r,i,l,i.pendingProps);case 24:Us(i,ur,r.memoizedState.cache)}return xo(r,i,l)}function t1(r,i,l){if(r!==null)if(r.memoizedProps!==i.pendingProps)Br=!0;else{if(!j0(r,l)&&(i.flags&128)===0)return Br=!1,mw(r,i,l);Br=(r.flags&131072)!==0}else Br=!1,Qt&&(i.flags&1048576)!==0&&cf(i,tu,i.index);switch(i.lanes=0,i.tag){case 16:e:{var c=i.pendingProps;if(r=Ce(i.elementType),i.type=r,typeof r=="function")Iu(r)?(c=su(r,c),i.tag=1,i=Xm(null,i,r,c,l)):(i.tag=0,i=E0(null,i,r,c,l));else{if(r!=null){var m=r.$$typeof;if(m===$){i.tag=11,i=Hm(null,i,r,c,l);break e}else if(m===le){i.tag=14,i=$m(null,i,r,c,l);break e}}throw i=J(r)||r,Error(a(306,i,""))}}return i;case 0:return E0(r,i,i.type,i.pendingProps,l);case 1:return c=i.type,m=su(c,i.pendingProps),Xm(r,i,c,m,l);case 3:e:{if(_e(i,i.stateNode.containerInfo),r===null)throw Error(a(387));c=i.pendingProps;var b=i.memoizedState;m=b.element,Vn(r,i),mr(i,c,null,l);var R=i.memoizedState;if(c=R.cache,Us(i,ur,c),c!==b.cache&&yo(i,[ur],l,!0),On(),c=R.element,b.isDehydrated)if(b={element:c,isDehydrated:!1,cache:R.cache},i.updateQueue.baseState=b,i.memoizedState=b,i.flags&256){i=Jm(r,i,c,l);break e}else if(c!==m){m=Hi(Error(a(424)),i),nl(m),i=Jm(r,i,c,l);break e}else for(r=i.stateNode.containerInfo,r.nodeType===9?r=r.body:r=r.nodeName==="HTML"?r.ownerDocument.body:r,In=qa(r.firstChild),Wr=i,Qt=!0,fi=null,Qn=!0,l=Wt(i,null,c,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(mo(),c===m){i=xo(r,i,l);break e}pi(r,i,c,l)}i=i.child}return i;case 26:return _f(r,i),r===null?(l=f2(i.type,null,i.pendingProps,null))?i.memoizedState=l:Qt||(l=i.type,r=i.pendingProps,c=Pf(ee.current).createElement(l),c[En]=i,c[Gn]=r,gi(c,l,r),ar(c),i.stateNode=c):i.memoizedState=f2(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return Ne(i),r===null&&Qt&&(c=i.stateNode=u2(i.type,i.pendingProps,ee.current),Wr=i,Qn=!0,m=In,ml(i.type)?(dp=m,In=qa(c.firstChild)):In=m),pi(r,i,i.pendingProps.children,l),_f(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&Qt&&((m=c=In)&&(c=Gw(c,i.type,i.pendingProps,Qn),c!==null?(i.stateNode=c,Wr=i,In=qa(c.firstChild),Qn=!1,m=!0):m=!1),m||Ms(i)),Ne(i),m=i.type,b=i.pendingProps,R=r!==null?r.memoizedProps:null,c=b.children,sp(m,b)?c=null:R!==null&&sp(m,R)&&(i.flags|=32),i.memoizedState!==null&&(m=Xc(r,i,h0,null,null,l),wd._currentValue=m),_f(r,i),pi(r,i,c,l),i.child;case 6:return r===null&&Qt&&((r=l=In)&&(l=Yw(l,i.pendingProps,Qn),l!==null?(i.stateNode=l,Wr=i,In=null,r=!0):r=!1),r||Ms(i)),null;case 13:return Zm(r,i,l);case 4:return _e(i,i.stateNode.containerInfo),c=i.pendingProps,r===null?i.child=Mn(i,null,c,l):pi(r,i,c,l),i.child;case 11:return Hm(r,i,i.type,i.pendingProps,l);case 7:return pi(r,i,i.pendingProps,l),i.child;case 8:return pi(r,i,i.pendingProps.children,l),i.child;case 12:return pi(r,i,i.pendingProps.children,l),i.child;case 10:return c=i.pendingProps,Us(i,i.type,c.value),pi(r,i,c.children,l),i.child;case 9:return m=i.type._context,c=i.pendingProps.children,Fs(i),m=Yr(m),c=c(m),i.flags|=1,pi(r,i,c,l),i.child;case 14:return $m(r,i,i.type,i.pendingProps,l);case 15:return Wm(r,i,i.type,i.pendingProps,l);case 19:return e1(r,i,l);case 31:return gw(r,i,l);case 22:return Gm(r,i,l,i.pendingProps);case 24:return Fs(i),c=Yr(ur),r===null?(m=K(),m===null&&(m=Pn,b=il(),m.pooledCache=b,b.refCount++,b!==null&&(m.pooledCacheLanes|=l),m=b),i.memoizedState={parent:c,cache:m},ot(i),Us(i,ur,m)):((r.lanes&l)!==0&&(Vn(r,i),mr(i,null,null,l),On()),m=r.memoizedState,b=i.memoizedState,m.parent!==c?(m={parent:c,cache:c},i.memoizedState=m,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=m),Us(i,ur,c)):(c=b.cache,Us(i,ur,c),c!==m.cache&&yo(i,[ur],l,!0))),pi(r,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function _o(r){r.flags|=4}function O0(r,i,l,c,m){if((i=(r.mode&32)!==0)&&(i=!1),i){if(r.flags|=16777216,(m&335544128)===m)if(r.stateNode.complete)r.flags|=8192;else if(N1())r.flags|=8192;else throw Me=we,Le}else r.flags&=-16777217}function n1(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!y2(i))if(N1())r.flags|=8192;else throw Me=we,Le}function Af(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?qn():536870912,r.lanes|=i,ic|=i)}function sd(r,i){if(!Qt)switch(r.tailMode){case"hidden":i=r.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function Jn(r){var i=r.alternate!==null&&r.alternate.child===r.child,l=0,c=0;if(i)for(var m=r.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=r,m=m.sibling;else for(m=r.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=r,m=m.sibling;return r.subtreeFlags|=c,r.childLanes=l,i}function yw(r,i,l){var c=i.pendingProps;switch(qu(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jn(i),null;case 1:return Jn(i),null;case 3:return l=i.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),Vi(ur),xe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(Gr(i)?_o(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Vc())),Jn(i),null;case 26:var m=i.type,b=i.memoizedState;return r===null?(_o(i),b!==null?(Jn(i),n1(i,b)):(Jn(i),O0(i,m,null,c,l))):b?b!==r.memoizedState?(_o(i),Jn(i),n1(i,b)):(Jn(i),i.flags&=-16777217):(r=r.memoizedProps,r!==c&&_o(i),Jn(i),O0(i,m,r,c,l)),null;case 27:if(We(i),l=ee.current,m=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==c&&_o(i);else{if(!c){if(i.stateNode===null)throw Error(a(166));return Jn(i),null}r=Z.current,Gr(i)?Yc(i):(r=u2(m,c,l),i.stateNode=r,_o(i))}return Jn(i),null;case 5:if(We(i),m=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==c&&_o(i);else{if(!c){if(i.stateNode===null)throw Error(a(166));return Jn(i),null}if(b=Z.current,Gr(i))Yc(i);else{var R=Pf(ee.current);switch(b){case 1:b=R.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:b=R.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":b=R.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":b=R.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":b=R.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof c.is=="string"?R.createElement("select",{is:c.is}):R.createElement("select"),c.multiple?b.multiple=!0:c.size&&(b.size=c.size);break;default:b=typeof c.is=="string"?R.createElement(m,{is:c.is}):R.createElement(m)}}b[En]=i,b[Gn]=c;e:for(R=i.child;R!==null;){if(R.tag===5||R.tag===6)b.appendChild(R.stateNode);else if(R.tag!==4&&R.tag!==27&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===i)break e;for(;R.sibling===null;){if(R.return===null||R.return===i)break e;R=R.return}R.sibling.return=R.return,R=R.sibling}i.stateNode=b;e:switch(gi(b,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&_o(i)}}return Jn(i),O0(i,i.type,r===null?null:r.memoizedProps,i.pendingProps,l),null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==c&&_o(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(a(166));if(r=ee.current,Gr(i)){if(r=i.stateNode,l=i.memoizedProps,c=null,m=Wr,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}r[En]=i,r=!!(r.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||Z1(r.nodeValue,l)),r||Ms(i,!0)}else r=Pf(r).createTextNode(c),r[En]=i,i.stateNode=r}return Jn(i),null;case 31:if(l=i.memoizedState,r===null||r.memoizedState!==null){if(c=Gr(i),l!==null){if(r===null){if(!c)throw Error(a(318));if(r=i.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(557));r[En]=i}else mo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Jn(i),r=!1}else l=Vc(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=l),r=!0;if(!r)return i.flags&256?(Tn(i),i):(Tn(i),null);if((i.flags&128)!==0)throw Error(a(558))}return Jn(i),null;case 13:if(c=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(m=Gr(i),c!==null&&c.dehydrated!==null){if(r===null){if(!m)throw Error(a(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(a(317));m[En]=i}else mo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Jn(i),m=!1}else m=Vc(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=m),m=!0;if(!m)return i.flags&256?(Tn(i),i):(Tn(i),null)}return Tn(i),(i.flags&128)!==0?(i.lanes=l,i):(l=c!==null,r=r!==null&&r.memoizedState!==null,l&&(c=i.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),b=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(b=c.memoizedState.cachePool.pool),b!==m&&(c.flags|=2048)),l!==r&&l&&(i.child.flags|=8192),Af(i,i.updateQueue),Jn(i),null);case 4:return xe(),r===null&&tp(i.stateNode.containerInfo),Jn(i),null;case 10:return Vi(i.type),Jn(i),null;case 19:if(C(on),c=i.memoizedState,c===null)return Jn(i),null;if(m=(i.flags&128)!==0,b=c.rendering,b===null)if(m)sd(c,!1);else{if(xr!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(b=ii(r),b!==null){for(i.flags|=128,sd(c,!1),r=b.updateQueue,i.updateQueue=r,Af(i,r),i.subtreeFlags=0,r=l,l=i.child;l!==null;)Ql(l,r),l=l.sibling;return U(on,on.current&1|2),Qt&&zi(i,c.treeForkCount),i.child}r=r.sibling}c.tail!==null&&st()>Cf&&(i.flags|=128,m=!0,sd(c,!1),i.lanes=4194304)}else{if(!m)if(r=ii(b),r!==null){if(i.flags|=128,m=!0,r=r.updateQueue,i.updateQueue=r,Af(i,r),sd(c,!0),c.tail===null&&c.tailMode==="hidden"&&!b.alternate&&!Qt)return Jn(i),null}else 2*st()-c.renderingStartTime>Cf&&l!==536870912&&(i.flags|=128,m=!0,sd(c,!1),i.lanes=4194304);c.isBackwards?(b.sibling=i.child,i.child=b):(r=c.last,r!==null?r.sibling=b:i.child=b,c.last=b)}return c.tail!==null?(r=c.tail,c.rendering=r,c.tail=r.sibling,c.renderingStartTime=st(),r.sibling=null,l=on.current,U(on,m?l&1|2:l&1),Qt&&zi(i,c.treeForkCount),r):(Jn(i),null);case 22:case 23:return Tn(i),Cr(),c=i.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(l&536870912)!==0&&(i.flags&128)===0&&(Jn(i),i.subtreeFlags&6&&(i.flags|=8192)):Jn(i),l=i.updateQueue,l!==null&&Af(i,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==l&&(i.flags|=2048),r!==null&&C(H),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Vi(ur),Jn(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function vw(r,i){switch(qu(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Vi(ur),xe(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return We(i),null;case 31:if(i.memoizedState!==null){if(Tn(i),i.alternate===null)throw Error(a(340));mo()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 13:if(Tn(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(a(340));mo()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return C(on),null;case 4:return xe(),null;case 10:return Vi(i.type),null;case 22:case 23:return Tn(i),Cr(),r!==null&&C(H),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return Vi(ur),null;case 25:return null;default:return null}}function r1(r,i){switch(qu(i),i.tag){case 3:Vi(ur),xe();break;case 26:case 27:case 5:We(i);break;case 4:xe();break;case 31:i.memoizedState!==null&&Tn(i);break;case 13:Tn(i);break;case 19:C(on);break;case 10:Vi(i.type);break;case 22:case 23:Tn(i),Cr(),r!==null&&C(H);break;case 24:Vi(ur)}}function od(r,i){try{var l=i.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var m=c.next;l=m;do{if((l.tag&r)===r){c=void 0;var b=l.create,R=l.inst;c=b(),R.destroy=c}l=l.next}while(l!==m)}}catch(G){Nn(i,i.return,G)}}function ul(r,i,l){try{var c=i.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var b=m.next;c=b;do{if((c.tag&r)===r){var R=c.inst,G=R.destroy;if(G!==void 0){R.destroy=void 0,m=i;var fe=l,je=G;try{je()}catch(qe){Nn(m,fe,qe)}}}c=c.next}while(c!==b)}}catch(qe){Nn(i,i.return,qe)}}function i1(r){var i=r.updateQueue;if(i!==null){var l=r.stateNode;try{yr(i,l)}catch(c){Nn(r,r.return,c)}}}function a1(r,i,l){l.props=su(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(c){Nn(r,i,c)}}function ld(r,i){try{var l=r.ref;if(l!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof l=="function"?r.refCleanup=l(c):l.current=c}}catch(m){Nn(r,i,m)}}function Ys(r,i){var l=r.ref,c=r.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(m){Nn(r,i,m)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){Nn(r,i,m)}else l.current=null}function s1(r){var i=r.type,l=r.memoizedProps,c=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(m){Nn(r,r.return,m)}}function D0(r,i,l){try{var c=r.stateNode;Uw(c,r.type,l,i),c[Gn]=i}catch(m){Nn(r,r.return,m)}}function o1(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&ml(r.type)||r.tag===4}function z0(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||o1(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&ml(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function B0(r,i,l){var c=r.tag;if(c===5||c===6)r=r.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(r,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(r),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=ua));else if(c!==4&&(c===27&&ml(r.type)&&(l=r.stateNode,i=null),r=r.child,r!==null))for(B0(r,i,l),r=r.sibling;r!==null;)B0(r,i,l),r=r.sibling}function Ef(r,i,l){var c=r.tag;if(c===5||c===6)r=r.stateNode,i?l.insertBefore(r,i):l.appendChild(r);else if(c!==4&&(c===27&&ml(r.type)&&(l=r.stateNode),r=r.child,r!==null))for(Ef(r,i,l),r=r.sibling;r!==null;)Ef(r,i,l),r=r.sibling}function l1(r){var i=r.stateNode,l=r.memoizedProps;try{for(var c=r.type,m=i.attributes;m.length;)i.removeAttributeNode(m[0]);gi(i,c,l),i[En]=r,i[Gn]=l}catch(b){Nn(r,r.return,b)}}var So=!1,Ir=!1,I0=!1,u1=typeof WeakSet=="function"?WeakSet:Set,ai=null;function bw(r,i){if(r=r.containerInfo,ip=Gf,r=cs(r),Ba(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var m=c.anchorOffset,b=c.focusNode;c=c.focusOffset;try{l.nodeType,b.nodeType}catch{l=null;break e}var R=0,G=-1,fe=-1,je=0,qe=0,Ve=r,ze=null;t:for(;;){for(var Be;Ve!==l||m!==0&&Ve.nodeType!==3||(G=R+m),Ve!==b||c!==0&&Ve.nodeType!==3||(fe=R+c),Ve.nodeType===3&&(R+=Ve.nodeValue.length),(Be=Ve.firstChild)!==null;)ze=Ve,Ve=Be;for(;;){if(Ve===r)break t;if(ze===l&&++je===m&&(G=R),ze===b&&++qe===c&&(fe=R),(Be=Ve.nextSibling)!==null)break;Ve=ze,ze=Ve.parentNode}Ve=Be}l=G===-1||fe===-1?null:{start:G,end:fe}}else l=null}l=l||{start:0,end:0}}else l=null;for(ap={focusedElem:r,selectionRange:l},Gf=!1,ai=i;ai!==null;)if(i=ai,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,ai=r;else for(;ai!==null;){switch(i=ai,b=i.alternate,r=i.flags,i.tag){case 0:if((r&4)!==0&&(r=i.updateQueue,r=r!==null?r.events:null,r!==null))for(l=0;l<r.length;l++)m=r[l],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&b!==null){r=void 0,l=i,m=b.memoizedProps,b=b.memoizedState,c=l.stateNode;try{var xt=su(l.type,m);r=c.getSnapshotBeforeUpdate(xt,b),c.__reactInternalSnapshotBeforeUpdate=r}catch(Bt){Nn(l,l.return,Bt)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,l=r.nodeType,l===9)lp(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":lp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(a(163))}if(r=i.sibling,r!==null){r.return=i.return,ai=r;break}ai=i.return}}function c1(r,i,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Eo(r,l),c&4&&od(5,l);break;case 1:if(Eo(r,l),c&4)if(r=l.stateNode,i===null)try{r.componentDidMount()}catch(R){Nn(l,l.return,R)}else{var m=su(l.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(m,i,r.__reactInternalSnapshotBeforeUpdate)}catch(R){Nn(l,l.return,R)}}c&64&&i1(l),c&512&&ld(l,l.return);break;case 3:if(Eo(r,l),c&64&&(r=l.updateQueue,r!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{yr(r,i)}catch(R){Nn(l,l.return,R)}}break;case 27:i===null&&c&4&&l1(l);case 26:case 5:Eo(r,l),i===null&&c&4&&s1(l),c&512&&ld(l,l.return);break;case 12:Eo(r,l);break;case 31:Eo(r,l),c&4&&h1(r,l);break;case 13:Eo(r,l),c&4&&p1(r,l),c&64&&(r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(l=Nw.bind(null,l),Vw(r,l))));break;case 22:if(c=l.memoizedState!==null||So,!c){i=i!==null&&i.memoizedState!==null||Ir,m=So;var b=Ir;So=c,(Ir=i)&&!b?To(r,l,(l.subtreeFlags&8772)!==0):Eo(r,l),So=m,Ir=b}break;case 30:break;default:Eo(r,l)}}function d1(r){var i=r.alternate;i!==null&&(r.alternate=null,d1(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&Ls(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var nr=null,Xi=!1;function Ao(r,i,l){for(l=l.child;l!==null;)f1(r,i,l),l=l.sibling}function f1(r,i,l){if(it&&typeof it.onCommitFiberUnmount=="function")try{it.onCommitFiberUnmount(ut,l)}catch{}switch(l.tag){case 26:Ir||Ys(l,i),Ao(r,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ir||Ys(l,i);var c=nr,m=Xi;ml(l.type)&&(nr=l.stateNode,Xi=!1),Ao(r,i,l),yd(l.stateNode),nr=c,Xi=m;break;case 5:Ir||Ys(l,i);case 6:if(c=nr,m=Xi,nr=null,Ao(r,i,l),nr=c,Xi=m,nr!==null)if(Xi)try{(nr.nodeType===9?nr.body:nr.nodeName==="HTML"?nr.ownerDocument.body:nr).removeChild(l.stateNode)}catch(b){Nn(l,i,b)}else try{nr.removeChild(l.stateNode)}catch(b){Nn(l,i,b)}break;case 18:nr!==null&&(Xi?(r=nr,i2(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.stateNode),fc(r)):i2(nr,l.stateNode));break;case 4:c=nr,m=Xi,nr=l.stateNode.containerInfo,Xi=!0,Ao(r,i,l),nr=c,Xi=m;break;case 0:case 11:case 14:case 15:ul(2,l,i),Ir||ul(4,l,i),Ao(r,i,l);break;case 1:Ir||(Ys(l,i),c=l.stateNode,typeof c.componentWillUnmount=="function"&&a1(l,i,c)),Ao(r,i,l);break;case 21:Ao(r,i,l);break;case 22:Ir=(c=Ir)||l.memoizedState!==null,Ao(r,i,l),Ir=c;break;default:Ao(r,i,l)}}function h1(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{fc(r)}catch(l){Nn(i,i.return,l)}}}function p1(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{fc(r)}catch(l){Nn(i,i.return,l)}}function ww(r){switch(r.tag){case 31:case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new u1),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new u1),i;default:throw Error(a(435,r.tag))}}function Tf(r,i){var l=ww(r);i.forEach(function(c){if(!l.has(c)){l.add(c);var m=Cw.bind(null,r,c);c.then(m,m)}})}function Ji(r,i){var l=i.deletions;if(l!==null)for(var c=0;c<l.length;c++){var m=l[c],b=r,R=i,G=R;e:for(;G!==null;){switch(G.tag){case 27:if(ml(G.type)){nr=G.stateNode,Xi=!1;break e}break;case 5:nr=G.stateNode,Xi=!1;break e;case 3:case 4:nr=G.stateNode.containerInfo,Xi=!0;break e}G=G.return}if(nr===null)throw Error(a(160));f1(b,R,m),nr=null,Xi=!1,b=m.alternate,b!==null&&(b.return=null),m.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)g1(i,r),i=i.sibling}var vs=null;function g1(r,i){var l=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Ji(i,r),Zi(r),c&4&&(ul(3,r,r.return),od(3,r),ul(5,r,r.return));break;case 1:Ji(i,r),Zi(r),c&512&&(Ir||l===null||Ys(l,l.return)),c&64&&So&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var m=vs;if(Ji(i,r),Zi(r),c&512&&(Ir||l===null||Ys(l,l.return)),c&4){var b=l!==null?l.memoizedState:null;if(c=r.memoizedState,l===null)if(c===null)if(r.stateNode===null){e:{c=r.type,l=r.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":b=m.getElementsByTagName("title")[0],(!b||b[ra]||b[En]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=m.createElement(c),m.head.insertBefore(b,m.querySelector("head > title"))),gi(b,c,l),b[En]=r,ar(b),c=b;break e;case"link":var R=g2("link","href",m).get(c+(l.href||""));if(R){for(var G=0;G<R.length;G++)if(b=R[G],b.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&b.getAttribute("rel")===(l.rel==null?null:l.rel)&&b.getAttribute("title")===(l.title==null?null:l.title)&&b.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){R.splice(G,1);break t}}b=m.createElement(c),gi(b,c,l),m.head.appendChild(b);break;case"meta":if(R=g2("meta","content",m).get(c+(l.content||""))){for(G=0;G<R.length;G++)if(b=R[G],b.getAttribute("content")===(l.content==null?null:""+l.content)&&b.getAttribute("name")===(l.name==null?null:l.name)&&b.getAttribute("property")===(l.property==null?null:l.property)&&b.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&b.getAttribute("charset")===(l.charSet==null?null:l.charSet)){R.splice(G,1);break t}}b=m.createElement(c),gi(b,c,l),m.head.appendChild(b);break;default:throw Error(a(468,c))}b[En]=r,ar(b),c=b}r.stateNode=c}else m2(m,r.type,r.stateNode);else r.stateNode=p2(m,c,r.memoizedProps);else b!==c?(b===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):b.count--,c===null?m2(m,r.type,r.stateNode):p2(m,c,r.memoizedProps)):c===null&&r.stateNode!==null&&D0(r,r.memoizedProps,l.memoizedProps)}break;case 27:Ji(i,r),Zi(r),c&512&&(Ir||l===null||Ys(l,l.return)),l!==null&&c&4&&D0(r,r.memoizedProps,l.memoizedProps);break;case 5:if(Ji(i,r),Zi(r),c&512&&(Ir||l===null||Ys(l,l.return)),r.flags&32){m=r.stateNode;try{la(m,"")}catch(xt){Nn(r,r.return,xt)}}c&4&&r.stateNode!=null&&(m=r.memoizedProps,D0(r,m,l!==null?l.memoizedProps:m)),c&1024&&(I0=!0);break;case 6:if(Ji(i,r),Zi(r),c&4){if(r.stateNode===null)throw Error(a(162));c=r.memoizedProps,l=r.stateNode;try{l.nodeValue=c}catch(xt){Nn(r,r.return,xt)}}break;case 3:if(Ff=null,m=vs,vs=Uf(i.containerInfo),Ji(i,r),vs=m,Zi(r),c&4&&l!==null&&l.memoizedState.isDehydrated)try{fc(i.containerInfo)}catch(xt){Nn(r,r.return,xt)}I0&&(I0=!1,m1(r));break;case 4:c=vs,vs=Uf(r.stateNode.containerInfo),Ji(i,r),Zi(r),vs=c;break;case 12:Ji(i,r),Zi(r);break;case 31:Ji(i,r),Zi(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Tf(r,c)));break;case 13:Ji(i,r),Zi(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Nf=st()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Tf(r,c)));break;case 22:m=r.memoizedState!==null;var fe=l!==null&&l.memoizedState!==null,je=So,qe=Ir;if(So=je||m,Ir=qe||fe,Ji(i,r),Ir=qe,So=je,Zi(r),c&8192)e:for(i=r.stateNode,i._visibility=m?i._visibility&-2:i._visibility|1,m&&(l===null||fe||So||Ir||ou(r)),l=null,i=r;;){if(i.tag===5||i.tag===26){if(l===null){fe=l=i;try{if(b=fe.stateNode,m)R=b.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{G=fe.stateNode;var Ve=fe.memoizedProps.style,ze=Ve!=null&&Ve.hasOwnProperty("display")?Ve.display:null;G.style.display=ze==null||typeof ze=="boolean"?"":(""+ze).trim()}}catch(xt){Nn(fe,fe.return,xt)}}}else if(i.tag===6){if(l===null){fe=i;try{fe.stateNode.nodeValue=m?"":fe.memoizedProps}catch(xt){Nn(fe,fe.return,xt)}}}else if(i.tag===18){if(l===null){fe=i;try{var Be=fe.stateNode;m?a2(Be,!0):a2(fe.stateNode,!1)}catch(xt){Nn(fe,fe.return,xt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=r.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,Tf(r,l))));break;case 19:Ji(i,r),Zi(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Tf(r,c)));break;case 30:break;case 21:break;default:Ji(i,r),Zi(r)}}function Zi(r){var i=r.flags;if(i&2){try{for(var l,c=r.return;c!==null;){if(o1(c)){l=c;break}c=c.return}if(l==null)throw Error(a(160));switch(l.tag){case 27:var m=l.stateNode,b=z0(r);Ef(r,b,m);break;case 5:var R=l.stateNode;l.flags&32&&(la(R,""),l.flags&=-33);var G=z0(r);Ef(r,G,R);break;case 3:case 4:var fe=l.stateNode.containerInfo,je=z0(r);B0(r,je,fe);break;default:throw Error(a(161))}}catch(qe){Nn(r,r.return,qe)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function m1(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;m1(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function Eo(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)c1(r,i.alternate,i),i=i.sibling}function ou(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:ul(4,i,i.return),ou(i);break;case 1:Ys(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&a1(i,i.return,l),ou(i);break;case 27:yd(i.stateNode);case 26:case 5:Ys(i,i.return),ou(i);break;case 22:i.memoizedState===null&&ou(i);break;case 30:ou(i);break;default:ou(i)}r=r.sibling}}function To(r,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,m=r,b=i,R=b.flags;switch(b.tag){case 0:case 11:case 15:To(m,b,l),od(4,b);break;case 1:if(To(m,b,l),c=b,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(je){Nn(c,c.return,je)}if(c=b,m=c.updateQueue,m!==null){var G=c.stateNode;try{var fe=m.shared.hiddenCallbacks;if(fe!==null)for(m.shared.hiddenCallbacks=null,m=0;m<fe.length;m++)ri(fe[m],G)}catch(je){Nn(c,c.return,je)}}l&&R&64&&i1(b),ld(b,b.return);break;case 27:l1(b);case 26:case 5:To(m,b,l),l&&c===null&&R&4&&s1(b),ld(b,b.return);break;case 12:To(m,b,l);break;case 31:To(m,b,l),l&&R&4&&h1(m,b);break;case 13:To(m,b,l),l&&R&4&&p1(m,b);break;case 22:b.memoizedState===null&&To(m,b,l),ld(b,b.return);break;case 30:break;default:To(m,b,l)}i=i.sibling}}function M0(r,i){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&nu(l))}function P0(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&nu(r))}function bs(r,i,l,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)y1(r,i,l,c),i=i.sibling}function y1(r,i,l,c){var m=i.flags;switch(i.tag){case 0:case 11:case 15:bs(r,i,l,c),m&2048&&od(9,i);break;case 1:bs(r,i,l,c);break;case 3:bs(r,i,l,c),m&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&nu(r)));break;case 12:if(m&2048){bs(r,i,l,c),r=i.stateNode;try{var b=i.memoizedProps,R=b.id,G=b.onPostCommit;typeof G=="function"&&G(R,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(fe){Nn(i,i.return,fe)}}else bs(r,i,l,c);break;case 31:bs(r,i,l,c);break;case 13:bs(r,i,l,c);break;case 23:break;case 22:b=i.stateNode,R=i.alternate,i.memoizedState!==null?b._visibility&2?bs(r,i,l,c):ud(r,i):b._visibility&2?bs(r,i,l,c):(b._visibility|=2,tc(r,i,l,c,(i.subtreeFlags&10256)!==0||!1)),m&2048&&M0(R,i);break;case 24:bs(r,i,l,c),m&2048&&P0(i.alternate,i);break;default:bs(r,i,l,c)}}function tc(r,i,l,c,m){for(m=m&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var b=r,R=i,G=l,fe=c,je=R.flags;switch(R.tag){case 0:case 11:case 15:tc(b,R,G,fe,m),od(8,R);break;case 23:break;case 22:var qe=R.stateNode;R.memoizedState!==null?qe._visibility&2?tc(b,R,G,fe,m):ud(b,R):(qe._visibility|=2,tc(b,R,G,fe,m)),m&&je&2048&&M0(R.alternate,R);break;case 24:tc(b,R,G,fe,m),m&&je&2048&&P0(R.alternate,R);break;default:tc(b,R,G,fe,m)}i=i.sibling}}function ud(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=r,c=i,m=c.flags;switch(c.tag){case 22:ud(l,c),m&2048&&M0(c.alternate,c);break;case 24:ud(l,c),m&2048&&P0(c.alternate,c);break;default:ud(l,c)}i=i.sibling}}var cd=8192;function nc(r,i,l){if(r.subtreeFlags&cd)for(r=r.child;r!==null;)v1(r,i,l),r=r.sibling}function v1(r,i,l){switch(r.tag){case 26:nc(r,i,l),r.flags&cd&&r.memoizedState!==null&&sx(l,vs,r.memoizedState,r.memoizedProps);break;case 5:nc(r,i,l);break;case 3:case 4:var c=vs;vs=Uf(r.stateNode.containerInfo),nc(r,i,l),vs=c;break;case 22:r.memoizedState===null&&(c=r.alternate,c!==null&&c.memoizedState!==null?(c=cd,cd=16777216,nc(r,i,l),cd=c):nc(r,i,l));break;default:nc(r,i,l)}}function b1(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function dd(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var c=i[l];ai=c,x1(c,r)}b1(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)w1(r),r=r.sibling}function w1(r){switch(r.tag){case 0:case 11:case 15:dd(r),r.flags&2048&&ul(9,r,r.return);break;case 3:dd(r);break;case 12:dd(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,kf(r)):dd(r);break;default:dd(r)}}function kf(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var c=i[l];ai=c,x1(c,r)}b1(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:ul(8,i,i.return),kf(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,kf(i));break;default:kf(i)}r=r.sibling}}function x1(r,i){for(;ai!==null;){var l=ai;switch(l.tag){case 0:case 11:case 15:ul(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:nu(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,ai=c;else e:for(l=r;ai!==null;){c=ai;var m=c.sibling,b=c.return;if(d1(c),c===l){ai=null;break e}if(m!==null){m.return=b,ai=m;break e}ai=b}}}var xw={getCacheForType:function(r){var i=Yr(ur),l=i.data.get(r);return l===void 0&&(l=r(),i.data.set(r,l)),l},cacheSignal:function(){return Yr(ur).controller.signal}},_w=typeof WeakMap=="function"?WeakMap:Map,_n=0,Pn=null,en=null,nn=0,kn=0,ma=null,cl=!1,rc=!1,U0=!1,ko=0,xr=0,dl=0,lu=0,q0=0,ya=0,ic=0,fd=null,Qi=null,F0=!1,Nf=0,_1=0,Cf=1/0,Lf=null,fl=null,Kr=0,hl=null,ac=null,No=0,H0=0,$0=null,S1=null,hd=0,W0=null;function va(){return(_n&2)!==0&&nn!==0?nn&-nn:F.T!==null?J0():An()}function A1(){if(ya===0)if((nn&536870912)===0||Qt){var r=vn;vn<<=1,(vn&3932160)===0&&(vn=262144),ya=r}else ya=536870912;return r=Xn.current,r!==null&&(r.flags|=32),ya}function ea(r,i,l){(r===Pn&&(kn===2||kn===9)||r.cancelPendingCommit!==null)&&(sc(r,0),pl(r,nn,ya,!1)),At(r,l),((_n&2)===0||r!==Pn)&&(r===Pn&&((_n&2)===0&&(lu|=l),xr===4&&pl(r,nn,ya,!1)),Vs(r))}function E1(r,i,l){if((_n&6)!==0)throw Error(a(327));var c=!l&&(i&127)===0&&(i&r.expiredLanes)===0||hr(r,i),m=c?Ew(r,i):Y0(r,i,!0),b=c;do{if(m===0){rc&&!c&&pl(r,i,0,!1);break}else{if(l=r.current.alternate,b&&!Sw(l)){m=Y0(r,i,!1),b=!1;continue}if(m===2){if(b=i,r.errorRecoveryDisabledLanes&b)var R=0;else R=r.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){i=R;e:{var G=r;m=fd;var fe=G.current.memoizedState.isDehydrated;if(fe&&(sc(G,R).flags|=256),R=Y0(G,R,!1),R!==2){if(U0&&!fe){G.errorRecoveryDisabledLanes|=b,lu|=b,m=4;break e}b=Qi,Qi=m,b!==null&&(Qi===null?Qi=b:Qi.push.apply(Qi,b))}m=R}if(b=!1,m!==2)continue}}if(m===1){sc(r,0),pl(r,i,0,!0);break}e:{switch(c=r,b=m,b){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:pl(c,i,ya,!cl);break e;case 2:Qi=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(m=Nf+300-st(),10<m)){if(pl(c,i,ya,!cl),qt(c,0,!0)!==0)break e;No=i,c.timeoutHandle=n2(T1.bind(null,c,l,Qi,Lf,F0,i,ya,lu,ic,cl,b,"Throttled",-0,0),m);break e}T1(c,l,Qi,Lf,F0,i,ya,lu,ic,cl,b,null,-0,0)}}break}while(!0);Vs(r)}function T1(r,i,l,c,m,b,R,G,fe,je,qe,Ve,ze,Be){if(r.timeoutHandle=-1,Ve=i.subtreeFlags,Ve&8192||(Ve&16785408)===16785408){Ve={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ua},v1(i,b,Ve);var xt=(b&62914560)===b?Nf-st():(b&4194048)===b?_1-st():0;if(xt=ox(Ve,xt),xt!==null){No=b,r.cancelPendingCommit=xt(D1.bind(null,r,i,b,l,c,m,R,G,fe,qe,Ve,null,ze,Be)),pl(r,b,R,!je);return}}D1(r,i,b,l,c,m,R,G,fe)}function Sw(r){for(var i=r;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var m=l[c],b=m.getSnapshot;m=m.value;try{if(!Hr(b(),m))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function pl(r,i,l,c){i&=~q0,i&=~lu,r.suspendedLanes|=i,r.pingedLanes&=~i,c&&(r.warmLanes|=i),c=r.expirationTimes;for(var m=i;0<m;){var b=31-It(m),R=1<<b;c[b]=-1,m&=~R}l!==0&&Ar(r,l,i)}function Rf(){return(_n&6)===0?(pd(0),!1):!0}function G0(){if(en!==null){if(kn===0)var r=en.return;else r=en,Ma=Ps=null,Vu(r),Ke=null,_t=0,r=en;for(;r!==null;)r1(r.alternate,r),r=r.return;en=null}}function sc(r,i){var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,Hw(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),No=0,G0(),Pn=r,en=l=Fi(r.current,null),nn=i,kn=0,ma=null,cl=!1,rc=hr(r,i),U0=!1,ic=ya=q0=lu=dl=xr=0,Qi=fd=null,F0=!1,(i&8)!==0&&(i|=i&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=i;0<c;){var m=31-It(c),b=1<<m;i|=r[m],c&=~b}return ko=i,Xl(),l}function k1(r,i){Lt=null,F.H=id,i===me||i===ne?(i=He(),kn=3):i===Le?(i=He(),kn=4):kn=i===A0?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,ma=i,en===null&&(xr=1,wf(r,Hi(i,r.current)))}function N1(){var r=Xn.current;return r===null?!0:(nn&4194048)===nn?cn===null:(nn&62914560)===nn||(nn&536870912)!==0?r===cn:!1}function C1(){var r=F.H;return F.H=id,r===null?id:r}function L1(){var r=F.A;return F.A=xw,r}function jf(){xr=4,cl||(nn&4194048)!==nn&&Xn.current!==null||(rc=!0),(dl&134217727)===0&&(lu&134217727)===0||Pn===null||pl(Pn,nn,ya,!1)}function Y0(r,i,l){var c=_n;_n|=2;var m=C1(),b=L1();(Pn!==r||nn!==i)&&(Lf=null,sc(r,i)),i=!1;var R=xr;e:do try{if(kn!==0&&en!==null){var G=en,fe=ma;switch(kn){case 8:G0(),R=6;break e;case 3:case 2:case 9:case 6:Xn.current===null&&(i=!0);var je=kn;if(kn=0,ma=null,oc(r,G,fe,je),l&&rc){R=0;break e}break;default:je=kn,kn=0,ma=null,oc(r,G,fe,je)}}Aw(),R=xr;break}catch(qe){k1(r,qe)}while(!0);return i&&r.shellSuspendCounter++,Ma=Ps=null,_n=c,F.H=m,F.A=b,en===null&&(Pn=null,nn=0,Xl()),R}function Aw(){for(;en!==null;)R1(en)}function Ew(r,i){var l=_n;_n|=2;var c=C1(),m=L1();Pn!==r||nn!==i?(Lf=null,Cf=st()+500,sc(r,i)):rc=hr(r,i);e:do try{if(kn!==0&&en!==null){i=en;var b=ma;t:switch(kn){case 1:kn=0,ma=null,oc(r,i,b,1);break;case 2:case 9:if(Te(b)){kn=0,ma=null,j1(i);break}i=function(){kn!==2&&kn!==9||Pn!==r||(kn=7),Vs(r)},b.then(i,i);break e;case 3:kn=7;break e;case 4:kn=5;break e;case 7:Te(b)?(kn=0,ma=null,j1(i)):(kn=0,ma=null,oc(r,i,b,7));break;case 5:var R=null;switch(en.tag){case 26:R=en.memoizedState;case 5:case 27:var G=en;if(R?y2(R):G.stateNode.complete){kn=0,ma=null;var fe=G.sibling;if(fe!==null)en=fe;else{var je=G.return;je!==null?(en=je,Of(je)):en=null}break t}}kn=0,ma=null,oc(r,i,b,5);break;case 6:kn=0,ma=null,oc(r,i,b,6);break;case 8:G0(),xr=6;break e;default:throw Error(a(462))}}Tw();break}catch(qe){k1(r,qe)}while(!0);return Ma=Ps=null,F.H=c,F.A=m,_n=l,en!==null?0:(Pn=null,nn=0,Xl(),xr)}function Tw(){for(;en!==null&&!Ye();)R1(en)}function R1(r){var i=t1(r.alternate,r,ko);r.memoizedProps=r.pendingProps,i===null?Of(r):en=i}function j1(r){var i=r,l=i.alternate;switch(i.tag){case 15:case 0:i=Km(l,i,i.pendingProps,i.type,void 0,nn);break;case 11:i=Km(l,i,i.pendingProps,i.type.render,i.ref,nn);break;case 5:Vu(i);default:r1(l,i),i=en=Ql(i,ko),i=t1(l,i,ko)}r.memoizedProps=r.pendingProps,i===null?Of(r):en=i}function oc(r,i,l,c){Ma=Ps=null,Vu(i),Ke=null,_t=0;var m=i.return;try{if(pw(r,m,i,l,nn)){xr=1,wf(r,Hi(l,r.current)),en=null;return}}catch(b){if(m!==null)throw en=m,b;xr=1,wf(r,Hi(l,r.current)),en=null;return}i.flags&32768?(Qt||c===1?r=!0:rc||(nn&536870912)!==0?r=!1:(cl=r=!0,(c===2||c===9||c===3||c===6)&&(c=Xn.current,c!==null&&c.tag===13&&(c.flags|=16384))),O1(i,r)):Of(i)}function Of(r){var i=r;do{if((i.flags&32768)!==0){O1(i,cl);return}r=i.return;var l=yw(i.alternate,i,ko);if(l!==null){en=l;return}if(i=i.sibling,i!==null){en=i;return}en=i=r}while(i!==null);xr===0&&(xr=5)}function O1(r,i){do{var l=vw(r.alternate,r);if(l!==null){l.flags&=32767,en=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(r=r.sibling,r!==null)){en=r;return}en=r=l}while(r!==null);xr=6,en=null}function D1(r,i,l,c,m,b,R,G,fe){r.cancelPendingCommit=null;do Df();while(Kr!==0);if((_n&6)!==0)throw Error(a(327));if(i!==null){if(i===r.current)throw Error(a(177));if(b=i.lanes|i.childLanes,b|=Du,Sn(r,l,b,R,G,fe),r===Pn&&(en=Pn=null,nn=0),ac=i,hl=r,No=l,H0=b,$0=m,S1=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,Lw(Qe,function(){return P1(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=F.T,F.T=null,m=se.p,se.p=2,R=_n,_n|=4;try{bw(r,i,l)}finally{_n=R,se.p=m,F.T=c}}Kr=1,z1(),B1(),I1()}}function z1(){if(Kr===1){Kr=0;var r=hl,i=ac,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=F.T,F.T=null;var c=se.p;se.p=2;var m=_n;_n|=4;try{g1(i,r);var b=ap,R=cs(r.containerInfo),G=b.focusedElem,fe=b.selectionRange;if(R!==G&&G&&G.ownerDocument&&us(G.ownerDocument.documentElement,G)){if(fe!==null&&Ba(G)){var je=fe.start,qe=fe.end;if(qe===void 0&&(qe=je),"selectionStart"in G)G.selectionStart=je,G.selectionEnd=Math.min(qe,G.value.length);else{var Ve=G.ownerDocument||document,ze=Ve&&Ve.defaultView||window;if(ze.getSelection){var Be=ze.getSelection(),xt=G.textContent.length,Bt=Math.min(fe.start,xt),Bn=fe.end===void 0?Bt:Math.min(fe.end,xt);!Be.extend&&Bt>Bn&&(R=Bn,Bn=Bt,Bt=R);var Ae=Zo(G,Bt),ye=Zo(G,Bn);if(Ae&&ye&&(Be.rangeCount!==1||Be.anchorNode!==Ae.node||Be.anchorOffset!==Ae.offset||Be.focusNode!==ye.node||Be.focusOffset!==ye.offset)){var Re=Ve.createRange();Re.setStart(Ae.node,Ae.offset),Be.removeAllRanges(),Bt>Bn?(Be.addRange(Re),Be.extend(ye.node,ye.offset)):(Re.setEnd(ye.node,ye.offset),Be.addRange(Re))}}}}for(Ve=[],Be=G;Be=Be.parentNode;)Be.nodeType===1&&Ve.push({element:Be,left:Be.scrollLeft,top:Be.scrollTop});for(typeof G.focus=="function"&&G.focus(),G=0;G<Ve.length;G++){var Ge=Ve[G];Ge.element.scrollLeft=Ge.left,Ge.element.scrollTop=Ge.top}}Gf=!!ip,ap=ip=null}finally{_n=m,se.p=c,F.T=l}}r.current=i,Kr=2}}function B1(){if(Kr===2){Kr=0;var r=hl,i=ac,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=F.T,F.T=null;var c=se.p;se.p=2;var m=_n;_n|=4;try{c1(r,i.alternate,i)}finally{_n=m,se.p=c,F.T=l}}Kr=3}}function I1(){if(Kr===4||Kr===3){Kr=0,et();var r=hl,i=ac,l=No,c=S1;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Kr=5:(Kr=0,ac=hl=null,M1(r,r.pendingLanes));var m=r.pendingLanes;if(m===0&&(fl=null),Ln(l),i=i.stateNode,it&&typeof it.onCommitFiberRoot=="function")try{it.onCommitFiberRoot(ut,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=F.T,m=se.p,se.p=2,F.T=null;try{for(var b=r.onRecoverableError,R=0;R<c.length;R++){var G=c[R];b(G.value,{componentStack:G.stack})}}finally{F.T=i,se.p=m}}(No&3)!==0&&Df(),Vs(r),m=r.pendingLanes,(l&261930)!==0&&(m&42)!==0?r===W0?hd++:(hd=0,W0=r):hd=0,pd(0)}}function M1(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,nu(i)))}function Df(){return z1(),B1(),I1(),P1()}function P1(){if(Kr!==5)return!1;var r=hl,i=H0;H0=0;var l=Ln(No),c=F.T,m=se.p;try{se.p=32>l?32:l,F.T=null,l=$0,$0=null;var b=hl,R=No;if(Kr=0,ac=hl=null,No=0,(_n&6)!==0)throw Error(a(331));var G=_n;if(_n|=4,w1(b.current),y1(b,b.current,R,l),_n=G,pd(0,!1),it&&typeof it.onPostCommitFiberRoot=="function")try{it.onPostCommitFiberRoot(ut,b)}catch{}return!0}finally{se.p=m,F.T=c,M1(r,i)}}function U1(r,i,l){i=Hi(l,i),i=S0(r.stateNode,i,2),r=Vt(r,i,2),r!==null&&(At(r,2),Vs(r))}function Nn(r,i,l){if(r.tag===3)U1(r,r,l);else for(;i!==null;){if(i.tag===3){U1(i,r,l);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(fl===null||!fl.has(c))){r=Hi(l,r),l=qm(2),c=Vt(i,l,2),c!==null&&(Fm(l,c,i,r),At(c,2),Vs(c));break}}i=i.return}}function V0(r,i,l){var c=r.pingCache;if(c===null){c=r.pingCache=new _w;var m=new Set;c.set(i,m)}else m=c.get(i),m===void 0&&(m=new Set,c.set(i,m));m.has(l)||(U0=!0,m.add(l),r=kw.bind(null,r,i,l),i.then(r,r))}function kw(r,i,l){var c=r.pingCache;c!==null&&c.delete(i),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,Pn===r&&(nn&l)===l&&(xr===4||xr===3&&(nn&62914560)===nn&&300>st()-Nf?(_n&2)===0&&sc(r,0):q0|=l,ic===nn&&(ic=0)),Vs(r)}function q1(r,i){i===0&&(i=qn()),r=fs(r,i),r!==null&&(At(r,i),Vs(r))}function Nw(r){var i=r.memoizedState,l=0;i!==null&&(l=i.retryLane),q1(r,l)}function Cw(r,i){var l=0;switch(r.tag){case 31:case 13:var c=r.stateNode,m=r.memoizedState;m!==null&&(l=m.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(a(314))}c!==null&&c.delete(i),q1(r,l)}function Lw(r,i){return ve(r,i)}var zf=null,lc=null,K0=!1,Bf=!1,X0=!1,gl=0;function Vs(r){r!==lc&&r.next===null&&(lc===null?zf=lc=r:lc=lc.next=r),Bf=!0,K0||(K0=!0,jw())}function pd(r,i){if(!X0&&Bf){X0=!0;do for(var l=!1,c=zf;c!==null;){if(r!==0){var m=c.pendingLanes;if(m===0)var b=0;else{var R=c.suspendedLanes,G=c.pingedLanes;b=(1<<31-It(42|r)+1)-1,b&=m&~(R&~G),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(l=!0,W1(c,b))}else b=nn,b=qt(c,c===Pn?b:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(b&3)===0||hr(c,b)||(l=!0,W1(c,b));c=c.next}while(l);X0=!1}}function Rw(){F1()}function F1(){Bf=K0=!1;var r=0;gl!==0&&Fw()&&(r=gl);for(var i=st(),l=null,c=zf;c!==null;){var m=c.next,b=H1(c,i);b===0?(c.next=null,l===null?zf=m:l.next=m,m===null&&(lc=l)):(l=c,(r!==0||(b&3)!==0)&&(Bf=!0)),c=m}Kr!==0&&Kr!==5||pd(r),gl!==0&&(gl=0)}function H1(r,i){for(var l=r.suspendedLanes,c=r.pingedLanes,m=r.expirationTimes,b=r.pendingLanes&-62914561;0<b;){var R=31-It(b),G=1<<R,fe=m[R];fe===-1?((G&l)===0||(G&c)!==0)&&(m[R]=bn(G,i)):fe<=i&&(r.expiredLanes|=G),b&=~G}if(i=Pn,l=nn,l=qt(r,r===i?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,l===0||r===i&&(kn===2||kn===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&Ie(c),r.callbackNode=null,r.callbackPriority=0;if((l&3)===0||hr(r,l)){if(i=l&-l,i===r.callbackPriority)return i;switch(c!==null&&Ie(c),Ln(l)){case 2:case 8:l=ht;break;case 32:l=Qe;break;case 268435456:l=vt;break;default:l=Qe}return c=$1.bind(null,r),l=ve(l,c),r.callbackPriority=i,r.callbackNode=l,i}return c!==null&&c!==null&&Ie(c),r.callbackPriority=2,r.callbackNode=null,2}function $1(r,i){if(Kr!==0&&Kr!==5)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if(Df()&&r.callbackNode!==l)return null;var c=nn;return c=qt(r,r===Pn?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(E1(r,c,i),H1(r,st()),r.callbackNode!=null&&r.callbackNode===l?$1.bind(null,r):null)}function W1(r,i){if(Df())return null;E1(r,i,!0)}function jw(){$w(function(){(_n&6)!==0?ve(tt,Rw):F1()})}function J0(){if(gl===0){var r=p;r===0&&(r=Ot,Ot<<=1,(Ot&261888)===0&&(Ot=256)),gl=r}return gl}function G1(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:bi(""+r)}function Y1(r,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,r.id&&l.setAttribute("form",r.id),i.parentNode.insertBefore(l,i),r=new FormData(r),l.parentNode.removeChild(l),r}function Ow(r,i,l,c,m){if(i==="submit"&&l&&l.stateNode===m){var b=G1((m[Gn]||null).action),R=c.submitter;R&&(i=(i=R[Gn]||null)?G1(i.formAction):R.getAttribute("formAction"),i!==null&&(b=i,R=null));var G=new Pi("action","action",null,c,m);r.push({event:G,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(gl!==0){var fe=R?Y1(m,R):new FormData(m);y0(l,{pending:!0,data:fe,method:m.method,action:b},null,fe)}}else typeof b=="function"&&(G.preventDefault(),fe=R?Y1(m,R):new FormData(m),y0(l,{pending:!0,data:fe,method:m.method,action:b},b,fe))},currentTarget:m}]})}}for(var Z0=0;Z0<ho.length;Z0++){var Q0=ho[Z0],Dw=Q0.toLowerCase(),zw=Q0[0].toUpperCase()+Q0.slice(1);qi(Dw,"on"+zw)}qi(fo,"onAnimationEnd"),qi(Vl,"onAnimationIteration"),qi(Hc,"onAnimationStart"),qi("dblclick","onDoubleClick"),qi("focusin","onFocus"),qi("focusout","onBlur"),qi(of,"onTransitionRun"),qi(lf,"onTransitionStart"),qi(uf,"onTransitionCancel"),qi($c,"onTransitionEnd"),Ya("onMouseEnter",["mouseout","mouseover"]),Ya("onMouseLeave",["mouseout","mouseover"]),Ya("onPointerEnter",["pointerout","pointerover"]),Ya("onPointerLeave",["pointerout","pointerover"]),sa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),sa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),sa("onBeforeInput",["compositionend","keypress","textInput","paste"]),sa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),sa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),sa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gd));function V1(r,i){i=(i&4)!==0;for(var l=0;l<r.length;l++){var c=r[l],m=c.event;c=c.listeners;e:{var b=void 0;if(i)for(var R=c.length-1;0<=R;R--){var G=c[R],fe=G.instance,je=G.currentTarget;if(G=G.listener,fe!==b&&m.isPropagationStopped())break e;b=G,m.currentTarget=je;try{b(m)}catch(qe){Kl(qe)}m.currentTarget=null,b=fe}else for(R=0;R<c.length;R++){if(G=c[R],fe=G.instance,je=G.currentTarget,G=G.listener,fe!==b&&m.isPropagationStopped())break e;b=G,m.currentTarget=je;try{b(m)}catch(qe){Kl(qe)}m.currentTarget=null,b=fe}}}}function tn(r,i){var l=i[ki];l===void 0&&(l=i[ki]=new Set);var c=r+"__bubble";l.has(c)||(K1(i,r,2,!1),l.add(c))}function ep(r,i,l){var c=0;i&&(c|=4),K1(l,r,c,i)}var If="_reactListening"+Math.random().toString(36).slice(2);function tp(r){if(!r[If]){r[If]=!0,Rl.forEach(function(l){l!=="selectionchange"&&(Bw.has(l)||ep(l,!1,r),ep(l,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[If]||(i[If]=!0,ep("selectionchange",!1,i))}}function K1(r,i,l,c){switch(A2(i)){case 2:var m=cx;break;case 8:m=dx;break;default:m=mp}l=m.bind(null,i,l,r),m=void 0,!Hl||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(m=!0),c?m!==void 0?r.addEventListener(i,l,{capture:!0,passive:m}):r.addEventListener(i,l,!0):m!==void 0?r.addEventListener(i,l,{passive:m}):r.addEventListener(i,l,!1)}function np(r,i,l,c,m){var b=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var R=c.tag;if(R===3||R===4){var G=c.stateNode.containerInfo;if(G===m)break;if(R===4)for(R=c.return;R!==null;){var fe=R.tag;if((fe===3||fe===4)&&R.stateNode.containerInfo===m)return;R=R.return}for(;G!==null;){if(R=ia(G),R===null)return;if(fe=R.tag,fe===5||fe===6||fe===26||fe===27){c=b=R;continue e}G=G.parentNode}}c=c.return}Cu(function(){var je=b,qe=io(l),Ve=[];e:{var ze=Wc.get(r);if(ze!==void 0){var Be=Pi,xt=r;switch(r){case"keypress":if(Mi(l)===0)break e;case"keydown":case"keyup":Be=an;break;case"focusin":xt="focus",Be=ts;break;case"focusout":xt="blur",Be=ts;break;case"beforeblur":case"afterblur":Be=ts;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Be=$l;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Be=es;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Be=kr;break;case fo:case Vl:case Hc:Be=x;break;case $c:Be=Fr;break;case"scroll":case"scrollend":Be=Wo;break;case"wheel":Be=ca;break;case"copy":case"cut":case"paste":Be=ie;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Be=sr;break;case"toggle":case"beforetoggle":Be=Wl}var Bt=(i&4)!==0,Bn=!Bt&&(r==="scroll"||r==="scrollend"),Ae=Bt?ze!==null?ze+"Capture":null:ze;Bt=[];for(var ye=je,Re;ye!==null;){var Ge=ye;if(Re=Ge.stateNode,Ge=Ge.tag,Ge!==5&&Ge!==26&&Ge!==27||Re===null||Ae===null||(Ge=Li(ye,Ae),Ge!=null&&Bt.push(md(ye,Ge,Re))),Bn)break;ye=ye.return}0<Bt.length&&(ze=new Be(ze,xt,null,l,qe),Ve.push({event:ze,listeners:Bt}))}}if((i&7)===0){e:{if(ze=r==="mouseover"||r==="pointerover",Be=r==="mouseout"||r==="pointerout",ze&&l!==Ka&&(xt=l.relatedTarget||l.fromElement)&&(ia(xt)||xt[Qr]))break e;if((Be||ze)&&(ze=qe.window===qe?qe:(ze=qe.ownerDocument)?ze.defaultView||ze.parentWindow:window,Be?(xt=l.relatedTarget||l.toElement,Be=je,xt=xt?ia(xt):null,xt!==null&&(Bn=s(xt),Bt=xt.tag,xt!==Bn||Bt!==5&&Bt!==27&&Bt!==6)&&(xt=null)):(Be=null,xt=je),Be!==xt)){if(Bt=$l,Ge="onMouseLeave",Ae="onMouseEnter",ye="mouse",(r==="pointerout"||r==="pointerover")&&(Bt=sr,Ge="onPointerLeave",Ae="onPointerEnter",ye="pointer"),Bn=Be==null?ze:no(Be),Re=xt==null?ze:no(xt),ze=new Bt(Ge,ye+"leave",Be,l,qe),ze.target=Bn,ze.relatedTarget=Re,Ge=null,ia(qe)===je&&(Bt=new Bt(Ae,ye+"enter",xt,l,qe),Bt.target=Re,Bt.relatedTarget=Bn,Ge=Bt),Bn=Ge,Be&&xt)t:{for(Bt=Iw,Ae=Be,ye=xt,Re=0,Ge=Ae;Ge;Ge=Bt(Ge))Re++;Ge=0;for(var jt=ye;jt;jt=Bt(jt))Ge++;for(;0<Re-Ge;)Ae=Bt(Ae),Re--;for(;0<Ge-Re;)ye=Bt(ye),Ge--;for(;Re--;){if(Ae===ye||ye!==null&&Ae===ye.alternate){Bt=Ae;break t}Ae=Bt(Ae),ye=Bt(ye)}Bt=null}else Bt=null;Be!==null&&X1(Ve,ze,Be,Bt,!1),xt!==null&&Bn!==null&&X1(Ve,Bn,xt,Bt,!0)}}e:{if(ze=je?no(je):window,Be=ze.nodeName&&ze.nodeName.toLowerCase(),Be==="select"||Be==="input"&&ze.type==="file")var mn=zs;else if(Gl(ze))if(wi)mn=Da;else{mn=or;var Tt=Xo}else Be=ze.nodeName,!Be||Be.toLowerCase()!=="input"||ze.type!=="checkbox"&&ze.type!=="radio"?je&&Ul(je.elementType)&&(mn=zs):mn=Ou;if(mn&&(mn=mn(r,je))){ji(Ve,mn,l,qe);break e}Tt&&Tt(r,ze,je),r==="focusout"&&je&&ze.type==="number"&&je.memoizedProps.value!=null&&Il(ze,"number",ze.value)}switch(Tt=je?no(je):window,r){case"focusin":(Gl(Tt)||Tt.contentEditable==="true")&&(Oi=Tt,ds=je,ei=null);break;case"focusout":ei=ds=Oi=null;break;case"mousedown":Ui=!0;break;case"contextmenu":case"mouseup":case"dragend":Ui=!1,hn(Ve,l,qe);break;case"selectionchange":if(co)break;case"keydown":case"keyup":hn(Ve,l,qe)}var Kt;if(La)e:{switch(r){case"compositionstart":var rn="onCompositionStart";break e;case"compositionend":rn="onCompositionEnd";break e;case"compositionupdate":rn="onCompositionUpdate";break e}rn=void 0}else Ra?Ds(r,l)&&(rn="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(rn="onCompositionStart");rn&&(is&&l.locale!=="ko"&&(Ra||rn!=="onCompositionStart"?rn==="onCompositionEnd"&&Ra&&(Kt=Lu()):(Ri=qe,so="value"in Ri?Ri.value:Ri.textContent,Ra=!0)),Tt=Mf(je,rn),0<Tt.length&&(rn=new Se(rn,r,null,l,qe),Ve.push({event:rn,listeners:Tt}),Kt?rn.data=Kt:(Kt=Yo(l),Kt!==null&&(rn.data=Kt)))),(Kt=uo?ci(r,l):as(r,l))&&(rn=Mf(je,"onBeforeInput"),0<rn.length&&(Tt=new Se("onBeforeInput","beforeinput",null,l,qe),Ve.push({event:Tt,listeners:rn}),Tt.data=Kt)),Ow(Ve,r,je,l,qe)}V1(Ve,i)})}function md(r,i,l){return{instance:r,listener:i,currentTarget:l}}function Mf(r,i){for(var l=i+"Capture",c=[];r!==null;){var m=r,b=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||b===null||(m=Li(r,l),m!=null&&c.unshift(md(r,m,b)),m=Li(r,i),m!=null&&c.push(md(r,m,b))),r.tag===3)return c;r=r.return}return[]}function Iw(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function X1(r,i,l,c,m){for(var b=i._reactName,R=[];l!==null&&l!==c;){var G=l,fe=G.alternate,je=G.stateNode;if(G=G.tag,fe!==null&&fe===c)break;G!==5&&G!==26&&G!==27||je===null||(fe=je,m?(je=Li(l,b),je!=null&&R.unshift(md(l,je,fe))):m||(je=Li(l,b),je!=null&&R.push(md(l,je,fe)))),l=l.return}R.length!==0&&r.push({event:i,listeners:R})}var Mw=/\r\n?/g,Pw=/\u0000|\uFFFD/g;function J1(r){return(typeof r=="string"?r:""+r).replace(Mw,`
`).replace(Pw,"")}function Z1(r,i){return i=J1(i),J1(r)===i}function zn(r,i,l,c,m,b){switch(l){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||la(r,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&la(r,""+c);break;case"className":Va(r,"class",c);break;case"tabIndex":Va(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Va(r,l,c);break;case"style":Tu(r,c,b);break;case"data":if(i!=="object"){Va(r,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||l!=="href")){r.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(l);break}c=bi(""+c),r.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(l==="formAction"?(i!=="input"&&zn(r,i,"name",m.name,m,null),zn(r,i,"formEncType",m.formEncType,m,null),zn(r,i,"formMethod",m.formMethod,m,null),zn(r,i,"formTarget",m.formTarget,m,null)):(zn(r,i,"encType",m.encType,m,null),zn(r,i,"method",m.method,m,null),zn(r,i,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(l);break}c=bi(""+c),r.setAttribute(l,c);break;case"onClick":c!=null&&(r.onclick=ua);break;case"onScroll":c!=null&&tn("scroll",r);break;case"onScrollEnd":c!=null&&tn("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(a(60));r.innerHTML=l}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}l=bi(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,""+c):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":c===!0?r.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,c):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(l,c):r.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(l):r.setAttribute(l,c);break;case"popover":tn("beforetoggle",r),tn("toggle",r),Ci(r,"popover",c);break;case"xlinkActuate":oa(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":oa(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":oa(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":oa(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":oa(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":oa(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":oa(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":oa(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":oa(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Ci(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=ql.get(l)||l,Ci(r,l,c))}}function rp(r,i,l,c,m,b){switch(l){case"style":Tu(r,c,b);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(a(60));r.innerHTML=l}}break;case"children":typeof c=="string"?la(r,c):(typeof c=="number"||typeof c=="bigint")&&la(r,""+c);break;case"onScroll":c!=null&&tn("scroll",r);break;case"onScrollEnd":c!=null&&tn("scrollend",r);break;case"onClick":c!=null&&(r.onclick=ua);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ni.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),i=l.slice(2,m?l.length-7:void 0),b=r[Gn]||null,b=b!=null?b[l]:null,typeof b=="function"&&r.removeEventListener(i,b,m),typeof c=="function")){typeof b!="function"&&b!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(i,c,m);break e}l in r?r[l]=c:c===!0?r.setAttribute(l,""):Ci(r,l,c)}}}function gi(r,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":tn("error",r),tn("load",r);var c=!1,m=!1,b;for(b in l)if(l.hasOwnProperty(b)){var R=l[b];if(R!=null)switch(b){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:zn(r,i,b,R,l,null)}}m&&zn(r,i,"srcSet",l.srcSet,l,null),c&&zn(r,i,"src",l.src,l,null);return;case"input":tn("invalid",r);var G=b=R=m=null,fe=null,je=null;for(c in l)if(l.hasOwnProperty(c)){var qe=l[c];if(qe!=null)switch(c){case"name":m=qe;break;case"type":R=qe;break;case"checked":fe=qe;break;case"defaultChecked":je=qe;break;case"value":b=qe;break;case"defaultValue":G=qe;break;case"children":case"dangerouslySetInnerHTML":if(qe!=null)throw Error(a(137,i));break;default:zn(r,i,c,qe,l,null)}}Au(r,b,G,fe,je,R,m,!1);return;case"select":tn("invalid",r),c=R=b=null;for(m in l)if(l.hasOwnProperty(m)&&(G=l[m],G!=null))switch(m){case"value":b=G;break;case"defaultValue":R=G;break;case"multiple":c=G;default:zn(r,i,m,G,l,null)}i=b,l=R,r.multiple=!!c,i!=null?ui(r,!!c,i,!1):l!=null&&ui(r,!!c,l,!0);return;case"textarea":tn("invalid",r),b=m=c=null;for(R in l)if(l.hasOwnProperty(R)&&(G=l[R],G!=null))switch(R){case"value":c=G;break;case"defaultValue":m=G;break;case"children":b=G;break;case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(91));break;default:zn(r,i,R,G,l,null)}Pl(r,c,m,b);return;case"option":for(fe in l)l.hasOwnProperty(fe)&&(c=l[fe],c!=null)&&(fe==="selected"?r.selected=c&&typeof c!="function"&&typeof c!="symbol":zn(r,i,fe,c,l,null));return;case"dialog":tn("beforetoggle",r),tn("toggle",r),tn("cancel",r),tn("close",r);break;case"iframe":case"object":tn("load",r);break;case"video":case"audio":for(c=0;c<gd.length;c++)tn(gd[c],r);break;case"image":tn("error",r),tn("load",r);break;case"details":tn("toggle",r);break;case"embed":case"source":case"link":tn("error",r),tn("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(je in l)if(l.hasOwnProperty(je)&&(c=l[je],c!=null))switch(je){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:zn(r,i,je,c,l,null)}return;default:if(Ul(i)){for(qe in l)l.hasOwnProperty(qe)&&(c=l[qe],c!==void 0&&rp(r,i,qe,c,l,void 0));return}}for(G in l)l.hasOwnProperty(G)&&(c=l[G],c!=null&&zn(r,i,G,c,l,null))}function Uw(r,i,l,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,b=null,R=null,G=null,fe=null,je=null,qe=null;for(Be in l){var Ve=l[Be];if(l.hasOwnProperty(Be)&&Ve!=null)switch(Be){case"checked":break;case"value":break;case"defaultValue":fe=Ve;default:c.hasOwnProperty(Be)||zn(r,i,Be,null,c,Ve)}}for(var ze in c){var Be=c[ze];if(Ve=l[ze],c.hasOwnProperty(ze)&&(Be!=null||Ve!=null))switch(ze){case"type":b=Be;break;case"name":m=Be;break;case"checked":je=Be;break;case"defaultChecked":qe=Be;break;case"value":R=Be;break;case"defaultValue":G=Be;break;case"children":case"dangerouslySetInnerHTML":if(Be!=null)throw Error(a(137,i));break;default:Be!==Ve&&zn(r,i,ze,Be,c,Ve)}}Fo(r,R,G,fe,je,qe,b,m);return;case"select":Be=R=G=ze=null;for(b in l)if(fe=l[b],l.hasOwnProperty(b)&&fe!=null)switch(b){case"value":break;case"multiple":Be=fe;default:c.hasOwnProperty(b)||zn(r,i,b,null,c,fe)}for(m in c)if(b=c[m],fe=l[m],c.hasOwnProperty(m)&&(b!=null||fe!=null))switch(m){case"value":ze=b;break;case"defaultValue":G=b;break;case"multiple":R=b;default:b!==fe&&zn(r,i,m,b,c,fe)}i=G,l=R,c=Be,ze!=null?ui(r,!!l,ze,!1):!!c!=!!l&&(i!=null?ui(r,!!l,i,!0):ui(r,!!l,l?[]:"",!1));return;case"textarea":Be=ze=null;for(G in l)if(m=l[G],l.hasOwnProperty(G)&&m!=null&&!c.hasOwnProperty(G))switch(G){case"value":break;case"children":break;default:zn(r,i,G,null,c,m)}for(R in c)if(m=c[R],b=l[R],c.hasOwnProperty(R)&&(m!=null||b!=null))switch(R){case"value":ze=m;break;case"defaultValue":Be=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(a(91));break;default:m!==b&&zn(r,i,R,m,c,b)}Ml(r,ze,Be);return;case"option":for(var xt in l)ze=l[xt],l.hasOwnProperty(xt)&&ze!=null&&!c.hasOwnProperty(xt)&&(xt==="selected"?r.selected=!1:zn(r,i,xt,null,c,ze));for(fe in c)ze=c[fe],Be=l[fe],c.hasOwnProperty(fe)&&ze!==Be&&(ze!=null||Be!=null)&&(fe==="selected"?r.selected=ze&&typeof ze!="function"&&typeof ze!="symbol":zn(r,i,fe,ze,c,Be));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Bt in l)ze=l[Bt],l.hasOwnProperty(Bt)&&ze!=null&&!c.hasOwnProperty(Bt)&&zn(r,i,Bt,null,c,ze);for(je in c)if(ze=c[je],Be=l[je],c.hasOwnProperty(je)&&ze!==Be&&(ze!=null||Be!=null))switch(je){case"children":case"dangerouslySetInnerHTML":if(ze!=null)throw Error(a(137,i));break;default:zn(r,i,je,ze,c,Be)}return;default:if(Ul(i)){for(var Bn in l)ze=l[Bn],l.hasOwnProperty(Bn)&&ze!==void 0&&!c.hasOwnProperty(Bn)&&rp(r,i,Bn,void 0,c,ze);for(qe in c)ze=c[qe],Be=l[qe],!c.hasOwnProperty(qe)||ze===Be||ze===void 0&&Be===void 0||rp(r,i,qe,ze,c,Be);return}}for(var Ae in l)ze=l[Ae],l.hasOwnProperty(Ae)&&ze!=null&&!c.hasOwnProperty(Ae)&&zn(r,i,Ae,null,c,ze);for(Ve in c)ze=c[Ve],Be=l[Ve],!c.hasOwnProperty(Ve)||ze===Be||ze==null&&Be==null||zn(r,i,Ve,ze,c,Be)}function Q1(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function qw(){if(typeof performance.getEntriesByType=="function"){for(var r=0,i=0,l=performance.getEntriesByType("resource"),c=0;c<l.length;c++){var m=l[c],b=m.transferSize,R=m.initiatorType,G=m.duration;if(b&&G&&Q1(R)){for(R=0,G=m.responseEnd,c+=1;c<l.length;c++){var fe=l[c],je=fe.startTime;if(je>G)break;var qe=fe.transferSize,Ve=fe.initiatorType;qe&&Q1(Ve)&&(fe=fe.responseEnd,R+=qe*(fe<G?1:(G-je)/(fe-je)))}if(--c,i+=8*(b+R)/(m.duration/1e3),r++,10<r)break}}if(0<r)return i/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var ip=null,ap=null;function Pf(r){return r.nodeType===9?r:r.ownerDocument}function e2(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function t2(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function sp(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var op=null;function Fw(){var r=window.event;return r&&r.type==="popstate"?r===op?!1:(op=r,!0):(op=null,!1)}var n2=typeof setTimeout=="function"?setTimeout:void 0,Hw=typeof clearTimeout=="function"?clearTimeout:void 0,r2=typeof Promise=="function"?Promise:void 0,$w=typeof queueMicrotask=="function"?queueMicrotask:typeof r2<"u"?function(r){return r2.resolve(null).then(r).catch(Ww)}:n2;function Ww(r){setTimeout(function(){throw r})}function ml(r){return r==="head"}function i2(r,i){var l=i,c=0;do{var m=l.nextSibling;if(r.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"||l==="/&"){if(c===0){r.removeChild(m),fc(i);return}c--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")c++;else if(l==="html")yd(r.ownerDocument.documentElement);else if(l==="head"){l=r.ownerDocument.head,yd(l);for(var b=l.firstChild;b;){var R=b.nextSibling,G=b.nodeName;b[ra]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&b.rel.toLowerCase()==="stylesheet"||l.removeChild(b),b=R}}else l==="body"&&yd(r.ownerDocument.body);l=m}while(l);fc(i)}function a2(r,i){var l=r;r=0;do{var c=l.nextSibling;if(l.nodeType===1?i?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(i?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),c&&c.nodeType===8)if(l=c.data,l==="/$"){if(r===0)break;r--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||r++;l=c}while(l)}function lp(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":lp(l),Ls(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function Gw(r,i,l,c){for(;r.nodeType===1;){var m=l;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[ra])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(b=r.getAttribute("rel"),b==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(b!==m.rel||r.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||r.getAttribute("title")!==(m.title==null?null:m.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(b=r.getAttribute("src"),(b!==(m.src==null?null:m.src)||r.getAttribute("type")!==(m.type==null?null:m.type)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&b&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var b=m.name==null?null:""+m.name;if(m.type==="hidden"&&r.getAttribute("name")===b)return r}else return r;if(r=qa(r.nextSibling),r===null)break}return null}function Yw(r,i,l){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=qa(r.nextSibling),r===null))return null;return r}function s2(r,i){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!i||(r=qa(r.nextSibling),r===null))return null;return r}function up(r){return r.data==="$?"||r.data==="$~"}function cp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function Vw(r,i){var l=r.ownerDocument;if(r.data==="$~")r._reactRetry=i;else if(r.data!=="$?"||l.readyState!=="loading")i();else{var c=function(){i(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function qa(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return r}var dp=null;function o2(r){r=r.nextSibling;for(var i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"||l==="/&"){if(i===0)return qa(r.nextSibling);i--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||i++}r=r.nextSibling}return null}function l2(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(i===0)return r;i--}else l!=="/$"&&l!=="/&"||i++}r=r.previousSibling}return null}function u2(r,i,l){switch(i=Pf(l),r){case"html":if(r=i.documentElement,!r)throw Error(a(452));return r;case"head":if(r=i.head,!r)throw Error(a(453));return r;case"body":if(r=i.body,!r)throw Error(a(454));return r;default:throw Error(a(451))}}function yd(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);Ls(r)}var Fa=new Map,c2=new Set;function Uf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Co=se.d;se.d={f:Kw,r:Xw,D:Jw,C:Zw,L:Qw,m:ex,X:nx,S:tx,M:rx};function Kw(){var r=Co.f(),i=Rf();return r||i}function Xw(r){var i=aa(r);i!==null&&i.tag===5&&i.type==="form"?km(i):Co.r(r)}var uc=typeof document>"u"?null:document;function d2(r,i,l){var c=uc;if(c&&typeof i=="string"&&i){var m=pr(i);m='link[rel="'+r+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),c2.has(m)||(c2.add(m),r={rel:r,crossOrigin:l,href:i},c.querySelector(m)===null&&(i=c.createElement("link"),gi(i,"link",r),ar(i),c.head.appendChild(i)))}}function Jw(r){Co.D(r),d2("dns-prefetch",r,null)}function Zw(r,i){Co.C(r,i),d2("preconnect",r,i)}function Qw(r,i,l){Co.L(r,i,l);var c=uc;if(c&&r&&i){var m='link[rel="preload"][as="'+pr(i)+'"]';i==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+pr(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+pr(l.imageSizes)+'"]')):m+='[href="'+pr(r)+'"]';var b=m;switch(i){case"style":b=cc(r);break;case"script":b=dc(r)}Fa.has(b)||(r=w({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:r,as:i},l),Fa.set(b,r),c.querySelector(m)!==null||i==="style"&&c.querySelector(vd(b))||i==="script"&&c.querySelector(bd(b))||(i=c.createElement("link"),gi(i,"link",r),ar(i),c.head.appendChild(i)))}}function ex(r,i){Co.m(r,i);var l=uc;if(l&&r){var c=i&&typeof i.as=="string"?i.as:"script",m='link[rel="modulepreload"][as="'+pr(c)+'"][href="'+pr(r)+'"]',b=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=dc(r)}if(!Fa.has(b)&&(r=w({rel:"modulepreload",href:r},i),Fa.set(b,r),l.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(bd(b)))return}c=l.createElement("link"),gi(c,"link",r),ar(c),l.head.appendChild(c)}}}function tx(r,i,l){Co.S(r,i,l);var c=uc;if(c&&r){var m=Ta(c).hoistableStyles,b=cc(r);i=i||"default";var R=m.get(b);if(!R){var G={loading:0,preload:null};if(R=c.querySelector(vd(b)))G.loading=5;else{r=w({rel:"stylesheet",href:r,"data-precedence":i},l),(l=Fa.get(b))&&fp(r,l);var fe=R=c.createElement("link");ar(fe),gi(fe,"link",r),fe._p=new Promise(function(je,qe){fe.onload=je,fe.onerror=qe}),fe.addEventListener("load",function(){G.loading|=1}),fe.addEventListener("error",function(){G.loading|=2}),G.loading|=4,qf(R,i,c)}R={type:"stylesheet",instance:R,count:1,state:G},m.set(b,R)}}}function nx(r,i){Co.X(r,i);var l=uc;if(l&&r){var c=Ta(l).hoistableScripts,m=dc(r),b=c.get(m);b||(b=l.querySelector(bd(m)),b||(r=w({src:r,async:!0},i),(i=Fa.get(m))&&hp(r,i),b=l.createElement("script"),ar(b),gi(b,"link",r),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},c.set(m,b))}}function rx(r,i){Co.M(r,i);var l=uc;if(l&&r){var c=Ta(l).hoistableScripts,m=dc(r),b=c.get(m);b||(b=l.querySelector(bd(m)),b||(r=w({src:r,async:!0,type:"module"},i),(i=Fa.get(m))&&hp(r,i),b=l.createElement("script"),ar(b),gi(b,"link",r),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},c.set(m,b))}}function f2(r,i,l,c){var m=(m=ee.current)?Uf(m):null;if(!m)throw Error(a(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=cc(l.href),l=Ta(m).hoistableStyles,c=l.get(i),c||(c={type:"style",instance:null,count:0,state:null},l.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=cc(l.href);var b=Ta(m).hoistableStyles,R=b.get(r);if(R||(m=m.ownerDocument||m,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(r,R),(b=m.querySelector(vd(r)))&&!b._p&&(R.instance=b,R.state.loading=5),Fa.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Fa.set(r,l),b||ix(m,r,l,R.state))),i&&c===null)throw Error(a(528,""));return R}if(i&&c!==null)throw Error(a(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=dc(l),l=Ta(m).hoistableScripts,c=l.get(i),c||(c={type:"script",instance:null,count:0,state:null},l.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,r))}}function cc(r){return'href="'+pr(r)+'"'}function vd(r){return'link[rel="stylesheet"]['+r+"]"}function h2(r){return w({},r,{"data-precedence":r.precedence,precedence:null})}function ix(r,i,l,c){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=r.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),gi(i,"link",l),ar(i),r.head.appendChild(i))}function dc(r){return'[src="'+pr(r)+'"]'}function bd(r){return"script[async]"+r}function p2(r,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var c=r.querySelector('style[data-href~="'+pr(l.href)+'"]');if(c)return i.instance=c,ar(c),c;var m=w({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),ar(c),gi(c,"style",m),qf(c,l.precedence,r),i.instance=c;case"stylesheet":m=cc(l.href);var b=r.querySelector(vd(m));if(b)return i.state.loading|=4,i.instance=b,ar(b),b;c=h2(l),(m=Fa.get(m))&&fp(c,m),b=(r.ownerDocument||r).createElement("link"),ar(b);var R=b;return R._p=new Promise(function(G,fe){R.onload=G,R.onerror=fe}),gi(b,"link",c),i.state.loading|=4,qf(b,l.precedence,r),i.instance=b;case"script":return b=dc(l.src),(m=r.querySelector(bd(b)))?(i.instance=m,ar(m),m):(c=l,(m=Fa.get(b))&&(c=w({},l),hp(c,m)),r=r.ownerDocument||r,m=r.createElement("script"),ar(m),gi(m,"link",c),r.head.appendChild(m),i.instance=m);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,qf(c,l.precedence,r));return i.instance}function qf(r,i,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,b=m,R=0;R<c.length;R++){var G=c[R];if(G.dataset.precedence===i)b=G;else if(b!==m)break}b?b.parentNode.insertBefore(r,b.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(r,i.firstChild))}function fp(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function hp(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var Ff=null;function g2(r,i,l){if(Ff===null){var c=new Map,m=Ff=new Map;m.set(l,c)}else m=Ff,c=m.get(l),c||(c=new Map,m.set(l,c));if(c.has(r))return c;for(c.set(r,null),l=l.getElementsByTagName(r),m=0;m<l.length;m++){var b=l[m];if(!(b[ra]||b[En]||r==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var R=b.getAttribute(i)||"";R=r+R;var G=c.get(R);G?G.push(b):c.set(R,[b])}}return c}function m2(r,i,l){r=r.ownerDocument||r,r.head.insertBefore(l,i==="title"?r.querySelector("head > title"):null)}function ax(r,i,l){if(l===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(r=i.disabled,typeof i.precedence=="string"&&r==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function y2(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function sx(r,i,l,c){if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var m=cc(c.href),b=i.querySelector(vd(m));if(b){i=b._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(r.count++,r=Hf.bind(r),i.then(r,r)),l.state.loading|=4,l.instance=b,ar(b);return}b=i.ownerDocument||i,c=h2(c),(m=Fa.get(m))&&fp(c,m),b=b.createElement("link"),ar(b);var R=b;R._p=new Promise(function(G,fe){R.onload=G,R.onerror=fe}),gi(b,"link",c),l.instance=b}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(l,i),(i=l.state.preload)&&(l.state.loading&3)===0&&(r.count++,l=Hf.bind(r),i.addEventListener("load",l),i.addEventListener("error",l))}}var pp=0;function ox(r,i){return r.stylesheets&&r.count===0&&Wf(r,r.stylesheets),0<r.count||0<r.imgCount?function(l){var c=setTimeout(function(){if(r.stylesheets&&Wf(r,r.stylesheets),r.unsuspend){var b=r.unsuspend;r.unsuspend=null,b()}},6e4+i);0<r.imgBytes&&pp===0&&(pp=62500*qw());var m=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&Wf(r,r.stylesheets),r.unsuspend)){var b=r.unsuspend;r.unsuspend=null,b()}},(r.imgBytes>pp?50:800)+i);return r.unsuspend=l,function(){r.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function Hf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Wf(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var $f=null;function Wf(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,$f=new Map,i.forEach(lx,r),$f=null,Hf.call(r))}function lx(r,i){if(!(i.state.loading&4)){var l=$f.get(r);if(l)var c=l.get(null);else{l=new Map,$f.set(r,l);for(var m=r.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<m.length;b++){var R=m[b];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(l.set(R.dataset.precedence,R),c=R)}c&&l.set(null,c)}m=i.instance,R=m.getAttribute("data-precedence"),b=l.get(R)||c,b===c&&l.set(null,m),l.set(R,m),this.count++,c=Hf.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),b?b.parentNode.insertBefore(m,b.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(m,r.firstChild)),i.state.loading|=4}}var wd={$$typeof:D,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function ux(r,i,l,c,m,b,R,G,fe){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$n(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$n(0),this.hiddenUpdates=$n(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=b,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=fe,this.incompleteTransitions=new Map}function v2(r,i,l,c,m,b,R,G,fe,je,qe,Ve){return r=new ux(r,i,l,R,fe,je,qe,Ve,G),i=1,b===!0&&(i|=24),b=ni(3,null,null,i),r.current=b,b.stateNode=r,i=il(),i.refCount++,r.pooledCache=i,i.refCount++,b.memoizedState={element:c,isDehydrated:l,cache:i},ot(b),r}function b2(r){return r?(r=$r,r):$r}function w2(r,i,l,c,m,b){m=b2(m),c.context===null?c.context=m:c.pendingContext=m,c=zt(i),c.payload={element:l},b=b===void 0?null:b,b!==null&&(c.callback=b),l=Vt(r,c,i),l!==null&&(ea(l,r,i),wn(l,r,i))}function x2(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<i?l:i}}function gp(r,i){x2(r,i),(r=r.alternate)&&x2(r,i)}function _2(r){if(r.tag===13||r.tag===31){var i=fs(r,67108864);i!==null&&ea(i,r,67108864),gp(r,67108864)}}function S2(r){if(r.tag===13||r.tag===31){var i=va();i=gn(i);var l=fs(r,i);l!==null&&ea(l,r,i),gp(r,i)}}var Gf=!0;function cx(r,i,l,c){var m=F.T;F.T=null;var b=se.p;try{se.p=2,mp(r,i,l,c)}finally{se.p=b,F.T=m}}function dx(r,i,l,c){var m=F.T;F.T=null;var b=se.p;try{se.p=8,mp(r,i,l,c)}finally{se.p=b,F.T=m}}function mp(r,i,l,c){if(Gf){var m=yp(c);if(m===null)np(r,i,c,Yf,l),E2(r,c);else if(hx(m,r,i,l,c))c.stopPropagation();else if(E2(r,c),i&4&&-1<fx.indexOf(r)){for(;m!==null;){var b=aa(m);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var R=pt(b.pendingLanes);if(R!==0){var G=b;for(G.pendingLanes|=2,G.entangledLanes|=2;R;){var fe=1<<31-It(R);G.entanglements[1]|=fe,R&=~fe}Vs(b),(_n&6)===0&&(Cf=st()+500,pd(0))}}break;case 31:case 13:G=fs(b,2),G!==null&&ea(G,b,2),Rf(),gp(b,2)}if(b=yp(c),b===null&&np(r,i,c,Yf,l),b===m)break;m=b}m!==null&&c.stopPropagation()}else np(r,i,c,null,l)}}function yp(r){return r=io(r),vp(r)}var Yf=null;function vp(r){if(Yf=null,r=ia(r),r!==null){var i=s(r);if(i===null)r=null;else{var l=i.tag;if(l===13){if(r=u(i),r!==null)return r;r=null}else if(l===31){if(r=d(i),r!==null)return r;r=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return Yf=r,null}function A2(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ft()){case tt:return 2;case ht:return 8;case Qe:case Ze:return 32;case vt:return 268435456;default:return 32}default:return 32}}var bp=!1,yl=null,vl=null,bl=null,xd=new Map,_d=new Map,wl=[],fx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function E2(r,i){switch(r){case"focusin":case"focusout":yl=null;break;case"dragenter":case"dragleave":vl=null;break;case"mouseover":case"mouseout":bl=null;break;case"pointerover":case"pointerout":xd.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":_d.delete(i.pointerId)}}function Sd(r,i,l,c,m,b){return r===null||r.nativeEvent!==b?(r={blockedOn:i,domEventName:l,eventSystemFlags:c,nativeEvent:b,targetContainers:[m]},i!==null&&(i=aa(i),i!==null&&_2(i)),r):(r.eventSystemFlags|=c,i=r.targetContainers,m!==null&&i.indexOf(m)===-1&&i.push(m),r)}function hx(r,i,l,c,m){switch(i){case"focusin":return yl=Sd(yl,r,i,l,c,m),!0;case"dragenter":return vl=Sd(vl,r,i,l,c,m),!0;case"mouseover":return bl=Sd(bl,r,i,l,c,m),!0;case"pointerover":var b=m.pointerId;return xd.set(b,Sd(xd.get(b)||null,r,i,l,c,m)),!0;case"gotpointercapture":return b=m.pointerId,_d.set(b,Sd(_d.get(b)||null,r,i,l,c,m)),!0}return!1}function T2(r){var i=ia(r.target);if(i!==null){var l=s(i);if(l!==null){if(i=l.tag,i===13){if(i=u(l),i!==null){r.blockedOn=i,vi(r.priority,function(){S2(l)});return}}else if(i===31){if(i=d(l),i!==null){r.blockedOn=i,vi(r.priority,function(){S2(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Vf(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var l=yp(r.nativeEvent);if(l===null){l=r.nativeEvent;var c=new l.constructor(l.type,l);Ka=c,l.target.dispatchEvent(c),Ka=null}else return i=aa(l),i!==null&&_2(i),r.blockedOn=l,!1;i.shift()}return!0}function k2(r,i,l){Vf(r)&&l.delete(i)}function px(){bp=!1,yl!==null&&Vf(yl)&&(yl=null),vl!==null&&Vf(vl)&&(vl=null),bl!==null&&Vf(bl)&&(bl=null),xd.forEach(k2),_d.forEach(k2)}function Kf(r,i){r.blockedOn===i&&(r.blockedOn=null,bp||(bp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,px)))}var Xf=null;function N2(r){Xf!==r&&(Xf=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Xf===r&&(Xf=null);for(var i=0;i<r.length;i+=3){var l=r[i],c=r[i+1],m=r[i+2];if(typeof c!="function"){if(vp(c||l)===null)continue;break}var b=aa(l);b!==null&&(r.splice(i,3),i-=3,y0(b,{pending:!0,data:m,method:l.method,action:c},c,m))}}))}function fc(r){function i(fe){return Kf(fe,r)}yl!==null&&Kf(yl,r),vl!==null&&Kf(vl,r),bl!==null&&Kf(bl,r),xd.forEach(i),_d.forEach(i);for(var l=0;l<wl.length;l++){var c=wl[l];c.blockedOn===r&&(c.blockedOn=null)}for(;0<wl.length&&(l=wl[0],l.blockedOn===null);)T2(l),l.blockedOn===null&&wl.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var m=l[c],b=l[c+1],R=m[Gn]||null;if(typeof b=="function")R||N2(l);else if(R){var G=null;if(b&&b.hasAttribute("formAction")){if(m=b,R=b[Gn]||null)G=R.formAction;else if(vp(m)!==null)continue}else G=R.action;typeof G=="function"?l[c+1]=G:(l.splice(c,3),c-=3),N2(l)}}}function C2(){function r(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(R){return m=R})},focusReset:"manual",scroll:"manual"})}function i(){m!==null&&(m(),m=null),c||setTimeout(l,20)}function l(){if(!c&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(l,100),function(){c=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),m!==null&&(m(),m=null)}}}function wp(r){this._internalRoot=r}Jf.prototype.render=wp.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(a(409));var l=i.current,c=va();w2(l,c,r,i,null,null)},Jf.prototype.unmount=wp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;w2(r.current,2,null,r,null,null),Rf(),i[Qr]=null}};function Jf(r){this._internalRoot=r}Jf.prototype.unstable_scheduleHydration=function(r){if(r){var i=An();r={blockedOn:null,target:r,priority:i};for(var l=0;l<wl.length&&i!==0&&i<wl[l].priority;l++);wl.splice(l,0,r),l===0&&T2(r)}};var L2=e.version;if(L2!=="19.2.3")throw Error(a(527,L2,"19.2.3"));se.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(a(188)):(r=Object.keys(r).join(","),Error(a(268,r)));return r=h(i),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var gx={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zf.isDisabled&&Zf.supportsFiber)try{ut=Zf.inject(gx),it=Zf}catch{}}return Ed.createRoot=function(r,i){if(!o(r))throw Error(a(299));var l=!1,c="",m=Im,b=Mm,R=Pm;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(m=i.onUncaughtError),i.onCaughtError!==void 0&&(b=i.onCaughtError),i.onRecoverableError!==void 0&&(R=i.onRecoverableError)),i=v2(r,1,!1,null,null,l,c,null,m,b,R,C2),r[Qr]=i.current,tp(r),new wp(i)},Ed.hydrateRoot=function(r,i,l){if(!o(r))throw Error(a(299));var c=!1,m="",b=Im,R=Mm,G=Pm,fe=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(R=l.onCaughtError),l.onRecoverableError!==void 0&&(G=l.onRecoverableError),l.formState!==void 0&&(fe=l.formState)),i=v2(r,1,!0,i,l??null,c,m,fe,b,R,G,C2),i.context=b2(null),l=i.current,c=va(),c=gn(c),m=zt(c),m.callback=null,Vt(l,m,c),l=c,i.current.lanes=l,At(i,l),Vs(i),r[Qr]=i.current,tp(r),new Jf(i)},Ed.version="19.2.3",Ed}var U2;function Ex(){if(U2)return Sp.exports;U2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Sp.exports=Ax(),Sp.exports}var Tx=Ex();let kx={data:""},Nx=t=>{if(typeof window=="object"){let e=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||kx},Cx=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Lx=/\/\*[^]*?\*\/|  +/g,q2=/\n+/g,Tl=(t,e)=>{let n="",a="",o="";for(let s in t){let u=t[s];s[0]=="@"?s[1]=="i"?n=s+" "+u+";":a+=s[1]=="f"?Tl(u,s):s+"{"+Tl(u,s[1]=="k"?"":e)+"}":typeof u=="object"?a+=Tl(u,e?e.replace(/([^,])+/g,d=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,f=>/&/.test(f)?f.replace(/&/g,d):d?d+" "+f:f)):s):u!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=Tl.p?Tl.p(s,u):s+":"+u+";")}return n+(e&&o?e+"{"+o+"}":o)+a},Lo={},Gy=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+Gy(t[n]);return e}return t},Rx=(t,e,n,a,o)=>{let s=Gy(t),u=Lo[s]||(Lo[s]=(f=>{let h=0,g=11;for(;h<f.length;)g=101*g+f.charCodeAt(h++)>>>0;return"go"+g})(s));if(!Lo[u]){let f=s!==t?t:(h=>{let g,w,S=[{}];for(;g=Cx.exec(h.replace(Lx,""));)g[4]?S.shift():g[3]?(w=g[3].replace(q2," ").trim(),S.unshift(S[0][w]=S[0][w]||{})):S[0][g[1]]=g[2].replace(q2," ").trim();return S[0]})(t);Lo[u]=Tl(o?{["@keyframes "+u]:f}:f,n?"":"."+u)}let d=n&&Lo.g?Lo.g:null;return n&&(Lo.g=Lo[u]),((f,h,g,w)=>{w?h.data=h.data.replace(w,f):h.data.indexOf(f)===-1&&(h.data=g?f+h.data:h.data+f)})(Lo[u],e,a,d),u},jx=(t,e,n)=>t.reduce((a,o,s)=>{let u=e[s];if(u&&u.call){let d=u(n),f=d&&d.props&&d.props.className||/^go/.test(d)&&d;u=f?"."+f:d&&typeof d=="object"?d.props?"":Tl(d,""):d===!1?"":d}return a+o+(u??"")},"");function Wh(t){let e=this||{},n=t.call?t(e.p):t;return Rx(n.unshift?n.raw?jx(n,[].slice.call(arguments,1),e.p):n.reduce((a,o)=>Object.assign(a,o&&o.call?o(e.p):o),{}):n,Nx(e.target),e.g,e.o,e.k)}let Yy,dg,fg;Wh.bind({g:1});let Io=Wh.bind({k:1});function Ox(t,e,n,a){Tl.p=e,Yy=t,dg=n,fg=a}function Ll(t,e){let n=this||{};return function(){let a=arguments;function o(s,u){let d=Object.assign({},s),f=d.className||o.className;n.p=Object.assign({theme:dg&&dg()},d),n.o=/ *go\d+/.test(f),d.className=Wh.apply(n,a)+(f?" "+f:"");let h=t;return t[0]&&(h=d.as||t,delete d.as),fg&&h[0]&&fg(d),Yy(h,d)}return o}}var Dx=t=>typeof t=="function",Nh=(t,e)=>Dx(t)?t(e):t,zx=(()=>{let t=0;return()=>(++t).toString()})(),Vy=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),Bx=20,Hg="default",Ky=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(u=>u.id===e.toast.id?{...u,...e.toast}:u)};case 2:let{toast:a}=e;return Ky(t,{type:t.toasts.find(u=>u.id===a.id)?1:0,toast:a});case 3:let{toastId:o}=e;return{...t,toasts:t.toasts.map(u=>u.id===o||o===void 0?{...u,dismissed:!0,visible:!1}:u)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(u=>u.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(u=>({...u,pauseDuration:u.pauseDuration+s}))}}},vh=[],Xy={toasts:[],pausedAt:void 0,settings:{toastLimit:Bx}},Zs={},Jy=(t,e=Hg)=>{Zs[e]=Ky(Zs[e]||Xy,t),vh.forEach(([n,a])=>{n===e&&a(Zs[e])})},Zy=t=>Object.keys(Zs).forEach(e=>Jy(t,e)),Ix=t=>Object.keys(Zs).find(e=>Zs[e].toasts.some(n=>n.id===t)),Gh=(t=Hg)=>e=>{Jy(e,t)},Mx={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Px=(t={},e=Hg)=>{let[n,a]=j.useState(Zs[e]||Xy),o=j.useRef(Zs[e]);j.useEffect(()=>(o.current!==Zs[e]&&a(Zs[e]),vh.push([e,a]),()=>{let u=vh.findIndex(([d])=>d===e);u>-1&&vh.splice(u,1)}),[e]);let s=n.toasts.map(u=>{var d,f,h;return{...t,...t[u.type],...u,removeDelay:u.removeDelay||((d=t[u.type])==null?void 0:d.removeDelay)||t?.removeDelay,duration:u.duration||((f=t[u.type])==null?void 0:f.duration)||t?.duration||Mx[u.type],style:{...t.style,...(h=t[u.type])==null?void 0:h.style,...u.style}}});return{...n,toasts:s}},Ux=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:n?.id||zx()}),Jd=t=>(e,n)=>{let a=Ux(e,t,n);return Gh(a.toasterId||Ix(a.id))({type:2,toast:a}),a.id},Zr=(t,e)=>Jd("blank")(t,e);Zr.error=Jd("error");Zr.success=Jd("success");Zr.loading=Jd("loading");Zr.custom=Jd("custom");Zr.dismiss=(t,e)=>{let n={type:3,toastId:t};e?Gh(e)(n):Zy(n)};Zr.dismissAll=t=>Zr.dismiss(void 0,t);Zr.remove=(t,e)=>{let n={type:4,toastId:t};e?Gh(e)(n):Zy(n)};Zr.removeAll=t=>Zr.remove(void 0,t);Zr.promise=(t,e,n)=>{let a=Zr.loading(e.loading,{...n,...n?.loading});return typeof t=="function"&&(t=t()),t.then(o=>{let s=e.success?Nh(e.success,o):void 0;return s?Zr.success(s,{id:a,...n,...n?.success}):Zr.dismiss(a),o}).catch(o=>{let s=e.error?Nh(e.error,o):void 0;s?Zr.error(s,{id:a,...n,...n?.error}):Zr.dismiss(a)}),t};var qx=1e3,Fx=(t,e="default")=>{let{toasts:n,pausedAt:a}=Px(t,e),o=j.useRef(new Map).current,s=j.useCallback((w,S=qx)=>{if(o.has(w))return;let y=setTimeout(()=>{o.delete(w),u({type:4,toastId:w})},S);o.set(w,y)},[]);j.useEffect(()=>{if(a)return;let w=Date.now(),S=n.map(y=>{if(y.duration===1/0)return;let T=(y.duration||0)+y.pauseDuration-(w-y.createdAt);if(T<0){y.visible&&Zr.dismiss(y.id);return}return setTimeout(()=>Zr.dismiss(y.id,e),T)});return()=>{S.forEach(y=>y&&clearTimeout(y))}},[n,a,e]);let u=j.useCallback(Gh(e),[e]),d=j.useCallback(()=>{u({type:5,time:Date.now()})},[u]),f=j.useCallback((w,S)=>{u({type:1,toast:{id:w,height:S}})},[u]),h=j.useCallback(()=>{a&&u({type:6,time:Date.now()})},[a,u]),g=j.useCallback((w,S)=>{let{reverseOrder:y=!1,gutter:T=8,defaultPosition:E}=S||{},N=n.filter(D=>(D.position||E)===(w.position||E)&&D.height),L=N.findIndex(D=>D.id===w.id),I=N.filter((D,$)=>$<L&&D.visible).length;return N.filter(D=>D.visible).slice(...y?[I+1]:[0,I]).reduce((D,$)=>D+($.height||0)+T,0)},[n]);return j.useEffect(()=>{n.forEach(w=>{if(w.dismissed)s(w.id,w.removeDelay);else{let S=o.get(w.id);S&&(clearTimeout(S),o.delete(w.id))}})},[n,s]),{toasts:n,handlers:{updateHeight:f,startPause:d,endPause:h,calculateOffset:g}}},Hx=Io`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,$x=Io`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Wx=Io`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Gx=Ll("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Hx} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${$x} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Wx} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Yx=Io`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Vx=Ll("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${Yx} 1s linear infinite;
`,Kx=Io`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Xx=Io`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Jx=Ll("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Kx} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Xx} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Zx=Ll("div")`
  position: absolute;
`,Qx=Ll("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,e3=Io`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,t3=Ll("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${e3} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,n3=({toast:t})=>{let{icon:e,type:n,iconTheme:a}=t;return e!==void 0?typeof e=="string"?j.createElement(t3,null,e):e:n==="blank"?null:j.createElement(Qx,null,j.createElement(Vx,{...a}),n!=="loading"&&j.createElement(Zx,null,n==="error"?j.createElement(Gx,{...a}):j.createElement(Jx,{...a})))},r3=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,i3=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,a3="0%{opacity:0;} 100%{opacity:1;}",s3="0%{opacity:1;} 100%{opacity:0;}",o3=Ll("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,l3=Ll("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,u3=(t,e)=>{let n=t.includes("top")?1:-1,[a,o]=Vy()?[a3,s3]:[r3(n),i3(n)];return{animation:e?`${Io(a)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Io(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},c3=j.memo(({toast:t,position:e,style:n,children:a})=>{let o=t.height?u3(t.position||e||"top-center",t.visible):{opacity:0},s=j.createElement(n3,{toast:t}),u=j.createElement(l3,{...t.ariaProps},Nh(t.message,t));return j.createElement(o3,{className:t.className,style:{...o,...n,...t.style}},typeof a=="function"?a({icon:s,message:u}):j.createElement(j.Fragment,null,s,u))});Ox(j.createElement);var d3=({id:t,className:e,style:n,onHeightUpdate:a,children:o})=>{let s=j.useCallback(u=>{if(u){let d=()=>{let f=u.getBoundingClientRect().height;a(t,f)};d(),new MutationObserver(d).observe(u,{subtree:!0,childList:!0,characterData:!0})}},[t,a]);return j.createElement("div",{ref:s,className:e,style:n},o)},f3=(t,e)=>{let n=t.includes("top"),a=n?{top:0}:{bottom:0},o=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Vy()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...a,...o}},h3=Wh`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Qf=16,p3=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:a,children:o,toasterId:s,containerStyle:u,containerClassName:d})=>{let{toasts:f,handlers:h}=Fx(n,s);return j.createElement("div",{"data-rht-toaster":s||"",style:{position:"fixed",zIndex:9999,top:Qf,left:Qf,right:Qf,bottom:Qf,pointerEvents:"none",...u},className:d,onMouseEnter:h.startPause,onMouseLeave:h.endPause},f.map(g=>{let w=g.position||e,S=h.calculateOffset(g,{reverseOrder:t,gutter:a,defaultPosition:e}),y=f3(w,S);return j.createElement(d3,{id:g.id,key:g.id,onHeightUpdate:h.updateHeight,className:g.visible?h3:"",style:y},g.type==="custom"?Nh(g.message,g):o?o(g):j.createElement(c3,{toast:g,position:w}))}))},eh=Zr;var F2="popstate";function g3(t={}){function e(a,o){let{pathname:s,search:u,hash:d}=a.location;return hg("",{pathname:s,search:u,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){return typeof o=="string"?o:Pd(o)}return y3(e,n,null,t)}function ir(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Wa(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function m3(){return Math.random().toString(36).substring(2,10)}function H2(t,e){return{usr:t.state,key:t.key,idx:e}}function hg(t,e,n=null,a){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Bc(e):e,state:n,key:e&&e.key||a||m3()}}function Pd({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Bc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let a=t.indexOf("?");a>=0&&(e.search=t.substring(a),t=t.substring(0,a)),t&&(e.pathname=t)}return e}function y3(t,e,n,a={}){let{window:o=document.defaultView,v5Compat:s=!1}=a,u=o.history,d="POP",f=null,h=g();h==null&&(h=0,u.replaceState({...u.state,idx:h},""));function g(){return(u.state||{idx:null}).idx}function w(){d="POP";let N=g(),L=N==null?null:N-h;h=N,f&&f({action:d,location:E.location,delta:L})}function S(N,L){d="PUSH";let I=hg(E.location,N,L);h=g()+1;let D=H2(I,h),$=E.createHref(I);try{u.pushState(D,"",$)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;o.location.assign($)}s&&f&&f({action:d,location:E.location,delta:1})}function y(N,L){d="REPLACE";let I=hg(E.location,N,L);h=g();let D=H2(I,h),$=E.createHref(I);u.replaceState(D,"",$),s&&f&&f({action:d,location:E.location,delta:0})}function T(N){return v3(N)}let E={get action(){return d},get location(){return t(o,u)},listen(N){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(F2,w),f=N,()=>{o.removeEventListener(F2,w),f=null}},createHref(N){return e(o,N)},createURL:T,encodeLocation(N){let L=T(N);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:S,replace:y,go(N){return u.go(N)}};return E}function v3(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ir(n,"No window.location.(origin|href) available to create URL");let a=typeof t=="string"?t:Pd(t);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function Qy(t,e,n="/"){return b3(t,e,n,!1)}function b3(t,e,n,a){let o=typeof e=="string"?Bc(e):e,s=Mo(o.pathname||"/",n);if(s==null)return null;let u=ev(t);w3(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let h=R3(s);d=C3(u[f],h,a)}return d}function ev(t,e=[],n=[],a="",o=!1){let s=(u,d,f=o,h)=>{let g={relativePath:h===void 0?u.path||"":h,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(a)&&f)return;ir(g.relativePath.startsWith(a),`Absolute route path "${g.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(a.length)}let w=Bo([a,g.relativePath]),S=n.concat(g);u.children&&u.children.length>0&&(ir(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),ev(u.children,e,S,w,f)),!(u.path==null&&!u.index)&&e.push({path:w,score:k3(w,u.index),routesMeta:S})};return t.forEach((u,d)=>{if(u.path===""||!u.path?.includes("?"))s(u,d);else for(let f of tv(u.path))s(u,d,!0,f)}),e}function tv(t){let e=t.split("/");if(e.length===0)return[];let[n,...a]=e,o=n.endsWith("?"),s=n.replace(/\?$/,"");if(a.length===0)return o?[s,""]:[s];let u=tv(a.join("/")),d=[];return d.push(...u.map(f=>f===""?s:[s,f].join("/"))),o&&d.push(...u),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function w3(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:N3(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var x3=/^:[\w-]+$/,_3=3,S3=2,A3=1,E3=10,T3=-2,$2=t=>t==="*";function k3(t,e){let n=t.split("/"),a=n.length;return n.some($2)&&(a+=T3),e&&(a+=S3),n.filter(o=>!$2(o)).reduce((o,s)=>o+(x3.test(s)?_3:s===""?A3:E3),a)}function N3(t,e){return t.length===e.length&&t.slice(0,-1).every((a,o)=>a===e[o])?t[t.length-1]-e[e.length-1]:0}function C3(t,e,n=!1){let{routesMeta:a}=t,o={},s="/",u=[];for(let d=0;d<a.length;++d){let f=a[d],h=d===a.length-1,g=s==="/"?e:e.slice(s.length)||"/",w=Ch({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},g),S=f.route;if(!w&&h&&n&&!a[a.length-1].route.index&&(w=Ch({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!w)return null;Object.assign(o,w.params),u.push({params:o,pathname:Bo([s,w.pathname]),pathnameBase:z3(Bo([s,w.pathnameBase])),route:S}),w.pathnameBase!=="/"&&(s=Bo([s,w.pathnameBase]))}return u}function Ch(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,a]=L3(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let s=o[0],u=s.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:a.reduce((h,{paramName:g,isOptional:w},S)=>{if(g==="*"){let T=d[S]||"";u=s.slice(0,s.length-T.length).replace(/(.)\/+$/,"$1")}const y=d[S];return w&&!y?h[g]=void 0:h[g]=(y||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:u,pattern:t}}function L3(t,e=!1,n=!0){Wa(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let a=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(a.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(a.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function R3(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wa(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Mo(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=t.charAt(n);return a&&a!=="/"?null:t.slice(n)||"/"}var nv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,j3=t=>nv.test(t);function O3(t,e="/"){let{pathname:n,search:a="",hash:o=""}=typeof t=="string"?Bc(t):t,s;if(n)if(j3(n))s=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),Wa(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?s=W2(n.substring(1),"/"):s=W2(n,e)}else s=e;return{pathname:s,search:B3(a),hash:I3(o)}}function W2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function kp(t,e,n,a){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function D3(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function $g(t){let e=D3(t);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function Wg(t,e,n,a=!1){let o;typeof t=="string"?o=Bc(t):(o={...t},ir(!o.pathname||!o.pathname.includes("?"),kp("?","pathname","search",o)),ir(!o.pathname||!o.pathname.includes("#"),kp("#","pathname","hash",o)),ir(!o.search||!o.search.includes("#"),kp("#","search","hash",o)));let s=t===""||o.pathname==="",u=s?"/":o.pathname,d;if(u==null)d=n;else{let w=e.length-1;if(!a&&u.startsWith("..")){let S=u.split("/");for(;S[0]==="..";)S.shift(),w-=1;o.pathname=S.join("/")}d=w>=0?e[w]:"/"}let f=O3(o,d),h=u&&u!=="/"&&u.endsWith("/"),g=(s||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||g)&&(f.pathname+="/"),f}var Bo=t=>t.join("/").replace(/\/\/+/g,"/"),z3=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),B3=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,I3=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,M3=class{constructor(t,e,n,a=!1){this.status=t,this.statusText=e||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function P3(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function U3(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var rv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function iv(t,e){let n=t;if(typeof n!="string"||!nv.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let a=n,o=!1;if(rv)try{let s=new URL(window.location.href),u=n.startsWith("//")?new URL(s.protocol+n):new URL(n),d=Mo(u.pathname,e);u.origin===s.origin&&d!=null?n=d+u.search+u.hash:o=!0}catch{Wa(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:a,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var av=["POST","PUT","PATCH","DELETE"];new Set(av);var q3=["GET",...av];new Set(q3);var Ic=j.createContext(null);Ic.displayName="DataRouter";var Yh=j.createContext(null);Yh.displayName="DataRouterState";var F3=j.createContext(!1),sv=j.createContext({isTransitioning:!1});sv.displayName="ViewTransition";var H3=j.createContext(new Map);H3.displayName="Fetchers";var $3=j.createContext(null);$3.displayName="Await";var Ea=j.createContext(null);Ea.displayName="Navigation";var Zd=j.createContext(null);Zd.displayName="Location";var ks=j.createContext({outlet:null,matches:[],isDataRoute:!1});ks.displayName="Route";var Gg=j.createContext(null);Gg.displayName="RouteError";var ov="REACT_ROUTER_ERROR",W3="REDIRECT",G3="ROUTE_ERROR_RESPONSE";function Y3(t){if(t.startsWith(`${ov}:${W3}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function V3(t){if(t.startsWith(`${ov}:${G3}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new M3(e.status,e.statusText,e.data)}catch{}}function K3(t,{relative:e}={}){ir(Mc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=j.useContext(Ea),{hash:o,pathname:s,search:u}=Qd(t,{relative:e}),d=s;return n!=="/"&&(d=s==="/"?n:Bo([n,s])),a.createHref({pathname:d,search:u,hash:o})}function Mc(){return j.useContext(Zd)!=null}function Po(){return ir(Mc(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Zd).location}var lv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function uv(t){j.useContext(Ea).static||j.useLayoutEffect(t)}function Vh(){let{isDataRoute:t}=j.useContext(ks);return t?u_():X3()}function X3(){ir(Mc(),"useNavigate() may be used only in the context of a <Router> component.");let t=j.useContext(Ic),{basename:e,navigator:n}=j.useContext(Ea),{matches:a}=j.useContext(ks),{pathname:o}=Po(),s=JSON.stringify($g(a)),u=j.useRef(!1);return uv(()=>{u.current=!0}),j.useCallback((f,h={})=>{if(Wa(u.current,lv),!u.current)return;if(typeof f=="number"){n.go(f);return}let g=Wg(f,JSON.parse(s),o,h.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Bo([e,g.pathname])),(h.replace?n.replace:n.push)(g,h.state,h)},[e,n,s,o,t])}j.createContext(null);function J3(){let{matches:t}=j.useContext(ks),e=t[t.length-1];return e?e.params:{}}function Qd(t,{relative:e}={}){let{matches:n}=j.useContext(ks),{pathname:a}=Po(),o=JSON.stringify($g(n));return j.useMemo(()=>Wg(t,JSON.parse(o),a,e==="path"),[t,o,a,e])}function Z3(t,e){return cv(t,e)}function cv(t,e,n,a,o){ir(Mc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=j.useContext(Ea),{matches:u}=j.useContext(ks),d=u[u.length-1],f=d?d.params:{},h=d?d.pathname:"/",g=d?d.pathnameBase:"/",w=d&&d.route;{let I=w&&w.path||"";fv(h,!w||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let S=Po(),y;if(e){let I=typeof e=="string"?Bc(e):e;ir(g==="/"||I.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${I.pathname}" was given in the \`location\` prop.`),y=I}else y=S;let T=y.pathname||"/",E=T;if(g!=="/"){let I=g.replace(/^\//,"").split("/");E="/"+T.replace(/^\//,"").split("/").slice(I.length).join("/")}let N=Qy(t,{pathname:E});Wa(w||N!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Wa(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=r_(N&&N.map(I=>Object.assign({},I,{params:Object.assign({},f,I.params),pathname:Bo([g,s.encodeLocation?s.encodeLocation(I.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?g:Bo([g,s.encodeLocation?s.encodeLocation(I.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathnameBase])})),u,n,a,o);return e&&L?j.createElement(Zd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},L):L}function Q3(){let t=l_(),e=P3(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},s={padding:"2px 4px",backgroundColor:a},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:s},"ErrorBoundary")," or"," ",j.createElement("code",{style:s},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:o},n):null,u)}var e_=j.createElement(Q3,null),dv=class extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=V3(t.digest);n&&(t=n)}let e=t!==void 0?j.createElement(ks.Provider,{value:this.props.routeContext},j.createElement(Gg.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?j.createElement(t_,{error:t},e):e}};dv.contextType=F3;var Np=new WeakMap;function t_({children:t,error:e}){let{basename:n}=j.useContext(Ea);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let a=Y3(e.digest);if(a){let o=Np.get(e);if(o)throw o;let s=iv(a.location,n);if(rv&&!Np.get(e))if(s.isExternal||a.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:a.replace}));throw Np.set(e,u),u}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return t}function n_({routeContext:t,match:e,children:n}){let a=j.useContext(Ic);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(ks.Provider,{value:t},n)}function r_(t,e=[],n=null,a=null,o=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,u=n?.errors;if(u!=null){let g=s.findIndex(w=>w.route.id&&u?.[w.route.id]!==void 0);ir(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),s=s.slice(0,Math.min(s.length,g+1))}let d=!1,f=-1;if(n)for(let g=0;g<s.length;g++){let w=s[g];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(f=g),w.route.id){let{loaderData:S,errors:y}=n,T=w.route.loader&&!S.hasOwnProperty(w.route.id)&&(!y||y[w.route.id]===void 0);if(w.route.lazy||T){d=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}let h=n&&a?(g,w)=>{a(g,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:U3(n.matches),errorInfo:w})}:void 0;return s.reduceRight((g,w,S)=>{let y,T=!1,E=null,N=null;n&&(y=u&&w.route.id?u[w.route.id]:void 0,E=w.route.errorElement||e_,d&&(f<0&&S===0?(fv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,N=null):f===S&&(T=!0,N=w.route.hydrateFallbackElement||null)));let L=e.concat(s.slice(0,S+1)),I=()=>{let D;return y?D=E:T?D=N:w.route.Component?D=j.createElement(w.route.Component,null):w.route.element?D=w.route.element:D=g,j.createElement(n_,{match:w,routeContext:{outlet:g,matches:L,isDataRoute:n!=null},children:D})};return n&&(w.route.ErrorBoundary||w.route.errorElement||S===0)?j.createElement(dv,{location:n.location,revalidation:n.revalidation,component:E,error:y,children:I(),routeContext:{outlet:null,matches:L,isDataRoute:!0},onError:h}):I()},null)}function Yg(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function i_(t){let e=j.useContext(Ic);return ir(e,Yg(t)),e}function a_(t){let e=j.useContext(Yh);return ir(e,Yg(t)),e}function s_(t){let e=j.useContext(ks);return ir(e,Yg(t)),e}function Vg(t){let e=s_(t),n=e.matches[e.matches.length-1];return ir(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function o_(){return Vg("useRouteId")}function l_(){let t=j.useContext(Gg),e=a_("useRouteError"),n=Vg("useRouteError");return t!==void 0?t:e.errors?.[n]}function u_(){let{router:t}=i_("useNavigate"),e=Vg("useNavigate"),n=j.useRef(!1);return uv(()=>{n.current=!0}),j.useCallback(async(o,s={})=>{Wa(n.current,lv),n.current&&(typeof o=="number"?await t.navigate(o):await t.navigate(o,{fromRouteId:e,...s}))},[t,e])}var G2={};function fv(t,e,n){!e&&!G2[t]&&(G2[t]=!0,Wa(!1,n))}j.memo(c_);function c_({routes:t,future:e,state:n,onError:a}){return cv(t,void 0,n,a,e)}function d_({to:t,replace:e,state:n,relative:a}){ir(Mc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=j.useContext(Ea);Wa(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=j.useContext(ks),{pathname:u}=Po(),d=Vh(),f=Wg(t,$g(s),u,a==="path"),h=JSON.stringify(f);return j.useEffect(()=>{d(JSON.parse(h),{replace:e,state:n,relative:a})},[d,h,a,e,n]),null}function Xs(t){ir(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function f_({basename:t="/",children:e=null,location:n,navigationType:a="POP",navigator:o,static:s=!1,unstable_useTransitions:u}){ir(!Mc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),f=j.useMemo(()=>({basename:d,navigator:o,static:s,unstable_useTransitions:u,future:{}}),[d,o,s,u]);typeof n=="string"&&(n=Bc(n));let{pathname:h="/",search:g="",hash:w="",state:S=null,key:y="default"}=n,T=j.useMemo(()=>{let E=Mo(h,d);return E==null?null:{location:{pathname:E,search:g,hash:w,state:S,key:y},navigationType:a}},[d,h,g,w,S,y,a]);return Wa(T!=null,`<Router basename="${d}"> is not able to match the URL "${h}${g}${w}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:j.createElement(Ea.Provider,{value:f},j.createElement(Zd.Provider,{children:e,value:T}))}function h_({children:t,location:e}){return Z3(pg(t),e)}function pg(t,e=[]){let n=[];return j.Children.forEach(t,(a,o)=>{if(!j.isValidElement(a))return;let s=[...e,o];if(a.type===j.Fragment){n.push.apply(n,pg(a.props.children,s));return}ir(a.type===Xs,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ir(!a.props.index||!a.props.children,"An index route cannot have child routes.");let u={id:a.props.id||s.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(u.children=pg(a.props.children,s)),n.push(u)}),n}var bh="get",wh="application/x-www-form-urlencoded";function Kh(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function p_(t){return Kh(t)&&t.tagName.toLowerCase()==="button"}function g_(t){return Kh(t)&&t.tagName.toLowerCase()==="form"}function m_(t){return Kh(t)&&t.tagName.toLowerCase()==="input"}function y_(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function v_(t,e){return t.button===0&&(!e||e==="_self")&&!y_(t)}var th=null;function b_(){if(th===null)try{new FormData(document.createElement("form"),0),th=!1}catch{th=!0}return th}var w_=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Cp(t){return t!=null&&!w_.has(t)?(Wa(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wh}"`),null):t}function x_(t,e){let n,a,o,s,u;if(g_(t)){let d=t.getAttribute("action");a=d?Mo(d,e):null,n=t.getAttribute("method")||bh,o=Cp(t.getAttribute("enctype"))||wh,s=new FormData(t)}else if(p_(t)||m_(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||d.getAttribute("action");if(a=f?Mo(f,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||bh,o=Cp(t.getAttribute("formenctype"))||Cp(d.getAttribute("enctype"))||wh,s=new FormData(d,t),!b_()){let{name:h,type:g,value:w}=t;if(g==="image"){let S=h?`${h}.`:"";s.append(`${S}x`,"0"),s.append(`${S}y`,"0")}else h&&s.append(h,w)}}else{if(Kh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=bh,a=null,o=wh,u=t}return s&&o==="text/plain"&&(u=s,s=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:s,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Kg(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function __(t,e,n,a){let o=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${a}`:o.pathname=`${o.pathname}.${a}`:o.pathname==="/"?o.pathname=`_root.${a}`:e&&Mo(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${a}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${a}`,o}async function S_(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function A_(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function E_(t,e,n){let a=await Promise.all(t.map(async o=>{let s=e.routes[o.route.id];if(s){let u=await S_(s,n);return u.links?u.links():[]}return[]}));return C_(a.flat(1).filter(A_).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Y2(t,e,n,a,o,s){let u=(f,h)=>n[h]?f.route.id!==n[h].route.id:!0,d=(f,h)=>n[h].pathname!==f.pathname||n[h].route.path?.endsWith("*")&&n[h].params["*"]!==f.params["*"];return s==="assets"?e.filter((f,h)=>u(f,h)||d(f,h)):s==="data"?e.filter((f,h)=>{let g=a.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,h)||d(f,h))return!0;if(f.route.shouldRevalidate){let w=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function T_(t,e,{includeHydrateFallback:n}={}){return k_(t.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let s=[o.module];return o.clientActionModule&&(s=s.concat(o.clientActionModule)),o.clientLoaderModule&&(s=s.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(s=s.concat(o.hydrateFallbackModule)),o.imports&&(s=s.concat(o.imports)),s}).flat(1))}function k_(t){return[...new Set(t)]}function N_(t){let e={},n=Object.keys(t).sort();for(let a of n)e[a]=t[a];return e}function C_(t,e){let n=new Set;return new Set(e),t.reduce((a,o)=>{let s=JSON.stringify(N_(o));return n.has(s)||(n.add(s),a.push({key:s,link:o})),a},[])}function hv(){let t=j.useContext(Ic);return Kg(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function L_(){let t=j.useContext(Yh);return Kg(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Xg=j.createContext(void 0);Xg.displayName="FrameworkContext";function pv(){let t=j.useContext(Xg);return Kg(t,"You must render this element inside a <HydratedRouter> element"),t}function R_(t,e){let n=j.useContext(Xg),[a,o]=j.useState(!1),[s,u]=j.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:h,onMouseLeave:g,onTouchStart:w}=e,S=j.useRef(null);j.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let E=L=>{L.forEach(I=>{u(I.isIntersecting)})},N=new IntersectionObserver(E,{threshold:.5});return S.current&&N.observe(S.current),()=>{N.disconnect()}}},[t]),j.useEffect(()=>{if(a){let E=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(E)}}},[a]);let y=()=>{o(!0)},T=()=>{o(!1),u(!1)};return n?t!=="intent"?[s,S,{}]:[s,S,{onFocus:Td(d,y),onBlur:Td(f,T),onMouseEnter:Td(h,y),onMouseLeave:Td(g,T),onTouchStart:Td(w,y)}]:[!1,S,{}]}function Td(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function j_({page:t,...e}){let{router:n}=hv(),a=j.useMemo(()=>Qy(n.routes,t,n.basename),[n.routes,t,n.basename]);return a?j.createElement(D_,{page:t,matches:a,...e}):null}function O_(t){let{manifest:e,routeModules:n}=pv(),[a,o]=j.useState([]);return j.useEffect(()=>{let s=!1;return E_(t,e,n).then(u=>{s||o(u)}),()=>{s=!0}},[t,e,n]),a}function D_({page:t,matches:e,...n}){let a=Po(),{future:o,manifest:s,routeModules:u}=pv(),{basename:d}=hv(),{loaderData:f,matches:h}=L_(),g=j.useMemo(()=>Y2(t,e,h,s,a,"data"),[t,e,h,s,a]),w=j.useMemo(()=>Y2(t,e,h,s,a,"assets"),[t,e,h,s,a]),S=j.useMemo(()=>{if(t===a.pathname+a.search+a.hash)return[];let E=new Set,N=!1;if(e.forEach(I=>{let D=s.routes[I.route.id];!D||!D.hasLoader||(!g.some($=>$.route.id===I.route.id)&&I.route.id in f&&u[I.route.id]?.shouldRevalidate||D.hasClientLoader?N=!0:E.add(I.route.id))}),E.size===0)return[];let L=__(t,d,o.unstable_trailingSlashAwareDataRequests,"data");return N&&E.size>0&&L.searchParams.set("_routes",e.filter(I=>E.has(I.route.id)).map(I=>I.route.id).join(",")),[L.pathname+L.search]},[d,o.unstable_trailingSlashAwareDataRequests,f,a,s,g,e,t,u]),y=j.useMemo(()=>T_(w,s),[w,s]),T=O_(w);return j.createElement(j.Fragment,null,S.map(E=>j.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),y.map(E=>j.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),T.map(({key:E,link:N})=>j.createElement("link",{key:E,nonce:n.nonce,...N})))}function z_(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var B_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{B_&&(window.__reactRouterVersion="7.12.0")}catch{}function I_({basename:t,children:e,unstable_useTransitions:n,window:a}){let o=j.useRef();o.current==null&&(o.current=g3({window:a,v5Compat:!0}));let s=o.current,[u,d]=j.useState({action:s.action,location:s.location}),f=j.useCallback(h=>{n===!1?d(h):j.startTransition(()=>d(h))},[n]);return j.useLayoutEffect(()=>s.listen(f),[s,f]),j.createElement(f_,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:s,unstable_useTransitions:n})}var gv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jg=j.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:o,reloadDocument:s,replace:u,state:d,target:f,to:h,preventScrollReset:g,viewTransition:w,unstable_defaultShouldRevalidate:S,...y},T){let{basename:E,unstable_useTransitions:N}=j.useContext(Ea),L=typeof h=="string"&&gv.test(h),I=iv(h,E);h=I.to;let D=K3(h,{relative:o}),[$,ce,he]=R_(a,y),le=q_(h,{replace:u,state:d,target:f,preventScrollReset:g,relative:o,viewTransition:w,unstable_defaultShouldRevalidate:S,unstable_useTransitions:N});function W(oe){e&&e(oe),oe.defaultPrevented||le(oe)}let P=j.createElement("a",{...y,...he,href:I.absoluteURL||D,onClick:I.isExternal||s?e:W,ref:z_(T,ce),target:f,"data-discover":!L&&n==="render"?"true":void 0});return $&&!L?j.createElement(j.Fragment,null,P,j.createElement(j_,{page:D})):P});Jg.displayName="Link";var M_=j.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:o=!1,style:s,to:u,viewTransition:d,children:f,...h},g){let w=Qd(u,{relative:h.relative}),S=Po(),y=j.useContext(Yh),{navigator:T,basename:E}=j.useContext(Ea),N=y!=null&&G_(w)&&d===!0,L=T.encodeLocation?T.encodeLocation(w).pathname:w.pathname,I=S.pathname,D=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(I=I.toLowerCase(),D=D?D.toLowerCase():null,L=L.toLowerCase()),D&&E&&(D=Mo(D,E)||D);const $=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let ce=I===L||!o&&I.startsWith(L)&&I.charAt($)==="/",he=D!=null&&(D===L||!o&&D.startsWith(L)&&D.charAt(L.length)==="/"),le={isActive:ce,isPending:he,isTransitioning:N},W=ce?e:void 0,P;typeof a=="function"?P=a(le):P=[a,ce?"active":null,he?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let oe=typeof s=="function"?s(le):s;return j.createElement(Jg,{...h,"aria-current":W,className:P,ref:g,style:oe,to:u,viewTransition:d},typeof f=="function"?f(le):f)});M_.displayName="NavLink";var P_=j.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:o,state:s,method:u=bh,action:d,onSubmit:f,relative:h,preventScrollReset:g,viewTransition:w,unstable_defaultShouldRevalidate:S,...y},T)=>{let{unstable_useTransitions:E}=j.useContext(Ea),N=$_(),L=W_(d,{relative:h}),I=u.toLowerCase()==="get"?"get":"post",D=typeof d=="string"&&gv.test(d),$=ce=>{if(f&&f(ce),ce.defaultPrevented)return;ce.preventDefault();let he=ce.nativeEvent.submitter,le=he?.getAttribute("formmethod")||u,W=()=>N(he||ce.currentTarget,{fetcherKey:e,method:le,navigate:n,replace:o,state:s,relative:h,preventScrollReset:g,viewTransition:w,unstable_defaultShouldRevalidate:S});E&&n!==!1?j.startTransition(()=>W()):W()};return j.createElement("form",{ref:T,method:I,action:L,onSubmit:a?f:$,...y,"data-discover":!D&&t==="render"?"true":void 0})});P_.displayName="Form";function U_(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mv(t){let e=j.useContext(Ic);return ir(e,U_(t)),e}function q_(t,{target:e,replace:n,state:a,preventScrollReset:o,relative:s,viewTransition:u,unstable_defaultShouldRevalidate:d,unstable_useTransitions:f}={}){let h=Vh(),g=Po(),w=Qd(t,{relative:s});return j.useCallback(S=>{if(v_(S,e)){S.preventDefault();let y=n!==void 0?n:Pd(g)===Pd(w),T=()=>h(t,{replace:y,state:a,preventScrollReset:o,relative:s,viewTransition:u,unstable_defaultShouldRevalidate:d});f?j.startTransition(()=>T()):T()}},[g,h,w,n,a,e,t,o,s,u,d,f])}var F_=0,H_=()=>`__${String(++F_)}__`;function $_(){let{router:t}=mv("useSubmit"),{basename:e}=j.useContext(Ea),n=o_(),a=t.fetch,o=t.navigate;return j.useCallback(async(s,u={})=>{let{action:d,method:f,encType:h,formData:g,body:w}=x_(s,e);if(u.navigate===!1){let S=u.fetcherKey||H_();await a(S,n,u.action||d,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:g,body:w,formMethod:u.method||f,formEncType:u.encType||h,flushSync:u.flushSync})}else await o(u.action||d,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:g,body:w,formMethod:u.method||f,formEncType:u.encType||h,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[a,o,e,n])}function W_(t,{relative:e}={}){let{basename:n}=j.useContext(Ea),a=j.useContext(ks);ir(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),s={...Qd(t||".",{relative:e})},u=Po();if(t==null){s.search=u.search;let d=new URLSearchParams(s.search),f=d.getAll("index");if(f.some(g=>g==="")){d.delete("index"),f.filter(w=>w).forEach(w=>d.append("index",w));let g=d.toString();s.search=g?`?${g}`:""}}return(!t||t===".")&&o.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Bo([n,s.pathname])),Pd(s)}function G_(t,{relative:e}={}){let n=j.useContext(sv);ir(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=mv("useViewTransitionState"),o=Qd(t,{relative:e});if(!n.isTransitioning)return!1;let s=Mo(n.currentLocation.pathname,a)||n.currentLocation.pathname,u=Mo(n.nextLocation.pathname,a)||n.nextLocation.pathname;return Ch(o.pathname,u)!=null||Ch(o.pathname,s)!=null}var Ld=Wy();function Xh(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(t);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(t,a[o])&&(n[a[o]]=t[a[o]]);return n}function Y_(t,e,n,a){function o(s){return s instanceof n?s:new n(function(u){u(s)})}return new(n||(n=Promise))(function(s,u){function d(g){try{h(a.next(g))}catch(w){u(w)}}function f(g){try{h(a.throw(g))}catch(w){u(w)}}function h(g){g.done?s(g.value):o(g.value).then(d,f)}h((a=a.apply(t,e||[])).next())})}const V_=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Zg extends Error{constructor(e,n="FunctionsError",a){super(e),this.name=n,this.context=a}}class K_ extends Zg{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class V2 extends Zg{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class K2 extends Zg{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var gg;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(gg||(gg={}));class X_{constructor(e,{headers:n={},customFetch:a,region:o=gg.Any}={}){this.url=e,this.headers=n,this.region=o,this.fetch=V_(a)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Y_(this,arguments,void 0,function*(n,a={}){var o;let s,u;try{const{headers:d,method:f,body:h,signal:g,timeout:w}=a;let S={},{region:y}=a;y||(y=this.region);const T=new URL(`${this.url}/${n}`);y&&y!=="any"&&(S["x-region"]=y,T.searchParams.set("forceFunctionRegion",y));let E;h&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(S["Content-Type"]="application/octet-stream",E=h):typeof h=="string"?(S["Content-Type"]="text/plain",E=h):typeof FormData<"u"&&h instanceof FormData?E=h:(S["Content-Type"]="application/json",E=JSON.stringify(h)):h&&typeof h!="string"&&!(typeof Blob<"u"&&h instanceof Blob)&&!(h instanceof ArrayBuffer)&&!(typeof FormData<"u"&&h instanceof FormData)?E=JSON.stringify(h):E=h;let N=g;w&&(u=new AbortController,s=setTimeout(()=>u.abort(),w),g?(N=u.signal,g.addEventListener("abort",()=>u.abort())):N=u.signal);const L=yield this.fetch(T.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},S),this.headers),d),body:E,signal:N}).catch(ce=>{throw new K_(ce)}),I=L.headers.get("x-relay-error");if(I&&I==="true")throw new V2(L);if(!L.ok)throw new K2(L);let D=((o=L.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),$;return D==="application/json"?$=yield L.json():D==="application/octet-stream"||D==="application/pdf"?$=yield L.blob():D==="text/event-stream"?$=L:D==="multipart/form-data"?$=yield L.formData():$=yield L.text(),{data:$,error:null,response:L}}catch(d){return{data:null,error:d,response:d instanceof K2||d instanceof V2?d.context:void 0}}finally{s&&clearTimeout(s)}})}}var J_=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},Z_=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let o=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let u=null,d=null,f=null,h=s.status,g=s.statusText;if(s.ok){var w,S;if(n.method!=="HEAD"){var y;const L=await s.text();L===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((y=n.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?d=L:d=JSON.parse(L))}const E=(w=n.headers.get("Prefer"))===null||w===void 0?void 0:w.match(/count=(exact|planned|estimated)/),N=(S=s.headers.get("content-range"))===null||S===void 0?void 0:S.split("/");E&&N&&N.length>1&&(f=parseInt(N[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{var T;const E=await s.text();try{u=JSON.parse(E),Array.isArray(u)&&s.status===404&&(d=[],u=null,h=200,g="OK")}catch{s.status===404&&E===""?(h=204,g="No Content"):u={message:E}}if(u&&n.isMaybeSingle&&(!(u==null||(T=u.details)===null||T===void 0)&&T.includes("0 rows"))&&(u=null,h=200,g="OK"),u&&n.shouldThrowOnError)throw new J_(u)}return{error:u,data:d,count:f,status:h,statusText:g}});return this.shouldThrowOnError||(o=o.catch(s=>{var u;let d="";const f=s?.cause;if(f){var h,g,w,S;const T=(h=f?.message)!==null&&h!==void 0?h:"",E=(g=f?.code)!==null&&g!==void 0?g:"";d=`${(w=s?.name)!==null&&w!==void 0?w:"FetchError"}: ${s?.message}`,d+=`

Caused by: ${(S=f?.name)!==null&&S!==void 0?S:"Error"}: ${T}`,E&&(d+=` (${E})`),f?.stack&&(d+=`
${f.stack}`)}else{var y;d=(y=s?.stack)!==null&&y!==void 0?y:""}return{error:{message:`${(u=s?.name)!==null&&u!==void 0?u:"FetchError"}: ${s?.message}`,details:d,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(t,e)}returns(){return this}overrideTypes(){return this}},Q_=class extends Z_{select(t){let e=!1;const n=(t??"*").split("").map(a=>/\s/.test(a)&&!e?"":(a==='"'&&(e=!e),a)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:a,referencedTable:o=a}={}){const s=o?`${o}.order`:"order",u=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${u?`${u},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:a=n}={}){const o=typeof a>"u"?"offset":`${a}.offset`,s=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(s,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:a=!1,wal:o=!1,format:s="text"}={}){var u;const d=[t?"analyze":null,e?"verbose":null,n?"settings":null,a?"buffers":null,o?"wal":null].filter(Boolean).join("|"),f=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${f}"; options=${d};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const X2=new RegExp("[,()]");var Sc=class extends Q_{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(a=>typeof a=="string"&&X2.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(a=>typeof a=="string"&&X2.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:a}={}){let o="";a==="plain"?o="pl":a==="phrase"?o="ph":a==="websearch"&&(o="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${o}fts${s}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},e4=class{constructor(t,{headers:e={},schema:n,fetch:a}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=a}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:n=!1,count:a}=e??{},o=n?"HEAD":"GET";let s=!1;const u=(t??"*").split("").map(h=>/\s/.test(h)&&!s?"":(h==='"'&&(s=!s),h)).join(""),{url:d,headers:f}=this.cloneRequestState();return d.searchParams.set("select",u),a&&f.append("Prefer",`count=${a}`),new Sc({method:o,url:d,headers:f,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var a;const o="POST",{url:s,headers:u}=this.cloneRequestState();if(e&&u.append("Prefer",`count=${e}`),n||u.append("Prefer","missing=default"),Array.isArray(t)){const d=t.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(d.length>0){const f=[...new Set(d)].map(h=>`"${h}"`);s.searchParams.set("columns",f.join(","))}}return new Sc({method:o,url:s,headers:u,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:a,defaultToNull:o=!0}={}){var s;const u="POST",{url:d,headers:f}=this.cloneRequestState();if(f.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&d.searchParams.set("on_conflict",e),a&&f.append("Prefer",`count=${a}`),o||f.append("Prefer","missing=default"),Array.isArray(t)){const h=t.reduce((g,w)=>g.concat(Object.keys(w)),[]);if(h.length>0){const g=[...new Set(h)].map(w=>`"${w}"`);d.searchParams.set("columns",g.join(","))}}return new Sc({method:u,url:d,headers:f,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(t,{count:e}={}){var n;const a="PATCH",{url:o,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new Sc({method:a,url:o,headers:s,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE",{url:a,headers:o}=this.cloneRequestState();return t&&o.append("Prefer",`count=${t}`),new Sc({method:n,url:a,headers:o,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},t4=class yv{constructor(e,{headers:n={},schema:a,fetch:o}={}){this.url=e,this.headers=new Headers(n),this.schemaName=a,this.fetch=o}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new e4(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new yv(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:a=!1,get:o=!1,count:s}={}){var u;let d;const f=new URL(`${this.url}/rpc/${e}`);let h;const g=y=>y!==null&&typeof y=="object"&&(!Array.isArray(y)||y.some(g)),w=a&&Object.values(n).some(g);w?(d="POST",h=n):a||o?(d=a?"HEAD":"GET",Object.entries(n).filter(([y,T])=>T!==void 0).map(([y,T])=>[y,Array.isArray(T)?`{${T.join(",")}}`:`${T}`]).forEach(([y,T])=>{f.searchParams.append(y,T)})):(d="POST",h=n);const S=new Headers(this.headers);return w?S.set("Prefer",s?`count=${s},return=minimal`:"return=minimal"):s&&S.set("Prefer",`count=${s}`),new Sc({method:d,url:f,headers:S,schema:this.schemaName,body:h,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};class n4{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const a=n.versions;if(a&&a.node){const o=a.node,s=parseInt(o.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const a=this.getWebSocketConstructor();return new a(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const r4="2.91.0",i4=`realtime-js/${r4}`,a4="1.0.0",vv="2.0.0",J2=vv,mg=1e4,s4=1e3,o4=100;var Al;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Al||(Al={}));var Xr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Xr||(Xr={}));var Ss;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ss||(Ss={}));var yg;(function(t){t.websocket="websocket"})(yg||(yg={}));var hu;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(hu||(hu={}));class l4{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let a=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(a))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,a;const o=(a=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&a!==void 0?a:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(e){var n,a;const o=(a=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&a!==void 0?a:{},u=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(e,n,a){var o,s;const u=e.topic,d=(o=e.ref)!==null&&o!==void 0?o:"",f=(s=e.join_ref)!==null&&s!==void 0?s:"",h=e.payload.event,g=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},w=Object.keys(g).length===0?"":JSON.stringify(g);if(f.length>255)throw new Error(`joinRef length ${f.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`ref length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`userEvent length ${h.length} exceeds maximum of 255`);if(w.length>255)throw new Error(`metadata length ${w.length} exceeds maximum of 255`);const S=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+d.length+u.length+h.length+w.length,y=new ArrayBuffer(this.HEADER_LENGTH+S);let T=new DataView(y),E=0;T.setUint8(E++,this.KINDS.userBroadcastPush),T.setUint8(E++,f.length),T.setUint8(E++,d.length),T.setUint8(E++,u.length),T.setUint8(E++,h.length),T.setUint8(E++,w.length),T.setUint8(E++,n),Array.from(f,L=>T.setUint8(E++,L.charCodeAt(0))),Array.from(d,L=>T.setUint8(E++,L.charCodeAt(0))),Array.from(u,L=>T.setUint8(E++,L.charCodeAt(0))),Array.from(h,L=>T.setUint8(E++,L.charCodeAt(0))),Array.from(w,L=>T.setUint8(E++,L.charCodeAt(0)));var N=new Uint8Array(y.byteLength+a.byteLength);return N.set(new Uint8Array(y),0),N.set(new Uint8Array(a),y.byteLength),N.buffer}decode(e,n){if(this._isArrayBuffer(e)){let a=this._binaryDecode(e);return n(a)}if(typeof e=="string"){const a=JSON.parse(e),[o,s,u,d,f]=a;return n({join_ref:o,ref:s,topic:u,event:d,payload:f})}return n({})}_binaryDecode(e){const n=new DataView(e),a=n.getUint8(0),o=new TextDecoder;if(a===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,n,o)}_decodeUserBroadcast(e,n,a){const o=n.getUint8(1),s=n.getUint8(2),u=n.getUint8(3),d=n.getUint8(4);let f=this.HEADER_LENGTH+4;const h=a.decode(e.slice(f,f+o));f=f+o;const g=a.decode(e.slice(f,f+s));f=f+s;const w=a.decode(e.slice(f,f+u));f=f+u;const S=e.slice(f,e.byteLength),y=d===this.JSON_ENCODING?JSON.parse(a.decode(S)):S,T={type:this.BROADCAST_EVENT,event:g,payload:y};return u>0&&(T.meta=JSON.parse(w)),{join_ref:null,ref:null,topic:h,event:this.BROADCAST_EVENT,payload:T}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([a])=>n.includes(a)))}}class bv{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Hn;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Hn||(Hn={}));const Z2=(t,e,n={})=>{var a;const o=(a=n.skipTypes)!==null&&a!==void 0?a:[];return e?Object.keys(e).reduce((s,u)=>(s[u]=u4(u,t,e,o),s),{}):{}},u4=(t,e,n,a)=>{const o=e.find(d=>d.name===t),s=o?.type,u=n[t];return s&&!a.includes(s)?wv(s,u):vg(u)},wv=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return h4(e,n)}switch(t){case Hn.bool:return c4(e);case Hn.float4:case Hn.float8:case Hn.int2:case Hn.int4:case Hn.int8:case Hn.numeric:case Hn.oid:return d4(e);case Hn.json:case Hn.jsonb:return f4(e);case Hn.timestamp:return p4(e);case Hn.abstime:case Hn.date:case Hn.daterange:case Hn.int4range:case Hn.int8range:case Hn.money:case Hn.reltime:case Hn.text:case Hn.time:case Hn.timestamptz:case Hn.timetz:case Hn.tsrange:case Hn.tstzrange:return vg(e);default:return vg(e)}},vg=t=>t,c4=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},d4=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},f4=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},h4=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,a=t[n];if(t[0]==="{"&&a==="}"){let s;const u=t.slice(1,n);try{s=JSON.parse("["+u+"]")}catch{s=u?u.split(","):[]}return s.map(d=>wv(e,d))}return t},p4=t=>typeof t=="string"?t.replace(" ","T"):t,xv=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Lp{constructor(e,n,a={},o=mg){this.channel=e,this.event=n,this.payload=a,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var a;return this._hasReceived(e)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(a=>a.status===e).forEach(a=>a.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Q2;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Q2||(Q2={}));class jd{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},o=>{const{onJoin:s,onLeave:u,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=jd.syncState(this.state,o,s,u),this.pendingDiffs.forEach(f=>{this.state=jd.syncDiff(this.state,f,s,u)}),this.pendingDiffs=[],d()}),this.channel._on(a.diff,{},o=>{const{onJoin:s,onLeave:u,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=jd.syncDiff(this.state,o,s,u),d())}),this.onJoin((o,s,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:s,newPresences:u})}),this.onLeave((o,s,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:s,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,a,o){const s=this.cloneDeep(e),u=this.transformState(n),d={},f={};return this.map(s,(h,g)=>{u[h]||(f[h]=g)}),this.map(u,(h,g)=>{const w=s[h];if(w){const S=g.map(N=>N.presence_ref),y=w.map(N=>N.presence_ref),T=g.filter(N=>y.indexOf(N.presence_ref)<0),E=w.filter(N=>S.indexOf(N.presence_ref)<0);T.length>0&&(d[h]=T),E.length>0&&(f[h]=E)}else d[h]=g}),this.syncDiff(s,{joins:d,leaves:f},a,o)}static syncDiff(e,n,a,o){const{joins:s,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),o||(o=()=>{}),this.map(s,(d,f)=>{var h;const g=(h=e[d])!==null&&h!==void 0?h:[];if(e[d]=this.cloneDeep(f),g.length>0){const w=e[d].map(y=>y.presence_ref),S=g.filter(y=>w.indexOf(y.presence_ref)<0);e[d].unshift(...S)}a(d,g,f)}),this.map(u,(d,f)=>{let h=e[d];if(!h)return;const g=f.map(w=>w.presence_ref);h=h.filter(w=>g.indexOf(w.presence_ref)<0),e[d]=h,o(d,h,f),h.length===0&&delete e[d]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(a=>n(a,e[a]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,a)=>{const o=e[a];return"metas"in o?n[a]=o.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[a]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var e5;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(e5||(e5={}));var Od;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Od||(Od={}));var Oo;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Oo||(Oo={}));class Nc{constructor(e,n={config:{}},a){var o,s;if(this.topic=e,this.params=n,this.socket=a,this.bindings={},this.state=Xr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Lp(this,Ss.join,this.params,this.timeout),this.rejoinTimer=new bv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Xr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Xr.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Xr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Xr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Xr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ss.reply,{},(u,d)=>{this._trigger(this._replyEventName(d),u)}),this.presence=new jd(this),this.broadcastEndpointURL=xv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var a,o,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Xr.closed){const{config:{broadcast:u,presence:d,private:f}}=this.params,h=(o=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(y=>y.filter))!==null&&o!==void 0?o:[],g=!!this.bindings[Od.PRESENCE]&&this.bindings[Od.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,w={},S={broadcast:u,presence:Object.assign(Object.assign({},d),{enabled:g}),postgres_changes:h,private:f};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(y=>e?.(Oo.CHANNEL_ERROR,y)),this._onClose(()=>e?.(Oo.CLOSED)),this.updateJoinPayload(Object.assign({config:S},w)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:y})=>{var T;if(this.socket._isManualToken()||this.socket.setAuth(),y===void 0){e?.(Oo.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,N=(T=E?.length)!==null&&T!==void 0?T:0,L=[];for(let I=0;I<N;I++){const D=E[I],{filter:{event:$,schema:ce,table:he,filter:le}}=D,W=y&&y[I];if(W&&W.event===$&&Nc.isFilterValueEqual(W.schema,ce)&&Nc.isFilterValueEqual(W.table,he)&&Nc.isFilterValueEqual(W.filter,le))L.push(Object.assign(Object.assign({},D),{id:W.id}));else{this.unsubscribe(),this.state=Xr.errored,e?.(Oo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=L,e&&e(Oo.SUBSCRIBED);return}}).receive("error",y=>{this.state=Xr.errored,e?.(Oo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{e?.(Oo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,a){return this.state===Xr.joined&&e===Od.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,a)}async httpSend(e,n,a={}){var o;if(n==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(o=a.timeout)!==null&&o!==void 0?o:this.timeout);if(d.status===202)return{success:!0};let f=d.statusText;try{const h=await d.json();f=h.error||h.message||f}catch{}return Promise.reject(new Error(f))}async send(e,n={}){var a,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:u}=e,d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:u,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((o=h.body)===null||o===void 0?void 0:o.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var u,d,f;const h=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(d=(u=this.params)===null||u===void 0?void 0:u.config)===null||d===void 0?void 0:d.broadcast)===null||f===void 0)&&f.ack)&&s("ok"),h.receive("ok",()=>s("ok")),h.receive("error",()=>s("error")),h.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Xr.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ss.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(o=>{a=new Lp(this,Ss.leave,{},e),a.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Xr.closed,this.bindings={}}async _fetchWithTimeout(e,n,a){const o=new AbortController,s=setTimeout(()=>o.abort(),a),u=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(s),u}_push(e,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Lp(this,e,n,a);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>o4){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,a){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,a){var o,s;const u=e.toLocaleLowerCase(),{close:d,error:f,leave:h,join:g}=Ss;if(a&&[d,f,h,g].indexOf(u)>=0&&a!==this._joinRef())return;let S=this._onMessage(u,n,a);if(n&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(y=>{var T,E,N;return((T=y.filter)===null||T===void 0?void 0:T.event)==="*"||((N=(E=y.filter)===null||E===void 0?void 0:E.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===u}).map(y=>y.callback(S,a)):(s=this.bindings[u])===null||s===void 0||s.filter(y=>{var T,E,N,L,I,D,$,ce;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in y){const he=y.id,le=(T=y.filter)===null||T===void 0?void 0:T.event;return he&&((E=n.ids)===null||E===void 0?void 0:E.includes(he))&&(le==="*"||le?.toLocaleLowerCase()===((N=n.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))&&(!(!((L=y.filter)===null||L===void 0)&&L.table)||y.filter.table===((I=n.data)===null||I===void 0?void 0:I.table))}else{const he=($=(D=y?.filter)===null||D===void 0?void 0:D.event)===null||$===void 0?void 0:$.toLocaleLowerCase();return he==="*"||he===((ce=n?.event)===null||ce===void 0?void 0:ce.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===u}).map(y=>{if(typeof S=="object"&&"ids"in S){const T=S.data,{schema:E,table:N,commit_timestamp:L,type:I,errors:D}=T;S=Object.assign(Object.assign({},{schema:E,table:N,commit_timestamp:L,eventType:I,new:{},old:{},errors:D}),this._getPayloadRecords(T))}y.callback(S,a)})}_isClosed(){return this.state===Xr.closed}_isJoined(){return this.state===Xr.joined}_isJoining(){return this.state===Xr.joining}_isLeaving(){return this.state===Xr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,a){const o=e.toLocaleLowerCase(),s={type:o,filter:n,callback:a};return this.bindings[o]?this.bindings[o].push(s):this.bindings[o]=[s],this}_off(e,n){const a=e.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(o=>{var s;return!(((s=o.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===a&&Nc.isEqual(o.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const a in e)if(e[a]!==n[a])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ss.close,{},e)}_onError(e){this._on(Ss.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Xr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Z2(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Z2(e.columns,e.old_record)),n}}const Rp=()=>{},nh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},g4=[1e3,2e3,5e3,1e4],m4=1e4,y4=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class v4{constructor(e,n){var a;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=mg,this.transport=null,this.heartbeatIntervalMs=nh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Rp,this.ref=0,this.reconnectTimer=null,this.vsn=J2,this.logger=Rp,this.conn=null,this.sendBuffer=[],this.serializer=new l4,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...s)=>o(...s):(...s)=>fetch(...s),!(!((a=n?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${yg.websocket}`,this.httpEndpoint=xv(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=n4.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,a){this.logger(e,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case Al.connecting:return hu.Connecting;case Al.open:return hu.Open;case Al.closing:return hu.Closing;default:return hu.Closed}}isConnected(){return this.connectionState()===hu.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const a=`realtime:${e}`,o=this.getChannels().find(s=>s.topic===a);if(o)return o;{const s=new Nc(`realtime:${e}`,n,this);return this.channels.push(s),s}}push(e){const{topic:n,event:a,payload:o,ref:s}=e,u=()=>{this.encode(e,d=>{var f;(f=this.conn)===null||f===void 0||f.send(d)})};this.log("push",`${n} ${a} (${s})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(s4,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},nh.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(a=>a.topic===e&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const h=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",h)}catch(g){this.log("error","error in heartbeat callback",g)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:a,event:o,payload:s,ref:u}=n,d=u?`(${u})`:"",f=s.status||"";this.log("receive",`${f} ${a} ${o} ${d}`.trim(),s),this.channels.filter(h=>h._isMember(a)).forEach(h=>h._trigger(o,s,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Al.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Al.open||this.conn.readyState===Al.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ss.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const a=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${e}${a}${o}`}_workerObjectUrl(e){let n;if(e)n=e;else{const a=new Blob([y4],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,a=!1;if(e)n=e,a=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),n=this.accessTokenValue}else n=this.accessTokenValue;a?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(o=>{const s={access_token:n,version:i4};n&&o.updateJoinPayload(s),o.joinedOnce&&o._isJoined()&&o._push(Ss.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(a=>{try{a(n)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(a){this.log("error",`error triggering ${e} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new bv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},nh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,a,o,s,u,d,f,h,g,w,S,y;switch(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(a=e?.timeout)!==null&&a!==void 0?a:mg,this.heartbeatIntervalMs=(o=e?.heartbeatIntervalMs)!==null&&o!==void 0?o:nh.HEARTBEAT_INTERVAL,this.worker=(s=e?.worker)!==null&&s!==void 0?s:!1,this.accessToken=(u=e?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(d=e?.heartbeatCallback)!==null&&d!==void 0?d:Rp,this.vsn=(f=e?.vsn)!==null&&f!==void 0?f:J2,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=e?.reconnectAfterMs)!==null&&h!==void 0?h:(T=>g4[T-1]||m4),this.vsn){case a4:this.encode=(g=e?.encode)!==null&&g!==void 0?g:((T,E)=>E(JSON.stringify(T))),this.decode=(w=e?.decode)!==null&&w!==void 0?w:((T,E)=>E(JSON.parse(T)));break;case vv:this.encode=(S=e?.encode)!==null&&S!==void 0?S:this.serializer.encode.bind(this.serializer),this.decode=(y=e?.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var Ud=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function b4(t,e,n){const a=new URL(e,t);if(n)for(const[o,s]of Object.entries(n))s!==void 0&&a.searchParams.set(o,s);return a.toString()}async function w4(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function x4(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:a,query:o,body:s,headers:u}){const d=b4(t.baseUrl,a,o),f=await w4(t.auth),h=await e(d,{method:n,headers:{...s?{"Content-Type":"application/json"}:{},...f,...u},body:s?JSON.stringify(s):void 0}),g=await h.text(),w=(h.headers.get("content-type")||"").includes("application/json"),S=w&&g?JSON.parse(g):g;if(!h.ok){const y=w?S:void 0,T=y?.error;throw new Ud(T?.message??`Request failed with status ${h.status}`,{status:h.status,icebergType:T?.type,icebergCode:T?.code,details:y})}return{status:h.status,headers:h.headers,data:S}}}}function rh(t){return t.join("")}var _4=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:rh(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(a=>({namespace:a}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${rh(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${rh(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${rh(t.namespace)}`}),!0}catch(e){if(e instanceof Ud&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof Ud&&n.status===409)return;throw n}}};function hc(t){return t.join("")}var S4=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${hc(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${hc(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${hc(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${hc(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${hc(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${hc(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof Ud&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof Ud&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},A4=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=x4({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new _4(this.client,e),this.tableOps=new S4(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Jh=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function dr(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var E4=class extends Jh{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},bg=class extends Jh{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const Qg=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),T4=()=>Response,wg=t=>{if(Array.isArray(t))return t.map(n=>wg(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,a])=>{const o=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[o]=wg(a)}),e},k4=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},N4=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function qd(t){"@babel/helpers - typeof";return qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qd(t)}function C4(t,e){if(qd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(qd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function L4(t){var e=C4(t,"string");return qd(e)=="symbol"?e:e+""}function R4(t,e,n){return(e=L4(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,a)}return n}function Ut(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t5(Object(n),!0).forEach(function(a){R4(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t5(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}const jp=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},j4=async(t,e,n)=>{t instanceof await T4()&&!n?.noResolveJson?t.json().then(a=>{const o=t.status||500,s=a?.statusCode||o+"";e(new E4(jp(a),o,s))}).catch(a=>{e(new bg(jp(a),a))}):e(new bg(jp(t),t))},O4=(t,e,n,a)=>{const o={method:t,headers:e?.headers||{}};return t==="GET"||!a?o:(k4(a)?(o.headers=Ut({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(a)):o.body=a,e?.duplex&&(o.duplex=e.duplex),Ut(Ut({},o),n))};async function ef(t,e,n,a,o,s){return new Promise((u,d)=>{t(n,O4(e,a,o,s)).then(f=>{if(!f.ok)throw f;return a?.noResolveJson?f:f.json()}).then(f=>u(f)).catch(f=>j4(f,d,a))})}async function Fd(t,e,n,a){return ef(t,"GET",e,n,a)}async function _s(t,e,n,a,o){return ef(t,"POST",e,a,o,n)}async function xg(t,e,n,a,o){return ef(t,"PUT",e,a,o,n)}async function D4(t,e,n,a){return ef(t,"HEAD",e,Ut(Ut({},n),{},{noResolveJson:!0}),a)}async function em(t,e,n,a,o){return ef(t,"DELETE",e,a,o,n)}var z4=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(dr(e))return{data:null,error:e};throw e}}};let _v;_v=Symbol.toStringTag;var B4=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[_v]="BlobDownloadBuilder",this.promise=null}asStream(){return new z4(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(dr(e))return{data:null,error:e};throw e}}};const I4={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},n5={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var M4=class{constructor(t,e={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=Qg(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,a){var o=this;try{let s;const u=Ut(Ut({},n5),a);let d=Ut(Ut({},o.headers),t==="POST"&&{"x-upsert":String(u.upsert)});const f=u.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",u.cacheControl),f&&s.append("metadata",o.encodeMetadata(f)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.has("cacheControl")||s.append("cacheControl",u.cacheControl),f&&!s.has("metadata")&&s.append("metadata",o.encodeMetadata(f))):(s=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType,f&&(d["x-metadata"]=o.toBase64(o.encodeMetadata(f))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!u.duplex&&(u.duplex="half")),a?.headers&&(d=Ut(Ut({},d),a.headers));const h=o._removeEmptyFolders(e),g=o._getFinalPath(h),w=await(t=="PUT"?xg:_s)(o.fetch,`${o.url}/object/${g}`,s,Ut({headers:d},u?.duplex?{duplex:u.duplex}:{}));return{data:{path:h,id:w.Id,fullPath:w.Key},error:null}}catch(s){if(o.shouldThrowOnError)throw s;if(dr(s))return{data:null,error:s};throw s}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,a){var o=this;const s=o._removeEmptyFolders(t),u=o._getFinalPath(s),d=new URL(o.url+`/object/upload/sign/${u}`);d.searchParams.set("token",e);try{let f;const h=Ut({upsert:n5.upsert},a),g=Ut(Ut({},o.headers),{"x-upsert":String(h.upsert)});return typeof Blob<"u"&&n instanceof Blob?(f=new FormData,f.append("cacheControl",h.cacheControl),f.append("",n)):typeof FormData<"u"&&n instanceof FormData?(f=n,f.append("cacheControl",h.cacheControl)):(f=n,g["cache-control"]=`max-age=${h.cacheControl}`,g["content-type"]=h.contentType),{data:{path:s,fullPath:(await xg(o.fetch,d.toString(),f,{headers:g})).Key},error:null}}catch(f){if(o.shouldThrowOnError)throw f;if(dr(f))return{data:null,error:f};throw f}}async createSignedUploadUrl(t,e){var n=this;try{let a=n._getFinalPath(t);const o=Ut({},n.headers);e?.upsert&&(o["x-upsert"]="true");const s=await _s(n.fetch,`${n.url}/object/upload/sign/${a}`,{},{headers:o}),u=new URL(n.url+s.url),d=u.searchParams.get("token");if(!d)throw new Jh("No token returned by API");return{data:{signedUrl:u.toString(),path:t,token:d},error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(dr(a))return{data:null,error:a};throw a}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var a=this;try{return{data:await _s(a.fetch,`${a.url}/object/move`,{bucketId:a.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(dr(o))return{data:null,error:o};throw o}}async copy(t,e,n){var a=this;try{return{data:{path:(await _s(a.fetch,`${a.url}/object/copy`,{bucketId:a.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:a.headers})).Key},error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(dr(o))return{data:null,error:o};throw o}}async createSignedUrl(t,e,n){var a=this;try{let o=a._getFinalPath(t),s=await _s(a.fetch,`${a.url}/object/sign/${o}`,Ut({expiresIn:e},n?.transform?{transform:n.transform}:{}),{headers:a.headers});const u=n?.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${a.url}${s.signedURL}${u}`)},{data:s,error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(dr(o))return{data:null,error:o};throw o}}async createSignedUrls(t,e,n){var a=this;try{const o=await _s(a.fetch,`${a.url}/object/sign/${a.bucketId}`,{expiresIn:e,paths:t},{headers:a.headers}),s=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:o.map(u=>Ut(Ut({},u),{},{signedUrl:u.signedURL?encodeURI(`${a.url}${u.signedURL}${s}`):null})),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(dr(o))return{data:null,error:o};throw o}}download(t,e){const n=typeof e?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(e?.transform||{}),o=a?`?${a}`:"",s=this._getFinalPath(t),u=()=>Fd(this.fetch,`${this.url}/${n}/${s}${o}`,{headers:this.headers,noResolveJson:!0});return new B4(u,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:wg(await Fd(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(a){if(e.shouldThrowOnError)throw a;if(dr(a))return{data:null,error:a};throw a}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await D4(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(a){if(e.shouldThrowOnError)throw a;if(dr(a)&&a instanceof bg){const o=a.originalError;if([400,404].includes(o?.status))return{data:!1,error:a}}throw a}}getPublicUrl(t,e){const n=this._getFinalPath(t),a=[],o=e?.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&a.push(o);const s=typeof e?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(e?.transform||{});u!==""&&a.push(u);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${d}`)}}}async remove(t){var e=this;try{return{data:await em(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(dr(n))return{data:null,error:n};throw n}}async list(t,e,n){var a=this;try{const o=Ut(Ut(Ut({},I4),e),{},{prefix:t||""});return{data:await _s(a.fetch,`${a.url}/object/list/${a.bucketId}`,o,{headers:a.headers},n),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(dr(o))return{data:null,error:o};throw o}}async listV2(t,e){var n=this;try{const a=Ut({},t);return{data:await _s(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,a,{headers:n.headers},e),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(dr(a))return{data:null,error:a};throw a}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const Sv="2.91.0",Av={"X-Client-Info":`storage-js/${Sv}`};var P4=class{constructor(t,e={},n,a){this.shouldThrowOnError=!1;const o=new URL(t);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Ut(Ut({},Av),e),this.fetch=Qg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await Fd(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(dr(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await Fd(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(dr(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await _s(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(dr(a))return{data:null,error:a};throw a}}async updateBucket(t,e){var n=this;try{return{data:await xg(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(dr(a))return{data:null,error:a};throw a}}async emptyBucket(t){var e=this;try{return{data:await _s(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(dr(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await em(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(dr(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},U4=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Ut(Ut({},Av),e),this.fetch=Qg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await _s(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(dr(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const a=n.toString(),o=a?`${e.url}/bucket?${a}`:`${e.url}/bucket`;return{data:await Fd(e.fetch,o,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(dr(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await em(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(dr(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!N4(t))throw new Jh("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new A4({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),a=this.shouldThrowOnError;return new Proxy(n,{get(o,s){const u=o[s];return typeof u!="function"?u:async(...d)=>{try{return{data:await u.apply(o,d),error:null}}catch(f){if(a)throw f;return{data:null,error:f}}}}})}};const tm={"X-Client-Info":`storage-js/${Sv}`,"Content-Type":"application/json"};var Ev=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function xa(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var Op=class extends Ev{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},q4=class extends Ev{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const nm=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),F4=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},r5=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),H4=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!n?.noResolveJson){const a=t.status||500,o=t;if(typeof o.json=="function")o.json().then(s=>{const u=s?.statusCode||s?.code||a+"";e(new Op(r5(s),a,u))}).catch(()=>{const s=a+"";e(new Op(o.statusText||`HTTP ${a} error`,a,s))});else{const s=a+"";e(new Op(o.statusText||`HTTP ${a} error`,a,s))}}else e(new q4(r5(t),t))},$4=(t,e,n,a)=>{const o={method:t,headers:e?.headers||{}};return a?(F4(a)?(o.headers=Ut({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(a)):o.body=a,Ut(Ut({},o),n)):o};async function W4(t,e,n,a,o,s){return new Promise((u,d)=>{t(n,$4(e,a,o,s)).then(f=>{if(!f.ok)throw f;if(a?.noResolveJson)return f;const h=f.headers.get("content-type");return!h||!h.includes("application/json")?{}:f.json()}).then(f=>u(f)).catch(f=>H4(f,d,a))})}async function _a(t,e,n,a,o){return W4(t,"POST",e,a,o,n)}var G4=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Ut(Ut({},tm),e),this.fetch=nm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await _a(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(xa(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await _a(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(xa(a))return{data:null,error:a};throw a}}async listIndexes(t){var e=this;try{return{data:await _a(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(xa(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await _a(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(xa(a))return{data:null,error:a};throw a}}},Y4=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Ut(Ut({},tm),e),this.fetch=nm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await _a(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(xa(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await _a(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(xa(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await _a(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(xa(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await _a(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(xa(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await _a(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(xa(n))return{data:null,error:n};throw n}}},V4=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Ut(Ut({},tm),e),this.fetch=nm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await _a(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(xa(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await _a(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(xa(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await _a(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(xa(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await _a(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(xa(n))return{data:null,error:n};throw n}}},K4=class extends V4{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new X4(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},X4=class extends G4{constructor(t,e,n,a){super(t,e,a),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,Ut(Ut({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,Ut(Ut({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new J4(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},J4=class extends Y4{constructor(t,e,n,a,o){super(t,e,o),this.vectorBucketName=n,this.indexName=a}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,Ut(Ut({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,Ut(Ut({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,Ut(Ut({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,Ut(Ut({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,Ut(Ut({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},Z4=class extends P4{constructor(t,e={},n,a){super(t,e,n,a)}from(t){return new M4(this.url,this.headers,t,this.fetch)}get vectors(){return new K4(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new U4(this.url+"/iceberg",this.headers,this.fetch)}};const Tv="2.91.0",Ac=30*1e3,_g=3,Dp=_g*Ac,Q4="http://localhost:9999",eS="supabase.auth.token",tS={"X-Client-Info":`gotrue-js/${Tv}`},Sg="X-Supabase-Api-Version",kv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},nS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,rS=600*1e3;class Hd extends Error{constructor(e,n,a){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function Nt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class iS extends Hd{constructor(e,n,a){super(e,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function aS(t){return Nt(t)&&t.name==="AuthApiError"}class pu extends Hd{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Uo extends Hd{constructor(e,n,a,o){super(e,a,o),this.name=n,this.status=a}}class wa extends Uo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function sS(t){return Nt(t)&&t.name==="AuthSessionMissingError"}class pc extends Uo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ih extends Uo{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ah extends Uo{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function oS(t){return Nt(t)&&t.name==="AuthImplicitGrantRedirectError"}class i5 extends Uo{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class lS extends Uo{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Ag extends Uo{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function zp(t){return Nt(t)&&t.name==="AuthRetryableFetchError"}class a5 extends Uo{constructor(e,n,a){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class Eg extends Uo{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Lh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),s5=` 	
\r=`.split(""),uS=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<s5.length;e+=1)t[s5[e].charCodeAt(0)]=-2;for(let e=0;e<Lh.length;e+=1)t[Lh[e].charCodeAt(0)]=e;return t})();function o5(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;n(Lh[a]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;n(Lh[a]),e.queuedBits-=6}}function Nv(t,e,n){const a=uS[t];if(a>-1)for(e.queue=e.queue<<6|a,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function l5(t){const e=[],n=u=>{e.push(String.fromCodePoint(u))},a={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},s=u=>{fS(u,a,n)};for(let u=0;u<t.length;u+=1)Nv(t.charCodeAt(u),o,s);return e.join("")}function cS(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function dS(t,e){for(let n=0;n<t.length;n+=1){let a=t.charCodeAt(n);if(a>55295&&a<=56319){const o=(a-55296)*1024&65535;a=(t.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}cS(a,e)}}function fS(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let a=1;a<6;a+=1)if((t>>7-a&1)===0){e.utf8seq=a;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Lc(t){const e=[],n={queue:0,queuedBits:0},a=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)Nv(t.charCodeAt(o),n,a);return new Uint8Array(e)}function hS(t){const e=[];return dS(t,n=>e.push(n)),new Uint8Array(e)}function mu(t){const e=[],n={queue:0,queuedBits:0},a=o=>{e.push(o)};return t.forEach(o=>o5(o,n,a)),o5(null,n,a),e.join("")}function pS(t){return Math.round(Date.now()/1e3)+t}function gS(){return Symbol("auth-callback")}const yi=()=>typeof window<"u"&&typeof document<"u",uu={tested:!1,writable:!1},Cv=()=>{if(!yi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(uu.tested)return uu.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),uu.tested=!0,uu.writable=!0}catch{uu.tested=!0,uu.writable=!1}return uu.writable};function mS(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,s)=>{e[s]=o})}catch{}return n.searchParams.forEach((a,o)=>{e[o]=a}),e}const Lv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),yS=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ec=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},cu=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},mi=async(t,e)=>{await t.removeItem(e)};class Zh{constructor(){this.promise=new Zh.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Zh.promiseConstructor=Promise;function Bp(t){const e=t.split(".");if(e.length!==3)throw new Eg("Invalid JWT structure");for(let a=0;a<e.length;a++)if(!nS.test(e[a]))throw new Eg("JWT not in base64url format");return{header:JSON.parse(l5(e[0])),payload:JSON.parse(l5(e[1])),signature:Lc(e[2]),raw:{header:e[0],payload:e[1]}}}async function vS(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function bS(t,e){return new Promise((a,o)=>{(async()=>{for(let s=0;s<1/0;s++)try{const u=await t(s);if(!e(s,null,u)){a(u);return}}catch(u){if(!e(s,u)){o(u);return}}})()})}function wS(t){return("0"+t.toString(16)).substr(-2)}function xS(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let o="";for(let s=0;s<56;s++)o+=n.charAt(Math.floor(Math.random()*a));return o}return crypto.getRandomValues(e),Array.from(e,wS).join("")}async function _S(t){const n=new TextEncoder().encode(t),a=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(a);return Array.from(o).map(s=>String.fromCharCode(s)).join("")}async function SS(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await _S(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function gc(t,e,n=!1){const a=xS();let o=a;n&&(o+="/PASSWORD_RECOVERY"),await Ec(t,`${e}-code-verifier`,o);const s=await SS(a);return[s,a===s?"plain":"s256"]}const AS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ES(t){const e=t.headers.get(Sg);if(!e||!e.match(AS))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function TS(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function kS(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const NS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function mc(t){if(!NS.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ip(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function CS(t,e){return new Proxy(t,{get:(n,a,o)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const s=a.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,a,o)}return!e.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,a,o)}})}function u5(t){return JSON.parse(JSON.stringify(t))}const du=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),LS=[502,503,504];async function c5(t){var e;if(!yS(t))throw new Ag(du(t),0);if(LS.includes(t.status))throw new Ag(du(t),t.status);let n;try{n=await t.json()}catch(s){throw new pu(du(s),s)}let a;const o=ES(t);if(o&&o.getTime()>=kv["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new a5(du(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(a==="session_not_found")throw new wa}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,u)=>s&&typeof u=="string",!0))throw new a5(du(n),t.status,n.weak_password.reasons);throw new iS(du(n),t.status||500,a)}const RS=(t,e,n,a)=>{const o={method:t,headers:e?.headers||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(a),Object.assign(Object.assign({},o),n))};async function Pt(t,e,n,a){var o;const s=Object.assign({},a?.headers);s[Sg]||(s[Sg]=kv["2024-01-01"].name),a?.jwt&&(s.Authorization=`Bearer ${a.jwt}`);const u=(o=a?.query)!==null&&o!==void 0?o:{};a?.redirectTo&&(u.redirect_to=a.redirectTo);const d=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",f=await jS(t,e,n+d,{headers:s,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(f):{data:Object.assign({},f),error:null}}async function jS(t,e,n,a,o,s){const u=RS(e,a,o,s);let d;try{d=await t(n,Object.assign({},u))}catch(f){throw console.error(f),new Ag(du(f),0)}if(d.ok||await c5(d),a?.noResolveJson)return d;try{return await d.json()}catch(f){await c5(f)}}function xs(t){var e;let n=null;zS(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=pS(t.expires_in)));const a=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:a},error:null}}function d5(t){const e=xs(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(e.data.weak_password=t.weak_password),e}function kl(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function OS(t){return{data:t,error:null}}function DS(t){const{action_link:e,email_otp:n,hashed_token:a,redirect_to:o,verification_type:s}=t,u=Xh(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:n,hashed_token:a,redirect_to:o,verification_type:s},f=Object.assign({},u);return{data:{properties:d,user:f},error:null}}function f5(t){return t}function zS(t){return t.access_token&&t.refresh_token&&t.expires_in}const Mp=["global","local","others"];class BS{constructor({url:e="",headers:n={},fetch:a}){this.url=e,this.headers=n,this.fetch=Lv(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Mp[0]){if(Mp.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Mp.join(", ")}`);try{return await Pt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(a){if(Nt(a))return{data:null,error:a};throw a}}async inviteUserByEmail(e,n={}){try{return await Pt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:kl})}catch(a){if(Nt(a))return{data:{user:null},error:a};throw a}}async generateLink(e){try{const{options:n}=e,a=Xh(e,["options"]),o=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(o.new_email=a?.newEmail,delete o.newEmail),await Pt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:DS,redirectTo:n?.redirectTo})}catch(n){if(Nt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Pt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:kl})}catch(n){if(Nt(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,a,o,s,u,d,f;try{const h={nextPage:null,lastPage:0,total:0},g=await Pt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(s=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&s!==void 0?s:""},xform:f5});if(g.error)throw g.error;const w=await g.json(),S=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,y=(f=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return y.length>0&&(y.forEach(T=>{const E=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(T.split(";")[1].split("=")[1]);h[`${N}Page`]=E}),h.total=parseInt(S)),{data:Object.assign(Object.assign({},w),h),error:null}}catch(h){if(Nt(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){mc(e);try{return await Pt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:kl})}catch(n){if(Nt(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){mc(e);try{return await Pt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:kl})}catch(a){if(Nt(a))return{data:{user:null},error:a};throw a}}async deleteUser(e,n=!1){mc(e);try{return await Pt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:kl})}catch(a){if(Nt(a))return{data:{user:null},error:a};throw a}}async _listFactors(e){mc(e.userId);try{const{data:n,error:a}=await Pt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:a}}catch(n){if(Nt(n))return{data:null,error:n};throw n}}async _deleteFactor(e){mc(e.userId),mc(e.id);try{return{data:await Pt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Nt(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,a,o,s,u,d,f;try{const h={nextPage:null,lastPage:0,total:0},g=await Pt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(s=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&s!==void 0?s:""},xform:f5});if(g.error)throw g.error;const w=await g.json(),S=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,y=(f=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return y.length>0&&(y.forEach(T=>{const E=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(T.split(";")[1].split("=")[1]);h[`${N}Page`]=E}),h.total=parseInt(S)),{data:Object.assign(Object.assign({},w),h),error:null}}catch(h){if(Nt(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(e){try{return await Pt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Nt(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Pt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Nt(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await Pt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(Nt(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(e){try{return await Pt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Nt(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Pt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Nt(n))return{data:null,error:n};throw n}}}function h5(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const yc={debug:!!(globalThis&&Cv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Rv extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class IS extends Rv{}async function MS(t,e,n){yc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const a=new globalThis.AbortController;return e>0&&setTimeout(()=>{a.abort(),yc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async o=>{if(o){yc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await n()}finally{yc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw yc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new IS(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(yc.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function PS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function jv(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function US(t){return parseInt(t,16)}function qS(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,a=>a.toString(16).padStart(2,"0")).join("")}function FS(t){var e;const{chainId:n,domain:a,expirationTime:o,issuedAt:s=new Date,nonce:u,notBefore:d,requestId:f,resources:h,scheme:g,uri:w,version:S}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(S!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${S}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const y=jv(t.address),T=g?`${g}://${a}`:a,E=t.statement?`${t.statement}
`:"",N=`${T} wants you to sign in with your Ethereum account:
${y}

${E}`;let L=`URI: ${w}
Version: ${S}
Chain ID: ${n}${u?`
Nonce: ${u}`:""}
Issued At: ${s.toISOString()}`;if(o&&(L+=`
Expiration Time: ${o.toISOString()}`),d&&(L+=`
Not Before: ${d.toISOString()}`),f&&(L+=`
Request ID: ${f}`),h){let I=`
Resources:`;for(const D of h){if(!D||typeof D!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${D}`);I+=`
- ${D}`}L+=I}return`${N}
${L}`}class Mr extends Error{constructor({message:e,code:n,cause:a,name:o}){var s;super(e,{cause:a}),this.__isWebAuthnError=!0,this.name=(s=o??(a instanceof Error?a.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=n}}class Rh extends Mr{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function HS({error:t,options:e}){var n,a,o;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Mr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Mr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((a=s.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Mr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((o=s.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Mr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Mr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Mr({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new Mr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Mr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const u=window.location.hostname;if(Ov(u)){if(s.rp.id!==u)return new Mr({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Mr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Mr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Mr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Mr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function $S({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Mr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Mr({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(Ov(a)){if(n.rpId!==a)return new Mr({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Mr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Mr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Mr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class WS{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const GS=new WS;function YS(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:a}=t,o=Xh(t,["challenge","user","excludeCredentials"]),s=Lc(e).buffer,u=Object.assign(Object.assign({},n),{id:Lc(n.id).buffer}),d=Object.assign(Object.assign({},o),{challenge:s,user:u});if(a&&a.length>0){d.excludeCredentials=new Array(a.length);for(let f=0;f<a.length;f++){const h=a[f];d.excludeCredentials[f]=Object.assign(Object.assign({},h),{id:Lc(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return d}function VS(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,a=Xh(t,["challenge","allowCredentials"]),o=Lc(e).buffer,s=Object.assign(Object.assign({},a),{challenge:o});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const d=n[u];s.allowCredentials[u]=Object.assign(Object.assign({},d),{id:Lc(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return s}function KS(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:mu(new Uint8Array(t.response.attestationObject)),clientDataJSON:mu(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function XS(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,a=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:mu(new Uint8Array(o.authenticatorData)),clientDataJSON:mu(new Uint8Array(o.clientDataJSON)),signature:mu(new Uint8Array(o.signature)),userHandle:o.userHandle?mu(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Ov(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function p5(){var t,e;return!!(yi()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function JS(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Rh("Browser returned unexpected credential type",e)}:{data:null,error:new Rh("Empty credential response",e)}}catch(e){return{data:null,error:HS({error:e,options:t})}}}async function ZS(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Rh("Browser returned unexpected credential type",e)}:{data:null,error:new Rh("Empty credential response",e)}}catch(e){return{data:null,error:$S({error:e,options:t})}}}const QS={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},e6={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function jh(...t){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),a={};for(const o of t)if(o)for(const s in o){const u=o[s];if(u!==void 0)if(Array.isArray(u))a[s]=u;else if(n(u))a[s]=u;else if(e(u)){const d=a[s];e(d)?a[s]=jh(d,u):a[s]=jh(u)}else a[s]=u}return a}function t6(t,e){return jh(QS,t,e||{})}function n6(t,e){return jh(e6,t,e||{})}class r6{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:a,signal:o},s){try{const{data:u,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!u)return{data:null,error:d};const f=o??GS.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:h}=u.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${a}`),h.displayName||(h.displayName=h.name)}switch(u.webauthn.type){case"create":{const h=t6(u.webauthn.credential_options.publicKey,s?.create),{data:g,error:w}=await JS({publicKey:h,signal:f});return g?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:g}},error:null}:{data:null,error:w}}case"request":{const h=n6(u.webauthn.credential_options.publicKey,s?.request),{data:g,error:w}=await ZS(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:h,signal:f}));return g?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:g}},error:null}:{data:null,error:w}}}}catch(u){return Nt(u)?{data:null,error:u}:{data:null,error:new pu("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:n,webauthn:a}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:a})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},s){if(!n)return{data:null,error:new Hd("rpId is required for WebAuthn authentication")};try{if(!p5())return{data:null,error:new pu("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:a},signal:o},{request:s});if(!u)return{data:null,error:d};const{webauthn:f}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:f.type,rpId:n,rpOrigins:a,credential_response:f.credential_response}})}catch(u){return Nt(u)?{data:null,error:u}:{data:null,error:new pu("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},s){if(!n)return{data:null,error:new Hd("rpId is required for WebAuthn registration")};try{if(!p5())return{data:null,error:new pu("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(g=>{var w;return(w=g.data)===null||w===void 0?void 0:w.all.find(S=>S.factor_type==="webauthn"&&S.friendly_name===e&&S.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g?.id}):void 0),{data:null,error:d};const{data:f,error:h}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:o},{create:s});return f?this._verify({factorId:u.id,challengeId:f.challengeId,webauthn:{rpId:n,rpOrigins:a,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:h}}catch(u){return Nt(u)?{data:null,error:u}:{data:null,error:new pu("Unexpected error in register",u)}}}}PS();const i6={url:Q4,storageKey:eS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:tS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function g5(t,e,n){return await n()}const vc={};class $d{get jwks(){var e,n;return(n=(e=vc[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){vc[this.storageKey]=Object.assign(Object.assign({},vc[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=vc[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){vc[this.storageKey]=Object.assign(Object.assign({},vc[this.storageKey]),{cachedAt:e})}constructor(e){var n,a,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},i6),e);if(this.storageKey=s.storageKey,this.instanceID=(n=$d.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,$d.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&yi()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new BS({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Lv(s.fetch),this.lock=s.lock||g5,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&yi()&&(!((a=globalThis?.navigator)===null||a===void 0)&&a.locks)?this.lock=MS:this.lock=g5,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new r6(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Cv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=h5(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=h5(this.memoryStorage)),yi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Tv}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},a="none";if(yi()&&(n=mS(window.location.href),this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce")),yi()&&this.detectSessionInUrl&&a!=="none"){const{data:o,error:s}=await this._getSessionFromURL(n,a);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),oS(s)){const f=(e=s.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:s}}return{error:s}}const{session:u,redirectType:d}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",d),await this._saveSession(u),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Nt(n)?this._returnResult({error:n}):this._returnResult({error:new pu("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,a,o;try{const s=await Pt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:xs}),{data:u,error:d}=s;if(d||!u)return this._returnResult({data:{user:null,session:null},error:d});const f=u.session,h=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(s){if(Nt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(e){var n,a,o;try{let s;if("email"in e){const{email:g,password:w,options:S}=e;let y=null,T=null;this.flowType==="pkce"&&([y,T]=await gc(this.storage,this.storageKey)),s=await Pt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:S?.emailRedirectTo,body:{email:g,password:w,data:(n=S?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:S?.captchaToken},code_challenge:y,code_challenge_method:T},xform:xs})}else if("phone"in e){const{phone:g,password:w,options:S}=e;s=await Pt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:w,data:(a=S?.data)!==null&&a!==void 0?a:{},channel:(o=S?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:S?.captchaToken}},xform:xs})}else throw new ih("You must provide either an email or phone number and a password");const{data:u,error:d}=s;if(d||!u)return await mi(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:d});const f=u.session,h=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(s){if(await mi(this.storage,`${this.storageKey}-code-verifier`),Nt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:u,options:d}=e;n=await Pt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:d5})}else if("phone"in e){const{phone:s,password:u,options:d}=e;n=await Pt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:d5})}else throw new ih("You must provide either an email or phone number and a password");const{data:a,error:o}=n;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!a||!a.session||!a.user){const s=new pc;return this._returnResult({data:{user:null,session:null},error:s})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:o})}catch(n){if(Nt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,a,o,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,a,o,s,u,d,f,h,g,w,S;let y,T;if("message"in e)y=e.message,T=e.signature;else{const{chain:E,wallet:N,statement:L,options:I}=e;let D;if(yi())if(typeof N=="object")D=N;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")D=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!I?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=N}const $=new URL((n=I?.url)!==null&&n!==void 0?n:window.location.href),ce=await D.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ce||ce.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const he=jv(ce[0]);let le=(a=I?.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!le){const P=await D.request({method:"eth_chainId"});le=US(P)}const W={domain:$.host,address:he,statement:L,uri:$.href,version:"1",chainId:le,nonce:(o=I?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(u=(s=I?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(d=I?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(f=I?.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(h=I?.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(g=I?.signInWithEthereum)===null||g===void 0?void 0:g.resources};y=FS(W),T=await D.request({method:"personal_sign",params:[qS(y),he]})}try{const{data:E,error:N}=await Pt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:T},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(S=e.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:xs});if(N)throw N;if(!E||!E.session||!E.user){const L=new pc;return this._returnResult({data:{user:null,session:null},error:L})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:N})}catch(E){if(Nt(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(e){var n,a,o,s,u,d,f,h,g,w,S,y;let T,E;if("message"in e)T=e.message,E=e.signature;else{const{chain:N,wallet:L,statement:I,options:D}=e;let $;if(yi())if(typeof L=="object")$=L;else{const he=window;if("solana"in he&&typeof he.solana=="object"&&("signIn"in he.solana&&typeof he.solana.signIn=="function"||"signMessage"in he.solana&&typeof he.solana.signMessage=="function"))$=he.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof L!="object"||!D?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");$=L}const ce=new URL((n=D?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in $&&$.signIn){const he=await $.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},D?.signInWithSolana),{version:"1",domain:ce.host,uri:ce.href}),I?{statement:I}:null));let le;if(Array.isArray(he)&&he[0]&&typeof he[0]=="object")le=he[0];else if(he&&typeof he=="object"&&"signedMessage"in he&&"signature"in he)le=he;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in le&&"signature"in le&&(typeof le.signedMessage=="string"||le.signedMessage instanceof Uint8Array)&&le.signature instanceof Uint8Array)T=typeof le.signedMessage=="string"?le.signedMessage:new TextDecoder().decode(le.signedMessage),E=le.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in $)||typeof $.signMessage!="function"||!("publicKey"in $)||typeof $!="object"||!$.publicKey||!("toBase58"in $.publicKey)||typeof $.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");T=[`${ce.host} wants you to sign in with your Solana account:`,$.publicKey.toBase58(),...I?["",I,""]:[""],"Version: 1",`URI: ${ce.href}`,`Issued At: ${(o=(a=D?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((s=D?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${D.signInWithSolana.notBefore}`]:[],...!((u=D?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${D.signInWithSolana.expirationTime}`]:[],...!((d=D?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${D.signInWithSolana.chainId}`]:[],...!((f=D?.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${D.signInWithSolana.nonce}`]:[],...!((h=D?.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${D.signInWithSolana.requestId}`]:[],...!((w=(g=D?.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||w===void 0)&&w.length?["Resources",...D.signInWithSolana.resources.map(le=>`- ${le}`)]:[]].join(`
`);const he=await $.signMessage(new TextEncoder().encode(T),"utf8");if(!he||!(he instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=he}}try{const{data:N,error:L}=await Pt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:T,signature:mu(E)},!((S=e.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:xs});if(L)throw L;if(!N||!N.session||!N.user){const I=new pc;return this._returnResult({data:{user:null,session:null},error:I})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:L})}catch(N){if(Nt(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async _exchangeCodeForSession(e){const n=await cu(this.storage,`${this.storageKey}-code-verifier`),[a,o]=(n??"").split("/");try{if(!a&&this.flowType==="pkce")throw new lS;const{data:s,error:u}=await Pt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:a},xform:xs});if(await mi(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!s||!s.session||!s.user){const d=new pc;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return s.session&&(await this._saveSession(s.session),setTimeout(async()=>{await this._notifyAllSubscribers("SIGNED_IN",s.session)},0)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:u})}catch(s){if(await mi(this.storage,`${this.storageKey}-code-verifier`),Nt(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(e){try{const{options:n,provider:a,token:o,access_token:s,nonce:u}=e,d=await Pt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:o,access_token:s,nonce:u,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:xs}),{data:f,error:h}=d;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!f||!f.session||!f.user){const g=new pc;return this._returnResult({data:{user:null,session:null},error:g})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:h})}catch(n){if(Nt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,a,o,s,u;try{if("email"in e){const{email:d,options:f}=e;let h=null,g=null;this.flowType==="pkce"&&([h,g]=await gc(this.storage,this.storageKey));const{error:w}=await Pt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(n=f?.data)!==null&&n!==void 0?n:{},create_user:(a=f?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:h,code_challenge_method:g},redirectTo:f?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:w})}if("phone"in e){const{phone:d,options:f}=e,{data:h,error:g}=await Pt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(o=f?.data)!==null&&o!==void 0?o:{},create_user:(s=f?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},channel:(u=f?.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:g})}throw new ih("You must provide either an email or phone number.")}catch(d){if(await mi(this.storage,`${this.storageKey}-code-verifier`),Nt(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(e){var n,a;try{let o,s;"options"in e&&(o=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(a=e.options)===null||a===void 0?void 0:a.captchaToken);const{data:u,error:d}=await Pt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:xs});if(d)throw d;if(!u)throw new Error("An error occurred on token verification.");const f=u.session,h=u.user;return f?.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(o){if(Nt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(e){var n,a,o,s,u;try{let d=null,f=null;this.flowType==="pkce"&&([d,f]=await gc(this.storage,this.storageKey));const h=await Pt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(a=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:f}),headers:this.headers,xform:OS});return!((s=h.data)===null||s===void 0)&&s.url&&yi()&&!(!((u=e.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(h.data.url),this._returnResult(h)}catch(d){if(await mi(this.storage,`${this.storageKey}-code-verifier`),Nt(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:a}=e;if(a)throw a;if(!n)throw new wa;const{error:o}=await Pt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(e){if(Nt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:a,type:o,options:s}=e,{error:u}=await Pt(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:a,type:o,options:s}=e,{data:u,error:d}=await Pt(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:d})}throw new ih("You must provide either an email or phone number and a type")}catch(n){if(Nt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await cu(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const a=e.expires_at?e.expires_at*1e3-Date.now()<Dp:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",e.expires_at),!a){if(this.userStorage){const u=await cu(this.userStorage,this.storageKey+"-user");u?.user?e.user=u.user:e.user=Ip()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=CS(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await Pt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:kl}):await this._useSession(async n=>{var a,o,s;const{data:u,error:d}=n;if(d)throw d;return!(!((a=u.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new wa}:await Pt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0,xform:kl})})}catch(n){if(Nt(n))return sS(n)&&(await this._removeSession(),await mi(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async a=>{const{data:o,error:s}=a;if(s)throw s;if(!o.session)throw new wa;const u=o.session;let d=null,f=null;this.flowType==="pkce"&&e.email!=null&&([d,f]=await gc(this.storage,this.storageKey));const{data:h,error:g}=await Pt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:f}),jwt:u.access_token,xform:kl});if(g)throw g;return u.user=h.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(a){if(await mi(this.storage,`${this.storageKey}-code-verifier`),Nt(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new wa;const n=Date.now()/1e3;let a=n,o=!0,s=null;const{payload:u}=Bp(e.access_token);if(u.exp&&(a=u.exp,o=a<=n),o){const{data:d,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d)return{data:{user:null,session:null},error:null};s=d}else{const{data:d,error:f}=await this._getUser(e.access_token);if(f)throw f;s={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(n){if(Nt(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var a;if(!e){const{data:u,error:d}=n;if(d)throw d;e=(a=u.session)!==null&&a!==void 0?a:void 0}if(!e?.refresh_token)throw new wa;const{data:o,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Nt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!yi())throw new ah("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ah(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new i5("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ah("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new i5("No code detected.");const{data:I,error:D}=await this._exchangeCodeForSession(e.code);if(D)throw D;const $=new URL(window.location.href);return $.searchParams.delete("code"),window.history.replaceState(window.history.state,"",$.toString()),{data:{session:I.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:o,access_token:s,refresh_token:u,expires_in:d,expires_at:f,token_type:h}=e;if(!s||!d||!u||!h)throw new ah("No session defined in URL");const g=Math.round(Date.now()/1e3),w=parseInt(d);let S=g+w;f&&(S=parseInt(f));const y=S-g;y*1e3<=Ac&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${w}s`);const T=S-w;g-T>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",T,S,g):g-T<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",T,S,g);const{data:E,error:N}=await this._getUser(s);if(N)throw N;const L={provider_token:a,provider_refresh_token:o,access_token:s,expires_in:w,expires_at:S,refresh_token:u,token_type:h,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:L,redirectType:e.type},error:null})}catch(a){if(Nt(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await cu(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:o,error:s}=n;if(s)return this._returnResult({error:s});const u=(a=o.session)===null||a===void 0?void 0:a.access_token;if(u){const{error:d}=await this.admin.signOut(u,e);if(d&&!(aS(d)&&(d.status===404||d.status===401||d.status===403)))return this._returnResult({error:d})}return e!=="others"&&(await this._removeSession(),await mi(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=gS(),a={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(e){return await this._useSession(async n=>{var a,o;try{const{data:{session:s},error:u}=n;if(u)throw u;await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let a=null,o=null;this.flowType==="pkce"&&([a,o]=await gc(this.storage,this.storageKey,!0));try{return await Pt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:a,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(await mi(this.storage,`${this.storageKey}-code-verifier`),Nt(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var e;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(Nt(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:a,error:o}=await this._useSession(async s=>{var u,d,f,h,g;const{data:w,error:S}=s;if(S)throw S;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Pt(this.fetch,"GET",y,{headers:this.headers,jwt:(g=(h=w.session)===null||h===void 0?void 0:h.access_token)!==null&&g!==void 0?g:void 0})});if(o)throw o;return yi()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a?.url),this._returnResult({data:{provider:e.provider,url:a?.url},error:null})}catch(a){if(Nt(a))return this._returnResult({data:{provider:e.provider,url:null},error:a});throw a}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var a;try{const{error:o,data:{session:s}}=n;if(o)throw o;const{options:u,provider:d,token:f,access_token:h,nonce:g}=e,w=await Pt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=s?.access_token)!==null&&a!==void 0?a:void 0,body:{provider:d,id_token:f,access_token:h,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:xs}),{data:S,error:y}=w;return y?this._returnResult({data:{user:null,session:null},error:y}):!S||!S.session||!S.user?this._returnResult({data:{user:null,session:null},error:new pc}):(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("USER_UPDATED",S.session)),this._returnResult({data:S,error:y}))}catch(o){if(await mi(this.storage,`${this.storageKey}-code-verifier`),Nt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var a,o;const{data:s,error:u}=n;if(u)throw u;return await Pt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(Nt(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await bS(async o=>(o>0&&await vS(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await Pt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:xs})),(o,s)=>{const u=200*Math.pow(2,o);return s&&zp(s)&&Date.now()+u-a<Ac})}catch(a){if(this._debug(n,"error",a),Nt(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",a),yi()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:e,url:a},error:null}}async _recoverAndRefresh(){var e,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const o=await cu(this.storage,this.storageKey);if(o&&this.userStorage){let u=await cu(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await Ec(this.userStorage,this.storageKey+"-user",u)),o.user=(e=u?.user)!==null&&e!==void 0?e:Ip()}else if(o&&!o.user&&!o.user){const u=await cu(this.storage,this.storageKey+"-user");u&&u?.user?(o.user=u.user,await mi(this.storage,this.storageKey+"-user"),await Ec(this.storage,this.storageKey,o)):o.user=Ip()}if(this._debug(a,"session from storage",o),!this._isValidSession(o)){this._debug(a,"session is not valid"),o!==null&&await this._removeSession();return}const s=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Dp;if(this._debug(a,`session has${s?"":" not"} expired with margin of ${Dp}s`),s){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),zp(u)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:d}=await this._getUser(o.access_token);!d&&u?.user?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(a,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(a,"error",o),console.error(o);return}finally{this._debug(a,"end")}}async _callRefreshToken(e){var n,a;if(!e)throw new wa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Zh;const{data:s,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!s.session)throw new wa;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const d={data:s.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(s){if(this._debug(o,"error",s),Nt(s)){const u={data:null,error:s};return zp(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,n,a=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],u=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,n)}catch(f){s.push(f)}});if(await Promise.all(u),s.length>0){for(let d=0;d<s.length;d+=1)console.error(s[d]);throw s[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await mi(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await Ec(this.userStorage,this.storageKey+"-user",{user:n.user});const o=Object.assign({},n);delete o.user;const s=u5(o);await Ec(this.storage,this.storageKey,s)}else{const o=u5(n);await Ec(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await mi(this.storage,this.storageKey),await mi(this.storage,this.storageKey+"-code-verifier"),await mi(this.storage,this.storageKey+"-user"),this.userStorage&&await mi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&yi()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ac);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((a.expires_at*1e3-e)/Ac);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Ac}ms, refresh threshold is ${_g} ticks`),o<=_g&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Rv)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!yi()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,a){const o=[`provider=${encodeURIComponent(n)}`];if(a?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&o.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[s,u]=await gc(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(d.toString())}if(a?.queryParams){const s=new URLSearchParams(a.queryParams);o.push(s.toString())}return a?.skipBrowserRedirect&&o.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var a;const{data:o,error:s}=n;return s?this._returnResult({data:null,error:s}):await Pt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(Nt(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var a,o;const{data:s,error:u}=n;if(u)return this._returnResult({data:null,error:u});const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:f,error:h}=await Pt(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(a=s?.session)===null||a===void 0?void 0:a.access_token});return h?this._returnResult({data:null,error:h}):(e.factorType==="totp"&&f.type==="totp"&&(!((o=f?.totp)===null||o===void 0)&&o.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(n){if(Nt(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var a;const{data:o,error:s}=n;if(s)return this._returnResult({data:null,error:s});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?KS(e.webauthn.credential_response):XS(e.webauthn.credential_response)})}:{code:e.code}),{data:d,error:f}=await Pt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:f}))})}catch(n){if(Nt(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var a;const{data:o,error:s}=n;if(s)return this._returnResult({data:null,error:s});const u=await Pt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token});if(u.error)return u;const{data:d}=u;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:YS(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:VS(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Nt(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:a}=await this._challenge({factorId:e.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const o={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=n?.factors)!==null&&e!==void 0?e:[])o.all.push(s),s.status==="verified"&&o[s.factor_type].push(s);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:a},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Bp(a.access_token);let u=null;s.aal&&(u=s.aal);let d=u;((n=(e=a.user.factors)===null||e===void 0?void 0:e.filter(g=>g.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(d="aal2");const h=s.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:a},error:o}=n;return o?this._returnResult({data:null,error:o}):a?await Pt(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:a.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new wa})})}catch(n){if(Nt(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async a=>{const{data:{session:o},error:s}=a;if(s)return this._returnResult({data:null,error:s});if(!o)return this._returnResult({data:null,error:new wa});const u=await Pt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&yi()&&!n?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(a){if(Nt(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(e,n){try{return await this._useSession(async a=>{const{data:{session:o},error:s}=a;if(s)return this._returnResult({data:null,error:s});if(!o)return this._returnResult({data:null,error:new wa});const u=await Pt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&yi()&&!n?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(a){if(Nt(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:a}=e;return a?this._returnResult({data:null,error:a}):n?await Pt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new wa})})}catch(e){if(Nt(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:a},error:o}=n;return o?this._returnResult({data:null,error:o}):a?(await Pt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new wa})})}catch(n){if(Nt(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let a=n.keys.find(d=>d.kid===e);if(a)return a;const o=Date.now();if(a=this.jwks.keys.find(d=>d.kid===e),a&&this.jwks_cached_at+rS>o)return a;const{data:s,error:u}=await Pt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=o,a=s.keys.find(d=>d.kid===e),!a)?null:a}async getClaims(e,n={}){try{let a=e;if(!a){const{data:y,error:T}=await this.getSession();if(T||!y.session)return this._returnResult({data:null,error:T});a=y.session.access_token}const{header:o,payload:s,signature:u,raw:{header:d,payload:f}}=Bp(a);n?.allowExpired||TS(s.exp);const h=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!h){const{error:y}=await this.getUser(a);if(y)throw y;return{data:{claims:s,header:o,signature:u},error:null}}const g=kS(o.alg),w=await crypto.subtle.importKey("jwk",h,g,!0,["verify"]);if(!await crypto.subtle.verify(g,w,u,hS(`${d}.${f}`)))throw new Eg("Invalid JWT signature");return{data:{claims:s,header:o,signature:u},error:null}}catch(a){if(Nt(a))return this._returnResult({data:null,error:a});throw a}}}$d.nextInstanceID={};const a6=$d,s6="2.91.0";let Rd="";typeof Deno<"u"?Rd="deno":typeof document<"u"?Rd="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Rd="react-native":Rd="node";const o6={"X-Client-Info":`supabase-js-${Rd}/${s6}`},l6={headers:o6},u6={schema:"public"},c6={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},d6={};function Wd(t){"@babel/helpers - typeof";return Wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wd(t)}function f6(t,e){if(Wd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(Wd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function h6(t){var e=f6(t,"string");return Wd(e)=="symbol"?e:e+""}function p6(t,e,n){return(e=h6(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,a)}return n}function Sr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m5(Object(n),!0).forEach(function(a){p6(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m5(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}const g6=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),m6=()=>Headers,y6=(t,e,n)=>{const a=g6(n),o=m6();return async(s,u)=>{var d;const f=(d=await e())!==null&&d!==void 0?d:t;let h=new o(u?.headers);return h.has("apikey")||h.set("apikey",t),h.has("Authorization")||h.set("Authorization",`Bearer ${f}`),a(s,Sr(Sr({},u),{},{headers:h}))}};function v6(t){return t.endsWith("/")?t:t+"/"}function b6(t,e){var n,a;const{db:o,auth:s,realtime:u,global:d}=t,{db:f,auth:h,realtime:g,global:w}=e,S={db:Sr(Sr({},f),o),auth:Sr(Sr({},h),s),realtime:Sr(Sr({},g),u),storage:{},global:Sr(Sr(Sr({},w),d),{},{headers:Sr(Sr({},(n=w?.headers)!==null&&n!==void 0?n:{}),(a=d?.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return t.accessToken?S.accessToken=t.accessToken:delete S.accessToken,S}function w6(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(v6(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var x6=class extends a6{constructor(t){super(t)}},_6=class{constructor(t,e,n){var a,o;this.supabaseUrl=t,this.supabaseKey=e;const s=w6(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const u=`sb-${s.hostname.split(".")[0]}-auth-token`,d={db:u6,realtime:d6,auth:Sr(Sr({},c6),{},{storageKey:u}),global:l6},f=b6(n??{},d);if(this.storageKey=(a=f.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(o=f.global.headers)!==null&&o!==void 0?o:{},f.accessToken)this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(g,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}});else{var h;this.auth=this._initSupabaseAuthClient((h=f.auth)!==null&&h!==void 0?h:{},this.headers,f.global.fetch)}this.fetch=y6(e,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Sr({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(g=>this.realtime.setAuth(g)).catch(g=>console.warn("Failed to set initial Realtime auth token:",g)),this.rest=new t4(new URL("rest/v1",s).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new Z4(this.storageUrl.href,this.headers,this.fetch,n?.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new X_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:a}=await t.auth.getSession();return(e=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:a,userStorage:o,storageKey:s,flowType:u,lock:d,debug:f,throwOnError:h},g,w){const S={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new x6({url:this.authUrl.href,headers:Sr(Sr({},S),g),storageKey:s,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:a,userStorage:o,flowType:u,lock:d,debug:f,throwOnError:h,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new v4(this.realtimeUrl.href,Sr(Sr({},t),{},{params:Sr(Sr({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const S6=(t,e,n)=>new _6(t,e,n);function A6(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}A6()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const E6="https://kdfjtgbxxbuowbrvirwb.supabase.co",T6="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtkZmp0Z2J4eGJ1b3dicnZpcndiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjgyNDkyOTUsImV4cCI6MjA4MzgyNTI5NX0.__Dpbm0TewjsOdCHVCn0ncnLNNHNN2O-G4hf91Nmzd4",ct=S6(E6,T6);function k6(t){const[e,n]=j.useState(null),[a,o]=j.useState(!0),[s,u]=j.useState(null);return j.useEffect(()=>{(async()=>{try{o(!0),u(null);const{data:f,error:h}=await ct.from("businesses").select("*").eq("id",t).single();if(h)throw h;n(f)}catch(f){u(f.message),console.error("Business fetch error:",f)}finally{o(!1)}})()},[t]),{business:e,loading:a,error:s}}function rm(t){const[e,n]=j.useState([]),[a,o]=j.useState(!0),[s,u]=j.useState(null);return j.useEffect(()=>{if(!t){o(!1);return}(async()=>{try{o(!0),u(null);const{data:f,error:h}=await ct.from("categories").select("*").eq("business_id",t).eq("is_active",!0).order("order_index",{ascending:!0});if(h)throw h;n(f||[])}catch(f){u(f.message),console.error("Categories fetch error:",f)}finally{o(!1)}})()},[t]),{categories:e,loading:a,error:s}}function im(t,e=null){const[n,a]=j.useState([]),[o,s]=j.useState(!0),[u,d]=j.useState(null);return j.useEffect(()=>{if(!t){s(!1);return}(async()=>{try{s(!0),d(null);let h=ct.from("products").select("*, categories(name)").eq("business_id",t);e&&(h=h.eq("category_id",e));const{data:g,error:w}=await h.order("order_index",{ascending:!0}).order("created_at",{ascending:!0});if(w)throw w;const S=(g||[]).sort((y,T)=>y.is_active!==T.is_active?y.is_active?-1:1:(y.order_index||0)-(T.order_index||0));a(S)}catch(h){d(h.message),console.error("Products fetch error:",h)}finally{s(!1)}})()},[t,e]),{products:n,loading:o,error:u}}function $a({message:t="Ykleniyor..."}){return _.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2rem",gap:"1rem"},children:[_.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid #f3f3f3",borderTop:"4px solid #007bff",borderRadius:"50%",animation:"spin 1s linear infinite"}}),_.jsx("p",{style:{color:"#666",margin:0},children:t}),_.jsx("style",{children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `})]})}function Dv({categories:t,isMobile:e}){const[n,a]=j.useState(!1),o=s=>{a(!1),setTimeout(()=>{const u=document.getElementById(`category-${s}`);u?(u.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"}),setTimeout(()=>{const d=u.getBoundingClientRect(),f=window.pageYOffset||document.documentElement.scrollTop,w=d.top+f-120;Math.abs(window.pageYOffset-w)>10&&window.scrollTo({top:w,behavior:"smooth"})},100)):console.warn(`Category element not found: category-${s}`)},150)};return _.jsxs(_.Fragment,{children:[_.jsx("button",{onClick:()=>a(!n),style:{position:"fixed",top:"1rem",right:"1rem",zIndex:1001,background:"#ffffff",color:"#1a1a1a",border:"1px solid #e5e7eb",borderRadius:"10px",padding:"0.75rem",cursor:"pointer",fontSize:"1.5rem",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",transition:"all 0.2s ease",width:"48px",height:"48px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"600"},onMouseEnter:s=>{s.currentTarget.style.background="#f9fafb",s.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.15)"},onMouseLeave:s=>{s.currentTarget.style.background="#ffffff",s.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.1)"},children:n?"":""}),n&&_.jsx("div",{onClick:()=>a(!1),style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",zIndex:999,transition:"opacity 0.3s"}}),_.jsxs("div",{style:{position:"fixed",top:0,right:n?0:"-320px",width:e?"280px":"320px",height:"100vh",background:"#ffffff",zIndex:1e3,boxShadow:"-2px 0 16px rgba(0,0,0,0.1)",transition:"right 0.3s ease",overflowY:"auto",padding:"1.5rem"},children:[_.jsx("div",{style:{padding:"1rem 0",borderBottom:"2px solid #e5e7eb",marginBottom:"1.5rem"},children:_.jsx("h3",{style:{margin:0,fontSize:"1.25rem",color:"#1a1a1a",fontWeight:"700",letterSpacing:"-0.01em"},children:" Kategoriler"})}),_.jsx("nav",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:t.map(s=>_.jsx("button",{onClick:()=>o(s.id),style:{width:"100%",padding:"1rem 1.25rem",background:"#f9fafb",border:"1px solid #e5e7eb",textAlign:"left",cursor:"pointer",fontSize:"1rem",color:"#1a1a1a",transition:"all 0.2s ease",borderRadius:"8px",fontWeight:"500"},onMouseEnter:u=>{u.currentTarget.style.background="#d4a574",u.currentTarget.style.color="white",u.currentTarget.style.borderColor="#d4a574",u.currentTarget.style.transform="translateX(4px)"},onMouseLeave:u=>{u.currentTarget.style.background="#f9fafb",u.currentTarget.style.color="#1a1a1a",u.currentTarget.style.borderColor="#e5e7eb",u.currentTarget.style.transform="translateX(0)"},children:s.name},s.id))})]})]})}const y5=t=>new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY",minimumFractionDigits:2}).format(t),N6=(t,e="/placeholder-image.png")=>t||e,zv=j.createContext();function C6({children:t}){const[e,n]=j.useState([]);j.useEffect(()=>{const g=localStorage.getItem("cart");if(g)try{n(JSON.parse(g))}catch(w){console.error("Cart parse error:",w)}},[]);const a=g=>{n(w=>{const S=w.find(T=>T.product_id===g.id);let y;return S?y=w.map(T=>T.product_id===g.id?{...T,quantity:T.quantity+1}:T):y=[...w,{product_id:g.id,product_name:g.name,product_price:parseFloat(g.price),quantity:1,notes:""}],localStorage.setItem("cart",JSON.stringify(y)),y})},o=g=>{n(w=>{const S=w.find(T=>T.product_id===g);let y;return S&&S.quantity>1?y=w.map(T=>T.product_id===g?{...T,quantity:T.quantity-1}:T):y=w.filter(T=>T.product_id!==g),localStorage.setItem("cart",JSON.stringify(y)),y})},s=g=>{n(w=>{const S=w.filter(y=>y.product_id!==g);return localStorage.setItem("cart",JSON.stringify(S)),S})},u=()=>{n([]),localStorage.removeItem("cart")},d=()=>e.reduce((g,w)=>g+w.product_price*w.quantity,0),f=()=>e.reduce((g,w)=>g+w.quantity,0),h=g=>{const w=e.find(S=>S.product_id===g);return w?w.quantity:0};return _.jsx(zv.Provider,{value:{cart:e,addToCart:a,removeFromCart:o,removeItemFromCart:s,clearCart:u,getTotalPrice:d,getTotalItems:f,getItemQuantity:h},children:t})}function am(){const t=j.useContext(zv);if(!t)throw new Error("useCart must be used within CartProvider");return t}function Ur({price:t,fontSize:e,fontWeight:n="700",color:a="#2d2d2d",style:o={}}){const u=new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY",minimumFractionDigits:2}).format(t).split(","),d=u[0],f=u.length>1?`,${u[1]}`:"",h=()=>{if(!e)return"0.65em";if(typeof e=="string"&&(e.includes("rem")||e.includes("em"))){const S=parseFloat(e);return isNaN(S)?"0.65em":`${S*.65}${e.replace(/[0-9.]/g,"")}`}if(typeof e=="string"&&e.includes("px")){const S=parseFloat(e);return isNaN(S)?"0.65em":`${S*.65}px`}const w=parseFloat(e);return isNaN(w)?"0.65em":`${w*.65}px`},g=o?.background?.includes("gradient")||o?.WebkitBackgroundClip==="text";return _.jsxs("span",{style:{fontSize:e,fontWeight:n,color:a,...o,display:"inline-flex",alignItems:"baseline"},children:[_.jsx("span",{children:d}),f&&_.jsx("span",{style:{fontSize:h(),...g?{background:o.background,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"}:{}},children:f})]})}function L6({product:t,isMobile:e,showCartButtons:n=!0}){const{addToCart:a,removeFromCart:o,getItemQuantity:s}=am(),u=s(t.id),d=!t.is_active;return _.jsxs("div",{style:{background:d?"#e5e7eb":"#ffffff",borderRadius:"8px",overflow:"hidden",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",transition:"all 0.3s ease",border:"2px solid #d4a574",borderTopWidth:"4px",position:"relative",height:"100%",display:"flex",flexDirection:"column",opacity:d?.5:1,filter:d?"grayscale(0.8)":"none"},onMouseEnter:f=>{!e&&!d&&(f.currentTarget.style.transform="translateY(-4px)",f.currentTarget.style.boxShadow="0 8px 24px rgba(0,0,0,0.12)")},onMouseLeave:f=>{f.currentTarget.style.transform="translateY(0)",f.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.08)"},children:[d&&_.jsx("div",{style:{position:"absolute",top:"0.75rem",right:"0.75rem",background:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",color:"white",padding:"0.5rem 1rem",borderRadius:"20px",fontSize:e?"0.75rem":"0.875rem",fontWeight:"700",zIndex:10,boxShadow:"0 2px 8px rgba(239, 68, 68, 0.4)",letterSpacing:"0.05em"},children:"TKEND"}),t.image_url&&_.jsx("div",{style:{width:"100%",height:e?"200px":"240px",background:"#f3f4f6",overflow:"hidden",position:"relative"},children:_.jsx("img",{src:N6(t.image_url),alt:t.name,style:{width:"100%",height:"100%",objectFit:"cover",transition:"transform 0.4s ease",opacity:d?.5:1},onError:f=>{f.target.style.display="none"},onMouseEnter:f=>{!e&&!d&&(f.currentTarget.style.transform="scale(1.05)")},onMouseLeave:f=>{f.currentTarget.style.transform="scale(1)"}})}),_.jsxs("div",{style:{padding:e?"1.25rem":"1.5rem",display:"flex",flexDirection:"column",flex:1},children:[_.jsx("h3",{style:{margin:"0 0 0.5rem 0",fontSize:e?"1.25rem":"1.375rem",color:"#1a1a1a",fontWeight:"700",lineHeight:"1.3",letterSpacing:"-0.01em"},children:t.name}),t.description&&_.jsx("p",{style:{margin:"0 0 1rem 0",fontSize:e?"0.9375rem":"1rem",color:"#6b7280",lineHeight:"1.6",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",flex:1},children:t.description}),_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"auto",paddingTop:"1rem",borderTop:"2px solid #f3f4f6",gap:"0.75rem"},children:[_.jsx(Ur,{price:t.price,fontSize:e?"1.5rem":"1.75rem",fontWeight:"700",color:"#2d2d2d",style:{letterSpacing:"-0.02em"}}),n&&!d&&u>0?_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",background:"linear-gradient(135deg, #d4a574 0%, #c49564 100%)",borderRadius:"12px",padding:e?"0.5rem 0.75rem":"0.625rem 1rem",boxShadow:"0 4px 12px rgba(212, 165, 116, 0.4)",border:"2px solid rgba(255,255,255,0.2)"},children:[_.jsx("button",{onClick:()=>o(t.id),style:{background:"rgba(255,255,255,0.25)",border:"2px solid rgba(255,255,255,0.3)",borderRadius:"8px",width:e?"36px":"40px",height:e?"36px":"40px",color:"white",fontSize:e?"1.375rem":"1.5rem",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease",lineHeight:1},onMouseEnter:f=>{f.currentTarget.style.background="rgba(255,255,255,0.35)",f.currentTarget.style.transform="scale(1.1)"},onMouseLeave:f=>{f.currentTarget.style.background="rgba(255,255,255,0.25)",f.currentTarget.style.transform="scale(1)"},onMouseDown:f=>{f.currentTarget.style.transform="scale(0.95)"},onMouseUp:f=>{f.currentTarget.style.transform="scale(1.1)"},children:""}),_.jsx("span",{style:{color:"white",fontWeight:"bold",fontSize:e?"1.125rem":"1.25rem",minWidth:"32px",textAlign:"center",textShadow:"0 1px 2px rgba(0,0,0,0.2)"},children:u}),_.jsx("button",{onClick:()=>a(t),style:{background:"rgba(255,255,255,0.25)",border:"2px solid rgba(255,255,255,0.3)",borderRadius:"8px",width:e?"36px":"40px",height:e?"36px":"40px",color:"white",fontSize:e?"1.375rem":"1.5rem",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease",lineHeight:1},onMouseEnter:f=>{f.currentTarget.style.background="rgba(255,255,255,0.35)",f.currentTarget.style.transform="scale(1.1)"},onMouseLeave:f=>{f.currentTarget.style.background="rgba(255,255,255,0.25)",f.currentTarget.style.transform="scale(1)"},onMouseDown:f=>{f.currentTarget.style.transform="scale(0.95)"},onMouseUp:f=>{f.currentTarget.style.transform="scale(1.1)"},children:"+"})]}):n&&!d?_.jsxs("button",{onClick:()=>a(t),style:{background:"linear-gradient(135deg, #d4a574 0%, #c49564 100%)",border:"2px solid rgba(255,255,255,0.3)",borderRadius:"10px",padding:e?"0.75rem 1.25rem":"0.875rem 1.5rem",color:"white",fontSize:e?"0.875rem":"0.9375rem",fontWeight:"700",cursor:"pointer",transition:"all 0.3s ease",whiteSpace:"nowrap",boxShadow:"0 4px 12px rgba(212, 165, 116, 0.4)",letterSpacing:"0.01em",display:"flex",alignItems:"center",gap:"0.5rem"},onMouseEnter:f=>{f.currentTarget.style.background="linear-gradient(135deg, #c49564 0%, #b88554 100%)",f.currentTarget.style.transform="translateY(-2px) scale(1.02)",f.currentTarget.style.boxShadow="0 6px 16px rgba(212, 165, 116, 0.5)"},onMouseLeave:f=>{f.currentTarget.style.background="linear-gradient(135deg, #d4a574 0%, #c49564 100%)",f.currentTarget.style.transform="translateY(0) scale(1)",f.currentTarget.style.boxShadow="0 4px 12px rgba(212, 165, 116, 0.4)"},onMouseDown:f=>{f.currentTarget.style.transform="translateY(0) scale(0.98)"},onMouseUp:f=>{f.currentTarget.style.transform="translateY(-2px) scale(1.02)"},children:[_.jsx("span",{style:{fontSize:"1.125rem"},children:""}),_.jsx("span",{children:"Sepete Ekle"})]}):d?_.jsx("div",{style:{background:"linear-gradient(135deg, #9ca3af 0%, #6b7280 100%)",border:"2px solid rgba(255,255,255,0.3)",borderRadius:"10px",padding:e?"0.75rem 1.25rem":"0.875rem 1.5rem",color:"white",fontSize:e?"0.875rem":"0.9375rem",fontWeight:"700",textAlign:"center",opacity:.7,cursor:"not-allowed",userSelect:"none"},children:"u An Mevcut Deil"}):null]})]})]})}function Bv({category:t,products:e,isMobile:n,isFirst:a=!1,showCartButtons:o=!0}){const s=e.filter(u=>u.category_id===t.id);return s.length===0?null:_.jsxs("section",{id:`category-${t.id}`,style:{marginBottom:n?"3rem":"4rem",scrollMarginTop:"140px",scrollBehavior:"smooth",position:"relative"},children:[!a&&_.jsx("div",{style:{height:"1px",background:"linear-gradient(90deg, transparent 0%, #d4a574 20%, #d4a574 80%, transparent 100%)",marginBottom:"2rem",position:"relative"},children:_.jsx("div",{style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",width:"60px",height:"60px",background:"#ffffff",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:_.jsx("div",{style:{width:"12px",height:"12px",background:"#d4a574",borderRadius:"50%"}})})}),_.jsx("div",{style:{marginBottom:"2.5rem",position:"relative"},children:_.jsx("h2",{style:{margin:0,fontSize:n?"1.875rem":"2.5rem",color:"#1a1a1a",fontWeight:"700",letterSpacing:"-0.02em",display:"inline-block",paddingBottom:"0.75rem",borderBottom:"4px solid #d4a574",position:"relative"},children:t.name})}),_.jsx("div",{style:{display:"grid",gridTemplateColumns:n?"1fr":"repeat(auto-fill, minmax(300px, 1fr))",gap:n?"1.25rem":"1.75rem"},children:s.map(u=>_.jsx(L6,{product:u,isMobile:n,showCartButtons:o},u.id))})]})}function R6(){const t="e99d3327-5d3f-4e0f-aa87-c037fa554d2f",{business:e,loading:n,error:a}=k6(t),{categories:o,loading:s}=rm(e?.id),{products:u,loading:d}=im(e?.id),[f,h]=j.useState(!1),[g,w]=j.useState(!1);j.useEffect(()=>{const y=()=>{h(window.innerWidth<768)};return y(),window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]),j.useEffect(()=>{let y=!1;const T=()=>{y||(window.requestAnimationFrame(()=>{const D=(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0)>100;w(D),y=!1}),y=!0)},E=()=>{setTimeout(()=>{T()},100)};T(),window.addEventListener("scroll",T,{passive:!0}),document.readyState==="complete"?E():window.addEventListener("load",E),window.addEventListener("resize",T);const N=setInterval(T,100);return()=>{window.removeEventListener("scroll",T),window.removeEventListener("load",E),window.removeEventListener("resize",T),clearInterval(N)}},[]);const S=()=>{const y=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,T=performance.now(),E=800,N=I=>I<.5?4*I*I*I:1-Math.pow(-2*I+2,3)/2,L=I=>{const D=I-T,$=Math.min(D/E,1),ce=N($),he=y*(1-ce);window.scrollTo(0,he),document.documentElement.scrollTop=he,document.body.scrollTop=he,$<1&&requestAnimationFrame(L)};requestAnimationFrame(L)};return n||s||d?_.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#f5f5f5"},children:_.jsx($a,{message:"Men ykleniyor..."})}):a||!e?_.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#f5f5f5",padding:"2rem"},children:_.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"12px",textAlign:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",maxWidth:"500px"},children:[_.jsx("h2",{style:{color:"#dc2626",marginBottom:"1rem"},children:" letme Bulunamad"}),_.jsx("p",{style:{color:"#64748b"},children:a||"Bu men bulunamad. Ltfen QR kodu kontrol edin."})]})}):o.length===0||u.length===0?_.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#f5f5f5",padding:"2rem"},children:_.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"12px",textAlign:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",maxWidth:"500px"},children:[_.jsx("h2",{style:{color:"#1e293b",marginBottom:"1rem"},children:" Men Hazrlanyor"}),_.jsxs("p",{style:{color:"#64748b"},children:[e.name," mens henz hazrlanmam."]})]})}):_.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(180deg, #f8f9fa 0%, #f1f3f5 100%)",paddingTop:"0"},children:[_.jsx("header",{style:{background:"linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 50%, #1a1a1a 100%)",padding:f?"1rem 0.75rem":"0.60rem 2.5rem",marginBottom:"2rem",boxShadow:"0 4px 16px rgba(0,0,0,0.2)",borderBottom:"3px solid #d4a574"},children:_.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",gap:f?"0.75rem":"2rem",maxWidth:"1200px",margin:"0 auto",textAlign:"center"},children:[e?.logo_url&&_.jsx("div",{style:{flexShrink:0,display:"flex",alignItems:"center",justifyContent:"center"},children:_.jsx("img",{src:e.logo_url,alt:e.name||"Logo",style:{maxWidth:f?"70px":"120px",maxHeight:f?"70px":"120px",width:"auto",height:"auto",objectFit:"contain",display:"block"},onError:y=>{y.target.style.display="none"}})}),_.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:f?"flex-start":"center",gap:f?"0.25rem":"0.75rem",textAlign:f?"left":"center",flex:f?1:"none"},children:_.jsx("h1",{style:{margin:0,fontSize:f?"1.25rem":"2.25rem",color:"#ffffff",fontWeight:"800",letterSpacing:"0.02em",lineHeight:"1.2",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:f?"100%":"none",textShadow:"0 2px 8px rgba(0,0,0,0.3), 0 0 20px rgba(212, 165, 116, 0.2)",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif'},children:e.name})})]})}),_.jsx(Dv,{categories:o,isMobile:f}),_.jsx("main",{style:{maxWidth:"1200px",margin:"0 auto",padding:f?"0 1rem 2rem":"0 2rem 3rem"},children:o.map((y,T)=>_.jsx(Bv,{category:y,products:u,isMobile:f,isFirst:T===0,showCartButtons:!1},y.id))}),_.jsxs("footer",{style:{background:"#1a1a1a",color:"#ffffff",padding:f?"2rem 1rem":"2.5rem 2rem",textAlign:"center",marginTop:"4rem"},children:[_.jsxs("p",{style:{margin:0,fontSize:f?"0.875rem":"0.9375rem",color:"#9ca3af",fontWeight:"400",marginBottom:e.phone?"0.75rem":"0"},children:[" ",new Date().getFullYear()," ",e.name]}),e.phone&&_.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",color:"#d4a574",fontSize:f?"0.9375rem":"1.0625rem",fontWeight:"500"},children:_.jsx("span",{children:e.phone})})]}),_.jsx("button",{onClick:S,style:{position:"fixed",bottom:f?"1.5rem":"2rem",right:f?"1.5rem":"2rem",zIndex:99999,width:f?"44px":"48px",height:f?"44px":"48px",minWidth:f?"44px":"48px",minHeight:f?"44px":"48px",maxWidth:f?"44px":"48px",maxHeight:f?"44px":"48px",borderRadius:"50%",background:"linear-gradient(135deg, rgba(212, 165, 116, 0.85) 0%, rgba(184, 134, 11, 0.85) 100%)",border:"3px solid rgba(255, 255, 255, 0.9)",color:"#ffffff",fontSize:f?"1.5rem":"1.75rem",cursor:"pointer",boxShadow:"0 4px 20px rgba(212, 165, 116, 0.3), 0 0 0 4px rgba(212, 165, 116, 0.1)",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 0.8s ease-out, transform 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55), boxShadow 0.4s ease, background 0.3s ease, visibility 0.8s ease-out",fontWeight:"bold",padding:0,margin:0,lineHeight:1,outline:"none",WebkitTapHighlightColor:"transparent",userSelect:"none",opacity:g?.8:0,visibility:g?"visible":"hidden",pointerEvents:g?"auto":"none",transform:"scale(1) translateY(0)"},onMouseEnter:y=>{y.currentTarget.style.transform="scale(1.05) translateY(-3px)",y.currentTarget.style.background="linear-gradient(135deg, rgba(212, 165, 116, 1) 0%, rgba(184, 134, 11, 1) 100%)",y.currentTarget.style.boxShadow="0 6px 25px rgba(212, 165, 116, 0.5), 0 0 0 6px rgba(212, 165, 116, 0.15)",y.currentTarget.style.opacity="1",y.currentTarget.style.border="3px solid rgba(255, 255, 255, 1)"},onMouseLeave:y=>{y.currentTarget.style.transform="scale(1) translateY(0)",y.currentTarget.style.background="linear-gradient(135deg, rgba(212, 165, 116, 0.85) 0%, rgba(184, 134, 11, 0.85) 100%)",y.currentTarget.style.boxShadow="0 4px 20px rgba(212, 165, 116, 0.3), 0 0 0 4px rgba(212, 165, 116, 0.1)",y.currentTarget.style.opacity=g?"0.8":"0",y.currentTarget.style.border="3px solid rgba(255, 255, 255, 0.9)"},"aria-label":"Yukar kaydr",children:""})]})}function j6(t){const[e,n]=j.useState(null),[a,o]=j.useState(!0),[s,u]=j.useState(null);return j.useEffect(()=>{if(!t){o(!1);return}(async()=>{try{o(!0),u(null);const{data:f,error:h}=await ct.from("businesses").select("*").eq("slug",t).single();if(h)throw h;n(f)}catch(f){u(f.message),console.error("Business fetch error:",f)}finally{o(!1)}})()},[t]),{business:e,loading:a,error:s}}function O6(t){const[e,n]=j.useState([]),[a,o]=j.useState(!0),[s,u]=j.useState(null);return j.useEffect(()=>{if(!t){o(!1);return}(async()=>{try{o(!0),u(null);const{data:f,error:h}=await ct.from("tables").select("*").eq("business_id",t).eq("is_active",!0).order("table_number",{ascending:!0});if(h)throw h;n(f||[])}catch(f){u(f.message),console.error("Tables fetch error:",f)}finally{o(!1)}})()},[t]),{tables:e,loading:a,error:s}}const Iv=j.createContext();function D6({children:t}){const e=(W,P=null)=>{const oe=P?`${W}
${P}`:W;eh.success(oe,{duration:4e3,position:"top-right",reverseOrder:!0,closeButton:!1,style:{background:"#10b981",color:"white",borderRadius:"8px",padding:"12px 16px",fontSize:"14px",fontWeight:"500",boxShadow:"0 4px 12px rgba(16, 185, 129, 0.3)",maxWidth:"400px",whiteSpace:"pre-line",position:"relative"},iconTheme:{primary:"#ffffff",secondary:"#10b981"}})},n=(W,P=null)=>{const oe=P?`${W}
${P}`:W;eh.error(oe,{duration:5e3,position:"top-right",reverseOrder:!0,closeButton:!1,style:{background:"#ef4444",color:"white",borderRadius:"8px",padding:"12px 16px",fontSize:"14px",fontWeight:"500",boxShadow:"0 4px 12px rgba(239, 68, 68, 0.3)",maxWidth:"400px",whiteSpace:"pre-line",position:"relative"},iconTheme:{primary:"#ffffff",secondary:"#ef4444"}})},a=(W,P=null)=>{const oe=P?`${W}
${P}`:W;eh(oe,{duration:4e3,position:"top-right",reverseOrder:!0,closeButton:!1,style:{background:"#f59e0b",color:"white",borderRadius:"8px",padding:"12px 16px",fontSize:"14px",fontWeight:"500",boxShadow:"0 4px 12px rgba(245, 158, 11, 0.3)",maxWidth:"400px",whiteSpace:"pre-line",position:"relative"}})},o=(W,P=null)=>{const oe=P?`${W}
${P}`:W;eh(oe,{duration:4e3,position:"top-right",reverseOrder:!0,closeButton:!1,style:{background:"#3b82f6",color:"white",borderRadius:"8px",padding:"12px 16px",fontSize:"14px",fontWeight:"500",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.3)",maxWidth:"400px",whiteSpace:"pre-line",position:"relative"}})},le={showSuccess:e,showError:n,showWarning:a,showInfo:o,notifyNewOrder:W=>{if(!W)return;const P=W.table_number?`Masa ${W.table_number}`:"Masa bilgisi yok",oe=W.id?W.id.slice(0,8).toUpperCase():"Bilinmeyen";e("Yeni Sipari",`${P}
Sipari #${oe}`)},notifyOrderAccepted:W=>{if(!W)return;const P=W.table_number?`Masa ${W.table_number}`:"Masa bilgisi yok",oe=W.id?W.id.slice(0,8).toUpperCase():"Bilinmeyen";e("Sipari Kabul Edildi",`${P}
Sipari #${oe}`)},notifyOrderRejected:W=>{if(!W)return;const P=W.table_number?`Masa ${W.table_number}`:"Masa bilgisi yok",oe=W.id?W.id.slice(0,8).toUpperCase():"Bilinmeyen";n("Sipari Reddedildi",`${P}
Sipari #${oe}`)},notifyOrderPreparing:W=>{if(!W)return;const P=W.table_number?`Masa ${W.table_number}`:"Masa bilgisi yok",oe=W.id?W.id.slice(0,8).toUpperCase():"Bilinmeyen";o("Sipari Hazrlanyor",`${P}
Sipari #${oe}`)},notifyOrderDelivering:W=>{if(!W)return;const P=W.table_number?`Masa ${W.table_number}`:"Masa bilgisi yok",oe=W.id?W.id.slice(0,8).toUpperCase():"Bilinmeyen";e("Sipari Geliyor",`${P}
Sipari #${oe}`),o("Sipari Geliyor",`${P}
Sipari #${oe}`)},notifyNewPayment:W=>{if(!W)return;const P=W.table_number?`Masa ${W.table_number}`:"Masa bilgisi yok",oe=W.order_id?W.order_id.slice(0,8).toUpperCase():"Bilinmeyen",M=parseFloat(W.amount||0).toFixed(2);e(" Yeni deme",`${P}
Sipari #${oe}
Tutar: ${M}`)},notifyPaymentReceived:W=>{if(!W)return;const P=W.table_number?`Masa ${W.table_number}`:"Masa bilgisi yok",oe=W.id?W.id.slice(0,8).toUpperCase():"Bilinmeyen",M=parseFloat(W.total_amount||0).toFixed(2);e("deme Yapld",`${P}
Sipari #${oe}
Tutar: ${M}`)},notifyPaymentCancelled:W=>{const P=W.table_number?`Masa ${W.table_number}`:"",oe=W.id?W.id.slice(0,8):"";n("deme ptal Edildi",P?`Sipari #${oe} - ${P}`:`Sipari #${oe}`)},notifyProductAdded:W=>{e("rn Eklendi",`"${W.name}" baaryla eklendi`)},notifyProductUpdated:W=>{e("rn Gncellendi",`"${W.name}" baaryla gncellendi`)},notifyProductDeleted:W=>{n("rn Silindi",`"${W}" silindi`)},notifyCategoryAdded:W=>{e("Kategori Eklendi",`"${W.name}" baaryla eklendi`)},notifyCategoryUpdated:W=>{e("Kategori Gncellendi",`"${W.name}" baaryla gncellendi`)},notifyCategoryDeleted:W=>{n("Kategori Silindi",`"${W}" ve iindeki rnler silindi`)},notifyReportDownloaded:(W,P)=>{const oe=P?.report_date||"";let M=oe;if(oe)try{const[ae,J,pe]=oe.split("-");ae&&J&&pe&&(M=`${pe}/${J}/${ae}`)}catch{}const X=parseFloat(P?.total_amount||0).toFixed(2);e(` ${W.toUpperCase()} Raporu ndirildi`,`Tarih: ${M}
Toplam Tutar: ${X}`)},notifyProductStatusChanged:(W,P)=>{o(` "${W.name}" ${P?"aktif":"pasif"} olarak deitirildi`)},notifyOrderChanged:W=>{e("Deiiklik Kaydedildi",`${W} sralamas gncellendi`)},notifyError:(W,P)=>{n(" Hata Olutu",`${W}: ${P}`)}};return _.jsx(Iv.Provider,{value:le,children:t})}function Qh(){const t=j.useContext(Iv);if(!t)throw new Error("useNotification must be used within NotificationProvider");return t}function z6({isOpen:t,onClose:e,onCheckout:n,isMobile:a}){const{cart:o,addToCart:s,removeFromCart:u,removeItemFromCart:d,getTotalPrice:f,getTotalItems:h}=am();return t?_.jsxs(_.Fragment,{children:[_.jsx("div",{onClick:e,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",zIndex:9998,animation:"fadeIn 0.2s"}}),_.jsxs("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"white",borderRadius:"16px",width:a?"90%":"500px",maxWidth:"90vw",maxHeight:"90vh",zIndex:9999,display:"flex",flexDirection:"column",boxShadow:"0 20px 60px rgba(0,0,0,0.3)",animation:"slideUp 0.3s"},children:[_.jsxs("div",{style:{padding:a?"1.25rem":"1.5rem",borderBottom:"2px solid #f3f4f6",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[_.jsxs("h2",{style:{margin:0,fontSize:a?"1.25rem":"1.5rem",color:"#1e293b",fontWeight:"700"},children:[" Sepet (",h(),")"]}),_.jsx("button",{onClick:e,style:{background:"transparent",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#64748b",padding:"0.5rem",borderRadius:"8px",transition:"all 0.2s"},onMouseEnter:g=>{g.currentTarget.style.background="#f3f4f6",g.currentTarget.style.color="#1e293b"},onMouseLeave:g=>{g.currentTarget.style.background="transparent",g.currentTarget.style.color="#64748b"},children:""})]}),_.jsx("div",{style:{flex:1,overflowY:"auto",padding:a?"1rem":"1.5rem"},children:o.length===0?_.jsxs("div",{style:{textAlign:"center",padding:"3rem 1rem",color:"#64748b"},children:[_.jsx("p",{style:{fontSize:"3rem",margin:"0 0 1rem 0"},children:""}),_.jsx("p",{children:"Sepetiniz bo"})]}):_.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:o.map(g=>_.jsxs("div",{style:{display:"flex",gap:"1rem",padding:"1rem",background:"#f8fafc",borderRadius:"12px",border:"1px solid #e2e8f0"},children:[_.jsxs("div",{style:{flex:1},children:[_.jsx("h3",{style:{margin:"0 0 0.5rem 0",fontSize:a?"1rem":"1.125rem",color:"#1e293b",fontWeight:"600"},children:g.product_name}),_.jsxs("p",{style:{margin:0,fontSize:a?"1rem":"1.125rem",color:"#2d2d2d",fontWeight:"700",display:"flex",alignItems:"center",gap:"0.25rem",flexWrap:"wrap"},children:[_.jsx(Ur,{price:g.product_price,fontSize:a?"1rem":"1.125rem"}),_.jsxs("span",{children:[" ",g.quantity," ="]}),_.jsx(Ur,{price:g.product_price*g.quantity,fontSize:a?"1rem":"1.125rem"})]})]}),_.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem"},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",background:"#d4a574",borderRadius:"8px",padding:"0.5rem"},children:[_.jsx("button",{onClick:()=>u(g.product_id),style:{background:"rgba(255,255,255,0.2)",border:"none",borderRadius:"6px",width:"32px",height:"32px",color:"white",fontSize:"1.25rem",fontWeight:"bold",cursor:"pointer"},children:""}),_.jsx("span",{style:{color:"white",fontWeight:"bold",fontSize:"1rem",minWidth:"24px",textAlign:"center"},children:g.quantity}),_.jsx("button",{onClick:()=>s({id:g.product_id,name:g.product_name,price:g.product_price}),style:{background:"rgba(255,255,255,0.2)",border:"none",borderRadius:"6px",width:"32px",height:"32px",color:"white",fontSize:"1.25rem",fontWeight:"bold",cursor:"pointer"},children:"+"})]}),_.jsx("button",{onClick:()=>d(g.product_id),style:{background:"transparent",border:"none",color:"#ef4444",fontSize:"0.875rem",cursor:"pointer",padding:"0.25rem 0.5rem"},children:"Kaldr"})]})]},g.product_id))})}),o.length>0&&_.jsxs("div",{style:{padding:a?"1.25rem":"1.5rem",borderTop:"2px solid #f3f4f6",background:"#f8fafc"},children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[_.jsx("span",{style:{fontSize:a?"1.125rem":"1.25rem",fontWeight:"600",color:"#1e293b"},children:"Toplam:"}),_.jsx(Ur,{price:f(),fontSize:a?"1.5rem":"1.75rem",fontWeight:"700",color:"#2d2d2d"})]}),_.jsx("button",{onClick:n,style:{width:"100%",padding:a?"1rem":"1.25rem",background:"#d4a574",border:"none",borderRadius:"12px",color:"white",fontSize:a?"1rem":"1.125rem",fontWeight:"700",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:g=>{g.currentTarget.style.background="#c49564",g.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:g=>{g.currentTarget.style.background="#d4a574",g.currentTarget.style.transform="translateY(0)"},children:" Siparii Onayla"})]})]})]}):null}function B6({orderId:t,isMobile:e,onClose:n,isExpanded:a=!1,onToggle:o}){const[s,u]=j.useState(null),[d,f]=j.useState(!0),[h,g]=j.useState(a);j.useEffect(()=>{if(!t)return;(async()=>{try{const{data:E,error:N}=await ct.from("orders").select(`
            *,
            order_items (
              id,
              product_name,
              product_price,
              quantity,
              subtotal
            )
          `).eq("id",t).single();if(N)throw N;u(E)}catch(E){console.error("Order fetch error:",E)}finally{f(!1)}})();const T=ct.channel(`order:${t}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"orders",filter:`id=eq.${t}`},E=>{u(E.new),E.new.status==="completed"&&setTimeout(()=>{n()},6e5)}).subscribe();return()=>{ct.removeChannel(T)}},[t,n]);const w=y=>({pending:" Beklemede",preparing:" Hazrlanyor",ready:" Hazr",delivering:" Sipari Geliyor",completed:" Tamamland",cancelled:" ptal Edildi"})[y]||y,S=y=>({pending:"#f59e0b",preparing:"#8b5cf6",ready:"#10b981",delivering:"#3b82f6",completed:"#64748b",cancelled:"#ef4444"})[y]||"#64748b";return j.useEffect(()=>{g(a)},[a]),d?_.jsx("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"white",borderRadius:"16px",padding:"3rem",zIndex:9999,textAlign:"center"},children:_.jsx("p",{children:"Ykleniyor..."})}):s?h?_.jsxs(_.Fragment,{children:[_.jsx("div",{onClick:()=>{g(!1),o&&o()},style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",zIndex:9998,animation:"fadeIn 0.2s"}}),_.jsxs("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"white",borderRadius:"16px",width:e?"90%":"500px",maxWidth:"90vw",maxHeight:"90vh",zIndex:9999,display:"flex",flexDirection:"column",boxShadow:"0 20px 60px rgba(0,0,0,0.3)",overflow:"hidden",animation:"slideUp 0.3s"},children:[_.jsxs("div",{style:{padding:e?"1.25rem":"1.5rem",borderBottom:"2px solid #f3f4f6",background:`${S(s.status)}20`},children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[_.jsx("h2",{style:{margin:0,fontSize:e?"1.25rem":"1.5rem",color:"#1e293b",fontWeight:"700"},children:" Sipari Takibi"}),_.jsx("button",{onClick:n,style:{background:"transparent",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#64748b",padding:"0.5rem",borderRadius:"8px"},children:""})]}),_.jsx("div",{style:{padding:"0.75rem 1rem",background:S(s.status),color:"white",borderRadius:"8px",fontWeight:"600",fontSize:e?"0.9375rem":"1rem",textAlign:"center"},children:w(s.status)})]}),_.jsxs("div",{style:{flex:1,overflowY:"auto",padding:e?"1rem":"1.5rem"},children:[s.order_items&&s.order_items.length>0&&_.jsxs("div",{style:{marginBottom:"1.5rem"},children:[_.jsx("h3",{style:{margin:"0 0 1rem 0",fontSize:e?"1rem":"1.125rem",color:"#1e293b",fontWeight:"600"},children:"Sipari Detaylar:"}),s.order_items.map(y=>_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"0.75rem 0",borderBottom:"1px solid #e2e8f0"},children:[_.jsxs("span",{style:{color:"#64748b"},children:[y.product_name,"  ",y.quantity]}),_.jsx("span",{style:{fontWeight:"600",color:"#1e293b"},children:y5(y.subtotal)})]},y.id))]}),_.jsx("div",{style:{padding:"1rem",background:"#f8fafc",borderRadius:"8px",marginTop:"1rem"},children:_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[_.jsx("span",{style:{fontSize:e?"1.125rem":"1.25rem",fontWeight:"600",color:"#1e293b"},children:"Toplam:"}),_.jsx("span",{style:{fontSize:e?"1.5rem":"1.75rem",fontWeight:"700",color:"#2d2d2d"},children:y5(s.total_amount)})]})})]})]})]}):_.jsxs("div",{onClick:()=>{g(!0),o&&o()},style:{position:"fixed",bottom:e?"5rem":"6rem",right:e?"1rem":"2rem",background:"white",borderRadius:"12px",padding:e?"0.875rem 1rem":"1rem 1.25rem",boxShadow:"0 4px 20px rgba(0,0,0,0.25)",zIndex:9998,cursor:"pointer",border:`3px solid ${S(s.status)}`,minWidth:e?"140px":"180px",maxWidth:e?"180px":"220px",transition:"all 0.3s ease"},onMouseEnter:y=>{y.currentTarget.style.transform="translateY(-4px) scale(1.05)",y.currentTarget.style.boxShadow="0 8px 30px rgba(0,0,0,0.35)"},onMouseLeave:y=>{y.currentTarget.style.transform="translateY(0) scale(1)",y.currentTarget.style.boxShadow="0 4px 20px rgba(0,0,0,0.25)"},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.5rem"},children:[_.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",background:S(s.status),flexShrink:0}}),_.jsxs("span",{style:{fontSize:e?"0.75rem":"0.875rem",fontWeight:"600",color:"#1e293b"},children:["Sipari #",s.id.slice(0,8)]})]}),_.jsxs("div",{style:{padding:"0.5rem 0.75rem",background:`${S(s.status)}20`,borderRadius:"8px",textAlign:"center"},children:[_.jsx("div",{style:{fontSize:e?"0.75rem":"0.875rem",fontWeight:"600",color:S(s.status),marginBottom:"0.25rem"},children:w(s.status)}),_.jsxs("div",{style:{fontSize:e?"0.875rem":"1rem",fontWeight:"700",color:"#1e293b"},children:["",parseFloat(s.total_amount).toFixed(2)]})]}),_.jsx("div",{style:{fontSize:e?"0.625rem":"0.75rem",color:"#64748b",textAlign:"center",marginTop:"0.5rem"},children:"Tklayarak detaylar gr"})]}):null}function I6({slug:t}){console.log(" MenuPage render edildi!",{slugProp:t});const e=J3(),n=t||e.slug,a=e.table,o=a?parseInt(a,10):null;console.log(" MenuPage params:",{slug:n,table:a,tableNumber:o});const{business:s,loading:u,error:d}=j6(n),{tables:f,loading:h}=O6(s?.id),{categories:g,loading:w}=rm(s?.id),{products:S,loading:y}=im(s?.id),[T,E]=j.useState(!1);j.useEffect(()=>{o&&s&&!h&&f.length>0?f.map(U=>U.table_number).includes(o)?E(!1):E(!0):o&&s&&!h&&f.length===0&&E(!0)},[o,s,f,h]),j.useEffect(()=>{o&&s&&f.length>0?f.map(U=>U.table_number).includes(o)&&(localStorage.setItem("currentTableNumber",o.toString()),localStorage.setItem("currentBusinessSlug",n||"")):localStorage.removeItem("currentTableNumber")},[o,n,s,f]);const[N,L]=j.useState(!1),[I,D]=j.useState(!1),[$,ce]=j.useState(!1),[he,le]=j.useState(!1),[W,P]=j.useState(null),[oe,M]=j.useState(null),X=am(),ae=X?.cart||[],J=X?.getTotalPrice||(()=>0),pe=X?.getTotalItems||(()=>0),F=X?.clearCart||(()=>{}),se=pe(),ue=J(),be=async()=>{if(!(!s||ae.length===0))try{const{data:C,error:U}=await ct.from("orders").insert({business_id:s.id,table_number:o,status:"pending",total_amount:J(),notes:""}).select().single();if(U)throw U;const Z=ae.map(ee=>({order_id:C.id,product_id:ee.product_id,product_name:ee.product_name,product_price:ee.product_price,quantity:ee.quantity,notes:ee.notes||"",subtotal:ee.product_price*ee.quantity})),{error:V}=await ct.from("order_items").insert(Z);if(V)throw V;F(),P(C.id),M("pending"),ce(!1),le(!0)}catch(C){console.error("Order creation error:",C),notifyError("Sipari oluturulurken hata olutu",C.message)}};j.useEffect(()=>{if(!W)return;const C=ct.channel(`order:${W}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"orders",filter:`id=eq.${W}`},U=>{M(U.new.status),U.new.status==="completed"&&setTimeout(()=>{le(!1),P(null),M(null)},6e5)}).subscribe();return()=>{ct.removeChannel(C)}},[W]),j.useEffect(()=>{const C=()=>{L(window.innerWidth<768)};return C(),window.addEventListener("resize",C),()=>window.removeEventListener("resize",C)},[]),j.useEffect(()=>{let C=!1;const U=()=>{C||(window.requestAnimationFrame(()=>{const de=(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0)>100;D(de),C=!1}),C=!0)};U(),window.addEventListener("scroll",U,{passive:!0}),window.addEventListener("resize",U);const Z=setInterval(U,100);return()=>{window.removeEventListener("scroll",U),window.removeEventListener("resize",U),clearInterval(Z)}},[]);const Oe=()=>{const C=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,U=performance.now(),Z=800,V=de=>de<.5?4*de*de*de:1-Math.pow(-2*de+2,3)/2,ee=de=>{const _e=de-U,xe=Math.min(_e/Z,1),Ne=V(xe),We=C*(1-Ne);window.scrollTo(0,We),document.documentElement.scrollTop=We,document.body.scrollTop=We,xe<1&&requestAnimationFrame(ee)};requestAnimationFrame(ee)},Y=()=>_.jsxs("button",{onClick:()=>{console.log(" Sepet butonu tkland!",{showCart:$,totalItems:se,totalPrice:ue,cart:ae}),ce(!0)},style:{position:"fixed",top:N?"4.5rem":"5rem",right:"1rem",background:"#d4a574",border:"3px solid rgba(255,255,255,0.9)",borderRadius:"16px",padding:N?"0.75rem 1rem":"1rem 1.25rem",color:"white",fontSize:N?"0.875rem":"1rem",fontWeight:"700",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.75rem",boxShadow:"0 6px 20px rgba(212, 165, 116, 0.6)",transition:"all 0.3s",zIndex:10002,opacity:1,minWidth:N?"90px":"120px",whiteSpace:"nowrap",visibility:"visible",pointerEvents:"auto",lineHeight:1},onMouseEnter:C=>{C.currentTarget.style.background="#c49564",C.currentTarget.style.transform="translateY(-3px) scale(1.08)",C.currentTarget.style.boxShadow="0 8px 24px rgba(212, 165, 116, 0.7)"},onMouseLeave:C=>{C.currentTarget.style.background="#d4a574",C.currentTarget.style.transform="translateY(0) scale(1)",C.currentTarget.style.boxShadow="0 6px 20px rgba(212, 165, 116, 0.6)"},children:[_.jsx("span",{style:{fontSize:N?"1.5rem":"1.75rem",lineHeight:1},children:""}),(se||0)>0?_.jsxs(_.Fragment,{children:[_.jsxs("span",{style:{fontSize:N?"0.875rem":"1rem",fontWeight:"700"},children:["(",se||0,")"]}),_.jsx("span",{style:{background:"rgba(255,255,255,0.35)",padding:"0.25rem 0.5rem",borderRadius:"6px",fontSize:N?"0.75rem":"0.875rem",fontWeight:"700",display:"inline-flex",alignItems:"center"},children:_.jsx(Ur,{price:ue||0,fontSize:N?"0.75rem":"0.875rem",fontWeight:"700",color:"inherit"})})]}):_.jsx("span",{style:{fontSize:N?"0.875rem":"1rem"},children:"Sepet"})]});return u||w||y?_.jsxs(_.Fragment,{children:[_.jsx(Y,{}),_.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#f5f5f5"},children:_.jsx($a,{message:"Men ykleniyor..."})})]}):n==="admin"?_.jsxs(_.Fragment,{children:[_.jsx(Y,{}),_.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#f5f5f5",padding:"2rem"},children:_.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"12px",textAlign:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",maxWidth:"500px"},children:[_.jsx("h2",{style:{color:"#dc2626",marginBottom:"1rem"},children:" Geersiz URL"}),_.jsx("p",{style:{color:"#64748b"},children:"Admin paneline erimek iin doru URL'yi kullann."})]})})]}):n?d||!u&&!s?_.jsxs(_.Fragment,{children:[_.jsx(Y,{}),_.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#f5f5f5",padding:"2rem"},children:_.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"12px",textAlign:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",maxWidth:"500px"},children:[_.jsx("h2",{style:{color:"#dc2626",marginBottom:"1rem"},children:" letme Bulunamad"}),_.jsx("p",{style:{color:"#64748b"},children:d||`"${n}" adl iletme bulunamad.`})]})})]}):s?g.length===0||S.length===0?_.jsxs(_.Fragment,{children:[_.jsx(Y,{}),_.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#f5f5f5",padding:"2rem"},children:_.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"12px",textAlign:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",maxWidth:"500px"},children:[_.jsx("h2",{style:{color:"#1e293b",marginBottom:"1rem"},children:" Men Hazrlanyor"}),_.jsxs("p",{style:{color:"#64748b"},children:[s.name," mens henz hazrlanmam."]})]})})]}):_.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(180deg, #f8f9fa 0%, #f1f3f5 100%)",paddingTop:"0",position:"relative"},children:[_.jsx(Y,{}),_.jsx("header",{style:{position:"relative",background:"linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 50%, #1a1a1a 100%)",padding:N?"1rem 0.75rem":"0.60rem 2.5rem",marginBottom:"2rem",boxShadow:"0 4px 16px rgba(0,0,0,0.2)",borderBottom:"3px solid #d4a574"},children:_.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",gap:N?"0.75rem":"2rem",maxWidth:"1200px",margin:"0 auto",textAlign:"center"},children:[s?.logo_url&&_.jsx("div",{style:{flexShrink:0,display:"flex",alignItems:"center",justifyContent:"center"},children:_.jsx("img",{src:s.logo_url,alt:s.name||"Logo",style:{maxWidth:N?"70px":"120px",maxHeight:N?"70px":"120px",width:"auto",height:"auto",objectFit:"contain",display:"block"},onError:C=>{C.target.style.display="none"}})}),_.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:N?"flex-start":"center",gap:N?"0.25rem":"0.75rem",textAlign:N?"left":"center",flex:N?1:"none"},children:[_.jsx("h1",{style:{margin:0,fontSize:N?"1.25rem":"2.25rem",color:"#ffffff",fontWeight:"800",letterSpacing:"0.02em",lineHeight:"1.2",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:N?"100%":"none",textShadow:"0 2px 8px rgba(0,0,0,0.3), 0 0 20px rgba(212, 165, 116, 0.2)",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif'},children:s.name}),o&&_.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",marginTop:"0.5rem",padding:"0.5rem 1rem",background:"rgba(212, 165, 116, 0.2)",borderRadius:"8px",border:"2px solid #d4a574"},children:[_.jsx("span",{style:{fontSize:N?"1rem":"1.25rem",color:"#d4a574",fontWeight:"700"},children:""}),_.jsxs("p",{style:{margin:0,fontSize:N?"0.9375rem":"1.125rem",color:"#d4a574",fontWeight:"700",letterSpacing:"0.05em"},children:["Masa ",o]})]})]})]})}),_.jsx(Dv,{categories:g,isMobile:N}),_.jsx("main",{style:{maxWidth:"1200px",margin:"0 auto",padding:N?"0 1rem 2rem":"0 2rem 3rem"},children:g.map((C,U)=>_.jsx(Bv,{category:C,products:S,isMobile:N,isFirst:U===0},C.id))}),_.jsxs("footer",{style:{background:"#1a1a1a",color:"#ffffff",padding:N?"2rem 1rem":"2.5rem 2rem",textAlign:"center",marginTop:"4rem"},children:[_.jsxs("p",{style:{margin:0,fontSize:N?"0.875rem":"0.9375rem",color:"#9ca3af",fontWeight:"400",marginBottom:s.phone?"0.75rem":"0"},children:[" ",new Date().getFullYear()," ",s.name]}),s.phone&&_.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",color:"#d4a574",fontSize:N?"0.9375rem":"1.0625rem",fontWeight:"500"},children:_.jsx("span",{children:s.phone})})]}),_.jsx("button",{onClick:Oe,style:{position:"fixed",bottom:N?"1.5rem":"2rem",right:N?"1.5rem":"2rem",zIndex:99999,width:N?"44px":"48px",height:N?"44px":"48px",minWidth:N?"44px":"48px",minHeight:N?"44px":"48px",maxWidth:N?"44px":"48px",maxHeight:N?"44px":"48px",borderRadius:"50%",background:"linear-gradient(135deg, rgba(212, 165, 116, 0.85) 0%, rgba(184, 134, 11, 0.85) 100%)",border:"3px solid rgba(255, 255, 255, 0.9)",color:"#ffffff",fontSize:N?"1.5rem":"1.75rem",cursor:"pointer",boxShadow:"0 4px 20px rgba(212, 165, 116, 0.3), 0 0 0 4px rgba(212, 165, 116, 0.1)",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 0.8s ease-out, transform 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55), boxShadow 0.4s ease, background 0.3s ease, visibility 0.8s ease-out",fontWeight:"bold",padding:0,margin:0,lineHeight:1,outline:"none",WebkitTapHighlightColor:"transparent",userSelect:"none",opacity:I?.8:0,visibility:I?"visible":"hidden",pointerEvents:I?"auto":"none",transform:"scale(1) translateY(0)"},onMouseEnter:C=>{C.currentTarget.style.transform="scale(1.05) translateY(-3px)",C.currentTarget.style.background="linear-gradient(135deg, rgba(212, 165, 116, 1) 0%, rgba(184, 134, 11, 1) 100%)",C.currentTarget.style.boxShadow="0 6px 25px rgba(212, 165, 116, 0.5), 0 0 0 6px rgba(212, 165, 116, 0.15)",C.currentTarget.style.opacity="1",C.currentTarget.style.border="3px solid rgba(255, 255, 255, 1)"},onMouseLeave:C=>{C.currentTarget.style.transform="scale(1) translateY(0)",C.currentTarget.style.background="linear-gradient(135deg, rgba(212, 165, 116, 0.85) 0%, rgba(184, 134, 11, 0.85) 100%)",C.currentTarget.style.boxShadow="0 4px 20px rgba(212, 165, 116, 0.3), 0 0 0 4px rgba(212, 165, 116, 0.1)",C.currentTarget.style.opacity=I?"0.8":"0",C.currentTarget.style.border="3px solid rgba(255, 255, 255, 0.9)"},"aria-label":"Yukar kaydr",children:""}),_.jsx(z6,{isOpen:$,onClose:()=>ce(!1),onCheckout:be,isMobile:N}),W&&_.jsx(B6,{orderId:W,isMobile:N,isExpanded:he,onToggle:()=>le(!he),onClose:()=>{le(!1),P(null),M(null)}})]}):_.jsxs(_.Fragment,{children:[_.jsx(Y,{}),_.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#f5f5f5"},children:_.jsx($a,{message:"Men ykleniyor..."})})]}):_.jsxs(_.Fragment,{children:[_.jsx(Y,{}),_.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#f5f5f5",padding:"2rem"},children:_.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"12px",textAlign:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",maxWidth:"500px"},children:[_.jsx("h2",{style:{color:"#dc2626",marginBottom:"1rem"},children:" letme Bulunamad"}),_.jsx("p",{style:{color:"#64748b"},children:"letme slug' bulunamad."})]})})]})}const Mv=j.createContext(null);function M6({children:t}){const[e,n]=j.useState(null),[a,o]=j.useState(null),[s,u]=j.useState(!0);j.useEffect(()=>{ct.auth.getSession().then(({data:{session:S}})=>{n(S?.user??null),S?.user?d(S.user.id):u(!1)});const{data:{subscription:w}}=ct.auth.onAuthStateChange((S,y)=>{n(y?.user??null),y?.user?d(y.user.id):(o(null),u(!1))});return()=>w.unsubscribe()},[]);const d=async w=>{try{const{data:S,error:y}=await ct.from("user_business").select("business_id, businesses(*)").eq("user_id",w).single();if(y)throw y;S?.businesses&&o(S.businesses)}catch(S){console.error("Business fetch error:",S)}finally{u(!1)}},g={user:e,business:a,loading:s,signIn:async(w,S)=>{try{u(!0);const{data:y,error:T}=await ct.auth.signInWithPassword({email:w,password:S});if(T)throw T;return y.user&&await d(y.user.id),{success:!0,user:y.user}}catch(y){return{success:!1,error:y.message}}finally{u(!1)}},signOut:async()=>{try{const{error:w}=await ct.auth.signOut();if(w)throw w;return n(null),o(null),{success:!0}}catch(w){return{success:!1,error:w.message}}}};return _.jsx(Mv.Provider,{value:g,children:t})}function qo(){const t=j.useContext(Mv);if(!t)throw new Error("useAuth must be used within AuthProvider");return t}function Pr({children:t,onClick:e,variant:n="primary",disabled:a=!1,type:o="button",style:s={}}){const u={padding:"0.75rem 1.5rem",fontSize:"1rem",border:"none",borderRadius:"6px",cursor:a?"not-allowed":"pointer",fontWeight:"500",transition:"all 0.2s",...s},d={primary:{background:a?"#ccc":"#007bff",color:"white"},secondary:{background:a?"#ccc":"#6c757d",color:"white"},danger:{background:a?"#ccc":"#dc3545",color:"white"},success:{background:a?"#ccc":"#28a745",color:"white"}};return _.jsx("button",{type:o,onClick:e,disabled:a,style:{...u,...d[n]},onMouseEnter:f=>{a||(f.target.style.opacity="0.9")},onMouseLeave:f=>{f.target.style.opacity="1"},children:t})}function zo({label:t,type:e="text",value:n,onChange:a,placeholder:o="",required:s=!1,error:u=null,style:d={}}){return _.jsxs("div",{style:{marginBottom:"1rem",...d},children:[t&&_.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#333"},children:[t,s&&_.jsx("span",{style:{color:"red"},children:" *"})]}),_.jsx("input",{type:e,value:n,onChange:a,placeholder:o,required:s,style:{width:"100%",padding:"0.75rem",fontSize:"1rem",border:u?"2px solid #dc3545":"1px solid #ddd",borderRadius:"6px",boxSizing:"border-box",fontFamily:"inherit"}}),u&&_.jsx("p",{style:{color:"#dc3545",fontSize:"0.875rem",margin:"0.25rem 0 0 0"},children:u})]})}function P6(){const[t,e]=j.useState(""),[n,a]=j.useState(""),[o,s]=j.useState(""),[u,d]=j.useState(!1),[f,h]=j.useState(!1),{signIn:g}=qo(),w=Vh();j.useEffect(()=>{const y=()=>{h(window.innerWidth<768)};return y(),window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]);const S=async y=>{if(y.preventDefault(),s(""),d(!0),!t||!n){s("Ltfen e-posta ve ifre girin"),d(!1);return}const T=await g(t,n);T.success?w("/admin/dashboard"):s(T.error||"Giri baarsz"),d(!1)};return _.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:f?"1rem":"2rem"},children:_.jsxs("div",{style:{background:"white",borderRadius:f?"12px":"16px",padding:f?"1.5rem":"2.5rem",width:"100%",maxWidth:f?"100%":"450px",boxShadow:f?"0 10px 25px rgba(0,0,0,0.2)":"0 20px 40px rgba(0,0,0,0.15)"},children:[_.jsxs("div",{style:{textAlign:"center",marginBottom:f?"1.5rem":"2rem"},children:[_.jsx("h1",{style:{margin:0,color:"#333",fontSize:f?"1.5rem":"2rem",fontWeight:"bold"},children:" Admin Girii"}),_.jsx("p",{style:{color:"#666",marginTop:"0.5rem",fontSize:f?"0.875rem":"1rem"},children:"letme paneline giri yapn"})]}),_.jsxs("form",{onSubmit:S,children:[_.jsx(zo,{label:"E-posta",type:"email",value:t,onChange:y=>e(y.target.value),placeholder:"ornek@email.com",required:!0,error:o&&!t?"E-posta gerekli":null,style:{marginBottom:"1.25rem"}}),_.jsx(zo,{label:"ifre",type:"password",value:n,onChange:y=>a(y.target.value),placeholder:"",required:!0,error:o&&!n?"ifre gerekli":null,style:{marginBottom:"1.25rem"}}),o&&_.jsx("div",{style:{padding:f?"0.75rem":"1rem",background:"#fee",border:"1px solid #fcc",borderRadius:"6px",color:"#c33",marginBottom:"1rem",fontSize:f?"0.875rem":"0.9375rem"},children:o}),_.jsx(Pr,{type:"submit",variant:"primary",disabled:u,style:{width:"100%",marginTop:"0.5rem",padding:f?"0.75rem 1.5rem":"0.875rem 1.75rem",fontSize:f?"0.9375rem":"1rem"},children:u?" Giri yaplyor...":" Giri Yap"})]}),_.jsx("div",{style:{marginTop:f?"1.5rem":"2rem",padding:f?"1rem":"1.25rem",background:"#f5f5f5",borderRadius:"8px",fontSize:f?"0.8125rem":"0.875rem",color:"#666"},children:_.jsxs("p",{style:{margin:0,textAlign:"center",lineHeight:"1.5"},children:[_.jsx("strong",{children:"Not:"})," Hesap oluturma iin ltfen ynetici ile iletiime gein."]})})]})})}function Aa({children:t}){const[e,n]=j.useState(!0),[a,o]=j.useState(!1),{business:s,signOut:u}=qo(),d=Po(),f=Vh();j.useEffect(()=>{const E=()=>{o(window.innerWidth<768),window.innerWidth<768?n(!1):n(!0)};return E(),window.addEventListener("resize",E),()=>window.removeEventListener("resize",E)},[]);const h=async()=>{(await u()).success&&f("/admin")},g=()=>{n(!e)},w=[{path:"/admin/dashboard",label:" Dashboard",icon:""},{path:"/admin/orders",label:" Sipariler",icon:""},{path:"/admin/payments",label:" demeler",icon:""},{path:"/admin/products",label:" rnler",icon:""},{path:"/admin/categories",label:" Kategoriler",icon:""},{path:"/admin/settings",label:" Ayarlar",icon:""}],S=E=>d.pathname===E,y=()=>{a&&n(!1)},T=a?0:70;return _.jsxs("div",{style:{display:"flex",minHeight:"100vh",background:"#f5f5f5",position:"relative"},children:[a&&_.jsx("button",{onClick:g,style:{position:"fixed",top:"1rem",left:"1rem",zIndex:1001,background:"#1e293b",color:"white",border:"none",borderRadius:"8px",padding:"0.625rem 0.75rem",cursor:"pointer",fontSize:"1.25rem",boxShadow:"0 2px 8px rgba(0,0,0,0.2)",transition:"all 0.2s"},onMouseEnter:E=>{E.currentTarget.style.background="#334155"},onMouseLeave:E=>{E.currentTarget.style.background="#1e293b"},children:e?"":""}),a&&e&&_.jsx("div",{onClick:y,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",zIndex:999,transition:"opacity 0.3s"}}),_.jsxs("aside",{style:{width:e?"280px":T,background:"#1e293b",color:"white",transition:"width 0.3s, transform 0.3s",display:"flex",flexDirection:"column",position:"fixed",height:"100vh",overflowY:"auto",zIndex:1e3,transform:a&&!e?"translateX(-100%)":"translateX(0)",boxShadow:a?"2px 0 8px rgba(0,0,0,0.2)":"2px 0 4px rgba(0,0,0,0.1)"},children:[_.jsxs("div",{style:{padding:a?"1rem":"1.25rem 1.5rem",borderBottom:"1px solid #334155",display:"flex",alignItems:"flex-start",justifyContent:"space-between",gap:"0.75rem"},children:[e&&_.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem",flex:1,minWidth:0},children:[s?.logo_url&&_.jsx("img",{src:s.logo_url,alt:s.name||"Logo",style:{width:"56px",height:"56px",minWidth:"56px",minHeight:"56px",maxWidth:"56px",maxHeight:"56px",objectFit:"contain",flexShrink:0,display:"block"}}),_.jsx("h2",{style:{margin:0,fontSize:a?"1rem":"1.125rem",fontWeight:"bold",whiteSpace:"normal",overflow:"hidden",textOverflow:"ellipsis",letterSpacing:"-0.025em",textAlign:"center",wordBreak:"break-word",lineHeight:"1.3",maxHeight:"2.6em",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:s?.name||"QR Menu"})]}),!a&&_.jsx("button",{onClick:g,style:{background:"transparent",border:"none",color:"white",cursor:"pointer",fontSize:"1.125rem",padding:"0.375rem",borderRadius:"4px",transition:"background 0.2s",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},onMouseEnter:E=>{E.currentTarget.style.background="#334155"},onMouseLeave:E=>{E.currentTarget.style.background="transparent"},children:e?"":""})]}),_.jsx("nav",{style:{flex:1,padding:a?"1rem 0":"1.25rem 0"},children:w.map(E=>_.jsxs(Jg,{to:E.path,onClick:()=>{a&&n(!1)},style:{display:"flex",alignItems:"center",padding:a?"1rem 1.5rem":"0.875rem 1.5rem",color:S(E.path)?"#fff":"#cbd5e1",background:S(E.path)?"#3b82f6":"transparent",textDecoration:"none",transition:"all 0.2s",margin:"0.25rem 0.75rem",borderRadius:"8px",fontSize:a?"1rem":"0.96875rem",fontWeight:S(E.path)?"500":"400"},onMouseEnter:N=>{!S(E.path)&&!a&&(N.currentTarget.style.background="#334155",N.currentTarget.style.color="#fff")},onMouseLeave:N=>{!S(E.path)&&!a&&(N.currentTarget.style.background="transparent",N.currentTarget.style.color="#cbd5e1")},children:[_.jsx("span",{style:{marginRight:e?"0.875rem":0,fontSize:a?"1.5rem":"1.375rem",minWidth:e?"1.5rem":"1.75rem",textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center"},children:E.icon}),e&&_.jsx("span",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:E.label})]},E.path))}),_.jsx("div",{style:{padding:a?"1rem":"1.25rem",borderTop:"1px solid #334155"},children:_.jsx(Pr,{onClick:h,variant:"danger",style:{width:"100%",background:"#dc2626",padding:a?"1rem":"0.875rem",fontSize:a?"1rem":"0.96875rem",fontWeight:"500",borderRadius:"8px"},children:e?" k Yap":""})})]}),_.jsx("main",{style:{marginLeft:a?0:e?"280px":"70px",flex:1,transition:"margin-left 0.3s",paddingTop:a?"4rem":"2.5rem",paddingRight:a?"1rem":"3rem",paddingBottom:a?"1rem":"2.5rem",paddingLeft:a?"1rem":"3rem",width:a?"100%":`calc(100% - ${e?"280px":"70px"})`,maxWidth:a?"100%":"1400px"},children:t})]})}function U6(){const{business:t}=qo(),{products:e,loading:n}=im(t?.id),{categories:a,loading:o}=rm(t?.id),[s,u]=j.useState(!1),[d,f]=j.useState({totalProducts:0,activeProducts:0,totalCategories:0,totalViews:0});if(j.useEffect(()=>{const w=()=>{u(window.innerWidth<768)};return w(),window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)},[]),j.useEffect(()=>{e&&a&&f({totalProducts:e.length,activeProducts:e.filter(w=>w.is_active).length,totalCategories:a.length,totalViews:0})},[e,a]),n||o)return _.jsx(Aa,{children:_.jsx($a,{message:"Ykleniyor..."})});const h=t?.id?`${window.location.origin}`:"",g=()=>{h&&(navigator.clipboard.writeText(h),alert(" Link kopyaland!"))};return _.jsx(Aa,{children:_.jsxs("div",{children:[_.jsx("h1",{style:{margin:0,marginBottom:s?"1.5rem":"2rem",fontSize:s?"1.5rem":"2rem",color:"#1e293b"},children:" Dashboard"}),_.jsxs("div",{style:{display:"grid",gridTemplateColumns:s?"repeat(2, 1fr)":"repeat(auto-fit, minmax(200px, 1fr))",gap:s?"1rem":"1.5rem",marginBottom:s?"1.5rem":"2rem"},children:[_.jsx(sh,{title:"Toplam rn",value:d.totalProducts,icon:"",color:"#3b82f6",isMobile:s}),_.jsx(sh,{title:"Aktif rn",value:d.activeProducts,icon:"",color:"#10b981",isMobile:s}),_.jsx(sh,{title:"Kategori",value:d.totalCategories,icon:"",color:"#f59e0b",isMobile:s}),_.jsx(sh,{title:"Menu Linki",value:h?"Hazr":"Hazrlanyor",icon:"",color:"#8b5cf6",onClick:h?g:null,isMobile:s})]}),h&&_.jsxs("div",{style:{background:"white",padding:s?"1rem":"1.5rem",borderRadius:"8px",marginBottom:s?"1.5rem":"2rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[_.jsx("h3",{style:{margin:"0 0 1rem 0",color:"#1e293b",fontSize:s?"1rem":"1.25rem"},children:" Men Linki"}),_.jsxs("div",{style:{display:"flex",flexDirection:s?"column":"row",gap:"0.75rem",alignItems:s?"stretch":"center"},children:[_.jsx("input",{type:"text",value:h,readOnly:!0,style:{flex:1,padding:s?"0.625rem":"0.75rem",border:"1px solid #e2e8f0",borderRadius:"6px",fontSize:s?"0.875rem":"0.9375rem",fontFamily:"monospace",wordBreak:"break-all"}}),_.jsxs("button",{onClick:g,style:{padding:s?"0.625rem 1rem":"0.75rem 1.5rem",background:"#3b82f6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"500",whiteSpace:"nowrap"},children:[" ","Kopyala"]})]}),_.jsx("p",{style:{margin:"0.75rem 0 0 0",color:"#64748b",fontSize:s?"0.75rem":"0.875rem"},children:"Bu linki QR kod olarak basabilirsiniz"})]}),_.jsxs("div",{style:{background:"white",padding:s?"1rem":"1.5rem",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[_.jsx("h3",{style:{margin:"0 0 1rem 0",color:"#1e293b",fontSize:s?"1rem":"1.25rem"},children:" Hzl Eriim"}),_.jsxs("div",{style:{display:"grid",gridTemplateColumns:s?"1fr":"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[_.jsx(oh,{href:"/admin/orders",label:" Sipariler",icon:"",isMobile:s}),_.jsx(oh,{href:"/admin/products",label:" rn Ekle",icon:"",isMobile:s}),_.jsx(oh,{href:"/admin/categories",label:" Kategori Ekle",icon:"",isMobile:s}),_.jsx(oh,{href:"/admin/settings",label:" Ayarlar",icon:"",isMobile:s})]})]})]})})}function sh({title:t,value:e,icon:n,color:a,onClick:o,isMobile:s}){return _.jsx("div",{onClick:o,style:{background:"white",padding:s?"1rem":"1.5rem",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",cursor:o?"pointer":"default",transition:"transform 0.2s"},onMouseEnter:u=>{o&&!s&&(u.currentTarget.style.transform="translateY(-2px)")},onMouseLeave:u=>{u.currentTarget.style.transform="translateY(0)"},children:_.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",flexDirection:s?"column":"row",gap:s?"0.5rem":0},children:[_.jsxs("div",{style:{flex:1,textAlign:s?"center":"left"},children:[_.jsx("p",{style:{margin:0,color:"#64748b",fontSize:s?"0.75rem":"0.875rem"},children:t}),_.jsx("p",{style:{margin:"0.5rem 0 0 0",fontSize:s?"1.5rem":"2rem",fontWeight:"bold",color:"#1e293b"},children:e})]}),_.jsx("div",{style:{fontSize:s?"2rem":"2.5rem",opacity:.8},children:n})]})})}function oh({href:t,label:e,icon:n,isMobile:a}){return _.jsxs("a",{href:t,style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:a?"0.875rem":"1rem",background:"#f8fafc",borderRadius:"6px",textDecoration:"none",color:"#1e293b",border:"1px solid #e2e8f0",transition:"all 0.2s"},onMouseEnter:o=>{a||(o.currentTarget.style.background="#f1f5f9",o.currentTarget.style.borderColor="#cbd5e1")},onMouseLeave:o=>{o.currentTarget.style.background="#f8fafc",o.currentTarget.style.borderColor="#e2e8f0"},children:[_.jsx("span",{style:{fontSize:a?"1.25rem":"1.5rem"},children:n}),_.jsx("span",{style:{fontWeight:"500",fontSize:a?"0.9375rem":"1rem"},children:e})]})}function q6(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return j.useMemo(()=>a=>{e.forEach(o=>o(a))},e)}const e0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Pc(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function sm(t){return"nodeType"in t}function Bi(t){var e,n;return t?Pc(t)?t:sm(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function om(t){const{Document:e}=Bi(t);return t instanceof e}function tf(t){return Pc(t)?!1:t instanceof Bi(t).HTMLElement}function Pv(t){return t instanceof Bi(t).SVGElement}function Uc(t){return t?Pc(t)?t.document:sm(t)?om(t)?t:tf(t)||Pv(t)?t.ownerDocument:document:document:document}const As=e0?j.useLayoutEffect:j.useEffect;function t0(t){const e=j.useRef(t);return As(()=>{e.current=t}),j.useCallback(function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e.current==null?void 0:e.current(...a)},[])}function F6(){const t=j.useRef(null),e=j.useCallback((a,o)=>{t.current=setInterval(a,o)},[]),n=j.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function Gd(t,e){e===void 0&&(e=[t]);const n=j.useRef(t);return As(()=>{n.current!==t&&(n.current=t)},e),n}function nf(t,e){const n=j.useRef();return j.useMemo(()=>{const a=t(n.current);return n.current=a,a},[...e])}function Oh(t){const e=t0(t),n=j.useRef(null),a=j.useCallback(o=>{o!==n.current&&e?.(o,n.current),n.current=o},[]);return[n,a]}function Dh(t){const e=j.useRef();return j.useEffect(()=>{e.current=t},[t]),e.current}let Pp={};function rf(t,e){return j.useMemo(()=>{if(e)return e;const n=Pp[t]==null?0:Pp[t]+1;return Pp[t]=n,t+"-"+n},[t,e])}function Uv(t){return function(e){for(var n=arguments.length,a=new Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];return a.reduce((s,u)=>{const d=Object.entries(u);for(const[f,h]of d){const g=s[f];g!=null&&(s[f]=g+t*h)}return s},{...e})}}const Rc=Uv(1),Yd=Uv(-1);function H6(t){return"clientX"in t&&"clientY"in t}function n0(t){if(!t)return!1;const{KeyboardEvent:e}=Bi(t.target);return e&&t instanceof e}function $6(t){if(!t)return!1;const{TouchEvent:e}=Bi(t.target);return e&&t instanceof e}function zh(t){if($6(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return H6(t)?{x:t.clientX,y:t.clientY}:null}const vu=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[vu.Translate.toString(t),vu.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:a}=t;return e+" "+n+"ms "+a}}}),v5="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function W6(t){return t.matches(v5)?t:t.querySelector(v5)}const G6={display:"none"};function Y6(t){let{id:e,value:n}=t;return fr.createElement("div",{id:e,style:G6},n)}function V6(t){let{id:e,announcement:n,ariaLiveType:a="assertive"}=t;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return fr.createElement("div",{id:e,style:o,role:"status","aria-live":a,"aria-atomic":!0},n)}function K6(){const[t,e]=j.useState("");return{announce:j.useCallback(a=>{a!=null&&e(a)},[]),announcement:t}}const qv=j.createContext(null);function X6(t){const e=j.useContext(qv);j.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function J6(){const[t]=j.useState(()=>new Set),e=j.useCallback(a=>(t.add(a),()=>t.delete(a)),[t]);return[j.useCallback(a=>{let{type:o,event:s}=a;t.forEach(u=>{var d;return(d=u[o])==null?void 0:d.call(u,s)})},[t]),e]}const Z6={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Q6={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function e8(t){let{announcements:e=Q6,container:n,hiddenTextDescribedById:a,screenReaderInstructions:o=Z6}=t;const{announce:s,announcement:u}=K6(),d=rf("DndLiveRegion"),[f,h]=j.useState(!1);if(j.useEffect(()=>{h(!0)},[]),X6(j.useMemo(()=>({onDragStart(w){let{active:S}=w;s(e.onDragStart({active:S}))},onDragMove(w){let{active:S,over:y}=w;e.onDragMove&&s(e.onDragMove({active:S,over:y}))},onDragOver(w){let{active:S,over:y}=w;s(e.onDragOver({active:S,over:y}))},onDragEnd(w){let{active:S,over:y}=w;s(e.onDragEnd({active:S,over:y}))},onDragCancel(w){let{active:S,over:y}=w;s(e.onDragCancel({active:S,over:y}))}}),[s,e])),!f)return null;const g=fr.createElement(fr.Fragment,null,fr.createElement(Y6,{id:a,value:o.draggable}),fr.createElement(V6,{id:d,announcement:u}));return n?Ld.createPortal(g,n):g}var Jr;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(Jr||(Jr={}));function Bh(){}function Ih(t,e){return j.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function Fv(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return j.useMemo(()=>[...e].filter(a=>a!=null),[...e])}const Es=Object.freeze({x:0,y:0});function Hv(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function t8(t,e){const n=zh(t);if(!n)return"0 0";const a={x:(n.x-e.left)/e.width*100,y:(n.y-e.top)/e.height*100};return a.x+"% "+a.y+"%"}function $v(t,e){let{data:{value:n}}=t,{data:{value:a}}=e;return n-a}function n8(t,e){let{data:{value:n}}=t,{data:{value:a}}=e;return a-n}function b5(t){let{left:e,top:n,height:a,width:o}=t;return[{x:e,y:n},{x:e+o,y:n},{x:e,y:n+a},{x:e+o,y:n+a}]}function Wv(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function w5(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const Gv=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:a}=t;const o=w5(e,e.left,e.top),s=[];for(const u of a){const{id:d}=u,f=n.get(d);if(f){const h=Hv(w5(f),o);s.push({id:d,data:{droppableContainer:u,value:h}})}}return s.sort($v)},r8=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:a}=t;const o=b5(e),s=[];for(const u of a){const{id:d}=u,f=n.get(d);if(f){const h=b5(f),g=o.reduce((S,y,T)=>S+Hv(h[T],y),0),w=Number((g/4).toFixed(4));s.push({id:d,data:{droppableContainer:u,value:w}})}}return s.sort($v)};function i8(t,e){const n=Math.max(e.top,t.top),a=Math.max(e.left,t.left),o=Math.min(e.left+e.width,t.left+t.width),s=Math.min(e.top+e.height,t.top+t.height),u=o-a,d=s-n;if(a<o&&n<s){const f=e.width*e.height,h=t.width*t.height,g=u*d,w=g/(f+h-g);return Number(w.toFixed(4))}return 0}const a8=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:a}=t;const o=[];for(const s of a){const{id:u}=s,d=n.get(u);if(d){const f=i8(d,e);f>0&&o.push({id:u,data:{droppableContainer:s,value:f}})}}return o.sort(n8)};function s8(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function Yv(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:Es}function o8(t){return function(n){for(var a=arguments.length,o=new Array(a>1?a-1:0),s=1;s<a;s++)o[s-1]=arguments[s];return o.reduce((u,d)=>({...u,top:u.top+t*d.y,bottom:u.bottom+t*d.y,left:u.left+t*d.x,right:u.right+t*d.x}),{...n})}}const l8=o8(1);function Vv(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function u8(t,e,n){const a=Vv(e);if(!a)return t;const{scaleX:o,scaleY:s,x:u,y:d}=a,f=t.left-u-(1-o)*parseFloat(n),h=t.top-d-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),g=o?t.width/o:t.width,w=s?t.height/s:t.height;return{width:g,height:w,top:h,right:f+g,bottom:h+w,left:f}}const c8={ignoreTransform:!1};function qc(t,e){e===void 0&&(e=c8);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:h,transformOrigin:g}=Bi(t).getComputedStyle(t);h&&(n=u8(n,h,g))}const{top:a,left:o,width:s,height:u,bottom:d,right:f}=n;return{top:a,left:o,width:s,height:u,bottom:d,right:f}}function x5(t){return qc(t,{ignoreTransform:!0})}function d8(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function f8(t,e){return e===void 0&&(e=Bi(t).getComputedStyle(t)),e.position==="fixed"}function h8(t,e){e===void 0&&(e=Bi(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const s=e[o];return typeof s=="string"?n.test(s):!1})}function r0(t,e){const n=[];function a(o){if(e!=null&&n.length>=e||!o)return n;if(om(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!tf(o)||Pv(o)||n.includes(o))return n;const s=Bi(t).getComputedStyle(o);return o!==t&&h8(o,s)&&n.push(o),f8(o,s)?n:a(o.parentNode)}return t?a(t):n}function Kv(t){const[e]=r0(t,1);return e??null}function Up(t){return!e0||!t?null:Pc(t)?t:sm(t)?om(t)||t===Uc(t).scrollingElement?window:tf(t)?t:null:null}function Xv(t){return Pc(t)?t.scrollX:t.scrollLeft}function Jv(t){return Pc(t)?t.scrollY:t.scrollTop}function Tg(t){return{x:Xv(t),y:Jv(t)}}var si;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(si||(si={}));function Zv(t){return!e0||!t?!1:t===document.scrollingElement}function Qv(t){const e={x:0,y:0},n=Zv(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},a={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},o=t.scrollTop<=e.y,s=t.scrollLeft<=e.x,u=t.scrollTop>=a.y,d=t.scrollLeft>=a.x;return{isTop:o,isLeft:s,isBottom:u,isRight:d,maxScroll:a,minScroll:e}}const p8={x:.2,y:.2};function g8(t,e,n,a,o){let{top:s,left:u,right:d,bottom:f}=n;a===void 0&&(a=10),o===void 0&&(o=p8);const{isTop:h,isBottom:g,isLeft:w,isRight:S}=Qv(t),y={x:0,y:0},T={x:0,y:0},E={height:e.height*o.y,width:e.width*o.x};return!h&&s<=e.top+E.height?(y.y=si.Backward,T.y=a*Math.abs((e.top+E.height-s)/E.height)):!g&&f>=e.bottom-E.height&&(y.y=si.Forward,T.y=a*Math.abs((e.bottom-E.height-f)/E.height)),!S&&d>=e.right-E.width?(y.x=si.Forward,T.x=a*Math.abs((e.right-E.width-d)/E.width)):!w&&u<=e.left+E.width&&(y.x=si.Backward,T.x=a*Math.abs((e.left+E.width-u)/E.width)),{direction:y,speed:T}}function m8(t){if(t===document.scrollingElement){const{innerWidth:s,innerHeight:u}=window;return{top:0,left:0,right:s,bottom:u,width:s,height:u}}const{top:e,left:n,right:a,bottom:o}=t.getBoundingClientRect();return{top:e,left:n,right:a,bottom:o,width:t.clientWidth,height:t.clientHeight}}function eb(t){return t.reduce((e,n)=>Rc(e,Tg(n)),Es)}function y8(t){return t.reduce((e,n)=>e+Xv(n),0)}function v8(t){return t.reduce((e,n)=>e+Jv(n),0)}function tb(t,e){if(e===void 0&&(e=qc),!t)return;const{top:n,left:a,bottom:o,right:s}=e(t);Kv(t)&&(o<=0||s<=0||n>=window.innerHeight||a>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const b8=[["x",["left","right"],y8],["y",["top","bottom"],v8]];class lm{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const a=r0(n),o=eb(a);this.rect={...e},this.width=e.width,this.height=e.height;for(const[s,u,d]of b8)for(const f of u)Object.defineProperty(this,f,{get:()=>{const h=d(a),g=o[s]-h;return this.rect[f]+g},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Dd{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var a;return(a=this.target)==null?void 0:a.removeEventListener(...n)})},this.target=e}add(e,n,a){var o;(o=this.target)==null||o.addEventListener(e,n,a),this.listeners.push([e,n,a])}}function w8(t){const{EventTarget:e}=Bi(t);return t instanceof e?t:Uc(t)}function qp(t,e){const n=Math.abs(t.x),a=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+a**2)>e:"x"in e&&"y"in e?n>e.x&&a>e.y:"x"in e?n>e.x:"y"in e?a>e.y:!1}var Ha;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(Ha||(Ha={}));function _5(t){t.preventDefault()}function x8(t){t.stopPropagation()}var ln;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(ln||(ln={}));const nb={start:[ln.Space,ln.Enter],cancel:[ln.Esc],end:[ln.Space,ln.Enter,ln.Tab]},_8=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case ln.Right:return{...n,x:n.x+25};case ln.Left:return{...n,x:n.x-25};case ln.Down:return{...n,y:n.y+25};case ln.Up:return{...n,y:n.y-25}}};class i0{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new Dd(Uc(n)),this.windowListeners=new Dd(Bi(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Ha.Resize,this.handleCancel),this.windowListeners.add(Ha.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Ha.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,a=e.node.current;a&&tb(a),n(Es)}handleKeyDown(e){if(n0(e)){const{active:n,context:a,options:o}=this.props,{keyboardCodes:s=nb,coordinateGetter:u=_8,scrollBehavior:d="smooth"}=o,{code:f}=e;if(s.end.includes(f)){this.handleEnd(e);return}if(s.cancel.includes(f)){this.handleCancel(e);return}const{collisionRect:h}=a.current,g=h?{x:h.left,y:h.top}:Es;this.referenceCoordinates||(this.referenceCoordinates=g);const w=u(e,{active:n,context:a.current,currentCoordinates:g});if(w){const S=Yd(w,g),y={x:0,y:0},{scrollableAncestors:T}=a.current;for(const E of T){const N=e.code,{isTop:L,isRight:I,isLeft:D,isBottom:$,maxScroll:ce,minScroll:he}=Qv(E),le=m8(E),W={x:Math.min(N===ln.Right?le.right-le.width/2:le.right,Math.max(N===ln.Right?le.left:le.left+le.width/2,w.x)),y:Math.min(N===ln.Down?le.bottom-le.height/2:le.bottom,Math.max(N===ln.Down?le.top:le.top+le.height/2,w.y))},P=N===ln.Right&&!I||N===ln.Left&&!D,oe=N===ln.Down&&!$||N===ln.Up&&!L;if(P&&W.x!==w.x){const M=E.scrollLeft+S.x,X=N===ln.Right&&M<=ce.x||N===ln.Left&&M>=he.x;if(X&&!S.y){E.scrollTo({left:M,behavior:d});return}X?y.x=E.scrollLeft-M:y.x=N===ln.Right?E.scrollLeft-ce.x:E.scrollLeft-he.x,y.x&&E.scrollBy({left:-y.x,behavior:d});break}else if(oe&&W.y!==w.y){const M=E.scrollTop+S.y,X=N===ln.Down&&M<=ce.y||N===ln.Up&&M>=he.y;if(X&&!S.x){E.scrollTo({top:M,behavior:d});return}X?y.y=E.scrollTop-M:y.y=N===ln.Down?E.scrollTop-ce.y:E.scrollTop-he.y,y.y&&E.scrollBy({top:-y.y,behavior:d});break}}this.handleMove(e,Rc(Yd(w,this.referenceCoordinates),y))}}}handleMove(e,n){const{onMove:a}=this.props;e.preventDefault(),a(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}i0.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:a=nb,onActivation:o}=e,{active:s}=n;const{code:u}=t.nativeEvent;if(a.start.includes(u)){const d=s.activatorNode.current;return d&&t.target!==d?!1:(t.preventDefault(),o?.({event:t.nativeEvent}),!0)}return!1}}];function S5(t){return!!(t&&"distance"in t)}function A5(t){return!!(t&&"delay"in t)}class um{constructor(e,n,a){var o;a===void 0&&(a=w8(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:s}=e,{target:u}=s;this.props=e,this.events=n,this.document=Uc(u),this.documentListeners=new Dd(this.document),this.listeners=new Dd(a),this.windowListeners=new Dd(Bi(u)),this.initialCoordinates=(o=zh(s))!=null?o:Es,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:a}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Ha.Resize,this.handleCancel),this.windowListeners.add(Ha.DragStart,_5),this.windowListeners.add(Ha.VisibilityChange,this.handleCancel),this.windowListeners.add(Ha.ContextMenu,_5),this.documentListeners.add(Ha.Keydown,this.handleKeydown),n){if(a!=null&&a({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(A5(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(S5(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:a,onPending:o}=this.props;o(a,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(Ha.Click,x8,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Ha.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:a,initialCoordinates:o,props:s}=this,{onMove:u,options:{activationConstraint:d}}=s;if(!o)return;const f=(n=zh(e))!=null?n:Es,h=Yd(o,f);if(!a&&d){if(S5(d)){if(d.tolerance!=null&&qp(h,d.tolerance))return this.handleCancel();if(qp(h,d.distance))return this.handleStart()}if(A5(d)&&qp(h,d.tolerance))return this.handleCancel();this.handlePending(d,h);return}e.cancelable&&e.preventDefault(),u(f)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===ln.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const S8={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class a0 extends um{constructor(e){const{event:n}=e,a=Uc(n.target);super(e,S8,a)}}a0.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:a}=e;return!n.isPrimary||n.button!==0?!1:(a?.({event:n}),!0)}}];const A8={move:{name:"mousemove"},end:{name:"mouseup"}};var kg;(function(t){t[t.RightClick=2]="RightClick"})(kg||(kg={}));class E8 extends um{constructor(e){super(e,A8,Uc(e.event.target))}}E8.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:a}=e;return n.button===kg.RightClick?!1:(a?.({event:n}),!0)}}];const Fp={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class T8 extends um{constructor(e){super(e,Fp)}static setup(){return window.addEventListener(Fp.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Fp.move.name,e)};function e(){}}}T8.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:a}=e;const{touches:o}=n;return o.length>1?!1:(a?.({event:n}),!0)}}];var zd;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(zd||(zd={}));var Mh;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(Mh||(Mh={}));function k8(t){let{acceleration:e,activator:n=zd.Pointer,canScroll:a,draggingRect:o,enabled:s,interval:u=5,order:d=Mh.TreeOrder,pointerCoordinates:f,scrollableAncestors:h,scrollableAncestorRects:g,delta:w,threshold:S}=t;const y=C8({delta:w,disabled:!s}),[T,E]=F6(),N=j.useRef({x:0,y:0}),L=j.useRef({x:0,y:0}),I=j.useMemo(()=>{switch(n){case zd.Pointer:return f?{top:f.y,bottom:f.y,left:f.x,right:f.x}:null;case zd.DraggableRect:return o}},[n,o,f]),D=j.useRef(null),$=j.useCallback(()=>{const he=D.current;if(!he)return;const le=N.current.x*L.current.x,W=N.current.y*L.current.y;he.scrollBy(le,W)},[]),ce=j.useMemo(()=>d===Mh.TreeOrder?[...h].reverse():h,[d,h]);j.useEffect(()=>{if(!s||!h.length||!I){E();return}for(const he of ce){if(a?.(he)===!1)continue;const le=h.indexOf(he),W=g[le];if(!W)continue;const{direction:P,speed:oe}=g8(he,W,I,e,S);for(const M of["x","y"])y[M][P[M]]||(oe[M]=0,P[M]=0);if(oe.x>0||oe.y>0){E(),D.current=he,T($,u),N.current=oe,L.current=P;return}}N.current={x:0,y:0},L.current={x:0,y:0},E()},[e,$,a,E,s,u,JSON.stringify(I),JSON.stringify(y),T,h,ce,g,JSON.stringify(S)])}const N8={x:{[si.Backward]:!1,[si.Forward]:!1},y:{[si.Backward]:!1,[si.Forward]:!1}};function C8(t){let{delta:e,disabled:n}=t;const a=Dh(e);return nf(o=>{if(n||!a||!o)return N8;const s={x:Math.sign(e.x-a.x),y:Math.sign(e.y-a.y)};return{x:{[si.Backward]:o.x[si.Backward]||s.x===-1,[si.Forward]:o.x[si.Forward]||s.x===1},y:{[si.Backward]:o.y[si.Backward]||s.y===-1,[si.Forward]:o.y[si.Forward]||s.y===1}}},[n,e,a])}function L8(t,e){const n=e!=null?t.get(e):void 0,a=n?n.node.current:null;return nf(o=>{var s;return e==null?null:(s=a??o)!=null?s:null},[a,e])}function R8(t,e){return j.useMemo(()=>t.reduce((n,a)=>{const{sensor:o}=a,s=o.activators.map(u=>({eventName:u.eventName,handler:e(u.handler,a)}));return[...n,...s]},[]),[t,e])}var Vd;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(Vd||(Vd={}));var Ng;(function(t){t.Optimized="optimized"})(Ng||(Ng={}));const E5=new Map;function j8(t,e){let{dragging:n,dependencies:a,config:o}=e;const[s,u]=j.useState(null),{frequency:d,measure:f,strategy:h}=o,g=j.useRef(t),w=N(),S=Gd(w),y=j.useCallback(function(L){L===void 0&&(L=[]),!S.current&&u(I=>I===null?L:I.concat(L.filter(D=>!I.includes(D))))},[S]),T=j.useRef(null),E=nf(L=>{if(w&&!n)return E5;if(!L||L===E5||g.current!==t||s!=null){const I=new Map;for(let D of t){if(!D)continue;if(s&&s.length>0&&!s.includes(D.id)&&D.rect.current){I.set(D.id,D.rect.current);continue}const $=D.node.current,ce=$?new lm(f($),$):null;D.rect.current=ce,ce&&I.set(D.id,ce)}return I}return L},[t,s,n,w,f]);return j.useEffect(()=>{g.current=t},[t]),j.useEffect(()=>{w||y()},[n,w]),j.useEffect(()=>{s&&s.length>0&&u(null)},[JSON.stringify(s)]),j.useEffect(()=>{w||typeof d!="number"||T.current!==null||(T.current=setTimeout(()=>{y(),T.current=null},d))},[d,w,y,...a]),{droppableRects:E,measureDroppableContainers:y,measuringScheduled:s!=null};function N(){switch(h){case Vd.Always:return!1;case Vd.BeforeDragging:return n;default:return!n}}}function cm(t,e){return nf(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function O8(t,e){return cm(t,e)}function D8(t){let{callback:e,disabled:n}=t;const a=t0(e),o=j.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(a)},[a,n]);return j.useEffect(()=>()=>o?.disconnect(),[o]),o}function s0(t){let{callback:e,disabled:n}=t;const a=t0(e),o=j.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(a)},[n]);return j.useEffect(()=>()=>o?.disconnect(),[o]),o}function z8(t){return new lm(qc(t),t)}function T5(t,e,n){e===void 0&&(e=z8);const[a,o]=j.useState(null);function s(){o(f=>{if(!t)return null;if(t.isConnected===!1){var h;return(h=f??n)!=null?h:null}const g=e(t);return JSON.stringify(f)===JSON.stringify(g)?f:g})}const u=D8({callback(f){if(t)for(const h of f){const{type:g,target:w}=h;if(g==="childList"&&w instanceof HTMLElement&&w.contains(t)){s();break}}}}),d=s0({callback:s});return As(()=>{s(),t?(d?.observe(t),u?.observe(document.body,{childList:!0,subtree:!0})):(d?.disconnect(),u?.disconnect())},[t]),a}function B8(t){const e=cm(t);return Yv(t,e)}const k5=[];function I8(t){const e=j.useRef(t),n=nf(a=>t?a&&a!==k5&&t&&e.current&&t.parentNode===e.current.parentNode?a:r0(t):k5,[t]);return j.useEffect(()=>{e.current=t},[t]),n}function M8(t){const[e,n]=j.useState(null),a=j.useRef(t),o=j.useCallback(s=>{const u=Up(s.target);u&&n(d=>d?(d.set(u,Tg(u)),new Map(d)):null)},[]);return j.useEffect(()=>{const s=a.current;if(t!==s){u(s);const d=t.map(f=>{const h=Up(f);return h?(h.addEventListener("scroll",o,{passive:!0}),[h,Tg(h)]):null}).filter(f=>f!=null);n(d.length?new Map(d):null),a.current=t}return()=>{u(t),u(s)};function u(d){d.forEach(f=>{const h=Up(f);h?.removeEventListener("scroll",o)})}},[o,t]),j.useMemo(()=>t.length?e?Array.from(e.values()).reduce((s,u)=>Rc(s,u),Es):eb(t):Es,[t,e])}function N5(t,e){e===void 0&&(e=[]);const n=j.useRef(null);return j.useEffect(()=>{n.current=null},e),j.useEffect(()=>{const a=t!==Es;a&&!n.current&&(n.current=t),!a&&n.current&&(n.current=null)},[t]),n.current?Yd(t,n.current):Es}function P8(t){j.useEffect(()=>{if(!e0)return;const e=t.map(n=>{let{sensor:a}=n;return a.setup==null?void 0:a.setup()});return()=>{for(const n of e)n?.()}},t.map(e=>{let{sensor:n}=e;return n}))}function U8(t,e){return j.useMemo(()=>t.reduce((n,a)=>{let{eventName:o,handler:s}=a;return n[o]=u=>{s(u,e)},n},{}),[t,e])}function rb(t){return j.useMemo(()=>t?d8(t):null,[t])}const C5=[];function q8(t,e){e===void 0&&(e=qc);const[n]=t,a=rb(n?Bi(n):null),[o,s]=j.useState(C5);function u(){s(()=>t.length?t.map(f=>Zv(f)?a:new lm(e(f),f)):C5)}const d=s0({callback:u});return As(()=>{d?.disconnect(),u(),t.forEach(f=>d?.observe(f))},[t]),o}function ib(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return tf(e)?e:t}function F8(t){let{measure:e}=t;const[n,a]=j.useState(null),o=j.useCallback(h=>{for(const{target:g}of h)if(tf(g)){a(w=>{const S=e(g);return w?{...w,width:S.width,height:S.height}:S});break}},[e]),s=s0({callback:o}),u=j.useCallback(h=>{const g=ib(h);s?.disconnect(),g&&s?.observe(g),a(g?e(g):null)},[e,s]),[d,f]=Oh(u);return j.useMemo(()=>({nodeRef:d,rect:n,setRef:f}),[n,d,f])}const H8=[{sensor:a0,options:{}},{sensor:i0,options:{}}],$8={current:{}},xh={draggable:{measure:x5},droppable:{measure:x5,strategy:Vd.WhileDragging,frequency:Ng.Optimized},dragOverlay:{measure:qc}};class Bd extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,a;return(n=(a=this.get(e))==null?void 0:a.node.current)!=null?n:void 0}}const W8={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Bd,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Bh},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:xh,measureDroppableContainers:Bh,windowRect:null,measuringScheduled:!1},ab={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Bh,draggableNodes:new Map,over:null,measureDroppableContainers:Bh},af=j.createContext(ab),sb=j.createContext(W8);function G8(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Bd}}}function Y8(t,e){switch(e.type){case Jr.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Jr.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case Jr.DragEnd:case Jr.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Jr.RegisterDroppable:{const{element:n}=e,{id:a}=n,o=new Bd(t.droppable.containers);return o.set(a,n),{...t,droppable:{...t.droppable,containers:o}}}case Jr.SetDroppableDisabled:{const{id:n,key:a,disabled:o}=e,s=t.droppable.containers.get(n);if(!s||a!==s.key)return t;const u=new Bd(t.droppable.containers);return u.set(n,{...s,disabled:o}),{...t,droppable:{...t.droppable,containers:u}}}case Jr.UnregisterDroppable:{const{id:n,key:a}=e,o=t.droppable.containers.get(n);if(!o||a!==o.key)return t;const s=new Bd(t.droppable.containers);return s.delete(n),{...t,droppable:{...t.droppable,containers:s}}}default:return t}}function V8(t){let{disabled:e}=t;const{active:n,activatorEvent:a,draggableNodes:o}=j.useContext(af),s=Dh(a),u=Dh(n?.id);return j.useEffect(()=>{if(!e&&!a&&s&&u!=null){if(!n0(s)||document.activeElement===s.target)return;const d=o.get(u);if(!d)return;const{activatorNode:f,node:h}=d;if(!f.current&&!h.current)return;requestAnimationFrame(()=>{for(const g of[f.current,h.current]){if(!g)continue;const w=W6(g);if(w){w.focus();break}}})}},[a,e,o,u,s]),null}function ob(t,e){let{transform:n,...a}=e;return t!=null&&t.length?t.reduce((o,s)=>s({transform:o,...a}),n):n}function K8(t){return j.useMemo(()=>({draggable:{...xh.draggable,...t?.draggable},droppable:{...xh.droppable,...t?.droppable},dragOverlay:{...xh.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function X8(t){let{activeNode:e,measure:n,initialRect:a,config:o=!0}=t;const s=j.useRef(!1),{x:u,y:d}=typeof o=="boolean"?{x:o,y:o}:o;As(()=>{if(!u&&!d||!e){s.current=!1;return}if(s.current||!a)return;const h=e?.node.current;if(!h||h.isConnected===!1)return;const g=n(h),w=Yv(g,a);if(u||(w.x=0),d||(w.y=0),s.current=!0,Math.abs(w.x)>0||Math.abs(w.y)>0){const S=Kv(h);S&&S.scrollBy({top:w.y,left:w.x})}},[e,u,d,a,n])}const o0=j.createContext({...Es,scaleX:1,scaleY:1});var El;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(El||(El={}));const lb=j.memo(function(e){var n,a,o,s;let{id:u,accessibility:d,autoScroll:f=!0,children:h,sensors:g=H8,collisionDetection:w=a8,measuring:S,modifiers:y,...T}=e;const E=j.useReducer(Y8,void 0,G8),[N,L]=E,[I,D]=J6(),[$,ce]=j.useState(El.Uninitialized),he=$===El.Initialized,{draggable:{active:le,nodes:W,translate:P},droppable:{containers:oe}}=N,M=le!=null?W.get(le):null,X=j.useRef({initial:null,translated:null}),ae=j.useMemo(()=>{var kt;return le!=null?{id:le,data:(kt=M?.data)!=null?kt:$8,rect:X}:null},[le,M]),J=j.useRef(null),[pe,F]=j.useState(null),[se,ue]=j.useState(null),be=Gd(T,Object.values(T)),Oe=rf("DndDescribedBy",u),Y=j.useMemo(()=>oe.getEnabled(),[oe]),C=K8(S),{droppableRects:U,measureDroppableContainers:Z,measuringScheduled:V}=j8(Y,{dragging:he,dependencies:[P.x,P.y],config:C.droppable}),ee=L8(W,le),de=j.useMemo(()=>se?zh(se):null,[se]),_e=vn(),xe=O8(ee,C.draggable.measure);X8({activeNode:le!=null?W.get(le):null,config:_e.layoutShiftCompensation,initialRect:xe,measure:C.draggable.measure});const Ne=T5(ee,C.draggable.measure,xe),We=T5(ee?ee.parentElement:null),Xe=j.useRef({activatorEvent:null,active:null,activeNode:ee,collisionRect:null,collisions:null,droppableRects:U,draggableNodes:W,draggingNode:null,draggingNodeRect:null,droppableContainers:oe,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ee=oe.getNodeFor((n=Xe.current.over)==null?void 0:n.id),ke=F8({measure:C.dragOverlay.measure}),O=(a=ke.nodeRef.current)!=null?a:ee,De=he?(o=ke.rect)!=null?o:Ne:null,Ue=!!(ke.nodeRef.current&&ke.rect),$e=B8(Ue?null:Ne),te=rb(O?Bi(O):null),ve=I8(he?Ee??ee:null),Ie=q8(ve),Ye=ob(y,{transform:{x:P.x-$e.x,y:P.y-$e.y,scaleX:1,scaleY:1},activatorEvent:se,active:ae,activeNodeRect:Ne,containerNodeRect:We,draggingNodeRect:De,over:Xe.current.over,overlayNodeRect:ke.rect,scrollableAncestors:ve,scrollableAncestorRects:Ie,windowRect:te}),et=de?Rc(de,P):null,st=M8(ve),ft=N5(st),tt=N5(st,[Ne]),ht=Rc(Ye,ft),Qe=De?l8(De,Ye):null,Ze=ae&&Qe?w({active:ae,collisionRect:Qe,droppableRects:U,droppableContainers:Y,pointerCoordinates:et}):null,vt=Wv(Ze,"id"),[rt,lt]=j.useState(null),ut=Ue?Ye:Rc(Ye,tt),it=s8(ut,(s=rt?.rect)!=null?s:null,Ne),at=j.useRef(null),It=j.useCallback((kt,pt)=>{let{sensor:qt,options:hr}=pt;if(J.current==null)return;const bn=W.get(J.current);if(!bn)return;const qn=kt.nativeEvent,$n=new qt({active:J.current,activeNode:bn,event:qn,options:hr,context:Xe,onAbort(Sn){if(!W.get(Sn))return;const{onDragAbort:Fn}=be.current,Wn={id:Sn};Fn?.(Wn),I({type:"onDragAbort",event:Wn})},onPending(Sn,Ar,Fn,Wn){if(!W.get(Sn))return;const{onDragPending:Ln}=be.current,An={id:Sn,constraint:Ar,initialCoordinates:Fn,offset:Wn};Ln?.(An),I({type:"onDragPending",event:An})},onStart(Sn){const Ar=J.current;if(Ar==null)return;const Fn=W.get(Ar);if(!Fn)return;const{onDragStart:Wn}=be.current,gn={activatorEvent:qn,active:{id:Ar,data:Fn.data,rect:X}};Ld.unstable_batchedUpdates(()=>{Wn?.(gn),ce(El.Initializing),L({type:Jr.DragStart,initialCoordinates:Sn,active:Ar}),I({type:"onDragStart",event:gn}),F(at.current),ue(qn)})},onMove(Sn){L({type:Jr.DragMove,coordinates:Sn})},onEnd:At(Jr.DragEnd),onCancel:At(Jr.DragCancel)});at.current=$n;function At(Sn){return async function(){const{active:Fn,collisions:Wn,over:gn,scrollAdjustedTranslate:Ln}=Xe.current;let An=null;if(Fn&&Ln){const{cancelDrop:vi}=be.current;An={activatorEvent:qn,active:Fn,collisions:Wn,delta:Ln,over:gn},Sn===Jr.DragEnd&&typeof vi=="function"&&await Promise.resolve(vi(An))&&(Sn=Jr.DragCancel)}J.current=null,Ld.unstable_batchedUpdates(()=>{L({type:Sn}),ce(El.Uninitialized),lt(null),F(null),ue(null),at.current=null;const vi=Sn===Jr.DragEnd?"onDragEnd":"onDragCancel";if(An){const Er=be.current[vi];Er?.(An),I({type:vi,event:An})}})}}},[W]),dt=j.useCallback((kt,pt)=>(qt,hr)=>{const bn=qt.nativeEvent,qn=W.get(hr);if(J.current!==null||!qn||bn.dndKit||bn.defaultPrevented)return;const $n={active:qn};kt(qt,pt.options,$n)===!0&&(bn.dndKit={capturedBy:pt.sensor},J.current=hr,It(qt,pt))},[W,It]),Jt=R8(g,dt);P8(g),As(()=>{Ne&&$===El.Initializing&&ce(El.Initialized)},[Ne,$]),j.useEffect(()=>{const{onDragMove:kt}=be.current,{active:pt,activatorEvent:qt,collisions:hr,over:bn}=Xe.current;if(!pt||!qt)return;const qn={active:pt,activatorEvent:qt,collisions:hr,delta:{x:ht.x,y:ht.y},over:bn};Ld.unstable_batchedUpdates(()=>{kt?.(qn),I({type:"onDragMove",event:qn})})},[ht.x,ht.y]),j.useEffect(()=>{const{active:kt,activatorEvent:pt,collisions:qt,droppableContainers:hr,scrollAdjustedTranslate:bn}=Xe.current;if(!kt||J.current==null||!pt||!bn)return;const{onDragOver:qn}=be.current,$n=hr.get(vt),At=$n&&$n.rect.current?{id:$n.id,rect:$n.rect.current,data:$n.data,disabled:$n.disabled}:null,Sn={active:kt,activatorEvent:pt,collisions:qt,delta:{x:bn.x,y:bn.y},over:At};Ld.unstable_batchedUpdates(()=>{lt(At),qn?.(Sn),I({type:"onDragOver",event:Sn})})},[vt]),As(()=>{Xe.current={activatorEvent:se,active:ae,activeNode:ee,collisionRect:Qe,collisions:Ze,droppableRects:U,draggableNodes:W,draggingNode:O,draggingNodeRect:De,droppableContainers:oe,over:rt,scrollableAncestors:ve,scrollAdjustedTranslate:ht},X.current={initial:De,translated:Qe}},[ae,ee,Ze,Qe,W,O,De,U,oe,rt,ve,ht]),k8({..._e,delta:P,draggingRect:Qe,pointerCoordinates:et,scrollableAncestors:ve,scrollableAncestorRects:Ie});const yt=j.useMemo(()=>({active:ae,activeNode:ee,activeNodeRect:Ne,activatorEvent:se,collisions:Ze,containerNodeRect:We,dragOverlay:ke,draggableNodes:W,droppableContainers:oe,droppableRects:U,over:rt,measureDroppableContainers:Z,scrollableAncestors:ve,scrollableAncestorRects:Ie,measuringConfiguration:C,measuringScheduled:V,windowRect:te}),[ae,ee,Ne,se,Ze,We,ke,W,oe,U,rt,Z,ve,Ie,C,V,te]),Ot=j.useMemo(()=>({activatorEvent:se,activators:Jt,active:ae,activeNodeRect:Ne,ariaDescribedById:{draggable:Oe},dispatch:L,draggableNodes:W,over:rt,measureDroppableContainers:Z}),[se,Jt,ae,Ne,L,Oe,W,rt,Z]);return fr.createElement(qv.Provider,{value:D},fr.createElement(af.Provider,{value:Ot},fr.createElement(sb.Provider,{value:yt},fr.createElement(o0.Provider,{value:it},h)),fr.createElement(V8,{disabled:d?.restoreFocus===!1})),fr.createElement(e8,{...d,hiddenTextDescribedById:Oe}));function vn(){const kt=pe?.autoScrollEnabled===!1,pt=typeof f=="object"?f.enabled===!1:f===!1,qt=he&&!kt&&!pt;return typeof f=="object"?{...f,enabled:qt}:{enabled:qt}}}),J8=j.createContext(null),L5="button",Z8="Draggable";function Q8(t){let{id:e,data:n,disabled:a=!1,attributes:o}=t;const s=rf(Z8),{activators:u,activatorEvent:d,active:f,activeNodeRect:h,ariaDescribedById:g,draggableNodes:w,over:S}=j.useContext(af),{role:y=L5,roleDescription:T="draggable",tabIndex:E=0}=o??{},N=f?.id===e,L=j.useContext(N?o0:J8),[I,D]=Oh(),[$,ce]=Oh(),he=U8(u,e),le=Gd(n);As(()=>(w.set(e,{id:e,key:s,node:I,activatorNode:$,data:le}),()=>{const P=w.get(e);P&&P.key===s&&w.delete(e)}),[w,e]);const W=j.useMemo(()=>({role:y,tabIndex:E,"aria-disabled":a,"aria-pressed":N&&y===L5?!0:void 0,"aria-roledescription":T,"aria-describedby":g.draggable}),[a,y,E,N,T,g.draggable]);return{active:f,activatorEvent:d,activeNodeRect:h,attributes:W,isDragging:N,listeners:a?void 0:he,node:I,over:S,setNodeRef:D,setActivatorNodeRef:ce,transform:L}}function ub(){return j.useContext(sb)}const eA="Droppable",tA={timeout:25};function nA(t){let{data:e,disabled:n=!1,id:a,resizeObserverConfig:o}=t;const s=rf(eA),{active:u,dispatch:d,over:f,measureDroppableContainers:h}=j.useContext(af),g=j.useRef({disabled:n}),w=j.useRef(!1),S=j.useRef(null),y=j.useRef(null),{disabled:T,updateMeasurementsFor:E,timeout:N}={...tA,...o},L=Gd(E??a),I=j.useCallback(()=>{if(!w.current){w.current=!0;return}y.current!=null&&clearTimeout(y.current),y.current=setTimeout(()=>{h(Array.isArray(L.current)?L.current:[L.current]),y.current=null},N)},[N]),D=s0({callback:I,disabled:T||!u}),$=j.useCallback((W,P)=>{D&&(P&&(D.unobserve(P),w.current=!1),W&&D.observe(W))},[D]),[ce,he]=Oh($),le=Gd(e);return j.useEffect(()=>{!D||!ce.current||(D.disconnect(),w.current=!1,D.observe(ce.current))},[ce,D]),j.useEffect(()=>(d({type:Jr.RegisterDroppable,element:{id:a,key:s,disabled:n,node:ce,rect:S,data:le}}),()=>d({type:Jr.UnregisterDroppable,key:s,id:a})),[a]),j.useEffect(()=>{n!==g.current.disabled&&(d({type:Jr.SetDroppableDisabled,id:a,key:s,disabled:n}),g.current.disabled=n)},[a,s,n,d]),{active:u,rect:S,isOver:f?.id===a,node:ce,over:f,setNodeRef:he}}function rA(t){let{animation:e,children:n}=t;const[a,o]=j.useState(null),[s,u]=j.useState(null),d=Dh(n);return!n&&!a&&d&&o(d),As(()=>{if(!s)return;const f=a?.key,h=a?.props.id;if(f==null||h==null){o(null);return}Promise.resolve(e(h,s)).then(()=>{o(null)})},[e,a,s]),fr.createElement(fr.Fragment,null,n,a?j.cloneElement(a,{ref:u}):null)}const iA={x:0,y:0,scaleX:1,scaleY:1};function aA(t){let{children:e}=t;return fr.createElement(af.Provider,{value:ab},fr.createElement(o0.Provider,{value:iA},e))}const sA={position:"fixed",touchAction:"none"},oA=t=>n0(t)?"transform 250ms ease":void 0,lA=j.forwardRef((t,e)=>{let{as:n,activatorEvent:a,adjustScale:o,children:s,className:u,rect:d,style:f,transform:h,transition:g=oA}=t;if(!d)return null;const w=o?h:{...h,scaleX:1,scaleY:1},S={...sA,width:d.width,height:d.height,top:d.top,left:d.left,transform:vu.Transform.toString(w),transformOrigin:o&&a?t8(a,d):void 0,transition:typeof g=="function"?g(a):g,...f};return fr.createElement(n,{className:u,style:S,ref:e},s)}),uA=t=>e=>{let{active:n,dragOverlay:a}=e;const o={},{styles:s,className:u}=t;if(s!=null&&s.active)for(const[d,f]of Object.entries(s.active))f!==void 0&&(o[d]=n.node.style.getPropertyValue(d),n.node.style.setProperty(d,f));if(s!=null&&s.dragOverlay)for(const[d,f]of Object.entries(s.dragOverlay))f!==void 0&&a.node.style.setProperty(d,f);return u!=null&&u.active&&n.node.classList.add(u.active),u!=null&&u.dragOverlay&&a.node.classList.add(u.dragOverlay),function(){for(const[f,h]of Object.entries(o))n.node.style.setProperty(f,h);u!=null&&u.active&&n.node.classList.remove(u.active)}},cA=t=>{let{transform:{initial:e,final:n}}=t;return[{transform:vu.Transform.toString(e)},{transform:vu.Transform.toString(n)}]},dA={duration:250,easing:"ease",keyframes:cA,sideEffects:uA({styles:{active:{opacity:"0"}}})};function fA(t){let{config:e,draggableNodes:n,droppableContainers:a,measuringConfiguration:o}=t;return t0((s,u)=>{if(e===null)return;const d=n.get(s);if(!d)return;const f=d.node.current;if(!f)return;const h=ib(u);if(!h)return;const{transform:g}=Bi(u).getComputedStyle(u),w=Vv(g);if(!w)return;const S=typeof e=="function"?e:hA(e);return tb(f,o.draggable.measure),S({active:{id:s,data:d.data,node:f,rect:o.draggable.measure(f)},draggableNodes:n,dragOverlay:{node:u,rect:o.dragOverlay.measure(h)},droppableContainers:a,measuringConfiguration:o,transform:w})})}function hA(t){const{duration:e,easing:n,sideEffects:a,keyframes:o}={...dA,...t};return s=>{let{active:u,dragOverlay:d,transform:f,...h}=s;if(!e)return;const g={x:d.rect.left-u.rect.left,y:d.rect.top-u.rect.top},w={scaleX:f.scaleX!==1?u.rect.width*f.scaleX/d.rect.width:1,scaleY:f.scaleY!==1?u.rect.height*f.scaleY/d.rect.height:1},S={x:f.x-g.x,y:f.y-g.y,...w},y=o({...h,active:u,dragOverlay:d,transform:{initial:f,final:S}}),[T]=y,E=y[y.length-1];if(JSON.stringify(T)===JSON.stringify(E))return;const N=a?.({active:u,dragOverlay:d,...h}),L=d.node.animate(y,{duration:e,easing:n,fill:"forwards"});return new Promise(I=>{L.onfinish=()=>{N?.(),I()}})}}let R5=0;function pA(t){return j.useMemo(()=>{if(t!=null)return R5++,R5},[t])}const cb=fr.memo(t=>{let{adjustScale:e=!1,children:n,dropAnimation:a,style:o,transition:s,modifiers:u,wrapperElement:d="div",className:f,zIndex:h=999}=t;const{activatorEvent:g,active:w,activeNodeRect:S,containerNodeRect:y,draggableNodes:T,droppableContainers:E,dragOverlay:N,over:L,measuringConfiguration:I,scrollableAncestors:D,scrollableAncestorRects:$,windowRect:ce}=ub(),he=j.useContext(o0),le=pA(w?.id),W=ob(u,{activatorEvent:g,active:w,activeNodeRect:S,containerNodeRect:y,draggingNodeRect:N.rect,over:L,overlayNodeRect:N.rect,scrollableAncestors:D,scrollableAncestorRects:$,transform:he,windowRect:ce}),P=cm(S),oe=fA({config:a,draggableNodes:T,droppableContainers:E,measuringConfiguration:I}),M=P?N.setRef:void 0;return fr.createElement(aA,null,fr.createElement(rA,{animation:oe},w&&le?fr.createElement(lA,{key:le,id:w.id,ref:M,as:d,activatorEvent:g,adjustScale:e,className:f,transition:s,rect:P,style:{zIndex:h,...o},transform:W},n):null))});function db(t,e,n){const a=t.slice();return a.splice(n<0?a.length+n:n,0,a.splice(e,1)[0]),a}function gA(t,e){return t.reduce((n,a,o)=>{const s=e.get(a);return s&&(n[o]=s),n},Array(t.length))}function lh(t){return t!==null&&t>=0}function mA(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function yA(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const fb=t=>{let{rects:e,activeIndex:n,overIndex:a,index:o}=t;const s=db(e,a,n),u=e[o],d=s[o];return!d||!u?null:{x:d.left-u.left,y:d.top-u.top,scaleX:d.width/u.width,scaleY:d.height/u.height}},uh={scaleX:1,scaleY:1},Cg=t=>{var e;let{activeIndex:n,activeNodeRect:a,index:o,rects:s,overIndex:u}=t;const d=(e=s[n])!=null?e:a;if(!d)return null;if(o===n){const h=s[u];return h?{x:0,y:n<u?h.top+h.height-(d.top+d.height):h.top-d.top,...uh}:null}const f=vA(s,o,n);return o>n&&o<=u?{x:0,y:-d.height-f,...uh}:o<n&&o>=u?{x:0,y:d.height+f,...uh}:{x:0,y:0,...uh}};function vA(t,e,n){const a=t[e],o=t[e-1],s=t[e+1];return a?n<e?o?a.top-(o.top+o.height):s?s.top-(a.top+a.height):0:s?s.top-(a.top+a.height):o?a.top-(o.top+o.height):0:0}const hb="Sortable",pb=fr.createContext({activeIndex:-1,containerId:hb,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:fb,disabled:{draggable:!1,droppable:!1}});function Lg(t){let{children:e,id:n,items:a,strategy:o=fb,disabled:s=!1}=t;const{active:u,dragOverlay:d,droppableRects:f,over:h,measureDroppableContainers:g}=ub(),w=rf(hb,n),S=d.rect!==null,y=j.useMemo(()=>a.map(he=>typeof he=="object"&&"id"in he?he.id:he),[a]),T=u!=null,E=u?y.indexOf(u.id):-1,N=h?y.indexOf(h.id):-1,L=j.useRef(y),I=!mA(y,L.current),D=N!==-1&&E===-1||I,$=yA(s);As(()=>{I&&T&&g(y)},[I,y,T,g]),j.useEffect(()=>{L.current=y},[y]);const ce=j.useMemo(()=>({activeIndex:E,containerId:w,disabled:$,disableTransforms:D,items:y,overIndex:N,useDragOverlay:S,sortedRects:gA(y,f),strategy:o}),[E,w,$.draggable,$.droppable,D,y,N,f,S,o]);return fr.createElement(pb.Provider,{value:ce},e)}const bA=t=>{let{id:e,items:n,activeIndex:a,overIndex:o}=t;return db(n,a,o).indexOf(e)},wA=t=>{let{containerId:e,isSorting:n,wasDragging:a,index:o,items:s,newIndex:u,previousItems:d,previousContainerId:f,transition:h}=t;return!h||!a||d!==s&&o===u?!1:n?!0:u!==o&&e===f},xA={duration:200,easing:"ease"},gb="transform",_A=vu.Transition.toString({property:gb,duration:0,easing:"linear"}),SA={roleDescription:"sortable"};function AA(t){let{disabled:e,index:n,node:a,rect:o}=t;const[s,u]=j.useState(null),d=j.useRef(n);return As(()=>{if(!e&&n!==d.current&&a.current){const f=o.current;if(f){const h=qc(a.current,{ignoreTransform:!0}),g={x:f.left-h.left,y:f.top-h.top,scaleX:f.width/h.width,scaleY:f.height/h.height};(g.x||g.y)&&u(g)}}n!==d.current&&(d.current=n)},[e,n,a,o]),j.useEffect(()=>{s&&u(null)},[s]),s}function mb(t){let{animateLayoutChanges:e=wA,attributes:n,disabled:a,data:o,getNewIndex:s=bA,id:u,strategy:d,resizeObserverConfig:f,transition:h=xA}=t;const{items:g,containerId:w,activeIndex:S,disabled:y,disableTransforms:T,sortedRects:E,overIndex:N,useDragOverlay:L,strategy:I}=j.useContext(pb),D=EA(a,y),$=g.indexOf(u),ce=j.useMemo(()=>({sortable:{containerId:w,index:$,items:g},...o}),[w,o,$,g]),he=j.useMemo(()=>g.slice(g.indexOf(u)),[g,u]),{rect:le,node:W,isOver:P,setNodeRef:oe}=nA({id:u,data:ce,disabled:D.droppable,resizeObserverConfig:{updateMeasurementsFor:he,...f}}),{active:M,activatorEvent:X,activeNodeRect:ae,attributes:J,setNodeRef:pe,listeners:F,isDragging:se,over:ue,setActivatorNodeRef:be,transform:Oe}=Q8({id:u,data:ce,attributes:{...SA,...n},disabled:D.draggable}),Y=q6(oe,pe),C=!!M,U=C&&!T&&lh(S)&&lh(N),Z=!L&&se,V=Z&&U?Oe:null,de=U?V??(d??I)({rects:E,activeNodeRect:ae,activeIndex:S,overIndex:N,index:$}):null,_e=lh(S)&&lh(N)?s({id:u,items:g,activeIndex:S,overIndex:N}):$,xe=M?.id,Ne=j.useRef({activeId:xe,items:g,newIndex:_e,containerId:w}),We=g!==Ne.current.items,Xe=e({active:M,containerId:w,isDragging:se,isSorting:C,id:u,index:$,items:g,newIndex:Ne.current.newIndex,previousItems:Ne.current.items,previousContainerId:Ne.current.containerId,transition:h,wasDragging:Ne.current.activeId!=null}),Ee=AA({disabled:!Xe,index:$,node:W,rect:le});return j.useEffect(()=>{C&&Ne.current.newIndex!==_e&&(Ne.current.newIndex=_e),w!==Ne.current.containerId&&(Ne.current.containerId=w),g!==Ne.current.items&&(Ne.current.items=g)},[C,_e,w,g]),j.useEffect(()=>{if(xe===Ne.current.activeId)return;if(xe!=null&&Ne.current.activeId==null){Ne.current.activeId=xe;return}const O=setTimeout(()=>{Ne.current.activeId=xe},50);return()=>clearTimeout(O)},[xe]),{active:M,activeIndex:S,attributes:J,data:ce,rect:le,index:$,newIndex:_e,items:g,isOver:P,isSorting:C,isDragging:se,listeners:F,node:W,overIndex:N,over:ue,setNodeRef:Y,setActivatorNodeRef:be,setDroppableNodeRef:oe,setDraggableNodeRef:pe,transform:Ee??de,transition:ke()};function ke(){if(Ee||We&&Ne.current.newIndex===$)return _A;if(!(Z&&!n0(X)||!h)&&(C||Xe))return vu.Transition.toString({...h,property:gb})}}function EA(t,e){var n,a;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t?.draggable)!=null?n:e.draggable,droppable:(a=t?.droppable)!=null?a:e.droppable}}function Ph(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const TA=[ln.Down,ln.Right,ln.Up,ln.Left],yb=(t,e)=>{let{context:{active:n,collisionRect:a,droppableRects:o,droppableContainers:s,over:u,scrollableAncestors:d}}=e;if(TA.includes(t.code)){if(t.preventDefault(),!n||!a)return;const f=[];s.getEnabled().forEach(w=>{if(!w||w!=null&&w.disabled)return;const S=o.get(w.id);if(S)switch(t.code){case ln.Down:a.top<S.top&&f.push(w);break;case ln.Up:a.top>S.top&&f.push(w);break;case ln.Left:a.left>S.left&&f.push(w);break;case ln.Right:a.left<S.left&&f.push(w);break}});const h=r8({collisionRect:a,droppableRects:o,droppableContainers:f});let g=Wv(h,"id");if(g===u?.id&&h.length>1&&(g=h[1].id),g!=null){const w=s.get(n.id),S=s.get(g),y=S?o.get(S.id):null,T=S?.node.current;if(T&&y&&w&&S){const N=r0(T).some((he,le)=>d[le]!==he),L=vb(w,S),I=kA(w,S),D=N||!L?{x:0,y:0}:{x:I?a.width-y.width:0,y:I?a.height-y.height:0},$={x:y.left,y:y.top};return D.x&&D.y?$:Yd($,D)}}}};function vb(t,e){return!Ph(t)||!Ph(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function kA(t,e){return!Ph(t)||!Ph(e)||!vb(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}function NA(){const{business:t}=qo(),{notifyCategoryAdded:e,notifyCategoryUpdated:n,notifyCategoryDeleted:a,notifyOrderChanged:o,notifyError:s}=Qh(),[u,d]=j.useState([]),[f,h]=j.useState(!0),[g,w]=j.useState(!1),[S,y]=j.useState(!1),[T,E]=j.useState(null),[N,L]=j.useState({name:""}),[I,D]=j.useState(""),[$,ce]=j.useState(null),[he,le]=j.useState(null),[W,P]=j.useState({up:!1,down:!1}),oe=j.useRef(null),M=j.useRef(null),X=j.useRef(null),ae=Fv(Ih(a0,{activationConstraint:{distance:5}}),Ih(i0,{coordinateGetter:yb}));j.useEffect(()=>{const V=()=>{w(window.innerWidth<768)};return V(),window.addEventListener("resize",V),()=>window.removeEventListener("resize",V)},[]),j.useEffect(()=>{t?.id&&J()},[t]);const J=async()=>{try{h(!0);const{data:V,error:ee}=await ct.from("categories").select("*").eq("business_id",t.id).order("order_index",{ascending:!0});if(ee)throw ee;d(V||[])}catch(V){console.error("Categories fetch error:",V),s("Kategoriler yklenirken hata olutu",V.message)}finally{h(!1)}};j.useEffect(()=>{if(!t?.id)return;const V=ct.channel(`categories:${t.id}`).on("postgres_changes",{event:"*",schema:"public",table:"categories",filter:`business_id=eq.${t.id}`},async ee=>{console.log(" Category changed (Realtime):",ee.eventType,ee.new?.id||ee.old?.id),(ee.eventType==="UPDATE"&&ee.new?.order_index!==void 0||ee.eventType==="INSERT"||ee.eventType==="DELETE")&&J()}).subscribe();return()=>{ct.removeChannel(V)}},[t?.id]);const pe=(V=null)=>{V?(E(V),L({name:V.name})):(E(null),L({name:""})),y(!0),D("")},F=()=>{y(!1),E(null),L({name:""}),D("")},se=async V=>{if(V.preventDefault(),D(""),!N.name.trim()){D("Kategori ad gerekli");return}try{if(T){const{error:ee}=await ct.from("categories").update({name:N.name.trim()}).eq("id",T.id);if(ee)throw ee;n({...T,name:N.name.trim()})}else{const de=(u.length>0?Math.max(...u.map(Ne=>Ne.order_index??0)):-1)+1,{data:_e,error:xe}=await ct.from("categories").insert({business_id:t.id,name:N.name.trim(),order_index:de,is_active:!0}).select().single();if(xe)throw xe;e(_e)}F(),J()}catch(ee){D(ee.message||"Bir hata olutu"),console.error("Category save error:",ee)}},ue=async V=>{if(confirm("Bu kategoriyi silmek istediinize emin misiniz? Kategoriye ait tm rnler de silinecektir."))try{const{error:ee}=await ct.from("categories").delete().eq("id",V);if(ee)throw ee;const de=u.find(_e=>_e.id===V);de&&a(de.name),J()}catch(ee){s("Kategori silinirken hata olutu",ee.message),console.error("Category delete error:",ee)}},be=V=>{ce(V.active.id),le(null),oe.current=null,setTimeout(()=>{const ee=document.querySelector(`[data-category-id="${V.active.id}"]`);ee&&(X.current=ee.offsetWidth)},0)},Oe=V=>{if(!V.over||!$){M.current=null;return}const ee=V.over.id;M.current=ee};j.useEffect(()=>{if(!$)return;let V=null;const de=setInterval(()=>{V=requestAnimationFrame(()=>{M.current!==oe.current&&(oe.current=M.current,le(M.current)),V=null})},100);return()=>{V&&cancelAnimationFrame(V),clearInterval(de)}},[$]);const Y=j.useRef({up:!1,down:!1});j.useEffect(()=>{if(!$){P({up:!1,down:!1}),Y.current={up:!1,down:!1};return}let V=null,ee=0;const de=150,_e=Xe=>{Date.now()-ee<de||V||(V=requestAnimationFrame(()=>{const ke=window.innerHeight||document.documentElement.clientHeight,O=Math.max(80,ke*.12),De=Xe<O?{up:!0,down:!1}:Xe>ke-O?{up:!1,down:!0}:{up:!1,down:!1};(De.up!==Y.current.up||De.down!==Y.current.down)&&(Y.current=De,P(De)),ee=Date.now(),V=null}))},xe=Xe=>{const Ee=Xe.clientY||(Xe.touches&&Xe.touches[0]?Xe.touches[0].clientY:window.innerHeight/2);_e(Ee)},Ne=Xe=>{const Ee=Xe.clientY||window.innerHeight/2;_e(Ee)};window.addEventListener("mousemove",xe,{capture:!0,passive:!0}),window.addEventListener("wheel",Ne,{capture:!0,passive:!0});const We=Xe=>{Xe.touches&&Xe.touches[0]&&_e(Xe.touches[0].clientY)};return window.addEventListener("touchmove",We,{passive:!0,capture:!0}),()=>{V&&cancelAnimationFrame(V),window.removeEventListener("mousemove",xe,{capture:!0}),window.removeEventListener("wheel",Ne,{capture:!0}),window.removeEventListener("touchmove",We,{capture:!0}),P({up:!1,down:!1}),Y.current={up:!1,down:!1}}},[$]);const C=()=>{ce(null),le(null),P({up:!1,down:!1}),oe.current=null,window.dragUpdateTimeout&&clearTimeout(window.dragUpdateTimeout)},U=async V=>{const{active:ee,over:de}=V;if(P({up:!1,down:!1}),le(null),oe.current=null,window.dragUpdateTimeout&&clearTimeout(window.dragUpdateTimeout),!de||ee.id===de.id){ce(null),le(null);return}const _e=u.find(Ee=>Ee.id===ee.id),xe=u.find(Ee=>Ee.id===de.id);if(!_e||!xe){ce(null),le(null);return}const Ne=u.findIndex(Ee=>Ee.id===ee.id),We=u.findIndex(Ee=>Ee.id===de.id);if(Ne===-1||We===-1){ce(null),le(null);return}const Xe=[{id:_e.id,order_index:We},{id:xe.id,order_index:Ne}];try{const Ee=Xe.map(De=>ct.from("categories").update({order_index:De.order_index}).eq("id",De.id));await Promise.all(Ee);const O=[...u.map(De=>{const Ue=Xe.find($e=>$e.id===De.id);return Ue?{...De,order_index:Ue.order_index}:De})].sort((De,Ue)=>{const $e=De.order_index??0,te=Ue.order_index??0;return $e-te});o("Kategori"),d(O),ce(null),le(null),oe.current=null,M.current=null}catch(Ee){console.error("Sralama gncelleme hatas:",Ee),s("Sralama gncellenirken hata olutu",Ee.message),J(),ce(null),le(null),oe.current=null}};function Z({category:V,categoryIndex:ee,isMobile:de,onEdit:_e,onDelete:xe}){const{attributes:Ne,listeners:We,setNodeRef:Xe,transform:Ee,transition:ke,isDragging:O}=mb({id:V.id,disabled:!1}),De=$===V.id&&$!==null,Ue=he===V.id&&he!==null&&!De,$e={transform:"none",transition:"none",opacity:O?.3:1,cursor:"default",willChange:"auto"};return _.jsx("div",{ref:Xe,style:{...$e,background:De?"rgba(59, 130, 246, 0.05)":Ue?"#e0f2fe":"white",borderRadius:"12px",boxShadow:De?"0 2px 8px rgba(59, 130, 246, 0.15)":Ue?"0 4px 12px rgba(0,0,0,0.15)":"0 1px 3px rgba(0,0,0,0.1)",border:De?"1px solid rgba(59, 130, 246, 0.3)":Ue?"2px dashed #3b82f6":"1px solid #e2e8f0",overflow:"hidden",transition:"none",transform:"none",position:"relative",zIndex:O?1:De?2:1,pointerEvents:O?"none":"auto",animation:"none",width:"100%",height:"auto"},"data-category-id":V.id,children:_.jsxs("div",{style:{padding:de?"1.25rem":"1.5rem",display:"flex",alignItems:"center",gap:"1rem"},children:[_.jsx("div",{...Ne,...We,style:{fontSize:"1.5rem",cursor:O?"grabbing":"grab",userSelect:"none",zIndex:15,background:"rgba(255,255,255,0.9)",borderRadius:"4px",padding:"0.25rem 0.5rem",touchAction:"none"},children:""}),_.jsxs("div",{style:{flex:1},children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"1rem"},children:[_.jsx("div",{children:_.jsx("h3",{style:{margin:"0",fontSize:de?"1.125rem":"1.25rem",color:"#1e293b",fontWeight:"600"},children:V.name})}),!V.is_active&&_.jsx("span",{style:{padding:"0.25rem 0.75rem",background:"#fee2e2",color:"#dc2626",borderRadius:"6px",fontSize:"0.75rem",fontWeight:"500"},children:"Pasif"})]}),_.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[_.jsx(Pr,{onClick:()=>_e(V),variant:"secondary",style:{flex:1,minWidth:"100px",fontSize:de?"0.875rem":"0.9375rem",padding:de?"0.625rem":"0.75rem"},children:" Dzenle"}),_.jsx(Pr,{onClick:()=>xe(V.id),variant:"danger",style:{flex:1,minWidth:"100px",fontSize:de?"0.875rem":"0.9375rem",padding:de?"0.625rem":"0.75rem"},children:" Sil"})]})]})]})})}return f&&u.length===0?_.jsx(Aa,{children:_.jsx($a,{message:"Kategoriler ykleniyor..."})}):_.jsx(Aa,{children:_.jsx(lb,{sensors:ae,collisionDetection:Gv,onDragStart:be,onDragOver:Oe,onDragEnd:U,onDragCancel:C,autoScroll:{threshold:{x:.12,y:.12},acceleration:13,interval:9,enabled:!0},children:_.jsxs("div",{children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:g?"1.5rem":"2rem",flexWrap:"wrap",gap:"1rem"},children:[_.jsx("h1",{style:{margin:0,fontSize:g?"1.5rem":"2rem",color:"#1e293b"},children:" Kategoriler"}),_.jsx(Pr,{onClick:()=>pe(),variant:"primary",style:{fontSize:g?"0.9375rem":"1rem",padding:g?"0.75rem 1.25rem":"0.875rem 1.5rem"},children:" Kategori Ekle"})]}),u.length===0?_.jsxs("div",{style:{background:"white",padding:g?"2rem 1rem":"3rem 2rem",borderRadius:"12px",textAlign:"center",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[_.jsx("p",{style:{fontSize:g?"1.125rem":"1.25rem",color:"#64748b",marginBottom:"1rem"},children:"Henz kategori eklenmemi"}),_.jsx(Pr,{onClick:()=>pe(),variant:"primary",children:" lk Kategoriyi Ekle"})]}):_.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[_.jsx("div",{style:{padding:"0.75rem 1rem",background:"#f8fafc",borderRadius:"8px",fontSize:"0.875rem",color:"#64748b",marginBottom:"0.5rem"},children:" pucu: Buraya bu sembole () basarak yer deitirebilirsiniz"}),_.jsx(Lg,{items:u.map(V=>V.id),strategy:Cg,children:[...u].sort((V,ee)=>{const de=V.order_index??0,_e=ee.order_index??0;return de-_e}).map((V,ee)=>_.jsx(Z,{category:V,categoryIndex:ee,isMobile:g,onEdit:pe,onDelete:ue},V.id))}),_.jsx(cb,{children:$?(()=>{const V=u.find(de=>de.id===$);if(!V)return null;const ee=X.current||"100%";return _.jsx("div",{className:"drag-overlay-card",style:{background:"white",borderRadius:"12px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.25)",border:"1px solid #e2e8f0",opacity:.9,width:typeof ee=="number"?`${ee}px`:ee,minWidth:typeof ee=="number"?`${ee}px`:ee,maxWidth:typeof ee=="number"?`${ee}px`:ee,pointerEvents:"none",zIndex:2e3,transform:"none !important",transformOrigin:"center center",boxSizing:"border-box",scale:"1 !important",rotate:"0deg !important",flexShrink:0,flexGrow:0},children:_.jsxs("div",{style:{padding:g?"1.25rem":"1.5rem",display:"flex",alignItems:"center",gap:"1rem"},children:[_.jsx("div",{style:{fontSize:"1.5rem",cursor:"grabbing",userSelect:"none"},children:""}),_.jsx("div",{style:{flex:1},children:_.jsx("h3",{style:{margin:"0",fontSize:g?"1.125rem":"1.25rem",color:"#1e293b",fontWeight:"600"},children:V.name})})]})})})():null}),$&&_.jsxs(_.Fragment,{children:[W.up&&_.jsx("div",{style:{position:"fixed",top:"10px",left:"50%",transform:"translateX(-50%)",zIndex:1e4,pointerEvents:"none",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"0.4rem"},children:[0,1,2].map(V=>_.jsx("div",{style:{width:"0",height:"0",borderLeft:"14px solid transparent",borderRight:"14px solid transparent",borderBottom:"20px solid",borderBottomColor:V===1?"#059669":"#10b981",animation:`arrowPulse 0.6s ease-in-out infinite ${V*.1}s`,filter:"drop-shadow(0 2px 6px rgba(16, 185, 129, 0.6))"}},V))}),W.down&&_.jsx("div",{style:{position:"fixed",bottom:"10px",left:"50%",transform:"translateX(-50%)",zIndex:1e4,pointerEvents:"none",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"0.4rem"},children:[0,1,2].map(V=>_.jsx("div",{style:{width:"0",height:"0",borderLeft:"14px solid transparent",borderRight:"14px solid transparent",borderTop:"20px solid",borderTopColor:V===1?"#059669":"#10b981",animation:`arrowPulse 0.6s ease-in-out infinite ${V*.1}s`,filter:"drop-shadow(0 2px 6px rgba(16, 185, 129, 0.6))"}},V))})]})]}),S&&_.jsx("div",{onClick:F,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",padding:g?"1rem":"2rem"},children:_.jsxs("div",{onClick:V=>V.stopPropagation(),style:{background:"white",borderRadius:"12px",padding:g?"1.5rem":"2rem",width:"100%",maxWidth:"500px",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 20px 40px rgba(0,0,0,0.2)"},children:[_.jsx("h2",{style:{margin:"0 0 1.5rem 0",fontSize:g?"1.25rem":"1.5rem",color:"#1e293b"},children:T?" Kategori Dzenle":" Kategori Ekle"}),_.jsxs("form",{onSubmit:se,children:[_.jsx(zo,{label:"Kategori Ad",type:"text",value:N.name,onChange:V=>L({...N,name:V.target.value}),placeholder:"rn: Kahveler, ecekler",required:!0,error:I&&!N.name.trim()?I:null,style:{marginBottom:"1.25rem"}}),I&&_.jsx("div",{style:{padding:"0.75rem",background:"#fee",border:"1px solid #fcc",borderRadius:"6px",color:"#c33",marginBottom:"1rem",fontSize:"0.875rem"},children:I}),_.jsxs("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end"},children:[_.jsx(Pr,{type:"button",variant:"secondary",onClick:F,style:{fontSize:g?"0.9375rem":"1rem"},children:"ptal"}),_.jsx(Pr,{type:"submit",variant:"primary",style:{fontSize:g?"0.9375rem":"1rem"},children:T?" Kaydet":" Ekle"})]})]})]})})]})})})}function CA(){const{business:t}=qo(),{notifyProductAdded:e,notifyProductUpdated:n,notifyProductDeleted:a,notifyProductStatusChanged:o,notifyOrderChanged:s,notifyError:u}=Qh(),[d,f]=j.useState([]),[h,g]=j.useState([]),[w,S]=j.useState(!0),[y,T]=j.useState(!1),[E,N]=j.useState(!1),[L,I]=j.useState(null),[D,$]=j.useState({name:"",price:"",description:"",category_id:"",image:null,imagePreview:null}),[ce,he]=j.useState(!1),[le,W]=j.useState(""),[P,oe]=j.useState(null),[M,X]=j.useState(null),[ae,J]=j.useState({up:!1,down:!1}),[pe,F]=j.useState(null),se=j.useRef(null),ue=j.useRef(null),be=j.useRef(null),Oe=j.useRef(null),Y=j.useRef(null),C=Fv(Ih(a0,{activationConstraint:{distance:5}}),Ih(i0,{coordinateGetter:yb}));j.useEffect(()=>{const te=()=>{T(window.innerWidth<768)};return te(),window.addEventListener("resize",te),()=>window.removeEventListener("resize",te)},[]),j.useEffect(()=>{t?.id&&(U(),Z())},[t]);const U=async()=>{try{const{data:te,error:ve}=await ct.from("categories").select("*").eq("business_id",t.id).order("order_index",{ascending:!0});if(ve)throw ve;g(te||[])}catch(te){console.error("Categories fetch error:",te)}},Z=async()=>{try{S(!0);const{data:te,error:ve}=await ct.from("products").select("*, categories(name)").eq("business_id",t.id).order("order_index",{ascending:!0}).order("created_at",{ascending:!1});if(ve)throw ve;const Ie=(te||[]).sort((Ye,et)=>Ye.is_active!==et.is_active?Ye.is_active?-1:1:(Ye.order_index||0)-(et.order_index||0));f(Ie)}catch(te){console.error("Products fetch error:",te),u("rnler yklenirken hata olutu",te.message)}finally{S(!1)}};j.useEffect(()=>{if(!t?.id)return;const te=ct.channel(`products:${t.id}`).on("postgres_changes",{event:"*",schema:"public",table:"products",filter:`business_id=eq.${t.id}`},async ve=>{console.log(" Product changed (Realtime):",ve.eventType,ve.new?.id||ve.old?.id),(ve.eventType==="UPDATE"||ve.eventType==="INSERT"||ve.eventType==="DELETE")&&Z()}).subscribe();return()=>{ct.removeChannel(te)}},[t?.id]);const V=(te=null)=>{te?(I(te),$({name:te.name||"",price:te.price||"",description:te.description||"",category_id:te.category_id||"",image:null,imagePreview:te.image_url||null})):(I(null),$({name:"",price:"",description:"",category_id:h[0]?.id||"",image:null,imagePreview:null})),N(!0),W("")},ee=()=>{N(!1),I(null),$({name:"",price:"",description:"",category_id:"",image:null,imagePreview:null}),W("")},de=te=>{const ve=te.target.files[0];if(ve){if(ve.size>2*1024*1024){W("Grsel boyutu 2MB'dan kk olmaldr");return}if(!ve.type.startsWith("image/")){W("Ltfen bir grsel dosyas sein");return}$({...D,image:ve,imagePreview:URL.createObjectURL(ve)}),W("")}},_e=async te=>{if(!D.image)return null;try{const ve=D.image.name.split(".").pop(),Ie=`${te}.${ve}`,Ye=`${t.id}/products/${Ie}`,{error:et}=await ct.storage.from("product-images").upload(Ye,D.image,{cacheControl:"3600",upsert:!0});if(et)throw et;const{data:{publicUrl:st}}=ct.storage.from("product-images").getPublicUrl(Ye);return st}catch(ve){throw console.error("Image upload error:",ve),new Error("Grsel yklenirken hata olutu: "+ve.message)}},xe=async te=>{if(te.preventDefault(),W(""),he(!0),!D.name.trim()){W("rn ad gerekli"),he(!1);return}if(!D.price||parseFloat(D.price)<=0){W("Geerli bir fiyat girin"),he(!1);return}try{let ve=D.imagePreview;if(L){D.image&&(ve=await _e(L.id));const Ie=L.category_id||null,Ye=D.category_id||null,et=Ie!==Ye,st={name:D.name.trim(),price:parseFloat(D.price),description:D.description.trim()||null,category_id:D.category_id||null,image_url:ve||null};if(et){const tt=d.filter(Qe=>(Qe.category_id||null)===Ye&&Qe.id!==L.id),ht=tt.length>0?Math.max(...tt.map(Qe=>Qe.order_index||0)):-1;st.order_index=ht+1}const{error:ft}=await ct.from("products").update(st).eq("id",L.id);if(ft)throw ft;n({...L,...D})}else{const Ie=d.filter(ft=>(ft.category_id||null)===(D.category_id||null)),Ye=Ie.length>0?Math.max(...Ie.map(ft=>ft.order_index||0)):-1,{data:et,error:st}=await ct.from("products").insert({business_id:t.id,name:D.name.trim(),price:parseFloat(D.price),description:D.description.trim()||null,category_id:D.category_id||null,is_active:!0,order_index:Ye+1}).select().single();if(st)throw st;if(D.image&&et){ve=await _e(et.id);const{error:ft}=await ct.from("products").update({image_url:ve}).eq("id",et.id);if(ft)throw ft}e(et)}ee(),Z()}catch(ve){W(ve.message||"Bir hata olutu"),u("rn kaydedilirken hata olutu",ve.message),console.error("Product save error:",ve)}finally{he(!1)}},Ne=async te=>{if(confirm("Bu rn silmek istediinize emin misiniz?"))try{const{error:ve}=await ct.from("products").delete().eq("id",te);if(ve)throw ve;const Ie=d.find(Ye=>Ye.id===te);Ie&&a(Ie.name),Z()}catch(ve){u("rn silinirken hata olutu",ve.message),console.error("Product delete error:",ve)}},We=async(te,ve)=>{try{const Ie=d.find(tt=>tt.id===te);if(!Ie)return;const Ye=!ve,et=Ie.order_index||0;let st={is_active:Ye};if(Ye===!1)st.saved_order_index=et;else{const tt=Ie.saved_order_index;if(tt!=null){const ht=d.filter(Ze=>Ze.category_id===Ie.category_id&&Ze.is_active===!0&&Ze.id!==te).sort((Ze,vt)=>(Ze.order_index||0)-(vt.order_index||0));if(ht.find(Ze=>Ze.order_index===tt)){st.order_index=tt,st.saved_order_index=null;const Ze=ht.filter(it=>(it.order_index||0)>=tt),vt=[],rt=new Set([tt]);Ze.forEach(it=>{let at=(it.order_index||0)+1;for(;rt.has(at);)at++;rt.add(at),vt.push({id:it.id,order_index:at})});const ut=[{id:te,is_active:Ye,order_index:tt,saved_order_index:null},...vt].map(it=>it.id===te?ct.from("products").update({is_active:it.is_active,order_index:it.order_index,saved_order_index:null}).eq("id",it.id):ct.from("products").update({order_index:it.order_index}).eq("id",it.id));await Promise.all(ut)}else{st.order_index=tt,st.saved_order_index=null;const{error:Ze}=await ct.from("products").update(st).eq("id",te);if(Ze)throw Ze}}else{const{error:ht}=await ct.from("products").update(st).eq("id",te);if(ht)throw ht}}if(Ye===!1){const{error:tt}=await ct.from("products").update(st).eq("id",te);if(tt)throw tt}f(tt=>{const ht=tt.map(Qe=>{if(Qe.id===te){const Ze={...Qe,is_active:Ye};return Ye===!1?Ze.saved_order_index=et:Qe.saved_order_index!==null&&Qe.saved_order_index!==void 0&&(Ze.order_index=Qe.saved_order_index,Ze.saved_order_index=null),Ze}return Qe});if(Ye===!0){const Qe=ht.find(Ze=>Ze.id===te);if(Qe&&Qe.saved_order_index===null&&Qe.order_index!==void 0){const Ze=ht.filter(rt=>rt.category_id===Qe.category_id&&rt.is_active===!0&&rt.id!==te).sort((rt,lt)=>(rt.order_index||0)-(lt.order_index||0));if(Ze.find(rt=>rt.order_index===Qe.order_index)){const rt=Ze.filter(ut=>(ut.order_index||0)>=Qe.order_index),lt=new Set([Qe.order_index]);rt.forEach(ut=>{let it=(ut.order_index||0)+1;for(;lt.has(it);)it++;lt.add(it),ut.order_index=it})}}}return ht.sort((Qe,Ze)=>Qe.is_active!==Ze.is_active?Qe.is_active?-1:1:(Qe.order_index||0)-(Ze.order_index||0))});const ft=d.find(tt=>tt.id===te);ft&&o(ft,Ye)}catch(Ie){u("rn durumu gncellenirken hata olutu",Ie.message),console.error("Product toggle active error:",Ie),Z()}},Xe=te=>{oe(te.active.id),X(null),F(null),se.current=null,ue.current=null,setTimeout(()=>{const ve=document.querySelector(`[data-product-id="${te.active.id}"]`);if(ve)Y.current=ve.offsetWidth;else{const Ie=(window.innerWidth>768,window.innerWidth);Y.current=y?null:(Ie-48)/3}},0)},Ee=te=>{if(!te.over||!P){be.current=null,Oe.current=null;return}const ve=te.over.id,Ie=d.find(Qe=>Qe.id===P),Ye=d.find(Qe=>Qe.id===ve);if(!Ie||!Ye){be.current=ve,Oe.current=null;return}const et=Ie.category_id||null,st=Ye.category_id||null;if(et!==st){be.current=ve,Oe.current=null;return}const tt=d.filter(Qe=>(Qe.category_id||null)===et).sort((Qe,Ze)=>Qe.is_active!==Ze.is_active?Qe.is_active?-1:1:(Qe.order_index||0)-(Ze.order_index||0)).findIndex(Qe=>Qe.id===ve),ht=tt!==-1?{categoryId:et,index:tt}:null;be.current=ve,Oe.current=ht};j.useEffect(()=>{if(!P)return;let te=null;const Ie=setInterval(()=>{te=requestAnimationFrame(()=>{be.current!==se.current&&(se.current=be.current,X(be.current));const Ye=Oe.current?`${Oe.current.categoryId}-${Oe.current.index}`:null,et=ue.current?`${ue.current.categoryId}-${ue.current.index}`:null;Ye!==et&&(ue.current=Oe.current,F(Oe.current)),te=null})},100);return()=>{te&&cancelAnimationFrame(te),clearInterval(Ie)}},[P]);const ke=j.useRef({up:!1,down:!1});j.useEffect(()=>{if(!P){J({up:!1,down:!1}),ke.current={up:!1,down:!1};return}let te=null,ve=0;const Ie=150,Ye=tt=>{Date.now()-ve<Ie||te||(te=requestAnimationFrame(()=>{const Qe=window.innerHeight||document.documentElement.clientHeight,Ze=Math.max(80,Qe*.12),vt=tt<Ze?{up:!0,down:!1}:tt>Qe-Ze?{up:!1,down:!0}:{up:!1,down:!1};(vt.up!==ke.current.up||vt.down!==ke.current.down)&&(ke.current=vt,J(vt)),ve=Date.now(),te=null}))},et=tt=>{const ht=tt.clientY||(tt.touches&&tt.touches[0]?tt.touches[0].clientY:window.innerHeight/2);Ye(ht)},st=tt=>{const ht=tt.clientY||window.innerHeight/2;Ye(ht)};window.addEventListener("mousemove",et,{capture:!0,passive:!0}),window.addEventListener("wheel",st,{capture:!0,passive:!0});const ft=tt=>{tt.touches&&tt.touches[0]&&Ye(tt.touches[0].clientY)};return window.addEventListener("touchmove",ft,{passive:!0,capture:!0}),()=>{te&&cancelAnimationFrame(te),window.removeEventListener("mousemove",et,{capture:!0}),window.removeEventListener("wheel",st,{capture:!0}),window.removeEventListener("touchmove",ft,{capture:!0}),J({up:!1,down:!1}),ke.current={up:!1,down:!1}}},[P]);const O=async te=>{const{active:ve,over:Ie}=te;if(J({up:!1,down:!1}),X(null),window.dragUpdateTimeout&&clearTimeout(window.dragUpdateTimeout),!Ie||ve.id===Ie.id){setTimeout(()=>{F(null),oe(null)},400);return}const Ye=d.find(at=>at.id===ve.id),et=d.find(at=>at.id===Ie.id);if(!Ye||!et){setTimeout(()=>{F(null),oe(null)},400);return}if(!Ye.is_active||!et.is_active){setTimeout(()=>{F(null),oe(null)},400);return}const st=Ye.category_id||null,ft=et.category_id||null;if(st!==ft){setTimeout(()=>{F(null),oe(null)},400);return}const tt=d.filter(at=>(at.category_id||null)===st&&at.is_active===!0).sort((at,It)=>(at.order_index||0)-(It.order_index||0)),ht=tt.findIndex(at=>at.id===ve.id),Qe=tt.findIndex(at=>at.id===Ie.id);if(ht===-1||Qe===-1){F(null),oe(null);return}const vt=d.filter(at=>(at.category_id||null)===st).find(at=>!at.is_active&&at.saved_order_index!==null&&at.saved_order_index!==void 0&&at.saved_order_index===et.order_index);let rt=Ye.order_index||ht,lt=et.order_index||Qe;vt&&(lt=vt.saved_order_index);const ut=[{id:Ye.id,order_index:lt},{id:et.id,order_index:rt}],it={categoryId:st,index:Qe};try{const at=ut.map(dt=>ct.from("products").update({order_index:dt.order_index}).eq("id",dt.id));await Promise.all(at);const It=d.map(dt=>{const Jt=ut.find(yt=>yt.id===dt.id);return Jt?{...dt,order_index:Jt.order_index}:dt});f(It),s("rn"),oe(null),F(it),setTimeout(()=>{F(null),se.current=null,ue.current=null},2e3)}catch(at){console.error("Sralama gncelleme hatas:",at),u("Sralama gncellenirken hata olutu",at.message),Z(),F(null),oe(null)}};function De({product:te,categoryId:ve,productIndex:Ie,isMobile:Ye,onEdit:et,onDelete:st,onToggleActive:ft}){const{attributes:tt,listeners:ht,setNodeRef:Qe,transform:Ze,transition:vt,isDragging:rt}=mb({id:te.id,disabled:!1}),lt=P?d.find(yt=>yt.id===P):null,ut=P===te.id,it=M===te.id,at=lt&&lt.category_id||null,dt=P&&at!==(ve||null)&&it&&!ut,Jt={transform:"none",transition:"none",opacity:rt?.3:dt?.6:te.is_active?1:.5,cursor:"default",willChange:"auto"};return _.jsxs("div",{ref:yt=>{Qe(yt),yt&&rt&&!Y.current&&(Y.current=yt.offsetWidth)},style:{...Jt,background:ut?"rgba(59, 130, 246, 0.05)":dt?"linear-gradient(135deg, #fee2e2 0%, #fecaca 100%)":"white",borderRadius:"12px",boxShadow:ut?"0 2px 8px rgba(59, 130, 246, 0.15)":dt?"0 2px 8px rgba(239, 68, 68, 0.3)":"0 1px 3px rgba(0,0,0,0.1)",border:ut?"1px solid rgba(59, 130, 246, 0.3)":dt?"2px solid #ef4444":"1px solid #e2e8f0",overflow:"hidden",transition:"none",position:"relative",transform:"none",zIndex:rt?1:dt?5:2,pointerEvents:rt?"none":"auto",animation:"none",filter:dt?"blur(1px)":"none",opacity:rt?.3:dt?.6:1,width:"100%",height:"auto"},"data-product-id":te.id,"data-category-id":ve||null,children:[!te.is_active&&_.jsx("div",{style:{position:"absolute",top:"0.75rem",right:"0.75rem",background:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",color:"white",padding:"0.5rem 1rem",borderRadius:"20px",fontSize:Ye?"0.75rem":"0.875rem",fontWeight:"700",zIndex:10,boxShadow:"0 2px 8px rgba(239, 68, 68, 0.4)",letterSpacing:"0.05em"},children:"TKEND"}),dt&&_.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:20,fontSize:"4rem",color:"#ef4444",fontWeight:"bold",textShadow:"0 2px 8px rgba(0,0,0,0.3)",pointerEvents:"none"},children:""}),_.jsx("div",{...tt,...ht,style:{position:"absolute",top:"0.5rem",right:"0.5rem",fontSize:"1.25rem",cursor:rt?"grabbing":"grab",userSelect:"none",zIndex:15,background:"rgba(255,255,255,0.9)",borderRadius:"4px",padding:"0.25rem 0.5rem",touchAction:"none"},children:""}),te.image_url&&_.jsx("div",{style:{width:"100%",height:"200px",background:"#f5f5f5",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:_.jsx("img",{src:te.image_url,alt:te.name,style:{width:"100%",height:"100%",objectFit:"cover",opacity:te.is_active?1:.5,filter:te.is_active?"none":"grayscale(0.8)"},onError:yt=>{yt.target.style.display="none"}})}),_.jsxs("div",{style:{padding:Ye?"1rem":"1.25rem"},children:[_.jsxs("div",{style:{marginBottom:"0.75rem",opacity:te.is_active?1:.5,filter:te.is_active?"none":"grayscale(0.8)"},children:[_.jsx("h3",{style:{margin:"0 0 0.5rem 0",fontSize:Ye?"1.125rem":"1.25rem",color:te.is_active?"#1e293b":"#9ca3af",fontWeight:"600",lineHeight:"1.4"},children:te.name}),te.description&&_.jsx("p",{style:{margin:0,fontSize:Ye?"0.8125rem":"0.875rem",color:te.is_active?"#64748b":"#9ca3af",lineHeight:"1.5",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:te.description})]}),_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"1rem",paddingTop:"1rem",borderTop:"1px solid #e2e8f0"},children:[_.jsx(Ur,{price:te.price,fontSize:Ye?"1.125rem":"1.25rem",fontWeight:"700",color:"#3b82f6"}),_.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[_.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.25rem",padding:"0.5rem",borderRadius:"6px",background:te.is_active?"#f0f9ff":"#fef2f2"},children:[_.jsx("label",{style:{fontSize:"0.75rem",color:te.is_active?"#3b82f6":"#ef4444",fontWeight:"600",cursor:"pointer",userSelect:"none"},children:te.is_active?"Aktif":"Tkendi"}),_.jsx("button",{onClick:()=>ft(te.id,te.is_active),style:{width:"44px",height:"24px",borderRadius:"12px",border:"none",background:te.is_active?"#3b82f6":"#9ca3af",cursor:"pointer",position:"relative",transition:"background 0.3s ease",outline:"none"},onMouseEnter:yt=>{yt.currentTarget.style.opacity="0.8"},onMouseLeave:yt=>{yt.currentTarget.style.opacity="1"},children:_.jsx("div",{style:{position:"absolute",top:"2px",left:te.is_active?"22px":"2px",width:"20px",height:"20px",borderRadius:"50%",background:"white",transition:"left 0.3s ease",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"}})})]}),_.jsx(Pr,{variant:"secondary",onClick:()=>et(te),style:{fontSize:Ye?"0.8125rem":"0.875rem",padding:Ye?"0.5rem 0.75rem":"0.625rem 1rem"},children:""}),_.jsx(Pr,{variant:"danger",onClick:()=>st(te.id),style:{fontSize:Ye?"0.8125rem":"0.875rem",padding:Ye?"0.5rem 0.75rem":"0.625rem 1rem"},children:""})]})]})]})]})}const Ue=h.sort((te,ve)=>(te.order_index||0)-(ve.order_index||0)).map(te=>({category:te,products:d.filter(ve=>ve.category_id===te.id).sort((ve,Ie)=>ve.is_active!==Ie.is_active?ve.is_active?-1:1:(ve.order_index||0)-(Ie.order_index||0))})).filter(te=>te.products.length>0),$e=d.filter(te=>!te.category_id).sort((te,ve)=>te.is_active!==ve.is_active?te.is_active?-1:1:(te.order_index||0)-(ve.order_index||0));return w&&d.length===0?_.jsx(Aa,{children:_.jsx($a,{message:"rnler ykleniyor..."})}):_.jsx(Aa,{children:_.jsx(lb,{sensors:C,collisionDetection:Gv,onDragStart:Xe,onDragOver:Ee,onDragEnd:O,onDragCancel:()=>{oe(null),X(null),J({up:!1,down:!1})},autoScroll:{threshold:{x:.12,y:.12},acceleration:13,interval:9,enabled:!0},children:_.jsxs("div",{children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:y?"1.5rem":"2rem",flexWrap:"wrap",gap:"1rem"},children:[_.jsx("h1",{style:{margin:0,fontSize:y?"1.5rem":"2rem",color:"#1e293b"},children:" rnler"}),_.jsx(Pr,{onClick:()=>V(),variant:"primary",disabled:h.length===0,style:{fontSize:y?"0.9375rem":"1rem",padding:y?"0.75rem 1.25rem":"0.875rem 1.5rem"},children:" rn Ekle"})]}),h.length===0&&_.jsxs("div",{style:{background:"#fef3c7",border:"1px solid #fbbf24",borderRadius:"8px",padding:"1rem",marginBottom:"1.5rem",color:"#92400e"},children:[_.jsx("strong",{children:" Uyar:"})," nce kategori eklemeniz gerekiyor. rn eklemek iin"," ",_.jsx("a",{href:"/admin/categories",style:{color:"#92400e",textDecoration:"underline"},children:"Kategoriler"})," ","sayfasna gidin."]}),d.length===0?_.jsxs("div",{style:{background:"white",padding:y?"2rem 1rem":"3rem 2rem",borderRadius:"12px",textAlign:"center",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[_.jsx("p",{style:{fontSize:y?"1.125rem":"1.25rem",color:"#64748b",marginBottom:"1rem"},children:"Henz rn eklenmemi"}),_.jsx(Pr,{onClick:()=>V(),variant:"primary",disabled:h.length===0,children:" lk rn Ekle"})]}):_.jsxs("div",{children:[_.jsx("div",{style:{padding:"0.75rem 1rem",background:"#f8fafc",borderRadius:"8px",fontSize:"0.875rem",color:"#64748b",marginBottom:"1.5rem"},children:" pucu: Buraya bu sembole () basarak yer deitirebilirsiniz"}),_.jsx(cb,{children:P?(()=>{const te=d.find(Ie=>Ie.id===P);if(!te)return null;const ve=Y.current||(y?"100%":"calc((100% - 2 * 1.5rem) / 3)");return _.jsxs("div",{className:"drag-overlay-card",style:{background:"white",borderRadius:"12px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.25)",border:"1px solid #e2e8f0",opacity:.9,width:typeof ve=="number"?`${ve}px`:ve,minWidth:typeof ve=="number"?`${ve}px`:ve,maxWidth:typeof ve=="number"?`${ve}px`:ve,pointerEvents:"none",zIndex:2e3,transform:"none !important",transformOrigin:"center center",boxSizing:"border-box",scale:"1 !important",rotate:"0deg !important",flexShrink:0,flexGrow:0},children:[te.image_url&&_.jsx("div",{style:{width:"100%",height:"200px",background:"#f5f5f5",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"12px 12px 0 0"},children:_.jsx("img",{src:te.image_url,alt:te.name,style:{width:"100%",height:"100%",objectFit:"cover"},onError:Ie=>{Ie.target.style.display="none"}})}),_.jsxs("div",{style:{padding:"1.25rem"},children:[_.jsx("h3",{style:{margin:"0 0 0.5rem 0",fontSize:"1.25rem",color:"#1e293b",fontWeight:"600",lineHeight:"1.4"},children:te.name}),te.description&&_.jsx("p",{style:{margin:0,fontSize:"0.875rem",color:"#64748b",lineHeight:"1.5",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:te.description}),_.jsx("div",{style:{marginTop:"1rem",paddingTop:"1rem",borderTop:"1px solid #e2e8f0"},children:_.jsx(Ur,{price:te.price,fontSize:"1.25rem",fontWeight:"700",color:"#3b82f6"})})]})]})})():null}),P&&_.jsxs(_.Fragment,{children:[ae.up&&_.jsx("div",{style:{position:"fixed",top:"10px",left:"50%",transform:"translateX(-50%)",zIndex:1e4,pointerEvents:"none",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"0.4rem"},children:[0,1,2].map(te=>_.jsx("div",{style:{width:"0",height:"0",borderLeft:"14px solid transparent",borderRight:"14px solid transparent",borderBottom:"20px solid",borderBottomColor:te===1?"#059669":"#10b981",animation:`arrowPulse 0.6s ease-in-out infinite ${te*.1}s`,filter:"drop-shadow(0 2px 6px rgba(16, 185, 129, 0.6))"}},te))}),ae.down&&_.jsx("div",{style:{position:"fixed",bottom:"10px",left:"50%",transform:"translateX(-50%)",zIndex:1e4,pointerEvents:"none",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"0.4rem"},children:[0,1,2].map(te=>_.jsx("div",{style:{width:"0",height:"0",borderLeft:"14px solid transparent",borderRight:"14px solid transparent",borderTop:"20px solid",borderTopColor:te===1?"#059669":"#10b981",animation:`arrowPulse 0.6s ease-in-out infinite ${te*.1}s`,filter:"drop-shadow(0 2px 6px rgba(16, 185, 129, 0.6))"}},te))})]}),Ue.map((te,ve)=>_.jsxs("div",{style:{marginBottom:y?"3rem":"4rem"},children:[_.jsxs("div",{style:{marginBottom:"1.5rem",paddingBottom:"0.75rem",borderBottom:"3px solid #3b82f6"},children:[_.jsxs("h2",{style:{margin:0,fontSize:y?"1.5rem":"2rem",color:"#1e293b",fontWeight:"700"},children:[" ",te.category.name]}),_.jsxs("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.875rem",color:"#64748b"},children:[te.products.length," rn"]})]}),_.jsx(Lg,{items:te.products.map(Ie=>Ie.id),strategy:Cg,children:_.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:y?"1rem":"1.5rem",position:"relative",width:"100%",alignItems:"flex-start",alignContent:"flex-start"},children:te.products.map((Ie,Ye)=>{const et=P?d.find(tt=>tt.id===P):null,ft=et&&(et.category_id||null)===te.category.id&&pe&&pe.categoryId===te.category.id&&pe.index===Ye;return _.jsxs("div",{style:{position:"relative",width:y?"100%":"calc((100% - 2 * 1.5rem) / 3)",flexShrink:0,flexGrow:0,transition:"none",transform:"none",zIndex:ft?1:2},children:[ft&&_.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,width:"100%",height:"100%",background:"rgba(16, 185, 129, 0.15)",borderRadius:"12px",border:"2px dashed #10b981",display:"flex",alignItems:"center",justifyContent:"center",transition:"none",animation:"none",zIndex:10,pointerEvents:"none"},children:_.jsx("div",{style:{color:"#10b981",fontSize:"0.875rem",fontWeight:"600",background:"rgba(255, 255, 255, 0.95)",padding:"0.5rem 1rem",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:" Buraya koyabilirsiniz"})}),_.jsx(De,{product:Ie,categoryId:te.category.id,productIndex:Ye,isMobile:y,onEdit:V,onDelete:Ne,onToggleActive:We})]},Ie.id)})})})]},te.category.id)),$e.length>0&&_.jsxs("div",{style:{marginTop:y?"3rem":"4rem",paddingTop:y?"2rem":"3rem",borderTop:"2px solid #e2e8f0"},children:[_.jsxs("div",{style:{marginBottom:"1.5rem",paddingBottom:"0.75rem",borderBottom:"3px solid #f59e0b"},children:[_.jsx("h2",{style:{margin:0,fontSize:y?"1.5rem":"2rem",color:"#1e293b",fontWeight:"700"},children:" Kategorisiz rnler"}),_.jsxs("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.875rem",color:"#64748b"},children:[$e.length," rn - Ltfen bu rnlere kategori atayn"]})]}),_.jsx(Lg,{items:$e.map(te=>te.id),strategy:Cg,children:_.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:y?"1rem":"1.5rem",position:"relative",width:"100%",alignItems:"flex-start",alignContent:"flex-start"},children:$e.map((te,ve)=>{const Ie=P?d.find(st=>st.id===P):null,et=Ie&&(Ie.category_id||null)===null&&pe&&pe.categoryId===null&&pe.index===ve;return _.jsxs("div",{style:{position:"relative",width:y?"100%":"calc((100% - 2 * 1.5rem) / 3)",flexShrink:0,flexGrow:0,transition:"none",transform:"none",zIndex:et?1:2},children:[et&&_.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,width:"100%",height:"100%",background:"rgba(16, 185, 129, 0.15)",borderRadius:"12px",border:"2px dashed #10b981",display:"flex",alignItems:"center",justifyContent:"center",transition:"none",animation:"none",zIndex:10,pointerEvents:"none"},children:_.jsx("div",{style:{color:"#10b981",fontSize:"0.875rem",fontWeight:"600",background:"rgba(255, 255, 255, 0.95)",padding:"0.5rem 1rem",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:" Buraya koyabilirsiniz"})}),_.jsx(De,{product:te,categoryId:null,productIndex:ve,isMobile:y,onEdit:V,onDelete:Ne,onToggleActive:We})]},te.id)})})})]})]}),E&&_.jsx("div",{onClick:ee,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",padding:y?"1rem":"2rem"},children:_.jsxs("div",{onClick:te=>te.stopPropagation(),style:{background:"white",borderRadius:"12px",padding:y?"1.5rem":"2rem",width:"100%",maxWidth:"600px",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 20px 40px rgba(0,0,0,0.2)"},children:[_.jsx("h2",{style:{margin:"0 0 1.5rem 0",fontSize:y?"1.25rem":"1.5rem",color:"#1e293b"},children:L?" rn Dzenle":" rn Ekle"}),_.jsxs("form",{onSubmit:xe,children:[_.jsx(zo,{label:"rn Ad",type:"text",value:D.name,onChange:te=>$({...D,name:te.target.value}),placeholder:"rn: Trk Kahvesi",required:!0,style:{marginBottom:"1.25rem"}}),_.jsxs("div",{style:{marginBottom:"1.25rem"},children:[_.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#333"},children:["Kategori ",_.jsx("span",{style:{color:"red"},children:"*"})]}),_.jsxs("select",{value:D.category_id,onChange:te=>$({...D,category_id:te.target.value}),required:!0,style:{width:"100%",padding:"0.75rem",fontSize:"1rem",border:"1px solid #ddd",borderRadius:"6px",boxSizing:"border-box",fontFamily:"inherit",background:"white"},children:[_.jsx("option",{value:"",children:"Kategori Sein"}),h.map(te=>_.jsx("option",{value:te.id,children:te.name},te.id))]})]}),_.jsx(zo,{label:"Fiyat ()",type:"number",step:"0.01",min:"0",value:D.price,onChange:te=>$({...D,price:te.target.value}),placeholder:"0.00",required:!0,style:{marginBottom:"1.25rem"}}),_.jsxs("div",{style:{marginBottom:"1.25rem"},children:[_.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#333"},children:"Aklama (Opsiyonel)"}),_.jsx("textarea",{value:D.description,onChange:te=>$({...D,description:te.target.value}),placeholder:"Ksa aklama (mende gsterilir)",rows:"3",style:{width:"100%",padding:"0.75rem",fontSize:"1rem",border:"1px solid #ddd",borderRadius:"6px",boxSizing:"border-box",fontFamily:"inherit",resize:"vertical"}})]}),_.jsxs("div",{style:{marginBottom:"1.25rem"},children:[_.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#333"},children:["Grsel ",!L&&"(Opsiyonel)"]}),_.jsx("input",{type:"file",accept:"image/*",onChange:de,style:{width:"100%",padding:"0.5rem",fontSize:"0.9375rem",border:"1px solid #ddd",borderRadius:"6px",boxSizing:"border-box"}}),D.imagePreview&&_.jsx("div",{style:{marginTop:"0.75rem",width:"100%",maxWidth:"200px",borderRadius:"8px",overflow:"hidden",border:"1px solid #e2e8f0"},children:_.jsx("img",{src:D.imagePreview,alt:"nizleme",style:{width:"100%",height:"auto",display:"block"}})}),_.jsx("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.8125rem",color:"#64748b"},children:"Maksimum 2MB, JPG, PNG veya WebP formatnda"})]}),le&&_.jsx("div",{style:{padding:"0.75rem",background:"#fee",border:"1px solid #fcc",borderRadius:"6px",color:"#c33",marginBottom:"1rem",fontSize:"0.875rem"},children:le}),_.jsxs("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end"},children:[_.jsx(Pr,{type:"button",variant:"secondary",onClick:ee,disabled:ce,style:{fontSize:y?"0.9375rem":"1rem"},children:"ptal"}),_.jsx(Pr,{type:"submit",variant:"primary",disabled:ce,style:{fontSize:y?"0.9375rem":"1rem"},children:ce?" Kaydediliyor...":L?" Kaydet":" Ekle"})]})]})]})})]})})})}function LA(){const{business:t}=qo(),[e,n]=j.useState(!0),[a,o]=j.useState(!1),[s,u]=j.useState(!1),[d,f]=j.useState({name:"",phone:"",email:"",slug:""}),[h,g]=j.useState(null),[w,S]=j.useState(null),[y,T]=j.useState(!1),[E,N]=j.useState(""),[L,I]=j.useState("");j.useEffect(()=>{const F=()=>{u(window.innerWidth<768)};return F(),window.addEventListener("resize",F),()=>window.removeEventListener("resize",F)},[]),j.useEffect(()=>{t&&(f({name:t.name||"",phone:t.phone||"",email:t.email||"",slug:t.slug||""}),t.logo_url&&S(t.logo_url),n(!1))},[t]);const D=F=>{const se=F.target.files?.[0];if(se){if(se.size>2*1024*1024){N("Logo boyutu 2MB'dan kk olmaldr");return}if(!se.type.startsWith("image/")){N("Ltfen bir grsel dosyas sein");return}g(se),S(URL.createObjectURL(se)),N("")}},$=async()=>{if(!h||!t)return null;try{const se=`logo.${h.name.split(".").pop()}`,ue=`${t.id}/${se}`,{error:be}=await ct.storage.from("product-images").upload(ue,h,{cacheControl:"3600",upsert:!0});if(be)throw be;const{data:{publicUrl:Oe}}=ct.storage.from("product-images").getPublicUrl(ue);return Oe}catch(F){throw console.error("Logo upload error:",F),new Error("Logo yklenirken hata olutu: "+F.message)}},ce=async()=>{if(t?.logo_url)try{if(o(!0),N(""),I(""),t.logo_url){const se=t.logo_url.split("/"),ue=se[se.length-1],be=`${t.id}/${ue}`,{error:Oe}=await ct.storage.from("product-images").remove([be]);Oe&&console.warn("Logo storage silme hatas (devam ediliyor):",Oe)}const{error:F}=await ct.from("businesses").update({logo_url:null}).eq("id",t.id);if(F)throw F;I("Logo baaryla silindi!"),S(null),g(null),setTimeout(()=>{window.location.reload()},1e3)}catch(F){N(F.message||"Logo silinirken hata olutu"),console.error("Logo delete error:",F)}finally{o(!1)}},he=async F=>{if(F.preventDefault(),N(""),I(""),o(!0),T(!1),!d.name.trim()){N("letme ad gerekli"),o(!1);return}if(!d.slug.trim()){N("URL slug gerekli"),o(!1);return}if(!/^[a-z0-9-]+$/.test(d.slug.trim())){N("URL slug sadece kk harf, say ve tire ierebilir"),o(!1);return}try{let ue=t?.logo_url||null;if(h){if(T(!0),t?.logo_url)try{const Y=t.logo_url.split("/"),C=Y[Y.length-1],U=`${t.id}/${C}`;await ct.storage.from("product-images").remove([U])}catch(Y){console.warn("Eski logo silme hatas (devam ediliyor):",Y)}ue=await $(),T(!1)}const be={name:d.name.trim(),phone:d.phone.trim()||null,email:d.email.trim()||null,slug:d.slug.trim().toLowerCase()};ue&&(be.logo_url=ue);const{error:Oe}=await ct.from("businesses").update(be).eq("id",t.id);if(Oe)throw Oe;I("Ayarlar baaryla kaydedildi!"),g(null),window.location.reload()}catch(ue){N(ue.message||"Ayarlar kaydedilirken hata olutu"),console.error("Settings save error:",ue),T(!1)}finally{o(!1)}},le=()=>t?.slug?`https://www.osman25dem2.workers.dev/${t.slug}`:null,W=()=>t?.slug?`https://qr-menum.github.io/${t.slug}`:null,P=le(),oe=W();j.useEffect(()=>{if(t?.id&&t?.slug&&(t.qr_url!==P||t.main_url!==oe)){const F={};P&&t.qr_url!==P&&(F.qr_url=P),oe&&t.main_url!==oe&&(F.main_url=oe),Object.keys(F).length>0&&ct.from("businesses").update(F).eq("id",t.id).then(({error:se})=>{se?console.error("URL kaydetme hatas:",se):console.log("URL'ler gncellendi:",F)})}},[t?.id,t?.slug,P,oe]);const M=P?`https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=${encodeURIComponent(P)}`:null,X=()=>{oe&&(navigator.clipboard.writeText(oe),I(" Link kopyaland!"),setTimeout(()=>I(""),3e3))},ae=()=>{P&&(navigator.clipboard.writeText(P),I(" QR URL kopyaland!"),setTimeout(()=>I(""),3e3))},J=()=>{oe&&(navigator.clipboard.writeText(oe),I(" Ana URL kopyaland!"),setTimeout(()=>I(""),3e3))},pe=()=>{if(M){const F=document.createElement("a");F.href=M,F.download=`qr-menu-${t?.slug||"menu"}.png`,document.body.appendChild(F),F.click(),document.body.removeChild(F)}};return e?_.jsx(Aa,{children:_.jsx($a,{message:"Ayarlar ykleniyor..."})}):_.jsx(Aa,{children:_.jsxs("div",{children:[_.jsx("h1",{style:{margin:0,marginBottom:s?"1.5rem":"2rem",fontSize:s?"1.5rem":"2rem",color:"#1e293b"},children:" Ayarlar"}),_.jsxs("div",{style:{display:"grid",gridTemplateColumns:s?"1fr":"2fr 1fr",gap:s?"1.5rem":"2rem"},children:[_.jsx("div",{children:_.jsxs("div",{style:{background:"white",padding:s?"1.5rem":"2rem",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",marginBottom:s?"1.5rem":"2rem"},children:[_.jsx("h2",{style:{margin:"0 0 1.5rem 0",fontSize:s?"1.25rem":"1.5rem",color:"#1e293b"},children:" letme Bilgileri"}),_.jsxs("form",{onSubmit:he,children:[_.jsx(zo,{label:"letme Ad",type:"text",value:d.name,onChange:F=>f({...d,name:F.target.value}),placeholder:"rn: Can Erzurum",required:!0,style:{marginBottom:"1.25rem"}}),_.jsx(zo,{label:"Telefon",type:"tel",value:d.phone,onChange:F=>f({...d,phone:F.target.value}),placeholder:"0442 123 45 67",style:{marginBottom:"1.25rem"}}),_.jsx(zo,{label:"E-posta",type:"email",value:d.email,onChange:F=>f({...d,email:F.target.value}),placeholder:"info@isletme.com",style:{marginBottom:"1.25rem"}}),_.jsx(zo,{label:"URL Slug",type:"text",value:d.slug,onChange:F=>f({...d,slug:F.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"")}),placeholder:"can-erzurum",required:!0,style:{marginBottom:"1.25rem"}}),_.jsxs("p",{style:{margin:"-1rem 0 1.25rem 0",fontSize:"0.8125rem",color:"#64748b"},children:["Men URL'i: /menu/",d.slug||"slug"]}),_.jsxs("div",{style:{marginBottom:"1.25rem"},children:[_.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#333",fontSize:"0.9375rem"},children:" letme Logosu"}),w&&_.jsxs("div",{style:{marginBottom:"1rem",display:"flex",alignItems:"center",gap:"1rem",flexWrap:"wrap"},children:[_.jsx("img",{src:w,alt:"Logo Preview",style:{maxWidth:"120px",maxHeight:"120px",width:"auto",height:"auto",objectFit:"contain",display:"block"}}),_.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[h&&_.jsx("button",{type:"button",onClick:()=>{g(null),S(t?.logo_url||null)},style:{padding:"0.5rem 1rem",background:"#fee",border:"1px solid #fcc",borderRadius:"6px",color:"#c33",cursor:"pointer",fontSize:"0.875rem"},children:" ptal"}),!h&&t?.logo_url&&_.jsx("button",{type:"button",onClick:ce,disabled:a,style:{padding:"0.5rem 1rem",background:"#fee",border:"1px solid #fcc",borderRadius:"6px",color:"#c33",cursor:a?"not-allowed":"pointer",fontSize:"0.875rem",opacity:a?.6:1},children:" Logoyu Sil"})]})]}),_.jsxs("label",{style:{display:"inline-block",padding:"0.75rem 1.5rem",background:"#f8fafc",border:"2px dashed #cbd5e1",borderRadius:"8px",cursor:"pointer",fontSize:"0.9375rem",color:"#475569",transition:"all 0.2s",textAlign:"center",width:"100%"},onMouseEnter:F=>{F.currentTarget.style.background="#f1f5f9",F.currentTarget.style.borderColor="#94a3b8"},onMouseLeave:F=>{F.currentTarget.style.background="#f8fafc",F.currentTarget.style.borderColor="#cbd5e1"},children:[w?" Logoyu Deitir":" Logo Ykle",_.jsx("input",{type:"file",accept:"image/*",onChange:D,style:{display:"none"}})]}),_.jsx("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.8125rem",color:"#64748b"},children:"Maksimum 2MB, PNG, JPG veya WebP formatnda"})]}),_.jsxs("div",{style:{marginBottom:"1.25rem"},children:[_.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#333",fontSize:"0.9375rem"},children:"QR URL (Kalc Domain)"}),_.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"stretch"},children:[_.jsx("input",{type:"text",value:P,readOnly:!0,style:{flex:1,padding:"0.75rem",border:"1px solid #e2e8f0",borderRadius:"6px",fontSize:"0.875rem",fontFamily:"monospace",background:"#f8fafc",wordBreak:"break-all",cursor:"not-allowed"}}),_.jsx(Pr,{onClick:ae,variant:"primary",style:{padding:"0.75rem 1rem",fontSize:"0.875rem",whiteSpace:"nowrap"},children:""})]}),_.jsx("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.8125rem",color:"#64748b"},children:"QR kod iin kullanlacak kalc domain (sistemden otomatik gelir)"})]}),_.jsxs("div",{style:{marginBottom:"1.25rem"},children:[_.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#333",fontSize:"0.9375rem"},children:"Ana URL"}),_.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"stretch"},children:[_.jsx("input",{type:"text",value:oe,readOnly:!0,style:{flex:1,padding:"0.75rem",border:"1px solid #e2e8f0",borderRadius:"6px",fontSize:"0.875rem",fontFamily:"monospace",background:"#f8fafc",wordBreak:"break-all",cursor:"not-allowed"}}),_.jsx(Pr,{onClick:J,variant:"primary",style:{padding:"0.75rem 1rem",fontSize:"0.875rem",whiteSpace:"nowrap"},children:""})]}),_.jsx("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.8125rem",color:"#64748b"},children:"QR URL'den ynlendirilecek ana domain (sistemden otomatik gelir)"})]}),E&&_.jsx("div",{style:{padding:"0.75rem",background:"#fee",border:"1px solid #fcc",borderRadius:"6px",color:"#c33",marginBottom:"1rem",fontSize:"0.875rem"},children:E}),L&&_.jsx("div",{style:{padding:"0.75rem",background:"#d4edda",border:"1px solid #c3e6cb",borderRadius:"6px",color:"#155724",marginBottom:"1rem",fontSize:"0.875rem"},children:L}),_.jsx(Pr,{type:"submit",variant:"primary",disabled:a||y,style:{fontSize:s?"0.9375rem":"1rem",padding:s?"0.75rem 1.5rem":"0.875rem 2rem"},children:y?" Logo ykleniyor...":a?" Kaydediliyor...":" Kaydet"})]})]})}),_.jsx("div",{children:_.jsxs("div",{style:{background:"white",padding:s?"1.5rem":"2rem",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",position:s?"relative":"sticky",top:s?"auto":"2rem"},children:[_.jsx("h2",{style:{margin:"0 0 1.5rem 0",fontSize:s?"1.25rem":"1.5rem",color:"#1e293b"},children:" QR Kod"}),P&&M?_.jsxs(_.Fragment,{children:[_.jsx("div",{style:{background:"#f8fafc",padding:"1.5rem",borderRadius:"12px",textAlign:"center",marginBottom:"1.5rem",border:"2px dashed #e2e8f0"},children:M&&_.jsx("img",{src:M,alt:"QR Code",style:{width:"100%",maxWidth:"250px",height:"auto",margin:"0 auto",display:"block"}})}),oe&&_.jsxs("div",{style:{marginBottom:"1.5rem"},children:[_.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#333",fontSize:"0.9375rem"},children:"Men Linki"}),_.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"stretch"},children:[_.jsx("input",{type:"text",value:oe,readOnly:!0,style:{flex:1,padding:"0.75rem",border:"1px solid #e2e8f0",borderRadius:"6px",fontSize:"0.875rem",fontFamily:"monospace",background:"#f8fafc",wordBreak:"break-all"}}),_.jsx(Pr,{onClick:X,variant:"primary",style:{padding:"0.75rem 1rem",fontSize:"0.875rem",whiteSpace:"nowrap"},children:""})]})]}),_.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[_.jsx(Pr,{onClick:pe,variant:"secondary",style:{width:"100%",fontSize:s?"0.9375rem":"1rem"},children:" QR Kodu ndir"}),oe&&_.jsx("a",{href:oe,target:"_blank",rel:"noopener noreferrer",style:{display:"block",width:"100%",textDecoration:"none"},children:_.jsx(Pr,{variant:"primary",style:{width:"100%",fontSize:s?"0.9375rem":"1rem"},children:" Meny Grntle"})})]}),_.jsxs("div",{style:{marginTop:"1.5rem",padding:"1rem",background:"#e7f3ff",borderRadius:"8px",fontSize:"0.875rem",color:"#1e40af",lineHeight:"1.6"},children:[_.jsx("strong",{children:" pucu:"})," Bu QR kodu masalara yerletirebilirsiniz. Mteriler QR kodu okutarak menye eriebilir."]})]}):_.jsx("div",{style:{padding:"2rem",textAlign:"center",color:"#64748b"},children:_.jsx("p",{children:"QR URL ayarlanmad. Ltfen sol taraftan QR URL'i kaydedin."})})]})})]})]})})}function RA(){const{business:t}=qo(),{notifyNewOrder:e,notifyOrderAccepted:n,notifyOrderRejected:a,notifyOrderPreparing:o,notifyOrderDelivering:s,notifyError:u}=Qh(),[d,f]=j.useState("new"),[h,g]=j.useState(!1),[w,S]=j.useState(""),[y,T]=j.useState([]),E=j.useRef(new Set),[N,L]=j.useState(!1),[I,D]=j.useState(!0),[$,ce]=j.useState(null);j.useEffect(()=>{if(!t?.id){L(!1),D(!1);return}if(!I)return;(async()=>{try{L(!0),console.log(" Fetching ALL orders from Supabase...");const{data:pe,error:F}=await ct.from("orders").select(`
            *,
            order_items (
              id,
              product_name,
              product_price,
              quantity,
              notes,
              subtotal
            )
          `).eq("business_id",t.id).order("created_at",{ascending:!1});if(F)throw F;console.log(" ALL Orders fetched from Supabase:",pe?.length||0,"orders"),T(pe||[]),ce(null)}catch(pe){console.error(" Fetch ALL orders error:",pe),T([]),ce(pe.message)}finally{L(!1),D(!1)}})()},[t?.id,I]),j.useEffect(()=>{if(!t?.id)return;const J=ct.channel(`orders-all:${t.id}`).on("postgres_changes",{event:"*",schema:"public",table:"orders",filter:`business_id=eq.${t.id}`},async pe=>{if(console.log(" Order changed (Realtime):",pe.eventType,pe.new?.id||pe.old?.id),pe.eventType==="INSERT"){const{data:F,error:se}=await ct.from("orders").select(`
                *,
                order_items (
                  id,
                  product_name,
                  product_price,
                  quantity,
                  notes,
                  subtotal
                )
              `).eq("id",pe.new.id).single();F&&!se&&(E.current.has(F.id)||(E.current.add(F.id),e(F)),T(ue=>ue.find(Oe=>Oe.id===F.id)?ue:[F,...ue]))}else if(pe.eventType==="UPDATE"){const{data:F,error:se}=await ct.from("orders").select(`
                *,
                order_items (
                  id,
                  product_name,
                  product_price,
                  quantity,
                  notes,
                  subtotal
                )
              `).eq("id",pe.new.id).single();F&&!se&&T(ue=>ue.find(Oe=>Oe.id===F.id)?ue.map(Oe=>Oe.id===F.id?F:Oe):[F,...ue])}else pe.eventType==="DELETE"&&T(F=>F.filter(se=>se.id!==pe.old.id))}).subscribe();return()=>{ct.removeChannel(J)}},[t?.id]),j.useEffect(()=>{const J=()=>{g(window.innerWidth<768)};return J(),window.addEventListener("resize",J),()=>window.removeEventListener("resize",J)},[]);const he=(J=new Date)=>new Date(J.toLocaleString("en-US",{timeZone:"Europe/Istanbul"}));j.useEffect(()=>{const J=()=>{const F=he();S(F.toLocaleString("tr-TR",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}))};J();const pe=setInterval(J,1e3);return()=>clearInterval(pe)},[]);const le=async(J,pe)=>{try{let F=null;if(pe==="accept"?F="preparing":pe==="ready"?F="delivering":pe==="delivered"?F="completed":pe==="cancel"&&(F="cancelled"),!F)return;const se={status:F,updated_at:new Date().toISOString()};F==="completed"&&(se.completed_at=new Date().toISOString(),se.payment_status="pending");const{error:ue}=await ct.from("orders").update(se).eq("id",J);if(ue)throw ue;const{data:be}=await ct.from("orders").select("*").eq("id",J).single();be&&(pe==="accept"?(n(be),o(be)):pe==="ready"?s(be):pe==="delivered"||pe==="cancel"&&a(be)),F==="delivering"&&setTimeout(async()=>{const{data:Oe}=await ct.from("orders").select("status").eq("id",J).single();if(Oe&&Oe.status==="delivering"){const{data:Y}=await ct.from("orders").select("*").eq("id",J).single();await ct.from("orders").update({status:"completed",completed_at:new Date().toISOString(),payment_status:"pending",updated_at:new Date().toISOString()}).eq("id",J)}},180*1e3)}catch(F){console.error("Order status update error:",F),u("Sipari durumu gncellenirken hata olutu",F.message)}},W=J=>({pending:"#f59e0b",preparing:"#8b5cf6",delivering:"#3b82f6",completed:"#10b981",cancelled:"#ef4444"})[J]||"#64748b",P=J=>({pending:"Beklemede",preparing:"Hazrlanyor",delivering:"Sipari Geliyor",completed:"Tamamland",cancelled:"ptal Edildi"})[J]||J,oe=J=>{const pe=[];return J.status==="pending"?pe.push({label:"Kabul Et",action:"accept",color:"#10b981",icon:""},{label:"ptal Et",action:"cancel",color:"#ef4444",icon:""}):J.status==="preparing"?pe.push({label:"Sipari Hazr",action:"ready",color:"#10b981",icon:""},{label:"ptal Et",action:"cancel",color:"#ef4444",icon:""}):J.status==="delivering"?pe.push({label:"Sipari Tamamland",action:"delivered",color:"#10b981",icon:""}):J.status==="completed"||J.status,pe},M=(J,pe=null)=>{if(!J)return"";const F=new Date(J),se=new Date(F.toLocaleString("en-US",{timeZone:"Europe/Istanbul"})),ue=String(se.getDate()).padStart(2,"0"),be=String(se.getMonth()+1).padStart(2,"0"),Oe=se.getFullYear(),Y=String(se.getHours()).padStart(2,"0"),C=String(se.getMinutes()).padStart(2,"0"),U=`${ue}/${be}/${Oe} ${Y}.${C}`;if(pe==="preparing"||pe==="delivering"||pe==="pending"){const V=new Date-F,ee=Math.floor(V/6e4),de=Math.floor(V/36e5),_e=Math.floor(V/864e5);let xe="";return ee<1?xe="az nce":ee<60?xe=`${ee} dakika nce`:de<24?xe=`${de} saat nce`:_e<7?xe=`${_e} gn nce`:xe="",`${U}${xe?` (${xe})`:""}`}return U},X=d==="new"?y.filter(J=>J.status==="pending"||J.status==="preparing"||J.status==="delivering"):d==="preparing"?y.filter(J=>J.status==="preparing"):d==="delivering"?y.filter(J=>J.status==="delivering"):d==="completed"?y.filter(J=>J.status==="completed"):d==="cancelled"?y.filter(J=>J.status==="cancelled"):[];if($&&I)return _.jsx(Aa,{children:_.jsx("div",{style:{background:"white",padding:"2rem",borderRadius:"8px",textAlign:"center",color:"#ef4444"},children:_.jsxs("p",{children:[" Hata: ",$]})})});const ae={new:y.filter(J=>J.status==="pending"||J.status==="preparing"||J.status==="delivering").length,preparing:y.filter(J=>J.status==="preparing").length,delivering:y.filter(J=>J.status==="delivering").length,completed:y.filter(J=>J.status==="completed").length,cancelled:y.filter(J=>J.status==="cancelled").length};return _.jsx(Aa,{children:_.jsxs("div",{children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:h?"1.5rem":"2rem",flexWrap:"wrap",gap:"1rem"},children:[_.jsx("h1",{style:{margin:0,fontSize:h?"1.5rem":"2rem",color:"#1e293b"},children:" Sipariler"}),w&&_.jsxs("div",{style:{padding:"0.5rem 1rem",background:"linear-gradient(135deg, #0f172a 0%, #1e293b 100%)",borderRadius:"8px",color:"white",fontSize:h?"0.75rem":"0.875rem",fontWeight:"500",boxShadow:"0 2px 4px rgba(15, 23, 42, 0.3)",border:"1px solid #334155"},children:[" ",w]})]}),_.jsxs("div",{style:{display:"grid",gridTemplateColumns:h?"repeat(2, 1fr)":"repeat(auto-fit, minmax(150px, 1fr))",gap:h?"1rem":"1.5rem",marginBottom:h?"1.5rem":"2rem"},children:[_.jsx(kd,{title:"Sipariler",value:ae.new,color:"#f59e0b",isMobile:h}),_.jsx(kd,{title:"Hazrlanyor",value:ae.preparing,color:"#8b5cf6",isMobile:h}),_.jsx(kd,{title:"Sipari Geliyor",value:ae.delivering,color:"#3b82f6",isMobile:h}),_.jsx(kd,{title:"Tamamland",value:ae.completed,color:"#10b981",isMobile:h}),_.jsx(kd,{title:"ptal Edildi",value:ae.cancelled,color:"#ef4444",isMobile:h})]}),_.jsxs("div",{style:{background:"white",padding:h?"0.75rem":"1rem",borderRadius:"8px",marginBottom:h?"1.5rem":"2rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[_.jsxs("button",{onClick:()=>f("new"),style:{padding:h?"0.625rem 1rem":"0.75rem 1.5rem",background:d==="new"?"#f59e0b":"#f1f5f9",color:d==="new"?"white":"#1e293b",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:h?"0.875rem":"0.9375rem",fontWeight:"600",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"0.5rem"},children:[" Sipariler",ae.new>0&&_.jsx("span",{style:{background:d==="new"?"rgba(255,255,255,0.3)":"#f59e0b",color:"white",padding:"0.125rem 0.5rem",borderRadius:"12px",fontSize:"0.75rem",fontWeight:"600"},children:ae.new})]}),_.jsxs("button",{onClick:()=>f("preparing"),style:{padding:h?"0.625rem 1rem":"0.75rem 1.5rem",background:d==="preparing"?"#8b5cf6":"#f1f5f9",color:d==="preparing"?"white":"#1e293b",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:h?"0.875rem":"0.9375rem",fontWeight:"600",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"0.5rem"},children:[" Hazrlanyor",ae.preparing>0&&_.jsx("span",{style:{background:d==="preparing"?"rgba(255,255,255,0.3)":"#8b5cf6",color:"white",padding:"0.125rem 0.5rem",borderRadius:"12px",fontSize:"0.75rem",fontWeight:"600"},children:ae.preparing})]}),_.jsxs("button",{onClick:()=>f("delivering"),style:{padding:h?"0.625rem 1rem":"0.75rem 1.5rem",background:d==="delivering"?"#3b82f6":"#f1f5f9",color:d==="delivering"?"white":"#1e293b",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:h?"0.875rem":"0.9375rem",fontWeight:"600",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"0.5rem"},children:[" Sipari Geliyor",ae.delivering>0&&_.jsx("span",{style:{background:d==="delivering"?"rgba(255,255,255,0.3)":"#3b82f6",color:"white",padding:"0.125rem 0.5rem",borderRadius:"12px",fontSize:"0.75rem",fontWeight:"600"},children:ae.delivering})]}),_.jsxs("button",{onClick:()=>f("completed"),style:{padding:h?"0.625rem 1rem":"0.75rem 1.5rem",background:d==="completed"?"#10b981":"#f1f5f9",color:d==="completed"?"white":"#1e293b",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:h?"0.875rem":"0.9375rem",fontWeight:"600",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"0.5rem"},children:[" Tamamland",ae.completed>0&&_.jsx("span",{style:{background:d==="completed"?"rgba(255,255,255,0.3)":"#10b981",color:"white",padding:"0.125rem 0.5rem",borderRadius:"12px",fontSize:"0.75rem",fontWeight:"600"},children:ae.completed})]}),_.jsxs("button",{onClick:()=>f("cancelled"),style:{padding:h?"0.625rem 1rem":"0.75rem 1.5rem",background:d==="cancelled"?"#ef4444":"#f1f5f9",color:d==="cancelled"?"white":"#1e293b",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:h?"0.875rem":"0.9375rem",fontWeight:"600",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"0.5rem"},children:[" ptal Edildi",ae.cancelled>0&&_.jsx("span",{style:{background:d==="cancelled"?"rgba(255,255,255,0.3)":"#ef4444",color:"white",padding:"0.125rem 0.5rem",borderRadius:"12px",fontSize:"0.75rem",fontWeight:"600"},children:ae.cancelled})]})]}),N&&I?_.jsx($a,{message:"Sipariler ykleniyor..."}):X.length===0?_.jsx("div",{style:{background:"white",padding:"3rem",borderRadius:"8px",textAlign:"center",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:_.jsxs("p",{style:{color:"#64748b",fontSize:h?"1rem":"1.125rem"},children:[d==="new"&&" Henz sipari yok",d==="preparing"&&" Henz hazrlanan sipari yok",d==="delivering"&&" Henz gelmekte olan sipari yok",d==="completed"&&" Henz tamamlanan sipari yok",d==="cancelled"&&" Henz iptal edilen sipari yok"]})}):_.jsx("div",{style:{display:"grid",gridTemplateColumns:h?"1fr":"repeat(auto-fill, minmax(350px, 1fr))",gap:h?"1rem":"1.5rem"},children:X.map(J=>_.jsx(jA,{order:J,isMobile:h,selectedTab:d,getStatusColor:W,getStatusLabel:P,getStatusButtons:oe,updateOrderStatus:le,formatDate:M},J.id))})]})})}function jA({order:t,isMobile:e,selectedTab:n,getStatusColor:a,getStatusLabel:o,getStatusButtons:s,updateOrderStatus:u,formatDate:d}){const f=s(t),[h,g]=j.useState(!1),w=t.order_items?.slice(0,3)||[],S=t.order_items?.slice(3)||[],y=S.length>0,T=()=>{const E=t.status;return E==="pending"?"#fffef7":E==="preparing"?"#fefaff":E==="delivering"?"#f8fbff":E==="completed"?"#f5fef7":E==="cancelled"?"#fff8f8":"white"};return _.jsxs("div",{style:{background:T(),padding:e?"1rem":"1.5rem",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",borderLeft:`4px solid ${a(t.status)}`},children:[_.jsxs("div",{style:{display:"flex",flexDirection:e?"column":"row",justifyContent:"space-between",alignItems:e?"flex-start":"center",marginBottom:"1rem",gap:e?"0.75rem":0},children:[_.jsxs("div",{style:{flex:1},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",flexWrap:"wrap"},children:[_.jsxs("h3",{style:{margin:0,fontSize:e?"1.125rem":"1.25rem",color:"#1e293b"},children:[" Sipari #",t.id.slice(0,8)]}),_.jsx("span",{style:{padding:"0.25rem 0.75rem",background:`${a(t.status)}20`,color:a(t.status),borderRadius:"6px",fontSize:e?"0.75rem":"0.875rem",fontWeight:"600"},children:o(t.status)})]}),_.jsxs("p",{style:{margin:"0.5rem 0 0 0",color:"#64748b",fontSize:e?"0.75rem":"0.875rem"},children:[" ",d(t.created_at,t.status)]}),t.table_number&&_.jsxs("div",{style:{marginTop:"0.5rem",display:"inline-block",padding:"0.25rem 0.75rem",background:"linear-gradient(135deg, #9333ea 0%, #7c3aed 100%)",color:"white",borderRadius:"6px",fontSize:e?"0.75rem":"0.8125rem",fontWeight:"600",boxShadow:"0 2px 6px rgba(147, 51, 234, 0.4)"},children:[" Masa ",t.table_number]})]}),_.jsxs("div",{style:{fontSize:e?"0.875rem":"1rem",fontWeight:"500",color:"#64748b",textAlign:"right"},children:[_.jsx("div",{style:{fontSize:e?"0.75rem":"0.8125rem",color:"#94a3b8"},children:"Toplam"}),_.jsx("div",{style:{marginTop:"0.25rem"},children:_.jsx(Ur,{price:parseFloat(t.total_amount),fontSize:e?"0.875rem":"1rem",fontWeight:"500",color:"#64748b"})})]})]}),t.order_items&&t.order_items.length>0&&_.jsxs("div",{style:{marginBottom:"1rem",padding:e?"1rem":"1.25rem",background:"#f8fafc",borderRadius:"8px",border:"1px solid #e2e8f0"},children:[w.map((E,N)=>_.jsxs("div",{style:{padding:N<w.length-1||y?"0.75rem 0":"0.75rem 0 0 0",borderBottom:N<w.length-1||y?"1px solid #cbd5e1":"none"},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[_.jsxs("span",{style:{fontSize:e?"1.25rem":"1.5rem",fontWeight:"bold",color:"#1e293b",minWidth:"2rem",textAlign:"center"},children:[E.quantity,""]}),_.jsx("span",{style:{fontSize:e?"1.125rem":"1.25rem",fontWeight:"700",color:"#1e293b",flex:1},children:E.product_name})]}),_.jsx("div",{style:{marginLeft:e?"2.5rem":"3rem",marginTop:"0.25rem"},children:_.jsxs("span",{style:{color:"#94a3b8",fontSize:e?"0.75rem":"0.8125rem",fontWeight:"400",display:"flex",alignItems:"center",gap:"0.25rem",flexWrap:"wrap"},children:[_.jsx(Ur,{price:parseFloat(E.product_price),fontSize:e?"0.75rem":"0.8125rem",fontWeight:"400",color:"#94a3b8"}),_.jsxs("span",{children:[" ",E.quantity," ="]}),_.jsx(Ur,{price:parseFloat(E.subtotal),fontSize:e?"0.8125rem":"0.875rem",fontWeight:"500",color:"#64748b"})]})}),E.notes&&_.jsx("div",{style:{marginLeft:e?"2.5rem":"3rem",marginTop:"0.5rem",padding:"0.375rem 0.75rem",background:"#fef3c7",borderRadius:"4px",borderLeft:"3px solid #f59e0b"},children:_.jsxs("p",{style:{margin:0,color:"#92400e",fontSize:e?"0.75rem":"0.8125rem",fontStyle:"italic",fontWeight:"500"},children:[" ",E.notes]})})]},E.id)),y&&_.jsxs(_.Fragment,{children:[!h&&_.jsxs("div",{style:{marginTop:"0.75rem"},children:[_.jsxs("button",{onClick:()=>g(!0),className:"pulse-button",style:{width:"100%",padding:"0.375rem 0.75rem",background:"#c7d2fe",color:"#1e293b",border:"2px solid #6366f1",borderRadius:"6px",cursor:"pointer",fontSize:e?"0.75rem":"0.8125rem",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.375rem",transition:"all 0.3s ease",boxShadow:"0 1px 3px rgba(99, 102, 241, 0.2)",position:"relative",overflow:"hidden",minHeight:"1.875rem",height:"1.875rem"},onMouseEnter:E=>{E.currentTarget.style.background="#6366f1",E.currentTarget.style.color="white",E.currentTarget.style.boxShadow="0 4px 12px rgba(99, 102, 241, 0.4)",E.currentTarget.style.transform="translateY(-1px)";const N=E.currentTarget.querySelector("span:first-child"),L=E.currentTarget.querySelector("span:last-child");N&&(N.style.color="white"),L&&(L.style.color="white")},onMouseLeave:E=>{E.currentTarget.style.background="#c7d2fe",E.currentTarget.style.color="#1e293b",E.currentTarget.style.boxShadow="0 1px 3px rgba(99, 102, 241, 0.2)",E.currentTarget.style.transform="translateY(0)";const N=E.currentTarget.querySelector("span:first-child"),L=E.currentTarget.querySelector("span:last-child");N&&(N.style.color="#1e293b"),L&&(L.style.color="#1e293b")},children:[_.jsx("span",{style:{fontSize:"1.125rem",transition:"all 0.3s ease",display:"inline-block",fontWeight:"bold",animation:"arrowPulse 1.5s ease-in-out infinite",color:"#1e293b"},children:""}),_.jsx("span",{style:{color:"#1e293b",transition:"color 0.3s ease"},children:`+ ${S.length} rn daha`})]}),_.jsx("style",{children:`
                    @keyframes arrowPulse {
                      0%, 100% {
                        opacity: 1;
                        transform: translateY(0) scale(1);
                      }
                      50% {
                        opacity: 0.6;
                        transform: translateY(4px) scale(1.1);
                      }
                    }
                    .pulse-button {
                      animation: backgroundPulse 2s ease-in-out infinite;
                    }
                    @keyframes backgroundPulse {
                      0%, 100% {
                        background-color: #c7d2fe;
                        border-color: #6366f1;
                      }
                      50% {
                        background-color: #a5b4fc;
                        border-color: #818cf8;
                        box-shadow: 0 2px 8px rgba(99, 102, 241, 0.3);
                      }
                    }
                  `})]}),h&&_.jsxs("div",{style:{marginTop:"0.75rem",paddingTop:"0.75rem",borderTop:"2px solid #e2e8f0",animation:"slideDown 0.3s ease"},children:[S.map((E,N)=>_.jsxs("div",{style:{padding:N<S.length-1?"0.75rem 0":"0.75rem 0 0 0",borderBottom:N<S.length-1?"1px solid #cbd5e1":"none"},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[_.jsxs("span",{style:{fontSize:e?"1.25rem":"1.5rem",fontWeight:"bold",color:"#1e293b",minWidth:"2rem",textAlign:"center"},children:[E.quantity,""]}),_.jsx("span",{style:{fontSize:e?"1.125rem":"1.25rem",fontWeight:"700",color:"#1e293b",flex:1},children:E.product_name})]}),_.jsx("div",{style:{marginLeft:e?"2.5rem":"3rem",marginTop:"0.25rem"},children:_.jsxs("span",{style:{color:"#94a3b8",fontSize:e?"0.75rem":"0.8125rem",fontWeight:"400",display:"flex",alignItems:"center",gap:"0.25rem",flexWrap:"wrap"},children:[_.jsx(Ur,{price:parseFloat(E.product_price),fontSize:e?"0.75rem":"0.8125rem",fontWeight:"400",color:"#94a3b8"}),_.jsxs("span",{children:[" ",E.quantity," ="]}),_.jsx(Ur,{price:parseFloat(E.subtotal),fontSize:e?"0.8125rem":"0.875rem",fontWeight:"500",color:"#64748b"})]})}),E.notes&&_.jsx("div",{style:{marginLeft:e?"2.5rem":"3rem",marginTop:"0.5rem",padding:"0.375rem 0.75rem",background:"#fef3c7",borderRadius:"4px",borderLeft:"3px solid #f59e0b"},children:_.jsxs("p",{style:{margin:0,color:"#92400e",fontSize:e?"0.75rem":"0.8125rem",fontStyle:"italic",fontWeight:"500"},children:[" ",E.notes]})})]},E.id)),_.jsx("div",{style:{marginTop:"0.75rem",paddingTop:"0.75rem",borderTop:"1px solid #cbd5e1"},children:_.jsxs("button",{onClick:()=>g(!1),style:{width:"100%",padding:"0.375rem 0.75rem",background:"transparent",color:"#6366f1",border:"2px solid #6366f1",borderRadius:"6px",cursor:"pointer",fontSize:e?"0.75rem":"0.8125rem",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.375rem",transition:"all 0.3s ease",minHeight:"1.875rem",height:"1.875rem"},onMouseEnter:E=>{E.currentTarget.style.background="#6366f1",E.currentTarget.style.color="white"},onMouseLeave:E=>{E.currentTarget.style.background="transparent",E.currentTarget.style.color="#6366f1"},children:[_.jsx("span",{style:{fontSize:"0.875rem",transform:"rotate(180deg)",transition:"transform 0.2s ease",display:"inline-block"},children:""}),_.jsx("span",{children:"Daha Az Gster"})]})})]})]})]}),t.notes&&_.jsx("div",{style:{marginBottom:"1rem",padding:e?"0.75rem":"1rem",background:"#fef3c7",borderRadius:"6px",borderLeft:"3px solid #f59e0b"},children:_.jsxs("p",{style:{margin:0,color:"#92400e",fontSize:e?"0.875rem":"0.9375rem"},children:[_.jsx("strong",{children:" Not:"})," ",t.notes]})}),f.length>0&&_.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.75rem",marginTop:"1rem"},children:f.map((E,N)=>_.jsxs("button",{onClick:()=>u(t.id,E.action),style:{padding:e?"0.75rem 1.25rem":"0.875rem 1.75rem",background:E.color,color:"white",border:"none",borderRadius:"8px",fontSize:e?"0.875rem":"0.9375rem",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",boxShadow:"0 2px 8px rgba(0,0,0,0.15)",transition:"all 0.2s ease",minWidth:e?"120px":"140px",justifyContent:"center",letterSpacing:"0.01em"},onMouseEnter:L=>{L.currentTarget.style.transform="translateY(-2px)",L.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.25)",L.currentTarget.style.opacity="0.95"},onMouseLeave:L=>{L.currentTarget.style.transform="translateY(0)",L.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.15)",L.currentTarget.style.opacity="1"},onMouseDown:L=>{L.currentTarget.style.transform="translateY(0) scale(0.98)"},onMouseUp:L=>{L.currentTarget.style.transform="translateY(-2px) scale(1)"},children:[E.icon&&_.jsx("span",{style:{fontSize:"1.125rem",lineHeight:1},children:E.icon}),_.jsx("span",{children:E.label})]},`${E.action}-${N}`))})]})}function kd({title:t,value:e,color:n,isMobile:a}){return _.jsxs("div",{style:{background:"white",padding:a?"1rem":"1.5rem",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",borderTop:`3px solid ${n}`},children:[_.jsx("p",{style:{margin:0,color:"#64748b",fontSize:a?"0.75rem":"0.875rem",marginBottom:"0.5rem"},children:t}),_.jsx("p",{style:{margin:0,fontSize:a?"1.5rem":"2rem",fontWeight:"bold",color:"#1e293b"},children:e})]})}function OA(t,e={}){const[n,a]=j.useState([]),[o,s]=j.useState(!0),[u,d]=j.useState(null),{status:f=null,limit:h=null,orderBy:g="created_at",ascending:w=!1}=e;return j.useEffect(()=>{if(!t){s(!1);return}(async()=>{console.log("Fetching orders from Supabase...",{businessId:t,status:f,orderBy:g,ascending:w});try{s(!0),d(null);let T=ct.from("orders").select(`
            *,
            order_items (
              id,
              product_name,
              product_price,
              quantity,
              notes,
              subtotal
            )
          `).eq("business_id",t);f&&(T=T.eq("status",f)),T=T.order(g,{ascending:w}),h&&(T=T.limit(h));const{data:E,error:N}=await T;if(N)throw N;a(E||[])}catch(T){d(T.message),console.error("Orders fetch error:",T)}finally{s(!1)}})();const y=ct.channel(`orders:${t}`).on("postgres_changes",{event:"*",schema:"public",table:"orders",filter:`business_id=eq.${t}`},T=>{console.log("Realtime order change:",T.eventType,T),T.eventType==="INSERT"&&ct.from("orders").select(`
                *,
                order_items (
                  id,
                  product_name,
                  product_price,
                  quantity,
                  notes,
                  subtotal
                )
              `).eq("id",T.new.id).single().then(({data:E,error:N})=>{E&&!N&&a(L=>L.find(D=>D.id===E.id)?L.map(D=>D.id===E.id?E:D):[E,...L])}),T.eventType==="UPDATE"&&ct.from("orders").select(`
                *,
                order_items (
                  id,
                  product_name,
                  product_price,
                  quantity,
                  notes,
                  subtotal
                )
              `).eq("id",T.new.id).single().then(({data:E,error:N})=>{E&&!N&&a(L=>L.map(I=>I.id===E.id?E:I))}),T.eventType==="DELETE"&&(console.log("Order deleted from Supabase:",T.old.id),a(E=>{const N=E.filter(L=>L.id!==T.old.id);return console.log("Orders after delete:",N.length,"remaining"),N}))}).subscribe();return()=>{ct.removeChannel(y)}},[t,f,h,g,w]),{orders:n,loading:o,error:u}}const DA="modulepreload",zA=function(t){return"/erzurumkafe/"+t},j5={},Hp=function(e,n,a){let o=Promise.resolve();if(n&&n.length>0){let f=function(h){return Promise.all(h.map(g=>Promise.resolve(g).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=u?.nonce||u?.getAttribute("nonce");o=f(n.map(h=>{if(h=zA(h),h in j5)return;j5[h]=!0;const g=h.endsWith(".css"),w=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${w}`))return;const S=document.createElement("link");if(S.rel=g?"stylesheet":DA,g||(S.as="script"),S.crossOrigin="",S.href=h,d&&S.setAttribute("nonce",d),document.head.appendChild(S),g)return new Promise((y,T)=>{S.addEventListener("load",y),S.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return o.then(u=>{for(const d of u||[])d.status==="rejected"&&s(d.reason);return e().catch(s)})};function Cn(t){"@babel/helpers - typeof";return Cn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cn(t)}var Ts=Uint8Array,Sa=Uint16Array,dm=Int32Array,fm=new Ts([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),hm=new Ts([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),O5=new Ts([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),bb=function(t,e){for(var n=new Sa(31),a=0;a<31;++a)n[a]=e+=1<<t[a-1];for(var o=new dm(n[30]),a=1;a<30;++a)for(var s=n[a];s<n[a+1];++s)o[s]=s-n[a]<<5|a;return{b:n,r:o}},wb=bb(fm,2),BA=wb.b,Rg=wb.r;BA[28]=258,Rg[258]=28;var IA=bb(hm,0),D5=IA.r,jg=new Sa(32768);for(var Zn=0;Zn<32768;++Zn){var _l=(Zn&43690)>>1|(Zn&21845)<<1;_l=(_l&52428)>>2|(_l&13107)<<2,_l=(_l&61680)>>4|(_l&3855)<<4,jg[Zn]=((_l&65280)>>8|(_l&255)<<8)>>1}var Id=(function(t,e,n){for(var a=t.length,o=0,s=new Sa(e);o<a;++o)t[o]&&++s[t[o]-1];var u=new Sa(e);for(o=1;o<e;++o)u[o]=u[o-1]+s[o-1]<<1;var d;if(n){d=new Sa(1<<e);var f=15-e;for(o=0;o<a;++o)if(t[o])for(var h=o<<4|t[o],g=e-t[o],w=u[t[o]-1]++<<g,S=w|(1<<g)-1;w<=S;++w)d[jg[w]>>f]=h}else for(d=new Sa(a),o=0;o<a;++o)t[o]&&(d[o]=jg[u[t[o]-1]++]>>15-t[o]);return d}),bu=new Ts(288);for(var Zn=0;Zn<144;++Zn)bu[Zn]=8;for(var Zn=144;Zn<256;++Zn)bu[Zn]=9;for(var Zn=256;Zn<280;++Zn)bu[Zn]=7;for(var Zn=280;Zn<288;++Zn)bu[Zn]=8;var Uh=new Ts(32);for(var Zn=0;Zn<32;++Zn)Uh[Zn]=5;var MA=Id(bu,9,0),PA=Id(Uh,5,0),xb=function(t){return(t+7)/8|0},UA=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new Ts(t.subarray(e,n))},Ro=function(t,e,n){n<<=e&7;var a=e/8|0;t[a]|=n,t[a+1]|=n>>8},Nd=function(t,e,n){n<<=e&7;var a=e/8|0;t[a]|=n,t[a+1]|=n>>8,t[a+2]|=n>>16},$p=function(t,e){for(var n=[],a=0;a<t.length;++a)t[a]&&n.push({s:a,f:t[a]});var o=n.length,s=n.slice();if(!o)return{t:Sb,l:0};if(o==1){var u=new Ts(n[0].s+1);return u[n[0].s]=1,{t:u,l:1}}n.sort(function(ce,he){return ce.f-he.f}),n.push({s:-1,f:25001});var d=n[0],f=n[1],h=0,g=1,w=2;for(n[0]={s:-1,f:d.f+f.f,l:d,r:f};g!=o-1;)d=n[n[h].f<n[w].f?h++:w++],f=n[h!=g&&n[h].f<n[w].f?h++:w++],n[g++]={s:-1,f:d.f+f.f,l:d,r:f};for(var S=s[0].s,a=1;a<o;++a)s[a].s>S&&(S=s[a].s);var y=new Sa(S+1),T=Og(n[g-1],y,0);if(T>e){var a=0,E=0,N=T-e,L=1<<N;for(s.sort(function(he,le){return y[le.s]-y[he.s]||he.f-le.f});a<o;++a){var I=s[a].s;if(y[I]>e)E+=L-(1<<T-y[I]),y[I]=e;else break}for(E>>=N;E>0;){var D=s[a].s;y[D]<e?E-=1<<e-y[D]++-1:++a}for(;a>=0&&E;--a){var $=s[a].s;y[$]==e&&(--y[$],++E)}T=e}return{t:new Ts(y),l:T}},Og=function(t,e,n){return t.s==-1?Math.max(Og(t.l,e,n+1),Og(t.r,e,n+1)):e[t.s]=n},z5=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Sa(++e),a=0,o=t[0],s=1,u=function(f){n[a++]=f},d=1;d<=e;++d)if(t[d]==o&&d!=e)++s;else{if(!o&&s>2){for(;s>138;s-=138)u(32754);s>2&&(u(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(u(o),--s;s>6;s-=6)u(8304);s>2&&(u(s-3<<5|8208),s=0)}for(;s--;)u(o);s=1,o=t[d]}return{c:n.subarray(0,a),n:e}},Cd=function(t,e){for(var n=0,a=0;a<e.length;++a)n+=t[a]*e[a];return n},_b=function(t,e,n){var a=n.length,o=xb(e+2);t[o]=a&255,t[o+1]=a>>8,t[o+2]=t[o]^255,t[o+3]=t[o+1]^255;for(var s=0;s<a;++s)t[o+s+4]=n[s];return(o+4+a)*8},B5=function(t,e,n,a,o,s,u,d,f,h,g){Ro(e,g++,n),++o[256];for(var w=$p(o,15),S=w.t,y=w.l,T=$p(s,15),E=T.t,N=T.l,L=z5(S),I=L.c,D=L.n,$=z5(E),ce=$.c,he=$.n,le=new Sa(19),W=0;W<I.length;++W)++le[I[W]&31];for(var W=0;W<ce.length;++W)++le[ce[W]&31];for(var P=$p(le,7),oe=P.t,M=P.l,X=19;X>4&&!oe[O5[X-1]];--X);var ae=h+5<<3,J=Cd(o,bu)+Cd(s,Uh)+u,pe=Cd(o,S)+Cd(s,E)+u+14+3*X+Cd(le,oe)+2*le[16]+3*le[17]+7*le[18];if(f>=0&&ae<=J&&ae<=pe)return _b(e,g,t.subarray(f,f+h));var F,se,ue,be;if(Ro(e,g,1+(pe<J)),g+=2,pe<J){F=Id(S,y,0),se=S,ue=Id(E,N,0),be=E;var Oe=Id(oe,M,0);Ro(e,g,D-257),Ro(e,g+5,he-1),Ro(e,g+10,X-4),g+=14;for(var W=0;W<X;++W)Ro(e,g+3*W,oe[O5[W]]);g+=3*X;for(var Y=[I,ce],C=0;C<2;++C)for(var U=Y[C],W=0;W<U.length;++W){var Z=U[W]&31;Ro(e,g,Oe[Z]),g+=oe[Z],Z>15&&(Ro(e,g,U[W]>>5&127),g+=U[W]>>12)}}else F=MA,se=bu,ue=PA,be=Uh;for(var W=0;W<d;++W){var V=a[W];if(V>255){var Z=V>>18&31;Nd(e,g,F[Z+257]),g+=se[Z+257],Z>7&&(Ro(e,g,V>>23&31),g+=fm[Z]);var ee=V&31;Nd(e,g,ue[ee]),g+=be[ee],ee>3&&(Nd(e,g,V>>5&8191),g+=hm[ee])}else Nd(e,g,F[V]),g+=se[V]}return Nd(e,g,F[256]),g+se[256]},qA=new dm([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Sb=new Ts(0),FA=function(t,e,n,a,o,s){var u=s.z||t.length,d=new Ts(a+u+5*(1+Math.ceil(u/7e3))+o),f=d.subarray(a,d.length-o),h=s.l,g=(s.r||0)&7;if(e){g&&(f[0]=s.r>>3);for(var w=qA[e-1],S=w>>13,y=w&8191,T=(1<<n)-1,E=s.p||new Sa(32768),N=s.h||new Sa(T+1),L=Math.ceil(n/3),I=2*L,D=function(ke){return(t[ke]^t[ke+1]<<L^t[ke+2]<<I)&T},$=new dm(25e3),ce=new Sa(288),he=new Sa(32),le=0,W=0,P=s.i||0,oe=0,M=s.w||0,X=0;P+2<u;++P){var ae=D(P),J=P&32767,pe=N[ae];if(E[J]=pe,N[ae]=J,M<=P){var F=u-P;if((le>7e3||oe>24576)&&(F>423||!h)){g=B5(t,f,0,$,ce,he,W,oe,X,P-X,g),oe=le=W=0,X=P;for(var se=0;se<286;++se)ce[se]=0;for(var se=0;se<30;++se)he[se]=0}var ue=2,be=0,Oe=y,Y=J-pe&32767;if(F>2&&ae==D(P-Y))for(var C=Math.min(S,F)-1,U=Math.min(32767,P),Z=Math.min(258,F);Y<=U&&--Oe&&J!=pe;){if(t[P+ue]==t[P+ue-Y]){for(var V=0;V<Z&&t[P+V]==t[P+V-Y];++V);if(V>ue){if(ue=V,be=Y,V>C)break;for(var ee=Math.min(Y,V-2),de=0,se=0;se<ee;++se){var _e=P-Y+se&32767,xe=E[_e],Ne=_e-xe&32767;Ne>de&&(de=Ne,pe=_e)}}}J=pe,pe=E[J],Y+=J-pe&32767}if(be){$[oe++]=268435456|Rg[ue]<<18|D5[be];var We=Rg[ue]&31,Xe=D5[be]&31;W+=fm[We]+hm[Xe],++ce[257+We],++he[Xe],M=P+ue,++le}else $[oe++]=t[P],++ce[t[P]]}}for(P=Math.max(P,M);P<u;++P)$[oe++]=t[P],++ce[t[P]];g=B5(t,f,h,$,ce,he,W,oe,X,P-X,g),h||(s.r=g&7|f[g/8|0]<<3,g-=7,s.h=N,s.p=E,s.i=P,s.w=M)}else{for(var P=s.w||0;P<u+h;P+=65535){var Ee=P+65535;Ee>=u&&(f[g/8|0]=h,Ee=u),g=_b(f,g+1,t.subarray(P,Ee))}s.i=u}return UA(d,0,a+xb(g)+o)},Ab=function(){var t=1,e=0;return{p:function(n){for(var a=t,o=e,s=n.length|0,u=0;u!=s;){for(var d=Math.min(u+2655,s);u<d;++u)o+=a+=n[u];a=(a&65535)+15*(a>>16),o=(o&65535)+15*(o>>16)}t=a,e=o},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},HA=function(t,e,n,a,o){if(!o&&(o={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),u=new Ts(s.length+t.length);u.set(s),u.set(t,s.length),t=u,o.w=s.length}return FA(t,e.level==null?6:e.level,e.mem==null?o.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,a,o)},Eb=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},$A=function(t,e){var n=e.level,a=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=a<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var o=Ab();o.p(e.dictionary),Eb(t,2,o.d())}};function Dg(t,e){e||(e={});var n=Ab();n.p(t);var a=HA(t,e,e.dictionary?6:2,4);return $A(a,e),Eb(a,a.length-4,n.d()),a}var WA=typeof TextDecoder<"u"&&new TextDecoder,GA=0;try{WA.decode(Sb,{stream:!0}),GA=1}catch{}function YA(t){if(Array.isArray(t))return t}function VA(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var a,o,s,u,d=[],f=!0,h=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(f=(a=s.call(n)).done)&&(d.push(a.value),d.length!==e);f=!0);}catch(g){h=!0,o=g}finally{try{if(!f&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(h)throw o}}return d}}function I5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,a=Array(e);n<e;n++)a[n]=t[n];return a}function KA(t,e){if(t){if(typeof t=="string")return I5(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I5(t,e):void 0}}function XA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M5(t,e){return YA(t)||VA(t,e)||KA(t,e)||XA()}function P5(t,e="utf8"){return new TextDecoder(e).decode(t)}const JA=new TextEncoder;function ZA(t){return JA.encode(t)}const QA=1024*8,eE=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),Wp={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class pm{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=QA,n={}){let a=!1;typeof e=="number"?e=new ArrayBuffer(e):(a=!0,this.lastWrittenByte=e.byteLength);const o=n.offset?n.offset>>>0:0,s=e.byteLength-o;let u=o;(ArrayBuffer.isView(e)||e instanceof pm)&&(e.byteLength!==e.buffer.byteLength&&(u=e.byteOffset+o),e=e.buffer),a?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=u,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,u,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const a=(this.offset+e)*2,o=new Uint8Array(a);o.set(new Uint8Array(this.buffer)),this.buffer=o.buffer,this.length=a,this.byteLength=a,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const a=Wp[n].BYTES_PER_ELEMENT*e,o=this.byteOffset+this.offset,s=this.buffer.slice(o,o+a);if(this.littleEndian===eE&&n!=="uint8"&&n!=="int8"){const d=new Uint8Array(this.buffer.slice(o,o+a));d.reverse();const f=new Wp[n](d.buffer);return this.offset+=a,f.reverse(),f}const u=new Wp[n](s);return this.offset+=a,u}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let a=0;a<e;a++)n+=this.readChar();return n}readUtf8(e=1){return P5(this.readBytes(e))}decodeText(e=1,n="utf8"){return P5(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(ZA(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Fc(t){let e=t.length;for(;--e>=0;)t[e]=0}const tE=3,nE=258,Tb=29,rE=256,iE=rE+1+Tb,kb=30,aE=512,sE=new Array((iE+2)*2);Fc(sE);const oE=new Array(kb*2);Fc(oE);const lE=new Array(aE);Fc(lE);const uE=new Array(nE-tE+1);Fc(uE);const cE=new Array(Tb);Fc(cE);const dE=new Array(kb);Fc(dE);const fE=(t,e,n,a)=>{let o=t&65535|0,s=t>>>16&65535|0,u=0;for(;n!==0;){u=n>2e3?2e3:n,n-=u;do o=o+e[a++]|0,s=s+o|0;while(--u);o%=65521,s%=65521}return o|s<<16|0};var zg=fE;const hE=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var a=0;a<8;a++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},pE=new Uint32Array(hE()),gE=(t,e,n,a)=>{const o=pE,s=a+n;t^=-1;for(let u=a;u<s;u++)t=t>>>8^o[(t^e[u])&255];return t^-1};var Ks=gE,Bg={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Nb={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const mE=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var yE=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const a in n)mE(n,a)&&(t[a]=n[a])}}return t},vE=t=>{let e=0;for(let a=0,o=t.length;a<o;a++)e+=t[a].length;const n=new Uint8Array(e);for(let a=0,o=0,s=t.length;a<s;a++){let u=t[a];n.set(u,o),o+=u.length}return n},Cb={assign:yE,flattenChunks:vE};let Lb=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Lb=!1}const Kd=new Uint8Array(256);for(let t=0;t<256;t++)Kd[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Kd[254]=Kd[254]=1;var bE=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,a,o,s,u=t.length,d=0;for(o=0;o<u;o++)n=t.charCodeAt(o),(n&64512)===55296&&o+1<u&&(a=t.charCodeAt(o+1),(a&64512)===56320&&(n=65536+(n-55296<<10)+(a-56320),o++)),d+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(d),s=0,o=0;s<d;o++)n=t.charCodeAt(o),(n&64512)===55296&&o+1<u&&(a=t.charCodeAt(o+1),(a&64512)===56320&&(n=65536+(n-55296<<10)+(a-56320),o++)),n<128?e[s++]=n:n<2048?(e[s++]=192|n>>>6,e[s++]=128|n&63):n<65536?(e[s++]=224|n>>>12,e[s++]=128|n>>>6&63,e[s++]=128|n&63):(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63,e[s++]=128|n>>>6&63,e[s++]=128|n&63);return e};const wE=(t,e)=>{if(e<65534&&t.subarray&&Lb)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let a=0;a<e;a++)n+=String.fromCharCode(t[a]);return n};var xE=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let a,o;const s=new Array(n*2);for(o=0,a=0;a<n;){let u=t[a++];if(u<128){s[o++]=u;continue}let d=Kd[u];if(d>4){s[o++]=65533,a+=d-1;continue}for(u&=d===2?31:d===3?15:7;d>1&&a<n;)u=u<<6|t[a++]&63,d--;if(d>1){s[o++]=65533;continue}u<65536?s[o++]=u:(u-=65536,s[o++]=55296|u>>10&1023,s[o++]=56320|u&1023)}return wE(s,o)},_E=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+Kd[t[n]]>e?n:e},Ig={string2buf:bE,buf2string:xE,utf8border:_E};function SE(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var AE=SE;const ch=16209,EE=16191;var TE=function(e,n){let a,o,s,u,d,f,h,g,w,S,y,T,E,N,L,I,D,$,ce,he,le,W,P,oe;const M=e.state;a=e.next_in,P=e.input,o=a+(e.avail_in-5),s=e.next_out,oe=e.output,u=s-(n-e.avail_out),d=s+(e.avail_out-257),f=M.dmax,h=M.wsize,g=M.whave,w=M.wnext,S=M.window,y=M.hold,T=M.bits,E=M.lencode,N=M.distcode,L=(1<<M.lenbits)-1,I=(1<<M.distbits)-1;e:do{T<15&&(y+=P[a++]<<T,T+=8,y+=P[a++]<<T,T+=8),D=E[y&L];t:for(;;){if($=D>>>24,y>>>=$,T-=$,$=D>>>16&255,$===0)oe[s++]=D&65535;else if($&16){ce=D&65535,$&=15,$&&(T<$&&(y+=P[a++]<<T,T+=8),ce+=y&(1<<$)-1,y>>>=$,T-=$),T<15&&(y+=P[a++]<<T,T+=8,y+=P[a++]<<T,T+=8),D=N[y&I];n:for(;;){if($=D>>>24,y>>>=$,T-=$,$=D>>>16&255,$&16){if(he=D&65535,$&=15,T<$&&(y+=P[a++]<<T,T+=8,T<$&&(y+=P[a++]<<T,T+=8)),he+=y&(1<<$)-1,he>f){e.msg="invalid distance too far back",M.mode=ch;break e}if(y>>>=$,T-=$,$=s-u,he>$){if($=he-$,$>g&&M.sane){e.msg="invalid distance too far back",M.mode=ch;break e}if(le=0,W=S,w===0){if(le+=h-$,$<ce){ce-=$;do oe[s++]=S[le++];while(--$);le=s-he,W=oe}}else if(w<$){if(le+=h+w-$,$-=w,$<ce){ce-=$;do oe[s++]=S[le++];while(--$);if(le=0,w<ce){$=w,ce-=$;do oe[s++]=S[le++];while(--$);le=s-he,W=oe}}}else if(le+=w-$,$<ce){ce-=$;do oe[s++]=S[le++];while(--$);le=s-he,W=oe}for(;ce>2;)oe[s++]=W[le++],oe[s++]=W[le++],oe[s++]=W[le++],ce-=3;ce&&(oe[s++]=W[le++],ce>1&&(oe[s++]=W[le++]))}else{le=s-he;do oe[s++]=oe[le++],oe[s++]=oe[le++],oe[s++]=oe[le++],ce-=3;while(ce>2);ce&&(oe[s++]=oe[le++],ce>1&&(oe[s++]=oe[le++]))}}else if(($&64)===0){D=N[(D&65535)+(y&(1<<$)-1)];continue n}else{e.msg="invalid distance code",M.mode=ch;break e}break}}else if(($&64)===0){D=E[(D&65535)+(y&(1<<$)-1)];continue t}else if($&32){M.mode=EE;break e}else{e.msg="invalid literal/length code",M.mode=ch;break e}break}}while(a<o&&s<d);ce=T>>3,a-=ce,T-=ce<<3,y&=(1<<T)-1,e.next_in=a,e.next_out=s,e.avail_in=a<o?5+(o-a):5-(a-o),e.avail_out=s<d?257+(d-s):257-(s-d),M.hold=y,M.bits=T};const bc=15,U5=852,q5=592,F5=0,Gp=1,H5=2,kE=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),NE=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),CE=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),LE=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),RE=(t,e,n,a,o,s,u,d)=>{const f=d.bits;let h=0,g=0,w=0,S=0,y=0,T=0,E=0,N=0,L=0,I=0,D,$,ce,he,le,W=null,P;const oe=new Uint16Array(bc+1),M=new Uint16Array(bc+1);let X=null,ae,J,pe;for(h=0;h<=bc;h++)oe[h]=0;for(g=0;g<a;g++)oe[e[n+g]]++;for(y=f,S=bc;S>=1&&oe[S]===0;S--);if(y>S&&(y=S),S===0)return o[s++]=1<<24|64<<16|0,o[s++]=1<<24|64<<16|0,d.bits=1,0;for(w=1;w<S&&oe[w]===0;w++);for(y<w&&(y=w),N=1,h=1;h<=bc;h++)if(N<<=1,N-=oe[h],N<0)return-1;if(N>0&&(t===F5||S!==1))return-1;for(M[1]=0,h=1;h<bc;h++)M[h+1]=M[h]+oe[h];for(g=0;g<a;g++)e[n+g]!==0&&(u[M[e[n+g]]++]=g);if(t===F5?(W=X=u,P=20):t===Gp?(W=kE,X=NE,P=257):(W=CE,X=LE,P=0),I=0,g=0,h=w,le=s,T=y,E=0,ce=-1,L=1<<y,he=L-1,t===Gp&&L>U5||t===H5&&L>q5)return 1;for(;;){ae=h-E,u[g]+1<P?(J=0,pe=u[g]):u[g]>=P?(J=X[u[g]-P],pe=W[u[g]-P]):(J=96,pe=0),D=1<<h-E,$=1<<T,w=$;do $-=D,o[le+(I>>E)+$]=ae<<24|J<<16|pe|0;while($!==0);for(D=1<<h-1;I&D;)D>>=1;if(D!==0?(I&=D-1,I+=D):I=0,g++,--oe[h]===0){if(h===S)break;h=e[n+u[g]]}if(h>y&&(I&he)!==ce){for(E===0&&(E=y),le+=w,T=h-E,N=1<<T;T+E<S&&(N-=oe[T+E],!(N<=0));)T++,N<<=1;if(L+=1<<T,t===Gp&&L>U5||t===H5&&L>q5)return 1;ce=I&he,o[ce]=y<<24|T<<16|le-s|0}}return I!==0&&(o[le+I]=h-E<<24|64<<16|0),d.bits=y,0};var Md=RE;const jE=0,Rb=1,jb=2,{Z_FINISH:$5,Z_BLOCK:OE,Z_TREES:dh,Z_OK:wu,Z_STREAM_END:DE,Z_NEED_DICT:zE,Z_STREAM_ERROR:Ga,Z_DATA_ERROR:Ob,Z_MEM_ERROR:Db,Z_BUF_ERROR:BE,Z_DEFLATED:W5}=Nb,l0=16180,G5=16181,Y5=16182,V5=16183,K5=16184,X5=16185,J5=16186,Z5=16187,Q5=16188,ey=16189,qh=16190,jo=16191,Yp=16192,ty=16193,Vp=16194,ny=16195,ry=16196,iy=16197,ay=16198,fh=16199,hh=16200,sy=16201,oy=16202,ly=16203,uy=16204,cy=16205,Kp=16206,dy=16207,fy=16208,rr=16209,zb=16210,Bb=16211,IE=852,ME=592,PE=15,UE=PE,hy=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function qE(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const xu=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<l0||e.mode>Bb?1:0},Ib=t=>{if(xu(t))return Ga;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=l0,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(IE),e.distcode=e.distdyn=new Int32Array(ME),e.sane=1,e.back=-1,wu},Mb=t=>{if(xu(t))return Ga;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Ib(t)},Pb=(t,e)=>{let n;if(xu(t))return Ga;const a=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Ga:(a.window!==null&&a.wbits!==e&&(a.window=null),a.wrap=n,a.wbits=e,Mb(t))},Ub=(t,e)=>{if(!t)return Ga;const n=new qE;t.state=n,n.strm=t,n.window=null,n.mode=l0;const a=Pb(t,e);return a!==wu&&(t.state=null),a},FE=t=>Ub(t,UE);let py=!0,Xp,Jp;const HE=t=>{if(py){Xp=new Int32Array(512),Jp=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Md(Rb,t.lens,0,288,Xp,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Md(jb,t.lens,0,32,Jp,0,t.work,{bits:5}),py=!1}t.lencode=Xp,t.lenbits=9,t.distcode=Jp,t.distbits=5},qb=(t,e,n,a)=>{let o;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),a>=s.wsize?(s.window.set(e.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(o=s.wsize-s.wnext,o>a&&(o=a),s.window.set(e.subarray(n-a,n-a+o),s.wnext),a-=o,a?(s.window.set(e.subarray(n-a,n),0),s.wnext=a,s.whave=s.wsize):(s.wnext+=o,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=o))),0},$E=(t,e)=>{let n,a,o,s,u,d,f,h,g,w,S,y,T,E,N=0,L,I,D,$,ce,he,le,W;const P=new Uint8Array(4);let oe,M;const X=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(xu(t)||!t.output||!t.input&&t.avail_in!==0)return Ga;n=t.state,n.mode===jo&&(n.mode=Yp),u=t.next_out,o=t.output,f=t.avail_out,s=t.next_in,a=t.input,d=t.avail_in,h=n.hold,g=n.bits,w=d,S=f,W=wu;e:for(;;)switch(n.mode){case l0:if(n.wrap===0){n.mode=Yp;break}for(;g<16;){if(d===0)break e;d--,h+=a[s++]<<g,g+=8}if(n.wrap&2&&h===35615){n.wbits===0&&(n.wbits=15),n.check=0,P[0]=h&255,P[1]=h>>>8&255,n.check=Ks(n.check,P,2,0),h=0,g=0,n.mode=G5;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((h&255)<<8)+(h>>8))%31){t.msg="incorrect header check",n.mode=rr;break}if((h&15)!==W5){t.msg="unknown compression method",n.mode=rr;break}if(h>>>=4,g-=4,le=(h&15)+8,n.wbits===0&&(n.wbits=le),le>15||le>n.wbits){t.msg="invalid window size",n.mode=rr;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=h&512?ey:jo,h=0,g=0;break;case G5:for(;g<16;){if(d===0)break e;d--,h+=a[s++]<<g,g+=8}if(n.flags=h,(n.flags&255)!==W5){t.msg="unknown compression method",n.mode=rr;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=rr;break}n.head&&(n.head.text=h>>8&1),n.flags&512&&n.wrap&4&&(P[0]=h&255,P[1]=h>>>8&255,n.check=Ks(n.check,P,2,0)),h=0,g=0,n.mode=Y5;case Y5:for(;g<32;){if(d===0)break e;d--,h+=a[s++]<<g,g+=8}n.head&&(n.head.time=h),n.flags&512&&n.wrap&4&&(P[0]=h&255,P[1]=h>>>8&255,P[2]=h>>>16&255,P[3]=h>>>24&255,n.check=Ks(n.check,P,4,0)),h=0,g=0,n.mode=V5;case V5:for(;g<16;){if(d===0)break e;d--,h+=a[s++]<<g,g+=8}n.head&&(n.head.xflags=h&255,n.head.os=h>>8),n.flags&512&&n.wrap&4&&(P[0]=h&255,P[1]=h>>>8&255,n.check=Ks(n.check,P,2,0)),h=0,g=0,n.mode=K5;case K5:if(n.flags&1024){for(;g<16;){if(d===0)break e;d--,h+=a[s++]<<g,g+=8}n.length=h,n.head&&(n.head.extra_len=h),n.flags&512&&n.wrap&4&&(P[0]=h&255,P[1]=h>>>8&255,n.check=Ks(n.check,P,2,0)),h=0,g=0}else n.head&&(n.head.extra=null);n.mode=X5;case X5:if(n.flags&1024&&(y=n.length,y>d&&(y=d),y&&(n.head&&(le=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(a.subarray(s,s+y),le)),n.flags&512&&n.wrap&4&&(n.check=Ks(n.check,a,y,s)),d-=y,s+=y,n.length-=y),n.length))break e;n.length=0,n.mode=J5;case J5:if(n.flags&2048){if(d===0)break e;y=0;do le=a[s+y++],n.head&&le&&n.length<65536&&(n.head.name+=String.fromCharCode(le));while(le&&y<d);if(n.flags&512&&n.wrap&4&&(n.check=Ks(n.check,a,y,s)),d-=y,s+=y,le)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=Z5;case Z5:if(n.flags&4096){if(d===0)break e;y=0;do le=a[s+y++],n.head&&le&&n.length<65536&&(n.head.comment+=String.fromCharCode(le));while(le&&y<d);if(n.flags&512&&n.wrap&4&&(n.check=Ks(n.check,a,y,s)),d-=y,s+=y,le)break e}else n.head&&(n.head.comment=null);n.mode=Q5;case Q5:if(n.flags&512){for(;g<16;){if(d===0)break e;d--,h+=a[s++]<<g,g+=8}if(n.wrap&4&&h!==(n.check&65535)){t.msg="header crc mismatch",n.mode=rr;break}h=0,g=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=jo;break;case ey:for(;g<32;){if(d===0)break e;d--,h+=a[s++]<<g,g+=8}t.adler=n.check=hy(h),h=0,g=0,n.mode=qh;case qh:if(n.havedict===0)return t.next_out=u,t.avail_out=f,t.next_in=s,t.avail_in=d,n.hold=h,n.bits=g,zE;t.adler=n.check=1,n.mode=jo;case jo:if(e===OE||e===dh)break e;case Yp:if(n.last){h>>>=g&7,g-=g&7,n.mode=Kp;break}for(;g<3;){if(d===0)break e;d--,h+=a[s++]<<g,g+=8}switch(n.last=h&1,h>>>=1,g-=1,h&3){case 0:n.mode=ty;break;case 1:if(HE(n),n.mode=fh,e===dh){h>>>=2,g-=2;break e}break;case 2:n.mode=ry;break;case 3:t.msg="invalid block type",n.mode=rr}h>>>=2,g-=2;break;case ty:for(h>>>=g&7,g-=g&7;g<32;){if(d===0)break e;d--,h+=a[s++]<<g,g+=8}if((h&65535)!==(h>>>16^65535)){t.msg="invalid stored block lengths",n.mode=rr;break}if(n.length=h&65535,h=0,g=0,n.mode=Vp,e===dh)break e;case Vp:n.mode=ny;case ny:if(y=n.length,y){if(y>d&&(y=d),y>f&&(y=f),y===0)break e;o.set(a.subarray(s,s+y),u),d-=y,s+=y,f-=y,u+=y,n.length-=y;break}n.mode=jo;break;case ry:for(;g<14;){if(d===0)break e;d--,h+=a[s++]<<g,g+=8}if(n.nlen=(h&31)+257,h>>>=5,g-=5,n.ndist=(h&31)+1,h>>>=5,g-=5,n.ncode=(h&15)+4,h>>>=4,g-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=rr;break}n.have=0,n.mode=iy;case iy:for(;n.have<n.ncode;){for(;g<3;){if(d===0)break e;d--,h+=a[s++]<<g,g+=8}n.lens[X[n.have++]]=h&7,h>>>=3,g-=3}for(;n.have<19;)n.lens[X[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,oe={bits:n.lenbits},W=Md(jE,n.lens,0,19,n.lencode,0,n.work,oe),n.lenbits=oe.bits,W){t.msg="invalid code lengths set",n.mode=rr;break}n.have=0,n.mode=ay;case ay:for(;n.have<n.nlen+n.ndist;){for(;N=n.lencode[h&(1<<n.lenbits)-1],L=N>>>24,I=N>>>16&255,D=N&65535,!(L<=g);){if(d===0)break e;d--,h+=a[s++]<<g,g+=8}if(D<16)h>>>=L,g-=L,n.lens[n.have++]=D;else{if(D===16){for(M=L+2;g<M;){if(d===0)break e;d--,h+=a[s++]<<g,g+=8}if(h>>>=L,g-=L,n.have===0){t.msg="invalid bit length repeat",n.mode=rr;break}le=n.lens[n.have-1],y=3+(h&3),h>>>=2,g-=2}else if(D===17){for(M=L+3;g<M;){if(d===0)break e;d--,h+=a[s++]<<g,g+=8}h>>>=L,g-=L,le=0,y=3+(h&7),h>>>=3,g-=3}else{for(M=L+7;g<M;){if(d===0)break e;d--,h+=a[s++]<<g,g+=8}h>>>=L,g-=L,le=0,y=11+(h&127),h>>>=7,g-=7}if(n.have+y>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=rr;break}for(;y--;)n.lens[n.have++]=le}}if(n.mode===rr)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=rr;break}if(n.lenbits=9,oe={bits:n.lenbits},W=Md(Rb,n.lens,0,n.nlen,n.lencode,0,n.work,oe),n.lenbits=oe.bits,W){t.msg="invalid literal/lengths set",n.mode=rr;break}if(n.distbits=6,n.distcode=n.distdyn,oe={bits:n.distbits},W=Md(jb,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,oe),n.distbits=oe.bits,W){t.msg="invalid distances set",n.mode=rr;break}if(n.mode=fh,e===dh)break e;case fh:n.mode=hh;case hh:if(d>=6&&f>=258){t.next_out=u,t.avail_out=f,t.next_in=s,t.avail_in=d,n.hold=h,n.bits=g,TE(t,S),u=t.next_out,o=t.output,f=t.avail_out,s=t.next_in,a=t.input,d=t.avail_in,h=n.hold,g=n.bits,n.mode===jo&&(n.back=-1);break}for(n.back=0;N=n.lencode[h&(1<<n.lenbits)-1],L=N>>>24,I=N>>>16&255,D=N&65535,!(L<=g);){if(d===0)break e;d--,h+=a[s++]<<g,g+=8}if(I&&(I&240)===0){for($=L,ce=I,he=D;N=n.lencode[he+((h&(1<<$+ce)-1)>>$)],L=N>>>24,I=N>>>16&255,D=N&65535,!($+L<=g);){if(d===0)break e;d--,h+=a[s++]<<g,g+=8}h>>>=$,g-=$,n.back+=$}if(h>>>=L,g-=L,n.back+=L,n.length=D,I===0){n.mode=cy;break}if(I&32){n.back=-1,n.mode=jo;break}if(I&64){t.msg="invalid literal/length code",n.mode=rr;break}n.extra=I&15,n.mode=sy;case sy:if(n.extra){for(M=n.extra;g<M;){if(d===0)break e;d--,h+=a[s++]<<g,g+=8}n.length+=h&(1<<n.extra)-1,h>>>=n.extra,g-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=oy;case oy:for(;N=n.distcode[h&(1<<n.distbits)-1],L=N>>>24,I=N>>>16&255,D=N&65535,!(L<=g);){if(d===0)break e;d--,h+=a[s++]<<g,g+=8}if((I&240)===0){for($=L,ce=I,he=D;N=n.distcode[he+((h&(1<<$+ce)-1)>>$)],L=N>>>24,I=N>>>16&255,D=N&65535,!($+L<=g);){if(d===0)break e;d--,h+=a[s++]<<g,g+=8}h>>>=$,g-=$,n.back+=$}if(h>>>=L,g-=L,n.back+=L,I&64){t.msg="invalid distance code",n.mode=rr;break}n.offset=D,n.extra=I&15,n.mode=ly;case ly:if(n.extra){for(M=n.extra;g<M;){if(d===0)break e;d--,h+=a[s++]<<g,g+=8}n.offset+=h&(1<<n.extra)-1,h>>>=n.extra,g-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=rr;break}n.mode=uy;case uy:if(f===0)break e;if(y=S-f,n.offset>y){if(y=n.offset-y,y>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=rr;break}y>n.wnext?(y-=n.wnext,T=n.wsize-y):T=n.wnext-y,y>n.length&&(y=n.length),E=n.window}else E=o,T=u-n.offset,y=n.length;y>f&&(y=f),f-=y,n.length-=y;do o[u++]=E[T++];while(--y);n.length===0&&(n.mode=hh);break;case cy:if(f===0)break e;o[u++]=n.length,f--,n.mode=hh;break;case Kp:if(n.wrap){for(;g<32;){if(d===0)break e;d--,h|=a[s++]<<g,g+=8}if(S-=f,t.total_out+=S,n.total+=S,n.wrap&4&&S&&(t.adler=n.check=n.flags?Ks(n.check,o,S,u-S):zg(n.check,o,S,u-S)),S=f,n.wrap&4&&(n.flags?h:hy(h))!==n.check){t.msg="incorrect data check",n.mode=rr;break}h=0,g=0}n.mode=dy;case dy:if(n.wrap&&n.flags){for(;g<32;){if(d===0)break e;d--,h+=a[s++]<<g,g+=8}if(n.wrap&4&&h!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=rr;break}h=0,g=0}n.mode=fy;case fy:W=DE;break e;case rr:W=Ob;break e;case zb:return Db;case Bb:default:return Ga}return t.next_out=u,t.avail_out=f,t.next_in=s,t.avail_in=d,n.hold=h,n.bits=g,(n.wsize||S!==t.avail_out&&n.mode<rr&&(n.mode<Kp||e!==$5))&&qb(t,t.output,t.next_out,S-t.avail_out),w-=t.avail_in,S-=t.avail_out,t.total_in+=w,t.total_out+=S,n.total+=S,n.wrap&4&&S&&(t.adler=n.check=n.flags?Ks(n.check,o,S,t.next_out-S):zg(n.check,o,S,t.next_out-S)),t.data_type=n.bits+(n.last?64:0)+(n.mode===jo?128:0)+(n.mode===fh||n.mode===Vp?256:0),(w===0&&S===0||e===$5)&&W===wu&&(W=BE),W},WE=t=>{if(xu(t))return Ga;let e=t.state;return e.window&&(e.window=null),t.state=null,wu},GE=(t,e)=>{if(xu(t))return Ga;const n=t.state;return(n.wrap&2)===0?Ga:(n.head=e,e.done=!1,wu)},YE=(t,e)=>{const n=e.length;let a,o,s;return xu(t)||(a=t.state,a.wrap!==0&&a.mode!==qh)?Ga:a.mode===qh&&(o=1,o=zg(o,e,n,0),o!==a.check)?Ob:(s=qb(t,e,n,n),s?(a.mode=zb,Db):(a.havedict=1,wu))};var VE=Mb,KE=Pb,XE=Ib,JE=FE,ZE=Ub,QE=$E,e7=WE,t7=GE,n7=YE,r7="pako inflate (from Nodeca project)",Do={inflateReset:VE,inflateReset2:KE,inflateResetKeep:XE,inflateInit:JE,inflateInit2:ZE,inflate:QE,inflateEnd:e7,inflateGetHeader:t7,inflateSetDictionary:n7,inflateInfo:r7};function i7(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var a7=i7;const Fb=Object.prototype.toString,{Z_NO_FLUSH:s7,Z_FINISH:o7,Z_OK:Xd,Z_STREAM_END:Zp,Z_NEED_DICT:Qp,Z_STREAM_ERROR:l7,Z_DATA_ERROR:gy,Z_MEM_ERROR:u7}=Nb;function sf(t){this.options=Cb.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new AE,this.strm.avail_out=0;let n=Do.inflateInit2(this.strm,e.windowBits);if(n!==Xd)throw new Error(Bg[n]);if(this.header=new a7,Do.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Ig.string2buf(e.dictionary):Fb.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=Do.inflateSetDictionary(this.strm,e.dictionary),n!==Xd)))throw new Error(Bg[n])}sf.prototype.push=function(t,e){const n=this.strm,a=this.options.chunkSize,o=this.options.dictionary;let s,u,d;if(this.ended)return!1;for(e===~~e?u=e:u=e===!0?o7:s7,Fb.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(a),n.next_out=0,n.avail_out=a),s=Do.inflate(n,u),s===Qp&&o&&(s=Do.inflateSetDictionary(n,o),s===Xd?s=Do.inflate(n,u):s===gy&&(s=Qp));n.avail_in>0&&s===Zp&&n.state.wrap>0&&t[n.next_in]!==0;)Do.inflateReset(n),s=Do.inflate(n,u);switch(s){case l7:case gy:case Qp:case u7:return this.onEnd(s),this.ended=!0,!1}if(d=n.avail_out,n.next_out&&(n.avail_out===0||s===Zp))if(this.options.to==="string"){let f=Ig.utf8border(n.output,n.next_out),h=n.next_out-f,g=Ig.buf2string(n.output,f);n.next_out=h,n.avail_out=a-h,h&&n.output.set(n.output.subarray(f,f+h),0),this.onData(g)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(s===Xd&&d===0)){if(s===Zp)return s=Do.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};sf.prototype.onData=function(t){this.chunks.push(t)};sf.prototype.onEnd=function(t){t===Xd&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Cb.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function c7(t,e){const n=new sf(e);if(n.push(t),n.err)throw n.msg||Bg[n.err];return n.result}var d7=sf,f7=c7,h7={Inflate:d7,inflate:f7};const{Inflate:p7,inflate:g7}=h7;var my=p7,m7=g7;const Hb=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;Hb[t]=e}const yy=4294967295;function y7(t,e,n){let a=t;for(let o=0;o<n;o++)a=Hb[(a^e[o])&255]^a>>>8;return a}function v7(t,e){return(y7(yy,t,e)^yy)>>>0}function vy(t,e,n){const a=t.readUint32(),o=v7(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(o!==a)throw new Error(`CRC mismatch for chunk ${n}. Expected ${a}, found ${o}`)}function $b(t,e,n){for(let a=0;a<n;a++)e[a]=t[a]}function Wb(t,e,n,a){let o=0;for(;o<a;o++)e[o]=t[o];for(;o<n;o++)e[o]=t[o]+e[o-a]&255}function Gb(t,e,n,a){let o=0;if(n.length===0)for(;o<a;o++)e[o]=t[o];else for(;o<a;o++)e[o]=t[o]+n[o]&255}function Yb(t,e,n,a,o){let s=0;if(n.length===0){for(;s<o;s++)e[s]=t[s];for(;s<a;s++)e[s]=t[s]+(e[s-o]>>1)&255}else{for(;s<o;s++)e[s]=t[s]+(n[s]>>1)&255;for(;s<a;s++)e[s]=t[s]+(e[s-o]+n[s]>>1)&255}}function Vb(t,e,n,a,o){let s=0;if(n.length===0){for(;s<o;s++)e[s]=t[s];for(;s<a;s++)e[s]=t[s]+e[s-o]&255}else{for(;s<o;s++)e[s]=t[s]+n[s]&255;for(;s<a;s++)e[s]=t[s]+b7(e[s-o],n[s],n[s-o])&255}}function b7(t,e,n){const a=t+e-n,o=Math.abs(a-t),s=Math.abs(a-e),u=Math.abs(a-n);return o<=s&&o<=u?t:s<=u?e:n}function w7(t,e,n,a,o,s){switch(t){case 0:$b(e,n,o);break;case 1:Wb(e,n,o,s);break;case 2:Gb(e,n,a,o);break;case 3:Yb(e,n,a,o,s);break;case 4:Vb(e,n,a,o,s);break;default:throw new Error(`Unsupported filter: ${t}`)}}const x7=new Uint16Array([255]),_7=new Uint8Array(x7.buffer),S7=_7[0]===255;function A7(t){const{data:e,width:n,height:a,channels:o,depth:s}=t,u=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],d=Math.ceil(s/8)*o,f=new Uint8Array(a*n*d);let h=0;for(let g=0;g<7;g++){const w=u[g],S=Math.ceil((n-w.x)/w.xStep),y=Math.ceil((a-w.y)/w.yStep);if(S<=0||y<=0)continue;const T=S*d,E=new Uint8Array(T);for(let N=0;N<y;N++){const L=e[h++],I=e.subarray(h,h+T);h+=T;const D=new Uint8Array(T);w7(L,I,D,E,T,d),E.set(D);for(let $=0;$<S;$++){const ce=w.x+$*w.xStep,he=w.y+N*w.yStep;if(!(ce>=n||he>=a))for(let le=0;le<d;le++)f[(he*n+ce)*d+le]=D[$*d+le]}}}if(s===16){const g=new Uint16Array(f.buffer);if(S7)for(let w=0;w<g.length;w++)g[w]=E7(g[w]);return g}else return f}function E7(t){return(t&255)<<8|t>>8&255}const T7=new Uint16Array([255]),k7=new Uint8Array(T7.buffer),N7=k7[0]===255,C7=new Uint8Array(0);function by(t){const{data:e,width:n,height:a,channels:o,depth:s}=t,u=Math.ceil(s/8)*o,d=Math.ceil(s/8*o*n),f=new Uint8Array(a*d);let h=C7,g=0,w,S;for(let y=0;y<a;y++){switch(w=e.subarray(g+1,g+1+d),S=f.subarray(y*d,(y+1)*d),e[g]){case 0:$b(w,S,d);break;case 1:Wb(w,S,d,u);break;case 2:Gb(w,S,h,d);break;case 3:Yb(w,S,h,d,u);break;case 4:Vb(w,S,h,d,u);break;default:throw new Error(`Unsupported filter: ${e[g]}`)}h=S,g+=d+1}if(s===16){const y=new Uint16Array(f.buffer);if(N7)for(let T=0;T<y.length;T++)y[T]=L7(y[T]);return y}else return f}function L7(t){return(t&255)<<8|t>>8&255}const _h=Uint8Array.of(137,80,78,71,13,10,26,10);function wy(t){if(!R7(t.readBytes(_h.length)))throw new Error("wrong PNG signature")}function R7(t){if(t.length<_h.length)return!1;for(let e=0;e<_h.length;e++)if(t[e]!==_h[e])return!1;return!0}const j7="tEXt",O7=0,Kb=new TextDecoder("latin1");function D7(t){if(B7(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const z7=/^[\u0000-\u00FF]*$/;function B7(t){if(!z7.test(t))throw new Error("invalid latin1 text")}function I7(t,e,n){const a=Xb(e);t[a]=M7(e,n-a.length-1)}function Xb(t){for(t.mark();t.readByte()!==O7;);const e=t.offset;t.reset();const n=Kb.decode(t.readBytes(e-t.offset-1));return t.skip(1),D7(n),n}function M7(t,e){return Kb.decode(t.readBytes(e))}const ba={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},eg={UNKNOWN:-1,DEFLATE:0},xy={UNKNOWN:-1,ADAPTIVE:0},tg={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},ph={NONE:0,BACKGROUND:1,PREVIOUS:2},ng={SOURCE:0,OVER:1};class P7 extends pm{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,n={}){super(e);const{checkCrc:a=!1}=n;this._checkCrc=a,this._inflator=new my,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=eg.UNKNOWN,this._filterMethod=xy.UNKNOWN,this._interlaceMethod=tg.UNKNOWN,this._colorType=ba.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(wy(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeChunk(e,n)}return this.decodeImage(),this._png}decodeApng(){for(wy(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(e,n)}return this.decodeApngImage(),this._apng}decodeChunk(e,n){const a=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case j7:I7(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-a!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?vy(this,e+4,n):this.skip(4)}decodeApngChunk(e,n){const a=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,n),this.offset=a+e;break}if(this.offset-a!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?vy(this,e+4,n):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=U7(this.readUint8());const n=this.readUint8();this._colorType=n;let a;switch(n){case ba.GREYSCALE:a=1;break;case ba.TRUECOLOUR:a=3;break;case ba.INDEXED_COLOUR:a=1;break;case ba.GREYSCALE_ALPHA:a=2;break;case ba.TRUECOLOUR_ALPHA:a=4;break;case ba.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==eg.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const n=e/3;this._hasPalette=!0;const a=[];this._palette=a;for(let o=0;o<n;o++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const n=e,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let n=e,a=this.offset+this.byteOffset;if(a+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case ba.GREYSCALE:case ba.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let n=0;n<e/2;n++)this._transparency[n]=this.readUint16();break}case ba.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let n=0;for(;n<e;n++){const a=this.readByte();this._palette[n].push(a)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case ba.UNKNOWN:case ba.GREYSCALE_ALPHA:case ba.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const n=Xb(this),a=this.readUint8();if(a!==eg.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const o=this.readBytes(e-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:m7(o)}}decodepHYs(){const e=this.readUint32(),n=this.readUint32(),a=this.readByte();this._png.resolution={x:e,y:n,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const n={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(e);if(a){if(a.data=by({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)n.data=a.data;else{const o=this._apng.frames.at(e-1);this.disposeFrame(a,o,n),this.addFrameDataToCanvas(n,a)}this._apng.frames.push(n)}}return this._apng}disposeFrame(e,n,a){switch(e.disposeOp){case ph.NONE:break;case ph.BACKGROUND:for(let o=0;o<this._png.height;o++)for(let s=0;s<this._png.width;s++){const u=(o*e.width+s)*this._png.channels;for(let d=0;d<this._png.channels;d++)a.data[u+d]=0}break;case ph.PREVIOUS:a.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,n){const a=1<<this._png.depth,o=(s,u)=>{const d=((s+n.yOffset)*this._png.width+n.xOffset+u)*this._png.channels,f=(s*n.width+u)*this._png.channels;return{index:d,frameIndex:f}};switch(n.blendOp){case ng.SOURCE:for(let s=0;s<n.height;s++)for(let u=0;u<n.width;u++){const{index:d,frameIndex:f}=o(s,u);for(let h=0;h<this._png.channels;h++)e.data[d+h]=n.data[f+h]}break;case ng.OVER:for(let s=0;s<n.height;s++)for(let u=0;u<n.width;u++){const{index:d,frameIndex:f}=o(s,u);for(let h=0;h<this._png.channels;h++){const g=n.data[f+this._png.channels-1]/a,w=h%(this._png.channels-1)===0?1:n.data[f+h],S=Math.floor(g*w+(1-g)*e.data[d+h]);e.data[d+h]+=S}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==xy.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===tg.NO_INTERLACE)this._png.data=by({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===tg.ADAM7)this._png.data=A7({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,n=this._frames.at(-1);n?n.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:ph.NONE,blendOp:ng.SOURCE,data:e}),this._inflator=new my,this._writingDataChunks=!1}}function U7(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var _y;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(_y||(_y={}));function q7(t,e){return new P7(t,e).decode()}var Ht=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function rg(){Ht.console&&typeof Ht.console.log=="function"&&Ht.console.log.apply(Ht.console,arguments)}var Un={log:rg,warn:function(t){Ht.console&&(typeof Ht.console.warn=="function"?Ht.console.warn.apply(Ht.console,arguments):rg.call(null,arguments))},error:function(t){Ht.console&&(typeof Ht.console.error=="function"?Ht.console.error.apply(Ht.console,arguments):rg(t))}};function ig(t,e,n){var a=new XMLHttpRequest;a.open("GET",t),a.responseType="blob",a.onload=function(){fu(a.response,e,n)},a.onerror=function(){Un.error("could not download file")},a.send()}function Sy(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function gh(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var fu=Ht.saveAs||((typeof window>"u"?"undefined":Cn(window))!=="object"||window!==Ht?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var a=Ht.URL||Ht.webkitURL,o=document.createElement("a");e=e||t.name||"download",o.download=e,o.rel="noopener",typeof t=="string"?(o.href=t,o.origin!==location.origin?Sy(o.href)?ig(t,e,n):gh(o,o.target="_blank"):gh(o)):(o.href=a.createObjectURL(t),setTimeout(function(){a.revokeObjectURL(o.href)},4e4),setTimeout(function(){gh(o)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(Sy(t))ig(t,e,n);else{var a=document.createElement("a");a.href=t,a.target="_blank",setTimeout(function(){gh(a)})}else navigator.msSaveOrOpenBlob((function(o,s){return s===void 0?s={autoBom:!1}:Cn(s)!=="object"&&(Un.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(o.type)?new Blob(["\uFEFF",o],{type:o.type}):o})(t,n),e)}:function(t,e,n,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),typeof t=="string")return ig(t,e,n);var o=t.type==="application/octet-stream",s=/constructor/i.test(Ht.HTMLElement)||Ht.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||o&&s)&&(typeof FileReader>"u"?"undefined":Cn(FileReader))==="object"){var d=new FileReader;d.onloadend=function(){var g=d.result;g=u?g:g.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=g:location=g,a=null},d.readAsDataURL(t)}else{var f=Ht.URL||Ht.webkitURL,h=f.createObjectURL(t);a?a.location=h:location.href=h,a=null,setTimeout(function(){f.revokeObjectURL(h)},4e4)}});function Jb(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(d){return[parseInt(d[1]),parseInt(d[2]),parseInt(d[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(d){return[parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(d){return[parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16)]}}],a=0;a<n.length;a++){var o=n[a].re,s=n[a].process,u=o.exec(t);u&&(e=s(u),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var d=this.r.toString(16),f=this.g.toString(16),h=this.b.toString(16);return d.length==1&&(d="0"+d),f.length==1&&(f="0"+f),h.length==1&&(h="0"+h),"#"+d+f+h}}var Sh=Ht.atob.bind(Ht),Ay=Ht.btoa.bind(Ht);function ag(t,e){var n=t[0],a=t[1],o=t[2],s=t[3];n=Si(n,a,o,s,e[0],7,-680876936),s=Si(s,n,a,o,e[1],12,-389564586),o=Si(o,s,n,a,e[2],17,606105819),a=Si(a,o,s,n,e[3],22,-1044525330),n=Si(n,a,o,s,e[4],7,-176418897),s=Si(s,n,a,o,e[5],12,1200080426),o=Si(o,s,n,a,e[6],17,-1473231341),a=Si(a,o,s,n,e[7],22,-45705983),n=Si(n,a,o,s,e[8],7,1770035416),s=Si(s,n,a,o,e[9],12,-1958414417),o=Si(o,s,n,a,e[10],17,-42063),a=Si(a,o,s,n,e[11],22,-1990404162),n=Si(n,a,o,s,e[12],7,1804603682),s=Si(s,n,a,o,e[13],12,-40341101),o=Si(o,s,n,a,e[14],17,-1502002290),n=Ai(n,a=Si(a,o,s,n,e[15],22,1236535329),o,s,e[1],5,-165796510),s=Ai(s,n,a,o,e[6],9,-1069501632),o=Ai(o,s,n,a,e[11],14,643717713),a=Ai(a,o,s,n,e[0],20,-373897302),n=Ai(n,a,o,s,e[5],5,-701558691),s=Ai(s,n,a,o,e[10],9,38016083),o=Ai(o,s,n,a,e[15],14,-660478335),a=Ai(a,o,s,n,e[4],20,-405537848),n=Ai(n,a,o,s,e[9],5,568446438),s=Ai(s,n,a,o,e[14],9,-1019803690),o=Ai(o,s,n,a,e[3],14,-187363961),a=Ai(a,o,s,n,e[8],20,1163531501),n=Ai(n,a,o,s,e[13],5,-1444681467),s=Ai(s,n,a,o,e[2],9,-51403784),o=Ai(o,s,n,a,e[7],14,1735328473),n=Ei(n,a=Ai(a,o,s,n,e[12],20,-1926607734),o,s,e[5],4,-378558),s=Ei(s,n,a,o,e[8],11,-2022574463),o=Ei(o,s,n,a,e[11],16,1839030562),a=Ei(a,o,s,n,e[14],23,-35309556),n=Ei(n,a,o,s,e[1],4,-1530992060),s=Ei(s,n,a,o,e[4],11,1272893353),o=Ei(o,s,n,a,e[7],16,-155497632),a=Ei(a,o,s,n,e[10],23,-1094730640),n=Ei(n,a,o,s,e[13],4,681279174),s=Ei(s,n,a,o,e[0],11,-358537222),o=Ei(o,s,n,a,e[3],16,-722521979),a=Ei(a,o,s,n,e[6],23,76029189),n=Ei(n,a,o,s,e[9],4,-640364487),s=Ei(s,n,a,o,e[12],11,-421815835),o=Ei(o,s,n,a,e[15],16,530742520),n=Ti(n,a=Ei(a,o,s,n,e[2],23,-995338651),o,s,e[0],6,-198630844),s=Ti(s,n,a,o,e[7],10,1126891415),o=Ti(o,s,n,a,e[14],15,-1416354905),a=Ti(a,o,s,n,e[5],21,-57434055),n=Ti(n,a,o,s,e[12],6,1700485571),s=Ti(s,n,a,o,e[3],10,-1894986606),o=Ti(o,s,n,a,e[10],15,-1051523),a=Ti(a,o,s,n,e[1],21,-2054922799),n=Ti(n,a,o,s,e[8],6,1873313359),s=Ti(s,n,a,o,e[15],10,-30611744),o=Ti(o,s,n,a,e[6],15,-1560198380),a=Ti(a,o,s,n,e[13],21,1309151649),n=Ti(n,a,o,s,e[4],6,-145523070),s=Ti(s,n,a,o,e[11],10,-1120210379),o=Ti(o,s,n,a,e[2],15,718787259),a=Ti(a,o,s,n,e[9],21,-343485551),t[0]=Nl(n,t[0]),t[1]=Nl(a,t[1]),t[2]=Nl(o,t[2]),t[3]=Nl(s,t[3])}function u0(t,e,n,a,o,s){return e=Nl(Nl(e,t),Nl(a,s)),Nl(e<<o|e>>>32-o,n)}function Si(t,e,n,a,o,s,u){return u0(e&n|~e&a,t,e,o,s,u)}function Ai(t,e,n,a,o,s,u){return u0(e&a|n&~a,t,e,o,s,u)}function Ei(t,e,n,a,o,s,u){return u0(e^n^a,t,e,o,s,u)}function Ti(t,e,n,a,o,s,u){return u0(n^(e|~a),t,e,o,s,u)}function Zb(t){var e,n=t.length,a=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)ag(a,F7(t.substring(e-64,e)));t=t.substring(e-64);var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)o[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(o[e>>2]|=128<<(e%4<<3),e>55)for(ag(a,o),e=0;e<16;e++)o[e]=0;return o[14]=8*n,ag(a,o),a}function F7(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var Ey="0123456789abcdef".split("");function H7(t){for(var e="",n=0;n<4;n++)e+=Ey[t>>8*n+4&15]+Ey[t>>8*n&15];return e}function $7(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Mg(t){return Zb(t).map($7).join("")}var W7=(function(t){for(var e=0;e<t.length;e++)t[e]=H7(t[e]);return t.join("")})(Zb("hello"))!="5d41402abc4b2a76b9719d911017c592";function Nl(t,e){if(W7){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}function Pg(t,e){var n,a,o,s;if(t!==n){for(var u=(o=t,s=1+(256/t.length|0),new Array(s+1).join(o)),d=[],f=0;f<256;f++)d[f]=f;var h=0;for(f=0;f<256;f++){var g=d[f];h=(h+g+u.charCodeAt(f))%256,d[f]=d[h],d[h]=g}n=t,a=d}else d=a;var w=e.length,S=0,y=0,T="";for(f=0;f<w;f++)y=(y+(g=d[S=(S+1)%256]))%256,d[S]=d[y],d[y]=g,u=d[(d[S]+d[y])%256],T+=String.fromCharCode(e.charCodeAt(f)^u);return T}var Ty={print:4,modify:8,copy:16,"annot-forms":32};function Tc(t,e,n,a){this.v=1,this.r=2;var o=192;t.forEach(function(d){if(Ty.perm!==void 0)throw new Error("Invalid permission: "+d);o+=Ty[d]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),u=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,u),this.P=-(1+(255^o)),this.encryptionKey=Mg(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(a)).substr(0,5),this.U=Pg(this.encryptionKey,this.padding)}function kc(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,a=0;a<n;a++){var o=t.charCodeAt(a);e+=o<33||o===35||o===37||o===40||o===41||o===47||o===60||o===62||o===91||o===93||o===123||o===125||o>126?"#"+("0"+o.toString(16)).slice(-2):t[a]}return e}function ky(t){if(Cn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,a,o){if(o=o||!1,typeof n!="string"||typeof a!="function"||typeof o!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[a,!!o],s},this.unsubscribe=function(n){for(var a in e)if(e[a][n])return delete e[a][n],Object.keys(e[a]).length===0&&delete e[a],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var a=Array.prototype.slice.call(arguments,1),o=[];for(var s in e[n]){var u=e[n][s];try{u[0].apply(t,a)}catch(d){Ht.console&&Un.error("jsPDF PubSub Error",d.message,d)}u[1]&&o.push(s)}o.length&&o.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Fh(t){if(!(this instanceof Fh))return new Fh(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function Qb(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function gu(t,e,n,a,o){if(!(this instanceof gu))return new gu(t,e,n,a,o);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,Qb.call(this,a,o)}function Cc(t,e,n,a,o){if(!(this instanceof Cc))return new Cc(t,e,n,a,o);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,Qb.call(this,a,o)}function Ct(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",a=arguments[1],o=arguments[2],s=arguments[3],u=[],d=1,f=16,h="S",g=null;Cn(t=t||{})==="object"&&(n=t.orientation,a=t.unit||a,o=t.format||o,s=t.compress||t.compressPdf||s,(g=t.encryption||null)!==null&&(g.userPassword=g.userPassword||"",g.ownerPassword=g.ownerPassword||"",g.userPermissions=g.userPermissions||[]),d=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(f=t.floatPrecision),h=t.defaultPathOperation||"S"),u=t.filters||(s===!0?["FlateEncode"]:u),a=a||"mm",n=(""+(n||"P")).toLowerCase();var w=t.putOnlyUsedFonts||!1,S={},y={internal:{},__private__:{}};y.__private__.PubSub=ky;var T="1.3",E=y.__private__.getPdfVersion=function(){return T};y.__private__.setPdfVersion=function(x){T=x};var N={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};y.__private__.getPageFormats=function(){return N};var L=y.__private__.getPageFormat=function(x){return N[x]};o=o||"a4";var I="compat",D="advanced",$=I;function ce(){this.saveGraphicsState(),O(new At(vt,0,0,-vt,0,ts()*vt).toString()+" cm"),this.setFontSize(this.getFontSize()/vt),h="n",$=D}function he(){this.restoreGraphicsState(),h="S",$=I}var le=y.__private__.combineFontStyleAndFontWeight=function(x,z){if(x=="bold"&&z=="normal"||x=="bold"&&z==400||x=="normal"&&z=="italic"||x=="bold"&&z=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return z&&(x=z==400||z==="normal"?x==="italic"?"italic":"normal":z!=700&&z!=="bold"||x!=="normal"?(z==700?"bold":z)+""+x:"bold"),x};y.advancedAPI=function(x){var z=$===I;return z&&ce.call(this),typeof x!="function"||(x(this),z&&he.call(this)),this},y.compatAPI=function(x){var z=$===D;return z&&he.call(this),typeof x!="function"||(x(this),z&&ce.call(this)),this},y.isAdvancedAPI=function(){return $===D};var W,P=function(x){if($!==D)throw new Error(x+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},oe=y.roundToPrecision=y.__private__.roundToPrecision=function(x,z){var ie=e||z;if(isNaN(x)||isNaN(ie))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return x.toFixed(ie).replace(/0+$/,"")};W=y.hpf=y.__private__.hpf=typeof f=="number"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return oe(x,f)}:f==="smart"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return oe(x,x>-1&&x<1?16:5)}:function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return oe(x,16)};var M=y.f2=y.__private__.f2=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f2");return oe(x,2)},X=y.__private__.f3=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f3");return oe(x,3)},ae=y.scale=y.__private__.scale=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.scale");return $===I?x*vt:$===D?x:void 0},J=function(x){return ae((function(z){return $===I?ts()-z:$===D?z:void 0})(x))};y.__private__.setPrecision=y.setPrecision=function(x){typeof parseInt(x,10)=="number"&&(e=parseInt(x,10))};var pe,F="00000000000000000000000000000000",se=y.__private__.getFileId=function(){return F},ue=y.__private__.setFileId=function(x){return F=x!==void 0&&/^[a-fA-F0-9]{32}$/.test(x)?x.toUpperCase():F.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),g!==null&&(Tr=new Tc(g.userPermissions,g.userPassword,g.ownerPassword,F)),F};y.setFileId=function(x){return ue(x),this},y.getFileId=function(){return se()};var be=y.__private__.convertDateToPDFDate=function(x){var z=x.getTimezoneOffset(),ie=z<0?"+":"-",ge=Math.floor(Math.abs(z/60)),Se=Math.abs(z%60),Fe=[ie,Z(ge),"'",Z(Se),"'"].join("");return["D:",x.getFullYear(),Z(x.getMonth()+1),Z(x.getDate()),Z(x.getHours()),Z(x.getMinutes()),Z(x.getSeconds()),Fe].join("")},Oe=y.__private__.convertPDFDateToDate=function(x){var z=parseInt(x.substr(2,4),10),ie=parseInt(x.substr(6,2),10)-1,ge=parseInt(x.substr(8,2),10),Se=parseInt(x.substr(10,2),10),Fe=parseInt(x.substr(12,2),10),Je=parseInt(x.substr(14,2),10);return new Date(z,ie,ge,Se,Fe,Je,0)},Y=y.__private__.setCreationDate=function(x){var z;if(x===void 0&&(x=new Date),x instanceof Date)z=be(x);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(x))throw new Error("Invalid argument passed to jsPDF.setCreationDate");z=x}return pe=z},C=y.__private__.getCreationDate=function(x){var z=pe;return x==="jsDate"&&(z=Oe(pe)),z};y.setCreationDate=function(x){return Y(x),this},y.getCreationDate=function(x){return C(x)};var U,Z=y.__private__.padd2=function(x){return("0"+parseInt(x)).slice(-2)},V=y.__private__.padd2Hex=function(x){return("00"+(x=x.toString())).substr(x.length)},ee=0,de=[],_e=[],xe=0,Ne=[],We=[],Xe=!1,Ee=_e;y.__private__.setCustomOutputDestination=function(x){Xe=!0,Ee=x};var ke=function(x){Xe||(Ee=x)};y.__private__.resetCustomOutputDestination=function(){Xe=!1,Ee=_e};var O=y.__private__.out=function(x){return x=x.toString(),xe+=x.length+1,Ee.push(x),Ee},De=y.__private__.write=function(x){return O(arguments.length===1?x.toString():Array.prototype.join.call(arguments," "))},Ue=y.__private__.getArrayBuffer=function(x){for(var z=x.length,ie=new ArrayBuffer(z),ge=new Uint8Array(ie);z--;)ge[z]=x.charCodeAt(z);return ie},$e=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];y.__private__.getStandardFonts=function(){return $e};var te=t.fontSize||16;y.__private__.setFontSize=y.setFontSize=function(x){return te=$===D?x/vt:x,this};var ve,Ie=y.__private__.getFontSize=y.getFontSize=function(){return $===I?te:te*vt},Ye=t.R2L||!1;y.__private__.setR2L=y.setR2L=function(x){return Ye=x,this},y.__private__.getR2L=y.getR2L=function(){return Ye};var et,st=y.__private__.setZoomMode=function(x){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(x))ve=x;else if(isNaN(x)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(x)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+x+'" is not recognized.');ve=x}else ve=parseInt(x,10)};y.__private__.getZoomMode=function(){return ve};var ft,tt=y.__private__.setPageMode=function(x){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(x)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+x+'" is not recognized.');et=x};y.__private__.getPageMode=function(){return et};var ht=y.__private__.setLayoutMode=function(x){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(x)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+x+'" is not recognized.');ft=x};y.__private__.getLayoutMode=function(){return ft},y.__private__.setDisplayMode=y.setDisplayMode=function(x,z,ie){return st(x),ht(z),tt(ie),this};var Qe={title:"",subject:"",author:"",keywords:"",creator:""};y.__private__.getDocumentProperty=function(x){if(Object.keys(Qe).indexOf(x)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Qe[x]},y.__private__.getDocumentProperties=function(){return Qe},y.__private__.setDocumentProperties=y.setProperties=y.setDocumentProperties=function(x){for(var z in Qe)Qe.hasOwnProperty(z)&&x[z]&&(Qe[z]=x[z]);return this},y.__private__.setDocumentProperty=function(x,z){if(Object.keys(Qe).indexOf(x)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Qe[x]=z};var Ze,vt,rt,lt,ut,it={},at={},It=[],dt={},Jt={},yt={},Ot={},vn=null,kt=0,pt=[],qt=new ky(y),hr=t.hotfixes||[],bn={},qn={},$n=[],At=function x(z,ie,ge,Se,Fe,Je){if(!(this instanceof x))return new x(z,ie,ge,Se,Fe,Je);isNaN(z)&&(z=1),isNaN(ie)&&(ie=0),isNaN(ge)&&(ge=0),isNaN(Se)&&(Se=1),isNaN(Fe)&&(Fe=0),isNaN(Je)&&(Je=0),this._matrix=[z,ie,ge,Se,Fe,Je]};Object.defineProperty(At.prototype,"sx",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(At.prototype,"shy",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(At.prototype,"shx",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(At.prototype,"sy",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(At.prototype,"tx",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(At.prototype,"ty",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(At.prototype,"a",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(At.prototype,"b",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(At.prototype,"c",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(At.prototype,"d",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(At.prototype,"e",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(At.prototype,"f",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(At.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(At.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(At.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(At.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),At.prototype.join=function(x){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(W).join(x)},At.prototype.multiply=function(x){var z=x.sx*this.sx+x.shy*this.shx,ie=x.sx*this.shy+x.shy*this.sy,ge=x.shx*this.sx+x.sy*this.shx,Se=x.shx*this.shy+x.sy*this.sy,Fe=x.tx*this.sx+x.ty*this.shx+this.tx,Je=x.tx*this.shy+x.ty*this.sy+this.ty;return new At(z,ie,ge,Se,Fe,Je)},At.prototype.decompose=function(){var x=this.sx,z=this.shy,ie=this.shx,ge=this.sy,Se=this.tx,Fe=this.ty,Je=Math.sqrt(x*x+z*z),wt=(x/=Je)*ie+(z/=Je)*ge;ie-=x*wt,ge-=z*wt;var Et=Math.sqrt(ie*ie+ge*ge);return wt/=Et,x*(ge/=Et)<z*(ie/=Et)&&(x=-x,z=-z,wt=-wt,Je=-Je),{scale:new At(Je,0,0,Et,0,0),translate:new At(1,0,0,1,Se,Fe),rotate:new At(x,z,-z,x,0,0),skew:new At(1,0,wt,1,0,0)}},At.prototype.toString=function(x){return this.join(" ")},At.prototype.inversed=function(){var x=this.sx,z=this.shy,ie=this.shx,ge=this.sy,Se=this.tx,Fe=this.ty,Je=1/(x*ge-z*ie),wt=ge*Je,Et=-z*Je,Mt=-ie*Je,$t=x*Je;return new At(wt,Et,Mt,$t,-wt*Se-Mt*Fe,-Et*Se-$t*Fe)},At.prototype.applyToPoint=function(x){var z=x.x*this.sx+x.y*this.shx+this.tx,ie=x.x*this.shy+x.y*this.sy+this.ty;return new Pi(z,ie)},At.prototype.applyToRectangle=function(x){var z=this.applyToPoint(x),ie=this.applyToPoint(new Pi(x.x+x.w,x.y+x.h));return new Xa(z.x,z.y,ie.x-z.x,ie.y-z.y)},At.prototype.clone=function(){var x=this.sx,z=this.shy,ie=this.shx,ge=this.sy,Se=this.tx,Fe=this.ty;return new At(x,z,ie,ge,Se,Fe)},y.Matrix=At;var Sn=y.matrixMult=function(x,z){return z.multiply(x)},Ar=new At(1,0,0,1,0,0);y.unitMatrix=y.identityMatrix=Ar;var Fn=function(x,z){if(!Jt[x]){var ie=(z instanceof gu?"Sh":"P")+(Object.keys(dt).length+1).toString(10);z.id=ie,Jt[x]=ie,dt[ie]=z,qt.publish("addPattern",z)}};y.ShadingPattern=gu,y.TilingPattern=Cc,y.addShadingPattern=function(x,z){return P("addShadingPattern()"),Fn(x,z),this},y.beginTilingPattern=function(x){P("beginTilingPattern()"),oo(x.boundingBox[0],x.boundingBox[1],x.boundingBox[2]-x.boundingBox[0],x.boundingBox[3]-x.boundingBox[1],x.matrix)},y.endTilingPattern=function(x,z){P("endTilingPattern()"),z.stream=We[U].join(`
`),Fn(x,z),qt.publish("endTilingPattern",z),$n.pop().restore()};var Wn,gn=y.__private__.newObject=function(){var x=Ln();return An(x,!0),x},Ln=y.__private__.newObjectDeferred=function(){return ee++,de[ee]=function(){return xe},ee},An=function(x,z){return z=typeof z=="boolean"&&z,de[x]=xe,z&&O(x+" 0 obj"),x},vi=y.__private__.newAdditionalObject=function(){var x={objId:Ln(),content:""};return Ne.push(x),x},Er=Ln(),En=Ln(),Gn=y.__private__.decodeColorString=function(x){var z=x.split(" ");if(z.length!==2||z[1]!=="g"&&z[1]!=="G")z.length!==5||z[4]!=="k"&&z[4]!=="K"||(z=[(1-z[0])*(1-z[3]),(1-z[1])*(1-z[3]),(1-z[2])*(1-z[3]),"r"]);else{var ie=parseFloat(z[0]);z=[ie,ie,ie,"r"]}for(var ge="#",Se=0;Se<3;Se++)ge+=("0"+Math.floor(255*parseFloat(z[Se])).toString(16)).slice(-2);return ge},Qr=y.__private__.encodeColorString=function(x){var z;typeof x=="string"&&(x={ch1:x});var ie=x.ch1,ge=x.ch2,Se=x.ch3,Fe=x.ch4,Je=x.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ie=="string"&&ie.charAt(0)!=="#"){var wt=new Jb(ie);if(wt.ok)ie=wt.toHex();else if(!/^\d*\.?\d*$/.test(ie))throw new Error('Invalid color "'+ie+'" passed to jsPDF.encodeColorString.')}if(typeof ie=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ie)&&(ie="#"+ie[1]+ie[1]+ie[2]+ie[2]+ie[3]+ie[3]),typeof ie=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ie)){var Et=parseInt(ie.substr(1),16);ie=Et>>16&255,ge=Et>>8&255,Se=255&Et}if(ge===void 0||Fe===void 0&&ie===ge&&ge===Se)z=typeof ie=="string"?ie+" "+Je[0]:x.precision===2?M(ie/255)+" "+Je[0]:X(ie/255)+" "+Je[0];else if(Fe===void 0||Cn(Fe)==="object"){if(Fe&&!isNaN(Fe.a)&&Fe.a===0)return["1.","1.","1.",Je[1]].join(" ");z=typeof ie=="string"?[ie,ge,Se,Je[1]].join(" "):x.precision===2?[M(ie/255),M(ge/255),M(Se/255),Je[1]].join(" "):[X(ie/255),X(ge/255),X(Se/255),Je[1]].join(" ")}else z=typeof ie=="string"?[ie,ge,Se,Fe,Je[2]].join(" "):x.precision===2?[M(ie),M(ge),M(Se),M(Fe),Je[2]].join(" "):[X(ie),X(ge),X(Se),X(Fe),Je[2]].join(" ");return z},ki=y.__private__.getFilters=function(){return u},Ii=y.__private__.putStream=function(x){var z=(x=x||{}).data||"",ie=x.filters||ki(),ge=x.alreadyAppliedFilters||[],Se=x.addLength1||!1,Fe=z.length,Je=x.objectId,wt=function(kr){return kr};if(g!==null&&Je===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");g!==null&&(wt=Tr.encryptor(Je,0));var Et={};ie===!0&&(ie=["FlateEncode"]);var Mt=x.additionalKeyValues||[],$t=(Et=Ct.API.processDataByFilters!==void 0?Ct.API.processDataByFilters(z,ie):{data:z,reverseChain:[]}).reverseChain+(Array.isArray(ge)?ge.join(" "):ge.toString());if(Et.data.length!==0&&(Mt.push({key:"Length",value:Et.data.length}),Se===!0&&Mt.push({key:"Length1",value:Fe})),$t.length!=0)if($t.split("/").length-1==1)Mt.push({key:"Filter",value:$t});else{Mt.push({key:"Filter",value:"["+$t+"]"});for(var an=0;an<Mt.length;an+=1)if(Mt[an].key==="DecodeParms"){for(var Yn=[],sr=0;sr<Et.reverseChain.split("/").length-1;sr+=1)Yn.push("null");Yn.push(Mt[an].value),Mt[an].value="["+Yn.join(" ")+"]"}}O("<<");for(var Rn=0;Rn<Mt.length;Rn++)O("/"+Mt[Rn].key+" "+Mt[Rn].value);O(">>"),Et.data.length!==0&&(O("stream"),O(wt(Et.data)),O("endstream"))},to=y.__private__.putPage=function(x){var z=x.number,ie=x.data,ge=x.objId,Se=x.contentsObjId;An(ge,!0),O("<</Type /Page"),O("/Parent "+x.rootDictionaryObjId+" 0 R"),O("/Resources "+x.resourceDictionaryObjId+" 0 R"),O("/MediaBox ["+parseFloat(W(x.mediaBox.bottomLeftX))+" "+parseFloat(W(x.mediaBox.bottomLeftY))+" "+W(x.mediaBox.topRightX)+" "+W(x.mediaBox.topRightY)+"]"),x.cropBox!==null&&O("/CropBox ["+W(x.cropBox.bottomLeftX)+" "+W(x.cropBox.bottomLeftY)+" "+W(x.cropBox.topRightX)+" "+W(x.cropBox.topRightY)+"]"),x.bleedBox!==null&&O("/BleedBox ["+W(x.bleedBox.bottomLeftX)+" "+W(x.bleedBox.bottomLeftY)+" "+W(x.bleedBox.topRightX)+" "+W(x.bleedBox.topRightY)+"]"),x.trimBox!==null&&O("/TrimBox ["+W(x.trimBox.bottomLeftX)+" "+W(x.trimBox.bottomLeftY)+" "+W(x.trimBox.topRightX)+" "+W(x.trimBox.topRightY)+"]"),x.artBox!==null&&O("/ArtBox ["+W(x.artBox.bottomLeftX)+" "+W(x.artBox.bottomLeftY)+" "+W(x.artBox.topRightX)+" "+W(x.artBox.topRightY)+"]"),typeof x.userUnit=="number"&&x.userUnit!==1&&O("/UserUnit "+x.userUnit),qt.publish("putPage",{objId:ge,pageContext:pt[z],pageNumber:z,page:ie}),O("/Contents "+Se+" 0 R"),O(">>"),O("endobj");var Fe=ie.join(`
`);return $===D&&(Fe+=`
Q`),An(Se,!0),Ii({data:Fe,filters:ki(),objectId:Se}),O("endobj"),ge},na=y.__private__.putPages=function(){var x,z,ie=[];for(x=1;x<=kt;x++)pt[x].objId=Ln(),pt[x].contentsObjId=Ln();for(x=1;x<=kt;x++)ie.push(to({number:x,data:We[x],objId:pt[x].objId,contentsObjId:pt[x].contentsObjId,mediaBox:pt[x].mediaBox,cropBox:pt[x].cropBox,bleedBox:pt[x].bleedBox,trimBox:pt[x].trimBox,artBox:pt[x].artBox,userUnit:pt[x].userUnit,rootDictionaryObjId:Er,resourceDictionaryObjId:En}));An(Er,!0),O("<</Type /Pages");var ge="/Kids [";for(z=0;z<kt;z++)ge+=ie[z]+" 0 R ";O(ge+"]"),O("/Count "+kt),O(">>"),O("endobj"),qt.publish("postPutPages")},ra=function(x){qt.publish("putFont",{font:x,out:O,newObject:gn,putStream:Ii}),x.isAlreadyPutted!==!0&&(x.objectNumber=gn(),O("<<"),O("/Type /Font"),O("/BaseFont /"+kc(x.postScriptName)),O("/Subtype /Type1"),typeof x.encoding=="string"&&O("/Encoding /"+x.encoding),O("/FirstChar 32"),O("/LastChar 255"),O(">>"),O("endobj"))},Ls=function(x){x.objectNumber=gn();var z=[];z.push({key:"Type",value:"/XObject"}),z.push({key:"Subtype",value:"/Form"}),z.push({key:"BBox",value:"["+[W(x.x),W(x.y),W(x.x+x.width),W(x.y+x.height)].join(" ")+"]"}),z.push({key:"Matrix",value:"["+x.matrix.toString()+"]"});var ie=x.pages[1].join(`
`);Ii({data:ie,additionalKeyValues:z,objectId:x.objectNumber}),O("endobj")},ia=function(x,z){z||(z=21);var ie=gn(),ge=(function(Je,wt){var Et,Mt=[],$t=1/(wt-1);for(Et=0;Et<1;Et+=$t)Mt.push(Et);if(Mt.push(1),Je[0].offset!=0){var an={offset:0,color:Je[0].color};Je.unshift(an)}if(Je[Je.length-1].offset!=1){var Yn={offset:1,color:Je[Je.length-1].color};Je.push(Yn)}for(var sr="",Rn=0,kr=0;kr<Mt.length;kr++){for(Et=Mt[kr];Et>Je[Rn+1].offset;)Rn++;var gr=Je[Rn].offset,Fr=(Et-gr)/(Je[Rn+1].offset-gr),ns=Je[Rn].color,ca=Je[Rn+1].color;sr+=V(Math.round((1-Fr)*ns[0]+Fr*ca[0]).toString(16))+V(Math.round((1-Fr)*ns[1]+Fr*ca[1]).toString(16))+V(Math.round((1-Fr)*ns[2]+Fr*ca[2]).toString(16))}return sr.trim()})(x.colors,z),Se=[];Se.push({key:"FunctionType",value:"0"}),Se.push({key:"Domain",value:"[0.0 1.0]"}),Se.push({key:"Size",value:"["+z+"]"}),Se.push({key:"BitsPerSample",value:"8"}),Se.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Se.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ii({data:ge,additionalKeyValues:Se,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ie}),O("endobj"),x.objectNumber=gn(),O("<< /ShadingType "+x.type),O("/ColorSpace /DeviceRGB");var Fe="/Coords ["+W(parseFloat(x.coords[0]))+" "+W(parseFloat(x.coords[1]))+" ";x.type===2?Fe+=W(parseFloat(x.coords[2]))+" "+W(parseFloat(x.coords[3])):Fe+=W(parseFloat(x.coords[2]))+" "+W(parseFloat(x.coords[3]))+" "+W(parseFloat(x.coords[4]))+" "+W(parseFloat(x.coords[5])),O(Fe+="]"),x.matrix&&O("/Matrix ["+x.matrix.toString()+"]"),O("/Function "+ie+" 0 R"),O("/Extend [true true]"),O(">>"),O("endobj")},aa=function(x,z){var ie=Ln(),ge=gn();z.push({resourcesOid:ie,objectOid:ge}),x.objectNumber=ge;var Se=[];Se.push({key:"Type",value:"/Pattern"}),Se.push({key:"PatternType",value:"1"}),Se.push({key:"PaintType",value:"1"}),Se.push({key:"TilingType",value:"1"}),Se.push({key:"BBox",value:"["+x.boundingBox.map(W).join(" ")+"]"}),Se.push({key:"XStep",value:W(x.xStep)}),Se.push({key:"YStep",value:W(x.yStep)}),Se.push({key:"Resources",value:ie+" 0 R"}),x.matrix&&Se.push({key:"Matrix",value:"["+x.matrix.toString()+"]"}),Ii({data:x.stream,additionalKeyValues:Se,objectId:x.objectNumber}),O("endobj")},no=function(x){for(var z in x.objectNumber=gn(),O("<<"),x)switch(z){case"opacity":O("/ca "+M(x[z]));break;case"stroke-opacity":O("/CA "+M(x[z]))}O(">>"),O("endobj")},Ta=function(x){An(x.resourcesOid,!0),O("<<"),O("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var z in O("/Font <<"),it)it.hasOwnProperty(z)&&(w===!1||w===!0&&S.hasOwnProperty(z))&&O("/"+z+" "+it[z].objectNumber+" 0 R");O(">>")})(),(function(){if(Object.keys(dt).length>0){for(var z in O("/Shading <<"),dt)dt.hasOwnProperty(z)&&dt[z]instanceof gu&&dt[z].objectNumber>=0&&O("/"+z+" "+dt[z].objectNumber+" 0 R");qt.publish("putShadingPatternDict"),O(">>")}})(),(function(z){if(Object.keys(dt).length>0){for(var ie in O("/Pattern <<"),dt)dt.hasOwnProperty(ie)&&dt[ie]instanceof y.TilingPattern&&dt[ie].objectNumber>=0&&dt[ie].objectNumber<z&&O("/"+ie+" "+dt[ie].objectNumber+" 0 R");qt.publish("putTilingPatternDict"),O(">>")}})(x.objectOid),(function(){if(Object.keys(yt).length>0){var z;for(z in O("/ExtGState <<"),yt)yt.hasOwnProperty(z)&&yt[z].objectNumber>=0&&O("/"+z+" "+yt[z].objectNumber+" 0 R");qt.publish("putGStateDict"),O(">>")}})(),(function(){for(var z in O("/XObject <<"),bn)bn.hasOwnProperty(z)&&bn[z].objectNumber>=0&&O("/"+z+" "+bn[z].objectNumber+" 0 R");qt.publish("putXobjectDict"),O(">>")})(),O(">>"),O("endobj")},ar=function(x){at[x.fontName]=at[x.fontName]||{},at[x.fontName][x.fontStyle]=x.id},Rl=function(x,z,ie,ge,Se){var Fe={id:"F"+(Object.keys(it).length+1).toString(10),postScriptName:x,fontName:z,fontStyle:ie,encoding:ge,isStandardFont:Se||!1,metadata:{}};return qt.publish("addFont",{font:Fe,instance:this}),it[Fe.id]=Fe,ar(Fe),Fe.id},Ni=y.__private__.pdfEscape=y.pdfEscape=function(x,z){return(function(ie,ge){var Se,Fe,Je,wt,Et,Mt,$t,an,Yn;if(Je=(ge=ge||{}).sourceEncoding||"Unicode",Et=ge.outputEncoding,(ge.autoencode||Et)&&it[Ze].metadata&&it[Ze].metadata[Je]&&it[Ze].metadata[Je].encoding&&(wt=it[Ze].metadata[Je].encoding,!Et&&it[Ze].encoding&&(Et=it[Ze].encoding),!Et&&wt.codePages&&(Et=wt.codePages[0]),typeof Et=="string"&&(Et=wt[Et]),Et)){for($t=!1,Mt=[],Se=0,Fe=ie.length;Se<Fe;Se++)(an=Et[ie.charCodeAt(Se)])?Mt.push(String.fromCharCode(an)):Mt.push(ie[Se]),Mt[Se].charCodeAt(0)>>8&&($t=!0);ie=Mt.join("")}for(Se=ie.length;$t===void 0&&Se!==0;)ie.charCodeAt(Se-1)>>8&&($t=!0),Se--;if(!$t)return ie;for(Mt=ge.noBOM?[]:[254,255],Se=0,Fe=ie.length;Se<Fe;Se++){if((Yn=(an=ie.charCodeAt(Se))>>8)>>8)throw new Error("Character at position "+Se+" of string '"+ie+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Mt.push(Yn),Mt.push(an-(Yn<<8))}return String.fromCharCode.apply(void 0,Mt)})(x,z).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},sa=y.__private__.beginPage=function(x){We[++kt]=[],pt[kt]={objId:0,contentsObjId:0,userUnit:Number(d),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(x[0]),topRightY:Number(x[1])}},Ol(kt),ke(We[U])},Ya=function(x,z){var ie,ge,Se;switch(n=z||n,typeof x=="string"&&(ie=L(x.toLowerCase()),Array.isArray(ie)&&(ge=ie[0],Se=ie[1])),Array.isArray(x)&&(ge=x[0]*vt,Se=x[1]*vt),isNaN(ge)&&(ge=o[0],Se=o[1]),(ge>14400||Se>14400)&&(Un.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ge=Math.min(14400,ge),Se=Math.min(14400,Se)),o=[ge,Se],n.substr(0,1)){case"l":Se>ge&&(o=[Se,ge]);break;case"p":ge>Se&&(o=[Se,ge])}sa(o),Dt(io),O(Ri),$o!==0&&O($o+" J"),Or!==0&&O(Or+" j"),qt.publish("addPage",{pageNumber:kt})},jl=function(x){x>0&&x<=kt&&(We.splice(x,1),pt.splice(x,1),kt--,U>kt&&(U=kt),this.setPage(U))},Ol=function(x){x>0&&x<=kt&&(U=x)},Dl=y.__private__.getNumberOfPages=y.getNumberOfPages=function(){return We.length-1},Su=function(x,z,ie){var ge,Se=void 0;return ie=ie||{},x=x!==void 0?x:it[Ze].fontName,z=z!==void 0?z:it[Ze].fontStyle,ge=x.toLowerCase(),at[ge]!==void 0&&at[ge][z]!==void 0?Se=at[ge][z]:at[x]!==void 0&&at[x][z]!==void 0?Se=at[x][z]:ie.disableWarning===!1&&Un.warn("Unable to look up font label for font '"+x+"', '"+z+"'. Refer to getFontList() for available fonts."),Se||ie.noFallback||(Se=at.times[z])==null&&(Se=at.times.normal),Se},Ci=y.__private__.putInfo=function(){var x=gn(),z=function(ge){return ge};for(var ie in g!==null&&(z=Tr.encryptor(x,0)),O("<<"),O("/Producer ("+Ni(z("jsPDF "+Ct.version))+")"),Qe)Qe.hasOwnProperty(ie)&&Qe[ie]&&O("/"+ie.substr(0,1).toUpperCase()+ie.substr(1)+" ("+Ni(z(Qe[ie]))+")");O("/CreationDate ("+Ni(z(pe))+")"),O(">>"),O("endobj")},Va=y.__private__.putCatalog=function(x){var z=(x=x||{}).rootDictionaryObjId||Er;switch(gn(),O("<<"),O("/Type /Catalog"),O("/Pages "+z+" 0 R"),ve||(ve="fullwidth"),ve){case"fullwidth":O("/OpenAction [3 0 R /FitH null]");break;case"fullheight":O("/OpenAction [3 0 R /FitV null]");break;case"fullpage":O("/OpenAction [3 0 R /Fit]");break;case"original":O("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ie=""+ve;ie.substr(ie.length-1)==="%"&&(ve=parseInt(ve)/100),typeof ve=="number"&&O("/OpenAction [3 0 R /XYZ null null "+M(ve)+"]")}switch(ft||(ft="continuous"),ft){case"continuous":O("/PageLayout /OneColumn");break;case"single":O("/PageLayout /SinglePage");break;case"two":case"twoleft":O("/PageLayout /TwoColumnLeft");break;case"tworight":O("/PageLayout /TwoColumnRight")}et&&O("/PageMode /"+et),qt.publish("putCatalog"),O(">>"),O("endobj")},oa=y.__private__.putTrailer=function(){O("trailer"),O("<<"),O("/Size "+(ee+1)),O("/Root "+ee+" 0 R"),O("/Info "+(ee-1)+" 0 R"),g!==null&&O("/Encrypt "+Tr.oid+" 0 R"),O("/ID [ <"+F+"> <"+F+"> ]"),O(">>")},fn=y.__private__.putHeader=function(){O("%PDF-"+T),O("%")},zl=y.__private__.putXRef=function(){var x="0000000000";O("xref"),O("0 "+(ee+1)),O("0000000000 65535 f ");for(var z=1;z<=ee;z++)typeof de[z]=="function"?O((x+de[z]()).slice(-10)+" 00000 n "):de[z]!==void 0?O((x+de[z]).slice(-10)+" 00000 n "):O("0000000000 00000 n ")},ka=y.__private__.buildDocument=function(){var x;ee=0,xe=0,_e=[],de=[],Ne=[],Er=Ln(),En=Ln(),ke(_e),qt.publish("buildDocument"),fn(),na(),(function(){qt.publish("putAdditionalObjects");for(var ie=0;ie<Ne.length;ie++){var ge=Ne[ie];An(ge.objId,!0),O(ge.content),O("endobj")}qt.publish("postPutAdditionalObjects")})(),x=[],(function(){for(var ie in it)it.hasOwnProperty(ie)&&(w===!1||w===!0&&S.hasOwnProperty(ie))&&ra(it[ie])})(),(function(){var ie;for(ie in yt)yt.hasOwnProperty(ie)&&no(yt[ie])})(),(function(){for(var ie in bn)bn.hasOwnProperty(ie)&&Ls(bn[ie])})(),(function(ie){var ge;for(ge in dt)dt.hasOwnProperty(ge)&&(dt[ge]instanceof gu?ia(dt[ge]):dt[ge]instanceof Cc&&aa(dt[ge],ie))})(x),qt.publish("putResources"),x.forEach(Ta),Ta({resourcesOid:En,objectOid:Number.MAX_SAFE_INTEGER}),qt.publish("postPutResources"),g!==null&&(Tr.oid=gn(),O("<<"),O("/Filter /Standard"),O("/V "+Tr.v),O("/R "+Tr.r),O("/U <"+Tr.toHexString(Tr.U)+">"),O("/O <"+Tr.toHexString(Tr.O)+">"),O("/P "+Tr.P),O(">>"),O("endobj")),Ci(),Va();var z=xe;return zl(),oa(),O("startxref"),O(""+z),O("%%EOF"),ke(We[U]),_e.join(`
`)},Rs=y.__private__.getBlob=function(x){return new Blob([Ue(x)],{type:"application/pdf"})},Bl=y.output=y.__private__.output=(Wn=function(x,z){switch(typeof(z=z||{})=="string"?z={filename:z}:z.filename=z.filename||"generated.pdf",x){case void 0:return ka();case"save":y.save(z.filename);break;case"arraybuffer":return Ue(ka());case"blob":return Rs(ka());case"bloburi":case"bloburl":if(Ht.URL!==void 0&&typeof Ht.URL.createObjectURL=="function")return Ht.URL&&Ht.URL.createObjectURL(Rs(ka()))||void 0;Un.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ie="",ge=ka();try{ie=Ay(ge)}catch{ie=Ay(unescape(encodeURIComponent(ge)))}return"data:application/pdf;filename="+z.filename+";base64,"+ie;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ht)==="[object Window]"){var Se="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Fe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';z.pdfObjectUrl&&(Se=z.pdfObjectUrl,Fe="");var Je='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Se+'"'+Fe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(z)+");<\/script></body></html>",wt=Ht.open();return wt!==null&&wt.document.write(Je),wt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ht)==="[object Window]"){var Et='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(z.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+z.filename+'" width="500px" height="400px" /></body></html>',Mt=Ht.open();if(Mt!==null){Mt.document.write(Et);var $t=this;Mt.document.documentElement.querySelector("#pdfViewer").onload=function(){Mt.document.title=z.filename,Mt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open($t.output("bloburl"))}}return Mt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ht)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var an='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",z)+'"></iframe></body></html>',Yn=Ht.open();if(Yn!==null&&(Yn.document.write(an),Yn.document.title=z.filename),Yn||typeof safari>"u")return Yn;break;case"datauri":case"dataurl":return Ht.document.location.href=this.output("datauristring",z);default:return null}},Wn.foo=function(){try{return Wn.apply(this,arguments)}catch(ie){var x=ie.stack||"";~x.indexOf(" at ")&&(x=x.split(" at ")[1]);var z="Error in function "+x.split(`
`)[0].split("<")[0]+": "+ie.message;if(!Ht.console)throw new Error(z);Ht.console.error(z,ie),Ht.alert&&alert(z)}},Wn.foo.bar=Wn,Wn.foo),li=function(x){return Array.isArray(hr)===!0&&hr.indexOf(x)>-1};switch(a){case"pt":vt=1;break;case"mm":vt=72/25.4;break;case"cm":vt=72/2.54;break;case"in":vt=72;break;case"px":vt=li("px_scaling")==1?.75:96/72;break;case"pc":case"em":vt=12;break;case"ex":vt=6;break;default:if(typeof a!="number")throw new Error("Invalid unit: "+a);vt=a}var Tr=null;Y(),ue();var pr=y.__private__.getPageInfo=y.getPageInfo=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:pt[x].objId,pageNumber:x,pageContext:pt[x]}},Fo=y.__private__.getPageInfoByObjId=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var z in pt)if(pt[z].objId===x)break;return pr(z)},Au=y.__private__.getCurrentPageInfo=y.getCurrentPageInfo=function(){return{objId:pt[U].objId,pageNumber:U,pageContext:pt[U]}};y.addPage=function(){return Ya.apply(this,arguments),this},y.setPage=function(){return Ol.apply(this,arguments),ke.call(this,We[U]),this},y.insertPage=function(x){return this.addPage(),this.movePage(U,x),this},y.movePage=function(x,z){var ie,ge;if(x>z){ie=We[x],ge=pt[x];for(var Se=x;Se>z;Se--)We[Se]=We[Se-1],pt[Se]=pt[Se-1];We[z]=ie,pt[z]=ge,this.setPage(z)}else if(x<z){ie=We[x],ge=pt[x];for(var Fe=x;Fe<z;Fe++)We[Fe]=We[Fe+1],pt[Fe]=pt[Fe+1];We[z]=ie,pt[z]=ge,this.setPage(z)}return this},y.deletePage=function(){return jl.apply(this,arguments),this},y.__private__.text=y.text=function(x,z,ie,ge,Se){var Fe,Je,wt,Et,Mt,$t,an,Yn,sr,Rn=(ge=ge||{}).scope||this;if(typeof x=="number"&&typeof z=="number"&&(typeof ie=="string"||Array.isArray(ie))){var kr=ie;ie=z,z=x,x=kr}if(arguments[3]instanceof At==0?(wt=arguments[4],Et=arguments[5],Cn(an=arguments[3])==="object"&&an!==null||(typeof wt=="string"&&(Et=wt,wt=null),typeof an=="string"&&(Et=an,an=null),typeof an=="number"&&(wt=an,an=null),ge={flags:an,angle:wt,align:Et})):(P("The transform parameter of text() with a Matrix value"),sr=Se),isNaN(z)||isNaN(ie)||x==null)throw new Error("Invalid arguments passed to jsPDF.text");if(x.length===0)return Rn;var gr,Fr="",ns=typeof ge.lineHeightFactor=="number"?ge.lineHeightFactor:Ka,ca=Rn.internal.scaleFactor;function rs(hn){return hn=hn.split("	").join(Array(ge.TabLen||9).join(" ")),Ni(hn,an)}function Wl(hn){for(var sn,jn=hn.concat(),lr=[],Ia=jn.length;Ia--;)typeof(sn=jn.shift())=="string"?lr.push(sn):Array.isArray(hn)&&(sn.length===1||sn[1]===void 0&&sn[2]===void 0)?lr.push(sn[0]):lr.push([sn[0],sn[1],sn[2]]);return lr}function Go(hn,sn){var jn;if(typeof hn=="string")jn=sn(hn)[0];else if(Array.isArray(hn)){for(var lr,Ia,pa=hn.concat(),fo=[],Vl=pa.length;Vl--;)typeof(lr=pa.shift())=="string"?fo.push(sn(lr)[0]):Array.isArray(lr)&&typeof lr[0]=="string"&&(Ia=sn(lr[0],lr[1],lr[2]),fo.push([Ia[0],Ia[1],Ia[2]]));jn=fo}return jn}var La=!1,da=!0;if(typeof x=="string")La=!0;else if(Array.isArray(x)){var uo=x.concat();Je=[];for(var is,Dr=uo.length;Dr--;)(typeof(is=uo.shift())!="string"||Array.isArray(is)&&typeof is[0]!="string")&&(da=!1);La=da}if(La===!1)throw new Error('Type of text must be string or Array. "'+x+'" is not recognized.');typeof x=="string"&&(x=x.match(/[\r?\n]/)?x.split(/\r\n|\r|\n/g):[x]);var Os=te/Rn.internal.scaleFactor,Ds=Os*(ns-1);switch(ge.baseline){case"bottom":ie-=Ds;break;case"top":ie+=Os-Ds;break;case"hanging":ie+=Os-2*Ds;break;case"middle":ie+=Os/2-Ds}if(($t=ge.maxWidth||0)>0&&(typeof x=="string"?x=Rn.splitTextToSize(x,$t):Object.prototype.toString.call(x)==="[object Array]"&&(x=x.reduce(function(hn,sn){return hn.concat(Rn.splitTextToSize(sn,$t))},[]))),Fe={text:x,x:z,y:ie,options:ge,mutex:{pdfEscape:Ni,activeFontKey:Ze,fonts:it,activeFontSize:te}},qt.publish("preProcessText",Fe),x=Fe.text,wt=(ge=Fe.options).angle,sr instanceof At==0&&wt&&typeof wt=="number"){wt*=Math.PI/180,ge.rotationDirection===0&&(wt=-wt),$===D&&(wt=-wt);var Yo=Math.cos(wt),Ra=Math.sin(wt);sr=new At(Yo,Ra,-Ra,Yo,0,0)}else wt&&wt instanceof At&&(sr=wt);$!==D||sr||(sr=Ar),(Mt=ge.charSpace||Mi)!==void 0&&(Fr+=W(ae(Mt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Yn=ge.horizontalScale)!==void 0&&(Fr+=W(100*Yn)+` Tz
`),ge.lang;var ci=-1,as=ge.renderingMode!==void 0?ge.renderingMode:ge.stroke,Vo=Rn.internal.getCurrentPageInfo().pageContext;switch(as){case 0:case!1:case"fill":ci=0;break;case 1:case!0:case"stroke":ci=1;break;case 2:case"fillThenStroke":ci=2;break;case 3:case"invisible":ci=3;break;case 4:case"fillAndAddForClipping":ci=4;break;case 5:case"strokeAndAddPathForClipping":ci=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ci=6;break;case 7:case"addToPathForClipping":ci=7}var Gl=Vo.usedRenderingMode!==void 0?Vo.usedRenderingMode:-1;ci!==-1?Fr+=ci+` Tr
`:Gl!==-1&&(Fr+=`0 Tr
`),ci!==-1&&(Vo.usedRenderingMode=ci),Et=ge.align||"left";var ji,fa=te*ns,ss=Rn.internal.pageSize.getWidth(),Yl=it[Ze];Mt=ge.charSpace||Mi,$t=ge.maxWidth||0,an=Object.assign({autoencode:!0,noBOM:!0},ge.flags);var ha=[],zs=function(hn){return Rn.getStringUnitWidth(hn,{font:Yl,charSpace:Mt,fontSize:te,doKerning:!1})*te/ca};if(Object.prototype.toString.call(x)==="[object Array]"){var wi;Je=Wl(x),Et!=="left"&&(ji=Je.map(zs));var di,ja=0;if(Et==="right"){z-=ji[0],x=[],Dr=Je.length;for(var Oa=0;Oa<Dr;Oa++)Oa===0?(di=Li(z),wi=qr(ie)):(di=ae(ja-ji[Oa]),wi=-fa),x.push([Je[Oa],di,wi]),ja=ji[Oa]}else if(Et==="center"){z-=ji[0]/2,x=[],Dr=Je.length;for(var os=0;os<Dr;os++)os===0?(di=Li(z),wi=qr(ie)):(di=ae((ja-ji[os])/2),wi=-fa),x.push([Je[os],di,wi]),ja=ji[os]}else if(Et==="left"){x=[],Dr=Je.length;for(var Ko=0;Ko<Dr;Ko++)x.push(Je[Ko])}else if(Et==="justify"&&Yl.encoding==="Identity-H"){x=[],Dr=Je.length,$t=$t!==0?$t:ss;for(var Xo=0,or=0;or<Dr;or++)if(wi=or===0?qr(ie):-fa,di=or===0?Li(z):Xo,or<Dr-1){var Ou=ae(($t-ji[or])/(Je[or].split(" ").length-1)),Da=Je[or].split(" ");x.push([Da[0]+" ",di,wi]),Xo=0;for(var za=1;za<Da.length;za++){var Hr=(zs(Da[za-1]+" "+Da[za])-zs(Da[za]))*ca+Ou;za==Da.length-1?x.push([Da[za],Hr,0]):x.push([Da[za]+" ",Hr,0]),Xo-=Hr}}else x.push([Je[or],di,wi]);x.push(["",Xo,0])}else{if(Et!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(x=[],Dr=Je.length,$t=$t!==0?$t:ss,or=0;or<Dr;or++){wi=or===0?qr(ie):-fa,di=or===0?Li(z):0;var ls=Je[or].split(" ").length-1,Jo=ls>0?($t-ji[or])/ls:0;or<Dr-1?ha.push(W(ae(Jo))):ha.push(0),x.push([Je[or],di,wi])}}}(typeof ge.R2L=="boolean"?ge.R2L:Ye)===!0&&(x=Go(x,function(hn,sn,jn){return[hn.split("").reverse().join(""),sn,jn]})),Fe={text:x,x:z,y:ie,options:ge,mutex:{pdfEscape:Ni,activeFontKey:Ze,fonts:it,activeFontSize:te}},qt.publish("postProcessText",Fe),x=Fe.text,gr=Fe.mutex.isHex||!1;var Zo=it[Ze].encoding;Zo!=="WinAnsiEncoding"&&Zo!=="StandardEncoding"||(x=Go(x,function(hn,sn,jn){return[rs(hn),sn,jn]})),Je=Wl(x),x=[];for(var us,cs,Ba,co=Array.isArray(Je[0])?1:0,Oi="",ds=function(hn,sn,jn){var lr="";return jn instanceof At?(jn=typeof ge.angle=="number"?Sn(jn,new At(1,0,0,1,hn,sn)):Sn(new At(1,0,0,1,hn,sn),jn),$===D&&(jn=Sn(new At(1,0,0,-1,0,0),jn)),lr=jn.join(" ")+` Tm
`):lr=W(hn)+" "+W(sn)+` Td
`,lr},ei=0;ei<Je.length;ei++){switch(Oi="",co){case 1:Ba=(gr?"<":"(")+Je[ei][0]+(gr?">":")"),us=parseFloat(Je[ei][1]),cs=parseFloat(Je[ei][2]);break;case 0:Ba=(gr?"<":"(")+Je[ei]+(gr?">":")"),us=Li(z),cs=qr(ie)}ha!==void 0&&ha[ei]!==void 0&&(Oi=ha[ei]+` Tw
`),ei===0?x.push(Oi+ds(us,cs,sr)+Ba):co===0?x.push(Oi+Ba):co===1&&x.push(Oi+ds(us,cs,sr)+Ba)}x=co===0?x.join(` Tj
T* `):x.join(` Tj
`),x+=` Tj
`;var Ui=`BT
/`;return Ui+=Ze+" "+te+` Tf
`,Ui+=W(te*ns)+` TL
`,Ui+=Na+`
`,Ui+=Fr,Ui+=x,O(Ui+="ET"),S[Ze]=!0,Rn};var Il=y.__private__.clip=y.clip=function(x){return O(x==="evenodd"?"W*":"W"),this};y.clipEvenOdd=function(){return Il("evenodd")},y.__private__.discardPath=y.discardPath=function(){return O("n"),this};var ui=y.__private__.isValidStyle=function(x){var z=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(x)!==-1&&(z=!0),z};y.__private__.setDefaultPathOperation=y.setDefaultPathOperation=function(x){return ui(x)&&(h=x),this};var Ml=y.__private__.getStyle=y.getStyle=function(x){var z=h;switch(x){case"D":case"S":z="S";break;case"F":z="f";break;case"FD":case"DF":z="B";break;case"f":case"f*":case"B":case"B*":z=x}return z},Pl=y.close=function(){return O("h"),this};y.stroke=function(){return O("S"),this},y.fill=function(x){return la("f",x),this},y.fillEvenOdd=function(x){return la("f*",x),this},y.fillStroke=function(x){return la("B",x),this},y.fillStrokeEvenOdd=function(x){return la("B*",x),this};var la=function(x,z){Cn(z)==="object"?Tu(z,x):O(x)},ro=function(x){x===null||$===D&&x===void 0||(x=Ml(x),O(x))};function Eu(x,z,ie,ge,Se){var Fe=new Cc(z||this.boundingBox,ie||this.xStep,ge||this.yStep,this.gState,Se||this.matrix);Fe.stream=this.stream;var Je=x+"$$"+this.cloneIndex+++"$$";return Fn(Je,Fe),Fe}var Tu=function(x,z){var ie=Jt[x.key],ge=dt[ie];if(ge instanceof gu)O("q"),O(Ul(z)),ge.gState&&y.setGState(ge.gState),O(x.matrix.toString()+" cm"),O("/"+ie+" sh"),O("Q");else if(ge instanceof Cc){var Se=new At(1,0,0,-1,0,ts());x.matrix&&(Se=Se.multiply(x.matrix||Ar),ie=Eu.call(ge,x.key,x.boundingBox,x.xStep,x.yStep,Se).id),O("q"),O("/Pattern cs"),O("/"+ie+" scn"),ge.gState&&y.setGState(ge.gState),O(z),O("Q")}},Ul=function(x){switch(x){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},ql=y.moveTo=function(x,z){return O(W(ae(x))+" "+W(J(z))+" m"),this},ku=y.lineTo=function(x,z){return O(W(ae(x))+" "+W(J(z))+" l"),this},bi=y.curveTo=function(x,z,ie,ge,Se,Fe){return O([W(ae(x)),W(J(z)),W(ae(ie)),W(J(ge)),W(ae(Se)),W(J(Fe)),"c"].join(" ")),this};y.__private__.line=y.line=function(x,z,ie,ge,Se){if(isNaN(x)||isNaN(z)||isNaN(ie)||isNaN(ge)||!ui(Se))throw new Error("Invalid arguments passed to jsPDF.line");return $===I?this.lines([[ie-x,ge-z]],x,z,[1,1],Se||"S"):this.lines([[ie-x,ge-z]],x,z,[1,1]).stroke()},y.__private__.lines=y.lines=function(x,z,ie,ge,Se,Fe){var Je,wt,Et,Mt,$t,an,Yn,sr,Rn,kr,gr,Fr;if(typeof x=="number"&&(Fr=ie,ie=z,z=x,x=Fr),ge=ge||[1,1],Fe=Fe||!1,isNaN(z)||isNaN(ie)||!Array.isArray(x)||!Array.isArray(ge)||!ui(Se)||typeof Fe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ql(z,ie),Je=ge[0],wt=ge[1],Mt=x.length,kr=z,gr=ie,Et=0;Et<Mt;Et++)($t=x[Et]).length===2?(kr=$t[0]*Je+kr,gr=$t[1]*wt+gr,ku(kr,gr)):(an=$t[0]*Je+kr,Yn=$t[1]*wt+gr,sr=$t[2]*Je+kr,Rn=$t[3]*wt+gr,kr=$t[4]*Je+kr,gr=$t[5]*wt+gr,bi(an,Yn,sr,Rn,kr,gr));return Fe&&Pl(),ro(Se),this},y.path=function(x){for(var z=0;z<x.length;z++){var ie=x[z],ge=ie.c;switch(ie.op){case"m":ql(ge[0],ge[1]);break;case"l":ku(ge[0],ge[1]);break;case"c":bi.apply(this,ge);break;case"h":Pl()}}return this},y.__private__.rect=y.rect=function(x,z,ie,ge,Se){if(isNaN(x)||isNaN(z)||isNaN(ie)||isNaN(ge)||!ui(Se))throw new Error("Invalid arguments passed to jsPDF.rect");return $===I&&(ge=-ge),O([W(ae(x)),W(J(z)),W(ae(ie)),W(ae(ge)),"re"].join(" ")),ro(Se),this},y.__private__.triangle=y.triangle=function(x,z,ie,ge,Se,Fe,Je){if(isNaN(x)||isNaN(z)||isNaN(ie)||isNaN(ge)||isNaN(Se)||isNaN(Fe)||!ui(Je))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ie-x,ge-z],[Se-ie,Fe-ge],[x-Se,z-Fe]],x,z,[1,1],Je,!0),this},y.__private__.roundedRect=y.roundedRect=function(x,z,ie,ge,Se,Fe,Je){if(isNaN(x)||isNaN(z)||isNaN(ie)||isNaN(ge)||isNaN(Se)||isNaN(Fe)||!ui(Je))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var wt=4/3*(Math.SQRT2-1);return Se=Math.min(Se,.5*ie),Fe=Math.min(Fe,.5*ge),this.lines([[ie-2*Se,0],[Se*wt,0,Se,Fe-Fe*wt,Se,Fe],[0,ge-2*Fe],[0,Fe*wt,-Se*wt,Fe,-Se,Fe],[2*Se-ie,0],[-Se*wt,0,-Se,-Fe*wt,-Se,-Fe],[0,2*Fe-ge],[0,-Fe*wt,Se*wt,-Fe,Se,-Fe]],x+Se,z,[1,1],Je,!0),this},y.__private__.ellipse=y.ellipse=function(x,z,ie,ge,Se){if(isNaN(x)||isNaN(z)||isNaN(ie)||isNaN(ge)||!ui(Se))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Fe=4/3*(Math.SQRT2-1)*ie,Je=4/3*(Math.SQRT2-1)*ge;return ql(x+ie,z),bi(x+ie,z-Je,x+Fe,z-ge,x,z-ge),bi(x-Fe,z-ge,x-ie,z-Je,x-ie,z),bi(x-ie,z+Je,x-Fe,z+ge,x,z+ge),bi(x+Fe,z+ge,x+ie,z+Je,x+ie,z),ro(Se),this},y.__private__.circle=y.circle=function(x,z,ie,ge){if(isNaN(x)||isNaN(z)||isNaN(ie)||!ui(ge))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(x,z,ie,ie,ge)},y.setFont=function(x,z,ie){return ie&&(z=le(z,ie)),Ze=Su(x,z,{disableWarning:!1}),this};var ua=y.__private__.getFont=y.getFont=function(){return it[Su.apply(y,arguments)]};y.__private__.getFontList=y.getFontList=function(){var x,z,ie={};for(x in at)if(at.hasOwnProperty(x))for(z in ie[x]=[],at[x])at[x].hasOwnProperty(z)&&ie[x].push(z);return ie},y.addFont=function(x,z,ie,ge,Se){var Fe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Fe.indexOf(arguments[3])!==-1?Se=arguments[3]:arguments[3]&&Fe.indexOf(arguments[3])==-1&&(ie=le(ie,ge)),Rl.call(this,x,z,ie,Se=Se||"Identity-H")};var Ka,io=t.lineWidth||.200025,js=y.__private__.getLineWidth=y.getLineWidth=function(){return io},Dt=y.__private__.setLineWidth=y.setLineWidth=function(x){return io=x,O(W(ae(x))+" w"),this};y.__private__.setLineDash=Ct.API.setLineDash=Ct.API.setLineDashPattern=function(x,z){if(x=x||[],z=z||0,isNaN(z)||!Array.isArray(x))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return x=x.map(function(ie){return W(ae(ie))}).join(" "),z=W(ae(z)),O("["+x+"] "+z+" d"),this};var Nu=y.__private__.getLineHeight=y.getLineHeight=function(){return te*Ka};y.__private__.getLineHeight=y.getLineHeight=function(){return te*Ka};var Fl=y.__private__.setLineHeightFactor=y.setLineHeightFactor=function(x){return typeof(x=x||1.15)=="number"&&(Ka=x),this},Cu=y.__private__.getLineHeightFactor=y.getLineHeightFactor=function(){return Ka};Fl(t.lineHeight);var Li=y.__private__.getHorizontalCoordinate=function(x){return ae(x)},qr=y.__private__.getVerticalCoordinate=function(x){return $===D?x:pt[U].mediaBox.topRightY-pt[U].mediaBox.bottomLeftY-ae(x)},Hl=y.__private__.getHorizontalCoordinateString=y.getHorizontalCoordinateString=function(x){return W(Li(x))},ao=y.__private__.getVerticalCoordinateString=y.getVerticalCoordinateString=function(x){return W(qr(x))},Ri=t.strokeColor||"0 G";y.__private__.getStrokeColor=y.getDrawColor=function(){return Gn(Ri)},y.__private__.setStrokeColor=y.setDrawColor=function(x,z,ie,ge){return Ri=Qr({ch1:x,ch2:z,ch3:ie,ch4:ge,pdfColorType:"draw",precision:2}),O(Ri),this};var so=t.fillColor||"0 g";y.__private__.getFillColor=y.getFillColor=function(){return Gn(so)},y.__private__.setFillColor=y.setFillColor=function(x,z,ie,ge){return so=Qr({ch1:x,ch2:z,ch3:ie,ch4:ge,pdfColorType:"fill",precision:2}),O(so),this};var Na=t.textColor||"0 g",Lu=y.__private__.getTextColor=y.getTextColor=function(){return Gn(Na)};y.__private__.setTextColor=y.setTextColor=function(x,z,ie,ge){return Na=Qr({ch1:x,ch2:z,ch3:ie,ch4:ge,pdfColorType:"text",precision:3}),this};var Mi=t.charSpace,Ho=y.__private__.getCharSpace=y.getCharSpace=function(){return parseFloat(Mi||0)};y.__private__.setCharSpace=y.setCharSpace=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Mi=x,this};var $o=0;y.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},y.__private__.setLineCap=y.setLineCap=function(x){var z=y.CapJoinStyles[x];if(z===void 0)throw new Error("Line cap style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return $o=z,O(z+" J"),this};var Or=0;y.__private__.setLineJoin=y.setLineJoin=function(x){var z=y.CapJoinStyles[x];if(z===void 0)throw new Error("Line join style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Or=z,O(z+" j"),this},y.__private__.setLineMiterLimit=y.__private__.setMiterLimit=y.setLineMiterLimit=y.setMiterLimit=function(x){if(x=x||0,isNaN(x))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return O(W(ae(x))+" M"),this},y.GState=Fh,y.setGState=function(x){(x=typeof x=="string"?yt[Ot[x]]:Ca(null,x)).equals(vn)||(O("/"+x.id+" gs"),vn=x)};var Ca=function(x,z){if(!x||!Ot[x]){var ie=!1;for(var ge in yt)if(yt.hasOwnProperty(ge)&&yt[ge].equals(z)){ie=!0;break}if(ie)z=yt[ge];else{var Se="GS"+(Object.keys(yt).length+1).toString(10);yt[Se]=z,z.id=Se}return x&&(Ot[x]=z.id),qt.publish("addGState",z),z}};y.addGState=function(x,z){return Ca(x,z),this},y.saveGraphicsState=function(){return O("q"),It.push({key:Ze,size:te,color:Na}),this},y.restoreGraphicsState=function(){O("Q");var x=It.pop();return Ze=x.key,te=x.size,Na=x.color,vn=null,this},y.setCurrentTransformationMatrix=function(x){return O(x.toString()+" cm"),this},y.comment=function(x){return O("#"+x),this};var Pi=function(x,z){var ie=x||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ie},set:function(Fe){isNaN(Fe)||(ie=parseFloat(Fe))}});var ge=z||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ge},set:function(Fe){isNaN(Fe)||(ge=parseFloat(Fe))}});var Se="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Se},set:function(Fe){Se=Fe.toString()}}),this},Xa=function(x,z,ie,ge){Pi.call(this,x,z),this.type="rect";var Se=ie||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Se},set:function(Je){isNaN(Je)||(Se=parseFloat(Je))}});var Fe=ge||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Fe},set:function(Je){isNaN(Je)||(Fe=parseFloat(Je))}}),this},Wo=function(){this.page=kt,this.currentPage=U,this.pages=We.slice(0),this.pagesContext=pt.slice(0),this.x=rt,this.y=lt,this.matrix=ut,this.width=Za(U),this.height=$l(U),this.outputDestination=Ee,this.id="",this.objectNumber=-1};Wo.prototype.restore=function(){kt=this.page,U=this.currentPage,pt=this.pagesContext,We=this.pages,rt=this.x,lt=this.y,ut=this.matrix,lo(U,this.width),Qa(U,this.height),Ee=this.outputDestination};var oo=function(x,z,ie,ge,Se){$n.push(new Wo),kt=U=0,We=[],rt=x,lt=z,ut=Se,sa([ie,ge])};for(var Ja in y.beginFormObject=function(x,z,ie,ge,Se){return oo(x,z,ie,ge,Se),this},y.endFormObject=function(x){return(function(z){if(qn[z])$n.pop().restore();else{var ie=new Wo,ge="Xo"+(Object.keys(bn).length+1).toString(10);ie.id=ge,qn[z]=ge,bn[ge]=ie,qt.publish("addFormObject",ie),$n.pop().restore()}})(x),this},y.doFormObject=function(x,z){var ie=bn[qn[x]];return O("q"),O(z.toString()+" cm"),O("/"+ie.id+" Do"),O("Q"),this},y.getFormObject=function(x){var z=bn[qn[x]];return{x:z.x,y:z.y,width:z.width,height:z.height,matrix:z.matrix}},y.save=function(x,z){return x=x||"generated.pdf",(z=z||{}).returnPromise=z.returnPromise||!1,z.returnPromise===!1?(fu(Rs(ka()),x),typeof fu.unload=="function"&&Ht.setTimeout&&setTimeout(fu.unload,911),this):new Promise(function(ie,ge){try{var Se=fu(Rs(ka()),x);typeof fu.unload=="function"&&Ht.setTimeout&&setTimeout(fu.unload,911),ie(Se)}catch(Fe){ge(Fe.message)}})},Ct.API)Ct.API.hasOwnProperty(Ja)&&(Ja==="events"&&Ct.API.events.length?(function(x,z){var ie,ge,Se;for(Se=z.length-1;Se!==-1;Se--)ie=z[Se][0],ge=z[Se][1],x.subscribe.apply(x,[ie].concat(typeof ge=="function"?[ge]:ge))})(qt,Ct.API.events):y[Ja]=Ct.API[Ja]);function Za(x){return pt[x].mediaBox.topRightX-pt[x].mediaBox.bottomLeftX}function lo(x,z){pt[x].mediaBox.topRightX=z+pt[x].mediaBox.bottomLeftX}function $l(x){return pt[x].mediaBox.topRightY-pt[x].mediaBox.bottomLeftY}function Qa(x,z){pt[x].mediaBox.topRightY=z+pt[x].mediaBox.bottomLeftY}var es=y.getPageWidth=function(x){return Za(x=x||U)/vt},Ru=y.setPageWidth=function(x,z){lo(x,z*vt)},ts=y.getPageHeight=function(x){return $l(x=x||U)/vt},ju=y.setPageHeight=function(x,z){Qa(x,z*vt)};return y.internal={pdfEscape:Ni,getStyle:Ml,getFont:ua,getFontSize:Ie,getCharSpace:Ho,getTextColor:Lu,getLineHeight:Nu,getLineHeightFactor:Cu,getLineWidth:js,write:De,getHorizontalCoordinate:Li,getVerticalCoordinate:qr,getCoordinateString:Hl,getVerticalCoordinateString:ao,collections:{},newObject:gn,newAdditionalObject:vi,newObjectDeferred:Ln,newObjectDeferredBegin:An,getFilters:ki,putStream:Ii,events:qt,scaleFactor:vt,pageSize:{getWidth:function(){return es(U)},setWidth:function(x){Ru(U,x)},getHeight:function(){return ts(U)},setHeight:function(x){ju(U,x)}},encryptionOptions:g,encryption:Tr,getEncryptor:function(x){return g!==null?Tr.encryptor(x,0):function(z){return z}},output:Bl,getNumberOfPages:Dl,get pages(){return We},out:O,f2:M,f3:X,getPageInfo:pr,getPageInfoByObjId:Fo,getCurrentPageInfo:Au,getPDFVersion:E,Point:Pi,Rectangle:Xa,Matrix:At,hasHotfix:li},Object.defineProperty(y.internal.pageSize,"width",{get:function(){return es(U)},set:function(x){Ru(U,x)},enumerable:!0,configurable:!0}),Object.defineProperty(y.internal.pageSize,"height",{get:function(){return ts(U)},set:function(x){ju(U,x)},enumerable:!0,configurable:!0}),(function(x){for(var z=0,ie=$e.length;z<ie;z++){var ge=Rl.call(this,x[z][0],x[z][1],x[z][2],$e[z][3],!0);w===!1&&(S[ge]=!0);var Se=x[z][0].split("-");ar({id:ge,fontName:Se[0],fontStyle:Se[1]||""})}qt.publish("addFonts",{fonts:it,dictionary:at})}).call(y,$e),Ze="F1",Ya(o,n),qt.publish("initialized"),y}Tc.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Tc.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Tc.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Tc.prototype.processOwnerPassword=function(t,e){return Pg(Mg(e).substr(0,5),t)},Tc.prototype.encryptor=function(t,e){var n=Mg(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(a){return Pg(n,a)}},Fh.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||Cn(t)!==Cn(this))return!1;var a=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;a++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&a--;return a===0},Ct.API={events:[]},Ct.version="4.1.0";var _r=Ct.API,gm=1,_u=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},wc=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Hh=function(t){return t.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(e){var n=e.charCodeAt(0).toString(16).toUpperCase();return"#"+(n.length===1?"0"+n:n)})},Yt=function(t){return t.toFixed(2)},Sl=function(t){return t.toFixed(5)};_r.__acroform__={};var ta=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},Ny=function(t){return t*gm},Js=function(t){var e=new tw,n=St.internal.getHeight(t)||0,a=St.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Yt(a)),Number(Yt(n))],e},G7=_r.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},Y7=_r.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},V7=_r.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Lr=_r.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return V7(t,e-1)},Rr=_r.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return G7(t,e-1)},jr=_r.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Y7(t,e-1)},K7=_r.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,a=e.internal.getVerticalCoordinate,o=t[0],s=t[1],u=t[2],d=t[3],f={};return f.lowerLeft_X=n(o)||0,f.lowerLeft_Y=a(s+d)||0,f.upperRight_X=n(o+u)||0,f.upperRight_Y=a(s)||0,[Number(Yt(f.lowerLeft_X)),Number(Yt(f.lowerLeft_Y)),Number(Yt(f.upperRight_X)),Number(Yt(f.upperRight_Y))]},X7=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,a=Ug(t,n),o=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+o+" "+Yt(a.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(a.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Js(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},Ug=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,a={text:"",fontSize:""},o=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");o=t.multiline?o.map(function(M){return M.split(`
`)}):o.map(function(M){return[M]});var s=n,u=St.internal.getHeight(t)||0;u=u<0?-u:u;var d=St.internal.getWidth(t)||0;d=d<0?-d:d;var f=function(M,X,ae){if(M+1<o.length){var J=X+" "+o[M+1][0];return mh(J,t,ae).width<=d-4}return!1};s++;e:for(;s>0;){e="",s--;var h,g,w=mh("3",t,s).height,S=t.multiline?u-s:(u-w)/2,y=S+=2,T=0,E=0,N=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+mh(e,t,s=12).width+", FieldWidth:"+d+`
`;break}for(var L="",I=0,D=0;D<o.length;D++)if(o.hasOwnProperty(D)){var $=!1;if(o[D].length!==1&&N!==o[D].length-1){if((w+2)*(I+2)+2>u)continue e;L+=o[D][N],$=!0,E=D,D--}else{L=(L+=o[D][N]+" ").substr(L.length-1)==" "?L.substr(0,L.length-1):L;var ce=parseInt(D),he=f(ce,L,s),le=D>=o.length-1;if(he&&!le){L+=" ",N=0;continue}if(he||le){if(le)E=ce;else if(t.multiline&&(w+2)*(I+2)+2>u)continue e}else{if(!t.multiline||(w+2)*(I+2)+2>u)continue e;E=ce}}for(var W="",P=T;P<=E;P++){var oe=o[P];if(t.multiline){if(P===E){W+=oe[N]+" ",N=(N+1)%oe.length;continue}if(P===T){W+=oe[oe.length-1]+" ";continue}}W+=oe[0]+" "}switch(W=W.substr(W.length-1)==" "?W.substr(0,W.length-1):W,g=mh(W,t,s).width,t.textAlign){case"right":h=d-g-2;break;case"center":h=(d-g)/2;break;default:h=2}e+=Yt(h)+" "+Yt(y)+` Td
`,e+="("+_u(W)+`) Tj
`,e+=-Yt(h)+` 0 Td
`,y=-(s+2),g=0,T=$?E:E+1,I++,L=""}break}return a.text=e,a.fontSize=s,a},mh=function(t,e,n){var a=e.scope.internal.getFont(e.fontName,e.fontStyle),o=e.scope.getStringUnitWidth(t,{font:a,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:a,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:o}},J7={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Z7=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(a){return a.type===n.type&&a.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},Q7=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Ns.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(J7)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");gm=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new nw,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var a=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];s.objId=void 0,s.hasAnnotation&&Z7(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(a,o){var s=!a;for(var u in a||(o.internal.newObjectDeferredBegin(o.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),o.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),a=a||o.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(a.hasOwnProperty(u)){var d=a[u],f=[],h=d.Rect;if(d.Rect&&(d.Rect=K7(d.Rect,o)),o.internal.newObjectDeferredBegin(d.objId,!0),d.DA=St.createDefaultAppearanceStream(d),Cn(d)==="object"&&typeof d.getKeyValueListForStream=="function"&&(f=d.getKeyValueListForStream()),d.Rect=h,d.hasAppearanceStream&&!d.appearanceStreamContent){var g=X7(d);f.push({key:"AP",value:"<</N "+g+">>"}),o.internal.acroformPlugin.xForms.push(g)}if(d.appearanceStreamContent){var w="";for(var S in d.appearanceStreamContent)if(d.appearanceStreamContent.hasOwnProperty(S)){var y=d.appearanceStreamContent[S];if(w+="/"+S+" ",w+="<<",Object.keys(y).length>=1||Array.isArray(y)){for(var u in y)if(y.hasOwnProperty(u)){var T=y[u];typeof T=="function"&&(T=T.call(o,d)),w+="/"+u+" "+T+" ",o.internal.acroformPlugin.xForms.indexOf(T)>=0||o.internal.acroformPlugin.xForms.push(T)}}else typeof(T=y)=="function"&&(T=T.call(o,d)),w+="/"+u+" "+T,o.internal.acroformPlugin.xForms.indexOf(T)>=0||o.internal.acroformPlugin.xForms.push(T);w+=">>"}f.push({key:"AP",value:`<<
`+w+">>"})}o.internal.putStream({additionalKeyValues:f,objectId:d.objId}),o.internal.out("endobj")}s&&(function(E,N){for(var L in E)if(E.hasOwnProperty(L)){var I=L,D=E[L];N.internal.newObjectDeferredBegin(D.objId,!0),Cn(D)==="object"&&typeof D.putStream=="function"&&D.putStream(),delete E[I]}})(o.internal.acroformPlugin.xForms,o)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},ew=_r.__acroform__.arrayToPdfArray=function(t,e,n){var a=function(u){return u};if(Array.isArray(t)){for(var o="[",s=0;s<t.length;s++)switch(s!==0&&(o+=" "),Cn(t[s])){case"boolean":case"number":case"object":o+=t[s].toString();break;case"string":t[s].substr(0,1)==="/"?o+="/"+Hh(t[s].substr(1)):(e!==void 0&&n&&(a=n.internal.getEncryptor(e)),o+="("+_u(a(t[s].toString()))+")")}return o+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},sg=function(t,e,n){var a=function(o){return o};return e!==void 0&&n&&(a=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+_u(a(t))+")"},Qs=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Qs.prototype.toString=function(){return this.objId+" 0 R"},Qs.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Qs.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var a=e[n],o=this[a];o&&(Array.isArray(o)?t.push({key:a,value:ew(o,this.objId,this.scope)}):o instanceof Qs?(o.scope=this.scope,t.push({key:a,value:o.objId+" 0 R"})):typeof o!="function"&&t.push({key:a,value:o}))}return t};var tw=function(){Qs.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};ta(tw,Qs);var nw=function(){Qs.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(a){return a};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+_u(n(t))+")"}},set:function(n){t=n}})};ta(nw,Qs);var Ns=function t(){Qs.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(L){if(isNaN(L))throw new Error('Invalid value "'+L+'" for attribute F supplied.');e=L}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Lr(e,3)},set:function(L){L?this.F=Rr(e,3):this.F=jr(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(L){if(isNaN(L))throw new Error('Invalid value "'+L+'" for attribute Ff supplied.');n=L}});var a=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(a.length!==0)return a},set:function(L){a=L!==void 0?L:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[0])?0:a[0]},set:function(L){a[0]=L}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[1])?0:a[1]},set:function(L){a[1]=L}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[2])?0:a[2]},set:function(L){a[2]=L}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[3])?0:a[3]},set:function(L){a[3]=L}});var o="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return o},set:function(L){switch(L){case"/Btn":case"/Tx":case"/Ch":case"/Sig":o=L;break;default:throw new Error('Invalid value "'+L+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof $h)return;s="FieldObject"+t.FieldNum++}var L=function(I){return I};return this.scope&&(L=this.scope.internal.getEncryptor(this.objId)),"("+_u(L(s))+")"},set:function(L){s=L.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(L){s=L}});var u="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return u},set:function(L){u=L}});var d="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return d},set:function(L){d=L}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(L){f=L}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/gm:h},set:function(L){h=L}});var g="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return g},set:function(L){g=L}});var w="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!w||this instanceof $h||this instanceof yu))return sg(w,this.objId,this.scope)},set:function(L){L=L.toString(),w=L}});var S=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(S)return this instanceof oi==0?sg(S,this.objId,this.scope):S},set:function(L){L=L.toString(),S=this instanceof oi==0?L.substr(0,1)==="("?wc(L.substr(1,L.length-2)):wc(L):L}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof oi==1?wc(S.substr(1,S.length-1)):S},set:function(L){L=L.toString(),S=this instanceof oi==1?"/"+Hh(L):L}});var y=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(y)return y},set:function(L){this.V=L}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof oi==0?sg(y,this.objId,this.scope):y},set:function(L){L=L.toString(),y=this instanceof oi==0?L.substr(0,1)==="("?wc(L.substr(1,L.length-2)):wc(L):L}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof oi==1?wc(y.substr(1,y.length-1)):y},set:function(L){L=L.toString(),y=this instanceof oi==1?"/"+Hh(L):L}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var T,E=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return E},set:function(L){L=!!L,E=L}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(T)return T},set:function(L){T=L}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,1)},set:function(L){L?this.Ff=Rr(this.Ff,1):this.Ff=jr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,2)},set:function(L){L?this.Ff=Rr(this.Ff,2):this.Ff=jr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,3)},set:function(L){L?this.Ff=Rr(this.Ff,3):this.Ff=jr(this.Ff,3)}});var N=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(N!==null)return N},set:function(L){if([0,1,2].indexOf(L)===-1)throw new Error('Invalid value "'+L+'" for attribute Q supplied.');N=L}}),Object.defineProperty(this,"textAlign",{get:function(){var L;switch(N){case 0:default:L="left";break;case 1:L="center";break;case 2:L="right"}return L},configurable:!0,enumerable:!0,set:function(L){switch(L){case"right":case 2:N=2;break;case"center":case 1:N=1;break;default:N=0}}})};ta(Ns,Qs);var jc=function(){Ns.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return ew(e,this.objId,this.scope)},set:function(n){var a,o;o=[],typeof(a=n)=="string"&&(o=(function(s,u,d){d||(d=1);for(var f,h=[];f=u.exec(s);)h.push(f[d]);return h})(a,/\((.*?)\)/g)),e=o}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,a){for(a=a||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),a!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,18)},set:function(n){n?this.Ff=Rr(this.Ff,18):this.Ff=jr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Rr(this.Ff,19):this.Ff=jr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,20)},set:function(n){n?(this.Ff=Rr(this.Ff,20),e.sort()):this.Ff=jr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,22)},set:function(n){n?this.Ff=Rr(this.Ff,22):this.Ff=jr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,23)},set:function(n){n?this.Ff=Rr(this.Ff,23):this.Ff=jr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,27)},set:function(n){n?this.Ff=Rr(this.Ff,27):this.Ff=jr(this.Ff,27)}}),this.hasAppearanceStream=!1};ta(jc,Ns);var Oc=function(){jc.call(this),this.fontName="helvetica",this.combo=!1};ta(Oc,jc);var Dc=function(){Oc.call(this),this.combo=!0};ta(Dc,Oc);var Ah=function(){Dc.call(this),this.edit=!0};ta(Ah,Dc);var oi=function(){Ns.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,15)},set:function(n){n?this.Ff=Rr(this.Ff,15):this.Ff=jr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,16)},set:function(n){n?this.Ff=Rr(this.Ff,16):this.Ff=jr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,17)},set:function(n){n?this.Ff=Rr(this.Ff,17):this.Ff=jr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,26)},set:function(n){n?this.Ff=Rr(this.Ff,26):this.Ff=jr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var a,o=[];for(a in o.push("<<"),e)o.push("/"+a+" ("+_u(n(e[a]))+")");return o.push(">>"),o.join(`
`)}},set:function(n){Cn(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+Hh(n)}})};ta(oi,Ns);var Eh=function(){oi.call(this),this.pushButton=!0};ta(Eh,oi);var zc=function(){oi.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};ta(zc,oi);var $h=function(){var t,e;Ns.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(o){t=o}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(o){e=o}});var n,a={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var o=function(d){return d};this.scope&&(o=this.scope.internal.getEncryptor(this.objId));var s,u=[];for(s in u.push("<<"),a)u.push("/"+s+" ("+_u(o(a[s]))+")");return u.push(">>"),u.join(`
`)},set:function(o){Cn(o)==="object"&&(a=o)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return a.CA||""},set:function(o){typeof o=="string"&&(a.CA=o)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(o){n=o}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(o){n="/"+o}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=St.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ta($h,Ns),zc.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},zc.prototype.createOption=function(t){var e=new $h;return e.Parent=this,e.optionName=t,this.Kids.push(e),eT.call(this.scope,e),e};var Th=function(){oi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=St.CheckBox.createAppearanceStream()};ta(Th,oi);var yu=function(){Ns.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,13)},set:function(e){e?this.Ff=Rr(this.Ff,13):this.Ff=jr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,21)},set:function(e){e?this.Ff=Rr(this.Ff,21):this.Ff=jr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,23)},set:function(e){e?this.Ff=Rr(this.Ff,23):this.Ff=jr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,24)},set:function(e){e?this.Ff=Rr(this.Ff,24):this.Ff=jr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,25)},set:function(e){e?this.Ff=Rr(this.Ff,25):this.Ff=jr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,26)},set:function(e){e?this.Ff=Rr(this.Ff,26):this.Ff=jr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ta(yu,Ns);var kh=function(){yu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,14)},set:function(t){t?this.Ff=Rr(this.Ff,14):this.Ff=jr(this.Ff,14)}}),this.password=!0};ta(kh,yu);var St={CheckBox:{createAppearanceStream:function(){return{N:{On:St.CheckBox.YesNormal},D:{On:St.CheckBox.YesPushDown,Off:St.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Js(t);e.scope=t.scope;var n=[],a=t.scope.internal.getFont(t.fontName,t.fontStyle).id,o=t.scope.__private__.encodeColorString(t.color),s=Ug(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Yt(St.internal.getWidth(t))+" "+Yt(St.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+a+" "+Yt(s.fontSize)+" Tf "+o),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Js(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),o=[],s=St.internal.getHeight(t),u=St.internal.getWidth(t),d=Ug(t,t.caption);return o.push("1 g"),o.push("0 0 "+Yt(u)+" "+Yt(s)+" re"),o.push("f"),o.push("q"),o.push("0 0 1 rg"),o.push("0 0 "+Yt(u-1)+" "+Yt(s-1)+" re"),o.push("W"),o.push("n"),o.push("0 g"),o.push("BT"),o.push("/"+n+" "+Yt(d.fontSize)+" Tf "+a),o.push(d.text),o.push("ET"),o.push("Q"),e.stream=o.join(`
`),e},OffPushDown:function(t){var e=Js(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Yt(St.internal.getWidth(t))+" "+Yt(St.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:St.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=St.RadioButton.Circle.YesNormal,e.D[t]=St.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Js(t);e.scope=t.scope;var n=[],a=St.internal.getWidth(t)<=St.internal.getHeight(t)?St.internal.getWidth(t)/4:St.internal.getHeight(t)/4;a=Number((.9*a).toFixed(5));var o=St.internal.Bezier_C,s=Number((a*o).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Sl(St.internal.getWidth(t)/2)+" "+Sl(St.internal.getHeight(t)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),n.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),n.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),n.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Js(t);e.scope=t.scope;var n=[],a=St.internal.getWidth(t)<=St.internal.getHeight(t)?St.internal.getWidth(t)/4:St.internal.getHeight(t)/4;a=Number((.9*a).toFixed(5));var o=Number((2*a).toFixed(5)),s=Number((o*St.internal.Bezier_C).toFixed(5)),u=Number((a*St.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Sl(St.internal.getWidth(t)/2)+" "+Sl(St.internal.getHeight(t)/2)+" cm"),n.push(o+" 0 m"),n.push(o+" "+s+" "+s+" "+o+" 0 "+o+" c"),n.push("-"+s+" "+o+" -"+o+" "+s+" -"+o+" 0 c"),n.push("-"+o+" -"+s+" -"+s+" -"+o+" 0 -"+o+" c"),n.push(s+" -"+o+" "+o+" -"+s+" "+o+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Sl(St.internal.getWidth(t)/2)+" "+Sl(St.internal.getHeight(t)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+u+" "+u+" "+a+" 0 "+a+" c"),n.push("-"+u+" "+a+" -"+a+" "+u+" -"+a+" 0 c"),n.push("-"+a+" -"+u+" -"+u+" -"+a+" 0 -"+a+" c"),n.push(u+" -"+a+" "+a+" -"+u+" "+a+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Js(t);e.scope=t.scope;var n=[],a=St.internal.getWidth(t)<=St.internal.getHeight(t)?St.internal.getWidth(t)/4:St.internal.getHeight(t)/4;a=Number((.9*a).toFixed(5));var o=Number((2*a).toFixed(5)),s=Number((o*St.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Sl(St.internal.getWidth(t)/2)+" "+Sl(St.internal.getHeight(t)/2)+" cm"),n.push(o+" 0 m"),n.push(o+" "+s+" "+s+" "+o+" 0 "+o+" c"),n.push("-"+s+" "+o+" -"+o+" "+s+" -"+o+" 0 c"),n.push("-"+o+" -"+s+" -"+s+" -"+o+" 0 -"+o+" c"),n.push(s+" -"+o+" "+o+" -"+s+" "+o+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:St.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=St.RadioButton.Cross.YesNormal,e.D[t]=St.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Js(t);e.scope=t.scope;var n=[],a=St.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Yt(St.internal.getWidth(t)-2)+" "+Yt(St.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Yt(a.x1.x)+" "+Yt(a.x1.y)+" m"),n.push(Yt(a.x2.x)+" "+Yt(a.x2.y)+" l"),n.push(Yt(a.x4.x)+" "+Yt(a.x4.y)+" m"),n.push(Yt(a.x3.x)+" "+Yt(a.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Js(t);e.scope=t.scope;var n=St.internal.calculateCross(t),a=[];return a.push("0.749023 g"),a.push("0 0 "+Yt(St.internal.getWidth(t))+" "+Yt(St.internal.getHeight(t))+" re"),a.push("f"),a.push("q"),a.push("1 1 "+Yt(St.internal.getWidth(t)-2)+" "+Yt(St.internal.getHeight(t)-2)+" re"),a.push("W"),a.push("n"),a.push(Yt(n.x1.x)+" "+Yt(n.x1.y)+" m"),a.push(Yt(n.x2.x)+" "+Yt(n.x2.y)+" l"),a.push(Yt(n.x4.x)+" "+Yt(n.x4.y)+" m"),a.push(Yt(n.x3.x)+" "+Yt(n.x3.y)+" l"),a.push("s"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(t){var e=Js(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Yt(St.internal.getWidth(t))+" "+Yt(St.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};St.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=St.internal.getWidth(t),n=St.internal.getHeight(t),a=Math.min(e,n);return{x1:{x:(e-a)/2,y:(n-a)/2+a},x2:{x:(e-a)/2+a,y:(n-a)/2},x3:{x:(e-a)/2,y:(n-a)/2},x4:{x:(e-a)/2+a,y:(n-a)/2+a}}}},St.internal.getWidth=function(t){var e=0;return Cn(t)==="object"&&(e=Ny(t.Rect[2])),e},St.internal.getHeight=function(t){var e=0;return Cn(t)==="object"&&(e=Ny(t.Rect[3])),e};var eT=_r.addField=function(t){if(Q7(this,t),!(t instanceof Ns))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};_r.AcroFormChoiceField=jc,_r.AcroFormListBox=Oc,_r.AcroFormComboBox=Dc,_r.AcroFormEditBox=Ah,_r.AcroFormButton=oi,_r.AcroFormPushButton=Eh,_r.AcroFormRadioButton=zc,_r.AcroFormCheckBox=Th,_r.AcroFormTextField=yu,_r.AcroFormPasswordField=kh,_r.AcroFormAppearance=St,_r.AcroForm={ChoiceField:jc,ListBox:Oc,ComboBox:Dc,EditBox:Ah,Button:oi,PushButton:Eh,RadioButton:zc,CheckBox:Th,TextField:yu,PasswordField:kh,Appearance:St},Ct.AcroForm={ChoiceField:jc,ListBox:Oc,ComboBox:Dc,EditBox:Ah,Button:oi,PushButton:Eh,RadioButton:zc,CheckBox:Th,TextField:yu,PasswordField:kh,Appearance:St};Ct.AcroForm;function rw(t){return t.reduce(function(e,n,a){return e[n]=a,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",a={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},o=t.__addimage__.getImageFileTypeByImageData=function(M,X){var ae,J,pe,F,se,ue=n;if((X=X||n)==="RGBA"||M.data!==void 0&&M.data instanceof Uint8ClampedArray&&"height"in M&&"width"in M)return"RGBA";if(he(M))for(se in a)for(pe=a[se],ae=0;ae<pe.length;ae+=1){for(F=!0,J=0;J<pe[ae].length;J+=1)if(pe[ae][J]!==void 0&&pe[ae][J]!==M[J]){F=!1;break}if(F===!0){ue=se;break}}else for(se in a)for(pe=a[se],ae=0;ae<pe.length;ae+=1){for(F=!0,J=0;J<pe[ae].length;J+=1)if(pe[ae][J]!==void 0&&pe[ae][J]!==M.charCodeAt(J)){F=!1;break}if(F===!0){ue=se;break}}return ue===n&&X!==n&&(ue=X),ue},s=function M(X){for(var ae=this.internal.write,J=this.internal.putStream,pe=(0,this.internal.getFilters)();pe.indexOf("FlateEncode")!==-1;)pe.splice(pe.indexOf("FlateEncode"),1);X.objectId=this.internal.newObject();var F=[];if(F.push({key:"Type",value:"/XObject"}),F.push({key:"Subtype",value:"/Image"}),F.push({key:"Width",value:X.width}),F.push({key:"Height",value:X.height}),X.colorSpace===L.INDEXED?F.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(X.palette.length/3-1)+" "+("sMask"in X&&X.sMask!==void 0?X.objectId+2:X.objectId+1)+" 0 R]"}):(F.push({key:"ColorSpace",value:"/"+X.colorSpace}),X.colorSpace===L.DEVICE_CMYK&&F.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),F.push({key:"BitsPerComponent",value:X.bitsPerComponent}),"decodeParameters"in X&&X.decodeParameters!==void 0&&F.push({key:"DecodeParms",value:"<<"+X.decodeParameters+">>"}),"transparency"in X&&Array.isArray(X.transparency)&&X.transparency.length>0){for(var se="",ue=0,be=X.transparency.length;ue<be;ue++)se+=X.transparency[ue]+" "+X.transparency[ue]+" ";F.push({key:"Mask",value:"["+se+"]"})}X.sMask!==void 0&&F.push({key:"SMask",value:X.objectId+1+" 0 R"});var Oe=X.filter!==void 0?["/"+X.filter]:void 0;if(J({data:X.data,additionalKeyValues:F,alreadyAppliedFilters:Oe,objectId:X.objectId}),ae("endobj"),"sMask"in X&&X.sMask!==void 0){var Y,C=(Y=X.sMaskBitsPerComponent)!==null&&Y!==void 0?Y:X.bitsPerComponent,U={width:X.width,height:X.height,colorSpace:"DeviceGray",bitsPerComponent:C,data:X.sMask};"filter"in X&&(U.decodeParameters="/Predictor ".concat(X.predictor," /Colors 1 /BitsPerComponent ").concat(C," /Columns ").concat(X.width),U.filter=X.filter),M.call(this,U)}if(X.colorSpace===L.INDEXED){var Z=this.internal.newObject();J({data:W(new Uint8Array(X.palette)),objectId:Z}),ae("endobj")}},u=function(){var M=this.internal.collections[e+"images"];for(var X in M)s.call(this,M[X])},d=function(){var M,X=this.internal.collections[e+"images"],ae=this.internal.write;for(var J in X)ae("/I"+(M=X[J]).index,M.objectId,"0","R")},f=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",u),this.internal.events.subscribe("putXobjectDict",d))},h=function(){var M=this.internal.collections[e+"images"];return f.call(this),M},g=function(){return Object.keys(this.internal.collections[e+"images"]).length},w=function(M){return typeof t["process"+M.toUpperCase()]=="function"},S=function(M){return Cn(M)==="object"&&M.nodeType===1},y=function(M,X){if(M.nodeName==="IMG"&&M.hasAttribute("src")){var ae=""+M.getAttribute("src");if(ae.indexOf("data:image/")===0)return Sh(unescape(ae).split("base64,").pop());var J=t.loadFile(ae,!0);if(J!==void 0)return J}if(M.nodeName==="CANVAS"){if(M.width===0||M.height===0)throw new Error("Given canvas must have data. Canvas width: "+M.width+", height: "+M.height);var pe;switch(X){case"PNG":pe="image/png";break;case"WEBP":pe="image/webp";break;default:pe="image/jpeg"}return Sh(M.toDataURL(pe,1).split("base64,").pop())}},T=function(M){var X=this.internal.collections[e+"images"];if(X){for(var ae in X)if(M===X[ae].alias)return X[ae]}},E=function(M,X,ae){return M||X||(M=-96,X=-96),M<0&&(M=-1*ae.width*72/M/this.internal.scaleFactor),X<0&&(X=-1*ae.height*72/X/this.internal.scaleFactor),M===0&&(M=X*ae.width/ae.height),X===0&&(X=M*ae.height/ae.width),[M,X]},N=function(M,X,ae,J,pe,F){var se=E.call(this,ae,J,pe),ue=this.internal.getCoordinateString,be=this.internal.getVerticalCoordinateString,Oe=h.call(this);if(ae=se[0],J=se[1],Oe[pe.index]=pe,F){F*=Math.PI/180;var Y=Math.cos(F),C=Math.sin(F),U=function(V){return V.toFixed(4)},Z=[U(Y),U(C),U(-1*C),U(Y),0,0,"cm"]}this.internal.write("q"),F?(this.internal.write([1,"0","0",1,ue(M),be(X+J),"cm"].join(" ")),this.internal.write(Z.join(" ")),this.internal.write([ue(ae),"0","0",ue(J),"0","0","cm"].join(" "))):this.internal.write([ue(ae),"0","0",ue(J),ue(M),be(X+J),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+pe.index+" Do"),this.internal.write("Q")},L=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var I=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},D=t.__addimage__.sHashCode=function(M){var X,ae,J=0;if(typeof M=="string")for(ae=M.length,X=0;X<ae;X++)J=(J<<5)-J+M.charCodeAt(X),J|=0;else if(he(M))for(ae=M.byteLength/2,X=0;X<ae;X++)J=(J<<5)-J+M[X],J|=0;return J},$=t.__addimage__.validateStringAsBase64=function(M){(M=M||"").toString().trim();var X=!0;return M.length===0&&(X=!1),M.length%4!=0&&(X=!1),/^[A-Za-z0-9+/]+$/.test(M.substr(0,M.length-2))===!1&&(X=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(M.substr(-2))===!1&&(X=!1),X},ce=t.__addimage__.extractImageFromDataUrl=function(M){if(M==null||!(M=M.trim()).startsWith("data:"))return null;var X=M.indexOf(",");return X<0?null:M.substring(0,X).trim().endsWith("base64")?M.substring(X+1):null};t.__addimage__.isArrayBuffer=function(M){return M instanceof ArrayBuffer};var he=t.__addimage__.isArrayBufferView=function(M){return M instanceof Int8Array||M instanceof Uint8Array||M instanceof Uint8ClampedArray||M instanceof Int16Array||M instanceof Uint16Array||M instanceof Int32Array||M instanceof Uint32Array||M instanceof Float32Array||M instanceof Float64Array},le=t.__addimage__.binaryStringToUint8Array=function(M){for(var X=M.length,ae=new Uint8Array(X),J=0;J<X;J++)ae[J]=M.charCodeAt(J);return ae},W=t.__addimage__.arrayBufferToBinaryString=function(M){for(var X="",ae=he(M)?M:new Uint8Array(M),J=0;J<ae.length;J+=8192)X+=String.fromCharCode.apply(null,ae.subarray(J,J+8192));return X};t.addImage=function(){var M,X,ae,J,pe,F,se,ue,be;if(typeof arguments[1]=="number"?(X=n,ae=arguments[1],J=arguments[2],pe=arguments[3],F=arguments[4],se=arguments[5],ue=arguments[6],be=arguments[7]):(X=arguments[1],ae=arguments[2],J=arguments[3],pe=arguments[4],F=arguments[5],se=arguments[6],ue=arguments[7],be=arguments[8]),Cn(M=arguments[0])==="object"&&!S(M)&&"imageData"in M){var Oe=M;M=Oe.imageData,X=Oe.format||X||n,ae=Oe.x||ae||0,J=Oe.y||J||0,pe=Oe.w||Oe.width||pe,F=Oe.h||Oe.height||F,se=Oe.alias||se,ue=Oe.compression||ue,be=Oe.rotation||Oe.angle||be}var Y=this.internal.getFilters();if(ue===void 0&&Y.indexOf("FlateEncode")!==-1&&(ue="SLOW"),isNaN(ae)||isNaN(J))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var C=P.call(this,M,X,se,ue);return N.call(this,ae,J,pe,F,C,be),this};var P=function(M,X,ae,J){var pe,F,se;if(typeof M=="string"&&o(M)===n){M=unescape(M);var ue=oe(M,!1);(ue!==""||(ue=t.loadFile(M,!0))!==void 0)&&(M=ue)}if(S(M)&&(M=y(M,X)),X=o(M,X),!w(X))throw new Error("addImage does not support files of type '"+X+"', please ensure that a plugin for '"+X+"' support is added.");if(((se=ae)==null||se.length===0)&&(ae=(function(be){return typeof be=="string"||he(be)?D(be):he(be.data)?D(be.data):null})(M)),(pe=T.call(this,ae))||(M instanceof Uint8Array||X==="RGBA"||(F=M,M=le(M)),pe=this["process"+X.toUpperCase()](M,g.call(this),ae,(function(be){return be&&typeof be=="string"&&(be=be.toUpperCase()),be in t.image_compression?be:I.NONE})(J),F)),!pe)throw new Error("An unknown error occurred whilst processing the image.");return pe},oe=t.__addimage__.convertBase64ToBinaryString=function(M,X){X=typeof X!="boolean"||X;var ae,J="";if(typeof M=="string"){var pe;ae=(pe=ce(M))!==null&&pe!==void 0?pe:M;try{J=Sh(ae)}catch(F){if(X)throw $(ae)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+F.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return J};t.getImageProperties=function(M){var X,ae,J="";if(S(M)&&(M=y(M)),typeof M=="string"&&o(M)===n&&((J=oe(M,!1))===""&&(J=t.loadFile(M)||""),M=J),ae=o(M),!w(ae))throw new Error("addImage does not support files of type '"+ae+"', please ensure that a plugin for '"+ae+"' support is added.");if(M instanceof Uint8Array||(M=le(M)),!(X=this["process"+ae.toUpperCase()](M)))throw new Error("An unknown error occurred whilst processing the image");return X.fileType=ae,X}})(Ct.API),(function(t){var e=function(n){if(n!==void 0&&n!="")return!0};Ct.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var a,o,s,u=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(n.objId),h=n.pageContext.annotations,g=!1,w=0;w<h.length&&!g;w++)switch((a=h[w]).type){case"link":(e(a.options.url)||e(a.options.pageNumber))&&(g=!0);break;case"reference":case"text":case"freetext":g=!0}if(g!=0){this.internal.write("/Annots [");for(var S=0;S<h.length;S++){a=h[S];var y=this.internal.pdfEscape,T=this.internal.getEncryptor(n.objId);switch(a.type){case"reference":this.internal.write(" "+a.object.objId+" 0 R ");break;case"text":var E=this.internal.newAdditionalObject(),N=this.internal.newAdditionalObject(),L=this.internal.getEncryptor(E.objId),I=a.title||"Note";s="<</Type /Annot /Subtype /Text "+(o="/Rect ["+u(a.bounds.x)+" "+d(a.bounds.y+a.bounds.h)+" "+u(a.bounds.x+a.bounds.w)+" "+d(a.bounds.y)+"] ")+"/Contents ("+y(L(a.contents))+")",s+=" /Popup "+N.objId+" 0 R",s+=" /P "+f.objId+" 0 R",s+=" /T ("+y(L(I))+") >>",E.content=s;var D=E.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(o="/Rect ["+u(a.bounds.x+30)+" "+d(a.bounds.y+a.bounds.h)+" "+u(a.bounds.x+a.bounds.w+30)+" "+d(a.bounds.y)+"] ")+" /Parent "+D,a.open&&(s+=" /Open true"),s+=" >>",N.content=s,this.internal.write(E.objId,"0 R",N.objId,"0 R");break;case"freetext":o="/Rect ["+u(a.bounds.x)+" "+d(a.bounds.y)+" "+u(a.bounds.x+a.bounds.w)+" "+d(a.bounds.y+a.bounds.h)+"] ";var $=a.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+o+"/Contents ("+y(T(a.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+$+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(a.options.name){var ce=this.annotations._nameMap[a.options.name];a.options.pageNumber=ce.page,a.options.top=ce.y}else a.options.top||(a.options.top=0);if(o="/Rect ["+a.finalBounds.x+" "+a.finalBounds.y+" "+a.finalBounds.w+" "+a.finalBounds.h+"] ",s="",a.options.url)s="<</Type /Annot /Subtype /Link "+o+"/Border [0 0 0] /A <</S /URI /URI ("+y(T(a.options.url))+") >>";else if(a.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+o+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(a.options.pageNumber).objId+" 0 R",a.options.magFactor=a.options.magFactor||"XYZ",a.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+a.options.top+"]";break;case"FitV":a.options.left=a.options.left||0,s+=" /FitV "+a.options.left+"]";break;default:var he=d(a.options.top);a.options.left=a.options.left||0,a.options.zoom===void 0&&(a.options.zoom=0),s+=" /XYZ "+a.options.left+" "+he+" "+a.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var a=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":a.pageContext.annotations.push(n)}},t.link=function(n,a,o,s,u){var d=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;d.pageContext.annotations.push({finalBounds:{x:f(n),y:h(a),w:f(n+o),h:h(a+s)},options:u,type:"link"})},t.textWithLink=function(n,a,o,s){var u,d,f=this.getTextWidth(n),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){d=s.maxWidth;var g=this.splitTextToSize(n,d).length;u=Math.ceil(h*g)}else d=f,u=h;return this.text(n,a,o,s),o+=.2*h,s.align==="center"&&(a-=f/2),s.align==="right"&&(a-=f),this.link(a,o-h,d,u,s),f},t.getTextWidth=function(n){var a=this.internal.getFontSize();return this.getStringUnitWidth(n)*a/this.internal.scaleFactor}})(Ct.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},a={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},o=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(E){return e[E.charCodeAt(0)]!==void 0},u=t.__arabicParser__.isArabicLetter=function(E){return typeof E=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(E)},d=t.__arabicParser__.isArabicEndLetter=function(E){return u(E)&&s(E)&&e[E.charCodeAt(0)].length<=2},f=t.__arabicParser__.isArabicAlfLetter=function(E){return u(E)&&o.indexOf(E.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(E){return u(E)&&s(E)&&e[E.charCodeAt(0)].length>=1};var h=t.__arabicParser__.arabicLetterHasFinalForm=function(E){return u(E)&&s(E)&&e[E.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(E){return u(E)&&s(E)&&e[E.charCodeAt(0)].length>=3};var g=t.__arabicParser__.arabicLetterHasMedialForm=function(E){return u(E)&&s(E)&&e[E.charCodeAt(0)].length==4},w=t.__arabicParser__.resolveLigatures=function(E){var N=0,L=n,I="",D=0;for(N=0;N<E.length;N+=1)L[E.charCodeAt(N)]!==void 0?(D++,typeof(L=L[E.charCodeAt(N)])=="number"&&(I+=String.fromCharCode(L),L=n,D=0),N===E.length-1&&(L=n,I+=E.charAt(N-(D-1)),N-=D-1,D=0)):(L=n,I+=E.charAt(N-D),N-=D,D=0);return I};t.__arabicParser__.isArabicDiacritic=function(E){return E!==void 0&&a[E.charCodeAt(0)]!==void 0};var S=t.__arabicParser__.getCorrectForm=function(E,N,L){return u(E)?s(E)===!1?-1:!h(E)||!u(N)&&!u(L)||!u(L)&&d(N)||d(E)&&!u(N)||d(E)&&f(N)||d(E)&&d(N)?0:g(E)&&u(N)&&!d(N)&&u(L)&&h(L)?3:d(E)||!u(L)?1:2:-1},y=function(E){var N=0,L=0,I=0,D="",$="",ce="",he=(E=E||"").split("\\s+"),le=[];for(N=0;N<he.length;N+=1){for(le.push(""),L=0;L<he[N].length;L+=1)D=he[N][L],$=he[N][L-1],ce=he[N][L+1],u(D)?(I=S(D,$,ce),le[N]+=I!==-1?String.fromCharCode(e[D.charCodeAt(0)][I]):D):le[N]+=D;le[N]=w(le[N])}return le.join(" ")},T=t.__arabicParser__.processArabic=t.processArabic=function(){var E,N=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,L=[];if(Array.isArray(N)){var I=0;for(L=[],I=0;I<N.length;I+=1)Array.isArray(N[I])?L.push([y(N[I][0]),N[I][1],N[I][2]]):L.push([y(N[I])]);E=L}else E=y(N);return typeof arguments[0]=="string"?E:(arguments[0].text=E,arguments[0])};t.events.push(["preProcessText",T])})(Ct.API),Ct.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(d){n=d}});var a=150;Object.defineProperty(this,"width",{get:function(){return a},set:function(d){a=isNaN(d)||Number.isInteger(d)===!1||d<0?150:d,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=a+1)}});var o=300;Object.defineProperty(this,"height",{get:function(){return o},set:function(d){o=isNaN(d)||Number.isInteger(d)===!1||d<0?300:d,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=o+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(d){s=d}});var u={};Object.defineProperty(this,"style",{get:function(){return u},set:function(d){u=d}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,a){var o;if((n=n||"2d")!=="2d")return null;for(o in a)this.pdf.context2d.hasOwnProperty(o)&&(this.pdf.context2d[o]=a[o]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Ct.API),(function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,a=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),o.call(this))},o=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(E){f=E}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(E){h=E}});var g=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return g},set:function(E){g=E}});var w=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return w},set:function(E){w=E}});var S=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return S},set:function(E){S=E}});var y=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return y},set:function(E){y=E}});var T=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return T},set:function(E){T=E}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(f){return a.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},t.getTextDimensions=function(f,h){a.call(this);var g=(h=h||{}).fontSize||this.getFontSize(),w=h.font||this.getFont(),S=h.scaleFactor||this.internal.scaleFactor,y=0,T=0,E=0,N=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var L=h.maxWidth;L>0?typeof f=="string"?f=this.splitTextToSize(f,L):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(D,$){return D.concat(N.splitTextToSize($,L))},[])):f=Array.isArray(f)?f:[f];for(var I=0;I<f.length;I++)y<(E=this.getStringUnitWidth(f[I],{font:w})*g)&&(y=E);return y!==0&&(T=f.length),{w:y/=S,h:Math.max((T*g*this.getLineHeightFactor()-g*(this.getLineHeightFactor()-1))/S,0)}},t.cellAddPage=function(){a.call(this),this.addPage();var f=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var u=t.cell=function(){var f;f=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),a.call(this);var h=this.internal.__cell__.lastCell,g=this.internal.__cell__.padding,w=this.internal.__cell__.margins||e,S=this.internal.__cell__.tableHeaderRow,y=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===f.lineNumber?(f.x=(h.x||0)+(h.width||0),f.y=h.y||0):h.y+h.height+f.height+w.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=w.top,y&&S&&(this.printHeaderRow(f.lineNumber,!0),f.y+=S[0].height)):f.y=h.y+h.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,n===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-g,f.y+g,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+g,{align:"center",baseline:"top",maxWidth:f.width-g-g}):this.text(f.text,f.x+g,f.y+g,{align:"left",baseline:"top",maxWidth:f.width-g-g})),this.internal.__cell__.lastCell=f,this};t.table=function(f,h,g,w,S){if(a.call(this),!g)throw new Error("No data for PDF table.");var y,T,E,N,L=[],I=[],D=[],$={},ce={},he=[],le=[],W=(S=S||{}).autoSize||!1,P=S.printHeaders!==!1,oe=S.css&&S.css["font-size"]!==void 0?16*S.css["font-size"]:S.fontSize||12,M=S.margins||Object.assign({width:this.getPageWidth()},e),X=typeof S.padding=="number"?S.padding:3,ae=S.headerBackgroundColor||"#c8c8c8",J=S.headerTextColor||"#000";if(o.call(this),this.internal.__cell__.printHeaders=P,this.internal.__cell__.margins=M,this.internal.__cell__.table_font_size=oe,this.internal.__cell__.padding=X,this.internal.__cell__.headerBackgroundColor=ae,this.internal.__cell__.headerTextColor=J,this.setFontSize(oe),w==null)I=L=Object.keys(g[0]),D=L.map(function(){return"left"});else if(Array.isArray(w)&&Cn(w[0])==="object")for(L=w.map(function(Oe){return Oe.name}),I=w.map(function(Oe){return Oe.prompt||Oe.name||""}),D=w.map(function(Oe){return Oe.align||"left"}),y=0;y<w.length;y+=1)ce[w[y].name]=.7499990551181103*w[y].width;else Array.isArray(w)&&typeof w[0]=="string"&&(I=L=w,D=L.map(function(){return"left"}));if(W||Array.isArray(w)&&typeof w[0]=="string")for(y=0;y<L.length;y+=1){for($[N=L[y]]=g.map(function(Oe){return Oe[N]}),this.setFont(void 0,"bold"),he.push(this.getTextDimensions(I[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),T=$[N],this.setFont(void 0,"normal"),E=0;E<T.length;E+=1)he.push(this.getTextDimensions(T[E],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ce[N]=Math.max.apply(null,he)+X+X,he=[]}if(P){var pe={};for(y=0;y<L.length;y+=1)pe[L[y]]={},pe[L[y]].text=I[y],pe[L[y]].align=D[y];var F=d.call(this,pe,ce);le=L.map(function(Oe){return new s(f,h,ce[Oe],F,pe[Oe].text,void 0,pe[Oe].align)}),this.setTableHeaderRow(le),this.printHeaderRow(1,!1)}var se=w.reduce(function(Oe,Y){return Oe[Y.name]=Y.align,Oe},{});for(y=0;y<g.length;y+=1){"rowStart"in S&&S.rowStart instanceof Function&&S.rowStart({row:y,data:g[y]},this);var ue=d.call(this,g[y],ce);for(E=0;E<L.length;E+=1){var be=g[y][L[E]];"cellStart"in S&&S.cellStart instanceof Function&&S.cellStart({row:y,col:E,data:be},this),u.call(this,new s(f,h,ce[L[E]],ue,be,y+2,se[L[E]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=h,this};var d=function(f,h){var g=this.internal.__cell__.padding,w=this.internal.__cell__.table_font_size,S=this.internal.scaleFactor;return Object.keys(f).map(function(y){var T=f[y];return this.splitTextToSize(T.hasOwnProperty("text")?T.text:T,h[y]-g-g)},this).map(function(y){return this.getLineHeightFactor()*y.length*w/S+g+g},this).reduce(function(y,T){return Math.max(y,T)},0)};t.setTableHeaderRow=function(f){a.call(this),this.internal.__cell__.tableHeaderRow=f},t.printHeaderRow=function(f,h){if(a.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var g;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var w=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(w[0],w[1],w[2],w[3],void 0,-1)}this.setFont(void 0,"bold");for(var S=[],y=0;y<this.internal.__cell__.tableHeaderRow.length;y+=1){g=this.internal.__cell__.tableHeaderRow[y].clone(),h&&(g.y=this.internal.__cell__.margins.top||0,S.push(g)),g.lineNumber=f;var T=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),u.call(this,g),this.setTextColor(T)}S.length>0&&this.setTableHeaderRow(S),this.setFont(void 0,"normal"),n=!1}})(Ct.API);var iw={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},aw=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],qg=rw(aw),sw=[100,200,300,400,500,600,700,800,900],tT=rw(sw);function og(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=(function(s){return iw[s=s||"normal"]?s:"normal"})(t.style),a=(function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400})(t.weight),o=(function(s){return typeof qg[s=s||"normal"]=="number"?s:"normal"})(t.stretch);return{family:e,style:n,weight:a,stretch:o,src:t.src||[],ref:t.ref||{name:e,style:[o,n,a].join(" ")}}}function Cy(t,e,n,a){var o;for(o=n;o>=0&&o<e.length;o+=a)if(t[e[o]])return t[e[o]];for(o=n;o>=0&&o<e.length;o-=a)if(t[e[o]])return t[e[o]]}var nT={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Ly={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Ry(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function jy(t){return t.trimLeft()}function rT(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function iT(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var xc,yh,Oy,Dy,zy,lg=["times"];function By(t,e,n,a,o){var s=4,u=My;switch(o){case Ct.API.image_compression.FAST:s=1,u=Iy;break;case Ct.API.image_compression.MEDIUM:s=6,u=Py;break;case Ct.API.image_compression.SLOW:s=9,u=Uy}t=(function(f,h,g,w){for(var S,y=f.length/h,T=new Uint8Array(f.length+y),E=[aT,Iy,My,Py,Uy],N=0;N<y;N+=1){var L=N*h,I=f.subarray(L,L+h);if(w)T.set(w(I,g,S),L+N);else{for(var D=E.length,$=[],ce=0;ce<D;ce+=1)$[ce]=E[ce](I,g,S);var he=oT($.concat());T.set($[he],L+N)}S=I}return T})(t,e,Math.ceil(n*a/8),u);var d=Dg(t,{level:s});return Ct.API.__addimage__.arrayBufferToBinaryString(d)}function aT(t){var e=Array.apply([],t);return e.unshift(0),e}function Iy(t,e){var n=t.length,a=[];a[0]=1;for(var o=0;o<n;o+=1){var s=t[o-e]||0;a[o+1]=t[o]-s+256&255}return a}function My(t,e,n){var a=t.length,o=[];o[0]=2;for(var s=0;s<a;s+=1){var u=n&&n[s]||0;o[s+1]=t[s]-u+256&255}return o}function Py(t,e,n){var a=t.length,o=[];o[0]=3;for(var s=0;s<a;s+=1){var u=t[s-e]||0,d=n&&n[s]||0;o[s+1]=t[s]+256-(u+d>>>1)&255}return o}function Uy(t,e,n){var a=t.length,o=[];o[0]=4;for(var s=0;s<a;s+=1){var u=sT(t[s-e]||0,n&&n[s]||0,n&&n[s-e]||0);o[s+1]=t[s]-u+256&255}return o}function sT(t,e,n){if(t===e&&e===n)return t;var a=Math.abs(e-n),o=Math.abs(t-n),s=Math.abs(t+e-n-n);return a<=o&&a<=s?t:o<=s?e:n}function oT(t){var e=t.map(function(n){return n.reduce(function(a,o){return a+Math.abs(o)},0)});return e.indexOf(Math.min.apply(null,e))}function ug(t,e,n){var a=e*n,o=Math.floor(a/8),s=16-(a-8*o+n),u=(1<<n)-1;return ow(t,o)>>s&u}function qy(t,e,n,a){var o=n*a,s=Math.floor(o/8),u=16-(o-8*s+a),d=(1<<a)-1,f=(e&d)<<u;(function(h,g,w){if(g+1<h.byteLength)h.setUint16(g,w,!1);else{var S=w>>8&255;h.setUint8(g,S)}})(t,s,ow(t,s)&~(d<<u)&65535|f)}function ow(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function lT(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,a=t[e++]|t[e++]<<8,o=t[e++],s=o>>7,u=1<<1+(7&o);t[e++],t[e++];var d=null,f=null;s&&(d=e,f=u,e+=3*u);var h=!0,g=[],w=0,S=null,y=0,T=null;for(this.width=n,this.height=a;h&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,T=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((M=t[e++])>=0))throw Error("Invalid block size");if(M===0)break;e+=M}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var E=t[e++];w=t[e++]|t[e++]<<8,S=t[e++],1&E||(S=null),y=E>>2&7,e++;break;case 254:for(;;){if(!((M=t[e++])>=0))throw Error("Invalid block size");if(M===0)break;e+=M}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var N=t[e++]|t[e++]<<8,L=t[e++]|t[e++]<<8,I=t[e++]|t[e++]<<8,D=t[e++]|t[e++]<<8,$=t[e++],ce=$>>6&1,he=1<<1+(7&$),le=d,W=f,P=!1;$>>7&&(P=!0,le=e,W=he,e+=3*he);var oe=e;for(e++;;){var M;if(!((M=t[e++])>=0))throw Error("Invalid block size");if(M===0)break;e+=M}g.push({x:N,y:L,width:I,height:D,has_local_palette:P,palette_offset:le,palette_size:W,data_offset:oe,data_length:e-oe,transparent_index:S,interlaced:!!ce,delay:w,disposal:y});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return g.length},this.loopCount=function(){return T},this.frameInfo=function(X){if(X<0||X>=g.length)throw new Error("Frame index out of range.");return g[X]},this.decodeAndBlitFrameBGRA=function(X,ae){var J=this.frameInfo(X),pe=J.width*J.height,F=new Uint8Array(pe);Fy(t,J.data_offset,F,pe);var se=J.palette_offset,ue=J.transparent_index;ue===null&&(ue=256);var be=J.width,Oe=n-be,Y=be,C=4*(J.y*n+J.x),U=4*((J.y+J.height)*n+J.x),Z=C,V=4*Oe;J.interlaced===!0&&(V+=4*n*7);for(var ee=8,de=0,_e=F.length;de<_e;++de){var xe=F[de];if(Y===0&&(Y=be,(Z+=V)>=U&&(V=4*Oe+4*n*(ee-1),Z=C+(be+Oe)*(ee<<1),ee>>=1)),xe===ue)Z+=4;else{var Ne=t[se+3*xe],We=t[se+3*xe+1],Xe=t[se+3*xe+2];ae[Z++]=Xe,ae[Z++]=We,ae[Z++]=Ne,ae[Z++]=255}--Y}},this.decodeAndBlitFrameRGBA=function(X,ae){var J=this.frameInfo(X),pe=J.width*J.height,F=new Uint8Array(pe);Fy(t,J.data_offset,F,pe);var se=J.palette_offset,ue=J.transparent_index;ue===null&&(ue=256);var be=J.width,Oe=n-be,Y=be,C=4*(J.y*n+J.x),U=4*((J.y+J.height)*n+J.x),Z=C,V=4*Oe;J.interlaced===!0&&(V+=4*n*7);for(var ee=8,de=0,_e=F.length;de<_e;++de){var xe=F[de];if(Y===0&&(Y=be,(Z+=V)>=U&&(V=4*Oe+4*n*(ee-1),Z=C+(be+Oe)*(ee<<1),ee>>=1)),xe===ue)Z+=4;else{var Ne=t[se+3*xe],We=t[se+3*xe+1],Xe=t[se+3*xe+2];ae[Z++]=Ne,ae[Z++]=We,ae[Z++]=Xe,ae[Z++]=255}--Y}}}function Fy(t,e,n,a){for(var o=t[e++],s=1<<o,u=s+1,d=u+1,f=o+1,h=(1<<f)-1,g=0,w=0,S=0,y=t[e++],T=new Int32Array(4096),E=null;;){for(;g<16&&y!==0;)w|=t[e++]<<g,g+=8,y===1?y=t[e++]:--y;if(g<f)break;var N=w&h;if(w>>=f,g-=f,N!==s){if(N===u)break;for(var L=N<d?N:E,I=0,D=L;D>s;)D=T[D]>>8,++I;var $=D;if(S+I+(L!==N?1:0)>a)return void Un.log("Warning, gif stream longer than expected.");n[S++]=$;var ce=S+=I;for(L!==N&&(n[S++]=$),D=L;I--;)D=T[D],n[--ce]=255&D,D>>=8;E!==null&&d<4096&&(T[d++]=E<<8|$,d>=h+1&&f<12&&(++f,h=h<<1|1)),E=N}else d=u+1,h=(1<<(f=o+1))-1,E=null}return S!==a&&Un.log("Warning, gif stream shorter than expected."),n}function cg(t){var e,n,a,o,s,u=Math.floor,d=new Array(64),f=new Array(64),h=new Array(64),g=new Array(64),w=new Array(65535),S=new Array(65535),y=new Array(64),T=new Array(64),E=[],N=0,L=7,I=new Array(64),D=new Array(64),$=new Array(64),ce=new Array(256),he=new Array(2048),le=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],W=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],oe=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],M=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],X=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ae=[0,1,2,3,4,5,6,7,8,9,10,11],J=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],pe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function F(C,U){for(var Z=0,V=0,ee=new Array,de=1;de<=16;de++){for(var _e=1;_e<=C[de];_e++)ee[U[V]]=[],ee[U[V]][0]=Z,ee[U[V]][1]=de,V++,Z++;Z*=2}return ee}function se(C){for(var U=C[0],Z=C[1]-1;Z>=0;)U&1<<Z&&(N|=1<<L),Z--,--L<0&&(N==255?(ue(255),ue(0)):ue(N),L=7,N=0)}function ue(C){E.push(C)}function be(C){ue(C>>8&255),ue(255&C)}function Oe(C,U,Z,V,ee){for(var de,_e=ee[0],xe=ee[240],Ne=(function(te,ve){var Ie,Ye,et,st,ft,tt,ht,Qe,Ze,vt,rt=0;for(Ze=0;Ze<8;++Ze){Ie=te[rt],Ye=te[rt+1],et=te[rt+2],st=te[rt+3],ft=te[rt+4],tt=te[rt+5],ht=te[rt+6];var lt=Ie+(Qe=te[rt+7]),ut=Ie-Qe,it=Ye+ht,at=Ye-ht,It=et+tt,dt=et-tt,Jt=st+ft,yt=st-ft,Ot=lt+Jt,vn=lt-Jt,kt=it+It,pt=it-It;te[rt]=Ot+kt,te[rt+4]=Ot-kt;var qt=.707106781*(pt+vn);te[rt+2]=vn+qt,te[rt+6]=vn-qt;var hr=.382683433*((Ot=yt+dt)-(pt=at+ut)),bn=.5411961*Ot+hr,qn=1.306562965*pt+hr,$n=.707106781*(kt=dt+at),At=ut+$n,Sn=ut-$n;te[rt+5]=Sn+bn,te[rt+3]=Sn-bn,te[rt+1]=At+qn,te[rt+7]=At-qn,rt+=8}for(rt=0,Ze=0;Ze<8;++Ze){Ie=te[rt],Ye=te[rt+8],et=te[rt+16],st=te[rt+24],ft=te[rt+32],tt=te[rt+40],ht=te[rt+48];var Ar=Ie+(Qe=te[rt+56]),Fn=Ie-Qe,Wn=Ye+ht,gn=Ye-ht,Ln=et+tt,An=et-tt,vi=st+ft,Er=st-ft,En=Ar+vi,Gn=Ar-vi,Qr=Wn+Ln,ki=Wn-Ln;te[rt]=En+Qr,te[rt+32]=En-Qr;var Ii=.707106781*(ki+Gn);te[rt+16]=Gn+Ii,te[rt+48]=Gn-Ii;var to=.382683433*((En=Er+An)-(ki=gn+Fn)),na=.5411961*En+to,ra=1.306562965*ki+to,Ls=.707106781*(Qr=An+gn),ia=Fn+Ls,aa=Fn-Ls;te[rt+40]=aa+na,te[rt+24]=aa-na,te[rt+8]=ia+ra,te[rt+56]=ia-ra,rt++}for(Ze=0;Ze<64;++Ze)vt=te[Ze]*ve[Ze],y[Ze]=vt>0?vt+.5|0:vt-.5|0;return y})(C,U),We=0;We<64;++We)T[le[We]]=Ne[We];var Xe=T[0]-Z;Z=T[0],Xe==0?se(V[0]):(se(V[S[de=32767+Xe]]),se(w[de]));for(var Ee=63;Ee>0&&T[Ee]==0;)Ee--;if(Ee==0)return se(_e),Z;for(var ke,O=1;O<=Ee;){for(var De=O;T[O]==0&&O<=Ee;)++O;var Ue=O-De;if(Ue>=16){ke=Ue>>4;for(var $e=1;$e<=ke;++$e)se(xe);Ue&=15}de=32767+T[O],se(ee[(Ue<<4)+S[de]]),se(w[de]),O++}return Ee!=63&&se(_e),Z}function Y(C){C=Math.min(Math.max(C,1),100),s!=C&&((function(U){for(var Z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],V=0;V<64;V++){var ee=u((Z[V]*U+50)/100);ee=Math.min(Math.max(ee,1),255),d[le[V]]=ee}for(var de=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],_e=0;_e<64;_e++){var xe=u((de[_e]*U+50)/100);xe=Math.min(Math.max(xe,1),255),f[le[_e]]=xe}for(var Ne=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],We=0,Xe=0;Xe<8;Xe++)for(var Ee=0;Ee<8;Ee++)h[We]=1/(d[le[We]]*Ne[Xe]*Ne[Ee]*8),g[We]=1/(f[le[We]]*Ne[Xe]*Ne[Ee]*8),We++})(C<50?Math.floor(5e3/C):Math.floor(200-2*C)),s=C)}this.encode=function(C,U){U&&Y(U),E=new Array,N=0,L=7,be(65496),be(65504),be(16),ue(74),ue(70),ue(73),ue(70),ue(0),ue(1),ue(1),ue(0),be(1),be(1),ue(0),ue(0),(function(){be(65499),be(132),ue(0);for(var Ye=0;Ye<64;Ye++)ue(d[Ye]);ue(1);for(var et=0;et<64;et++)ue(f[et])})(),(function(Ye,et){be(65472),be(17),ue(8),be(et),be(Ye),ue(3),ue(1),ue(17),ue(0),ue(2),ue(17),ue(1),ue(3),ue(17),ue(1)})(C.width,C.height),(function(){be(65476),be(418),ue(0);for(var Ye=0;Ye<16;Ye++)ue(W[Ye+1]);for(var et=0;et<=11;et++)ue(P[et]);ue(16);for(var st=0;st<16;st++)ue(oe[st+1]);for(var ft=0;ft<=161;ft++)ue(M[ft]);ue(1);for(var tt=0;tt<16;tt++)ue(X[tt+1]);for(var ht=0;ht<=11;ht++)ue(ae[ht]);ue(17);for(var Qe=0;Qe<16;Qe++)ue(J[Qe+1]);for(var Ze=0;Ze<=161;Ze++)ue(pe[Ze])})(),be(65498),be(12),ue(3),ue(1),ue(0),ue(2),ue(17),ue(3),ue(17),ue(0),ue(63),ue(0);var Z=0,V=0,ee=0;N=0,L=7,this.encode.displayName="_encode_";for(var de,_e,xe,Ne,We,Xe,Ee,ke,O,De=C.data,Ue=C.width,$e=C.height,te=4*Ue,ve=0;ve<$e;){for(de=0;de<te;){for(We=te*ve+de,Ee=-1,ke=0,O=0;O<64;O++)Xe=We+(ke=O>>3)*te+(Ee=4*(7&O)),ve+ke>=$e&&(Xe-=te*(ve+1+ke-$e)),de+Ee>=te&&(Xe-=de+Ee-te+4),_e=De[Xe++],xe=De[Xe++],Ne=De[Xe++],I[O]=(he[_e]+he[xe+256|0]+he[Ne+512|0]>>16)-128,D[O]=(he[_e+768|0]+he[xe+1024|0]+he[Ne+1280|0]>>16)-128,$[O]=(he[_e+1280|0]+he[xe+1536|0]+he[Ne+1792|0]>>16)-128;Z=Oe(I,h,Z,e,a),V=Oe(D,g,V,n,o),ee=Oe($,g,ee,n,o),de+=32}ve+=8}if(L>=0){var Ie=[];Ie[1]=L+1,Ie[0]=(1<<L+1)-1,se(Ie)}return be(65497),new Uint8Array(E)},t=t||50,(function(){for(var C=String.fromCharCode,U=0;U<256;U++)ce[U]=C(U)})(),e=F(W,P),n=F(X,ae),a=F(oe,M),o=F(J,pe),(function(){for(var C=1,U=2,Z=1;Z<=15;Z++){for(var V=C;V<U;V++)S[32767+V]=Z,w[32767+V]=[],w[32767+V][1]=Z,w[32767+V][0]=V;for(var ee=-(U-1);ee<=-C;ee++)S[32767+ee]=Z,w[32767+ee]=[],w[32767+ee][1]=Z,w[32767+ee][0]=U-1+ee;C<<=1,U<<=1}})(),(function(){for(var C=0;C<256;C++)he[C]=19595*C,he[C+256|0]=38470*C,he[C+512|0]=7471*C+32768,he[C+768|0]=-11059*C,he[C+1024|0]=-21709*C,he[C+1280|0]=32768*C+8421375,he[C+1536|0]=-27439*C,he[C+1792|0]=-5329*C})(),Y(t)}function ws(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Hy(t){function e(P){if(!P)throw Error("assert :P")}function n(P,oe,M){for(var X=0;4>X;X++)if(P[oe+X]!=M.charCodeAt(X))return!0;return!1}function a(P,oe,M,X,ae){for(var J=0;J<ae;J++)P[oe+J]=M[X+J]}function o(P,oe,M,X){for(var ae=0;ae<X;ae++)P[oe+ae]=M}function s(P){return new Int32Array(P)}function u(P,oe){for(var M=[],X=0;X<P;X++)M.push(new oe);return M}function d(P,oe){var M=[];return(function X(ae,J,pe){for(var F=pe[J],se=0;se<F&&(ae.push(pe.length>J+1?[]:new oe),!(pe.length<J+1));se++)X(ae[se],J+1,pe)})(M,0,P),M}var f=function(){var P=this;function oe(p,v){for(var A=1<<v-1>>>0;p&A;)A>>>=1;return A?(p&A-1)+A:p}function M(p,v,A,k,B){e(!(k%A));do p[v+(k-=A)]=B;while(0<k)}function X(p,v,A,k,B){if(e(2328>=B),512>=B)var q=s(512);else if((q=s(B))==null)return 0;return(function(H,K,Q,re,me,Le){var ne,we,Te=K,Pe=1<<Q,Ce=s(16),Me=s(16);for(e(me!=0),e(re!=null),e(H!=null),e(0<Q),we=0;we<me;++we){if(15<re[we])return 0;++Ce[re[we]]}if(Ce[0]==me)return 0;for(Me[1]=0,ne=1;15>ne;++ne){if(Ce[ne]>1<<ne)return 0;Me[ne+1]=Me[ne]+Ce[ne]}for(we=0;we<me;++we)ne=re[we],0<re[we]&&(Le[Me[ne]++]=we);if(Me[15]==1)return(re=new ae).g=0,re.value=Le[0],M(H,Te,1,Pe,re),Pe;var He,nt=-1,Ke=Pe-1,_t=0,gt=1,Ft=1,bt=1<<Q;for(we=0,ne=1,me=2;ne<=Q;++ne,me<<=1){if(gt+=Ft<<=1,0>(Ft-=Ce[ne]))return 0;for(;0<Ce[ne];--Ce[ne])(re=new ae).g=ne,re.value=Le[we++],M(H,Te+_t,me,bt,re),_t=oe(_t,ne)}for(ne=Q+1,me=2;15>=ne;++ne,me<<=1){if(gt+=Ft<<=1,0>(Ft-=Ce[ne]))return 0;for(;0<Ce[ne];--Ce[ne]){if(re=new ae,(_t&Ke)!=nt){for(Te+=bt,He=1<<(nt=ne)-Q;15>nt&&!(0>=(He-=Ce[nt]));)++nt,He<<=1;Pe+=bt=1<<(He=nt-Q),H[K+(nt=_t&Ke)].g=He+Q,H[K+nt].value=Te-K-nt}re.g=ne-Q,re.value=Le[we++],M(H,Te+(_t>>Q),me,bt,re),_t=oe(_t,ne)}}return gt!=2*Me[15]-1?0:Pe})(p,v,A,k,B,q)}function ae(){this.value=this.g=0}function J(){this.value=this.g=0}function pe(){this.G=u(5,ae),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=u(zs,J)}function F(p,v,A,k){e(p!=null),e(v!=null),e(2147483648>k),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=v,p.pa=A,p.Jd=v,p.Yc=A+k,p.Zc=4<=k?A+k-4+1:A,_e(p)}function se(p,v){for(var A=0;0<v--;)A|=Ne(p,128)<<v;return A}function ue(p,v){var A=se(p,v);return xe(p)?-A:A}function be(p,v,A,k){var B,q=0;for(e(p!=null),e(v!=null),e(4294967288>k),p.Sb=k,p.Ra=0,p.u=0,p.h=0,4<k&&(k=4),B=0;B<k;++B)q+=v[A+B]<<8*B;p.Ra=q,p.bb=k,p.oa=v,p.pa=A}function Oe(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<ja-8>>>0,++p.bb,p.u-=8;V(p)&&(p.h=1,p.u=0)}function Y(p,v){if(e(0<=v),!p.h&&v<=di){var A=Z(p)&wi[v];return p.u+=v,Oe(p),A}return p.h=1,p.u=0}function C(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function U(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Z(p){return p.Ra>>>(p.u&ja-1)>>>0}function V(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>ja}function ee(p,v){p.u=v,p.h=V(p)}function de(p){p.u>=Oa&&(e(p.u>=Oa),Oe(p))}function _e(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function xe(p){return se(p,1)}function Ne(p,v){var A=p.Ca;0>p.b&&_e(p);var k=p.b,B=A*v>>>8,q=(p.I>>>k>B)+0;for(q?(A-=B,p.I-=B+1<<k>>>0):A=B+1,k=A,B=0;256<=k;)B+=8,k>>=8;return k=7^B+os[k],p.b-=k,p.Ca=(A<<k)-1,q}function We(p,v,A){p[v+0]=A>>24&255,p[v+1]=A>>16&255,p[v+2]=A>>8&255,p[v+3]=255&A}function Xe(p,v){return p[v+0]|p[v+1]<<8}function Ee(p,v){return Xe(p,v)|p[v+2]<<16}function ke(p,v){return Xe(p,v)|Xe(p,v+2)<<16}function O(p,v){var A=1<<v;return e(p!=null),e(0<v),p.X=s(A),p.X==null?0:(p.Mb=32-v,p.Xa=v,1)}function De(p,v){e(p!=null),e(v!=null),e(p.Xa==v.Xa),a(v.X,0,p.X,0,1<<v.Xa)}function Ue(){this.X=[],this.Xa=this.Mb=0}function $e(p,v,A,k){e(A!=null),e(k!=null);var B=A[0],q=k[0];return B==0&&(B=(p*q+v/2)/v),q==0&&(q=(v*B+p/2)/p),0>=B||0>=q?0:(A[0]=B,k[0]=q,1)}function te(p,v){return p+(1<<v)-1>>>v}function ve(p,v){return((4278255360&p)+(4278255360&v)>>>0&4278255360)+((16711935&p)+(16711935&v)>>>0&16711935)>>>0}function Ie(p,v){P[v]=function(A,k,B,q,H,K,Q){var re;for(re=0;re<H;++re){var me=P[p](K[Q+re-1],B,q+re);K[Q+re]=ve(A[k+re],me)}}}function Ye(){this.ud=this.hd=this.jd=0}function et(p,v){return((4278124286&(p^v))>>>1)+(p&v)>>>0}function st(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function ft(p,v){return st(p+(p-v+.5>>1))}function tt(p,v,A){return Math.abs(v-A)-Math.abs(p-A)}function ht(p,v,A,k,B,q,H){for(k=q[H-1],A=0;A<B;++A)q[H+A]=k=ve(p[v+A],k)}function Qe(p,v,A,k,B){var q;for(q=0;q<A;++q){var H=p[v+q],K=H>>8&255,Q=16711935&(Q=(Q=16711935&H)+((K<<16)+K));k[B+q]=(4278255360&H)+Q>>>0}}function Ze(p,v){v.jd=255&p,v.hd=p>>8&255,v.ud=p>>16&255}function vt(p,v,A,k,B,q){var H;for(H=0;H<k;++H){var K=v[A+H],Q=K>>>8,re=K,me=255&(me=(me=K>>>16)+((p.jd<<24>>24)*(Q<<24>>24)>>>5));re=255&(re=(re+=(p.hd<<24>>24)*(Q<<24>>24)>>>5)+((p.ud<<24>>24)*(me<<24>>24)>>>5)),B[q+H]=(4278255360&K)+(me<<16)+re}}function rt(p,v,A,k,B){P[v]=function(q,H,K,Q,re,me,Le,ne,we){for(Q=Le;Q<ne;++Q)for(Le=0;Le<we;++Le)re[me++]=B(K[k(q[H++])])},P[p]=function(q,H,K,Q,re,me,Le){var ne=8>>q.b,we=q.Ea,Te=q.K[0],Pe=q.w;if(8>ne)for(q=(1<<q.b)-1,Pe=(1<<ne)-1;H<K;++H){var Ce,Me=0;for(Ce=0;Ce<we;++Ce)Ce&q||(Me=k(Q[re++])),me[Le++]=B(Te[Me&Pe]),Me>>=ne}else P["VP8LMapColor"+A](Q,re,Te,Pe,me,Le,H,K,we)}}function lt(p,v,A,k,B){for(A=v+A;v<A;){var q=p[v++];k[B++]=q>>16&255,k[B++]=q>>8&255,k[B++]=255&q}}function ut(p,v,A,k,B){for(A=v+A;v<A;){var q=p[v++];k[B++]=q>>16&255,k[B++]=q>>8&255,k[B++]=255&q,k[B++]=q>>24&255}}function it(p,v,A,k,B){for(A=v+A;v<A;){var q=(H=p[v++])>>16&240|H>>12&15,H=240&H|H>>28&15;k[B++]=q,k[B++]=H}}function at(p,v,A,k,B){for(A=v+A;v<A;){var q=(H=p[v++])>>16&248|H>>13&7,H=H>>5&224|H>>3&31;k[B++]=q,k[B++]=H}}function It(p,v,A,k,B){for(A=v+A;v<A;){var q=p[v++];k[B++]=255&q,k[B++]=q>>8&255,k[B++]=q>>16&255}}function dt(p,v,A,k,B,q){if(q==0)for(A=v+A;v<A;)We(k,((q=p[v++])[0]>>24|q[1]>>8&65280|q[2]<<8&16711680|q[3]<<24)>>>0),B+=32;else a(k,B,p,v,A)}function Jt(p,v){P[v][0]=P[p+"0"],P[v][1]=P[p+"1"],P[v][2]=P[p+"2"],P[v][3]=P[p+"3"],P[v][4]=P[p+"4"],P[v][5]=P[p+"5"],P[v][6]=P[p+"6"],P[v][7]=P[p+"7"],P[v][8]=P[p+"8"],P[v][9]=P[p+"9"],P[v][10]=P[p+"10"],P[v][11]=P[p+"11"],P[v][12]=P[p+"12"],P[v][13]=P[p+"13"],P[v][14]=P[p+"0"],P[v][15]=P[p+"0"]}function yt(p){return p==eu||p==Mu||p==el||p==Pu}function Ot(){this.eb=[],this.size=this.A=this.fb=0}function vn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function kt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ot,this.f.kb=new vn,this.sd=null}function pt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function qt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function hr(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function bn(p,v){var A=p.T,k=v.ba.f.RGBA,B=k.eb,q=k.fb+p.ka*k.A,H=Gr[v.ba.S],K=p.y,Q=p.O,re=p.f,me=p.N,Le=p.ea,ne=p.W,we=v.cc,Te=v.dc,Pe=v.Mc,Ce=v.Nc,Me=p.ka,He=p.ka+p.T,nt=p.U,Ke=nt+1>>1;for(Me==0?H(K,Q,null,null,re,me,Le,ne,re,me,Le,ne,B,q,null,null,nt):(H(v.ec,v.fc,K,Q,we,Te,Pe,Ce,re,me,Le,ne,B,q-k.A,B,q,nt),++A);Me+2<He;Me+=2)we=re,Te=me,Pe=Le,Ce=ne,me+=p.Rc,ne+=p.Rc,q+=2*k.A,H(K,(Q+=2*p.fa)-p.fa,K,Q,we,Te,Pe,Ce,re,me,Le,ne,B,q-k.A,B,q,nt);return Q+=p.fa,p.j+He<p.o?(a(v.ec,v.fc,K,Q,nt),a(v.cc,v.dc,re,me,Ke),a(v.Mc,v.Nc,Le,ne,Ke),A--):1&He||H(K,Q,null,null,re,me,Le,ne,re,me,Le,ne,B,q+k.A,null,null,nt),A}function qn(p,v,A){var k=p.F,B=[p.J];if(k!=null){var q=p.U,H=v.ba.S,K=H==Ql||H==el;v=v.ba.f.RGBA;var Q=[0],re=p.ka;Q[0]=p.T,p.Kb&&(re==0?--Q[0]:(--re,B[0]-=p.width),p.j+p.ka+p.T==p.o&&(Q[0]=p.o-p.j-re));var me=v.eb;re=v.fb+re*v.A,p=Kl(k,B[0],p.width,q,Q,me,re+(K?0:3),v.A),e(A==Q),p&&yt(H)&&ho(me,re,K,q,Q,v.A)}return 0}function $n(p){var v=p.ma,A=v.ba.S,k=11>A,B=A==ni||A==Fi||A==Ql||A==Qo||A==12||yt(A);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!ss(v.Oa,p,B?11:12))return 0;if(B&&yt(A)&&Wl(),p.da)alert("todo:use_scaling");else{if(k){if(v.Ib=hr,p.Kb){if(A=p.U+1>>1,v.memory=s(p.U+2*A),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+p.U,v.Mc=v.cc,v.Nc=v.dc+A,v.Ib=bn,Wl()}}else alert("todo:EmitYUV");B&&(v.Jb=qn,k&&ca())}if(k&&!Fs){for(p=0;256>p;++p)Yr[p]=89858*(p-128)+rl>>Vi,c0[p]=-22014*(p-128)+rl,ff[p]=-45773*(p-128),$u[p]=113618*(p-128)+rl>>Vi;for(p=yo;p<qs;++p)v=76283*(p-16)+rl>>Vi,d0[p-yo]=Ci(v,255),f0[p-yo]=Ci(v+8>>4,15);Fs=1}return 1}function At(p){var v=p.ma,A=p.U,k=p.T;return e(!(1&p.ka)),0>=A||0>=k?0:(A=v.Ib(p,v),v.Jb!=null&&v.Jb(p,v,A),v.Dc+=A,1)}function Sn(p){p.ma.memory=null}function Ar(p,v,A,k){return Y(p,8)!=47?0:(v[0]=Y(p,14)+1,A[0]=Y(p,14)+1,k[0]=Y(p,1),Y(p,3)!=0?0:!p.h)}function Fn(p,v){if(4>p)return p+1;var A=p-2>>1;return(2+(1&p)<<A)+Y(v,A)+1}function Wn(p,v){return 120<v?v-120:1<=(A=((A=$i[v-1])>>4)*p+(8-(15&A)))?A:1;var A}function gn(p,v,A){var k=Z(A),B=p[v+=255&k].g-8;return 0<B&&(ee(A,A.u+8),k=Z(A),v+=p[v].value,v+=k&(1<<B)-1),ee(A,A.u+p[v].g),p[v].value}function Ln(p,v,A){return A.g+=p.g,A.value+=p.value<<v>>>0,e(8>=A.g),p.g}function An(p,v,A){var k=p.xc;return e((v=k==0?0:p.vc[p.md*(A>>k)+(v>>k)])<p.Wb),p.Ya[v]}function vi(p,v,A,k){var B=p.ab,q=p.c*v,H=p.C;v=H+v;var K=A,Q=k;for(k=p.Ta,A=p.Ua;0<B--;){var re=p.gc[B],me=H,Le=v,ne=K,we=Q,Te=(Q=k,K=A,re.Ea);switch(e(me<Le),e(Le<=re.nc),re.hc){case 2:or(ne,we,(Le-me)*Te,Q,K);break;case 0:var Pe=me,Ce=Le,Me=Q,He=K,nt=(bt=re).Ea;Pe==0&&(Ko(ne,we,null,null,1,Me,He),ht(ne,we+1,0,0,nt-1,Me,He+1),we+=nt,He+=nt,++Pe);for(var Ke=1<<bt.b,_t=Ke-1,gt=te(nt,bt.b),Ft=bt.K,bt=bt.w+(Pe>>bt.b)*gt;Pe<Ce;){var Zt=Ft,Mn=bt,Wt=1;for(Xo(ne,we,Me,He-nt,1,Me,He);Wt<nt;){var mt=(Wt&~_t)+Ke;mt>nt&&(mt=nt),(0,ls[Zt[Mn++]>>8&15])(ne,we+ +Wt,Me,He+Wt-nt,mt-Wt,Me,He+Wt),Wt=mt}we+=nt,He+=nt,++Pe&_t||(bt+=gt)}Le!=re.nc&&a(Q,K-Te,Q,K+(Le-me-1)*Te,Te);break;case 1:for(Te=ne,Ce=we,nt=(ne=re.Ea)-(He=ne&~(Me=(we=1<<re.b)-1)),Pe=te(ne,re.b),Ke=re.K,re=re.w+(me>>re.b)*Pe;me<Le;){for(_t=Ke,gt=re,Ft=new Ye,bt=Ce+He,Zt=Ce+ne;Ce<bt;)Ze(_t[gt++],Ft),Jo(Ft,Te,Ce,we,Q,K),Ce+=we,K+=we;Ce<Zt&&(Ze(_t[gt++],Ft),Jo(Ft,Te,Ce,nt,Q,K),Ce+=nt,K+=nt),++me&Me||(re+=Pe)}break;case 3:if(ne==Q&&we==K&&0<re.b){for(Ce=Q,ne=Te=K+(Le-me)*Te-(He=(Le-me)*te(re.Ea,re.b)),we=Q,Me=K,Pe=[],He=(nt=He)-1;0<=He;--He)Pe[He]=we[Me+He];for(He=nt-1;0<=He;--He)Ce[ne+He]=Pe[He];Ou(re,me,Le,Q,Te,Q,K)}else Ou(re,me,Le,ne,we,Q,K)}K=k,Q=A}Q!=A&&a(k,A,K,Q,q)}function Er(p,v){var A=p.V,k=p.Ba+p.c*p.C,B=v-p.C;if(e(v<=p.l.o),e(16>=B),0<B){var q=p.l,H=p.Ta,K=p.Ua,Q=q.width;if(vi(p,B,A,k),B=K=[K],e((A=p.C)<(k=v)),e(q.v<q.va),k>q.o&&(k=q.o),A<q.j){var re=q.j-A;A=q.j,B[0]+=re*Q}if(A>=k?A=0:(B[0]+=4*q.v,q.ka=A-q.j,q.U=q.va-q.v,q.T=k-A,A=1),A){if(K=K[0],11>(A=p.ca).S){var me=A.f.RGBA,Le=(k=A.S,B=q.U,q=q.T,re=me.eb,me.A),ne=q;for(me=me.fb+p.Ma*me.A;0<ne--;){var we=H,Te=K,Pe=B,Ce=re,Me=me;switch(k){case Bu:Zo(we,Te,Pe,Ce,Me);break;case ni:us(we,Te,Pe,Ce,Me);break;case eu:us(we,Te,Pe,Ce,Me),ho(Ce,Me,0,Pe,1,0);break;case Iu:co(we,Te,Pe,Ce,Me);break;case Fi:dt(we,Te,Pe,Ce,Me,1);break;case Mu:dt(we,Te,Pe,Ce,Me,1),ho(Ce,Me,0,Pe,1,0);break;case Ql:dt(we,Te,Pe,Ce,Me,0);break;case el:dt(we,Te,Pe,Ce,Me,0),ho(Ce,Me,1,Pe,1,0);break;case Qo:cs(we,Te,Pe,Ce,Me);break;case Pu:cs(we,Te,Pe,Ce,Me),qi(Ce,Me,Pe,1,0);break;case Bs:Ba(we,Te,Pe,Ce,Me);break;default:e(0)}K+=Q,me+=Le}p.Ma+=q}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=A.height)}}p.C=v,e(p.C<=p.i)}function En(p){var v;if(0<p.ua)return 0;for(v=0;v<p.Wb;++v){var A=p.Ya[v].G,k=p.Ya[v].H;if(0<A[1][k[1]+0].g||0<A[2][k[2]+0].g||0<A[3][k[3]+0].g)return 0}return 1}function Gn(p,v,A,k,B,q){if(p.Z!=0){var H=p.qd,K=p.rd;for(e(hs[p.Z]!=null);v<A;++v)hs[p.Z](H,K,k,B,k,B,q),H=k,K=B,B+=q;p.qd=H,p.rd=K}}function Qr(p,v){var A=p.l.ma,k=A.Z==0||A.Z==1?p.l.j:p.C;if(k=p.C<k?k:p.C,e(v<=p.l.o),v>k){var B=p.l.width,q=A.ca,H=A.tb+B*k,K=p.V,Q=p.Ba+p.c*k,re=p.gc;e(p.ab==1),e(re[0].hc==3),za(re[0],k,v,K,Q,q,H),Gn(A,k,v,q,H,B)}p.C=p.Ma=v}function ki(p,v,A,k,B,q,H){var K=p.$/k,Q=p.$%k,re=p.m,me=p.s,Le=A+p.$,ne=Le;B=A+k*B;var we=A+k*q,Te=280+me.ua,Pe=p.Pb?K:16777216,Ce=0<me.ua?me.Wa:null,Me=me.wc,He=Le<we?An(me,Q,K):null;e(p.C<q),e(we<=B);var nt=!1;e:for(;;){for(;nt||Le<we;){var Ke=0;if(K>=Pe){var _t=Le-A;e((Pe=p).Pb),Pe.wd=Pe.m,Pe.xd=_t,0<Pe.s.ua&&De(Pe.s.Wa,Pe.s.vb),Pe=K+Is}if(Q&Me||(He=An(me,Q,K)),e(He!=null),He.Qb&&(v[Le]=He.qb,nt=!0),!nt)if(de(re),He.jc){Ke=re,_t=v;var gt=Le,Ft=He.pd[Z(Ke)&zs-1];e(He.jc),256>Ft.g?(ee(Ke,Ke.u+Ft.g),_t[gt]=Ft.value,Ke=0):(ee(Ke,Ke.u+Ft.g-256),e(256<=Ft.value),Ke=Ft.value),Ke==0&&(nt=!0)}else Ke=gn(He.G[0],He.H[0],re);if(re.h)break;if(nt||256>Ke){if(!nt)if(He.nd)v[Le]=(He.qb|Ke<<8)>>>0;else{if(de(re),nt=gn(He.G[1],He.H[1],re),de(re),_t=gn(He.G[2],He.H[2],re),gt=gn(He.G[3],He.H[3],re),re.h)break;v[Le]=(gt<<24|nt<<16|Ke<<8|_t)>>>0}if(nt=!1,++Le,++Q>=k&&(Q=0,++K,H!=null&&K<=q&&!(K%16)&&H(p,K),Ce!=null))for(;ne<Le;)Ke=v[ne++],Ce.X[(506832829*Ke&4294967295)>>>Ce.Mb]=Ke}else if(280>Ke){if(Ke=Fn(Ke-256,re),_t=gn(He.G[4],He.H[4],re),de(re),_t=Wn(k,_t=Fn(_t,re)),re.h)break;if(Le-A<_t||B-Le<Ke)break e;for(gt=0;gt<Ke;++gt)v[Le+gt]=v[Le+gt-_t];for(Le+=Ke,Q+=Ke;Q>=k;)Q-=k,++K,H!=null&&K<=q&&!(K%16)&&H(p,K);if(e(Le<=B),Q&Me&&(He=An(me,Q,K)),Ce!=null)for(;ne<Le;)Ke=v[ne++],Ce.X[(506832829*Ke&4294967295)>>>Ce.Mb]=Ke}else{if(!(Ke<Te))break e;for(nt=Ke-280,e(Ce!=null);ne<Le;)Ke=v[ne++],Ce.X[(506832829*Ke&4294967295)>>>Ce.Mb]=Ke;Ke=Le,e(!(nt>>>(_t=Ce).Xa)),v[Ke]=_t.X[nt],nt=!0}nt||e(re.h==V(re))}if(p.Pb&&re.h&&Le<B)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&De(p.s.vb,p.s.Wa);else{if(re.h)break e;H?.(p,K>q?q:K),p.a=0,p.$=Le-A}return 1}return p.a=3,0}function Ii(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var v=p.Wa;v!=null&&(v.X=null),p.vb=null,e(p!=null)}function to(){var p=new Mt;return p==null?null:(p.a=0,p.xb=Yc,Jt("Predictor","VP8LPredictors"),Jt("Predictor","VP8LPredictors_C"),Jt("PredictorAdd","VP8LPredictorsAdd"),Jt("PredictorAdd","VP8LPredictorsAdd_C"),or=Qe,Jo=vt,Zo=lt,us=ut,cs=it,Ba=at,co=It,P.VP8LMapColor32b=Da,P.VP8LMapColor8b=Hr,p)}function na(p,v,A,k,B){var q=1,H=[p],K=[v],Q=k.m,re=k.s,me=null,Le=0;e:for(;;){if(A)for(;q&&Y(Q,1);){var ne=H,we=K,Te=k,Pe=1,Ce=Te.m,Me=Te.gc[Te.ab],He=Y(Ce,2);if(Te.Oc&1<<He)q=0;else{switch(Te.Oc|=1<<He,Me.hc=He,Me.Ea=ne[0],Me.nc=we[0],Me.K=[null],++Te.ab,e(4>=Te.ab),He){case 0:case 1:Me.b=Y(Ce,3)+2,Pe=na(te(Me.Ea,Me.b),te(Me.nc,Me.b),0,Te,Me.K),Me.K=Me.K[0];break;case 3:var nt,Ke=Y(Ce,8)+1,_t=16<Ke?0:4<Ke?1:2<Ke?2:3;if(ne[0]=te(Me.Ea,_t),Me.b=_t,nt=Pe=na(Ke,1,0,Te,Me.K)){var gt,Ft=Ke,bt=Me,Zt=1<<(8>>bt.b),Mn=s(Zt);if(Mn==null)nt=0;else{var Wt=bt.K[0],mt=bt.w;for(Mn[0]=bt.K[0][0],gt=1;gt<1*Ft;++gt)Mn[gt]=ve(Wt[mt+gt],Mn[gt-1]);for(;gt<4*Zt;++gt)Mn[gt]=0;bt.K[0]=null,bt.K[0]=Mn,nt=1}}Pe=nt;break;case 2:break;default:e(0)}q=Pe}}if(H=H[0],K=K[0],q&&Y(Q,1)&&!(q=1<=(Le=Y(Q,4))&&11>=Le)){k.a=3;break e}var ot;if(ot=q)t:{var Vn,zt,Vt,wn=k,Nr=H,Vr=K,On=Le,mr=A,ri=wn.m,yr=wn.s,Xt=[null],un=1,Kn=0,pn=Wi[On];n:for(;;){if(mr&&Y(ri,1)){var Cr=Y(ri,3)+2,Xn=te(Nr,Cr),cn=te(Vr,Cr),cr=Xn*cn;if(!na(Xn,cn,0,wn,Xt))break n;for(Xt=Xt[0],yr.xc=Cr,Vn=0;Vn<cr;++Vn){var xn=Xt[Vn]>>8&65535;Xt[Vn]=xn,xn>=un&&(un=xn+1)}}if(ri.h)break n;for(zt=0;5>zt;++zt){var vr=go[zt];!zt&&0<On&&(vr+=1<<On),Kn<vr&&(Kn=vr)}var br=u(un*pn,ae),Tn=un,on=u(Tn,pe);if(on==null)var ii=null;else e(65536>=Tn),ii=on;var er=s(Kn);if(ii==null||er==null||br==null){wn.a=1;break n}var Lt=br;for(Vn=Vt=0;Vn<un;++Vn){var Rt=ii[Vn],dn=Rt.G,xi=Rt.H,Ki=0,hi=1,wr=0;for(zt=0;5>zt;++zt){vr=go[zt],dn[zt]=Lt,xi[zt]=Vt,!zt&&0<On&&(vr+=1<<On);i:{var Hs,$s=vr,Gu=wn,Dn=er,Kc=Lt,Xc=Vt,Yu=0,ps=Gu.m,h0=Y(ps,1);if(o(Dn,0,0,$s),h0){var Jc=Y(ps,1)+1,Zc=Y(ps,1),Vu=Y(ps,Zc==0?1:8);Dn[Vu]=1,Jc==2&&(Dn[Vu=Y(ps,8)]=1);var zr=1}else{var tr=s(19),iu=Y(ps,4)+4;if(19<iu){Gu.a=3;var Ws=0;break i}for(Hs=0;Hs<iu;++Hs)tr[tu[Hs]]=Y(ps,3);var al=void 0,vo=void 0,Pa=Gu,Ku=tr,sl=$s,Xu=Dn,Ju=0,gs=Pa.m,Qc=8,ed=u(128,ae);r:for(;X(ed,0,7,Ku,19);){if(Y(gs,1)){var hf=2+2*Y(gs,3);if((al=2+Y(gs,hf))>sl)break r}else al=sl;for(vo=0;vo<sl&&al--;){de(gs);var td=ed[0+(127&Z(gs))];ee(gs,gs.u+td.g);var Gs=td.value;if(16>Gs)Xu[vo++]=Gs,Gs!=0&&(Qc=Gs);else{var pf=Gs==16,gf=Gs-16,mf=tl[gf],nd=Y(gs,Hi[gf])+mf;if(vo+nd>sl)break r;for(var yf=pf?Qc:0;0<nd--;)Xu[vo++]=yf}}Ju=1;break r}Ju||(Pa.a=3),zr=Ju}(zr=zr&&!ps.h)&&(Yu=X(Kc,Xc,8,Dn,$s)),zr&&Yu!=0?Ws=Yu:(Gu.a=3,Ws=0)}if(Ws==0)break n;if(hi&&Uu[zt]==1&&(hi=Lt[Vt].g==0),Ki+=Lt[Vt].g,Vt+=Ws,3>=zt){var bo,Zu=er[0];for(bo=1;bo<vr;++bo)er[bo]>Zu&&(Zu=er[bo]);wr+=Zu}}if(Rt.nd=hi,Rt.Qb=0,hi&&(Rt.qb=(dn[3][xi[3]+0].value<<24|dn[1][xi[1]+0].value<<16|dn[2][xi[2]+0].value)>>>0,Ki==0&&256>dn[0][xi[0]+0].value&&(Rt.Qb=1,Rt.qb+=dn[0][xi[0]+0].value<<8)),Rt.jc=!Rt.Qb&&6>wr,Rt.jc){var au,Ua=Rt;for(au=0;au<zs;++au){var ms=au,ys=Ua.pd[ms],Qu=Ua.G[0][Ua.H[0]+ms];256<=Qu.value?(ys.g=Qu.g+256,ys.value=Qu.value):(ys.g=0,ys.value=0,ms>>=Ln(Qu,8,ys),ms>>=Ln(Ua.G[1][Ua.H[1]+ms],16,ys),ms>>=Ln(Ua.G[2][Ua.H[2]+ms],0,ys),Ln(Ua.G[3][Ua.H[3]+ms],24,ys))}}}yr.vc=Xt,yr.Wb=un,yr.Ya=ii,yr.yc=br,ot=1;break t}ot=0}if(!(q=ot)){k.a=3;break e}if(0<Le){if(re.ua=1<<Le,!O(re.Wa,Le)){k.a=1,q=0;break e}}else re.ua=0;var ec=k,wo=H,vf=K,ol=ec.s,ll=ol.xc;if(ec.c=wo,ec.i=vf,ol.md=te(wo,ll),ol.wc=ll==0?-1:(1<<ll)-1,A){k.xb=Ms;break e}if((me=s(H*K))==null){k.a=1,q=0;break e}q=(q=ki(k,me,0,H,K,K,null))&&!Q.h;break e}return q?(B!=null?B[0]=me:(e(me==null),e(A)),k.$=0,A||Ii(re)):Ii(re),q}function ra(p,v){var A=p.c*p.i,k=A+v+16*v;return e(p.c<=v),p.V=s(k),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+A+v,1)}function Ls(p,v){var A=p.C,k=v-A,B=p.V,q=p.Ba+p.c*A;for(e(v<=p.l.o);0<k;){var H=16<k?16:k,K=p.l.ma,Q=p.l.width,re=Q*H,me=K.ca,Le=K.tb+Q*A,ne=p.Ta,we=p.Ua;vi(p,H,B,q),Di(ne,we,me,Le,re),Gn(K,A,A+H,me,Le,Q),k-=H,B+=H*p.c,A+=H}e(A==v),p.C=p.Ma=v}function ia(){this.ub=this.yd=this.td=this.Rb=0}function aa(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function no(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Ta(){this.Yb=(function(){var p=[];return(function v(A,k,B){for(var q=B[k],H=0;H<q&&(A.push(B.length>k+1?[]:0),!(B.length<k+1));H++)v(A[H],k+1,B)})(p,0,[3,11]),p})()}function ar(){this.jb=s(3),this.Wc=d([4,8],Ta),this.Xc=d([4,17],Ta)}function Rl(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Ni(){this.ld=this.La=this.dd=this.tc=0}function sa(){this.Na=this.la=0}function Ya(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function jl(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ol(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ni),this.Y=0,this.ya=Array(new jl),this.aa=0,this.l=new Va}function Dl(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Su(){this.cb=this.a=0,this.sc="",this.m=new C,this.Od=new ia,this.Kc=new aa,this.ed=new Rl,this.Qa=new no,this.Ic=this.$c=this.Aa=0,this.D=new Ol,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=u(8,C),this.ia=0,this.pb=u(4,Ya),this.Pa=new ar,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Dl),this.Hd=0,this.rb=Array(new sa),this.sb=0,this.wa=Array(new Ni),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new jl),this.L=this.aa=0,this.gd=d([4,2],Ni),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ci(p,v){return 0>p?0:p>v?v:p}function Va(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function oa(){var p=new Su;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,zi||(zi=Rs)),p}function fn(p,v,A){return p.a==0&&(p.a=v,p.sc=A,p.cb=0),0}function zl(p,v,A){return 3<=A&&p[v+0]==157&&p[v+1]==1&&p[v+2]==42}function ka(p,v){if(p==null)return 0;if(p.a=0,p.sc="OK",v==null)return fn(p,2,"null VP8Io passed to VP8GetHeaders()");var A=v.data,k=v.w,B=v.ha;if(4>B)return fn(p,7,"Truncated header.");var q=A[k+0]|A[k+1]<<8|A[k+2]<<16,H=p.Od;if(H.Rb=!(1&q),H.td=q>>1&7,H.yd=q>>4&1,H.ub=q>>5,3<H.td)return fn(p,3,"Incorrect keyframe parameters.");if(!H.yd)return fn(p,4,"Frame not displayable.");k+=3,B-=3;var K=p.Kc;if(H.Rb){if(7>B)return fn(p,7,"cannot parse picture header");if(!zl(A,k,B))return fn(p,3,"Bad code word");K.c=16383&(A[k+4]<<8|A[k+3]),K.Td=A[k+4]>>6,K.i=16383&(A[k+6]<<8|A[k+5]),K.Ud=A[k+6]>>6,k+=7,B-=7,p.za=K.c+15>>4,p.Ub=K.i+15>>4,v.width=K.c,v.height=K.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,o((q=p.Pa).jb,0,255,q.jb.length),e((q=p.Qa)!=null),q.Cb=0,q.Bb=0,q.Fb=1,o(q.Zb,0,0,q.Zb.length),o(q.Lb,0,0,q.Lb)}if(H.ub>B)return fn(p,7,"bad partition length");F(q=p.m,A,k,H.ub),k+=H.ub,B-=H.ub,H.Rb&&(K.Ld=xe(q),K.Kd=xe(q)),K=p.Qa;var Q,re=p.Pa;if(e(q!=null),e(K!=null),K.Cb=xe(q),K.Cb){if(K.Bb=xe(q),xe(q)){for(K.Fb=xe(q),Q=0;4>Q;++Q)K.Zb[Q]=xe(q)?ue(q,7):0;for(Q=0;4>Q;++Q)K.Lb[Q]=xe(q)?ue(q,6):0}if(K.Bb)for(Q=0;3>Q;++Q)re.jb[Q]=xe(q)?se(q,8):255}else K.Bb=0;if(q.Ka)return fn(p,3,"cannot parse segment header");if((K=p.ed).zd=xe(q),K.Tb=se(q,6),K.wb=se(q,3),K.Pc=xe(q),K.Pc&&xe(q)){for(re=0;4>re;++re)xe(q)&&(K.vd[re]=ue(q,6));for(re=0;4>re;++re)xe(q)&&(K.od[re]=ue(q,6))}if(p.L=K.Tb==0?0:K.zd?1:2,q.Ka)return fn(p,3,"cannot parse filter header");var me=B;if(B=Q=k,k=Q+me,K=me,p.Xb=(1<<se(p.m,2))-1,me<3*(re=p.Xb))A=7;else{for(Q+=3*re,K-=3*re,me=0;me<re;++me){var Le=A[B+0]|A[B+1]<<8|A[B+2]<<16;Le>K&&(Le=K),F(p.Jc[+me],A,Q,Le),Q+=Le,K-=Le,B+=3}F(p.Jc[+re],A,Q,K),A=Q<k?0:5}if(A!=0)return fn(p,A,"cannot parse partitions");for(A=se(Q=p.m,7),B=xe(Q)?ue(Q,4):0,k=xe(Q)?ue(Q,4):0,K=xe(Q)?ue(Q,4):0,re=xe(Q)?ue(Q,4):0,Q=xe(Q)?ue(Q,4):0,me=p.Qa,Le=0;4>Le;++Le){if(me.Cb){var ne=me.Zb[Le];me.Fb||(ne+=A)}else{if(0<Le){p.pb[Le]=p.pb[0];continue}ne=A}var we=p.pb[Le];we.Sc[0]=Gi[Ci(ne+B,127)],we.Sc[1]=Yi[Ci(ne+0,127)],we.Eb[0]=2*Gi[Ci(ne+k,127)],we.Eb[1]=101581*Yi[Ci(ne+K,127)]>>16,8>we.Eb[1]&&(we.Eb[1]=8),we.Qc[0]=Gi[Ci(ne+re,117)],we.Qc[1]=Yi[Ci(ne+Q,127)],we.lc=ne+Q}if(!H.Rb)return fn(p,4,"Not a key frame.");for(xe(q),H=p.Pa,A=0;4>A;++A){for(B=0;8>B;++B)for(k=0;3>k;++k)for(K=0;11>K;++K)re=Ne(q,In[A][B][k][K])?se(q,8):df[A][B][k][K],H.Wc[A][B].Yb[k][K]=re;for(B=0;17>B;++B)H.Xc[A][B]=H.Wc[A][Qt[B]]}return p.kc=xe(q),p.kc&&(p.Bd=se(q,8)),p.cb=1}function Rs(p,v,A,k,B,q,H){var K=v[B].Yb[A];for(A=0;16>B;++B){if(!Ne(p,K[A+0]))return B;for(;!Ne(p,K[A+1]);)if(K=v[++B].Yb[0],A=0,B==16)return 16;var Q=v[B+1].Yb;if(Ne(p,K[A+2])){var re=p,me=0;if(Ne(re,(ne=K)[(Le=A)+3]))if(Ne(re,ne[Le+6])){for(K=0,Le=2*(me=Ne(re,ne[Le+8]))+(ne=Ne(re,ne[Le+9+me])),me=0,ne=cf[Le];ne[K];++K)me+=me+Ne(re,ne[K]);me+=3+(8<<Le)}else Ne(re,ne[Le+7])?(me=7+2*Ne(re,165),me+=Ne(re,145)):me=5+Ne(re,159);else me=Ne(re,ne[Le+4])?3+Ne(re,ne[Le+5]):2;K=Q[2]}else me=1,K=Q[1];Q=H+Gc[B],0>(re=p).b&&_e(re);var Le,ne=re.b,we=(Le=re.Ca>>1)-(re.I>>ne)>>31;--re.b,re.Ca+=we,re.Ca|=1,re.I-=(Le+1&we)<<ne,q[Q]=((me^we)-we)*k[(0<B)+0]}return 16}function Bl(p){var v=p.rb[p.sb-1];v.la=0,v.Na=0,o(p.zc,0,0,p.zc.length),p.ja=0}function li(p,v,A,k,B){B=p[v+A+32*k]+(B>>3),p[v+A+32*k]=-256&B?0>B?0:255:B}function Tr(p,v,A,k,B,q){li(p,v,0,A,k+B),li(p,v,1,A,k+q),li(p,v,2,A,k-q),li(p,v,3,A,k-B)}function pr(p){return(20091*p>>16)+p}function Fo(p,v,A,k){var B,q=0,H=s(16);for(B=0;4>B;++B){var K=p[v+0]+p[v+8],Q=p[v+0]-p[v+8],re=(35468*p[v+4]>>16)-pr(p[v+12]),me=pr(p[v+4])+(35468*p[v+12]>>16);H[q+0]=K+me,H[q+1]=Q+re,H[q+2]=Q-re,H[q+3]=K-me,q+=4,v++}for(B=q=0;4>B;++B)K=(p=H[q+0]+4)+H[q+8],Q=p-H[q+8],re=(35468*H[q+4]>>16)-pr(H[q+12]),li(A,k,0,0,K+(me=pr(H[q+4])+(35468*H[q+12]>>16))),li(A,k,1,0,Q+re),li(A,k,2,0,Q-re),li(A,k,3,0,K-me),q++,k+=32}function Au(p,v,A,k){var B=p[v+0]+4,q=35468*p[v+4]>>16,H=pr(p[v+4]),K=35468*p[v+1]>>16;Tr(A,k,0,B+H,p=pr(p[v+1]),K),Tr(A,k,1,B+q,p,K),Tr(A,k,2,B-q,p,K),Tr(A,k,3,B-H,p,K)}function Il(p,v,A,k,B){Fo(p,v,A,k),B&&Fo(p,v+16,A,k+4)}function ui(p,v,A,k){ds(p,v+0,A,k,1),ds(p,v+32,A,k+128,1)}function Ml(p,v,A,k){var B;for(p=p[v+0]+4,B=0;4>B;++B)for(v=0;4>v;++v)li(A,k,v,B,p)}function Pl(p,v,A,k){p[v+0]&&hn(p,v+0,A,k),p[v+16]&&hn(p,v+16,A,k+4),p[v+32]&&hn(p,v+32,A,k+128),p[v+48]&&hn(p,v+48,A,k+128+4)}function la(p,v,A,k){var B,q=s(16);for(B=0;4>B;++B){var H=p[v+0+B]+p[v+12+B],K=p[v+4+B]+p[v+8+B],Q=p[v+4+B]-p[v+8+B],re=p[v+0+B]-p[v+12+B];q[0+B]=H+K,q[8+B]=H-K,q[4+B]=re+Q,q[12+B]=re-Q}for(B=0;4>B;++B)H=(p=q[0+4*B]+3)+q[3+4*B],K=q[1+4*B]+q[2+4*B],Q=q[1+4*B]-q[2+4*B],re=p-q[3+4*B],A[k+0]=H+K>>3,A[k+16]=re+Q>>3,A[k+32]=H-K>>3,A[k+48]=re-Q>>3,k+=64}function ro(p,v,A){var k,B=v-32,q=ti,H=255-p[B-1];for(k=0;k<A;++k){var K,Q=q,re=H+p[v-1];for(K=0;K<A;++K)p[v+K]=Q[re+p[B+K]];v+=32}}function Eu(p,v){ro(p,v,4)}function Tu(p,v){ro(p,v,8)}function Ul(p,v){ro(p,v,16)}function ql(p,v){var A;for(A=0;16>A;++A)a(p,v+32*A,p,v-32,16)}function ku(p,v){var A;for(A=16;0<A;--A)o(p,v,p[v-1],16),v+=32}function bi(p,v,A){var k;for(k=0;16>k;++k)o(v,A+32*k,p,16)}function ua(p,v){var A,k=16;for(A=0;16>A;++A)k+=p[v-1+32*A]+p[v+A-32];bi(k>>5,p,v)}function Ka(p,v){var A,k=8;for(A=0;16>A;++A)k+=p[v-1+32*A];bi(k>>4,p,v)}function io(p,v){var A,k=8;for(A=0;16>A;++A)k+=p[v+A-32];bi(k>>4,p,v)}function js(p,v){bi(128,p,v)}function Dt(p,v,A){return p+2*v+A+2>>2}function Nu(p,v){var A,k=v-32;for(k=new Uint8Array([Dt(p[k-1],p[k+0],p[k+1]),Dt(p[k+0],p[k+1],p[k+2]),Dt(p[k+1],p[k+2],p[k+3]),Dt(p[k+2],p[k+3],p[k+4])]),A=0;4>A;++A)a(p,v+32*A,k,0,k.length)}function Fl(p,v){var A=p[v-1],k=p[v-1+32],B=p[v-1+64],q=p[v-1+96];We(p,v+0,16843009*Dt(p[v-1-32],A,k)),We(p,v+32,16843009*Dt(A,k,B)),We(p,v+64,16843009*Dt(k,B,q)),We(p,v+96,16843009*Dt(B,q,q))}function Cu(p,v){var A,k=4;for(A=0;4>A;++A)k+=p[v+A-32]+p[v-1+32*A];for(k>>=3,A=0;4>A;++A)o(p,v+32*A,k,4)}function Li(p,v){var A=p[v-1+0],k=p[v-1+32],B=p[v-1+64],q=p[v-1-32],H=p[v+0-32],K=p[v+1-32],Q=p[v+2-32],re=p[v+3-32];p[v+0+96]=Dt(k,B,p[v-1+96]),p[v+1+96]=p[v+0+64]=Dt(A,k,B),p[v+2+96]=p[v+1+64]=p[v+0+32]=Dt(q,A,k),p[v+3+96]=p[v+2+64]=p[v+1+32]=p[v+0+0]=Dt(H,q,A),p[v+3+64]=p[v+2+32]=p[v+1+0]=Dt(K,H,q),p[v+3+32]=p[v+2+0]=Dt(Q,K,H),p[v+3+0]=Dt(re,Q,K)}function qr(p,v){var A=p[v+1-32],k=p[v+2-32],B=p[v+3-32],q=p[v+4-32],H=p[v+5-32],K=p[v+6-32],Q=p[v+7-32];p[v+0+0]=Dt(p[v+0-32],A,k),p[v+1+0]=p[v+0+32]=Dt(A,k,B),p[v+2+0]=p[v+1+32]=p[v+0+64]=Dt(k,B,q),p[v+3+0]=p[v+2+32]=p[v+1+64]=p[v+0+96]=Dt(B,q,H),p[v+3+32]=p[v+2+64]=p[v+1+96]=Dt(q,H,K),p[v+3+64]=p[v+2+96]=Dt(H,K,Q),p[v+3+96]=Dt(K,Q,Q)}function Hl(p,v){var A=p[v-1+0],k=p[v-1+32],B=p[v-1+64],q=p[v-1-32],H=p[v+0-32],K=p[v+1-32],Q=p[v+2-32],re=p[v+3-32];p[v+0+0]=p[v+1+64]=q+H+1>>1,p[v+1+0]=p[v+2+64]=H+K+1>>1,p[v+2+0]=p[v+3+64]=K+Q+1>>1,p[v+3+0]=Q+re+1>>1,p[v+0+96]=Dt(B,k,A),p[v+0+64]=Dt(k,A,q),p[v+0+32]=p[v+1+96]=Dt(A,q,H),p[v+1+32]=p[v+2+96]=Dt(q,H,K),p[v+2+32]=p[v+3+96]=Dt(H,K,Q),p[v+3+32]=Dt(K,Q,re)}function ao(p,v){var A=p[v+0-32],k=p[v+1-32],B=p[v+2-32],q=p[v+3-32],H=p[v+4-32],K=p[v+5-32],Q=p[v+6-32],re=p[v+7-32];p[v+0+0]=A+k+1>>1,p[v+1+0]=p[v+0+64]=k+B+1>>1,p[v+2+0]=p[v+1+64]=B+q+1>>1,p[v+3+0]=p[v+2+64]=q+H+1>>1,p[v+0+32]=Dt(A,k,B),p[v+1+32]=p[v+0+96]=Dt(k,B,q),p[v+2+32]=p[v+1+96]=Dt(B,q,H),p[v+3+32]=p[v+2+96]=Dt(q,H,K),p[v+3+64]=Dt(H,K,Q),p[v+3+96]=Dt(K,Q,re)}function Ri(p,v){var A=p[v-1+0],k=p[v-1+32],B=p[v-1+64],q=p[v-1+96];p[v+0+0]=A+k+1>>1,p[v+2+0]=p[v+0+32]=k+B+1>>1,p[v+2+32]=p[v+0+64]=B+q+1>>1,p[v+1+0]=Dt(A,k,B),p[v+3+0]=p[v+1+32]=Dt(k,B,q),p[v+3+32]=p[v+1+64]=Dt(B,q,q),p[v+3+64]=p[v+2+64]=p[v+0+96]=p[v+1+96]=p[v+2+96]=p[v+3+96]=q}function so(p,v){var A=p[v-1+0],k=p[v-1+32],B=p[v-1+64],q=p[v-1+96],H=p[v-1-32],K=p[v+0-32],Q=p[v+1-32],re=p[v+2-32];p[v+0+0]=p[v+2+32]=A+H+1>>1,p[v+0+32]=p[v+2+64]=k+A+1>>1,p[v+0+64]=p[v+2+96]=B+k+1>>1,p[v+0+96]=q+B+1>>1,p[v+3+0]=Dt(K,Q,re),p[v+2+0]=Dt(H,K,Q),p[v+1+0]=p[v+3+32]=Dt(A,H,K),p[v+1+32]=p[v+3+64]=Dt(k,A,H),p[v+1+64]=p[v+3+96]=Dt(B,k,A),p[v+1+96]=Dt(q,B,k)}function Na(p,v){var A;for(A=0;8>A;++A)a(p,v+32*A,p,v-32,8)}function Lu(p,v){var A;for(A=0;8>A;++A)o(p,v,p[v-1],8),v+=32}function Mi(p,v,A){var k;for(k=0;8>k;++k)o(v,A+32*k,p,8)}function Ho(p,v){var A,k=8;for(A=0;8>A;++A)k+=p[v+A-32]+p[v-1+32*A];Mi(k>>4,p,v)}function $o(p,v){var A,k=4;for(A=0;8>A;++A)k+=p[v+A-32];Mi(k>>3,p,v)}function Or(p,v){var A,k=4;for(A=0;8>A;++A)k+=p[v-1+32*A];Mi(k>>3,p,v)}function Ca(p,v){Mi(128,p,v)}function Pi(p,v,A){var k=p[v-A],B=p[v+0],q=3*(B-k)+fs[1020+p[v-2*A]-p[v+A]],H=Zl[112+(q+4>>3)];p[v-A]=ti[255+k+Zl[112+(q+3>>3)]],p[v+0]=ti[255+B-H]}function Xa(p,v,A,k){var B=p[v+0],q=p[v+A];return $r[255+p[v-2*A]-p[v-A]]>k||$r[255+q-B]>k}function Wo(p,v,A,k){return 4*$r[255+p[v-A]-p[v+0]]+$r[255+p[v-2*A]-p[v+A]]<=k}function oo(p,v,A,k,B){var q=p[v-3*A],H=p[v-2*A],K=p[v-A],Q=p[v+0],re=p[v+A],me=p[v+2*A],Le=p[v+3*A];return 4*$r[255+K-Q]+$r[255+H-re]>k?0:$r[255+p[v-4*A]-q]<=B&&$r[255+q-H]<=B&&$r[255+H-K]<=B&&$r[255+Le-me]<=B&&$r[255+me-re]<=B&&$r[255+re-Q]<=B}function Ja(p,v,A,k){var B=2*k+1;for(k=0;16>k;++k)Wo(p,v+k,A,B)&&Pi(p,v+k,A)}function Za(p,v,A,k){var B=2*k+1;for(k=0;16>k;++k)Wo(p,v+k*A,1,B)&&Pi(p,v+k*A,1)}function lo(p,v,A,k){var B;for(B=3;0<B;--B)Ja(p,v+=4*A,A,k)}function $l(p,v,A,k){var B;for(B=3;0<B;--B)Za(p,v+=4,A,k)}function Qa(p,v,A,k,B,q,H,K){for(q=2*q+1;0<B--;){if(oo(p,v,A,q,H))if(Xa(p,v,A,K))Pi(p,v,A);else{var Q=p,re=v,me=A,Le=Q[re-2*me],ne=Q[re-me],we=Q[re+0],Te=Q[re+me],Pe=Q[re+2*me],Ce=27*(He=fs[1020+3*(we-ne)+fs[1020+Le-Te]])+63>>7,Me=18*He+63>>7,He=9*He+63>>7;Q[re-3*me]=ti[255+Q[re-3*me]+He],Q[re-2*me]=ti[255+Le+Me],Q[re-me]=ti[255+ne+Ce],Q[re+0]=ti[255+we-Ce],Q[re+me]=ti[255+Te-Me],Q[re+2*me]=ti[255+Pe-He]}v+=k}}function es(p,v,A,k,B,q,H,K){for(q=2*q+1;0<B--;){if(oo(p,v,A,q,H))if(Xa(p,v,A,K))Pi(p,v,A);else{var Q=p,re=v,me=A,Le=Q[re-me],ne=Q[re+0],we=Q[re+me],Te=Zl[112+(4+(Pe=3*(ne-Le))>>3)],Pe=Zl[112+(Pe+3>>3)],Ce=Te+1>>1;Q[re-2*me]=ti[255+Q[re-2*me]+Ce],Q[re-me]=ti[255+Le+Pe],Q[re+0]=ti[255+ne-Te],Q[re+me]=ti[255+we-Ce]}v+=k}}function Ru(p,v,A,k,B,q){Qa(p,v,A,1,16,k,B,q)}function ts(p,v,A,k,B,q){Qa(p,v,1,A,16,k,B,q)}function ju(p,v,A,k,B,q){var H;for(H=3;0<H;--H)es(p,v+=4*A,A,1,16,k,B,q)}function x(p,v,A,k,B,q){var H;for(H=3;0<H;--H)es(p,v+=4,1,A,16,k,B,q)}function z(p,v,A,k,B,q,H,K){Qa(p,v,B,1,8,q,H,K),Qa(A,k,B,1,8,q,H,K)}function ie(p,v,A,k,B,q,H,K){Qa(p,v,1,B,8,q,H,K),Qa(A,k,1,B,8,q,H,K)}function ge(p,v,A,k,B,q,H,K){es(p,v+4*B,B,1,8,q,H,K),es(A,k+4*B,B,1,8,q,H,K)}function Se(p,v,A,k,B,q,H,K){es(p,v+4,1,B,8,q,H,K),es(A,k+4,1,B,8,q,H,K)}function Fe(){this.ba=new kt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new qt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Je(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function wt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Et(){this.ua=0,this.Wa=new Ue,this.vb=new Ue,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new pe,this.yc=new ae}function Mt(){this.xb=this.a=0,this.l=new Va,this.ca=new kt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new U,this.Pb=0,this.wd=new U,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Et,this.ab=0,this.gc=u(4,wt),this.Oc=0}function $t(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Va,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function an(p,v,A,k,B,q,H){for(p=p==null?0:p[v+0],v=0;v<H;++v)B[q+v]=p+A[k+v]&255,p=B[q+v]}function Yn(p,v,A,k,B,q,H){var K;if(p==null)an(null,null,A,k,B,q,H);else for(K=0;K<H;++K)B[q+K]=p[v+K]+A[k+K]&255}function sr(p,v,A,k,B,q,H){if(p==null)an(null,null,A,k,B,q,H);else{var K,Q=p[v+0],re=Q,me=Q;for(K=0;K<H;++K)re=me+(Q=p[v+K])-re,me=A[k+K]+(-256&re?0>re?0:255:re)&255,re=Q,B[q+K]=me}}function Rn(p,v,A,k){var B=v.width,q=v.o;if(e(p!=null&&v!=null),0>A||0>=k||A+k>q)return null;if(!p.Cc){if(p.ga==null){var H;if(p.ga=new $t,(H=p.ga==null)||(H=v.width*v.o,e(p.Gb.length==0),p.Gb=s(H),p.Uc=0,p.Gb==null?H=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,H=1),H=!H),!H){H=p.ga;var K=p.Fa,Q=p.P,re=p.qc,me=p.mb,Le=p.nb,ne=Q+1,we=re-1,Te=H.l;if(e(K!=null&&me!=null&&v!=null),hs[0]=null,hs[1]=an,hs[2]=Yn,hs[3]=sr,H.ca=me,H.tb=Le,H.c=v.width,H.i=v.height,e(0<H.c&&0<H.i),1>=re)v=0;else if(H.$a=3&K[Q+0],H.Z=K[Q+0]>>2&3,H.Lc=K[Q+0]>>4&3,Q=K[Q+0]>>6&3,0>H.$a||1<H.$a||4<=H.Z||1<H.Lc||Q)v=0;else if(Te.put=At,Te.ac=$n,Te.bc=Sn,Te.ma=H,Te.width=v.width,Te.height=v.height,Te.Da=v.Da,Te.v=v.v,Te.va=v.va,Te.j=v.j,Te.o=v.o,H.$a)e:{e(H.$a==1),v=to();t:for(;;){if(v==null){v=0;break e}if(e(H!=null),H.mc=v,v.c=H.c,v.i=H.i,v.l=H.l,v.l.ma=H,v.l.width=H.c,v.l.height=H.i,v.a=0,be(v.m,K,ne,we),!na(H.c,H.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&En(v.s)?(H.ic=1,K=v.c*v.i,v.Ta=null,v.Ua=0,v.V=s(K),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(H.ic=0,v=ra(v,H.c)),!v))break t;v=1;break e}H.mc=null,v=0}else v=we>=H.c*H.i;H=!v}if(H)return null;p.ga.Lc!=1?p.Ga=0:k=q-A}e(p.ga!=null),e(A+k<=q);e:{if(v=(K=p.ga).c,q=K.l.o,K.$a==0){if(ne=p.rc,we=p.Vc,Te=p.Fa,Q=p.P+1+A*v,re=p.mb,me=p.nb+A*v,e(Q<=p.P+p.qc),K.Z!=0)for(e(hs[K.Z]!=null),H=0;H<k;++H)hs[K.Z](ne,we,Te,Q,re,me,v),ne=re,we=me,me+=v,Q+=v;else for(H=0;H<k;++H)a(re,me,Te,Q,v),ne=re,we=me,me+=v,Q+=v;p.rc=ne,p.Vc=we}else{if(e(K.mc!=null),v=A+k,e((H=K.mc)!=null),e(v<=H.i),H.C>=v)v=1;else if(K.ic||ca(),K.ic){K=H.V,ne=H.Ba,we=H.c;var Pe=H.i,Ce=(Te=1,Q=H.$/we,re=H.$%we,me=H.m,Le=H.s,H.$),Me=we*Pe,He=we*v,nt=Le.wc,Ke=Ce<He?An(Le,re,Q):null;e(Ce<=Me),e(v<=Pe),e(En(Le));t:for(;;){for(;!me.h&&Ce<He;){if(re&nt||(Ke=An(Le,re,Q)),e(Ke!=null),de(me),256>(Pe=gn(Ke.G[0],Ke.H[0],me)))K[ne+Ce]=Pe,++Ce,++re>=we&&(re=0,++Q<=v&&!(Q%16)&&Qr(H,Q));else{if(!(280>Pe)){Te=0;break t}Pe=Fn(Pe-256,me);var _t,gt=gn(Ke.G[4],Ke.H[4],me);if(de(me),!(Ce>=(gt=Wn(we,gt=Fn(gt,me)))&&Me-Ce>=Pe)){Te=0;break t}for(_t=0;_t<Pe;++_t)K[ne+Ce+_t]=K[ne+Ce+_t-gt];for(Ce+=Pe,re+=Pe;re>=we;)re-=we,++Q<=v&&!(Q%16)&&Qr(H,Q);Ce<He&&re&nt&&(Ke=An(Le,re,Q))}e(me.h==V(me))}Qr(H,Q>v?v:Q);break t}!Te||me.h&&Ce<Me?(Te=0,H.a=me.h?5:3):H.$=Ce,v=Te}else v=ki(H,H.V,H.Ba,H.c,H.i,v,Ls);if(!v){k=0;break e}}A+k>=q&&(p.Cc=1),k=1}if(!k)return null;if(p.Cc&&((k=p.ga)!=null&&(k.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+A*B}function kr(p,v,A,k,B,q){for(;0<B--;){var H,K=p,Q=v+(A?1:0),re=p,me=v+(A?0:3);for(H=0;H<k;++H){var Le=re[me+4*H];Le!=255&&(Le*=32897,K[Q+4*H+0]=K[Q+4*H+0]*Le>>23,K[Q+4*H+1]=K[Q+4*H+1]*Le>>23,K[Q+4*H+2]=K[Q+4*H+2]*Le>>23)}v+=q}}function gr(p,v,A,k,B){for(;0<k--;){var q;for(q=0;q<A;++q){var H=p[v+2*q+0],K=15&(re=p[v+2*q+1]),Q=4369*K,re=(240&re|re>>4)*Q>>16;p[v+2*q+0]=(240&H|H>>4)*Q>>16&240|(15&H|H<<4)*Q>>16>>4&15,p[v+2*q+1]=240&re|K}v+=B}}function Fr(p,v,A,k,B,q,H,K){var Q,re,me=255;for(re=0;re<B;++re){for(Q=0;Q<k;++Q){var Le=p[v+Q];q[H+4*Q]=Le,me&=Le}v+=A,H+=K}return me!=255}function ns(p,v,A,k,B){var q;for(q=0;q<B;++q)A[k+q]=p[v+q]>>8}function ca(){ho=kr,qi=gr,Kl=Fr,Di=ns}function rs(p,v,A){P[p]=function(k,B,q,H,K,Q,re,me,Le,ne,we,Te,Pe,Ce,Me,He,nt){var Ke,_t=nt-1>>1,gt=K[Q+0]|re[me+0]<<16,Ft=Le[ne+0]|we[Te+0]<<16;e(k!=null);var bt=3*gt+Ft+131074>>2;for(v(k[B+0],255&bt,bt>>16,Pe,Ce),q!=null&&(bt=3*Ft+gt+131074>>2,v(q[H+0],255&bt,bt>>16,Me,He)),Ke=1;Ke<=_t;++Ke){var Zt=K[Q+Ke]|re[me+Ke]<<16,Mn=Le[ne+Ke]|we[Te+Ke]<<16,Wt=gt+Zt+Ft+Mn+524296,mt=Wt+2*(Zt+Ft)>>3;bt=mt+gt>>1,gt=(Wt=Wt+2*(gt+Mn)>>3)+Zt>>1,v(k[B+2*Ke-1],255&bt,bt>>16,Pe,Ce+(2*Ke-1)*A),v(k[B+2*Ke-0],255&gt,gt>>16,Pe,Ce+(2*Ke-0)*A),q!=null&&(bt=Wt+Ft>>1,gt=mt+Mn>>1,v(q[H+2*Ke-1],255&bt,bt>>16,Me,He+(2*Ke-1)*A),v(q[H+2*Ke+0],255&gt,gt>>16,Me,He+(2*Ke+0)*A)),gt=Zt,Ft=Mn}1&nt||(bt=3*gt+Ft+131074>>2,v(k[B+nt-1],255&bt,bt>>16,Pe,Ce+(nt-1)*A),q!=null&&(bt=3*Ft+gt+131074>>2,v(q[H+nt-1],255&bt,bt>>16,Me,He+(nt-1)*A)))}}function Wl(){Gr[Bu]=mo,Gr[ni]=nl,Gr[Iu]=Vc,Gr[Fi]=Fu,Gr[Ql]=Ps,Gr[Qo]=Ma,Gr[Bs]=Us,Gr[eu]=nl,Gr[Mu]=Fu,Gr[el]=Ps,Gr[Pu]=Ma}function Go(p){return p&-16384?0>p?0:255:p>>Hu}function La(p,v){return Go((19077*p>>8)+(26149*v>>8)-14234)}function da(p,v,A){return Go((19077*p>>8)-(6419*v>>8)-(13320*A>>8)+8708)}function uo(p,v){return Go((19077*p>>8)+(33050*v>>8)-17685)}function is(p,v,A,k,B){k[B+0]=La(p,A),k[B+1]=da(p,v,A),k[B+2]=uo(p,v)}function Dr(p,v,A,k,B){k[B+0]=uo(p,v),k[B+1]=da(p,v,A),k[B+2]=La(p,A)}function Os(p,v,A,k,B){var q=da(p,v,A);v=q<<3&224|uo(p,v)>>3,k[B+0]=248&La(p,A)|q>>5,k[B+1]=v}function Ds(p,v,A,k,B){var q=240&uo(p,v)|15;k[B+0]=240&La(p,A)|da(p,v,A)>>4,k[B+1]=q}function Yo(p,v,A,k,B){k[B+0]=255,is(p,v,A,k,B+1)}function Ra(p,v,A,k,B){Dr(p,v,A,k,B),k[B+3]=255}function ci(p,v,A,k,B){is(p,v,A,k,B),k[B+3]=255}function as(p,v,A){P[p]=function(k,B,q,H,K,Q,re,me,Le){for(var ne=me+(-2&Le)*A;me!=ne;)v(k[B+0],q[H+0],K[Q+0],re,me),v(k[B+1],q[H+0],K[Q+0],re,me+A),B+=2,++H,++Q,me+=2*A;1&Le&&v(k[B+0],q[H+0],K[Q+0],re,me)}}function Vo(p,v,A){return A==0?p==0?v==0?6:5:v==0?4:0:A}function Gl(p,v,A,k,B){switch(p>>>30){case 3:ds(v,A,k,B,0);break;case 2:ei(v,A,k,B);break;case 1:hn(v,A,k,B)}}function ji(p,v){var A,k,B=v.M,q=v.Nb,H=p.oc,K=p.pc+40,Q=p.oc,re=p.pc+584,me=p.oc,Le=p.pc+600;for(A=0;16>A;++A)H[K+32*A-1]=129;for(A=0;8>A;++A)Q[re+32*A-1]=129,me[Le+32*A-1]=129;for(0<B?H[K-1-32]=Q[re-1-32]=me[Le-1-32]=129:(o(H,K-32-1,127,21),o(Q,re-32-1,127,9),o(me,Le-32-1,127,9)),k=0;k<p.za;++k){var ne=v.ya[v.aa+k];if(0<k){for(A=-1;16>A;++A)a(H,K+32*A-4,H,K+32*A+12,4);for(A=-1;8>A;++A)a(Q,re+32*A-4,Q,re+32*A+4,4),a(me,Le+32*A-4,me,Le+32*A+4,4)}var we=p.Gd,Te=p.Hd+k,Pe=ne.ad,Ce=ne.Hc;if(0<B&&(a(H,K-32,we[Te].y,0,16),a(Q,re-32,we[Te].f,0,8),a(me,Le-32,we[Te].ea,0,8)),ne.Za){var Me=H,He=K-32+16;for(0<B&&(k>=p.za-1?o(Me,He,we[Te].y[15],4):a(Me,He,we[Te+1].y,0,4)),A=0;4>A;A++)Me[He+128+A]=Me[He+256+A]=Me[He+384+A]=Me[He+0+A];for(A=0;16>A;++A,Ce<<=2)Me=H,He=K+ur[A],Qn[ne.Ob[A]](Me,He),Gl(Ce,Pe,16*+A,Me,He)}else if(Me=Vo(k,B,ne.Ob[0]),fi[Me](H,K),Ce!=0)for(A=0;16>A;++A,Ce<<=2)Gl(Ce,Pe,16*+A,H,K+ur[A]);for(A=ne.Gc,Me=Vo(k,B,ne.Dd),ga[Me](Q,re),ga[Me](me,Le),Ce=Pe,Me=Q,He=re,255&(ne=0|A)&&(170&ne?Ui(Ce,256,Me,He):sn(Ce,256,Me,He)),ne=me,Ce=Le,255&(A>>=8)&&(170&A?Ui(Pe,320,ne,Ce):sn(Pe,320,ne,Ce)),B<p.Ub-1&&(a(we[Te].y,0,H,K+480,16),a(we[Te].f,0,Q,re+224,8),a(we[Te].ea,0,me,Le+224,8)),A=8*q*p.B,we=p.sa,Te=p.ta+16*k+16*q*p.R,Pe=p.qa,ne=p.ra+8*k+A,Ce=p.Ha,Me=p.Ia+8*k+A,A=0;16>A;++A)a(we,Te+A*p.R,H,K+32*A,16);for(A=0;8>A;++A)a(Pe,ne+A*p.B,Q,re+32*A,8),a(Ce,Me+A*p.B,me,Le+32*A,8)}}function fa(p,v,A,k,B,q,H,K,Q){var re=[0],me=[0],Le=0,ne=Q!=null?Q.kd:0,we=Q??new Je;if(p==null||12>A)return 7;we.data=p,we.w=v,we.ha=A,v=[v],A=[A],we.gb=[we.gb];e:{var Te=v,Pe=A,Ce=we.gb;if(e(p!=null),e(Pe!=null),e(Ce!=null),Ce[0]=0,12<=Pe[0]&&!n(p,Te[0],"RIFF")){if(n(p,Te[0]+8,"WEBP")){Ce=3;break e}var Me=ke(p,Te[0]+4);if(12>Me||4294967286<Me){Ce=3;break e}if(ne&&Me>Pe[0]-8){Ce=7;break e}Ce[0]=Me,Te[0]+=12,Pe[0]-=12}Ce=0}if(Ce!=0)return Ce;for(Me=0<we.gb[0],A=A[0];;){e:{var He=p;Pe=v,Ce=A;var nt=re,Ke=me,_t=Te=[0];if((bt=Le=[Le])[0]=0,8>Ce[0])Ce=7;else{if(!n(He,Pe[0],"VP8X")){if(ke(He,Pe[0]+4)!=10){Ce=3;break e}if(18>Ce[0]){Ce=7;break e}var gt=ke(He,Pe[0]+8),Ft=1+Ee(He,Pe[0]+12);if(2147483648<=Ft*(He=1+Ee(He,Pe[0]+15))){Ce=3;break e}_t!=null&&(_t[0]=gt),nt!=null&&(nt[0]=Ft),Ke!=null&&(Ke[0]=He),Pe[0]+=18,Ce[0]-=18,bt[0]=1}Ce=0}}if(Le=Le[0],Te=Te[0],Ce!=0)return Ce;if(Pe=!!(2&Te),!Me&&Le)return 3;if(q!=null&&(q[0]=!!(16&Te)),H!=null&&(H[0]=Pe),K!=null&&(K[0]=0),H=re[0],Te=me[0],Le&&Pe&&Q==null){Ce=0;break}if(4>A){Ce=7;break}if(Me&&Le||!Me&&!Le&&!n(p,v[0],"ALPH")){A=[A],we.na=[we.na],we.P=[we.P],we.Sa=[we.Sa];e:{gt=p,Ce=v,Me=A;var bt=we.gb;nt=we.na,Ke=we.P,_t=we.Sa,Ft=22,e(gt!=null),e(Me!=null),He=Ce[0];var Zt=Me[0];for(e(nt!=null),e(_t!=null),nt[0]=null,Ke[0]=null,_t[0]=0;;){if(Ce[0]=He,Me[0]=Zt,8>Zt){Ce=7;break e}var Mn=ke(gt,He+4);if(4294967286<Mn){Ce=3;break e}var Wt=8+Mn+1&-2;if(Ft+=Wt,0<bt&&Ft>bt){Ce=3;break e}if(!n(gt,He,"VP8 ")||!n(gt,He,"VP8L")){Ce=0;break e}if(Zt[0]<Wt){Ce=7;break e}n(gt,He,"ALPH")||(nt[0]=gt,Ke[0]=He+8,_t[0]=Mn),He+=Wt,Zt-=Wt}}if(A=A[0],we.na=we.na[0],we.P=we.P[0],we.Sa=we.Sa[0],Ce!=0)break}A=[A],we.Ja=[we.Ja],we.xa=[we.xa];e:if(bt=p,Ce=v,Me=A,nt=we.gb[0],Ke=we.Ja,_t=we.xa,gt=Ce[0],He=!n(bt,gt,"VP8 "),Ft=!n(bt,gt,"VP8L"),e(bt!=null),e(Me!=null),e(Ke!=null),e(_t!=null),8>Me[0])Ce=7;else{if(He||Ft){if(bt=ke(bt,gt+4),12<=nt&&bt>nt-12){Ce=3;break e}if(ne&&bt>Me[0]-8){Ce=7;break e}Ke[0]=bt,Ce[0]+=8,Me[0]-=8,_t[0]=Ft}else _t[0]=5<=Me[0]&&bt[gt+0]==47&&!(bt[gt+4]>>5),Ke[0]=Me[0];Ce=0}if(A=A[0],we.Ja=we.Ja[0],we.xa=we.xa[0],v=v[0],Ce!=0)break;if(4294967286<we.Ja)return 3;if(K==null||Pe||(K[0]=we.xa?2:1),H=[H],Te=[Te],we.xa){if(5>A){Ce=7;break}K=H,ne=Te,Pe=q,p==null||5>A?p=0:5<=A&&p[v+0]==47&&!(p[v+4]>>5)?(Me=[0],bt=[0],nt=[0],be(Ke=new U,p,v,A),Ar(Ke,Me,bt,nt)?(K!=null&&(K[0]=Me[0]),ne!=null&&(ne[0]=bt[0]),Pe!=null&&(Pe[0]=nt[0]),p=1):p=0):p=0}else{if(10>A){Ce=7;break}K=Te,p==null||10>A||!zl(p,v+3,A-3)?p=0:(ne=p[v+0]|p[v+1]<<8|p[v+2]<<16,Pe=16383&(p[v+7]<<8|p[v+6]),p=16383&(p[v+9]<<8|p[v+8]),1&ne||3<(ne>>1&7)||!(ne>>4&1)||ne>>5>=we.Ja||!Pe||!p?p=0:(H&&(H[0]=Pe),K&&(K[0]=p),p=1))}if(!p||(H=H[0],Te=Te[0],Le&&(re[0]!=H||me[0]!=Te)))return 3;Q!=null&&(Q[0]=we,Q.offset=v-Q.w,e(4294967286>v-Q.w),e(Q.offset==Q.ha-A));break}return Ce==0||Ce==7&&Le&&Q==null?(q!=null&&(q[0]|=we.na!=null&&0<we.na.length),k!=null&&(k[0]=H),B!=null&&(B[0]=Te),0):Ce}function ss(p,v,A){var k=v.width,B=v.height,q=0,H=0,K=k,Q=B;if(v.Da=p!=null&&0<p.Da,v.Da&&(K=p.cd,Q=p.bd,q=p.v,H=p.j,11>A||(q&=-2,H&=-2),0>q||0>H||0>=K||0>=Q||q+K>k||H+Q>B))return 0;if(v.v=q,v.j=H,v.va=q+K,v.o=H+Q,v.U=K,v.T=Q,v.da=p!=null&&0<p.da,v.da){if(!$e(K,Q,A=[p.ib],q=[p.hb]))return 0;v.ib=A[0],v.hb=q[0]}return v.ob=p!=null&&p.ob,v.Kb=p==null||!p.Sd,v.da&&(v.ob=v.ib<3*k/4&&v.hb<3*B/4,v.Kb=0),1}function Yl(p){if(p==null)return 2;if(11>p.S){var v=p.f.RGBA;v.fb+=(p.height-1)*v.A,v.A=-v.A}else v=p.f.kb,p=p.height,v.O+=(p-1)*v.fa,v.fa=-v.fa,v.N+=(p-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(p-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(p-1)*v.lb,v.lb=-v.lb);return 0}function ha(p,v,A,k){if(k==null||0>=p||0>=v)return 2;if(A!=null){if(A.Da){var B=A.cd,q=A.bd,H=-2&A.v,K=-2&A.j;if(0>H||0>K||0>=B||0>=q||H+B>p||K+q>v)return 2;p=B,v=q}if(A.da){if(!$e(p,v,B=[A.ib],q=[A.hb]))return 2;p=B[0],v=q[0]}}k.width=p,k.height=v;e:{var Q=k.width,re=k.height;if(p=k.S,0>=Q||0>=re||!(p>=Bu&&13>p))p=2;else{if(0>=k.Rd&&k.sd==null){H=q=B=v=0;var me=(K=Q*Wu[p])*re;if(11>p||(q=(re+1)/2*(v=(Q+1)/2),p==12&&(H=(B=Q)*re)),(re=s(me+2*q+H))==null){p=1;break e}k.sd=re,11>p?((Q=k.f.RGBA).eb=re,Q.fb=0,Q.A=K,Q.size=me):((Q=k.f.kb).y=re,Q.O=0,Q.fa=K,Q.Fd=me,Q.f=re,Q.N=0+me,Q.Ab=v,Q.Cd=q,Q.ea=re,Q.W=0+me+q,Q.Db=v,Q.Ed=q,p==12&&(Q.F=re,Q.J=0+me+2*q),Q.Tc=H,Q.lb=B)}if(v=1,B=k.S,q=k.width,H=k.height,B>=Bu&&13>B)if(11>B)p=k.f.RGBA,v&=(K=Math.abs(p.A))*(H-1)+q<=p.size,v&=K>=q*Wu[B],v&=p.eb!=null;else{p=k.f.kb,K=(q+1)/2,me=(H+1)/2,Q=Math.abs(p.fa),re=Math.abs(p.Ab);var Le=Math.abs(p.Db),ne=Math.abs(p.lb),we=ne*(H-1)+q;v&=Q*(H-1)+q<=p.Fd,v&=re*(me-1)+K<=p.Cd,v=(v&=Le*(me-1)+K<=p.Ed)&Q>=q&re>=K&Le>=K,v&=p.y!=null,v&=p.f!=null,v&=p.ea!=null,B==12&&(v&=ne>=q,v&=we<=p.Tc,v&=p.F!=null)}else v=0;p=v?0:2}}return p!=0||A!=null&&A.fd&&(p=Yl(k)),p}var zs=64,wi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],di=24,ja=32,Oa=8,os=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ie("Predictor0","PredictorAdd0"),P.Predictor0=function(){return 4278190080},P.Predictor1=function(p){return p},P.Predictor2=function(p,v,A){return v[A+0]},P.Predictor3=function(p,v,A){return v[A+1]},P.Predictor4=function(p,v,A){return v[A-1]},P.Predictor5=function(p,v,A){return et(et(p,v[A+1]),v[A+0])},P.Predictor6=function(p,v,A){return et(p,v[A-1])},P.Predictor7=function(p,v,A){return et(p,v[A+0])},P.Predictor8=function(p,v,A){return et(v[A-1],v[A+0])},P.Predictor9=function(p,v,A){return et(v[A+0],v[A+1])},P.Predictor10=function(p,v,A){return et(et(p,v[A-1]),et(v[A+0],v[A+1]))},P.Predictor11=function(p,v,A){var k=v[A+0];return 0>=tt(k>>24&255,p>>24&255,(v=v[A-1])>>24&255)+tt(k>>16&255,p>>16&255,v>>16&255)+tt(k>>8&255,p>>8&255,v>>8&255)+tt(255&k,255&p,255&v)?k:p},P.Predictor12=function(p,v,A){var k=v[A+0];return(st((p>>24&255)+(k>>24&255)-((v=v[A-1])>>24&255))<<24|st((p>>16&255)+(k>>16&255)-(v>>16&255))<<16|st((p>>8&255)+(k>>8&255)-(v>>8&255))<<8|st((255&p)+(255&k)-(255&v)))>>>0},P.Predictor13=function(p,v,A){var k=v[A-1];return(ft((p=et(p,v[A+0]))>>24&255,k>>24&255)<<24|ft(p>>16&255,k>>16&255)<<16|ft(p>>8&255,k>>8&255)<<8|ft(255&p,255&k))>>>0};var Ko=P.PredictorAdd0;P.PredictorAdd1=ht,Ie("Predictor2","PredictorAdd2"),Ie("Predictor3","PredictorAdd3"),Ie("Predictor4","PredictorAdd4"),Ie("Predictor5","PredictorAdd5"),Ie("Predictor6","PredictorAdd6"),Ie("Predictor7","PredictorAdd7"),Ie("Predictor8","PredictorAdd8"),Ie("Predictor9","PredictorAdd9"),Ie("Predictor10","PredictorAdd10"),Ie("Predictor11","PredictorAdd11"),Ie("Predictor12","PredictorAdd12"),Ie("Predictor13","PredictorAdd13");var Xo=P.PredictorAdd2;rt("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),rt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var or,Ou=P.ColorIndexInverseTransform,Da=P.MapARGB,za=P.VP8LColorIndexInverseTransformAlpha,Hr=P.MapAlpha,ls=P.VP8LPredictorsAdd=[];ls.length=16,(P.VP8LPredictors=[]).length=16,(P.VP8LPredictorsAdd_C=[]).length=16,(P.VP8LPredictors_C=[]).length=16;var Jo,Zo,us,cs,Ba,co,Oi,ds,ei,Ui,hn,sn,jn,lr,Ia,pa,fo,Vl,Hc,of,lf,uf,$c,Wc,ho,qi,Kl,Di,po=s(511),Du=s(2041),Xl=s(225),Jl=s(767),zu=0,fs=Du,Zl=Xl,ti=Jl,$r=po,Bu=0,ni=1,Iu=2,Fi=3,Ql=4,Qo=5,Bs=6,eu=7,Mu=8,el=9,Pu=10,Hi=[2,3,7],tl=[3,3,11],go=[280,256,256,256,40],Uu=[0,1,1,1,0],tu=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],$i=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Wi=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Is=8,Gi=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Yi=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],zi=null,cf=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Gc=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],qu=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],df=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Wr=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],In=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Qt=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],fi=[],Qn=[],ga=[],Ms=1,Yc=2,hs=[],Gr=[];rs("UpsampleRgbLinePair",is,3),rs("UpsampleBgrLinePair",Dr,3),rs("UpsampleRgbaLinePair",ci,4),rs("UpsampleBgraLinePair",Ra,4),rs("UpsampleArgbLinePair",Yo,4),rs("UpsampleRgba4444LinePair",Ds,2),rs("UpsampleRgb565LinePair",Os,2);var mo=P.UpsampleRgbLinePair,Vc=P.UpsampleBgrLinePair,nl=P.UpsampleRgbaLinePair,Fu=P.UpsampleBgraLinePair,Ps=P.UpsampleArgbLinePair,Ma=P.UpsampleRgba4444LinePair,Us=P.UpsampleRgb565LinePair,Vi=16,rl=1<<Vi-1,yo=-227,qs=482,Hu=6,Fs=0,Yr=s(256),$u=s(256),ff=s(256),c0=s(256),d0=s(qs-yo),f0=s(qs-yo);as("YuvToRgbRow",is,3),as("YuvToBgrRow",Dr,3),as("YuvToRgbaRow",ci,4),as("YuvToBgraRow",Ra,4),as("YuvToArgbRow",Yo,4),as("YuvToRgba4444Row",Ds,2),as("YuvToRgb565Row",Os,2);var ur=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],il=[0,2,8],nu=[8,7,6,4,4,2,2,2,1,1,1,1],ru=1;this.WebPDecodeRGBA=function(p,v,A,k,B){var q=ni,H=new Fe,K=new kt;H.ba=K,K.S=q,K.width=[K.width],K.height=[K.height];var Q=K.width,re=K.height,me=new pt;if(me==null||p==null)var Le=2;else e(me!=null),Le=fa(p,v,A,me.width,me.height,me.Pd,me.Qd,me.format,null);if(Le!=0?Q=0:(Q!=null&&(Q[0]=me.width[0]),re!=null&&(re[0]=me.height[0]),Q=1),Q){K.width=K.width[0],K.height=K.height[0],k!=null&&(k[0]=K.width),B!=null&&(B[0]=K.height);e:{if(k=new Va,(B=new Je).data=p,B.w=v,B.ha=A,B.kd=1,v=[0],e(B!=null),((p=fa(B.data,B.w,B.ha,null,null,null,v,null,B))==0||p==7)&&v[0]&&(p=4),(v=p)==0){if(e(H!=null),k.data=B.data,k.w=B.w+B.offset,k.ha=B.ha-B.offset,k.put=At,k.ac=$n,k.bc=Sn,k.ma=H,B.xa){if((p=to())==null){H=1;break e}if((function(ne,we){var Te=[0],Pe=[0],Ce=[0];t:for(;;){if(ne==null)return 0;if(we==null)return ne.a=2,0;if(ne.l=we,ne.a=0,be(ne.m,we.data,we.w,we.ha),!Ar(ne.m,Te,Pe,Ce)){ne.a=3;break t}if(ne.xb=Yc,we.width=Te[0],we.height=Pe[0],!na(Te[0],Pe[0],1,ne,null))break t;return 1}return e(ne.a!=0),0})(p,k)){if(k=(v=ha(k.width,k.height,H.Oa,H.ba))==0){t:{k=p;n:for(;;){if(k==null){k=0;break t}if(e(k.s.yc!=null),e(k.s.Ya!=null),e(0<k.s.Wb),e((A=k.l)!=null),e((B=A.ma)!=null),k.xb!=0){if(k.ca=B.ba,k.tb=B.tb,e(k.ca!=null),!ss(B.Oa,A,Fi)){k.a=2;break n}if(!ra(k,A.width)||A.da)break n;if((A.da||yt(k.ca.S))&&ca(),11>k.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),k.ca.f.kb.F!=null&&ca()),k.Pb&&0<k.s.ua&&k.s.vb.X==null&&!O(k.s.vb,k.s.Wa.Xa)){k.a=1;break n}k.xb=0}if(!ki(k,k.V,k.Ba,k.c,k.i,A.o,Er))break n;B.Dc=k.Ma,k=1;break t}e(k.a!=0),k=0}k=!k}k&&(v=p.a)}else v=p.a}else{if((p=new oa)==null){H=1;break e}if(p.Fa=B.na,p.P=B.P,p.qc=B.Sa,ka(p,k)){if((v=ha(k.width,k.height,H.Oa,H.ba))==0){if(p.Aa=0,A=H.Oa,e((B=p)!=null),A!=null){if(0<(Q=0>(Q=A.Md)?0:100<Q?255:255*Q/100)){for(re=me=0;4>re;++re)12>(Le=B.pb[re]).lc&&(Le.ia=Q*nu[0>Le.lc?0:Le.lc]>>3),me|=Le.ia;me&&(alert("todo:VP8InitRandom"),B.ia=1)}B.Ga=A.Id,100<B.Ga?B.Ga=100:0>B.Ga&&(B.Ga=0)}(function(ne,we){if(ne==null)return 0;if(we==null)return fn(ne,2,"NULL VP8Io parameter in VP8Decode().");if(!ne.cb&&!ka(ne,we))return 0;if(e(ne.cb),we.ac==null||we.ac(we)){we.ob&&(ne.L=0);var Te=il[ne.L];if(ne.L==2?(ne.yb=0,ne.zb=0):(ne.yb=we.v-Te>>4,ne.zb=we.j-Te>>4,0>ne.yb&&(ne.yb=0),0>ne.zb&&(ne.zb=0)),ne.Va=we.o+15+Te>>4,ne.Hb=we.va+15+Te>>4,ne.Hb>ne.za&&(ne.Hb=ne.za),ne.Va>ne.Ub&&(ne.Va=ne.Ub),0<ne.L){var Pe=ne.ed;for(Te=0;4>Te;++Te){var Ce;if(ne.Qa.Cb){var Me=ne.Qa.Lb[Te];ne.Qa.Fb||(Me+=Pe.Tb)}else Me=Pe.Tb;for(Ce=0;1>=Ce;++Ce){var He=ne.gd[Te][Ce],nt=Me;if(Pe.Pc&&(nt+=Pe.vd[0],Ce&&(nt+=Pe.od[0])),0<(nt=0>nt?0:63<nt?63:nt)){var Ke=nt;0<Pe.wb&&(Ke=4<Pe.wb?Ke>>2:Ke>>1)>9-Pe.wb&&(Ke=9-Pe.wb),1>Ke&&(Ke=1),He.dd=Ke,He.tc=2*nt+Ke,He.ld=40<=nt?2:15<=nt?1:0}else He.tc=0;He.La=Ce}}}Te=0}else fn(ne,6,"Frame setup failed"),Te=ne.a;if(Te=Te==0){if(Te){ne.$c=0,0<ne.Aa||(ne.Ic=ru);t:{Te=ne.Ic,Pe=4*(Ke=ne.za);var _t=32*Ke,gt=Ke+1,Ft=0<ne.L?Ke*(0<ne.Aa?2:1):0,bt=(ne.Aa==2?2:1)*Ke;if((He=Pe+832+(Ce=3*(16*Te+il[ne.L])/2*_t)+(Me=ne.Fa!=null&&0<ne.Fa.length?ne.Kc.c*ne.Kc.i:0))!=He)Te=0;else{if(He>ne.Vb){if(ne.Vb=0,ne.Ec=s(He),ne.Fc=0,ne.Ec==null){Te=fn(ne,1,"no memory during frame initialization.");break t}ne.Vb=He}He=ne.Ec,nt=ne.Fc,ne.Ac=He,ne.Bc=nt,nt+=Pe,ne.Gd=u(_t,Dl),ne.Hd=0,ne.rb=u(gt+1,sa),ne.sb=1,ne.wa=Ft?u(Ft,Ni):null,ne.Y=0,ne.D.Nb=0,ne.D.wa=ne.wa,ne.D.Y=ne.Y,0<ne.Aa&&(ne.D.Y+=Ke),e(!0),ne.oc=He,ne.pc=nt,nt+=832,ne.ya=u(bt,jl),ne.aa=0,ne.D.ya=ne.ya,ne.D.aa=ne.aa,ne.Aa==2&&(ne.D.aa+=Ke),ne.R=16*Ke,ne.B=8*Ke,Ke=(_t=il[ne.L])*ne.R,_t=_t/2*ne.B,ne.sa=He,ne.ta=nt+Ke,ne.qa=ne.sa,ne.ra=ne.ta+16*Te*ne.R+_t,ne.Ha=ne.qa,ne.Ia=ne.ra+8*Te*ne.B+_t,ne.$c=0,nt+=Ce,ne.mb=Me?He:null,ne.nb=Me?nt:null,e(nt+Me<=ne.Fc+ne.Vb),Bl(ne),o(ne.Ac,ne.Bc,0,Pe),Te=1}}if(Te){if(we.ka=0,we.y=ne.sa,we.O=ne.ta,we.f=ne.qa,we.N=ne.ra,we.ea=ne.Ha,we.Vd=ne.Ia,we.fa=ne.R,we.Rc=ne.B,we.F=null,we.J=0,!zu){for(Te=-255;255>=Te;++Te)po[255+Te]=0>Te?-Te:Te;for(Te=-1020;1020>=Te;++Te)Du[1020+Te]=-128>Te?-128:127<Te?127:Te;for(Te=-112;112>=Te;++Te)Xl[112+Te]=-16>Te?-16:15<Te?15:Te;for(Te=-255;510>=Te;++Te)Jl[255+Te]=0>Te?0:255<Te?255:Te;zu=1}Oi=la,ds=Il,Ui=ui,hn=Ml,sn=Pl,ei=Au,jn=Ru,lr=ts,Ia=z,pa=ie,fo=ju,Vl=x,Hc=ge,of=Se,lf=Ja,uf=Za,$c=lo,Wc=$l,Qn[0]=Cu,Qn[1]=Eu,Qn[2]=Nu,Qn[3]=Fl,Qn[4]=Li,Qn[5]=Hl,Qn[6]=qr,Qn[7]=ao,Qn[8]=so,Qn[9]=Ri,fi[0]=ua,fi[1]=Ul,fi[2]=ql,fi[3]=ku,fi[4]=Ka,fi[5]=io,fi[6]=js,ga[0]=Ho,ga[1]=Tu,ga[2]=Na,ga[3]=Lu,ga[4]=Or,ga[5]=$o,ga[6]=Ca,Te=1}else Te=0}Te&&(Te=(function(Zt,Mn){for(Zt.M=0;Zt.M<Zt.Va;++Zt.M){var Wt,mt=Zt.Jc[Zt.M&Zt.Xb],ot=Zt.m,Vn=Zt;for(Wt=0;Wt<Vn.za;++Wt){var zt=ot,Vt=Vn,wn=Vt.Ac,Nr=Vt.Bc+4*Wt,Vr=Vt.zc,On=Vt.ya[Vt.aa+Wt];if(Vt.Qa.Bb?On.$b=Ne(zt,Vt.Pa.jb[0])?2+Ne(zt,Vt.Pa.jb[2]):Ne(zt,Vt.Pa.jb[1]):On.$b=0,Vt.kc&&(On.Ad=Ne(zt,Vt.Bd)),On.Za=!Ne(zt,145)+0,On.Za){var mr=On.Ob,ri=0;for(Vt=0;4>Vt;++Vt){var yr,Xt=Vr[0+Vt];for(yr=0;4>yr;++yr){Xt=Wr[wn[Nr+yr]][Xt];for(var un=qu[Ne(zt,Xt[0])];0<un;)un=qu[2*un+Ne(zt,Xt[un])];Xt=-un,wn[Nr+yr]=Xt}a(mr,ri,wn,Nr,4),ri+=4,Vr[0+Vt]=Xt}}else Xt=Ne(zt,156)?Ne(zt,128)?1:3:Ne(zt,163)?2:0,On.Ob[0]=Xt,o(wn,Nr,Xt,4),o(Vr,0,Xt,4);On.Dd=Ne(zt,142)?Ne(zt,114)?Ne(zt,183)?1:3:2:0}if(Vn.m.Ka)return fn(Zt,7,"Premature end-of-partition0 encountered.");for(;Zt.ja<Zt.za;++Zt.ja){if(Vn=mt,zt=(ot=Zt).rb[ot.sb-1],wn=ot.rb[ot.sb+ot.ja],Wt=ot.ya[ot.aa+ot.ja],Nr=ot.kc?Wt.Ad:0)zt.la=wn.la=0,Wt.Za||(zt.Na=wn.Na=0),Wt.Hc=0,Wt.Gc=0,Wt.ia=0;else{var Kn,pn;if(zt=wn,wn=Vn,Nr=ot.Pa.Xc,Vr=ot.ya[ot.aa+ot.ja],On=ot.pb[Vr.$b],Vt=Vr.ad,mr=0,ri=ot.rb[ot.sb-1],Xt=yr=0,o(Vt,mr,0,384),Vr.Za)var Cr=0,Xn=Nr[3];else{un=s(16);var cn=zt.Na+ri.Na;if(cn=zi(wn,Nr[1],cn,On.Eb,0,un,0),zt.Na=ri.Na=(0<cn)+0,1<cn)Oi(un,0,Vt,mr);else{var cr=un[0]+3>>3;for(un=0;256>un;un+=16)Vt[mr+un]=cr}Cr=1,Xn=Nr[0]}var xn=15&zt.la,vr=15&ri.la;for(un=0;4>un;++un){var br=1&vr;for(cr=pn=0;4>cr;++cr)xn=xn>>1|(br=(cn=zi(wn,Xn,cn=br+(1&xn),On.Sc,Cr,Vt,mr))>Cr)<<7,pn=pn<<2|(3<cn?3:1<cn?2:Vt[mr+0]!=0),mr+=16;xn>>=4,vr=vr>>1|br<<7,yr=(yr<<8|pn)>>>0}for(Xn=xn,Cr=vr>>4,Kn=0;4>Kn;Kn+=2){for(pn=0,xn=zt.la>>4+Kn,vr=ri.la>>4+Kn,un=0;2>un;++un){for(br=1&vr,cr=0;2>cr;++cr)cn=br+(1&xn),xn=xn>>1|(br=0<(cn=zi(wn,Nr[2],cn,On.Qc,0,Vt,mr)))<<3,pn=pn<<2|(3<cn?3:1<cn?2:Vt[mr+0]!=0),mr+=16;xn>>=2,vr=vr>>1|br<<5}Xt|=pn<<4*Kn,Xn|=xn<<4<<Kn,Cr|=(240&vr)<<Kn}zt.la=Xn,ri.la=Cr,Vr.Hc=yr,Vr.Gc=Xt,Vr.ia=43690&Xt?0:On.ia,Nr=!(yr|Xt)}if(0<ot.L&&(ot.wa[ot.Y+ot.ja]=ot.gd[Wt.$b][Wt.Za],ot.wa[ot.Y+ot.ja].La|=!Nr),Vn.Ka)return fn(Zt,7,"Premature end-of-file encountered.")}if(Bl(Zt),ot=Mn,Vn=1,Wt=(mt=Zt).D,zt=0<mt.L&&mt.M>=mt.zb&&mt.M<=mt.Va,mt.Aa==0)t:{if(Wt.M=mt.M,Wt.uc=zt,ji(mt,Wt),Vn=1,Wt=(pn=mt.D).Nb,zt=(Xt=il[mt.L])*mt.R,wn=Xt/2*mt.B,un=16*Wt*mt.R,cr=8*Wt*mt.B,Nr=mt.sa,Vr=mt.ta-zt+un,On=mt.qa,Vt=mt.ra-wn+cr,mr=mt.Ha,ri=mt.Ia-wn+cr,vr=(xn=pn.M)==0,yr=xn>=mt.Va-1,mt.Aa==2&&ji(mt,pn),pn.uc)for(br=(cn=mt).D.M,e(cn.D.uc),pn=cn.yb;pn<cn.Hb;++pn){Cr=pn,Xn=br;var Tn=(on=(wr=cn).D).Nb;Kn=wr.R;var on=on.wa[on.Y+Cr],ii=wr.sa,er=wr.ta+16*Tn*Kn+16*Cr,Lt=on.dd,Rt=on.tc;if(Rt!=0)if(e(3<=Rt),wr.L==1)0<Cr&&uf(ii,er,Kn,Rt+4),on.La&&Wc(ii,er,Kn,Rt),0<Xn&&lf(ii,er,Kn,Rt+4),on.La&&$c(ii,er,Kn,Rt);else{var dn=wr.B,xi=wr.qa,Ki=wr.ra+8*Tn*dn+8*Cr,hi=wr.Ha,wr=wr.Ia+8*Tn*dn+8*Cr;Tn=on.ld,0<Cr&&(lr(ii,er,Kn,Rt+4,Lt,Tn),pa(xi,Ki,hi,wr,dn,Rt+4,Lt,Tn)),on.La&&(Vl(ii,er,Kn,Rt,Lt,Tn),of(xi,Ki,hi,wr,dn,Rt,Lt,Tn)),0<Xn&&(jn(ii,er,Kn,Rt+4,Lt,Tn),Ia(xi,Ki,hi,wr,dn,Rt+4,Lt,Tn)),on.La&&(fo(ii,er,Kn,Rt,Lt,Tn),Hc(xi,Ki,hi,wr,dn,Rt,Lt,Tn))}}if(mt.ia&&alert("todo:DitherRow"),ot.put!=null){if(pn=16*xn,xn=16*(xn+1),vr?(ot.y=mt.sa,ot.O=mt.ta+un,ot.f=mt.qa,ot.N=mt.ra+cr,ot.ea=mt.Ha,ot.W=mt.Ia+cr):(pn-=Xt,ot.y=Nr,ot.O=Vr,ot.f=On,ot.N=Vt,ot.ea=mr,ot.W=ri),yr||(xn-=Xt),xn>ot.o&&(xn=ot.o),ot.F=null,ot.J=null,mt.Fa!=null&&0<mt.Fa.length&&pn<xn&&(ot.J=Rn(mt,ot,pn,xn-pn),ot.F=mt.mb,ot.F==null&&ot.F.length==0)){Vn=fn(mt,3,"Could not decode alpha data.");break t}pn<ot.j&&(Xt=ot.j-pn,pn=ot.j,e(!(1&Xt)),ot.O+=mt.R*Xt,ot.N+=mt.B*(Xt>>1),ot.W+=mt.B*(Xt>>1),ot.F!=null&&(ot.J+=ot.width*Xt)),pn<xn&&(ot.O+=ot.v,ot.N+=ot.v>>1,ot.W+=ot.v>>1,ot.F!=null&&(ot.J+=ot.v),ot.ka=pn-ot.j,ot.U=ot.va-ot.v,ot.T=xn-pn,Vn=ot.put(ot))}Wt+1!=mt.Ic||yr||(a(mt.sa,mt.ta-zt,Nr,Vr+16*mt.R,zt),a(mt.qa,mt.ra-wn,On,Vt+8*mt.B,wn),a(mt.Ha,mt.Ia-wn,mr,ri+8*mt.B,wn))}if(!Vn)return fn(Zt,6,"Output aborted.")}return 1})(ne,we)),we.bc!=null&&we.bc(we),Te&=1}return Te?(ne.cb=0,Te):0})(p,k)||(v=p.a)}}else v=p.a}v==0&&H.Oa!=null&&H.Oa.fd&&(v=Yl(H.ba))}H=v}q=H!=0?null:11>q?K.f.RGBA.eb:K.f.kb.y}else q=null;return q};var Wu=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(P,oe){for(var M="",X=0;X<4;X++)M+=String.fromCharCode(P[oe++]);return M}function g(P,oe){return P[oe+0]|P[oe+1]<<8}function w(P,oe){return(P[oe+0]|P[oe+1]<<8|P[oe+2]<<16)>>>0}function S(P,oe){return(P[oe+0]|P[oe+1]<<8|P[oe+2]<<16|P[oe+3]<<24)>>>0}new f;var y=[0],T=[0],E=[],N=new f,L=t,I=(function(P,oe){var M={},X=0,ae=!1,J=0,pe=0;if(M.frames=[],!(function(C,U){for(var Z=0;Z<4;Z++)if(C[U+Z]!="RIFF".charCodeAt(Z))return!0;return!1})(P,oe)){for(S(P,oe+=4),oe+=8;oe<P.length;){var F=h(P,oe),se=S(P,oe+=4);oe+=4;var ue=se+(1&se);switch(F){case"VP8 ":case"VP8L":M.frames[X]===void 0&&(M.frames[X]={}),(Y=M.frames[X]).src_off=ae?pe:oe-8,Y.src_size=J+se+8,X++,ae&&(ae=!1,J=0,pe=0);break;case"VP8X":(Y=M.header={}).feature_flags=P[oe];var be=oe+4;Y.canvas_width=1+w(P,be),be+=3,Y.canvas_height=1+w(P,be),be+=3;break;case"ALPH":ae=!0,J=ue+8,pe=oe-8;break;case"ANIM":(Y=M.header).bgcolor=S(P,oe),be=oe+4,Y.loop_count=g(P,be),be+=2;break;case"ANMF":var Oe,Y;(Y=M.frames[X]={}).offset_x=2*w(P,oe),oe+=3,Y.offset_y=2*w(P,oe),oe+=3,Y.width=1+w(P,oe),oe+=3,Y.height=1+w(P,oe),oe+=3,Y.duration=w(P,oe),oe+=3,Oe=P[oe++],Y.dispose=1&Oe,Y.blend=Oe>>1&1}F!="ANMF"&&(oe+=ue)}return M}})(L,0);I.response=L,I.rgbaoutput=!0,I.dataurl=!1;var D=I.header?I.header:null,$=I.frames?I.frames:null;if(D){D.loop_counter=D.loop_count,y=[D.canvas_height],T=[D.canvas_width];for(var ce=0;ce<$.length&&$[ce].blend!=0;ce++);}var he=$[0],le=N.WebPDecodeRGBA(L,he.src_off,he.src_size,T,y);he.rgba=le,he.imgwidth=T[0],he.imgheight=y[0];for(var W=0;W<T[0]*y[0]*4;W++)E[W]=le[W];return this.width=T,this.height=y,this.data=E,this}function uT(){var t,e=this.internal.__metadata__.metadata,n=unescape(encodeURIComponent(e));t=this.internal.__metadata__.rawXml?n:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+t.length+" >>"),this.internal.write("stream"),this.internal.write(t),this.internal.write("endstream"),this.internal.write("endobj")}function cT(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(t){var e,n,a,o,s,u,d,f,h,g=function(C){return C=C||{},this.isStrokeTransparent=C.isStrokeTransparent||!1,this.strokeOpacity=C.strokeOpacity||1,this.strokeStyle=C.strokeStyle||"#000000",this.fillStyle=C.fillStyle||"#000000",this.isFillTransparent=C.isFillTransparent||!1,this.fillOpacity=C.fillOpacity||1,this.font=C.font||"10px sans-serif",this.textBaseline=C.textBaseline||"alphabetic",this.textAlign=C.textAlign||"left",this.lineWidth=C.lineWidth||1,this.lineJoin=C.lineJoin||"miter",this.lineCap=C.lineCap||"butt",this.path=C.path||[],this.transform=C.transform!==void 0?C.transform.clone():new f,this.globalCompositeOperation=C.globalCompositeOperation||"normal",this.globalAlpha=C.globalAlpha||1,this.clip_path=C.clip_path||[],this.currentPoint=C.currentPoint||new u,this.miterLimit=C.miterLimit||10,this.lastPoint=C.lastPoint||new u,this.lineDashOffset=C.lineDashOffset||0,this.lineDash=C.lineDash||[],this.margin=C.margin||[0,0,0,0],this.prevPageLastElemOffset=C.prevPageLastElemOffset||0,this.ignoreClearRect=typeof C.ignoreClearRect!="boolean"||C.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new w(this),e=this.internal.f2,n=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,o=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,u=this.internal.Point,d=this.internal.Rectangle,f=this.internal.Matrix,h=new g}]);var w=function(C){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var U=C;Object.defineProperty(this,"pdf",{get:function(){return U}});var Z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Z},set:function(O){Z=!!O}});var V=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return V},set:function(O){V=!!O}});var ee=0;Object.defineProperty(this,"posX",{get:function(){return ee},set:function(O){isNaN(O)||(ee=O)}});var de=0;Object.defineProperty(this,"posY",{get:function(){return de},set:function(O){isNaN(O)||(de=O)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(O){var De;typeof O=="number"?De=[O,O,O,O]:((De=new Array(4))[0]=O[0],De[1]=O.length>=2?O[1]:De[0],De[2]=O.length>=3?O[2]:De[0],De[3]=O.length>=4?O[3]:De[1]),h.margin=De}});var _e=!1;Object.defineProperty(this,"autoPaging",{get:function(){return _e},set:function(O){_e=O}});var xe=0;Object.defineProperty(this,"lastBreak",{get:function(){return xe},set:function(O){xe=O}});var Ne=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ne},set:function(O){Ne=O}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(O){O instanceof g&&(h=O)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(O){h.path=O}});var We=[];Object.defineProperty(this,"ctxStack",{get:function(){return We},set:function(O){We=O}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(O){var De;De=S(O),this.ctx.fillStyle=De.style,this.ctx.isFillTransparent=De.a===0,this.ctx.fillOpacity=De.a,this.pdf.setFillColor(De.r,De.g,De.b,{a:De.a}),this.pdf.setTextColor(De.r,De.g,De.b,{a:De.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(O){var De=S(O);this.ctx.strokeStyle=De.style,this.ctx.isStrokeTransparent=De.a===0,this.ctx.strokeOpacity=De.a,De.a===0?this.pdf.setDrawColor(255,255,255):(De.a,this.pdf.setDrawColor(De.r,De.g,De.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(O){["butt","round","square"].indexOf(O)!==-1&&(this.ctx.lineCap=O,this.pdf.setLineCap(O))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(O){isNaN(O)||(this.ctx.lineWidth=O,this.pdf.setLineWidth(O))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(O){["bevel","round","miter"].indexOf(O)!==-1&&(this.ctx.lineJoin=O,this.pdf.setLineJoin(O))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(O){isNaN(O)||(this.ctx.miterLimit=O,this.pdf.setMiterLimit(O))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(O){this.ctx.textBaseline=O}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(O){["right","end","center","left","start"].indexOf(O)!==-1&&(this.ctx.textAlign=O)}});var Xe=null,Ee=null,ke=null;Object.defineProperty(this,"fontFaces",{get:function(){return ke},set:function(O){Xe=null,Ee=null,ke=O}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(O){var De;if(this.ctx.font=O,(De=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(O))!==null){var Ue=De[1];De[2];var $e=De[3],te=De[4];De[5];var ve=De[6],Ie=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(te)[2];te=Math.floor(Ie==="px"?parseFloat(te)*this.pdf.internal.scaleFactor:Ie==="em"?parseFloat(te)*this.pdf.getFontSize():parseFloat(te)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(te);var Ye=(function(rt){var lt,ut,it=[],at=rt.trim();if(at==="")return lg;if(at in Ly)return[Ly[at]];for(;at!=="";){switch(ut=null,lt=(at=jy(at)).charAt(0)){case'"':case"'":ut=rT(at.substring(1),lt);break;default:ut=iT(at)}if(ut===null||(it.push(ut[0]),(at=jy(ut[1]))!==""&&at.charAt(0)!==","))return lg;at=at.replace(/^,/,"")}return it})(ve);if(this.fontFaces){var et=(function(rt,lt){var ut=rt.getFontList(),it=JSON.stringify(ut);if(Xe===null||Ee!==it){var at=(function(It){var dt=[];return Object.keys(It).forEach(function(Jt){It[Jt].forEach(function(yt){var Ot=null;switch(yt){case"bold":Ot={family:Jt,weight:"bold"};break;case"italic":Ot={family:Jt,style:"italic"};break;case"bolditalic":Ot={family:Jt,weight:"bold",style:"italic"};break;case"":case"normal":Ot={family:Jt}}Ot!==null&&(Ot.ref={name:Jt,style:yt},dt.push(Ot))})}),dt})(ut);Xe=(function(It){for(var dt={},Jt=0;Jt<It.length;++Jt){var yt=og(It[Jt]),Ot=yt.family,vn=yt.stretch,kt=yt.style,pt=yt.weight;dt[Ot]=dt[Ot]||{},dt[Ot][vn]=dt[Ot][vn]||{},dt[Ot][vn][kt]=dt[Ot][vn][kt]||{},dt[Ot][vn][kt][pt]=yt}return dt})(at.concat(lt)),Ee=it}return Xe})(this.pdf,this.fontFaces),st=Ye.map(function(rt){return{family:rt,stretch:"normal",weight:$e,style:Ue}}),ft=(function(rt,lt,ut){for(var it=(ut=ut||{}).defaultFontFamily||"times",at=Object.assign({},nT,ut.genericFontFamilies||{}),It=null,dt=null,Jt=0;Jt<lt.length;++Jt)if(at[(It=og(lt[Jt])).family]&&(It.family=at[It.family]),rt.hasOwnProperty(It.family)){dt=rt[It.family];break}if(!(dt=dt||rt[it]))throw new Error("Could not find a font-family for the rule '"+Ry(It)+"' and default family '"+it+"'.");if(dt=(function(yt,Ot){if(Ot[yt])return Ot[yt];var vn=qg[yt],kt=vn<=qg.normal?-1:1,pt=Cy(Ot,aw,vn,kt);if(!pt)throw new Error("Could not find a matching font-stretch value for "+yt);return pt})(It.stretch,dt),dt=(function(yt,Ot){if(Ot[yt])return Ot[yt];for(var vn=iw[yt],kt=0;kt<vn.length;++kt)if(Ot[vn[kt]])return Ot[vn[kt]];throw new Error("Could not find a matching font-style for "+yt)})(It.style,dt),!(dt=(function(yt,Ot){if(Ot[yt])return Ot[yt];if(yt===400&&Ot[500])return Ot[500];if(yt===500&&Ot[400])return Ot[400];var vn=tT[yt],kt=Cy(Ot,sw,vn,yt<400?-1:1);if(!kt)throw new Error("Could not find a matching font-weight for value "+yt);return kt})(It.weight,dt)))throw new Error("Failed to resolve a font for the rule '"+Ry(It)+"'.");return dt})(et,st);this.pdf.setFont(ft.ref.name,ft.ref.style)}else{var tt="";($e==="bold"||parseInt($e,10)>=700||Ue==="bold")&&(tt="bold"),Ue==="italic"&&(tt+="italic"),tt.length===0&&(tt="normal");for(var ht="",Qe={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ze=0;Ze<Ye.length;Ze++){if(this.pdf.internal.getFont(Ye[Ze],tt,{noFallback:!0,disableWarning:!0})!==void 0){ht=Ye[Ze];break}if(tt==="bolditalic"&&this.pdf.internal.getFont(Ye[Ze],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ht=Ye[Ze],tt="bold";else if(this.pdf.internal.getFont(Ye[Ze],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ht=Ye[Ze],tt="normal";break}}if(ht===""){for(var vt=0;vt<Ye.length;vt++)if(Qe[Ye[vt]]){ht=Qe[Ye[vt]];break}}ht=ht===""?"Times":ht,this.pdf.setFont(ht,tt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(O){this.ctx.globalCompositeOperation=O}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(O){this.ctx.globalAlpha=O}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(O){this.ctx.lineDashOffset=O,Y.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(O){this.ctx.lineDash=O,Y.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(O){this.ctx.ignoreClearRect=!!O}})};w.prototype.setLineDash=function(C){this.lineDash=C},w.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},w.prototype.fill=function(){$.call(this,"fill",!1)},w.prototype.stroke=function(){$.call(this,"stroke",!1)},w.prototype.beginPath=function(){this.path=[{type:"begin"}]},w.prototype.moveTo=function(C,U){if(isNaN(C)||isNaN(U))throw Un.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Z=this.ctx.transform.applyToPoint(new u(C,U));this.path.push({type:"mt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new u(C,U)},w.prototype.closePath=function(){var C=new u(0,0),U=0;for(U=this.path.length-1;U!==-1;U--)if(this.path[U].type==="begin"&&Cn(this.path[U+1])==="object"&&typeof this.path[U+1].x=="number"){C=new u(this.path[U+1].x,this.path[U+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new u(C.x,C.y)},w.prototype.lineTo=function(C,U){if(isNaN(C)||isNaN(U))throw Un.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Z=this.ctx.transform.applyToPoint(new u(C,U));this.path.push({type:"lt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new u(Z.x,Z.y)},w.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),$.call(this,null,!0)},w.prototype.quadraticCurveTo=function(C,U,Z,V){if(isNaN(Z)||isNaN(V)||isNaN(C)||isNaN(U))throw Un.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ee=this.ctx.transform.applyToPoint(new u(Z,V)),de=this.ctx.transform.applyToPoint(new u(C,U));this.path.push({type:"qct",x1:de.x,y1:de.y,x:ee.x,y:ee.y}),this.ctx.lastPoint=new u(ee.x,ee.y)},w.prototype.bezierCurveTo=function(C,U,Z,V,ee,de){if(isNaN(ee)||isNaN(de)||isNaN(C)||isNaN(U)||isNaN(Z)||isNaN(V))throw Un.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var _e=this.ctx.transform.applyToPoint(new u(ee,de)),xe=this.ctx.transform.applyToPoint(new u(C,U)),Ne=this.ctx.transform.applyToPoint(new u(Z,V));this.path.push({type:"bct",x1:xe.x,y1:xe.y,x2:Ne.x,y2:Ne.y,x:_e.x,y:_e.y}),this.ctx.lastPoint=new u(_e.x,_e.y)},w.prototype.arc=function(C,U,Z,V,ee,de){if(isNaN(C)||isNaN(U)||isNaN(Z)||isNaN(V)||isNaN(ee))throw Un.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(de=!!de,!this.ctx.transform.isIdentity){var _e=this.ctx.transform.applyToPoint(new u(C,U));C=_e.x,U=_e.y;var xe=this.ctx.transform.applyToPoint(new u(0,Z)),Ne=this.ctx.transform.applyToPoint(new u(0,0));Z=Math.sqrt(Math.pow(xe.x-Ne.x,2)+Math.pow(xe.y-Ne.y,2))}Math.abs(ee-V)>=2*Math.PI&&(V=0,ee=2*Math.PI),this.path.push({type:"arc",x:C,y:U,radius:Z,startAngle:V,endAngle:ee,counterclockwise:de})},w.prototype.arcTo=function(C,U,Z,V,ee){throw new Error("arcTo not implemented.")},w.prototype.rect=function(C,U,Z,V){if(isNaN(C)||isNaN(U)||isNaN(Z)||isNaN(V))throw Un.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(C,U),this.lineTo(C+Z,U),this.lineTo(C+Z,U+V),this.lineTo(C,U+V),this.lineTo(C,U),this.lineTo(C+Z,U),this.lineTo(C,U)},w.prototype.fillRect=function(C,U,Z,V){if(isNaN(C)||isNaN(U)||isNaN(Z)||isNaN(V))throw Un.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!y.call(this)){var ee={};this.lineCap!=="butt"&&(ee.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ee.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(C,U,Z,V),this.fill(),ee.hasOwnProperty("lineCap")&&(this.lineCap=ee.lineCap),ee.hasOwnProperty("lineJoin")&&(this.lineJoin=ee.lineJoin)}},w.prototype.strokeRect=function(C,U,Z,V){if(isNaN(C)||isNaN(U)||isNaN(Z)||isNaN(V))throw Un.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");T.call(this)||(this.beginPath(),this.rect(C,U,Z,V),this.stroke())},w.prototype.clearRect=function(C,U,Z,V){if(isNaN(C)||isNaN(U)||isNaN(Z)||isNaN(V))throw Un.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(C,U,Z,V))},w.prototype.save=function(C){C=typeof C!="boolean"||C;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("q");if(this.pdf.setPage(U),C){this.ctx.fontSize=this.pdf.internal.getFontSize();var V=new g(this.ctx);this.ctxStack.push(this.ctx),this.ctx=V}},w.prototype.restore=function(C){C=typeof C!="boolean"||C;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("Q");this.pdf.setPage(U),C&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},w.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var S=function(C){var U,Z,V,ee;if(C.isCanvasGradient===!0&&(C=C.getColor()),!C)return{r:0,g:0,b:0,a:0,style:C};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(C))U=0,Z=0,V=0,ee=0;else{var de=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(C);if(de!==null)U=parseInt(de[1]),Z=parseInt(de[2]),V=parseInt(de[3]),ee=1;else if((de=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(C))!==null)U=parseInt(de[1]),Z=parseInt(de[2]),V=parseInt(de[3]),ee=parseFloat(de[4]);else{if(ee=1,typeof C=="string"&&C.charAt(0)!=="#"){var _e=new Jb(C);C=_e.ok?_e.toHex():"#000000"}C.length===4?(U=C.substring(1,2),U+=U,Z=C.substring(2,3),Z+=Z,V=C.substring(3,4),V+=V):(U=C.substring(1,3),Z=C.substring(3,5),V=C.substring(5,7)),U=parseInt(U,16),Z=parseInt(Z,16),V=parseInt(V,16)}}return{r:U,g:Z,b:V,a:ee,style:C}},y=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},T=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};w.prototype.fillText=function(C,U,Z,V){if(isNaN(U)||isNaN(Z)||typeof C!="string")throw Un.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(V=isNaN(V)?void 0:V,!y.call(this)){var ee=ue(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;X.call(this,{text:C,x:U,y:Z,scale:de,angle:ee,align:this.textAlign,maxWidth:V})}},w.prototype.strokeText=function(C,U,Z,V){if(isNaN(U)||isNaN(Z)||typeof C!="string")throw Un.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!T.call(this)){V=isNaN(V)?void 0:V;var ee=ue(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;X.call(this,{text:C,x:U,y:Z,scale:de,renderingMode:"stroke",angle:ee,align:this.textAlign,maxWidth:V})}},w.prototype.measureText=function(C){if(typeof C!="string")throw Un.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var U=this.pdf,Z=this.pdf.internal.scaleFactor,V=U.internal.getFontSize(),ee=U.getStringUnitWidth(C)*V/U.internal.scaleFactor;return new function(de){var _e=(de=de||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return _e}}),this}({width:ee*=Math.round(96*Z/72*1e4)/1e4})},w.prototype.scale=function(C,U){if(isNaN(C)||isNaN(U))throw Un.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Z=new f(C,0,0,U,0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},w.prototype.rotate=function(C){if(isNaN(C))throw Un.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var U=new f(Math.cos(C),Math.sin(C),-Math.sin(C),Math.cos(C),0,0);this.ctx.transform=this.ctx.transform.multiply(U)},w.prototype.translate=function(C,U){if(isNaN(C)||isNaN(U))throw Un.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Z=new f(1,0,0,1,C,U);this.ctx.transform=this.ctx.transform.multiply(Z)},w.prototype.transform=function(C,U,Z,V,ee,de){if(isNaN(C)||isNaN(U)||isNaN(Z)||isNaN(V)||isNaN(ee)||isNaN(de))throw Un.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var _e=new f(C,U,Z,V,ee,de);this.ctx.transform=this.ctx.transform.multiply(_e)},w.prototype.setTransform=function(C,U,Z,V,ee,de){C=isNaN(C)?1:C,U=isNaN(U)?0:U,Z=isNaN(Z)?0:Z,V=isNaN(V)?1:V,ee=isNaN(ee)?0:ee,de=isNaN(de)?0:de,this.ctx.transform=new f(C,U,Z,V,ee,de)};var E=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};w.prototype.drawImage=function(C,U,Z,V,ee,de,_e,xe,Ne){var We=this.pdf.getImageProperties(C),Xe=1,Ee=1,ke=1,O=1;V!==void 0&&xe!==void 0&&(ke=xe/V,O=Ne/ee,Xe=We.width/V*xe/V,Ee=We.height/ee*Ne/ee),de===void 0&&(de=U,_e=Z,U=0,Z=0),V!==void 0&&xe===void 0&&(xe=V,Ne=ee),V===void 0&&xe===void 0&&(xe=We.width,Ne=We.height);var De=this.ctx.transform.decompose(),Ue=ue(De.rotate.shx),$e=new f,te=($e=($e=($e=$e.multiply(De.translate)).multiply(De.skew)).multiply(De.scale)).applyToRectangle(new d(de-U*ke,_e-Z*O,V*Xe,ee*Ee));if(this.autoPaging){for(var ve,Ie=N.call(this,te),Ye=[],et=0;et<Ie.length;et+=1)Ye.indexOf(Ie[et])===-1&&Ye.push(Ie[et]);D(Ye);for(var st=Ye[0],ft=Ye[Ye.length-1],tt=st;tt<ft+1;tt++){this.pdf.setPage(tt);var ht=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Qe=tt===1?this.posY+this.margin[0]:this.margin[0],Ze=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],vt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],rt=tt===1?0:Ze+(tt-2)*vt;if(this.ctx.clip_path.length!==0){var lt=this.path;ve=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(ve,this.posX+this.margin[3],-rt+Qe+this.ctx.prevPageLastElemOffset),ce.call(this,"fill",!0),this.path=lt}var ut=JSON.parse(JSON.stringify(te));ut=I([ut],this.posX+this.margin[3],-rt+Qe+this.ctx.prevPageLastElemOffset)[0];var it=(tt>st||tt<ft)&&E.call(this);it&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ht,vt,null).clip().discardPath()),this.pdf.addImage(C,"JPEG",ut.x,ut.y,ut.w,ut.h,null,null,Ue),it&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(C,"JPEG",te.x,te.y,te.w,te.h,null,null,Ue)};var N=function(C,U,Z){var V=[];U=U||this.pdf.internal.pageSize.width,Z=Z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ee=this.posY+this.ctx.prevPageLastElemOffset;switch(C.type){default:case"mt":case"lt":V.push(Math.floor((C.y+ee)/Z)+1);break;case"arc":V.push(Math.floor((C.y+ee-C.radius)/Z)+1),V.push(Math.floor((C.y+ee+C.radius)/Z)+1);break;case"qct":var de=be(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x,C.y);V.push(Math.floor((de.y+ee)/Z)+1),V.push(Math.floor((de.y+de.h+ee)/Z)+1);break;case"bct":var _e=Oe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x2,C.y2,C.x,C.y);V.push(Math.floor((_e.y+ee)/Z)+1),V.push(Math.floor((_e.y+_e.h+ee)/Z)+1);break;case"rect":V.push(Math.floor((C.y+ee)/Z)+1),V.push(Math.floor((C.y+C.h+ee)/Z)+1)}for(var xe=0;xe<V.length;xe+=1)for(;this.pdf.internal.getNumberOfPages()<V[xe];)L.call(this);return V},L=function(){var C=this.fillStyle,U=this.strokeStyle,Z=this.font,V=this.lineCap,ee=this.lineWidth,de=this.lineJoin;this.pdf.addPage(),this.fillStyle=C,this.strokeStyle=U,this.font=Z,this.lineCap=V,this.lineWidth=ee,this.lineJoin=de},I=function(C,U,Z){for(var V=0;V<C.length;V++)switch(C[V].type){case"bct":C[V].x2+=U,C[V].y2+=Z;case"qct":C[V].x1+=U,C[V].y1+=Z;default:C[V].x+=U,C[V].y+=Z}return C},D=function(C){return C.sort(function(U,Z){return U-Z})},$=function(C,U){var Z=this.fillStyle,V=this.strokeStyle,ee=this.lineCap,de=this.lineWidth,_e=Math.abs(de*this.ctx.transform.scaleX),xe=this.lineJoin;if(this.autoPaging){for(var Ne,We,Xe=JSON.parse(JSON.stringify(this.path)),Ee=JSON.parse(JSON.stringify(this.path)),ke=[],O=0;O<Ee.length;O++)if(Ee[O].x!==void 0)for(var De=N.call(this,Ee[O]),Ue=0;Ue<De.length;Ue+=1)ke.indexOf(De[Ue])===-1&&ke.push(De[Ue]);for(var $e=0;$e<ke.length;$e++)for(;this.pdf.internal.getNumberOfPages()<ke[$e];)L.call(this);D(ke);for(var te=ke[0],ve=ke[ke.length-1],Ie=te;Ie<ve+1;Ie++){this.pdf.setPage(Ie),this.fillStyle=Z,this.strokeStyle=V,this.lineCap=ee,this.lineWidth=_e,this.lineJoin=xe;var Ye=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],et=Ie===1?this.posY+this.margin[0]:this.margin[0],st=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ft=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],tt=Ie===1?0:st+(Ie-2)*ft;if(this.ctx.clip_path.length!==0){var ht=this.path;Ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(Ne,this.posX+this.margin[3],-tt+et+this.ctx.prevPageLastElemOffset),ce.call(this,C,!0),this.path=ht}if(We=JSON.parse(JSON.stringify(Xe)),this.path=I(We,this.posX+this.margin[3],-tt+et+this.ctx.prevPageLastElemOffset),U===!1||Ie===0){var Qe=(Ie>te||Ie<ve)&&E.call(this);Qe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ye,ft,null).clip().discardPath()),ce.call(this,C,U),Qe&&this.pdf.restoreGraphicsState()}this.lineWidth=de}this.path=Xe}else this.lineWidth=_e,ce.call(this,C,U),this.lineWidth=de},ce=function(C,U){if((C!=="stroke"||U||!T.call(this))&&(C==="stroke"||U||!y.call(this))){for(var Z,V,ee=[],de=this.path,_e=0;_e<de.length;_e++){var xe=de[_e];switch(xe.type){case"begin":ee.push({begin:!0});break;case"close":ee.push({close:!0});break;case"mt":ee.push({start:xe,deltas:[],abs:[]});break;case"lt":var Ne=ee.length;if(de[_e-1]&&!isNaN(de[_e-1].x)&&(Z=[xe.x-de[_e-1].x,xe.y-de[_e-1].y],Ne>0)){for(;Ne>=0;Ne--)if(ee[Ne-1].close!==!0&&ee[Ne-1].begin!==!0){ee[Ne-1].deltas.push(Z),ee[Ne-1].abs.push(xe);break}}break;case"bct":Z=[xe.x1-de[_e-1].x,xe.y1-de[_e-1].y,xe.x2-de[_e-1].x,xe.y2-de[_e-1].y,xe.x-de[_e-1].x,xe.y-de[_e-1].y],ee[ee.length-1].deltas.push(Z);break;case"qct":var We=de[_e-1].x+2/3*(xe.x1-de[_e-1].x),Xe=de[_e-1].y+2/3*(xe.y1-de[_e-1].y),Ee=xe.x+2/3*(xe.x1-xe.x),ke=xe.y+2/3*(xe.y1-xe.y),O=xe.x,De=xe.y;Z=[We-de[_e-1].x,Xe-de[_e-1].y,Ee-de[_e-1].x,ke-de[_e-1].y,O-de[_e-1].x,De-de[_e-1].y],ee[ee.length-1].deltas.push(Z);break;case"arc":ee.push({deltas:[],abs:[],arc:!0}),Array.isArray(ee[ee.length-1].abs)&&ee[ee.length-1].abs.push(xe)}}V=U?null:C==="stroke"?"stroke":"fill";for(var Ue=!1,$e=0;$e<ee.length;$e++)if(ee[$e].arc)for(var te=ee[$e].abs,ve=0;ve<te.length;ve++){var Ie=te[ve];Ie.type==="arc"?W.call(this,Ie.x,Ie.y,Ie.radius,Ie.startAngle,Ie.endAngle,Ie.counterclockwise,void 0,U,!Ue):ae.call(this,Ie.x,Ie.y),Ue=!0}else if(ee[$e].close===!0)this.pdf.internal.out("h"),Ue=!1;else if(ee[$e].begin!==!0){var Ye=ee[$e].start.x,et=ee[$e].start.y;J.call(this,ee[$e].deltas,Ye,et),Ue=!0}V&&P.call(this,V),U&&oe.call(this)}},he=function(C){var U=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Z=U*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return C-Z;case"top":return C+U-Z;case"hanging":return C+U-2*Z;case"middle":return C+U/2-Z;default:return C}},le=function(C){return C+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};w.prototype.createLinearGradient=function(){var C=function(){};return C.colorStops=[],C.addColorStop=function(U,Z){this.colorStops.push([U,Z])},C.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},C.isCanvasGradient=!0,C},w.prototype.createPattern=function(){return this.createLinearGradient()},w.prototype.createRadialGradient=function(){return this.createLinearGradient()};var W=function(C,U,Z,V,ee,de,_e,xe,Ne){for(var We=F.call(this,Z,V,ee,de),Xe=0;Xe<We.length;Xe++){var Ee=We[Xe];Xe===0&&(Ne?M.call(this,Ee.x1+C,Ee.y1+U):ae.call(this,Ee.x1+C,Ee.y1+U)),pe.call(this,C,U,Ee.x2,Ee.y2,Ee.x3,Ee.y3,Ee.x4,Ee.y4)}xe?oe.call(this):P.call(this,_e)},P=function(C){switch(C){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},oe=function(){this.pdf.clip(),this.pdf.discardPath()},M=function(C,U){this.pdf.internal.out(n(C)+" "+a(U)+" m")},X=function(C){var U;switch(C.align){case"right":case"end":U="right";break;case"center":U="center";break;default:U="left"}var Z,V,ee,de=this.pdf.getTextDimensions(C.text),_e=he.call(this,C.y),xe=le.call(this,_e)-de.h,Ne=this.ctx.transform.applyToPoint(new u(C.x,_e));if(this.autoPaging){var We=this.ctx.transform.decompose(),Xe=new f;Xe=(Xe=(Xe=Xe.multiply(We.translate)).multiply(We.skew)).multiply(We.scale);for(var Ee=this.ctx.transform.applyToRectangle(new d(C.x,_e,de.w,de.h)),ke=Xe.applyToRectangle(new d(C.x,xe,de.w,de.h)),O=N.call(this,ke),De=[],Ue=0;Ue<O.length;Ue+=1)De.indexOf(O[Ue])===-1&&De.push(O[Ue]);D(De);for(var $e=De[0],te=De[De.length-1],ve=$e;ve<te+1;ve++){this.pdf.setPage(ve);var Ie=ve===1?this.posY+this.margin[0]:this.margin[0],Ye=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],et=this.pdf.internal.pageSize.height-this.margin[2],st=et-this.margin[0],ft=this.pdf.internal.pageSize.width-this.margin[1],tt=ft-this.margin[3],ht=ve===1?0:Ye+(ve-2)*st;if(this.ctx.clip_path.length!==0){var Qe=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(Z,this.posX+this.margin[3],-1*ht+Ie),ce.call(this,"fill",!0),this.path=Qe}var Ze=I([JSON.parse(JSON.stringify(ke))],this.posX+this.margin[3],-ht+Ie+this.ctx.prevPageLastElemOffset)[0];C.scale>=.01&&(V=this.pdf.internal.getFontSize(),this.pdf.setFontSize(V*C.scale),ee=this.lineWidth,this.lineWidth=ee*C.scale);var vt=this.autoPaging!=="text";if(vt||Ze.y+Ze.h<=et){if(vt||Ze.y>=Ie&&Ze.x<=ft){var rt=vt?C.text:this.pdf.splitTextToSize(C.text,C.maxWidth||ft-Ze.x)[0],lt=I([JSON.parse(JSON.stringify(Ee))],this.posX+this.margin[3],-ht+Ie+this.ctx.prevPageLastElemOffset)[0],ut=vt&&(ve>$e||ve<te)&&E.call(this);ut&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],tt,st,null).clip().discardPath()),this.pdf.text(rt,lt.x,lt.y,{angle:C.angle,align:U,renderingMode:C.renderingMode}),ut&&this.pdf.restoreGraphicsState()}}else Ze.y<et&&(this.ctx.prevPageLastElemOffset+=et-Ze.y);C.scale>=.01&&(this.pdf.setFontSize(V),this.lineWidth=ee)}}else C.scale>=.01&&(V=this.pdf.internal.getFontSize(),this.pdf.setFontSize(V*C.scale),ee=this.lineWidth,this.lineWidth=ee*C.scale),this.pdf.text(C.text,Ne.x+this.posX,Ne.y+this.posY,{angle:C.angle,align:U,renderingMode:C.renderingMode,maxWidth:C.maxWidth}),C.scale>=.01&&(this.pdf.setFontSize(V),this.lineWidth=ee)},ae=function(C,U,Z,V){Z=Z||0,V=V||0,this.pdf.internal.out(n(C+Z)+" "+a(U+V)+" l")},J=function(C,U,Z){return this.pdf.lines(C,U,Z,null,null)},pe=function(C,U,Z,V,ee,de,_e,xe){this.pdf.internal.out([e(o(Z+C)),e(s(V+U)),e(o(ee+C)),e(s(de+U)),e(o(_e+C)),e(s(xe+U)),"c"].join(" "))},F=function(C,U,Z,V){for(var ee=2*Math.PI,de=Math.PI/2;U>Z;)U-=ee;var _e=Math.abs(Z-U);_e<ee&&V&&(_e=ee-_e);for(var xe=[],Ne=V?-1:1,We=U;_e>1e-5;){var Xe=We+Ne*Math.min(_e,de);xe.push(se.call(this,C,We,Xe)),_e-=Math.abs(Xe-We),We=Xe}return xe},se=function(C,U,Z){var V=(Z-U)/2,ee=C*Math.cos(V),de=C*Math.sin(V),_e=ee,xe=-de,Ne=_e*_e+xe*xe,We=Ne+_e*ee+xe*de,Xe=4/3*(Math.sqrt(2*Ne*We)-We)/(_e*de-xe*ee),Ee=_e-Xe*xe,ke=xe+Xe*_e,O=Ee,De=-ke,Ue=V+U,$e=Math.cos(Ue),te=Math.sin(Ue);return{x1:C*Math.cos(U),y1:C*Math.sin(U),x2:Ee*$e-ke*te,y2:Ee*te+ke*$e,x3:O*$e-De*te,y3:O*te+De*$e,x4:C*Math.cos(Z),y4:C*Math.sin(Z)}},ue=function(C){return 180*C/Math.PI},be=function(C,U,Z,V,ee,de){var _e=C+.5*(Z-C),xe=U+.5*(V-U),Ne=ee+.5*(Z-ee),We=de+.5*(V-de),Xe=Math.min(C,ee,_e,Ne),Ee=Math.max(C,ee,_e,Ne),ke=Math.min(U,de,xe,We),O=Math.max(U,de,xe,We);return new d(Xe,ke,Ee-Xe,O-ke)},Oe=function(C,U,Z,V,ee,de,_e,xe){var Ne,We,Xe,Ee,ke,O,De,Ue,$e,te,ve,Ie,Ye,et,st=Z-C,ft=V-U,tt=ee-Z,ht=de-V,Qe=_e-ee,Ze=xe-de;for(We=0;We<41;We++)$e=(De=(Xe=C+(Ne=We/40)*st)+Ne*((ke=Z+Ne*tt)-Xe))+Ne*(ke+Ne*(ee+Ne*Qe-ke)-De),te=(Ue=(Ee=U+Ne*ft)+Ne*((O=V+Ne*ht)-Ee))+Ne*(O+Ne*(de+Ne*Ze-O)-Ue),We==0?(ve=$e,Ie=te,Ye=$e,et=te):(ve=Math.min(ve,$e),Ie=Math.min(Ie,te),Ye=Math.max(Ye,$e),et=Math.max(et,te));return new d(Math.round(ve),Math.round(Ie),Math.round(Ye-ve),Math.round(et-Ie))},Y=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var C,U,Z=(C=this.ctx.lineDash,U=this.ctx.lineDashOffset,JSON.stringify({lineDash:C,lineDashOffset:U}));this.prevLineDash!==Z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Z)}}})(Ct.API),(function(t){var e=function(u){var d,f,h,g,w,S,y,T,E,N;for(f=[],h=0,g=(u+=d="\0\0\0\0".slice(u.length%4||4)).length;g>h;h+=4)(w=(u.charCodeAt(h)<<24)+(u.charCodeAt(h+1)<<16)+(u.charCodeAt(h+2)<<8)+u.charCodeAt(h+3))!==0?(S=(w=((w=((w=((w=(w-(N=w%85))/85)-(E=w%85))/85)-(T=w%85))/85)-(y=w%85))/85)%85,f.push(S+33,y+33,T+33,E+33,N+33)):f.push(122);return(function(L,I){for(var D=I;D>0;D--)L.pop()})(f,d.length),String.fromCharCode.apply(String,f)+"~>"},n=function(u){var d,f,h,g,w,S=String,y="length",T=255,E="charCodeAt",N="slice",L="replace";for(u[N](-2),u=u[N](0,-2)[L](/\s/g,"")[L]("z","!!!!!"),h=[],g=0,w=(u+=d="uuuuu"[N](u[y]%5||5))[y];w>g;g+=5)f=52200625*(u[E](g)-33)+614125*(u[E](g+1)-33)+7225*(u[E](g+2)-33)+85*(u[E](g+3)-33)+(u[E](g+4)-33),h.push(T&f>>24,T&f>>16,T&f>>8,T&f);return(function(I,D){for(var $=D;$>0;$--)I.pop()})(h,d[y]),S.fromCharCode.apply(S,h)},a=function(u){return u.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">"},o=function(u){var d=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((u=u.replace(/\s/g,"")).indexOf(">")!==-1&&(u=u.substr(0,u.indexOf(">"))),u.length%2&&(u+="0"),d.test(u)===!1)return"";for(var f="",h=0;h<u.length;h+=2)f+=String.fromCharCode("0x"+(u[h]+u[h+1]));return f},s=function(u){for(var d=new Uint8Array(u.length),f=u.length;f--;)d[f]=u.charCodeAt(f);return(d=Dg(d)).reduce(function(h,g){return h+String.fromCharCode(g)},"")};t.processDataByFilters=function(u,d){var f=0,h=u||"",g=[];for(typeof(d=d||[])=="string"&&(d=[d]),f=0;f<d.length;f+=1)switch(d[f]){case"ASCII85Decode":case"/ASCII85Decode":h=n(h),g.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=e(h),g.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=o(h),g.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=a(h),g.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=s(h),g.push("/FlateDecode");break;default:throw new Error('The filter: "'+d[f]+'" is not implemented')}return{data:h,reverseChain:g.reverse().join(" ")}}})(Ct.API),(function(t){t.loadFile=function(e,n,a){return(function(o,s,u){s=s!==!1,u=typeof u=="function"?u:function(){};var d=void 0;try{d=(function(f,h,g){var w=new XMLHttpRequest,S=0,y=function(T){var E=T.length,N=[],L=String.fromCharCode;for(S=0;S<E;S+=1)N.push(L(255&T.charCodeAt(S)));return N.join("")};if(w.open("GET",f,!h),w.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(w.onload=function(){w.status===200?g(y(this.responseText)):g(void 0)}),w.send(null),h&&w.status===200)return y(w.responseText)})(o,s,u)}catch{}return d})(e,n,a)},t.allowFsRead=void 0,t.loadImageFile=t.loadFile})(Ct.API),(function(t){function e(){return(Ht.html2canvas?Promise.resolve(Ht.html2canvas):Hp(()=>import("./html2canvas.esm-DXEQVQnt.js"),[])).catch(function(d){return Promise.reject(new Error("Could not load html2canvas: "+d))}).then(function(d){return d.default?d.default:d})}function n(){return(Ht.DOMPurify?Promise.resolve(Ht.DOMPurify):Hp(()=>import("./purify.es-Bzr520pe.js"),[])).catch(function(d){return Promise.reject(new Error("Could not load dompurify: "+d))}).then(function(d){return d.default?d.default:d})}var a=function(d){var f=Cn(d);return f==="undefined"?"undefined":f==="string"||d instanceof String?"string":f==="number"||d instanceof Number?"number":f==="function"||d instanceof Function?"function":d&&d.constructor===Array?"array":d&&d.nodeType===1?"element":f==="object"?"object":"unknown"},o=function(d,f){var h=document.createElement(d);for(var g in f.className&&(h.className=f.className),f.innerHTML&&f.dompurify&&(h.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)h.style[g]=f.style[g];return h},s=function d(f,h){for(var g=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),w=f.firstChild;w;w=w.nextSibling)h!==!0&&w.nodeType===1&&w.nodeName==="SCRIPT"||g.appendChild(d(w,h));return f.nodeType===1&&(f.nodeName==="CANVAS"?(g.width=f.width,g.height=f.height,g.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(g.value=f.value),g.addEventListener("load",function(){g.scrollTop=f.scrollTop,g.scrollLeft=f.scrollLeft},!0)),g},u=function d(f){var h=Object.assign(d.convert(Promise.resolve()),JSON.parse(JSON.stringify(d.template))),g=d.convert(Promise.resolve(),h);return(g=g.setProgress(1,d,1,[d])).set(f)};(u.prototype=Object.create(Promise.prototype)).constructor=u,u.convert=function(d,f){return d.__proto__=f||u.prototype,d},u.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},u.prototype.from=function(d,f){return this.then(function(){switch(f=f||(function(h){switch(a(h)){case"string":return"string";case"element":return h.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(d),f){case"string":return this.then(n).then(function(h){return this.set({src:o("div",{innerHTML:d,dompurify:h})})});case"element":return this.set({src:d});case"canvas":return this.set({canvas:d});case"img":return this.set({img:d});default:return this.error("Unknown source type.")}})},u.prototype.to=function(d){switch(d){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},u.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var d={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(d.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=o("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=o("div",{className:"html2pdf__container",style:d}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(o("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},u.prototype.toCanvas=function(){var d=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(d).then(e).then(function(f){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,f(this.prop.container,h)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toContext2d=function(){var d=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(d).then(e).then(function(f){var h=this.opt.jsPDF,g=this.opt.fontFaces,w=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,S=Object.assign({async:!0,allowTaint:!0,scale:w,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete S.onrendered,h.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=g,g)for(var y=0;y<g.length;++y){var T=g[y],E=T.src.find(function(N){return N.format==="truetype"});E&&h.addFont(E.url,T.ref.name,T.ref.style)}return S.windowHeight=S.windowHeight||0,S.windowHeight=S.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):S.windowHeight,h.context2d.save(!0),f(this.prop.container,S)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var d=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=d})},u.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},u.prototype.output=function(d,f,h){return(h=h||"pdf").toLowerCase()==="img"||h.toLowerCase()==="image"?this.outputImg(d,f):this.outputPdf(d,f)},u.prototype.outputPdf=function(d,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(d,f)})},u.prototype.outputImg=function(d){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(d){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+d+'" is not supported.'}})},u.prototype.save=function(d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(d?{filename:d}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},u.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},u.prototype.set=function(d){if(a(d)!=="object")return this;var f=Object.keys(d||{}).map(function(h){if(h in u.template.prop)return function(){this.prop[h]=d[h]};switch(h){case"margin":return this.setMargin.bind(this,d.margin);case"jsPDF":return function(){return this.opt.jsPDF=d.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,d.pageSize);default:return function(){this.opt[h]=d[h]}}},this);return this.then(function(){return this.thenList(f)})},u.prototype.get=function(d,f){return this.then(function(){var h=d in u.template.prop?this.prop[d]:this.opt[d];return f?f(h):h})},u.prototype.setMargin=function(d){return this.then(function(){switch(a(d)){case"number":d=[d,d,d,d];case"array":if(d.length===2&&(d=[d[0],d[1],d[0],d[1]]),d.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=d}).then(this.setPageSize)},u.prototype.setPageSize=function(d){function f(h,g){return Math.floor(h*g/72*96)}return this.then(function(){(d=d||Ct.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(d.inner={width:d.width-this.opt.margin[1]-this.opt.margin[3],height:d.height-this.opt.margin[0]-this.opt.margin[2]},d.inner.px={width:f(d.inner.width,d.k),height:f(d.inner.height,d.k)},d.inner.ratio=d.inner.height/d.inner.width),this.prop.pageSize=d})},u.prototype.setProgress=function(d,f,h,g){return d!=null&&(this.progress.val=d),f!=null&&(this.progress.state=f),h!=null&&(this.progress.n=h),g!=null&&(this.progress.stack=g),this.progress.ratio=this.progress.val/this.progress.state,this},u.prototype.updateProgress=function(d,f,h,g){return this.setProgress(d?this.progress.val+d:null,f||null,h?this.progress.n+h:null,g?this.progress.stack.concat(g):null)},u.prototype.then=function(d,f){var h=this;return this.thenCore(d,f,function(g,w){return h.updateProgress(null,null,1,[g]),Promise.prototype.then.call(this,function(S){return h.updateProgress(null,g),S}).then(g,w).then(function(S){return h.updateProgress(1),S})})},u.prototype.thenCore=function(d,f,h){h=h||Promise.prototype.then;var g=this;d&&(d=d.bind(g)),f&&(f=f.bind(g));var w=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?g:u.convert(Object.assign({},g),Promise.prototype),S=h.call(w,d,f);return u.convert(S,g.__proto__)},u.prototype.thenExternal=function(d,f){return Promise.prototype.then.call(this,d,f)},u.prototype.thenList=function(d){var f=this;return d.forEach(function(h){f=f.thenCore(h)}),f},u.prototype.catch=function(d){d&&(d=d.bind(this));var f=Promise.prototype.catch.call(this,d);return u.convert(f,this)},u.prototype.catchExternal=function(d){return Promise.prototype.catch.call(this,d)},u.prototype.error=function(d){return this.then(function(){throw new Error(d)})},u.prototype.using=u.prototype.set,u.prototype.saveAs=u.prototype.save,u.prototype.export=u.prototype.output,u.prototype.run=u.prototype.then,Ct.getPageSize=function(d,f,h){if(Cn(d)==="object"){var g=d;d=g.orientation,f=g.unit||f,h=g.format||h}f=f||"mm",h=h||"a4",d=(""+(d||"P")).toLowerCase();var w,S=(""+h).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":w=1;break;case"mm":w=72/25.4;break;case"cm":w=72/2.54;break;case"in":w=72;break;case"px":w=.75;break;case"pc":case"em":w=12;break;case"ex":w=6;break;default:throw"Invalid unit: "+f}var T,E=0,N=0;if(y.hasOwnProperty(S))E=y[S][1]/w,N=y[S][0]/w;else try{E=h[1],N=h[0]}catch{throw new Error("Invalid format: "+h)}if(d==="p"||d==="portrait")d="p",N>E&&(T=N,N=E,E=T);else{if(d!=="l"&&d!=="landscape")throw"Invalid orientation: "+d;d="l",E>N&&(T=N,N=E,E=T)}return{width:N,height:E,unit:f,k:w,orientation:d}},t.html=function(d,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(og):null;var h=new u(f);return f.worker?h:h.from(d).doCallback()}})(Ct.API),Ct.API.addJS=function(t){var e,n,a=t;return this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(e+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),n=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+a+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){e!==void 0&&n!==void 0&&this.internal.out("/Names <</JavaScript "+e+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var n=this,a=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var o=n.outline.render().split(/\r\n/),s=0;s<o.length;s++){var u=o[s],d=a.exec(u);if(d!=null){var f=d[1];n.internal.newObjectDeferredBegin(f,!1)}n.internal.write(u)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,g=[];for(s=0;s<h;s++){var w=n.internal.newObject();g.push(w);var S=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+S.objId+" 0 R /XYZ null null null]>> endobj")}var y=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<g.length;s++)n.internal.write("(page_"+(s+1)+")"+g[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+y+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(a,o,s){var u={title:o,options:s,children:[]};return a==null&&(a=this.root),a.children.push(u),u},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(a){a.id=n.internal.newObjectDeferred();for(var o=0;o<a.children.length;o++)this.genIds_r(a.children[o])},n.outline.renderRoot=function(a){this.objStart(a),this.line("/Type /Outlines"),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1]))),this.line("/Count "+this.count_r({count:0},a)),this.objEnd()},n.outline.renderItems=function(a){for(var o=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<a.children.length;s++){var u=a.children[s];this.objStart(u),this.line("/Title "+this.makeString(u.title)),this.line("/Parent "+this.makeRef(a)),s>0&&this.line("/Prev "+this.makeRef(a.children[s-1])),s<a.children.length-1&&this.line("/Next "+this.makeRef(a.children[s+1])),u.children.length>0&&(this.line("/First "+this.makeRef(u.children[0])),this.line("/Last "+this.makeRef(u.children[u.children.length-1])));var d=this.count=this.count_r({count:0},u);if(d>0&&this.line("/Count "+d),u.options&&u.options.pageNumber){var f=n.internal.getPageInfo(u.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+o(0)+" 0]")}this.objEnd()}for(var h=0;h<a.children.length;h++)this.renderItems(a.children[h])},n.outline.line=function(a){this.ctx.val+=a+`\r
`},n.outline.makeRef=function(a){return a.id+" 0 R"},n.outline.makeString=function(a){return"("+n.internal.pdfEscape(a)+")"},n.outline.objStart=function(a){this.ctx.val+=`\r
`+a.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(a,o){for(var s=0;s<o.children.length;s++)a.count++,this.count_r(a,o.children[s]);return a.count}}])})(Ct.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,a,o,s,u,d){var f,h=this.decode.DCT_DECODE,g=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=u||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,f=(function(w){for(var S,y=256*w.charCodeAt(4)+w.charCodeAt(5),T=w.length,E={width:0,height:0,numcomponents:1},N=4;N<T;N+=2){if(N+=y,e.indexOf(w.charCodeAt(N+1))!==-1){S=256*w.charCodeAt(N+5)+w.charCodeAt(N+6),E={width:256*w.charCodeAt(N+7)+w.charCodeAt(N+8),height:S,numcomponents:w.charCodeAt(N+9)};break}y=256*w.charCodeAt(N+2)+w.charCodeAt(N+3)}return E})(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),f.numcomponents){case 1:d=this.color_spaces.DEVICE_GRAY;break;case 4:d=this.color_spaces.DEVICE_CMYK;break;case 3:d=this.color_spaces.DEVICE_RGB}g={data:n,width:f.width,height:f.height,colorSpace:d,bitsPerComponent:8,filter:h,index:a,alias:o}}return g}})(Ct.API),Ct.API.processPNG=function(t,e,n,a){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var o,s=q7(t,{checkCrc:!0}),u=s.width,d=s.height,f=s.channels,h=s.palette,g=s.depth;o=h&&f===1?(function(W){for(var P=W.width,oe=W.height,M=W.data,X=W.palette,ae=W.depth,J=!1,pe=[],F=[],se=void 0,ue=!1,be=0,Oe=0;Oe<X.length;Oe++){var Y=M5(X[Oe],4),C=Y[0],U=Y[1],Z=Y[2],V=Y[3];pe.push(C,U,Z),V!=null&&(V===0?(be++,F.length<1&&F.push(Oe)):V<255&&(ue=!0))}if(ue||be>1){J=!0,F=void 0;var ee=P*oe;se=new Uint8Array(ee);for(var de=new DataView(M.buffer),_e=0;_e<ee;_e++){var xe=ug(de,_e,ae),Ne=M5(X[xe],4)[3];se[_e]=Ne}}else be===0&&(F=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:J?8:void 0,colorBytes:M,alphaBytes:se,needSMask:J,palette:pe,mask:F}})(s):f===2||f===4?(function(W){for(var P=W.data,oe=W.width,M=W.height,X=W.channels,ae=W.depth,J=X===2?"DeviceGray":"DeviceRGB",pe=X-1,F=oe*M,se=pe,ue=F*se,be=1*F,Oe=Math.ceil(ue*ae/8),Y=Math.ceil(be*ae/8),C=new Uint8Array(Oe),U=new Uint8Array(Y),Z=new DataView(P.buffer),V=new DataView(C.buffer),ee=new DataView(U.buffer),de=!1,_e=0;_e<F;_e++){for(var xe=_e*X,Ne=0;Ne<se;Ne++)qy(V,ug(Z,xe+Ne,ae),_e*se+Ne,ae);var We=ug(Z,xe+se,ae);We<(1<<ae)-1&&(de=!0),qy(ee,We,1*_e,ae)}return{colorSpace:J,colorsPerPixel:pe,sMaskBitsPerComponent:de?ae:void 0,colorBytes:C,alphaBytes:U,needSMask:de}})(s):(function(W){var P=W.data,oe=W.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:oe,colorsPerPixel:oe==="DeviceGray"?1:3,colorBytes:P instanceof Uint16Array?(function(M){for(var X=M.length,ae=new Uint8Array(2*X),J=new DataView(ae.buffer,ae.byteOffset,ae.byteLength),pe=0;pe<X;pe++)J.setUint16(2*pe,M[pe],!1);return ae})(P):P,needSMask:!1}})(s);var w,S,y,T=o,E=T.colorSpace,N=T.colorsPerPixel,L=T.sMaskBitsPerComponent,I=T.colorBytes,D=T.alphaBytes,$=T.needSMask,ce=T.palette,he=T.mask,le=null;return a!==Ct.API.image_compression.NONE&&typeof Dg=="function"?(le=(function(W){var P;switch(W){case Ct.API.image_compression.FAST:P=11;break;case Ct.API.image_compression.MEDIUM:P=13;break;case Ct.API.image_compression.SLOW:P=14;break;default:P=12}return P})(a),w=this.decode.FLATE_DECODE,S="/Predictor ".concat(le," /Colors ").concat(N," /BitsPerComponent ").concat(g," /Columns ").concat(u),t=By(I,Math.ceil(u*N*g/8),N,g,a),$&&(y=By(D,Math.ceil(u*L/8),1,L,a))):(w=void 0,S=void 0,t=I,$&&(y=D)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(y&&this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y))&&(y=this.__addimage__.arrayBufferToBinaryString(y)),{alias:n,data:t,index:e,filter:w,decodeParameters:S,transparency:he,palette:ce,sMask:y,predictor:le,width:u,height:d,bitsPerComponent:g,sMaskBitsPerComponent:L,colorSpace:E}}},(function(t){t.processGIF89A=function(e,n,a,o){var s=new lT(e),u=s.width,d=s.height,f=[];s.decodeAndBlitFrameRGBA(0,f);var h={data:f,width:u,height:d},g=new cg(100).encode(h,100);return t.processJPEG.call(this,g,n,a,o)},t.processGIF87A=t.processGIF89A})(Ct.API),ws.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:o,green:a,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ws.prototype.parseBGR=function(){this.pos=this.offset;var t="bit"+this.bitPP,e=this.width*this.height*4;if(e>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(e);try{this[t]()}catch(n){Un.log("bit decode error:"+n)}},ws.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var a=this.bottom_up?t:this.height-1-t,o=0;o<e;o++)for(var s=this.datav.getUint8(this.pos++,!0),u=a*this.width*4+8*o*4,d=0;d<8&&8*o+d<this.width;d++){var f=this.palette[s>>7-d&1];this.data[u+4*d]=f.blue,this.data[u+4*d+1]=f.green,this.data[u+4*d+2]=f.red,this.data[u+4*d+3]=255}n!==0&&(this.pos+=4-n)}},ws.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,o=0;o<t;o++){var s=this.datav.getUint8(this.pos++,!0),u=a*this.width*4+2*o*4,d=s>>4,f=15&s,h=this.palette[d];if(this.data[u]=h.blue,this.data[u+1]=h.green,this.data[u+2]=h.red,this.data[u+3]=255,2*o+1>=this.width)break;h=this.palette[f],this.data[u+4]=h.blue,this.data[u+4+1]=h.green,this.data[u+4+2]=h.red,this.data[u+4+3]=255}e!==0&&(this.pos+=4-e)}},ws.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<this.width;a++){var o=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*a;if(o<this.palette.length){var u=this.palette[o];this.data[s]=u.red,this.data[s+1]=u.green,this.data[s+2]=u.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},ws.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,o=0;o<this.width;o++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(s&e)/e*255|0,d=(s>>5&e)/e*255|0,f=(s>>10&e)/e*255|0,h=s>>15?255:0,g=a*this.width*4+4*o;this.data[g]=f,this.data[g+1]=d,this.data[g+2]=u,this.data[g+3]=h}this.pos+=t}},ws.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),a=this.height-1;a>=0;a--){for(var o=this.bottom_up?a:this.height-1-a,s=0;s<this.width;s++){var u=this.datav.getUint16(this.pos,!0);this.pos+=2;var d=(u&e)/e*255|0,f=(u>>5&n)/n*255|0,h=(u>>11)/e*255|0,g=o*this.width*4+4*s;this.data[g]=h,this.data[g+1]=f,this.data[g+2]=d,this.data[g+3]=255}this.pos+=t}},ws.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*n;this.data[u]=s,this.data[u+1]=o,this.data[u+2]=a,this.data[u+3]=255}this.pos+=this.width%4}},ws.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),d=e*this.width*4+4*n;this.data[d]=s,this.data[d+1]=o,this.data[d+2]=a,this.data[d+3]=u}},ws.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,n,a,o){var s=new ws(e,!1),u=s.width,d=s.height,f={data:s.getData(),width:u,height:d},h=new cg(100).encode(f,100);return t.processJPEG.call(this,h,n,a,o)}})(Ct.API),Hy.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,n,a,o){var s=new Hy(e),u=s.width,d=s.height,f={data:s.getData(),width:u,height:d},h=new cg(100).encode(f,100);return t.processJPEG.call(this,h,n,a,o)}})(Ct.API),Ct.API.processRGBA=function(t,e,n){for(var a=t.data,o=a.length,s=new Uint8Array(o/4*3),u=new Uint8Array(o/4),d=0,f=0,h=0;h<o;h+=4){var g=a[h],w=a[h+1],S=a[h+2],y=a[h+3];s[d++]=g,s[d++]=w,s[d++]=S,u[f++]=y}var T=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(u),data:T,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Ct.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},xc=Ct.API,yh=xc.getCharWidthsArray=function(t,e){var n,a,o=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),u=e.charSpace||this.internal.getCharSpace(),d=e.widths?e.widths:o.metadata.Unicode.widths,f=d.fof?d.fof:1,h=e.kerning?e.kerning:o.metadata.Unicode.kerning,g=h.fof?h.fof:1,w=e.doKerning!==!1,S=0,y=t.length,T=0,E=d[0]||f,N=[];for(n=0;n<y;n++)a=t.charCodeAt(n),typeof o.metadata.widthOfString=="function"?N.push((o.metadata.widthOfGlyph(o.metadata.characterToGlyph(a))+u*(1e3/s)||0)/1e3):(S=w&&Cn(h[a])==="object"&&!isNaN(parseInt(h[a][T],10))?h[a][T]/g:0,N.push((d[a]||E)/f+S)),T=a;return N},Oy=xc.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),a=e.font||this.internal.getFont(),o=e.charSpace||this.internal.getCharSpace();return xc.processArabic&&(t=xc.processArabic(t)),typeof a.metadata.widthOfString=="function"?a.metadata.widthOfString(t,n,o)/n:yh.apply(this,arguments).reduce(function(s,u){return s+u},0)},Dy=function(t,e,n,a){for(var o=[],s=0,u=t.length,d=0;s!==u&&d+e[s]<n;)d+=e[s],s++;o.push(t.slice(0,s));var f=s;for(d=0;s!==u;)d+e[s]>a&&(o.push(t.slice(f,s)),d=0,f=s),d+=e[s],s++;return f!==s&&o.push(t.slice(f,s)),o},zy=function(t,e,n){n||(n={});var a,o,s,u,d,f,h,g=[],w=[g],S=n.textIndent||0,y=0,T=0,E=t.split(" "),N=yh.apply(this,[" ",n])[0];if(f=n.lineIndent===-1?E[0].length+2:n.lineIndent||0){var L=Array(f).join(" "),I=[];E.map(function($){($=$.split(/\s*\n/)).length>1?I=I.concat($.map(function(ce,he){return(he&&ce.length?`
`:"")+ce})):I.push($[0])}),E=I,f=Oy.apply(this,[L,n])}for(s=0,u=E.length;s<u;s++){var D=0;if(a=E[s],f&&a[0]==`
`&&(a=a.substr(1),D=1),S+y+(T=(o=yh.apply(this,[a,n])).reduce(function($,ce){return $+ce},0))>e||D){if(T>e){for(d=Dy.apply(this,[a,o,e-(S+y),e]),g.push(d.shift()),g=[d.pop()];d.length;)w.push([d.shift()]);T=o.slice(a.length-(g[0]?g[0].length:0)).reduce(function($,ce){return $+ce},0)}else g=[a];w.push(g),S=T+f,y=N}else g.push(a),S+=y+T,y=N}return h=f?function($,ce){return(ce?L:"")+$.join(" ")}:function($){return $.join(" ")},w.map(h)},xc.splitTextToSize=function(t,e,n){var a,o=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(g){if(g.widths&&g.kerning)return{widths:g.widths,kerning:g.kerning};var w=this.internal.getFont(g.fontName,g.fontStyle),S="Unicode";return w.metadata[S]?{widths:w.metadata[S].widths||{0:1},kerning:w.metadata[S].kerning||{}}:{font:w.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);a=Array.isArray(t)?t:String(t).split(/\r?\n/);var u=1*this.internal.scaleFactor*e/o;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/o:0,s.lineIndent=n.lineIndent;var d,f,h=[];for(d=0,f=a.length;d<f;d++)h=h.concat(zy.apply(this,[a[d],u,s]));return h},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",a={},o={},s=0;s<16;s++)a[n[s]]=e[s],o[e[s]]=n[s];var u=function(S){return"0x"+parseInt(S,10).toString(16)},d=t.__fontmetrics__.compress=function(S){var y,T,E,N,L=["{"];for(var I in S){if(y=S[I],isNaN(parseInt(I,10))?T="'"+I+"'":(I=parseInt(I,10),T=(T=u(I).slice(2)).slice(0,-1)+o[T.slice(-1)]),typeof y=="number")y<0?(E=u(y).slice(3),N="-"):(E=u(y).slice(2),N=""),E=N+E.slice(0,-1)+o[E.slice(-1)];else{if(Cn(y)!=="object")throw new Error("Don't know what to do with value type "+Cn(y)+".");E=d(y)}L.push(T+E)}return L.push("}"),L.join("")},f=t.__fontmetrics__.uncompress=function(S){if(typeof S!="string")throw new Error("Invalid argument passed to uncompress.");for(var y,T,E,N,L={},I=1,D=L,$=[],ce="",he="",le=S.length-1,W=1;W<le;W+=1)(N=S[W])=="'"?y?(E=y.join(""),y=void 0):y=[]:y?y.push(N):N=="{"?($.push([D,E]),D={},E=void 0):N=="}"?((T=$.pop())[0][T[1]]=D,E=void 0,D=T[0]):N=="-"?I=-1:E===void 0?a.hasOwnProperty(N)?(ce+=a[N],E=parseInt(ce,16)*I,I=1,ce=""):ce+=N:a.hasOwnProperty(N)?(he+=a[N],D[E]=parseInt(he,16)*I,I=1,E=void 0,he=""):he+=N;return L},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},g={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},w={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(S){var y=S.font,T=w.Unicode[y.postScriptName];T&&(y.metadata.Unicode={},y.metadata.Unicode.widths=T.widths,y.metadata.Unicode.kerning=T.kerning);var E=g.Unicode[y.postScriptName];E&&(y.metadata.Unicode.encoding=E,y.encoding=E.codePages[0])}])})(Ct.API),(function(t){var e=function(n){for(var a=n.length,o=new Uint8Array(a),s=0;s<a;s++)o[s]=n.charCodeAt(s);return o};t.API.events.push(["addFont",function(n){var a=void 0,o=n.font,s=n.instance;if(!o.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+o.postScriptName+"').");if(typeof(a=s.existsFileInVFS(o.postScriptName)===!1?s.loadFile(o.postScriptName):s.getFileFromVFS(o.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+o.postScriptName+"').");(function(u,d){d=/^\x00\x01\x00\x00/.test(d)?e(d):e(Sh(d)),u.metadata=t.API.TTFFont.open(d),u.metadata.Unicode=u.metadata.Unicode||{encoding:{},kerning:{},widths:[]},u.metadata.glyIdsUsed=[0]})(o,a)}}])})(Ct),Ct.API.addSvgAsImage=function(t,e,n,a,o,s,u,d){if(isNaN(e)||isNaN(n))throw Un.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(o))throw Un.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=a,f.height=o;var h=f.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,f.width,f.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},w=this;return(Ht.canvg?Promise.resolve(Ht.canvg):Hp(()=>import("./index.es-jb0HqvN0.js"),[])).catch(function(S){return Promise.reject(new Error("Could not load canvg: "+S))}).then(function(S){return S.default?S.default:S}).then(function(S){return S.fromString(h,t,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(S){return S.render(g)}).then(function(){w.addImage(f.toDataURL("image/jpeg",1),e,n,a,o,u,d)})},Ct.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var a=1;a<=this.internal.getNumberOfPages();a++)for(var o=0;o<this.internal.pages[a].length;o++)this.internal.pages[a][o]=this.internal.pages[a][o].replace(e,n);return this},Ct.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var a,o,s,u={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},d=Object.keys(u),f=[],h=0,g=0,w=0;function S(T,E){var N,L=!1;for(N=0;N<T.length;N+=1)T[N]===E&&(L=!0);return L}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(u)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var y=d.length;for(w=0;w<y;w+=1)n[d[w]].value=n[d[w]].defaultValue,n[d[w]].explicitSet=!1}if(Cn(t)==="object"){for(o in t)if(s=t[o],S(d,o)&&s!==void 0){if(n[o].type==="boolean"&&typeof s=="boolean")n[o].value=s;else if(n[o].type==="name"&&S(n[o].valueSet,s))n[o].value=s;else if(n[o].type==="integer"&&Number.isInteger(s))n[o].value=s;else if(n[o].type==="array"){for(h=0;h<s.length;h+=1)if(a=!0,s[h].length===1&&typeof s[h][0]=="number")f.push(String(s[h]-1));else if(s[h].length>1){for(g=0;g<s[h].length;g+=1)typeof s[h][g]!="number"&&(a=!1);a===!0&&f.push([s[h][0]-1,s[h][1]-1].join(" "))}n[o].value="["+f.join(" ")+"]"}else n[o].value=n[o].defaultValue;n[o].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var T,E=[];for(T in n)n[T].explicitSet===!0&&(n[T].type==="name"?E.push("/"+T+" /"+n[T].value):E.push("/"+T+" "+n[T].value));E.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+E.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},Ct.API.addMetadata=function(t,e){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:t,namespaceUri:e??"http://jspdf.default.namespaceuri/",rawXml:typeof e=="boolean"&&e},this.internal.events.subscribe("putCatalog",cT),this.internal.events.subscribe("postPutResources",uT)),this},(function(t){var e=t.API,n=e.pdfEscape16=function(s,u){for(var d,f=u.metadata.Unicode.widths,h=["","0","00","000","0000"],g=[""],w=0,S=s.length;w<S;++w){if(d=u.metadata.characterToGlyph(s.charCodeAt(w)),u.metadata.glyIdsUsed.push(d),u.metadata.toUnicode[d]=s.charCodeAt(w),f.indexOf(d)==-1&&(f.push(d),f.push([parseInt(u.metadata.widthOfGlyph(d),10)])),d=="0")return g.join("");d=d.toString(16),g.push(h[4-d.length],d)}return g.join("")},a=function(s){var u,d,f,h,g,w,S;for(g=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],w=0,S=(d=Object.keys(s).sort(function(y,T){return y-T})).length;w<S;w++)u=d[w],f.length>=100&&(g+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),s[u]!==void 0&&s[u]!==null&&typeof s[u].toString=="function"&&(h=("0000"+s[u].toString(16)).slice(-4),u=("0000"+(+u).toString(16)).slice(-4),f.push("<"+u+"><"+h+">"));return f.length&&(g+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),g+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(u){var d=u.font,f=u.out,h=u.newObject,g=u.putStream;if(d.metadata instanceof t.API.TTFFont&&d.encoding==="Identity-H"){for(var w=d.metadata.Unicode.widths,S=d.metadata.subset.encode(d.metadata.glyIdsUsed,1),y="",T=0;T<S.length;T++)y+=String.fromCharCode(S[T]);var E=h();g({data:y,addLength1:!0,objectId:E}),f("endobj");var N=h();g({data:a(d.metadata.toUnicode),addLength1:!0,objectId:N}),f("endobj");var L=h();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+kc(d.fontName)),f("/FontFile2 "+E+" 0 R"),f("/FontBBox "+t.API.PDFObject.convert(d.metadata.bbox)),f("/Flags "+d.metadata.flags),f("/StemV "+d.metadata.stemV),f("/ItalicAngle "+d.metadata.italicAngle),f("/Ascent "+d.metadata.ascender),f("/Descent "+d.metadata.decender),f("/CapHeight "+d.metadata.capHeight),f(">>"),f("endobj");var I=h();f("<<"),f("/Type /Font"),f("/BaseFont /"+kc(d.fontName)),f("/FontDescriptor "+L+" 0 R"),f("/W "+t.API.PDFObject.convert(w)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+d.encoding+")"),f(">>"),f(">>"),f("endobj"),d.objectNumber=h(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+N+" 0 R"),f("/BaseFont /"+kc(d.fontName)),f("/Encoding /"+d.encoding),f("/DescendantFonts ["+I+" 0 R]"),f(">>"),f("endobj"),d.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(u){var d=u.font,f=u.out,h=u.newObject,g=u.putStream;if(d.metadata instanceof t.API.TTFFont&&d.encoding==="WinAnsiEncoding"){for(var w=d.metadata.rawData,S="",y=0;y<w.length;y++)S+=String.fromCharCode(w[y]);var T=h();g({data:S,addLength1:!0,objectId:T}),f("endobj");var E=h();g({data:a(d.metadata.toUnicode),addLength1:!0,objectId:E}),f("endobj");var N=h();f("<<"),f("/Descent "+d.metadata.decender),f("/CapHeight "+d.metadata.capHeight),f("/StemV "+d.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+T+" 0 R"),f("/Flags 96"),f("/FontBBox "+t.API.PDFObject.convert(d.metadata.bbox)),f("/FontName /"+kc(d.fontName)),f("/ItalicAngle "+d.metadata.italicAngle),f("/Ascent "+d.metadata.ascender),f(">>"),f("endobj"),d.objectNumber=h();for(var L=0;L<d.metadata.hmtx.widths.length;L++)d.metadata.hmtx.widths[L]=parseInt(d.metadata.hmtx.widths[L]*(1e3/d.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+E+" 0 R/BaseFont/"+kc(d.fontName)+"/FontDescriptor "+N+" 0 R/Encoding/"+d.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(d.metadata.hmtx.widths)+">>"),f("endobj"),d.isAlreadyPutted=!0}})(s)}]);var o=function(s){var u,d=s.text||"",f=s.x,h=s.y,g=s.options||{},w=s.mutex||{},S=w.pdfEscape,y=w.activeFontKey,T=w.fonts,E=y,N="",L=0,I="",D=T[E].encoding;if(T[E].encoding!=="Identity-H")return{text:d,x:f,y:h,options:g,mutex:w};for(I=d,E=y,Array.isArray(d)&&(I=d[0]),L=0;L<I.length;L+=1)T[E].metadata.hasOwnProperty("cmap")&&(u=T[E].metadata.cmap.unicode.codeMap[I[L].charCodeAt(0)]),u||I[L].charCodeAt(0)<256&&T[E].metadata.hasOwnProperty("Unicode")?N+=I[L]:N+="";var $="";return parseInt(E.slice(1))<14||D==="WinAnsiEncoding"?$=S(N,E).split("").map(function(ce){return ce.charCodeAt(0).toString(16)}).join(""):D==="Identity-H"&&($=n(N,T[E])),w.isHex=!0,{text:$,x:f,y:h,options:g,mutex:w}};e.events.push(["postProcessText",function(s){var u=s.text||"",d=[],f={text:u,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(u)){var h=0;for(h=0;h<u.length;h+=1)Array.isArray(u[h])&&u[h].length===3?d.push([o(Object.assign({},f,{text:u[h][0]})).text,u[h][1],u[h][2]]):d.push(o(Object.assign({},f,{text:u[h]})).text);s.text=d}else s.text=o(Object.assign({},f,{text:u})).text}])})(Ct),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,a){return e.call(this),this.internal.vFS[n]=a,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}})(Ct.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(a){var o,s,u,d,f,h,g,w=e,S=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],y=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],T={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},E={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},N=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],L=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),I=!1,D=0;this.__bidiEngine__={};var $=function(M){var X=M.charCodeAt(),ae=X>>8,J=E[ae];return J!==void 0?w[256*J+(255&X)]:ae===252||ae===253?"AL":L.test(ae)?"L":ae===8?"R":"N"},ce=function(M){for(var X,ae=0;ae<M.length;ae++){if((X=$(M.charAt(ae)))==="L")return!1;if(X==="R")return!0}return!1},he=function(M,X,ae,J){var pe,F,se,ue,be=X[J];switch(be){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":I=!1;break;case"N":case"AN":break;case"EN":I&&(be="AN");break;case"AL":I=!0,be="R";break;case"WS":case"BN":be="N";break;case"CS":J<1||J+1>=X.length||(pe=ae[J-1])!=="EN"&&pe!=="AN"||(F=X[J+1])!=="EN"&&F!=="AN"?be="N":I&&(F="AN"),be=F===pe?F:"N";break;case"ES":be=(pe=J>0?ae[J-1]:"B")==="EN"&&J+1<X.length&&X[J+1]==="EN"?"EN":"N";break;case"ET":if(J>0&&ae[J-1]==="EN"){be="EN";break}if(I){be="N";break}for(se=J+1,ue=X.length;se<ue&&X[se]==="ET";)se++;be=se<ue&&X[se]==="EN"?"EN":"N";break;case"NSM":if(u&&!d){for(ue=X.length,se=J+1;se<ue&&X[se]==="NSM";)se++;if(se<ue){var Oe=M[J],Y=Oe>=1425&&Oe<=2303||Oe===64286;if(pe=X[se],Y&&(pe==="R"||pe==="AL")){be="R";break}}}be=J<1||(pe=X[J-1])==="B"?"N":ae[J-1];break;case"B":I=!1,o=!0,be=D;break;case"S":s=!0,be="N"}return be},le=function(M,X,ae){var J=M.split("");return ae&&W(J,ae,{hiLevel:D}),J.reverse(),X&&X.reverse(),J.join("")},W=function(M,X,ae){var J,pe,F,se,ue,be=-1,Oe=M.length,Y=0,C=[],U=D?y:S,Z=[];for(I=!1,o=!1,s=!1,pe=0;pe<Oe;pe++)Z[pe]=$(M[pe]);for(F=0;F<Oe;F++){if(ue=Y,C[F]=he(M,Z,C,F),J=240&(Y=U[ue][T[C[F]]]),Y&=15,X[F]=se=U[Y][5],J>0)if(J===16){for(pe=be;pe<F;pe++)X[pe]=1;be=-1}else be=-1;if(U[Y][6])be===-1&&(be=F);else if(be>-1){for(pe=be;pe<F;pe++)X[pe]=se;be=-1}Z[F]==="B"&&(X[F]=0),ae.hiLevel|=se}s&&(function(V,ee,de){for(var _e=0;_e<de;_e++)if(V[_e]==="S"){ee[_e]=D;for(var xe=_e-1;xe>=0&&V[xe]==="WS";xe--)ee[xe]=D}})(Z,X,Oe)},P=function(M,X,ae,J,pe){if(!(pe.hiLevel<M)){if(M===1&&D===1&&!o)return X.reverse(),void(ae&&ae.reverse());for(var F,se,ue,be,Oe=X.length,Y=0;Y<Oe;){if(J[Y]>=M){for(ue=Y+1;ue<Oe&&J[ue]>=M;)ue++;for(be=Y,se=ue-1;be<se;be++,se--)F=X[be],X[be]=X[se],X[se]=F,ae&&(F=ae[be],ae[be]=ae[se],ae[se]=F);Y=ue}Y++}}},oe=function(M,X,ae){var J=M.split(""),pe={hiLevel:D};return ae||(ae=[]),W(J,ae,pe),(function(F,se,ue){if(ue.hiLevel!==0&&g)for(var be,Oe=0;Oe<F.length;Oe++)se[Oe]===1&&(be=N.indexOf(F[Oe]))>=0&&(F[Oe]=N[be+1])})(J,ae,pe),P(2,J,X,ae,pe),P(1,J,X,ae,pe),J.join("")};return this.__bidiEngine__.doBidiReorder=function(M,X,ae){if((function(pe,F){if(F)for(var se=0;se<pe.length;se++)F[se]=se;d===void 0&&(d=ce(pe)),h===void 0&&(h=ce(pe))})(M,X),u||!f||h)if(u&&f&&d^h)D=d?1:0,M=le(M,X,ae);else if(!u&&f&&h)D=d?1:0,M=oe(M,X,ae),M=le(M,X);else if(!u||d||f||h){if(u&&!f&&d^h)M=le(M,X),d?(D=0,M=oe(M,X,ae)):(D=1,M=oe(M,X,ae),M=le(M,X));else if(u&&d&&!f&&h)D=1,M=oe(M,X,ae),M=le(M,X);else if(!u&&!f&&d^h){var J=g;d?(D=1,M=oe(M,X,ae),D=0,g=!1,M=oe(M,X,ae),g=J):(D=0,M=oe(M,X,ae),M=le(M,X),D=1,g=!1,M=oe(M,X,ae),g=J,M=le(M,X))}}else D=0,M=oe(M,X,ae);else D=d?1:0,M=oe(M,X,ae);return M},this.__bidiEngine__.setOptions=function(M){M&&(u=M.isInputVisual,f=M.isOutputVisual,d=M.isInputRtl,h=M.isOutputRtl,g=M.isSymmetricSwapping)},this.__bidiEngine__.setOptions(a),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(a){var o=a.text;a.x,a.y;var s=a.options||{};a.mutex,s.lang;var u=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(o)==="[object Array]"){var d=0;for(u=[],d=0;d<o.length;d+=1)Object.prototype.toString.call(o[d])==="[object Array]"?u.push([n.doBidiReorder(o[d][0]),o[d][1],o[d][2]]):u.push([n.doBidiReorder(o[d])]);a.text=u}else a.text=n.doBidiReorder(o);n.setOptions({isInputVisual:!0})}])})(Ct),Ct.API.TTFFont=(function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Cl(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new ET(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new dT(this.contents),this.head=new hT(this),this.name=new vT(this),this.cmap=new lw(this),this.toUnicode={},this.hhea=new pT(this),this.maxp=new bT(this),this.hmtx=new wT(this),this.post=new mT(this),this.os2=new gT(this),this.loca=new AT(this),this.glyf=new xT(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,a,o,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var u,d,f,h;for(h=[],u=0,d=(f=this.bbox).length;u<d;u++)e=f[u],h.push(Math.round(e*this.scaleFactor));return h}).call(this),this.stemV=0,this.post.exists?(a=255&(o=this.post.italic_angle),32768&(n=o>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+a)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,a){var o,s,u,d;for(u=0,s=0,d=(e=""+e).length;0<=d?s<d:s>d;s=0<=d?++s:--s)o=e.charCodeAt(s),u+=this.widthOfGlyph(this.characterToGlyph(o))+a*(1e3/n)||0;return u*(n/1e3)},t.prototype.lineHeight=function(e,n){var a;return n==null&&(n=!1),a=n?this.lineGap:0,(this.ascender+a-this.decender)/1e3*e},t})();var Cs,Cl=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,a;for(a=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)a[n]=String.fromCharCode(this.readByte());return a.join("")},t.prototype.writeString=function(e){var n,a,o;for(o=[],n=0,a=e.length;0<=a?n<a:n>a;n=0<=a?++n:--n)o.push(this.writeByte(e.charCodeAt(n)));return o},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,a,o,s,u,d,f;return e=this.readByte(),n=this.readByte(),a=this.readByte(),o=this.readByte(),s=this.readByte(),u=this.readByte(),d=this.readByte(),f=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^a)+4294967296*(255^o)+16777216*(255^s)+65536*(255^u)+256*(255^d)+(255^f)+1):72057594037927940*e+281474976710656*n+1099511627776*a+4294967296*o+16777216*s+65536*u+256*d+f},t.prototype.writeLongLong=function(e){var n,a;return n=Math.floor(e/4294967296),a=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(a>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,a;for(n=[],a=0;0<=e?a<e:a>e;a=0<=e?++a:--a)n.push(this.readByte());return n},t.prototype.write=function(e){var n,a,o,s;for(s=[],a=0,o=e.length;a<o;a++)n=e[a],s.push(this.writeByte(n));return s},t})(),dT=(function(){var t;function e(n){var a,o,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},o=0,s=this.tableCount;0<=s?o<s:o>s;o=0<=s?++o:--o)a={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[a.tag]=a}return e.prototype.encode=function(n){var a,o,s,u,d,f,h,g,w,S,y,T,E;for(E in y=Object.keys(n).length,f=Math.log(2),w=16*Math.floor(Math.log(y)/f),u=Math.floor(w/f),g=16*y-w,(o=new Cl).writeInt(this.scalarType),o.writeShort(y),o.writeShort(w),o.writeShort(u),o.writeShort(g),s=16*y,h=o.pos+s,d=null,T=[],n)for(S=n[E],o.writeString(E),o.writeInt(t(S)),o.writeInt(h),o.writeInt(S.length),T=T.concat(S),E==="head"&&(d=h),h+=S.length;h%4;)T.push(0),h++;return o.write(T),a=2981146554-t(o.data),o.pos=d+8,o.writeUInt32(a),o.data},t=function(n){var a,o,s,u;for(n=uw.call(n);n.length%4;)n.push(0);for(s=new Cl(n),o=0,a=0,u=n.length;a<u;a=a+=4)o+=s.readUInt32();return 4294967295&o},e})(),fT={}.hasOwnProperty,eo=function(t,e){for(var n in e)fT.call(e,n)&&(t[n]=e[n]);function a(){this.constructor=t}return a.prototype=e.prototype,t.prototype=new a,t.__super__=e.prototype,t};Cs=(function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var hT=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return eo(t,Cs),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new Cl).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t})(),$y=(function(){function t(e,n){var a,o,s,u,d,f,h,g,w,S,y,T,E,N,L,I,D;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),w=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=e.readByte();break;case 4:for(y=e.readUInt16(),S=y/2,e.pos+=6,s=(function(){var $,ce;for(ce=[],f=$=0;0<=S?$<S:$>S;f=0<=S?++$:--$)ce.push(e.readUInt16());return ce})(),e.pos+=2,E=(function(){var $,ce;for(ce=[],f=$=0;0<=S?$<S:$>S;f=0<=S?++$:--$)ce.push(e.readUInt16());return ce})(),h=(function(){var $,ce;for(ce=[],f=$=0;0<=S?$<S:$>S;f=0<=S?++$:--$)ce.push(e.readUInt16());return ce})(),g=(function(){var $,ce;for(ce=[],f=$=0;0<=S?$<S:$>S;f=0<=S?++$:--$)ce.push(e.readUInt16());return ce})(),o=(this.length-e.pos+this.offset)/2,d=(function(){var $,ce;for(ce=[],f=$=0;0<=o?$<o:$>o;f=0<=o?++$:--$)ce.push(e.readUInt16());return ce})(),f=L=0,D=s.length;L<D;f=++L)for(N=s[f],a=I=T=E[f];T<=N?I<=N:I>=N;a=T<=N?++I:--I)g[f]===0?u=a+h[f]:(u=d[g[f]/2+(a-T)-(S-f)]||0)!==0&&(u+=h[f]),this.codeMap[a]=65535&u}e.pos=w}return t.encode=function(e,n){var a,o,s,u,d,f,h,g,w,S,y,T,E,N,L,I,D,$,ce,he,le,W,P,oe,M,X,ae,J,pe,F,se,ue,be,Oe,Y,C,U,Z,V,ee,de,_e,xe,Ne,We,Xe;switch(J=new Cl,u=Object.keys(e).sort(function(Ee,ke){return Ee-ke}),n){case"macroman":for(E=0,N=(function(){var Ee=[];for(T=0;T<256;++T)Ee.push(0);return Ee})(),I={0:0},s={},pe=0,be=u.length;pe<be;pe++)I[xe=e[o=u[pe]]]==null&&(I[xe]=++E),s[o]={old:e[o],new:I[e[o]]},N[o]=I[e[o]];return J.writeUInt16(1),J.writeUInt16(0),J.writeUInt32(12),J.writeUInt16(0),J.writeUInt16(262),J.writeUInt16(0),J.write(N),{charMap:s,subtable:J.data,maxGlyphID:E+1};case"unicode":for(X=[],w=[],D=0,I={},a={},L=h=null,F=0,Oe=u.length;F<Oe;F++)I[ce=e[o=u[F]]]==null&&(I[ce]=++D),a[o]={old:ce,new:I[ce]},d=I[ce]-o,L!=null&&d===h||(L&&w.push(L),X.push(o),h=d),L=o;for(L&&w.push(L),w.push(65535),X.push(65535),oe=2*(P=X.length),W=2*Math.pow(Math.log(P)/Math.LN2,2),S=Math.log(W/2)/Math.LN2,le=2*P-W,f=[],he=[],y=[],T=se=0,Y=X.length;se<Y;T=++se){if(M=X[T],g=w[T],M===65535){f.push(0),he.push(0);break}if(M-(ae=a[M].new)>=32768)for(f.push(0),he.push(2*(y.length+P-T)),o=ue=M;M<=g?ue<=g:ue>=g;o=M<=g?++ue:--ue)y.push(a[o].new);else f.push(ae-M),he.push(0)}for(J.writeUInt16(3),J.writeUInt16(1),J.writeUInt32(12),J.writeUInt16(4),J.writeUInt16(16+8*P+2*y.length),J.writeUInt16(0),J.writeUInt16(oe),J.writeUInt16(W),J.writeUInt16(S),J.writeUInt16(le),de=0,C=w.length;de<C;de++)o=w[de],J.writeUInt16(o);for(J.writeUInt16(0),_e=0,U=X.length;_e<U;_e++)o=X[_e],J.writeUInt16(o);for(Ne=0,Z=f.length;Ne<Z;Ne++)d=f[Ne],J.writeUInt16(d);for(We=0,V=he.length;We<V;We++)$=he[We],J.writeUInt16($);for(Xe=0,ee=y.length;Xe<ee;Xe++)E=y[Xe],J.writeUInt16(E);return{charMap:a,subtable:J.data,maxGlyphID:D+1}}},t})(),lw=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return eo(t,Cs),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,a,o;for(e.pos=this.offset,this.version=e.readUInt16(),o=e.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=o?a<o:a>o;a=0<=o?++a:--a)n=new $y(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var a,o;return n==null&&(n="macroman"),a=$y.encode(e,n),(o=new Cl).writeUInt16(0),o.writeUInt16(1),a.table=o.data.concat(a.subtable),a},t})(),pT=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return eo(t,Cs),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),gT=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return eo(t,Cs),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var n,a;for(a=[],n=0;n<10;++n)a.push(e.readByte());return a})(),this.charRange=(function(){var n,a;for(a=[],n=0;n<4;++n)a.push(e.readInt());return a})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(e.readInt());return a})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),mT=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return eo(t,Cs),t.prototype.tag="post",t.prototype.parse=function(e){var n,a,o;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(a=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],o=[];e.pos<this.offset+this.length;)n=e.readByte(),o.push(this.names.push(e.readString(n)));return o;case 151552:return a=e.readUInt16(),this.offsets=e.read(a);case 262144:return this.map=(function(){var u,d,f;for(f=[],s=u=0,d=this.file.maxp.numGlyphs;0<=d?u<d:u>d;s=0<=d?++u:--u)f.push(e.readUInt32());return f}).call(this)}},t})(),yT=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},vT=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return eo(t,Cs),t.prototype.tag="name",t.prototype.parse=function(e){var n,a,o,s,u,d,f,h,g,w,S;for(e.pos=this.offset,e.readShort(),n=e.readShort(),d=e.readShort(),a=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)a.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+d+e.readShort()});for(f={},s=g=0,w=a.length;g<w;s=++g)o=a[s],e.pos=o.offset,h=e.readString(o.length),u=new yT(h,o),f[S=o.nameID]==null&&(f[S]=[]),f[o.nameID].push(u);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},t})(),bT=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return eo(t,Cs),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),wT=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return eo(t,Cs),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,a,o,s,u,d,f;for(e.pos=this.offset,this.metrics=[],n=0,d=this.file.hhea.numberOfMetrics;0<=d?n<d:n>d;n=0<=d?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(o=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var h,g;for(g=[],n=h=0;0<=o?h<o:h>o;n=0<=o?++h:--h)g.push(e.readInt16());return g})(),this.widths=(function(){var h,g,w,S;for(S=[],h=0,g=(w=this.metrics).length;h<g;h++)s=w[h],S.push(s.advance);return S}).call(this),a=this.widths[this.widths.length-1],f=[],n=u=0;0<=o?u<o:u>o;n=0<=o?++u:--u)f.push(this.widths.push(a));return f},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),uw=[].slice,xT=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return eo(t,Cs),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,a,o,s,u,d,f,h,g,w;return e in this.cache?this.cache[e]:(s=this.file.loca,n=this.file.contents,a=s.indexOf(e),(o=s.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+a,u=(d=new Cl(n.read(o))).readShort(),h=d.readShort(),w=d.readShort(),f=d.readShort(),g=d.readShort(),this.cache[e]=u===-1?new ST(d,h,w,f,g):new _T(d,u,h,w,f,g),this.cache[e]))},t.prototype.encode=function(e,n,a){var o,s,u,d,f;for(u=[],s=[],d=0,f=n.length;d<f;d++)o=e[n[d]],s.push(u.length),o&&(u=u.concat(o.encode(a)));return s.push(u.length),{table:u,offsets:s}},t})(),_T=(function(){function t(e,n,a,o,s,u){this.raw=e,this.numberOfContours=n,this.xMin=a,this.yMin=o,this.xMax=s,this.yMax=u,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),ST=(function(){function t(e,n,a,o,s){var u,d;for(this.raw=e,this.xMin=n,this.yMin=a,this.xMax=o,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],u=this.raw;d=u.readShort(),this.glyphOffsets.push(u.pos),this.glyphIDs.push(u.readUInt16()),32&d;)u.pos+=1&d?4:2,128&d?u.pos+=8:64&d?u.pos+=4:8&d&&(u.pos+=2)}return t.prototype.encode=function(){var e,n,a;for(n=new Cl(uw.call(this.raw.data)),e=0,a=this.glyphIDs.length;e<a;++e)n.pos=this.glyphOffsets[e];return n.data},t})(),AT=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return eo(t,Cs),t.prototype.tag="loca",t.prototype.parse=function(e){var n,a;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var o,s;for(s=[],a=0,o=this.length;a<o;a+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var o,s;for(s=[],a=0,o=this.length;a<o;a+=4)s.push(e.readUInt32());return s}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var a=new Uint32Array(this.offsets.length),o=0,s=0,u=0;u<a.length;++u)if(a[u]=o,s<n.length&&n[s]==u){++s,a[u]=o;var d=this.offsets[u],f=this.offsets[u+1]-d;f>0&&(o+=f)}for(var h=new Array(4*a.length),g=0;g<a.length;++g)h[4*g+3]=255&a[g],h[4*g+2]=(65280&a[g])>>8,h[4*g+1]=(16711680&a[g])>>16,h[4*g]=(4278190080&a[g])>>24;return h},t})(),ET=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,a,o,s;for(n in o=this.font.cmap.tables[0].codeMap,e={},s=this.subset)a=s[n],e[n]=o[a];return e},t.prototype.glyphsFor=function(e){var n,a,o,s,u,d,f;for(o={},u=0,d=e.length;u<d;u++)o[s=e[u]]=this.font.glyf.glyphFor(s);for(s in n=[],o)(a=o[s])!=null&&a.compound&&n.push.apply(n,a.glyphIDs);if(n.length>0)for(s in f=this.glyphsFor(n))a=f[s],o[s]=a;return o},t.prototype.encode=function(e,n){var a,o,s,u,d,f,h,g,w,S,y,T,E,N,L;for(o in a=lw.encode(this.generateCmap(),"unicode"),u=this.glyphsFor(e),y={0:0},L=a.charMap)y[(f=L[o]).old]=f.new;for(T in S=a.maxGlyphID,u)T in y||(y[T]=S++);return g=(function(I){var D,$;for(D in $={},I)$[I[D]]=D;return $})(y),w=Object.keys(g).sort(function(I,D){return I-D}),E=(function(){var I,D,$;for($=[],I=0,D=w.length;I<D;I++)d=w[I],$.push(g[d]);return $})(),s=this.font.glyf.encode(u,E,y),h=this.font.loca.encode(s.offsets,E),N={cmap:this.font.cmap.raw(),glyf:s.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(N["OS/2"]=this.font.os2.raw()),this.font.directory.encode(N)},t})();Ct.API.PDFObject=(function(){var t;function e(){}return t=function(n,a){return(Array(a+1).join("0")+n).slice(-a)},e.convert=function(n){var a,o,s,u;if(Array.isArray(n))return"["+(function(){var d,f,h;for(h=[],d=0,f=n.length;d<f;d++)a=n[d],h.push(e.convert(a));return h})().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n?.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(o in s=["<<"],n)u=n[o],s.push("/"+o+" "+e.convert(u));return s.push(">>"),s.join(`
`)}return""+n},e})();function TT(){const{business:t}=qo(),{notifyNewPayment:e,notifyPaymentReceived:n,notifyPaymentCancelled:a,notifyReportDownloaded:o,notifyError:s}=Qh(),[u,d]=j.useState("pending"),[f,h]=j.useState(!1),[g,w]=j.useState([]),[S,y]=j.useState(!1),[T,E]=j.useState(!0),[N,L]=j.useState(null),[I,D]=j.useState(""),$=j.useRef(new Set),ce=j.useRef(new Set),{orders:he,loading:le,error:W}=OA(t?.id,{status:"completed",orderBy:"completed_at",ascending:!1}),P=(Ee=new Date)=>new Date(Ee.toLocaleString("en-US",{timeZone:"Europe/Istanbul"})),oe=()=>{const Ee=new Date(new Date().toLocaleString("en-US",{timeZone:"Europe/Istanbul"})),ke=Ee.getFullYear(),O=String(Ee.getMonth()+1).padStart(2,"0"),De=String(Ee.getDate()).padStart(2,"0");return`${ke}-${O}-${De}`},M=Ee=>Ee?new Date(Ee).toLocaleString("tr-TR",{timeZone:"Europe/Istanbul",day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"}):"",X=async()=>{if(t?.id)try{const Ee=new Date(new Date().toLocaleString("en-US",{timeZone:"Europe/Istanbul"})),ke=Ee.getFullYear(),O=Ee.getMonth(),De=Ee.getDate(),Ue=oe(),$e=new Date(ke,O,De,0,0,0,0),te=new Date(ke,O,De,23,59,59,999),{data:ve,error:Ie}=await ct.from("payments").select(`
          order_id,
          payment_date,
          orders!inner (
            *,
            order_items (
              id,
              product_name,
              product_price,
              quantity,
              subtotal
            )
          )
        `).eq("business_id",t.id).gte("payment_date",$e.toISOString()).lt("payment_date",te.toISOString());if(Ie)throw Ie;const st=(ve?.map(lt=>lt.orders).filter(lt=>lt&&lt.status==="completed")||[]||[]).sort((lt,ut)=>{const it=lt.completed_at?new Date(lt.completed_at).getTime():0,at=ut.completed_at?new Date(ut.completed_at).getTime():0;return it-at}),ft=st.reduce((lt,ut)=>{const it=parseFloat(ut.total_amount||0);return isNaN(it)?(console.warn("Invalid total_amount for order:",ut.id,ut.total_amount),lt):lt+it},0),tt=st.length;console.log("UpdateTodayReport - Total Orders:",tt,"Total Amount:",ft),console.log("UpdateTodayReport - Paid Orders:",st.map(lt=>({id:lt.id.slice(0,8),total_amount:lt.total_amount})));const ht=new Date(ke,O,De);let Qe=`GN SONU RAPORU
${t?.name||"letme"}
Tarih: ${ht.toLocaleDateString("tr-TR")}

---------------------------------------

TOPLAM SPAR: ${tt} adet
TOPLAM TUTAR: ${ft.toFixed(2)} TL

---------------------------------------

SPAR DETAYLARI:

`;st.length>0?st.forEach((lt,ut)=>{Qe+=`${ut+1}. Sipari #${lt.id.slice(0,8)}
   Masa: ${lt.table_number||"N/A"}
   Tarih: ${M(lt.completed_at)}
   Tutar: ${parseFloat(lt.total_amount).toFixed(2)} TL
   
   rnler:
`,lt.order_items?.forEach(it=>{Qe+=`   - ${it.product_name}  ${it.quantity} = ${parseFloat(it.subtotal).toFixed(2)} TL
`}),ut<st.length-1?Qe+=`
---------------------------------------

`:Qe+=`
`}):Qe+=`Henz denmi sipari yok.
`;const{data:Ze}=await ct.from("daily_reports").select("*").eq("business_id",t.id).eq("report_date",Ue).single();let vt=null,rt=null;if(Ze){vt=Ze.id,rt=Ze.created_at;const{error:lt}=await ct.from("daily_reports").update({report_data:{orders:st,summary:{total_orders:tt,total_amount:ft}},total_orders:tt,total_amount:ft,report_text:Qe}).eq("id",Ze.id);if(lt)throw console.error("Error updating daily report:",lt),lt;console.log("Daily report updated successfully - Total Amount:",ft)}else{const{data:lt,error:ut}=await ct.from("daily_reports").insert({business_id:t.id,report_date:Ue,report_data:{orders:st,summary:{total_orders:tt,total_amount:ft}},total_orders:tt,total_amount:ft,report_text:Qe}).select().single();if(ut)throw console.error("Error inserting daily report:",ut),ut;vt=lt.id,rt=lt.created_at,console.log("Daily report created successfully - Total Amount:",ft)}}catch(Ee){console.error("Update today report error:",Ee)}};j.useEffect(()=>{if(!t?.id)return;const Ee=ct.channel(`payments:${t.id}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"orders",filter:`business_id=eq.${t.id}`},async ke=>{console.log(" Order updated in Supabase:",ke.new.id,"payment_status:",ke.new.payment_status);const{data:O,error:De}=await ct.from("orders").select(`
              *,
              order_items (
                id,
                product_name,
                product_price,
                quantity,
                notes,
                subtotal
              )
            `).eq("id",ke.new.id).single();if(De||!O){console.error("Error fetching order with items:",De);return}if(ke.new.payment_status==="paid")J(Ue=>Ue.find(te=>te.id===O.id)?Ue.map(te=>te.id===O.id?O:te):[O,...Ue]),F(Ue=>Ue.filter($e=>$e.id!==O.id));else if(ke.new.payment_status==="pending"){let Ue=!1;if(F($e=>{const te=$e.find(ve=>ve.id===O.id);return!te&&O.status==="completed"?(Ue=!0,[O,...$e]):te?$e.map(ve=>ve.id===O.id?O:ve):$e}),Ue&&O.status==="completed"&&!$.current.has(O.id)){$.current.add(O.id),console.log(" Yeni deme bildirimi gsteriliyor (payment_status pending):",O.id,O.table_number);const $e={order_id:O.id,table_number:O.table_number,amount:O.total_amount};setTimeout(()=>{e($e)},300)}J($e=>$e.filter(te=>te.id!==O.id))}if(ke.new.status==="completed"&&ke.old?.status!=="completed"&&O.status==="completed"&&O.payment_status==="pending"){let Ue=!1;if(F($e=>$e.find(ve=>ve.id===O.id)?$e:(Ue=!0,[O,...$e])),Ue&&!$.current.has(O.id)){$.current.add(O.id),console.log(" Yeni deme bildirimi gsteriliyor (status completed):",O.id,O.table_number,O.payment_status);const $e={order_id:O.id,table_number:O.table_number,amount:O.total_amount};setTimeout(()=>{e($e)},500)}}if(ke.new.status==="completed"&&ke.new.payment_status==="pending"&&(ke.old?.status!=="completed"||ke.old?.payment_status!=="pending")&&O.status==="completed"&&O.payment_status==="pending"&&!$.current.has(O.id)){$.current.add(O.id),console.log(" Yeni deme bildirimi gsteriliyor (status+payment_status):",O.id,O.table_number);const Ue={order_id:O.id,table_number:O.table_number,amount:O.total_amount};setTimeout(()=>{e(Ue)},500)}ke.new.payment_status==="paid"&&ke.old?.payment_status!=="paid"&&(X(),O&&!ce.current.has(O.id)&&(ce.current.add(O.id),console.log(" deme yapld bildirimi gsteriliyor (realtime):",O.id,O.table_number),n(O)))}).on("postgres_changes",{event:"DELETE",schema:"public",table:"orders",filter:`business_id=eq.${t.id}`},ke=>{console.log(" Order deleted from Supabase (Realtime):",ke.old.id),console.log(" Deleted order details:",ke.old),J(O=>{const De=O.filter(Ue=>Ue.id!==ke.old.id);return console.log(` Paid orders: ${O.length}  ${De.length}`),De}),F(O=>{const De=O.filter(Ue=>Ue.id!==ke.old.id);return console.log(` Pending orders: ${O.length}  ${De.length}`),De}),X()}).on("postgres_changes",{event:"INSERT",schema:"public",table:"payments",filter:`business_id=eq.${t.id}`},async ke=>{console.log(" New payment added:",ke.new.order_id);const{data:O,error:De}=await ct.from("orders").select(`
              *,
              order_items (
                id,
                product_name,
                product_price,
                quantity,
                notes,
                subtotal
              )
            `).eq("id",ke.new.order_id).single();if(O&&!De)if(O.status==="completed"&&O.payment_status==="pending"){let Ue=!1;if(F($e=>$e.find(ve=>ve.id===O.id)?$e:(Ue=!0,[O,...$e])),Ue&&!$.current.has(O.id)){$.current.add(O.id);const $e={order_id:O.id,table_number:O.table_number,amount:O.total_amount};e($e)}J($e=>$e.filter(te=>te.id!==O.id)),X()}else O.status==="completed"&&O.payment_status==="paid"&&(J(Ue=>Ue.find(te=>te.id===O.id)?Ue:[O,...Ue]),F(Ue=>Ue.filter($e=>$e.id!==O.id)),X())}).on("postgres_changes",{event:"DELETE",schema:"public",table:"payments",filter:`business_id=eq.${t.id}`},ke=>{console.log(" Payment deleted:",ke.old.order_id),J(O=>O.filter(De=>De.id!==ke.old.order_id)),X()}).on("postgres_changes",{event:"*",schema:"public",table:"daily_reports",filter:`business_id=eq.${t.id}`},async ke=>{console.log(" Daily report changed (Realtime):",ke.eventType,ke.new?.report_date||ke.old?.report_date);try{const O=P(),De=new Date(O);De.setDate(De.getDate()-30);const Ue=`${De.getFullYear()}-${String(De.getMonth()+1).padStart(2,"0")}-${String(De.getDate()).padStart(2,"0")}`,{data:$e,error:te}=await ct.from("daily_reports").select("*").eq("business_id",t.id).gte("report_date",Ue).order("report_date",{ascending:!1});if(te)throw te;const ve=($e||[]).filter(Ie=>Ie.report_date&&Ie.id);w(ve),console.log(" Daily reports state updated (Realtime):",ve.length,"reports")}catch(O){console.error("Load reports error (Realtime):",O)}}).subscribe();return()=>{ct.removeChannel(Ee)}},[t?.id]),j.useEffect(()=>{if(!t?.id){y(!1),E(!1);return}if(!T)return;(async()=>{try{y(!0),await X();const ke=P(),O=new Date(ke);O.setDate(O.getDate()-30);const De=`${O.getFullYear()}-${String(O.getMonth()+1).padStart(2,"0")}-${String(O.getDate()).padStart(2,"0")}`,{data:Ue,error:$e}=await ct.from("daily_reports").select("*").eq("business_id",t.id).gte("report_date",De).order("report_date",{ascending:!1});if($e)throw $e;const te=(Ue||[]).filter(ve=>ve.report_date&&ve.id);w(te)}catch(ke){console.error("Load reports error:",ke),w([])}finally{y(!1),E(!1)}})()},[t?.id,T]);const[ae,J]=j.useState([]),[pe,F]=j.useState([]),[se,ue]=j.useState(!0),[be,Oe]=j.useState(!0);j.useEffect(()=>{if(!t?.id){ue(!1);return}const Ee=async()=>{try{console.log(" Fetching PAID orders from payments table...");const{data:O,error:De}=await ct.from("payments").select(`
            order_id,
            orders!inner (
              *,
              order_items (
                id,
                product_name,
                product_price,
                quantity,
                notes,
                subtotal
              )
            )
          `).eq("business_id",t.id).order("payment_date",{ascending:!1});if(De)throw De;const Ue=O?.map($e=>$e.orders).filter($e=>$e&&$e.status==="completed")||[];console.log(" PAID Orders fetched from payments table:",Ue.length,"orders"),console.log(" PAID Order IDs:",Ue.map($e=>$e.id.slice(0,8))||[]),console.log(" Payments count:",O?.length||0),J(Ue)}catch(O){console.error(" Fetch PAID orders error:",O),J([])}},ke=async()=>{try{console.log(" Fetching PENDING orders from Supabase...");const{data:O,error:De}=await ct.from("orders").select(`
            *,
            order_items (
              id,
              product_name,
              product_price,
              quantity,
              notes,
              subtotal
            )
          `).eq("business_id",t.id).eq("status","completed").eq("payment_status","pending").order("completed_at",{ascending:!1});if(De)throw De;console.log(" PENDING Orders fetched from Supabase:",O?.length||0,"orders"),console.log(" PENDING Order IDs:",O?.map(Ue=>Ue.id.slice(0,8))||[]),F(O||[])}catch(O){console.error(" Fetch PENDING orders error:",O),F([])}};Promise.all([Ee(),ke()]).finally(()=>{ue(!1),Oe(!1)})},[t?.id]);const Y=u==="paid"?ae:u==="pending"?pe:he;j.useEffect(()=>{(u==="paid"||u==="pending")&&console.log(" Debug ordersToUse:",{selectedTab:u,isInitialLoad:be,loadingOrders:se,paidOrdersFromSupabaseCount:ae.length,pendingOrdersFromSupabaseCount:pe.length,allOrdersCount:he.length,ordersToUseCount:Y.length,ordersToUseIDs:Y.map(Ee=>Ee.id.slice(0,8))})},[u,be,se,ae,pe,he,Y]);const C=pe,U=ae,Z=u==="pending"?C:u==="paid"?U:[];j.useEffect(()=>{const Ee=()=>{h(window.innerWidth<768)};return Ee(),window.addEventListener("resize",Ee),()=>window.removeEventListener("resize",Ee)},[]),j.useEffect(()=>{const Ee=()=>{const De=new Date().toLocaleString("tr-TR",{timeZone:"Europe/Istanbul",day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"});D(De)};Ee();const ke=setInterval(Ee,1e3);return()=>clearInterval(ke)},[]),j.useEffect(()=>{const Ee=ke=>{N&&!ke.target.closest("[data-report-menu]")&&L(null)};return document.addEventListener("click",Ee),()=>document.removeEventListener("click",Ee)},[N]);const V=async(Ee,ke)=>{try{const{data:O,error:De}=await ct.from("payments").insert({order_id:Ee,business_id:t.id,amount:ke,payment_method:"cash",payment_date:new Date().toISOString()}).select().single();if(De)throw De;const{error:Ue}=await ct.from("orders").update({payment_status:"paid",updated_at:new Date().toISOString()}).eq("id",Ee);if(Ue)throw Ue;let $e=0,te=!1;for(;$e<5&&!te;){await new Promise(Ye=>setTimeout(Ye,200));const{data:Ie}=await ct.from("orders").select("payment_status").eq("id",Ee).single();Ie&&Ie.payment_status==="paid"?te=!0:$e++}await X();const{data:ve}=await ct.from("orders").select("*").eq("id",Ee).single();ve&&(ce.current.has(ve.id)||(ce.current.add(ve.id),console.log(" deme yapld bildirimi gsteriliyor:",ve.id,ve.table_number),n(ve)))}catch(O){console.error("Payment error:",O),s("deme kaydedilirken hata olutu",O.message)}},ee=Ee=>Ee?new Date(Ee).toLocaleDateString("tr-TR",{timeZone:"Europe/Istanbul",day:"numeric",month:"long",year:"numeric"}):"",de=Ee=>{if(!Ee)return"";const ke=new Date(Ee),O=ke.toLocaleDateString("tr-TR",{timeZone:"Europe/Istanbul",day:"2-digit"}),De=ke.toLocaleDateString("tr-TR",{timeZone:"Europe/Istanbul",month:"2-digit"}),Ue=ke.toLocaleDateString("tr-TR",{timeZone:"Europe/Istanbul",year:"numeric"});return`${O}.${De}.${Ue}`},_e=Ee=>Ee?Ee.replace(//g,"s").replace(//g,"S").replace(//g,"g").replace(//g,"G").replace(//g,"u").replace(//g,"U").replace(//g,"o").replace(//g,"O").replace(//g,"c").replace(//g,"C").replace(//g,"i").replace(//g,"I").replace(//g,"TL"):"",xe=async(Ee,ke,O,De)=>{const Ue=new Ct,$e=Ue.internal.pageSize.width,te=$e/2;let ve=20;if(t?.logo_url)try{const lt=new Image;lt.crossOrigin="anonymous",await new Promise(ut=>{const it=setTimeout(()=>{console.warn("Logo ykleme zaman am"),ut()},5e3);lt.onload=()=>{clearTimeout(it);try{const It=lt.width/lt.height,dt=Math.min(40,lt.height),Jt=dt*It,yt=te-Jt/2;let Ot="PNG";t.logo_url.toLowerCase().includes(".jpg")||t.logo_url.toLowerCase().includes(".jpeg")?Ot="JPEG":t.logo_url.toLowerCase().includes(".png")&&(Ot="PNG"),Ue.addImage(lt,Ot,yt,ve,Jt,dt),ve+=dt+10,ut()}catch(at){console.warn("Logo PDF'e eklenemedi:",at),clearTimeout(it),ut()}},lt.onerror=()=>{clearTimeout(it),console.warn("Logo yklenemedi"),ut()},lt.src=t.logo_url})}catch(lt){console.warn("Logo ileme hatas:",lt)}Ue.setFontSize(18),Ue.setFont("helvetica","bold");const Ie=_e("GN SONU RAPORU");Ue.text(Ie,te,ve,{align:"center"}),ve+=10,Ue.setFontSize(14),Ue.setFont("helvetica","normal");const Ye=_e(t?.name||"letme");Ue.text(Ye,te,ve,{align:"center"}),ve+=8,Ue.setFontSize(12);const et=`Tarih: ${ke}`;Ue.text(et,te,ve,{align:"center"}),ve+=10,Ue.setLineWidth(.5),Ue.line(20,ve,$e-20,ve),ve+=10,Ue.setFontSize(12),Ue.setFont("helvetica","bold");const st=_e(`TOPLAM SPAR: ${O} adet`);Ue.text(st,20,ve),ve+=8;const ft=_e(`TOPLAM TUTAR: ${parseFloat(De||0).toFixed(2)} TL`);Ue.text(ft,20,ve),ve+=10,Ue.line(20,ve,$e-20,ve),ve+=10,Ue.setFontSize(10),Ue.setFont("helvetica","normal");const ht=Ee.replace(/%P+/g,"").replace(/%[A-Z0-9]+/g,"").replace(/+/g,"-").replace(/S0PAR0\^/g,"SPAR").replace(/SOPAR0\^/g,"SPAR").replace(/SOPAR/g,"SPAR").replace(/SPAR/g,"SPAR").replace(//g,"").replace(//g,"").replace(/\u00B0/g,"").replace(/\u00BA/g,"").replace(/\u00A0/g," ").split(`
`),Qe=Ue.internal.pageSize.height,vt=$e-20*2;ht.forEach(lt=>{if(ve>Qe-20&&(Ue.addPage(),ve=20),lt.trim()===""){ve+=4;return}let ut=lt.replace(/%P+/g,"").replace(/%[A-Z0-9]+/g,"").replace(/+/g,"-").replace(/S0PAR0\^/g,"SPAR").replace(/SOPAR0\^/g,"SPAR").replace(//g,"").replace(//g,"").replace(/\u00B0/g,"").replace(/\u00BA/g,"").replace(/\u00A0/g," ");try{Ue.splitTextToSize(ut,vt).forEach(at=>{ve>Qe-20&&(Ue.addPage(),ve=20);const It=_e(at);Ue.text(It,20,ve),ve+=6})}catch(it){console.warn("Satr eklenemedi:",lt.substring(0,50),it)}});const rt=ke.replace(/\s+/g,"-").replace(/[^a-zA-Z0-9-]/g,"");Ue.save(`gun-sonu-raporu-${rt}.pdf`)},Ne=async(Ee,ke="txt")=>{try{if(ke==="pdf"){const O=de(Ee.report_date);await xe(Ee.report_text||"",O,Ee.total_orders||0,Ee.total_amount||0),o("pdf",Ee)}else{const De="\uFEFF"+(Ee.report_text||""),Ue=new Blob([De],{type:"text/plain;charset=utf-8"}),$e=URL.createObjectURL(Ue),te=document.createElement("a");te.href=$e,te.download=`gun-sonu-raporu-${Ee.report_date}.txt`,document.body.appendChild(te),te.click(),document.body.removeChild(te),URL.revokeObjectURL($e),o(ke,Ee)}}catch(O){console.error("Download error:",O),s("Rapor indirilirken hata olutu",O.message)}};if(le)return _.jsx(Aa,{children:_.jsx($a,{message:"demeler ykleniyor..."})});if(W)return _.jsx(Aa,{children:_.jsx("div",{style:{background:"white",padding:"2rem",borderRadius:"8px",textAlign:"center",color:"#ef4444"},children:_.jsxs("p",{children:[" Hata: ",W]})})});const We=C.reduce((Ee,ke)=>Ee+parseFloat(ke.total_amount||0),0),Xe=U.reduce((Ee,ke)=>Ee+parseFloat(ke.total_amount||0),0);return _.jsx(Aa,{children:_.jsxs("div",{children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:f?"1.5rem":"2rem",flexWrap:"wrap",gap:"1rem"},children:[_.jsx("h1",{style:{margin:0,fontSize:f?"1.5rem":"2rem",color:"#1e293b"},children:" demeler"}),_.jsx("div",{style:{display:"flex",gap:"0.75rem",alignItems:"center",flexWrap:"wrap"},children:I&&_.jsxs("div",{style:{padding:"0.5rem 1rem",background:"linear-gradient(135deg, #0f172a 0%, #1e293b 100%)",borderRadius:"8px",color:"white",fontSize:f?"0.75rem":"0.875rem",fontWeight:"500",boxShadow:"0 2px 4px rgba(15, 23, 42, 0.3)",border:"1px solid #334155"},children:[" ",I]})})]}),_.jsxs("div",{style:{display:"grid",gridTemplateColumns:f?"1fr":"repeat(2, 1fr)",gap:"1rem",marginBottom:"2rem"},children:[_.jsxs("div",{style:{background:"white",padding:"1.5rem",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",borderLeft:"4px solid #f59e0b"},children:[_.jsx("p",{style:{margin:0,color:"#64748b",fontSize:"0.875rem"},children:"deme Yaplacak"}),_.jsxs("p",{style:{margin:"0.5rem 0 0 0",fontSize:"1.5rem",fontWeight:"bold",color:"#1e293b"},children:[C.length," sipari"]}),_.jsx("div",{style:{margin:"0.25rem 0 0 0"},children:_.jsx(Ur,{price:We,fontSize:"1.25rem",fontWeight:"600",color:"#f59e0b"})})]}),_.jsxs("div",{style:{background:"white",padding:"1.5rem",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",borderLeft:"4px solid #10b981"},children:[_.jsx("p",{style:{margin:0,color:"#64748b",fontSize:"0.875rem"},children:"dendi"}),_.jsxs("p",{style:{margin:"0.5rem 0 0 0",fontSize:"1.5rem",fontWeight:"bold",color:"#1e293b"},children:[U.length," sipari"]}),_.jsx("div",{style:{margin:"0.25rem 0 0 0"},children:_.jsx(Ur,{price:Xe,fontSize:"1.25rem",fontWeight:"600",color:"#10b981"})})]})]}),_.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1.5rem",borderBottom:"2px solid #e2e8f0"},children:[_.jsxs("button",{onClick:()=>d("pending"),style:{background:u==="pending"?"#f59e0b":"transparent",color:u==="pending"?"white":"#64748b",border:"none",padding:"0.75rem 1.5rem",fontSize:"1rem",fontWeight:"600",cursor:"pointer",borderBottom:u==="pending"?"3px solid #f59e0b":"3px solid transparent",transition:"all 0.2s"},children:[" deme Yaplacak (",C.length,")"]}),_.jsxs("button",{onClick:()=>d("paid"),style:{background:u==="paid"?"#10b981":"transparent",color:u==="paid"?"white":"#64748b",border:"none",padding:"0.75rem 1.5rem",fontSize:"1rem",fontWeight:"600",cursor:"pointer",borderBottom:u==="paid"?"3px solid #10b981":"3px solid transparent",transition:"all 0.2s"},children:[" dendi (",U.length,")"]}),_.jsx("button",{onClick:()=>d("history"),style:{background:u==="history"?"linear-gradient(135deg, #6366f1 0%, #312e81 100%)":"transparent",color:u==="history"?"white":"#64748b",border:"none",padding:"0.75rem 1.5rem",fontSize:"1rem",fontWeight:"600",cursor:"pointer",borderBottom:u==="history"?"3px solid #6366f1":"3px solid transparent",transition:"all 0.2s"},children:" Gemi Kaytlar"})]}),(u==="pending"||u==="paid")&&(se&&be?_.jsx($a,{message:"Sipariler ykleniyor..."}):Z.length===0?_.jsx("div",{style:{background:"white",padding:"3rem",borderRadius:"8px",textAlign:"center",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:_.jsx("p",{style:{color:"#64748b",fontSize:f?"1rem":"1.125rem"},children:u==="pending"?" Henz deme bekleyen sipari yok":" Henz denmi sipari yok"})}):_.jsx("div",{style:{display:"grid",gridTemplateColumns:f?"1fr":"repeat(auto-fill, minmax(350px, 1fr))",gap:f?"1rem":"1.5rem"},children:Z.map(Ee=>_.jsx(kT,{order:Ee,isMobile:f,formatDate:M,markAsPaid:V,isPaid:u==="paid"},Ee.id))})),u==="history"&&(S&&T?_.jsx($a,{message:"Gemi kaytlar ykleniyor..."}):g.length===0?_.jsx("div",{style:{background:"white",padding:"3rem",borderRadius:"8px",textAlign:"center",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:_.jsx("p",{style:{color:"#64748b",fontSize:f?"1rem":"1.125rem"},children:" Henz gemi kayt yok"})}):_.jsx("div",{style:{display:"grid",gridTemplateColumns:f?"1fr":"repeat(auto-fill, minmax(400px, 1fr))",gap:f?"1rem":"1.5rem"},children:g.map(Ee=>_.jsxs("div",{style:{padding:f?"1rem":"1.5rem",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",borderLeft:"4px solid #6366f1",background:"linear-gradient(135deg, #ffffff 0%, #faf5ff 100%)"},children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[_.jsxs("div",{children:[_.jsxs("h3",{style:{margin:0,fontSize:f?"1.125rem":"1.25rem",color:"#1e293b"},children:[" ",ee(Ee.report_date)]}),_.jsxs("p",{style:{margin:"0.5rem 0 0 0",color:"#64748b",fontSize:f?"0.75rem":"0.875rem"},children:[Ee.total_orders," sipari"]})]}),_.jsx("div",{style:{fontSize:f?"1.25rem":"1.5rem",fontWeight:"bold",display:"inline-block"},children:_.jsx(Ur,{price:parseFloat(Ee.total_amount),fontSize:f?"1.25rem":"1.5rem",fontWeight:"bold",color:"#6366f1",style:{background:"linear-gradient(135deg, #6366f1 0%, #312e81 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"}})})]}),_.jsxs("div",{style:{position:"relative",width:"100%"},"data-report-menu":!0,children:[_.jsxs("button",{onClick:ke=>{ke.stopPropagation(),L(N===Ee.id?null:Ee.id)},style:{width:"100%",background:"linear-gradient(135deg, #6366f1 0%, #312e81 100%)",color:"white",border:"none",borderRadius:"8px",padding:"0.75rem",fontSize:f?"0.875rem":"1rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},onMouseEnter:ke=>{ke.currentTarget.style.background="linear-gradient(135deg, #4f46e5 0%, #1e1b4b 100%)",ke.currentTarget.style.transform="translateY(-1px)",ke.currentTarget.style.boxShadow="0 4px 12px rgba(99, 102, 241, 0.4)"},onMouseLeave:ke=>{ke.currentTarget.style.background="linear-gradient(135deg, #6366f1 0%, #312e81 100%)",ke.currentTarget.style.transform="translateY(0)",ke.currentTarget.style.boxShadow="none"},children:[" Raporu ndir",_.jsx("span",{style:{fontSize:"0.75rem"},children:""})]}),N===Ee.id&&_.jsxs("div",{style:{position:"absolute",top:"100%",left:0,right:0,marginTop:"0.5rem",borderRadius:"8px",border:"2px solid #6366f1",background:"linear-gradient(135deg, #ffffff 0%, #faf5ff 100%)",boxShadow:"0 8px 16px rgba(99, 102, 241, 0.15), 0 2px 4px rgba(0,0,0,0.1)",zIndex:1e3,overflow:"hidden"},children:[_.jsx("button",{onClick:ke=>{ke.stopPropagation(),Ne(Ee,"pdf"),L(null)},style:{width:"100%",padding:"0.875rem 1rem",border:"none",background:"#ffffff",textAlign:"left",cursor:"pointer",fontSize:"0.875rem",color:"#1e293b",display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.2s",fontWeight:"500"},onMouseEnter:ke=>{ke.currentTarget.style.background="linear-gradient(135deg, #6366f1 0%, #312e81 100%)",ke.currentTarget.style.color="white"},onMouseLeave:ke=>{ke.currentTarget.style.background="#ffffff",ke.currentTarget.style.color="#1e293b"},children:" PDF Olarak ndir"}),_.jsx("div",{style:{height:"1px",background:"#e2e8f0",margin:"0.25rem 0"}}),_.jsx("button",{onClick:ke=>{ke.stopPropagation(),Ne(Ee,"txt"),L(null)},style:{width:"100%",padding:"0.875rem 1rem",border:"none",background:"#ffffff",textAlign:"left",cursor:"pointer",fontSize:"0.875rem",color:"#1e293b",display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.2s",fontWeight:"500"},onMouseEnter:ke=>{ke.currentTarget.style.background="linear-gradient(135deg, #6366f1 0%, #312e81 100%)",ke.currentTarget.style.color="white"},onMouseLeave:ke=>{ke.currentTarget.style.background="#ffffff",ke.currentTarget.style.color="#1e293b"},children:" TXT Olarak ndir"})]})]})]},Ee.id))}))]})})}function kT({order:t,isMobile:e,formatDate:n,markAsPaid:a,isPaid:o}){const[s,u]=j.useState(!1),d=t.order_items?.slice(0,3)||[],f=t.order_items?.slice(3)||[],h=f.length>0,g=()=>o?"#f5fef7":"#fffef7",w=()=>o?"#10b981":"#f59e0b",S=y=>{if(!y)return"";const T=new Date(y),E=String(T.getDate()).padStart(2,"0"),N=String(T.getMonth()+1).padStart(2,"0"),L=T.getFullYear(),I=String(T.getHours()).padStart(2,"0"),D=String(T.getMinutes()).padStart(2,"0");if(o)return`${E}/${N}/${L} ${I}.${D}`;const ce=new Date-T,he=Math.floor(ce/6e4),le=Math.floor(ce/36e5),W=Math.floor(ce/864e5);let P="";return he<1?P="az nce":he<60?P=`${he} dakika nce`:le<24?P=`${le} saat nce`:W<7?P=`${W} gn nce`:P="",`${E}/${N}/${L} ${I}.${D}${P?` (${P})`:""}`};return _.jsxs("div",{style:{background:g(),padding:e?"1rem":"1.5rem",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",borderLeft:`4px solid ${w()}`},children:[_.jsx("div",{style:{display:"flex",flexDirection:e?"column":"row",justifyContent:"space-between",alignItems:e?"flex-start":"center",marginBottom:"1rem",gap:e?"0.75rem":0},children:_.jsxs("div",{style:{flex:1},children:[_.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",flexWrap:"wrap"},children:_.jsxs("h3",{style:{margin:0,fontSize:e?"1.125rem":"1.25rem",color:"#1e293b"},children:[" Sipari #",t.id.slice(0,8)]})}),_.jsxs("p",{style:{margin:"0.5rem 0 0 0",color:"#64748b",fontSize:e?"0.75rem":"0.875rem"},children:[" ",S(t.completed_at||t.created_at)]}),t.table_number&&_.jsxs("div",{style:{marginTop:"0.5rem",display:"inline-block",padding:"0.25rem 0.75rem",background:"linear-gradient(135deg, #9333ea 0%, #7c3aed 100%)",color:"white",borderRadius:"6px",fontSize:e?"0.75rem":"0.8125rem",fontWeight:"600",boxShadow:"0 2px 6px rgba(147, 51, 234, 0.4)"},children:[" Masa ",t.table_number]}),_.jsxs("div",{style:{marginTop:"0.75rem"},children:[_.jsx("div",{style:{fontSize:e?"0.75rem":"0.8125rem",color:"#1e293b",marginBottom:"0.25rem",fontWeight:"600"},children:"Toplam:"}),_.jsx("div",{style:{fontSize:e?"2rem":"2.5rem",fontWeight:"800",letterSpacing:"0.5px",display:"inline-block",padding:"0.5rem 1rem",borderRadius:"8px",boxShadow:"0 4px 12px rgba(30, 41, 59, 0.25), 0 0 20px rgba(30, 41, 59, 0.15)",border:"2px solid rgba(30, 41, 59, 0.3)",background:"linear-gradient(135deg, rgba(30, 41, 59, 0.1) 0%, rgba(15, 23, 42, 0.05) 100%)"},children:_.jsx(Ur,{price:parseFloat(t.total_amount),fontSize:e?"2rem":"2.5rem",fontWeight:"800",color:"#1e293b",style:{textShadow:"0 2px 8px rgba(30, 41, 59, 0.3)"}})})]})]})}),t.order_items&&t.order_items.length>0&&_.jsxs("div",{style:{marginBottom:"1rem",padding:e?"1rem":"1.25rem",background:"#f8fafc",borderRadius:"8px",border:"1px solid #e2e8f0"},children:[d.map((y,T)=>_.jsxs("div",{style:{padding:T<d.length-1||h?"0.75rem 0":"0.75rem 0 0 0",borderBottom:T<d.length-1||h?"1px solid #cbd5e1":"none"},children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"1rem"},children:[_.jsxs("div",{style:{flex:1},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.25rem"},children:[_.jsxs("span",{style:{fontSize:e?"0.875rem":"0.9375rem",fontWeight:"600",color:"#64748b",minWidth:"1.5rem",textAlign:"center"},children:[y.quantity,""]}),_.jsx("span",{style:{fontSize:e?"0.875rem":"0.9375rem",fontWeight:"500",color:"#64748b",flex:1},children:y.product_name})]}),_.jsxs("div",{style:{marginLeft:e?"2rem":"2.25rem",fontSize:e?"0.6875rem":"0.75rem",color:"#94a3b8",display:"flex",alignItems:"center",gap:"0.25rem"},children:[_.jsx(Ur,{price:parseFloat(y.product_price),fontSize:e?"0.6875rem":"0.75rem",fontWeight:"400",color:"#94a3b8"}),_.jsxs("span",{children:[" ",y.quantity]})]})]}),_.jsx("div",{style:{textAlign:"right",minWidth:"5rem"},children:_.jsx(Ur,{price:parseFloat(y.subtotal),fontSize:e?"1rem":"1.125rem",fontWeight:"700",color:"#1e293b",style:{letterSpacing:"0.3px"}})})]}),y.notes&&_.jsx("div",{style:{marginTop:"0.5rem",padding:"0.375rem 0.75rem",background:"#fef3c7",borderRadius:"4px",borderLeft:"3px solid #f59e0b"},children:_.jsxs("p",{style:{margin:0,color:"#92400e",fontSize:e?"0.75rem":"0.8125rem",fontStyle:"italic",fontWeight:"500"},children:[" ",y.notes]})})]},y.id)),h&&_.jsxs(_.Fragment,{children:[!s&&_.jsxs("div",{style:{marginTop:"0.75rem"},children:[_.jsxs("button",{onClick:()=>u(!0),className:"pulse-button",style:{width:"100%",padding:"0.375rem 0.75rem",background:"#c7d2fe",color:"#1e293b",border:"2px solid #6366f1",borderRadius:"6px",cursor:"pointer",fontSize:e?"0.75rem":"0.8125rem",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.375rem",transition:"all 0.3s ease",boxShadow:"0 1px 3px rgba(99, 102, 241, 0.2)",position:"relative",overflow:"hidden",minHeight:"1.875rem",height:"1.875rem"},onMouseEnter:y=>{y.currentTarget.style.background="#6366f1",y.currentTarget.style.color="white",y.currentTarget.style.boxShadow="0 4px 12px rgba(99, 102, 241, 0.4)",y.currentTarget.style.transform="translateY(-1px)";const T=y.currentTarget.querySelector("span:first-child"),E=y.currentTarget.querySelector("span:last-child");T&&(T.style.color="white"),E&&(E.style.color="white")},onMouseLeave:y=>{y.currentTarget.style.background="#c7d2fe",y.currentTarget.style.color="#1e293b",y.currentTarget.style.boxShadow="0 1px 3px rgba(99, 102, 241, 0.2)",y.currentTarget.style.transform="translateY(0)";const T=y.currentTarget.querySelector("span:first-child"),E=y.currentTarget.querySelector("span:last-child");T&&(T.style.color="#1e293b"),E&&(E.style.color="#1e293b")},children:[_.jsx("span",{style:{fontSize:"1.125rem",transition:"all 0.3s ease",display:"inline-block",fontWeight:"bold",animation:"arrowPulse 1.5s ease-in-out infinite",color:"#1e293b"},children:""}),_.jsx("span",{style:{color:"#1e293b",transition:"color 0.3s ease"},children:`+ ${f.length} rn daha`})]}),_.jsx("style",{children:`
                    @keyframes arrowPulse {
                      0%, 100% {
                        opacity: 1;
                        transform: translateY(0) scale(1);
                      }
                      50% {
                        opacity: 0.6;
                        transform: translateY(4px) scale(1.1);
                      }
                    }
                    .pulse-button {
                      animation: backgroundPulse 2s ease-in-out infinite;
                    }
                    @keyframes backgroundPulse {
                      0%, 100% {
                        background-color: #c7d2fe;
                        border-color: #6366f1;
                      }
                      50% {
                        background-color: #a5b4fc;
                        border-color: #818cf8;
                        box-shadow: 0 2px 8px rgba(99, 102, 241, 0.3);
                      }
                    }
                  `})]}),s&&h&&_.jsxs("div",{style:{marginTop:"0.75rem",paddingTop:"0.75rem",borderTop:"2px solid #e2e8f0",animation:"slideDown 0.3s ease"},children:[f.map((y,T)=>_.jsxs("div",{style:{padding:T<f.length-1?"0.75rem 0":"0.75rem 0 0 0",borderBottom:T<f.length-1?"1px solid #cbd5e1":"none"},children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"1rem"},children:[_.jsxs("div",{style:{flex:1},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.25rem"},children:[_.jsxs("span",{style:{fontSize:e?"0.875rem":"0.9375rem",fontWeight:"600",color:"#64748b",minWidth:"1.5rem",textAlign:"center"},children:[y.quantity,""]}),_.jsx("span",{style:{fontSize:e?"0.875rem":"0.9375rem",fontWeight:"500",color:"#64748b",flex:1},children:y.product_name})]}),_.jsxs("div",{style:{marginLeft:e?"2rem":"2.25rem",fontSize:e?"0.6875rem":"0.75rem",color:"#94a3b8",display:"flex",alignItems:"center",gap:"0.25rem"},children:[_.jsx(Ur,{price:parseFloat(y.product_price),fontSize:e?"0.6875rem":"0.75rem",fontWeight:"400",color:"#94a3b8"}),_.jsxs("span",{children:[" ",y.quantity]})]})]}),_.jsx("div",{style:{textAlign:"right",minWidth:"5rem"},children:_.jsx(Ur,{price:parseFloat(y.subtotal),fontSize:e?"1rem":"1.125rem",fontWeight:"700",color:"#1e293b",style:{letterSpacing:"0.3px"}})})]}),y.notes&&_.jsx("div",{style:{marginTop:"0.5rem",padding:"0.375rem 0.75rem",background:"#fef3c7",borderRadius:"4px",borderLeft:"3px solid #f59e0b"},children:_.jsxs("p",{style:{margin:0,color:"#92400e",fontSize:e?"0.75rem":"0.8125rem",fontStyle:"italic",fontWeight:"500"},children:[" ",y.notes]})})]},y.id)),_.jsx("div",{style:{marginTop:"0.75rem",paddingTop:"0.75rem",borderTop:"1px solid #cbd5e1"},children:_.jsxs("button",{onClick:()=>u(!1),style:{width:"100%",padding:"0.375rem 0.75rem",background:"transparent",color:"#6366f1",border:"2px solid #6366f1",borderRadius:"6px",cursor:"pointer",fontSize:e?"0.75rem":"0.8125rem",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.375rem",transition:"all 0.3s ease",minHeight:"1.875rem",height:"1.875rem"},onMouseEnter:y=>{y.currentTarget.style.background="#6366f1",y.currentTarget.style.color="white"},onMouseLeave:y=>{y.currentTarget.style.background="transparent",y.currentTarget.style.color="#6366f1"},children:[_.jsx("span",{style:{fontSize:"0.875rem",transform:"rotate(180deg)",transition:"transform 0.2s ease",display:"inline-block"},children:""}),_.jsx("span",{children:"Daha Az Gster"})]})})]})]})]}),!o&&_.jsx("button",{onClick:()=>a(t.id,t.total_amount),style:{width:"100%",background:"#10b981",color:"white",border:"none",borderRadius:"8px",padding:"0.875rem",fontSize:e?"0.9375rem":"1rem",fontWeight:"600",cursor:"pointer",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",transition:"all 0.2s"},onMouseEnter:y=>{y.currentTarget.style.background="#059669",y.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:y=>{y.currentTarget.style.background="#10b981",y.currentTarget.style.transform="translateY(0)"},children:"deme Yapld"})]})}function _c({children:t}){const{user:e,loading:n}=qo();return n?_.jsx($a,{message:"Ykleniyor..."}):e?t:_.jsx(d_,{to:"/admin",replace:!0})}function NT({slug:t}){return _.jsx(I6,{slug:t})}function CT(){return _.jsx(I_,{basename:"/erzurumkafe",children:_.jsxs(h_,{children:[_.jsx(Xs,{path:"/admin",element:_.jsx(P6,{})}),_.jsx(Xs,{path:"/admin/dashboard",element:_.jsx(_c,{children:_.jsx(U6,{})})}),_.jsx(Xs,{path:"/admin/products",element:_.jsx(_c,{children:_.jsx(CA,{})})}),_.jsx(Xs,{path:"/admin/categories",element:_.jsx(_c,{children:_.jsx(NA,{})})}),_.jsx(Xs,{path:"/admin/settings",element:_.jsx(_c,{children:_.jsx(LA,{})})}),_.jsx(Xs,{path:"/admin/orders",element:_.jsx(_c,{children:_.jsx(RA,{})})}),_.jsx(Xs,{path:"/admin/payments",element:_.jsx(_c,{children:_.jsx(TT,{})})}),_.jsx(Xs,{path:"/",element:_.jsx(R6,{})}),_.jsx(Xs,{path:"/:table",element:_.jsx(NT,{slug:"erzurumkafe"})})]})})}function LT(){return _.jsx(D6,{children:_.jsx(C6,{children:_.jsx(CT,{})})})}Tx.createRoot(document.getElementById("root")).render(_.jsx(j.StrictMode,{children:_.jsxs(M6,{children:[_.jsx(LT,{}),_.jsx(p3,{position:"top-right",reverseOrder:!0,toastOptions:{duration:4e3,closeButton:!1,style:{borderRadius:"8px",padding:"12px 16px",fontSize:"14px",fontWeight:"500",maxWidth:"400px",whiteSpace:"pre-line",position:"relative"}},containerStyle:{position:"fixed",top:"20px",right:"20px",zIndex:9999}})]})}));export{Cn as _,RT as c,yx as g};
